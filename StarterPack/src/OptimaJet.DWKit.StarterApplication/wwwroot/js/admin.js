!function(n){var r={};function o(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}o.m=n,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=154)}([function(e,t,n){var h=n(2),m=n(19),y=n(12),g=n(13),b=n(20),v="prototype",V=function(e,t,n){var r,o,a,i=e&V.F,l=e&V.G,s=e&V.S,c=e&V.P,u=e&V.B,p=l?h:s?h[t]||(h[t]={}):(h[t]||{})[v],f=l?m:m[t]||(m[t]={}),d=f[v]||(f[v]={});for(r in n=l?t:n)o=((a=!i&&p&&void 0!==p[r])?p:n)[r],a=u&&a?b(o,h):c&&"function"==typeof o?b(Function.call,o):o,p&&g(p,r,o,e&V.U),f[r]!=o&&y(f,r,a),c&&d[r]!=o&&(d[r]=o)};h.core=m,V.F=1,V.G=2,V.S=4,V.P=8,V.B=16,V.W=32,V.U=64,V.R=128,e.exports=V},function(e,t,n){var r=n(4);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t){e=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){var r=n(48)("wks"),o=n(34),a=n(2).Symbol,i="function"==typeof a;(e.exports=function(e){return r[e]||(r[e]=i&&a[e]||(i?a:o)("Symbol."+e))}).store=r},function(e,t,n){var r=n(22),o=Math.min;e.exports=function(e){return 0<e?o(r(e),9007199254740991):0}},function(e,t){e.exports=vendor_d6569809059efb5d834a},function(e,t,n){e.exports=!n(3)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(1),o=n(97),a=n(24),i=Object.defineProperty;t.f=n(8)?Object.defineProperty:function(e,t,n){if(r(e),t=a(t,!0),r(n),o)try{return i(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r=n(25);e.exports=function(e){return Object(r(e))}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){var r=n(9),o=n(33);e.exports=n(8)?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var a=n(2),i=n(12),l=n(15),s=n(34)("src"),r=n(158),o="toString",c=(""+r).split(o);n(19).inspectSource=function(e){return r.call(e)},(e.exports=function(e,t,n,r){var o="function"==typeof n;o&&(l(n,"name")||i(n,"name",t)),e[t]!==n&&(o&&(l(n,s)||i(n,s,e[t]?""+e[t]:c.join(String(t)))),e===a?e[t]=n:r?e[t]?e[t]=n:i(e,t,n):(delete e[t],i(e,t,n)))})(Function.prototype,o,function(){return"function"==typeof this&&this[s]||r.call(this)})},function(e,t,n){function r(e,t,n,r){var o=String(i(e)),e="<"+t;return""!==n&&(e+=" "+n+'="'+String(r).replace(l,"&quot;")+'"'),e+">"+o+"</"+t+">"}var o=n(0),a=n(3),i=n(25),l=/"/g;e.exports=function(t,e){var n={};n[t]=e(r),o(o.P+o.F*a(function(){var e=""[t]('"');return e!==e.toLowerCase()||3<e.split('"').length}),"String",n)}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var r=n(49),o=n(25);e.exports=function(e){return r(o(e))}},function(e,t,n){var r=n(50),o=n(33),a=n(16),i=n(24),l=n(15),s=n(97),c=Object.getOwnPropertyDescriptor;t.f=n(8)?c:function(e,t){if(e=a(e),t=i(t,!0),s)try{return c(e,t)}catch(e){}if(l(e,t))return o(!r.f.call(e,t),e[t])}},function(e,t,n){var r=n(15),o=n(10),a=n(71)("IE_PROTO"),i=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=o(e),r(e,a)?e[a]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?i:null}},function(e,t){e=e.exports={version:"2.6.12"};"number"==typeof __e&&(__e=e)},function(e,t,n){var a=n(11);e.exports=function(r,o,e){if(a(r),void 0===o)return r;switch(e){case 1:return function(e){return r.call(o,e)};case 2:return function(e,t){return r.call(o,e,t)};case 3:return function(e,t,n){return r.call(o,e,t,n)}}return function(){return r.apply(o,arguments)}}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(0<e?r:n)(e)}},function(e,t,n){"use strict";var r=n(3);e.exports=function(e,t){return!!e&&r(function(){t?e.call(null,function(){},1):e.call(null)})}},function(e,t,n){var o=n(4);e.exports=function(e,t){if(!o(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!o(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!o(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!o(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var o=n(0),a=n(19),i=n(3);e.exports=function(e,t){var n=(a.Object||{})[e]||Object[e],r={};r[e]=t(n),o(o.S+o.F*i(function(){n(1)}),"Object",r)}},function(e,t,n){var v=n(20),V=n(49),w=n(10),E=n(6),r=n(87);e.exports=function(p,e){var f=1==p,d=2==p,h=3==p,m=4==p,y=6==p,g=5==p||y,b=e||r;return function(e,t,n){for(var r,o,a=w(e),i=V(a),l=v(t,n,3),s=E(i.length),c=0,u=f?b(e,s):d?b(e,0):void 0;c<s;c++)if((g||c in i)&&(o=l(r=i[c],c,a),p))if(f)u[c]=o;else if(o)switch(p){case 3:return!0;case 5:return r;case 6:return c;case 2:u.push(r)}else if(m)return!1;return y?-1:h||m?m:u}}},function(e,t,n){"use strict";var d,h,m,y,g,r,p,b,o,v,a,i,V,w,l,s,c,E,_,f,k,C,O,S,A,u,x,P,D,L,j,R,F,T,N,M,I,B,W,U,K,z,G,q,H,Y,J,Q,$,X,Z,ee,te,ne,re,oe,ae,ie,le,se,ce,ue,pe,fe,de,he,me,ye,ge,be,ve,Ve,we,Ee,_e,ke,Ce,Oe,Se,Ae,xe,Pe,De,Le,je,Re,Fe,Te,Ne,Me,Ie,Be,We;n(8)?(d=n(30),h=n(2),m=n(3),y=n(0),g=n(64),r=n(95),p=n(20),b=n(40),o=n(33),v=n(12),a=n(42),i=n(22),V=n(6),w=n(125),l=n(36),s=n(24),c=n(15),E=n(45),_=n(4),f=n(10),k=n(84),C=n(37),O=n(18),S=n(38).f,A=n(86),Ie=n(34),xe=n(5),Be=n(27),u=n(54),x=n(52),P=n(89),D=n(47),L=n(59),j=n(39),R=n(88),F=n(114),T=n(9),N=n(17),M=T.f,I=N.f,B=h.RangeError,W=h.TypeError,U=h.Uint8Array,z="Shared"+(K="ArrayBuffer"),G="BYTES_PER_ELEMENT",q="prototype",n=Array[q],H=r.ArrayBuffer,Y=r.DataView,J=Be(0),Q=Be(2),$=Be(3),X=Be(4),Z=Be(5),ee=Be(6),te=u(!0),ne=u(!1),re=P.values,oe=P.keys,ae=P.entries,ie=n.lastIndexOf,le=n.reduce,se=n.reduceRight,ce=n.join,ue=n.sort,pe=n.slice,fe=n.toString,de=n.toLocaleString,he=xe("iterator"),me=xe("toStringTag"),ye=Ie("typed_constructor"),ge=Ie("def_constructor"),n=g.CONSTR,be=g.TYPED,ve=g.VIEW,Ve="Wrong length!",we=Be(1,function(e,t){return Oe(x(e,e[ge]),t)}),Ee=m(function(){return 1===new U(new Uint16Array([1]).buffer)[0]}),_e=!!U&&!!U[q].set&&m(function(){new U(1).set({})}),ke=function(e,t){e=i(e);if(e<0||e%t)throw B("Wrong offset!");return e},Ce=function(e){if(_(e)&&be in e)return e;throw W(e+" is not a typed array!")},Oe=function(e,t){if(!(_(e)&&ye in e))throw W("It is not a typed array constructor!");return new e(t)},Se=function(e,t){return Ae(x(e,e[ge]),t)},Ae=function(e,t){for(var n=0,r=t.length,o=Oe(e,r);n<r;)o[n]=t[n++];return o},xe=function(e,t,n){M(e,t,{get:function(){return this._d[n]}})},Pe=function(e){var t,n,r,o,a,i,l=f(e),s=arguments.length,c=1<s?arguments[1]:void 0,u=void 0!==c,e=A(l);if(null!=e&&!k(e)){for(i=e.call(l),r=[],t=0;!(a=i.next()).done;t++)r.push(a.value);l=r}for(u&&2<s&&(c=p(c,arguments[2],2)),t=0,n=V(l.length),o=Oe(this,n);t<n;t++)o[t]=u?c(l[t],t):l[t];return o},De=function(){for(var e=0,t=arguments.length,n=Oe(this,t);e<t;)n[e]=arguments[e++];return n},Le=!!U&&m(function(){de.call(new U(1))}),je=function(){return de.apply(Le?pe.call(Ce(this)):Ce(this),arguments)},Re={copyWithin:function(e,t){return F.call(Ce(this),e,t,2<arguments.length?arguments[2]:void 0)},every:function(e){return X(Ce(this),e,1<arguments.length?arguments[1]:void 0)},fill:function(e){return R.apply(Ce(this),arguments)},filter:function(e){return Se(this,Q(Ce(this),e,1<arguments.length?arguments[1]:void 0))},find:function(e){return Z(Ce(this),e,1<arguments.length?arguments[1]:void 0)},findIndex:function(e){return ee(Ce(this),e,1<arguments.length?arguments[1]:void 0)},forEach:function(e){J(Ce(this),e,1<arguments.length?arguments[1]:void 0)},indexOf:function(e){return ne(Ce(this),e,1<arguments.length?arguments[1]:void 0)},includes:function(e){return te(Ce(this),e,1<arguments.length?arguments[1]:void 0)},join:function(e){return ce.apply(Ce(this),arguments)},lastIndexOf:function(e){return ie.apply(Ce(this),arguments)},map:function(e){return we(Ce(this),e,1<arguments.length?arguments[1]:void 0)},reduce:function(e){return le.apply(Ce(this),arguments)},reduceRight:function(e){return se.apply(Ce(this),arguments)},reverse:function(){for(var e,t=this,n=Ce(t).length,r=Math.floor(n/2),o=0;o<r;)e=t[o],t[o++]=t[--n],t[n]=e;return t},some:function(e){return $(Ce(this),e,1<arguments.length?arguments[1]:void 0)},sort:function(e){return ue.call(Ce(this),e)},subarray:function(e,t){var n=Ce(this),r=n.length,e=l(e,r);return new(x(n,n[ge]))(n.buffer,n.byteOffset+e*n.BYTES_PER_ELEMENT,V((void 0===t?r:l(t,r))-e))}},Fe=function(e,t){return Se(this,pe.call(Ce(this),e,t))},Te=function(e){Ce(this);var t=ke(arguments[1],1),n=this.length,r=f(e),o=V(r.length),a=0;if(n<o+t)throw B(Ve);for(;a<o;)this[t+a]=r[a++]},Ne={entries:function(){return ae.call(Ce(this))},keys:function(){return oe.call(Ce(this))},values:function(){return re.call(Ce(this))}},Me=function(e,t){return _(e)&&e[be]&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},Ie=function(e,t){return Me(e,t=s(t,!0))?o(2,e[t]):I(e,t)},Be=function(e,t,n){return!(Me(e,t=s(t,!0))&&_(n)&&c(n,"value"))||c(n,"get")||c(n,"set")||n.configurable||c(n,"writable")&&!n.writable||c(n,"enumerable")&&!n.enumerable?M(e,t,n):(e[t]=n.value,e)},n||(N.f=Ie,T.f=Be),y(y.S+y.F*!n,"Object",{getOwnPropertyDescriptor:Ie,defineProperty:Be}),m(function(){fe.call({})})&&(fe=de=function(){return ce.call(this)}),We=a({},Re),a(We,Ne),v(We,he,Ne.values),a(We,{slice:Fe,set:Te,constructor:function(){},toString:fe,toLocaleString:je}),xe(We,"buffer","b"),xe(We,"byteOffset","o"),xe(We,"byteLength","l"),xe(We,"length","e"),M(We,me,{get:function(){return this[be]}}),e.exports=function(e,c,t,r){function u(e,t){M(e,t,{get:function(){return function(e,t){e=e._d;return e.v[n](t*c+e.o,Ee)}(this,t)},set:function(e){return function(e,t,n){e=e._d;r&&(n=(n=Math.round(n))<0?0:255<n?255:255&n),e.v[o](t*c+e.o,n,Ee)}(this,t,e)},enumerable:!0})}var p=e+((r=!!r)?"Clamped":"")+"Array",n="get"+e,o="set"+e,f=h[p],a=f||{},i=f&&O(f),l=!f||!g.ABV,e={},s=f&&f[q];l?(f=t(function(e,t,n,r){b(e,f,p,"_d");var o,a,i=0,l=0;if(_(t)){if(!(t instanceof H||(s=E(t))==K||s==z))return be in t?Ae(f,t):Pe.call(f,t);var s=t,l=ke(n,c),n=t.byteLength;if(void 0===r){if(n%c)throw B(Ve);if((o=n-l)<0)throw B(Ve)}else if(n<(o=V(r)*c)+l)throw B(Ve);a=o/c}else a=w(t),s=new H(o=a*c);for(v(e,"_d",{b:s,o:l,l:o,e:a,v:new Y(s)});i<a;)u(e,i++)}),s=f[q]=C(We),v(s,"constructor",f)):m(function(){f(1)})&&m(function(){new f(-1)})&&L(function(e){new f,new f(null),new f(1.5),new f(e)},!0)||(f=t(function(e,t,n,r){var o;return b(e,f,p),_(t)?t instanceof H||(o=E(t))==K||o==z?void 0!==r?new a(t,ke(n,c),r):void 0!==n?new a(t,ke(n,c)):new a(t):be in t?Ae(f,t):Pe.call(f,t):new a(w(t))}),J(i!==Function.prototype?S(a).concat(S(i)):S(a),function(e){e in f||v(f,e,a[e])}),f[q]=s,d||(s.constructor=f));l=s[he],t=!!l&&("values"==l.name||null==l.name),i=Ne.values;v(f,ye,!0),v(s,be,p),v(s,ve,!0),v(s,ge,f),(r?new f(1)[me]==p:me in s)||M(s,me,{get:function(){return p}}),e[p]=f,y(y.G+y.W+y.F*(f!=a),e),y(y.S,p,{BYTES_PER_ELEMENT:c}),y(y.S+y.F*m(function(){a.of.call(f,1)}),p,{from:Pe,of:De}),G in s||v(s,G,c),y(y.P,p,Re),j(p),y(y.P+y.F*_e,p,{set:Te}),y(y.P+y.F*!t,p,Ne),d||s.toString==fe||(s.toString=fe),y(y.P+y.F*m(function(){new f(1).slice()}),p,{slice:Fe}),y(y.P+y.F*(m(function(){return[1,2].toLocaleString()!=new f([1,2]).toLocaleString()})||!m(function(){s.toLocaleString.call([1,2])})),p,{toLocaleString:je}),D[p]=t?l:i,d||t||v(s,he,i)}):e.exports=function(){}},function(e,t,n){function o(e,t,n){var r=l.get(e);if(!r){if(!n)return;l.set(e,r=new a)}if(!(e=r.get(t))){if(!n)return;r.set(t,e=new a)}return e}var a=n(120),r=n(0),i=n(48)("metadata"),l=i.store||(i.store=new(n(123)));e.exports={store:l,map:o,has:function(e,t,n){n=o(t,n,!1);return void 0!==n&&n.has(e)},get:function(e,t,n){n=o(t,n,!1);return void 0===n?void 0:n.get(e)},set:function(e,t,n,r){o(n,r,!0).set(e,t)},keys:function(e,t){var t=o(e,t,!1),n=[];return t&&t.forEach(function(e,t){n.push(t)}),n},key:function(e){return void 0===e||"symbol"==typeof e?e:String(e)},exp:function(e){r(r.S,"Reflect",e)}}},function(e,t){e.exports=!1},function(e,t,n){function r(e){l(e,o,{value:{i:"O"+ ++s,w:{}}})}var o=n(34)("meta"),a=n(4),i=n(15),l=n(9).f,s=0,c=Object.isExtensible||function(){return!0},u=!n(3)(function(){return c(Object.preventExtensions({}))}),p=e.exports={KEY:o,NEED:!1,fastKey:function(e,t){if(!a(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!i(e,o)){if(!c(e))return"F";if(!t)return"E";r(e)}return e[o].i},getWeak:function(e,t){if(!i(e,o)){if(!c(e))return!0;if(!t)return!1;r(e)}return e[o].w},onFreeze:function(e){return u&&p.NEED&&c(e)&&!i(e,o)&&r(e),e}}},function(e,t,n){var r=n(5)("unscopables"),o=Array.prototype;null==o[r]&&n(12)(o,r,{}),e.exports=function(e){o[r][e]=!0}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t,n){var r=n(99),o=n(72);e.exports=Object.keys||function(e){return r(e,o)}},function(e,t,n){var r=n(22),o=Math.max,a=Math.min;e.exports=function(e,t){return(e=r(e))<0?o(e+t,0):a(e,t)}},function(e,t,n){function r(){}var o=n(1),a=n(100),i=n(72),l=n(71)("IE_PROTO"),s="prototype",c=function(){var e=n(69)("iframe"),t=i.length;for(e.style.display="none",n(73).appendChild(e),e.src="javascript:",(e=e.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),c=e.F;t--;)delete c[s][i[t]];return c()};e.exports=Object.create||function(e,t){var n;return null!==e?(r[s]=o(e),n=new r,r[s]=null,n[l]=e):n=c(),void 0===t?n:a(n,t)}},function(e,t,n){var r=n(99),o=n(72).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},function(e,t,n){"use strict";var r=n(2),o=n(9),a=n(8),i=n(5)("species");e.exports=function(e){e=r[e];a&&e&&!e[i]&&o.f(e,i,{configurable:!0,get:function(){return this}})}},function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){var p=n(20),f=n(112),d=n(84),h=n(1),m=n(6),y=n(86),g={},b={};(t=e.exports=function(e,t,n,r,o){var a,i,l,s,o=o?function(){return e}:y(e),c=p(n,r,t?2:1),u=0;if("function"!=typeof o)throw TypeError(e+" is not iterable!");if(d(o)){for(a=m(e.length);u<a;u++)if((s=t?c(h(i=e[u])[0],i[1]):c(e[u]))===g||s===b)return s}else for(l=o.call(e);!(i=l.next()).done;)if((s=f(l,c,i.value,t))===g||s===b)return s}).BREAK=g,t.RETURN=b},function(e,t,n){var o=n(13);e.exports=function(e,t,n){for(var r in t)o(e,r,t[r],n);return e}},function(e,t,n){var r=n(4);e.exports=function(e,t){if(!r(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},function(e,t,n){var r=n(9).f,o=n(15),a=n(5)("toStringTag");e.exports=function(e,t,n){e&&!o(e=n?e:e.prototype,a)&&r(e,a,{configurable:!0,value:t})}},function(e,t,n){var r=n(21),o=n(5)("toStringTag"),a="Arguments"==r(function(){return arguments}());e.exports=function(e){var t;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(e=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),o))?e:a?r(t):"Object"==(e=r(t))&&"function"==typeof t.callee?"Arguments":e}},function(e,t,n){var a=n(0),r=n(25),i=n(3),l=n(75),n="["+l+"]",o=RegExp("^"+n+n+"*"),s=RegExp(n+n+"*$"),n=function(e,t,n){var r={},o=i(function(){return!!l[e]()||"​"!="​"[e]()}),t=r[e]=o?t(c):l[e];n&&(r[n]=t),a(a.P+a.F*o,"String",r)},c=n.trim=function(e,t){return e=String(r(e)),1&t&&(e=e.replace(o,"")),e=2&t?e.replace(s,""):e};e.exports=n},function(e,t){e.exports={}},function(e,t,n){var r=n(19),o=n(2),a="__core-js_shared__",i=o[a]||(o[a]={});(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(30)?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},function(e,t,n){var r=n(21);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){"use strict";var r=n(1);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,n){var r=n(1),o=n(11),a=n(5)("species");e.exports=function(e,t){var n,e=r(e).constructor;return void 0===e||null==(n=r(e)[a])?t:o(n)}},function(e,t,n){e.exports=n(7)(0)},function(e,t,n){var s=n(16),c=n(6),u=n(36);e.exports=function(l){return function(e,t,n){var r,o=s(e),a=c(o.length),i=u(n,a);if(l&&t!=t){for(;i<a;)if((r=o[i++])!=r)return!0}else for(;i<a;i++)if((l||i in o)&&o[i]===t)return l||i||0;return!l&&-1}}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var r=n(21);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var i=n(22),l=n(25);e.exports=function(a){return function(e,t){var n,r=String(l(e)),o=i(t),e=r.length;return o<0||e<=o?a?"":void 0:(t=r.charCodeAt(o))<55296||56319<t||o+1===e||(n=r.charCodeAt(o+1))<56320||57343<n?a?r.charAt(o):t:a?r.slice(o,o+2):n-56320+(t-55296<<10)+65536}}},function(e,t,n){var r=n(4),o=n(21),a=n(5)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[a])?!!t:"RegExp"==o(e))}},function(e,t,n){var a=n(5)("iterator"),i=!1;try{var r=[7][a]();r.return=function(){i=!0},Array.from(r,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var r=[7],o=r[a]();o.next=function(){return{done:n=!0}},r[a]=function(){return o},e(r)}catch(e){}return n}},function(e,t,n){"use strict";var r=n(45),o=RegExp.prototype.exec;e.exports=function(e,t){var n=e.exec;if("function"==typeof n){n=n.call(e,t);if("object"!=typeof n)throw new TypeError("RegExp exec method returned something other than an Object or null");return n}if("RegExp"!==r(e))throw new TypeError("RegExp#exec called on incompatible receiver");return o.call(e,t)}},function(e,t,n){"use strict";n(116);var s=n(13),c=n(12),u=n(3),p=n(25),f=n(5),d=n(90),h=f("species"),m=!u(function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}),y=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};e="ab".split(e);return 2===e.length&&"a"===e[0]&&"b"===e[1]}();e.exports=function(n,e,t){var a,r,o=f(n),i=!u(function(){var e={};return e[o]=function(){return 7},7!=""[n](e)}),l=i?!u(function(){var e=!1,t=/a/;return t.exec=function(){return e=!0,null},"split"===n&&(t.constructor={},t.constructor[h]=function(){return t}),t[o](""),!e}):void 0;i&&l&&("replace"!==n||m)&&("split"!==n||y)||(a=/./[o],t=(l=t(p,o,""[n],function(e,t,n,r,o){return t.exec===d?i&&!o?{done:!0,value:a.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}}))[0],r=l[1],s(String.prototype,n,t),c(RegExp.prototype,o,2==e?function(e,t){return r.call(e,this,t)}:function(e){return r.call(e,this)}))}},function(e,t,n){n=n(2).navigator;e.exports=n&&n.userAgent||""},function(e,t,n){"use strict";var g=n(2),b=n(0),v=n(13),V=n(42),w=n(31),E=n(41),_=n(40),k=n(4),C=n(3),O=n(59),S=n(44),A=n(76);e.exports=function(n,e,t,r,o,a){function i(e){var n=m[e];v(m,e,"delete"==e?function(e){return!(a&&!k(e))&&n.call(this,0===e?0:e)}:"has"==e?function(e){return!(a&&!k(e))&&n.call(this,0===e?0:e)}:"get"==e?function(e){return a&&!k(e)?void 0:n.call(this,0===e?0:e)}:"add"==e?function(e){return n.call(this,0===e?0:e),this}:function(e,t){return n.call(this,0===e?0:e,t),this})}var l,s,c,u,p,f=g[n],d=f,h=o?"set":"add",m=d&&d.prototype,y={};return"function"==typeof d&&(a||m.forEach&&!C(function(){(new d).entries().next()}))?(s=(l=new d)[h](a?{}:-0,1)!=l,c=C(function(){l.has(1)}),u=O(function(e){new d(e)}),p=!a&&C(function(){for(var e=new d,t=5;t--;)e[h](t,t);return!e.has(-0)}),u||(((d=e(function(e,t){_(e,d,n);e=A(new f,e,d);return null!=t&&E(t,o,e[h],e),e})).prototype=m).constructor=d),(c||p)&&(i("delete"),i("has"),o&&i("get")),(p||s)&&i(h),a&&m.clear&&delete m.clear):(d=r.getConstructor(e,n,o,h),V(d.prototype,t),w.NEED=!0),S(d,n),y[n]=d,b(b.G+b.W+b.F*(d!=f),y),a||r.setStrong(d,n,o),d}},function(e,t,n){for(var r,o=n(2),a=n(12),n=n(34),i=n("typed_array"),l=n("view"),n=!(!o.ArrayBuffer||!o.DataView),s=n,c=0,u="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");c<9;)(r=o[u[c++]])?(a(r.prototype,i,!0),a(r.prototype,l,!0)):s=!1;e.exports={ABV:n,CONSTR:s,TYPED:i,VIEW:l}},function(e,t,n){"use strict";e.exports=n(30)||!n(3)(function(){var e=Math.random();__defineSetter__.call(null,e,function(){}),delete n(2)[e]})},function(e,t,n){"use strict";var r=n(0);e.exports=function(e){r(r.S,e,{of:function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];return new this(t)}})}},function(e,t,n){"use strict";var r=n(0),i=n(11),l=n(20),s=n(41);e.exports=function(e){r(r.S,e,{from:function(e){var t,n,r,o,a=arguments[1];return i(this),(t=void 0!==a)&&i(a),null==e?new this:(n=[],t?(r=0,o=l(a,arguments[2],2),s(e,!1,function(e){n.push(o(e,r++))})):s(e,!1,n.push,n),new this(n))}})}},function(e,t,n){e.exports=n(7)(35)},function(e,t,n){var r=n(4),o=n(2).document,a=r(o)&&r(o.createElement);e.exports=function(e){return a?o.createElement(e):{}}},function(e,t,n){var r=n(2),o=n(19),a=n(30),i=n(98),l=n(9).f;e.exports=function(e){var t=o.Symbol||(o.Symbol=!a&&r.Symbol||{});"_"==e.charAt(0)||e in t||l(t,e,{value:i.f(e)})}},function(e,t,n){var r=n(48)("keys"),o=n(34);e.exports=function(e){return r[e]||(r[e]=o(e))}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){n=n(2).document;e.exports=n&&n.documentElement},function(e,t,o){function a(e,t){if(r(e),!n(t)&&null!==t)throw TypeError(t+": can't set as prototype!")}var n=o(4),r=o(1);e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,n,r){try{(r=o(20)(Function.call,o(17).f(Object.prototype,"__proto__").set,2))(e,[]),n=!(e instanceof Array)}catch(e){n=!0}return function(e,t){return a(e,t),n?e.__proto__=t:r(e,t),e}}({},!1):void 0),check:a}},function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(e,t,n){var o=n(4),a=n(74).set;e.exports=function(e,t,n){var r,t=t.constructor;return t!==n&&"function"==typeof t&&(r=t.prototype)!==n.prototype&&o(r)&&a&&a(e,r),e}},function(e,t,n){"use strict";var o=n(22),a=n(25);e.exports=function(e){var t=String(a(this)),n="",r=o(e);if(r<0||r==1/0)throw RangeError("Count can't be negative");for(;0<r;(r>>>=1)&&(t+=t))1&r&&(n+=t);return n}},function(e,t){e.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},function(e,t){var n=Math.expm1;e.exports=!n||22025.465794806718<n(10)||n(10)<22025.465794806718||-2e-17!=n(-2e-17)?function(e){return 0==(e=+e)?e:-1e-6<e&&e<1e-6?e+e*e/2:Math.exp(e)-1}:n},function(e,t,n){"use strict";function b(){return this}var v=n(30),V=n(0),w=n(13),E=n(12),_=n(47),k=n(81),C=n(44),O=n(18),S=n(5)("iterator"),A=!([].keys&&"next"in[].keys()),x="values";e.exports=function(e,t,n,r,o,a,i){k(n,t,r);function l(e){if(!A&&e in h)return h[e];switch(e){case"keys":case x:return function(){return new n(this,e)}}return function(){return new n(this,e)}}var s,c,u,p=t+" Iterator",f=o==x,d=!1,h=e.prototype,m=h[S]||h["@@iterator"]||o&&h[o],y=m||l(o),g=o?f?l("entries"):y:void 0,r="Array"==t&&h.entries||m;if(r&&(u=O(r.call(new e)))!==Object.prototype&&u.next&&(C(u,p,!0),v||"function"==typeof u[S]||E(u,S,b)),f&&m&&m.name!==x&&(d=!0,y=function(){return m.call(this)}),v&&!i||!A&&!d&&h[S]||E(h,S,y),_[t]=y,_[p]=b,o)if(s={values:f?y:l(x),keys:a?y:l("keys"),entries:g},i)for(c in s)c in h||w(h,c,s[c]);else V(V.P+V.F*(A||d),t,s);return s}},function(e,t,n){"use strict";var r=n(37),o=n(33),a=n(44),i={};n(12)(i,n(5)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=r(i,{next:o(1,n)}),a(e,t+" Iterator")}},function(e,t,n){var r=n(58),o=n(25);e.exports=function(e,t,n){if(r(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(o(e))}},function(e,t,n){var r=n(5)("match");e.exports=function(t){var n=/./;try{"/./"[t](n)}catch(e){try{return n[r]=!1,!"/./"[t](n)}catch(e){}}return!0}},function(e,t,n){var r=n(47),o=n(5)("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||a[o]===e)}},function(e,t,n){"use strict";var r=n(9),o=n(33);e.exports=function(e,t,n){t in e?r.f(e,t,o(0,n)):e[t]=n}},function(e,t,n){var r=n(45),o=n(5)("iterator"),a=n(47);e.exports=n(19).getIteratorMethod=function(e){if(null!=e)return e[o]||e["@@iterator"]||a[r(e)]}},function(e,t,n){var r=n(247);e.exports=function(e,t){return new(r(e))(t)}},function(e,t,n){"use strict";var i=n(10),l=n(36),s=n(6);e.exports=function(e){for(var t=i(this),n=s(t.length),r=arguments.length,o=l(1<r?arguments[1]:void 0,n),r=2<r?arguments[2]:void 0,a=void 0===r?n:l(r,n);o<a;)t[o++]=e;return t}},function(e,t,n){"use strict";var r=n(32),o=n(115),a=n(47),i=n(16);e.exports=n(80)(Array,"Array",function(e,t){this._t=i(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,o(1)):o(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])},"values"),a.Arguments=a.Array,r("keys"),r("values"),r("entries")},function(e,t,n){"use strict";var r,i=n(51),l=RegExp.prototype.exec,s=String.prototype.replace,o=l,c="lastIndex",u=(r=/a/,n=/b*/g,l.call(r,"a"),l.call(n,"a"),0!==r[c]||0!==n[c]),p=void 0!==/()??/.exec("")[1];e.exports=o=u||p?function(e){var t,n,r,o,a=this;return p&&(n=new RegExp("^"+a.source+"$(?!\\s)",i.call(a))),u&&(t=a[c]),r=l.call(a,e),u&&r&&(a[c]=a.global?r.index+r[0].length:t),p&&r&&1<r.length&&s.call(r[0],n,function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(r[o]=void 0)}),r}:o},function(e,t,n){"use strict";var r=n(57)(!0);e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},function(e,t,n){function r(){var e,t=+this;g.hasOwnProperty(t)&&(e=g[t],delete g[t],e())}function o(e){r.call(e.data)}var a,i=n(20),l=n(105),s=n(73),c=n(69),u=n(2),p=u.process,f=u.setImmediate,d=u.clearImmediate,h=u.MessageChannel,m=u.Dispatch,y=0,g={},b="onreadystatechange";f&&d||(f=function(e){for(var t=[],n=1;n<arguments.length;)t.push(arguments[n++]);return g[++y]=function(){l("function"==typeof e?e:Function(e),t)},a(y),y},d=function(e){delete g[e]},"process"==n(21)(p)?a=function(e){p.nextTick(i(r,e,1))}:m&&m.now?a=function(e){m.now(i(r,e,1))}:h?(h=(n=new h).port2,n.port1.onmessage=o,a=i(h.postMessage,h,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts?(a=function(e){u.postMessage(e+"","*")},u.addEventListener("message",o,!1)):a=b in c("script")?function(e){s.appendChild(c("script"))[b]=function(){s.removeChild(this),r.call(e)}}:function(e){setTimeout(i(r,e,1),0)}),e.exports={set:f,clear:d}},function(e,t,n){var l=n(2),s=n(92).set,c=l.MutationObserver||l.WebKitMutationObserver,u=l.process,p=l.Promise,f="process"==n(21)(u);e.exports=function(){function e(){var e,t;for(f&&(e=u.domain)&&e.exit();n;){t=n.fn,n=n.next;try{t()}catch(e){throw n?o():r=void 0,e}}r=void 0,e&&e.enter()}var n,r,t,o,a,i;return o=f?function(){u.nextTick(e)}:!c||l.navigator&&l.navigator.standalone?p&&p.resolve?(t=p.resolve(void 0),function(){t.then(e)}):function(){s.call(l,e)}:(a=!0,i=document.createTextNode(""),new c(e).observe(i,{characterData:!0}),function(){i.data=a=!a}),function(e){e={fn:e,next:void 0};r&&(r.next=e),n||(n=e,o()),r=e}}},function(e,t,n){"use strict";var o=n(11);function r(e){var n,r;this.promise=new e(function(e,t){if(void 0!==n||void 0!==r)throw TypeError("Bad Promise constructor");n=e,r=t}),this.resolve=o(n),this.reject=o(r)}e.exports.f=function(e){return new r(e)}},function(e,t,n){"use strict";var r=n(2),o=n(8),a=n(30),i=n(64),l=n(12),s=n(42),c=n(3),u=n(40),p=n(22),f=n(6),d=n(125),h=n(38).f,m=n(9).f,y=n(88),g=n(44),b="ArrayBuffer",v="DataView",V="prototype",w="Wrong index!",E=r[b],_=r[v],n=r.Math,k=r.RangeError,C=r.Infinity,O=E,S=n.abs,A=n.pow,x=n.floor,P=n.log,D=n.LN2,r="byteLength",n="byteOffset",L=o?"_b":"buffer",j=o?"_l":r,R=o?"_o":n;function F(e,t,n){var r,o,a=new Array(n),i=8*n-t-1,l=(1<<i)-1,s=l>>1,c=23===t?A(2,-24)-A(2,-77):0,u=0,p=e<0||0===e&&1/e<0?1:0;for((e=S(e))!=e||e===C?(o=e!=e?1:0,r=l):(r=x(P(e)/D),e*(n=A(2,-r))<1&&(r--,n*=2),2<=(e+=1<=r+s?c/n:c*A(2,1-s))*n&&(r++,n/=2),l<=r+s?(o=0,r=l):1<=r+s?(o=(e*n-1)*A(2,t),r+=s):(o=e*A(2,s-1)*A(2,t),r=0));8<=t;a[u++]=255&o,o/=256,t-=8);for(r=r<<t|o,i+=t;0<i;a[u++]=255&r,r/=256,i-=8);return a[--u]|=128*p,a}function T(e,t,n){var r,o=8*n-t-1,a=(1<<o)-1,i=a>>1,l=o-7,s=n-1,n=e[s--],c=127&n;for(n>>=7;0<l;c=256*c+e[s],s--,l-=8);for(r=c&(1<<-l)-1,c>>=-l,l+=t;0<l;r=256*r+e[s],s--,l-=8);if(0===c)c=1-i;else{if(c===a)return r?NaN:n?-C:C;r+=A(2,t),c-=i}return(n?-1:1)*r*A(2,c-t)}function N(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]}function M(e){return[255&e]}function I(e){return[255&e,e>>8&255]}function B(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]}function W(e){return F(e,52,8)}function U(e){return F(e,23,4)}function K(e,t,n){m(e[V],t,{get:function(){return this[n]}})}function z(e,t,n,r){var o=d(+n);if(o+t>e[j])throw k(w);n=e[L]._b,e=o+e[R],t=n.slice(e,e+t);return r?t:t.reverse()}function G(e,t,n,r,o,a){n=d(+n);if(n+t>e[j])throw k(w);for(var i=e[L]._b,l=n+e[R],s=r(+o),c=0;c<t;c++)i[l+c]=s[a?c:t-c-1]}if(i.ABV){if(!c(function(){E(1)})||!c(function(){new E(-1)})||c(function(){return new E,new E(1.5),new E(NaN),E.name!=b})){for(var q,H=(E=function(e){return u(this,E),new O(d(e))})[V]=O[V],Y=h(O),J=0;Y.length>J;)(q=Y[J++])in E||l(E,q,O[q]);a||(H.constructor=E)}var H=new _(new E(2)),Q=_[V].setInt8;H.setInt8(0,2147483648),H.setInt8(1,2147483649),!H.getInt8(0)&&H.getInt8(1)||s(_[V],{setInt8:function(e,t){Q.call(this,e,t<<24>>24)},setUint8:function(e,t){Q.call(this,e,t<<24>>24)}},!0)}else E=function(e){u(this,E,b);e=d(e);this._b=y.call(new Array(e),0),this[j]=e},_=function(e,t,n){u(this,_,v),u(e,E,v);var r=e[j],t=p(t);if(t<0||r<t)throw k("Wrong offset!");if(r<t+(n=void 0===n?r-t:f(n)))throw k("Wrong length!");this[L]=e,this[R]=t,this[j]=n},o&&(K(E,r,"_l"),K(_,"buffer","_b"),K(_,r,"_l"),K(_,n,"_o")),s(_[V],{getInt8:function(e){return z(this,1,e)[0]<<24>>24},getUint8:function(e){return z(this,1,e)[0]},getInt16:function(e){e=z(this,2,e,arguments[1]);return(e[1]<<8|e[0])<<16>>16},getUint16:function(e){e=z(this,2,e,arguments[1]);return e[1]<<8|e[0]},getInt32:function(e){return N(z(this,4,e,arguments[1]))},getUint32:function(e){return N(z(this,4,e,arguments[1]))>>>0},getFloat32:function(e){return T(z(this,4,e,arguments[1]),23,4)},getFloat64:function(e){return T(z(this,8,e,arguments[1]),52,8)},setInt8:function(e,t){G(this,1,e,M,t)},setUint8:function(e,t){G(this,1,e,M,t)},setInt16:function(e,t){G(this,2,e,I,t,arguments[2])},setUint16:function(e,t){G(this,2,e,I,t,arguments[2])},setInt32:function(e,t){G(this,4,e,B,t,arguments[2])},setUint32:function(e,t){G(this,4,e,B,t,arguments[2])},setFloat32:function(e,t){G(this,4,e,U,t,arguments[2])},setFloat64:function(e,t){G(this,8,e,W,t,arguments[2])}});g(E,b),g(_,v),l(_[V],i.VIEW,!0),t[b]=E,t[v]=_},function(e,t,n){e.exports=n(7)(57)},function(e,t,n){e.exports=!n(8)&&!n(3)(function(){return 7!=Object.defineProperty(n(69)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){t.f=n(5)},function(e,t,n){var i=n(15),l=n(16),s=n(54)(!1),c=n(71)("IE_PROTO");e.exports=function(e,t){var n,r=l(e),o=0,a=[];for(n in r)n!=c&&i(r,n)&&a.push(n);for(;t.length>o;)i(r,n=t[o++])&&(~s(a,n)||a.push(n));return a}},function(e,t,n){var i=n(9),l=n(1),s=n(35);e.exports=n(8)?Object.defineProperties:function(e,t){l(e);for(var n,r=s(t),o=r.length,a=0;a<o;)i.f(e,n=r[a++],t[n]);return e}},function(e,t,n){var r=n(16),o=n(38).f,a={}.toString,i="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return i&&"[object Window]"==a.call(e)?function(e){try{return o(e)}catch(e){return i.slice()}}(e):o(r(e))}},function(e,t,n){"use strict";var f=n(8),d=n(35),h=n(55),m=n(50),y=n(10),g=n(49),o=Object.assign;e.exports=!o||n(3)(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=o({},e)[n]||Object.keys(o({},t)).join("")!=r})?function(e,t){for(var n=y(e),r=arguments.length,o=1,a=h.f,i=m.f;o<r;)for(var l,s=g(arguments[o++]),c=a?d(s).concat(a(s)):d(s),u=c.length,p=0;p<u;)l=c[p++],f&&!i.call(s,l)||(n[l]=s[l]);return n}:o},function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},function(e,t,n){"use strict";var a=n(11),i=n(4),l=n(105),s=[].slice,c={};e.exports=Function.bind||function(t){var n=a(this),r=s.call(arguments,1),o=function(){var e=r.concat(s.call(arguments));return this instanceof o?function(e,t,n){if(!(t in c)){for(var r=[],o=0;o<t;o++)r[o]="a["+o+"]";c[t]=Function("F,a","return new F("+r.join(",")+")")}return c[t](e,n)}(n,e.length,e):l(n,e,t)};return i(n.prototype)&&(o.prototype=n.prototype),o}},function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){var r=n(2).parseInt,o=n(46).trim,n=n(75),a=/^[-+]?0[xX]/;e.exports=8!==r(n+"08")||22!==r(n+"0x16")?function(e,t){e=o(String(e),3);return r(e,t>>>0||(a.test(e)?16:10))}:r},function(e,t,n){var r=n(2).parseFloat,o=n(46).trim;e.exports=1/r(n(75)+"-0")!=-1/0?function(e){var t=o(String(e),3),e=r(t);return 0===e&&"-"==t.charAt(0)?-0:e}:r},function(e,t,n){var r=n(21);e.exports=function(e,t){if("number"!=typeof e&&"Number"!=r(e))throw TypeError(t);return+e}},function(e,t,n){var r=n(4),o=Math.floor;e.exports=function(e){return!r(e)&&isFinite(e)&&o(e)===e}},function(e,t){e.exports=Math.log1p||function(e){return-1e-8<(e=+e)&&e<1e-8?e-e*e/2:Math.log(1+e)}},function(e,t,n){var r=n(78),n=Math.pow,o=n(2,-52),a=n(2,-23),i=n(2,127)*(2-a),l=n(2,-126);e.exports=Math.fround||function(e){var t=Math.abs(e),n=r(e);return t<l?n*(t/l/a+1/o-1/o)*l*a:i<(t=(e=(1+a/o)*t)-(e-t))||t!=t?n*(1/0):n*t}},function(e,t,n){var o=n(1);e.exports=function(t,e,n,r){try{return r?e(o(n)[0],n[1]):e(n)}catch(e){n=t.return;throw void 0!==n&&o(n.call(t)),e}}},function(e,t,n){var u=n(11),p=n(10),f=n(49),d=n(6);e.exports=function(e,t,n,r,o){u(t);var a=p(e),i=f(a),l=d(a.length),s=o?l-1:0,c=o?-1:1;if(n<2)for(;;){if(s in i){r=i[s],s+=c;break}if(s+=c,o?s<0:l<=s)throw TypeError("Reduce of empty array with no initial value")}for(;o?0<=s:s<l;s+=c)s in i&&(r=t(r,i[s],s,a));return r}},function(e,t,n){"use strict";var s=n(10),c=n(36),u=n(6);e.exports=[].copyWithin||function(e,t){var n=s(this),r=u(n.length),o=c(e,r),a=c(t,r),t=2<arguments.length?arguments[2]:void 0,i=Math.min((void 0===t?r:c(t,r))-a,r-o),l=1;for(a<o&&o<a+i&&(l=-1,a+=i-1,o+=i-1);0<i--;)a in n?n[o]=n[a]:delete n[o],o+=l,a+=l;return n}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){"use strict";var r=n(90);n(0)({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},function(e,t,n){n(8)&&"g"!=/./g.flags&&n(9).f(RegExp.prototype,"flags",{configurable:!0,get:n(51)})},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,n){var r=n(1),o=n(4),a=n(94);e.exports=function(e,t){if(r(e),o(t)&&t.constructor===e)return t;e=a.f(e);return(0,e.resolve)(t),e.promise}},function(e,t,n){"use strict";var r=n(121),o=n(43);e.exports=n(63)("Map",function(e){return function(){return e(this,0<arguments.length?arguments[0]:void 0)}},{get:function(e){e=r.getEntry(o(this,"Map"),e);return e&&e.v},set:function(e,t){return r.def(o(this,"Map"),0===e?0:e,t)}},r,!0)},function(e,t,n){"use strict";function i(e,t){var n,r=h(t);if("F"!==r)return e._i[r];for(n=e._f;n;n=n.n)if(n.k==t)return n}var l=n(9).f,s=n(37),c=n(42),u=n(20),p=n(40),f=n(41),r=n(80),o=n(115),a=n(39),d=n(8),h=n(31).fastKey,m=n(43),y=d?"_s":"size";e.exports={getConstructor:function(e,o,n,r){var a=e(function(e,t){p(e,a,o,"_i"),e._t=o,e._i=s(null),e._f=void 0,e._l=void 0,e[y]=0,null!=t&&f(t,n,e[r],e)});return c(a.prototype,{clear:function(){for(var e=m(this,o),t=e._i,n=e._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete t[n.i];e._f=e._l=void 0,e[y]=0},delete:function(e){var t,n=m(this,o),r=i(n,e);return r&&(t=r.n,e=r.p,delete n._i[r.i],r.r=!0,e&&(e.n=t),t&&(t.p=e),n._f==r&&(n._f=t),n._l==r&&(n._l=e),n[y]--),!!r},forEach:function(e){m(this,o);for(var t,n=u(e,1<arguments.length?arguments[1]:void 0,3);t=t?t.n:this._f;)for(n(t.v,t.k,this);t&&t.r;)t=t.p},has:function(e){return!!i(m(this,o),e)}}),d&&l(a.prototype,"size",{get:function(){return m(this,o)[y]}}),a},def:function(e,t,n){var r,o=i(e,t);return o?o.v=n:(e._l=o={i:r=h(t,!0),k:t,v:n,p:n=e._l,n:void 0,r:!1},e._f||(e._f=o),n&&(n.n=o),e[y]++,"F"!==r&&(e._i[r]=o)),e},getEntry:i,setStrong:function(e,n,t){r(e,n,function(e,t){this._t=m(e,n),this._k=t,this._l=void 0},function(){for(var e=this,t=e._k,n=e._l;n&&n.r;)n=n.p;return e._t&&(e._l=n=n?n.n:e._t._f)?o(0,"keys"==t?n.k:"values"==t?n.v:[n.k,n.v]):(e._t=void 0,o(1))},t?"entries":"values",!t,!0),a(n)}}},function(e,t,n){"use strict";var r=n(121),o=n(43);e.exports=n(63)("Set",function(e){return function(){return e(this,0<arguments.length?arguments[0]:void 0)}},{add:function(e){return r.def(o(this,"Set"),e=0===e?0:e,e)}},r)},function(e,t,n){"use strict";function r(e){return function(){return e(this,0<arguments.length?arguments[0]:void 0)}}var o,a=n(2),i=n(27)(0),l=n(13),s=n(31),c=n(102),u=n(124),p=n(4),f=n(43),d=n(43),h=!a.ActiveXObject&&"ActiveXObject"in a,m="WeakMap",y=s.getWeak,g=Object.isExtensible,b=u.ufstore,a={get:function(e){if(p(e)){var t=y(e);return!0===t?b(f(this,m)).get(e):t?t[this._i]:void 0}},set:function(e,t){return u.def(f(this,m),e,t)}},v=e.exports=n(63)(m,r,a,u,!0,!0);d&&h&&(c((o=u.getConstructor(r,m)).prototype,a),s.NEED=!0,i(["delete","has","get","set"],function(n){var e=v.prototype,r=e[n];l(e,n,function(e,t){if(!p(e)||g(e))return r.call(this,e,t);this._f||(this._f=new o);t=this._f[n](e,t);return"set"==n?this:t})}))},function(e,t,n){"use strict";function i(e){return e._l||(e._l=new g)}function r(e,t){return h(e.a,function(e){return e[0]===t})}var l=n(42),s=n(31).getWeak,o=n(1),c=n(4),u=n(40),p=n(41),a=n(27),f=n(15),d=n(43),h=a(5),m=a(6),y=0,g=function(){this.a=[]};g.prototype={get:function(e){e=r(this,e);if(e)return e[1]},has:function(e){return!!r(this,e)},set:function(e,t){var n=r(this,e);n?n[1]=t:this.a.push([e,t])},delete:function(t){var e=m(this.a,function(e){return e[0]===t});return~e&&this.a.splice(e,1),!!~e}},e.exports={getConstructor:function(e,n,r,o){var a=e(function(e,t){u(e,a,n,"_i"),e._t=n,e._i=y++,e._l=void 0,null!=t&&p(t,r,e[o],e)});return l(a.prototype,{delete:function(e){if(!c(e))return!1;var t=s(e);return!0===t?i(d(this,n)).delete(e):t&&f(t,this._i)&&delete t[this._i]},has:function(e){if(!c(e))return!1;var t=s(e);return!0===t?i(d(this,n)).has(e):t&&f(t,this._i)}}),a},def:function(e,t,n){var r=s(o(t),!0);return!0===r?i(e).set(t,n):r[e._i]=n,e},ufstore:i}},function(e,t,n){var r=n(22),o=n(6);e.exports=function(e){if(void 0===e)return 0;var t=r(e),e=o(t);if(t!==e)throw RangeError("Wrong length!");return e}},function(e,t,n){var r=n(38),o=n(55),a=n(1),n=n(2).Reflect;e.exports=n&&n.ownKeys||function(e){var t=r.f(a(e)),n=o.f;return n?t.concat(n(e)):t}},function(e,t,n){"use strict";var h=n(56),m=n(4),y=n(6),g=n(20),b=n(5)("isConcatSpreadable");e.exports=function e(t,n,r,o,a,i,l,s){for(var c,u,p=a,f=0,d=!!l&&g(l,s,3);f<o;){if(f in r){if(c=d?d(r[f],f,n):r[f],u=!1,(u=m(c)?void 0!==(u=c[b])?!!u:h(c):u)&&0<i)p=e(t,n,c,y(c.length),p,i-1)-1;else{if(9007199254740991<=p)throw TypeError();t[p]=c}p++}f++}return p}},function(e,t,n){var a=n(6),i=n(77),l=n(25);e.exports=function(e,t,n,r){var o=String(l(e)),e=o.length,n=void 0===n?" ":String(n),t=a(t);if(t<=e||""==n)return o;e=t-e,n=i.call(n,Math.ceil(e/n.length));return n.length>e&&(n=n.slice(0,e)),r?n+o:o+n}},function(e,t,n){var s=n(8),c=n(35),u=n(16),p=n(50).f;e.exports=function(l){return function(e){for(var t,n=u(e),r=c(n),o=r.length,a=0,i=[];a<o;)t=r[a++],s&&!p.call(n,t)||i.push(l?[t,n[t]]:n[t]);return i}}},function(e,t,n){var r=n(45),o=n(131);e.exports=function(e){return function(){if(r(this)!=e)throw TypeError(e+"#toJSON isn't generic");return o(this)}}},function(e,t,n){var r=n(41);e.exports=function(e,t){var n=[];return r(e,!1,n.push,n,t),n}},function(e,t){e.exports=Math.scale||function(e,t,n,r,o){return 0===arguments.length||e!=e||t!=t||n!=n||r!=r||o!=o?NaN:e===1/0||e===-1/0?e:(e-t)*(o-r)/(n-t)+r}},function(e,t,n){e.exports=n(7)(880)},function(e,t,n){e.exports=n(7)(848)},function(e,t,n){e.exports=n(7)(1098)},function(e,t,n){e.exports=n(7)(1240)},function(e,t,n){e.exports=n(7)(46)},function(e,t,n){e.exports=n(7)(8)},function(e,t,n){e.exports=n(7)(1100)},function(e,t,n){e.exports=n(7)(1108)},function(e,t,n){e.exports=n(7)(850)},function(e,t,n){e.exports=n(7)(869)},function(e,t,n){e.exports=n(7)(1143)},function(e,t,n){e.exports=n(7)(1238)},function(e,t,n){e.exports=n(7)(1111)},function(e,t,n){e.exports=n(7)(1138)},function(e,t,n){e.exports=n(7)(1099)},function(e,t,n){e.exports=n(7)(1122)},function(e,t,n){"use strict";var s=function(e){return!(!(t=e)||"object"!=typeof t||(t=e,"[object RegExp]"===(e=Object.prototype.toString.call(t))||"[object Date]"===e||function(e){return e.$$typeof===r}(t)));var t};var r="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function c(e,t){return t&&!0===t.clone&&s(e)?p(Array.isArray(e)?[]:{},e,t):e}function u(n,e,r){var o=n.slice();return e.forEach(function(e,t){void 0===o[t]?o[t]=c(e,r):s(e)?o[t]=p(n[t],e,r):-1===n.indexOf(e)&&o.push(c(e,r))}),o}function p(e,t,n){var r,o,a,i,l=Array.isArray(t);return l===Array.isArray(e)?l?((n||{arrayMerge:u}).arrayMerge||u)(e,t,n):(o=t,a=n,i={},s(r=e)&&Object.keys(r).forEach(function(e){i[e]=c(r[e],a)}),Object.keys(o).forEach(function(e){s(o[e])&&r[e]?i[e]=p(r[e],o[e],a):i[e]=c(o[e],a)}),i):c(t,n)}p.all=function(e,n){if(!Array.isArray(e)||e.length<2)throw new Error("first argument should be an array with at least two elements");return e.reduce(function(e,t){return p(e,t,n)})},e.exports=p},function(e,t,n){e.exports=n(7)(846)},function(e,t,n){e.exports=n(7)(1241)},function(e,t,n){e.exports=n(7)(1242)},function(module,exports,__webpack_require__){!function(module){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__,IA;function _typeof2(e){return(_typeof2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}window,IA=function(__WEBPACK_EXTERNAL_MODULE__0__,__WEBPACK_EXTERNAL_MODULE__1__,__WEBPACK_EXTERNAL_MODULE__3__,__WEBPACK_EXTERNAL_MODULE__4__,__WEBPACK_EXTERNAL_MODULE__9__,__WEBPACK_EXTERNAL_MODULE__10__,__WEBPACK_EXTERNAL_MODULE__14__,__WEBPACK_EXTERNAL_MODULE__15__,__WEBPACK_EXTERNAL_MODULE__16__,__WEBPACK_EXTERNAL_MODULE__17__,__WEBPACK_EXTERNAL_MODULE__20__,__WEBPACK_EXTERNAL_MODULE__21__,__WEBPACK_EXTERNAL_MODULE__22__,__WEBPACK_EXTERNAL_MODULE__23__,__WEBPACK_EXTERNAL_MODULE__24__,__WEBPACK_EXTERNAL_MODULE__25__,__WEBPACK_EXTERNAL_MODULE__26__,__WEBPACK_EXTERNAL_MODULE__27__,__WEBPACK_EXTERNAL_MODULE__28__,__WEBPACK_EXTERNAL_MODULE__29__,__WEBPACK_EXTERNAL_MODULE__30__,__WEBPACK_EXTERNAL_MODULE__31__){return d=[function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE__0__},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE__1__},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var t=n(0),a=n.n(t),t=n(4),i=n(1);function l(e){return(l="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(e){return _typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof2(e)})(e)}function s(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function c(r){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?s(Object(o),!0).forEach(function(e){var t,n=r;e=o[t=e],t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):s(Object(o)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))})}return r}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var r=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(o,a.a.Component);var n,r,t=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=f(n),t=r?(t=f(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==l(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function o(e){return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),t.call(this,e)}return u(o.prototype,[{key:"GuidEmpty",value:function(){return"00000000-0000-0000-0000-000000000000"}},{key:"setUpdatedState",value:function(e){null==e.__state&&(e.__state="updated")}},{key:"onSave",value:function(){var t=this,n=[];this.state.data.forEach(function(e){null!=e.__state&&n.push(c(c({},e),{},{__type:t.datatype}))}),this.ChangeData(n)}},{key:"ChangeData",value:function(e,t){var n=new Array;n.push({name:"operation",value:"change"}),n.push({name:"items",value:JSON.stringify(e)}),$.ajax({url:this.props.apiUrl,data:n,async:!0,type:"post",success:function(e){e.success?(alertify.success(DWKitAdminLang.msg.saveok),t&&t(e)):alertify.error(e.message)}})}},{key:"СloneObj",value:function(e){if(null==e||"object"!=l(e))return e;var t,n=e.constructor();for(t in e)e.hasOwnProperty(t)&&(n[t]=this.СloneObj(e[t]));return n}},{key:"ResetSystemProps",value:function(e){if(Array.isArray(e))for(var t=0;t<e.length;t++)"deleted"==e[t].__state?(e.splice(t,1),t--):this.ResetSystemProps(e[t]);if("object"==l(e))for(var n in e)"__state"!=n&&"__type"!=n&&"__error"!=n||(e[n]=void 0)}},{key:"NewGUID",value:function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}},{key:"updateQueryStringParameter",value:function(e,t,n){var r=new RegExp("([?&])"+t+"=.*?(&|#|$)","i");if(void 0!==n)return e.match(r)?e.replace(r,"$1"+t+"="+n+"$2"):(o="",-1!==e.indexOf("#")&&(o=e.replace(/.*#/,"#"),e=e.replace(/#.*/,"")),r=-1!==e.indexOf("?")?"&":"?",e+r+t+"="+n+o);if(e.match(r)){var o=e.replace(r,"$1$2");return"&"==o[o.length-1]?o.substring(0,o.length-1):o}return e}},{key:"getQueryString",value:function(){for(var e={},t=window.location.search.substring(1).split("&"),n=0;n<t.length;n++){var r,o=t[n].split("=");void 0===e[o[0]]?e[o[0]]=o[1]:"string"==typeof e[o[0]]?(r=[e[o[0]],o[1]],e[o[0]]=r):e[o[0]].push(o[1])}return e}},{key:"getProcessLoadError",value:function(e,t){return 0===e.status?DWKitAdminLang.requesterror.status0:404==e.status?DWKitAdminLang.requesterror.status404:500==e.status?DWKitAdminLang.requesterror.status500:"parsererror"===t?DWKitAdminLang.requesterror.parsererror:"timeout"===t?DWKitAdminLang.requesterror.timeout:"abort"===t?DWKitAdminLang.requesterror.abort:DWKitAdminLang.requesterror.uncaught+"\n"+e.responseText}},{key:"RenderLoading",value:function(){var e=this;return Boolean(this.state.progresserror)||(null==this.state.progresspercent&&(this.state.progresspercent=0),this.state.progresspercent<100?setTimeout(function(){e.setState({progresspercent:e.state.progresspercent+1})},250):(this.state.progresserror=!0,this.state.progressmsg=DWKitAdminLang.msg.checkerrors)),a.a.createElement("div",{className:"dwkit-formadmin-loadingscreen"},a.a.createElement("img",{className:"dwkit-formadmin-loadingscreen-logo",src:"/images/logo.svg"}),a.a.createElement("p",null,this.state.progressmsg),a.a.createElement("div",{className:"dwkit-formadmin-loadingscreen-progressbar"},a.a.createElement(i.Progress,{percent:this.state.progresspercent,error:Boolean(this.state.progresserror),indicating:!0})))}},{key:"copyToClipboard",value:function(e){var t=document.createElement("textarea");t.value=e,t.setAttribute("readonly",""),t.style.position="absolute",t.style.left="-9999px",document.body.appendChild(t),e=0<document.getSelection().rangeCount&&document.getSelection().getRangeAt(0),t.select(),document.execCommand("copy"),document.body.removeChild(t),e&&(document.getSelection().removeAllRanges(),document.getSelection().addRange(e)),alertify.success(DWKitAdminLang.msg.copied)}}]),o}()},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE__3__},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE__4__},function(e,r,o){!function(e){var t,n;function Du(e){return(Du="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(e){return _typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof2(e)})(e)}window,n=function(n,r,o,a,i,l,s,c,u,p,f,d,h,m,y,g,b,v,V,w){return k={},E.m=_=[function(e,t){e.exports=n},function(e,t){e.exports=r},function(e,t){e.exports=o},function(e,t){e.exports=a},function(e,t){function o(e){return(o="function"==typeof Symbol&&"symbol"==Du(Symbol.iterator)?function(e){return Du(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Du(e)})(e)}e.exports={initDefaultState:function e(t){var n=t.model,r=t.data;if(Array.isArray(n)&&void 0!==r)for(var o=0;o<n.length;o++){var a=n[o].propertyName||n[o].key;if(n[o].defaultValue&&!r[a]&&(r[a]=n[o].defaultValue),Array.isArray(n[o].children)&&e({model:n[o].children,data:r}),void 0!==n[o].placeholders)for(var i in n[o].placeholders)e({model:n[o].placeholders[i],data:r});"customblock"===n[o]["data-buildertype"]&&"source"===n[o].sourceType&&null!=n[o].source&&e({model:JSON5.parse(n[o].source),data:r})}},initDefaultStateFormUrl:function(e){void 0===e&&(e={});var t=null==(t=new RegExp("[?&]defaultvalues=([^&#]*)").exec(window.location.href))?null:decodeURI(t[1])||0;if(t){var n=void 0;try{n=JSON5.parse(t)}catch(e){}if(n&&"object"===o(n))for(var r in n)void 0!==n[r]&&(e[r]=n[r])}return e},validate:function(e){for(var t,n,r,o=e.data,a=!0,i={},l=function r(e){var o=[];return e.forEach(function(e){var t;if((!0===e["other-required"]||void 0!==e["other-customValidation"]&&""!==e["other-customValidation"])&&o.push(e),void 0!==e.children&&0<e.children.length&&(t=r(e.children),o=o.concat(t)),void 0!==e.placeholders)for(var n in e.placeholders)n=r(e.placeholders[n]),o=o.concat(n);"customblock"===e["data-buildertype"]&&"source"===e.sourceType&&null!=e.source&&(t=JSON5.parse(e.source),t=r(t),o=o.concat(t))}),o}(e.model),s=0;s<l.length;s++){var c=l[s].propertyName||l[s].key,u=(t=l[s],n=o?o[c]:void 0,r=o,!(u=void 0)===t["other-required"]&&(null==n||""===n||"collectioneditor"===t["data-buildertype"]&&Array.isArray(n)&&0===n.length)?u="This field is required!":void 0!==t["other-customValidation"]&&""!==t["other-customValidation"]&&(t="return "+t["other-customValidation"],"boolean"==typeof(r=new Function("value, data",t)(n,r))?!1===r&&(u=!0):u=r),u);u&&(i[c]=u,a=!1)}return{valid:a,errors:i}},checkConditions:function e(t){var n=t.model,r=t.data,o={hideControls:[],readOnlyControls:[]};if(!n||!r)return o;for(var a=0;a<n.length;a++){var i,l=n[a]["other-visibleConition"];if(void 0!==l&&""!==l&&(new Function("data","return "+l)(r)||o.hideControls.push(n[a].key)),void 0!==(l=n[a]["other-readOnlyConition"])&&""!==l&&new Function("data","return "+l)(r)&&o.readOnlyControls.push(n[a].key),Array.isArray(n[a].children)&&(i=e({model:n[a].children,data:r}),o={hideControls:o.hideControls.concat(i.hideControls),readOnlyControls:o.readOnlyControls.concat(i.readOnlyControls)}),void 0!==n[a].placeholders)for(var s in n[a].placeholders)s=e({model:n[a].placeholders[s],data:r}),o={hideControls:o.hideControls.concat(s.hideControls),readOnlyControls:o.readOnlyControls.concat(s.readOnlyControls)};"customblock"===n[a]["data-buildertype"]&&"source"===n[a].sourceType&&null!=n[a].source&&(i=e({model:JSON5.parse(n[a].source),data:r}),o={hideControls:o.hideControls.concat(i.hideControls),readOnlyControls:o.readOnlyControls.concat(i.readOnlyControls)})}return o},updateEventsFormat:function(r){return r.updated||(Object.keys(r).forEach(function(e){var t,n=r[e];(n.actions||n.parameters||n.targets)&&(t={actions:n.actions||[],parameters:n.parameters||[],targets:n.targets||[]},r[e]={active:n.active||!1,triggers:n.actions?[t]:void 0})}),r.updated=!0),r}}},function(e,t){e.exports=i},function(e,t){e.exports=l},function(e,t){e.exports=s},function(e,t){e.exports=c},function(e,t){e.exports=u},function(e,t){e.exports=p},function(e,t,n){n(24),e.exports=self.fetch.bind(self)},function(e,t){e.exports=f},function(e,t,n){var r,o,a;function i(e){if(a[e])return a[e].exports;var t=a[e]={i:e,l:!1,exports:{}};return o[e].call(t.exports,t,t.exports,i),t.l=!0,t.exports}e.exports=(r=n(0),a={},i.m=o=[function(e,t){e.exports=r},function(e,t,n){e.exports=n(7)()},function(e,t,n){function r(e){if(a[e])return a[e].exports;var t=a[e]={i:e,l:!1,exports:{}};return o[e].call(t.exports,t,t.exports,r),t.l=!0,t.exports}var o,a;e.exports=(a={},r.m=o=[function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"e",function(){return o}),n.d(t,"a",function(){return a}),n.d(t,"f",function(){return i}),n.d(t,"c",function(){return l}),n.d(t,"b",function(){return s}),n.d(t,"d",function(){return c});var o=["user","environment"],a={USER:"user",ENVIRONMENT:"environment"},i=["jpg","png"],l={PNG:"png",JPG:"jpg"},s=(r(t={},"jpg","image/jpeg"),r(t,"png","image/png"),t),c={audio:!1,video:!0}},function(e,t,n){e.exports=n(2)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"FACING_MODES",function(){return a}),n.d(t,"IMAGE_TYPES",function(){return l});var i=n(3),r=n(5),o=i.a.IMAGE_TYPES.PNG,n=(function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(s.prototype,[{key:"_getStreamDevice",value:function(r,o){var a=this;return new Promise(function(t,n){var e=i.a.getIdealConstraints(r,o);a.mediaDevices.getUserMedia(e).then(function(e){a._gotStream(e),t(e)}).catch(function(e){n(e)})})}},{key:"_getStreamDeviceMaxResolution",value:function(r){var o=this,e=i.a.getMaxResolutionConstraints(r,this.numberOfMaxResolutionTry);return null!=e?new Promise(function(t,n){o.mediaDevices.getUserMedia(e).then(function(e){o._gotStream(e),t(e)}).catch(function(e){setTimeout(function(){o.numberOfMaxResolutionTry+=1,o._getStreamDeviceMaxResolution(r).catch(function(){n(e)})},20)})}):this._getStreamDevice(r,{})}},{key:"_setVideoSrc",value:function(e){"srcObject"in this.videoElement?this.videoElement.srcObject=e:(e=this.windowURL.createObjectURL(e),this.videoElement.src=e)}},{key:"_setSettings",value:function(e){this.settings=null,0<(e=e&&e.getTracks?e.getTracks():[]).length&&e[0].getSettings&&(this.settings=e[0].getSettings())}},{key:"_gotStream",value:function(e){this.stream=e,this._setSettings(e),this._setVideoSrc(e)}},{key:"getCameraSettings",value:function(){return this.settings}},{key:"startCamera",value:function(e,t){var n=this;return this.stopCamera().then(function(){}).catch(function(){}).then(function(){return n._getStreamDevice(e,t)})}},{key:"startCameraMaxResolution",value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return this.stopCamera().then(function(){}).catch(function(){}).then(function(){return e._getStreamDeviceMaxResolution(t)})}},{key:"getDataUri",value:function(e){return e={sizeFactor:void 0===e.sizeFactor?r.c:e.sizeFactor,imageType:void 0===e.imageType?o:e.imageType,imageCompression:void 0===e.imageCompression?r.a:e.imageCompression,isImageMirror:void 0===e.isImageMirror?r.b:e.isImageMirror},i.a.getDataUri(this.videoElement,e)}},{key:"stopCamera",value:function(){var n=this;return new Promise(function(e,t){n.stream&&(n.stream.getTracks().forEach(function(e){e.stop()}),n.videoElement.src="",n.stream=null,n._setSettings(null),e()),t(Error("no stream to stop!"))})}}]),s),a=i.a.FACING_MODES,l=i.a.IMAGE_TYPES;function s(e){(function(e){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")})(this),this.videoElement=e,this.stream=null,this.numberOfMaxResolutionTry=1,this.settings=null,this.windowURL=i.a.getWindowURL(),this.mediaDevices=i.a.getNavigatorMediaDevices()}t.default=n},function(e,t,n){"use strict";var s=n(4),o=n(0),n=(function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(r,[{key:"getDataUri",value:function(e,t){var n=t.sizeFactor,r=t.imageType,o=t.imageCompression,a=t.isImageMirror,i=e.videoWidth,l=e.videoHeight,i=(t=Object(s.b)(i,l,n)).imageWidth,l=t.imageHeight;return(n=document.createElement("canvas")).width=i,n.height=l,t=n.getContext("2d"),a&&t.setTransform(-1,0,0,1,n.width,0),t.drawImage(e,0,0,i,l),Object(s.a)(n,r,o)}},{key:"getWindowURL",value:function(){return window.URL||window.webkitURL||window.mozURL||window.msURL}},{key:"getNavigatorMediaDevices",value:function(){var r,e=null,t=!(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia),n=!(!navigator.mozGetUserMedia&&!navigator.webkitGetUserMedia);return t?e=navigator.mediaDevices:n&&(r=navigator.mozGetUserMedia||navigator.webkitGetUserMedia,n={getUserMedia:function(n){return new Promise(function(e,t){r.call(navigator,n,e,t)})}},e=Object.assign(r,n)),e}},{key:"isSupportedFacingMode",value:function(){return r.getNavigatorMediaDevices().getSupportedConstraints().facingMode}},{key:"getIdealConstraints",value:function(e,t){var n={audio:!1,video:{}};if(Object(s.c)(e,t))return o.d;var r=navigator.mediaDevices.getSupportedConstraints();return r.width&&r.height&&r.facingMode?(e&&o.e.includes(e)&&(n.video.facingMode=e),t&&t.width&&(n.video.width=t.width),t&&t.height&&(n.video.height=t.height),n):(console.error("Constraint width height or facingMode not supported!"),o.d)}},{key:"getMaxResolutionConstraints",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n=r.getIdealConstraints(e);return t>=(e=[{width:{min:640},ideal:{facingMode:e=n.video.facingMode}},{width:{min:800},ideal:{facingMode:e}},{width:{min:900},ideal:{facingMode:e}},{width:{min:1024},ideal:{facingMode:e}},{width:{min:1080},ideal:{facingMode:e}},{width:{min:1280},ideal:{facingMode:e}},{width:{min:1920},ideal:{facingMode:e}},{width:{min:2560},ideal:{facingMode:e}},{width:{min:3840},ideal:{facingMode:e}}]).length?null:(t=e.slice(0,-t),n.video.advanced=t,n)}},{key:"FACING_MODES",get:function(){return o.a}},{key:"IMAGE_TYPES",get:function(){return o.c}}]),r);function r(){!function(e){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this)}t.a=n},function(e,t,n){"use strict";function r(e,t){var n={};try{(function(e){if(!(0<=t&&t<=1))throw new Error(t+" is invalid imageCompression, choose between: [0, 1]");if(!o.f.includes(e))throw new Error(e+" is invalid imageType, choose between: "+o.f.join(", "))})(e),n.imageType=e,n.imageCompression=t}catch(e){console.error(e),console.error("default value of "+o.c.PNG+" is used"),n.imageType=o.c.PNG,n.imageCompression=null}return n}t.b=function(e,t,n){return{imageWidth:n=e*parseFloat(n),imageHeight:t/(e/n)}},t.a=function(e,t,n){return r(t,n).imageType===o.c.JPG?n?e.toDataURL(o.b[o.c.JPG],n):e.toDataURL(o.b[o.c.JPG]):e.toDataURL(o.b[t])},t.c=function(e,t){return!(e||t&&!function(e){if("object"===(void 0===e?"undefined":a(e)))for(var t in e)if(e.hasOwnProperty(t))return;return 1}(t))};var o=n(0),a="function"==typeof Symbol&&"symbol"==Du(Symbol.iterator)?function(e){return Du(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Du(e)}},function(e,t,n){"use strict";n.d(t,"c",function(){return r}),n.d(t,"a",function(){return o}),n.d(t,"b",function(){return a});var r=1,o=null,a=!1}],r.c=a,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=1))},function(e,t,n){e.exports=n(4)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5);n.d(t,"Camera",function(){return r.c}),n.d(t,"FACING_MODES",function(){return r.a}),n.d(t,"IMAGE_TYPES",function(){return r.b}),t.default=r.c},function(e,t,n){"use strict";var r=n(6);n.d(t,"a",function(){return r.a}),n.d(t,"b",function(){return r.b}),t.c=r.c},function(e,t,n){"use strict";function r(n){var e,t,r,o=(s=E(e=Object(m.useState)(""),2))[0],a=s[1],i=(r=E(u=Object(m.useState)(!0),2))[0],l=r[1],s=(e=E(t=Object(m.useState)(""),2))[0],c=e[1],u=Object(m.useRef)(null),p=(t=E(r=Object(g.a)(u,n.idealFacingMode,n.idealResolution,n.isMaxResolution),4))[0],f=t[1],d=t[2],h=t[3];return Object(m.useEffect)(function(){p?"function"==typeof n.onCameraStart&&n.onCameraStart(p):"function"==typeof n.onCameraStop&&n.onCameraStop()},[p]),Object(m.useEffect)(function(){f&&(c(f.name+" "+f.message),"function"==typeof n.onCameraError&&n.onCameraError(f))},[f]),Object(m.useEffect)(function(){d&&Object(w.d)(d.message)},[d]),e=Object(w.b)(i,n.isImageMirror),r=Object(w.a)(!i),t=n.isFullscreen?"react-html5-camera-photo-fullscreen":"",y.a.createElement("div",{className:"react-html5-camera-photo "+t},y.a.createElement(V.a,{cssClass:"display-error",isDisplayError:n.isDisplayStartCameraError,errorMsg:s}),y.a.createElement(v.a,{isShowWhiteFlash:!i}),y.a.createElement("img",{style:r,alt:"camera",src:o}),y.a.createElement("video",{style:e,ref:u,autoPlay:!0,muted:"muted",playsInline:!0}),y.a.createElement(b.a,{isClicked:!i,onClick:function(){var e={sizeFactor:n.sizeFactor,imageType:n.imageType,imageCompression:n.imageCompression,isImageMirror:n.isImageMirror},t=h(e);n.isSilentMode||Object(w.c)(),"function"==typeof n.onTakePhoto&&n.onTakePhoto(t),a(t),l(!1),_&&clearTimeout(_),_=setTimeout(function(){l(!0),"function"==typeof n.onTakePhotoAnimationDone&&n.onTakePhotoAnimationDone(t)},900)}}))}var m=n(0),y=n.n(m),o=n(1),a=n.n(o),i=n(2),g=(n.n(i),n(9)),b=n(13),v=n(15),V=n(17),w=n(19),o=n(21);function E(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&l.return&&l.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}n.n(o),n.o(i,"FACING_MODES")&&n.d(t,"a",function(){return i.FACING_MODES}),n.o(i,"IMAGE_TYPES")&&n.d(t,"b",function(){return i.IMAGE_TYPES});var _=null;(t.c=r).propTypes={onTakePhoto:a.a.func,onTakePhotoAnimationDone:a.a.func,onCameraError:a.a.func,idealFacingMode:a.a.string,idealResolution:a.a.object,imageType:a.a.string,isImageMirror:a.a.bool,isSilentMode:a.a.bool,isDisplayStartCameraError:a.a.bool,imageCompression:a.a.number,isMaxResolution:a.a.bool,isFullscreen:a.a.bool,sizeFactor:a.a.number,onCameraStart:a.a.func,onCameraStop:a.a.func},r.defaultProps={isImageMirror:!0,isDisplayStartCameraError:!0}},function(e,t,n){"use strict";function r(){}function o(){}var i=n(8);o.resetWarningCache=r,e.exports=function(){function e(e,t,n,r,o,a){if(a!==i)throw(a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")).name="Invariant Violation",a}function t(){return e}var n={array:e.isRequired=e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:r};return n.PropTypes=n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";function p(e){return function(){var l=e.apply(this,arguments);return new Promise(function(a,i){return function t(e,n){try{var r=l[e](n),o=r.value}catch(e){return void i(e)}if(!r.done)return Promise.resolve(o).then(function(e){t("next",e)},function(e){t("throw",e)});a(o)}("next")})}}t.a=function(r,o,a,i){var e=Object(d.useState)(null),l=(n=m(e,2))[0],s=n[1],t=Object(d.useState)(null),n=(e=m(t,2))[0],c=e[1],t=Object(d.useState)(null),t=(e=m(t,2))[0],u=e[1];return Object(d.useEffect)(function(){r&&r.current&&(y=new h.a(r.current))},[r]),Object(d.useEffect)(function(){var e,t,n=(e=p(f.a.mark(function e(){var t;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(g=!0,e.prev=1,t=null,i)return e.next=6,y.startCameraMaxResolution(o);e.next=9;break;case 6:t=e.sent,e.next=12;break;case 9:return e.next=11,y.startCamera(o,a);case 11:t=e.sent;case 12:s(t),c(null),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),c(e.t0);case 19:case"end":return e.stop()}},e,this,[[1,16]])})),function(){return e.apply(this,arguments)});if(l)return t=p(f.a.mark(function e(){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,g)return g=!1,e.next=5,y.stopCamera();e.next=5;break;case 5:r&&r.current&&(s(null),u(null)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),u(e.t0);case 11:case"end":return e.stop()}},e,this,[[0,8]])})),function(){return t.apply(this,arguments)};n()},[r,l,o,a,i]),[l,n,t,function(e){return y.getDataUri(e)}]};var t=n(10),f=n.n(t),d=n(0),t=(n.n(d),n(2)),h=n.n(t),m=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&l.return&&l.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},y=null,g=!1},function(e,t,n){e.exports=n(11)},function(e,t,n){var r=function(){return this}()||Function("return this")(),o=r.regeneratorRuntime&&0<=Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime"),a=o&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,e.exports=n(12),o)r.regeneratorRuntime=a;else try{delete r.regeneratorRuntime}catch(e){r.regeneratorRuntime=void 0}},function(S,e){!function(e){"use strict";function a(e,t,n,r){var o,a,i,l,t=t&&t.prototype instanceof c?t:c,t=Object.create(t.prototype),r=new u(r||[]);return t._invoke=(o=e,a=n,i=r,l=w,function(e,t){if(l===_)throw new Error("Generator is already running");if(l===k){if("throw"===e)throw t;return f()}for(i.method=e,i.arg=t;;){var n=i.delegate;if(n){var r=function e(t,n){var r=t.iterator[n.method];if(r!==d)return"throw"===(r=s(r,t.iterator,n.arg)).type?(n.method="throw",n.arg=r.arg,n.delegate=null,C):(r=r.arg)?r.done?(n[t.resultName]=r.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=d),n.delegate=null,C):r:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,C);if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=d,e(t,n),"throw"===n.method))return C;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return C}(n,i);if(r){if(r===C)continue;return r}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(l===w)throw l=k,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);if(l=_,"normal"===(r=s(o,a,i)).type){if(l=i.done?k:E,r.arg===C)continue;return{value:r.arg,done:i.done}}"throw"===r.type&&(l=k,i.method="throw",i.arg=r.arg)}}),t}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function c(){}function t(){}function n(){}function r(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function i(i){var t;this._invoke=function(n,r){function e(){return new Promise(function(e,t){!function t(e,n,r,o){if("throw"!==(e=s(i[e],i,n)).type){var a=e.arg;return(n=a.value)&&"object"==Du(n)&&m.call(n,"__await")?Promise.resolve(n.__await).then(function(e){t("next",e,r,o)},function(e){t("throw",e,r,o)}):Promise.resolve(n).then(function(e){a.value=e,r(a)},o)}o(e.arg)}(n,r,e,t)})}return t=t?t.then(e,e):e()}}function o(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function l(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function u(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(o,this),this.reset(!0)}function p(t){if(t){if(e=t[y])return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var e,n=-1;return(e=function e(){for(;++n<t.length;)if(m.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=d,e.done=!0,e}).next=e}}return{next:f}}function f(){return{value:d,done:!0}}var d,h=Object.prototype,m=h.hasOwnProperty,y=(v="function"==typeof Symbol?Symbol:{}).iterator||"@@iterator",g=v.asyncIterator||"@@asyncIterator",b=v.toStringTag||"@@toStringTag",v="object"==Du(S),V=e.regeneratorRuntime;if(V)return v&&(S.exports=V);(V=e.regeneratorRuntime=v?S.exports:{}).wrap=a;var w="suspendedStart",E="suspendedYield",_="executing",k="completed",C={};(e={})[y]=function(){return this},(v=(v=Object.getPrototypeOf)&&v(v(p([]))))&&v!==h&&m.call(v,y)&&(e=v);var O=n.prototype=c.prototype=Object.create(e);(t.prototype=O.constructor=n).constructor=t,n[b]=t.displayName="GeneratorFunction",V.isGeneratorFunction=function(e){return!!(e="function"==typeof e&&e.constructor)&&(e===t||"GeneratorFunction"===(e.displayName||e.name))},V.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,n):(e.__proto__=n,b in e||(e[b]="GeneratorFunction")),e.prototype=Object.create(O),e},V.awrap=function(e){return{__await:e}},r(i.prototype),i.prototype[g]=function(){return this},V.AsyncIterator=i,V.async=function(e,t,n,r){var o=new i(a(e,t,n,r));return V.isGeneratorFunction(t)?o:o.next().then(function(e){return e.done?e.value:o.next()})},r(O),O[b]="Generator",O[y]=function(){return this},O.toString=function(){return"[object Generator]"},V.keys=function(n){var e,r=[];for(e in n)r.push(e);return r.reverse(),function e(){for(;r.length;){var t=r.pop();if(t in n)return e.value=t,e.done=!1,e}return e.done=!0,e}},V.values=p,u.prototype={constructor:u,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=d,this.done=!1,this.delegate=null,this.method="next",this.arg=d,this.tryEntries.forEach(l),!e)for(var t in this)"t"===t.charAt(0)&&m.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=d)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(n){function e(e,t){return a.type="throw",a.arg=n,r.next=e,t&&(r.method="next",r.arg=d),!!t}if(this.done)throw n;for(var r=this,t=this.tryEntries.length-1;0<=t;--t){var o=this.tryEntries[t],a=o.completion;if("root"===o.tryLoc)return e("end");if(o.tryLoc<=this.prev){var i=m.call(o,"catchLoc"),l=m.call(o,"finallyLoc");if(i&&l){if(this.prev<o.catchLoc)return e(o.catchLoc,!0);if(this.prev<o.finallyLoc)return e(o.finallyLoc)}else if(i){if(this.prev<o.catchLoc)return e(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return e(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&m.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}var a=(o=o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc?null:o)?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,C):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),C},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),l(n),C}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r,o=n.completion;return"throw"===o.type&&(r=o.arg,l(n)),r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:p(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=d),C}}}(function(){return this}()||Function("return this")())},function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(1),r=n.n(a),a=n(14);n.n(a),(a=function(e){var t=e.onClick,n=e.isClicked;return o.a.createElement("div",{id:"container-circles"},o.a.createElement("div",{id:"outer-circle",onClick:function(e){n||t()}},o.a.createElement("div",{id:"inner-circle",className:n?"is-clicked":""})))}).propTypes={onClick:r.a.func.isRequired,isClicked:r.a.bool.isRequired},t.a=a},function(e,t){},function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(1),r=n.n(a),a=n(16);n.n(a),(a=function(e){return e=e.isShowWhiteFlash,o.a.createElement("div",{id:"white-flash",className:(e?"do-transition":"")+" normal"})}).propTypes={isShowWhiteFlash:r.a.bool.isRequired},t.a=a},function(e,t){},function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(1),r=n.n(a),a=n(18);n.n(a),(a=function(e){var t=e.isDisplayError,n=e.errorMsg,r=e.cssClass;return e=n,t&&e&&0<e.length?(console.log("cssClass",r),o.a.createElement("div",{className:r,id:"display-error"},o.a.createElement("h1",null,"Camera error: ",n))):null}).propTypes={isDisplayError:r.a.bool,errorMsg:r.a.string,cssClass:r.a.string},t.a=a},function(e,t){},function(e,t,n){"use strict";function r(e){return e?{display:"inline-block"}:{display:"none"}}t.a=r,t.b=function(e,t){return Object.assign({},t?{transform:"rotateY(180deg)"}:{transform:"none"},r(e))},t.c=function(){new Audio("data:audio/mp3;base64,"+o.a.base64).play()},t.d=function(e){console.info("react-html5-camera-photo info:",e)};var t=n(20),o=n.n(t)},function(e,t){e.exports={base64:"SUQzBAAAAAAASVRQRTEAAAAcAAADU291bmRKYXkuY29tIFNvdW5kIEVmZmVjdHMAVFNTRQAAAA8AAANMYXZmNTcuNzIuMTAxAAAAAAAAAAAAAAD/+1QAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABJbmZvAAAADwAAAB0AACxAAA0NDRUVFR4eHh4nJycvLy8vODg4QUFBQUlJSVJSUlJbW1tjY2NsbGxsdXV1fX19fYaGho+Pj4+Xl5egoKCgqampsbGxurq6usPDw8vLy8vU1NTd3d3d5eXl7u7u7vf39////wAAAABMYXZjNTcuOTMAAAAAAAAAAAAAAAAkAkAAAAAAAAAsQC+b5ZH/+5RkAA/wAABpAAAACAAADSAAAAEAAAGkAAAAIAAANIAAAAR4RBEitS0FLUmhcO1TSK1JoJrUtC4dpmkUlLQTQUtC4dpqkUkVoJoJpxcO01KKSK1JoJoRcO01i0kUlLGJkCdw7Skpaho4aHGJkCZkO0pIrDBxw0OGHoEzD3aUkVhg4wMHDD0E4tjjUkUgw8YPDhloJxbSaSRSGhxg8YpaCcW00kRSRWpNBOxZ/1VVFlv/9LLLqu//VVVUW//WWWWXd/6VVVVd/+qsssGH/ZZZVVUDt+1VVlli1dIxZZVUDI0RhaqqyzX9GLLLKq/+QtVVGgCAACMZAAY0NkBDHeIlc0SIVc0Kpu8Sudc0SucfQq+iRCd4hOlc0SubvEJ3NHiE76FErnCr13iE74d4hO8Q0SuaJUSuaJXKvEJ330Su8Q0KuaFUJ3iVzcWaJQ7wWYBHSMAgAD4xjjeYxjZ35znnO/zkJOfqQhKnO6B88jTnnOd0IRjhwUZTnO85///znkD/+5Rkrg7gAABpAAAACAAADSAAAAEQ2Y50IITAARuAEEgQjXnhDgIHCKc53IHxdyEbnOehCEkJ+pCelSMp4gHBRQ4HG5CSE8hJCN/U7oIBwONJAAAAABzNHNlZ0RgQYz9Z7iGTHEB/80BaFYCuiQxoNtAsgAYQaVXEGCOw1eAQwscAnqCA4wbgC2AfcLWgsjQU2SxNkDIOQcAICYDsC/QfJunpFwYwiBPhc4QIMLhqQFyQQMafSYToaBt4ucd4uQQUAgwyMNQQuQItic+ghuLAQdlkELTqJsxICMaQ4UERZT0KbbSURTRUOZYcwcwY5MiwoENUDJjGFslwwOn609SlqYXIK0HgXO8XPcbKThcIPIuUVoQiSyXYhB9OtX////+MF0v////zWIAICAEKgAB/mXJmPHgWEBgPOgZOlaYsIFBP+AQ4QLHrqkMPcPAKKBZ7ZFyAhl8AcIGyALmsoLqwDiCwCxhv4aX8i47Q9MOXKIXAEgKFDAxNenFnkHFkEQb/+5RE9QADBV+6LQRgAltMZtWglABa0gEKuaiAC3vAoeM1MAAWYQILzHIICTw5nW7RcBUEpjnkHEoDmA3lH0Xw/cQVFJCxdNqCh2E2Xy+dJs3JsiossdgrUcoTkRIc5t++OWO8ToPJNi5D0XIXSYEJxaidDVAy5PlocIZPW62fVpyLigBQBAHrIuVrJOFrg5pLCcSAkokPocwjSNHPHN0//////////+QhCj7qaGYVYmpqaAAAGq7AwgBlh8VBaQtGWez8jOC40Cs8QWdoEoqxgWS1OGgVhKDhH+mSYIkesyxKFQLAOJPHUkiRlkHQGoXY9YwWxnKGEht1WcAxxbxjowl8ZZOpjMoTFYLhMp1UWNzTcRKlEThVyzRJ9C5JpucTzZNnKasIvafZ4+7b8Nv83+Mazrf1JvUKBJrxNz2pLmfWWKB/Cz8x/7RM5/1Ce/+L76+P5VVv//Of/6N7Pce0F4fxJEPU6bWE3FR6oN5kpCbjkeTdixgeMWuvWJWbPnn/+5RkagAFn1nIzmXgAoEqWPDHsABTQW8/uPeACTkOaPcYsABbsyzEjbu+fchSvlqOGJ9HCWDt1LSxKyl8Ukl5ZzCMTzuj69ziub5eq/GI1/jU05e/Vyef+sLP2UOTjPezyH/2pWN3Kd+UX7tbbLmTSNimTrrEzKqWI82ZXEVz/f+APYQWsTYAFgsDYkDgbEotLbToGU/zJZiBhooccZojHRxKjGTDmIYgELVTQ6I2QqDhXYc7gxAUg/WKLpvmqB/Aa3CjVqNWDqJq6FkPVCvUdaazrdNQLVgv4+X93OD48uq7h+33naGTRWem5b5x8/PzbP34OY+8UeZuq839/vV6xL5/9b/XgaviJ9X39eff////zE3/////R5XdMx9Zlv5kMT+fb+7lKgBsvQwB1JIZFR4wVnWT2FlJ/9ydOZTEtzzjSMAwIrF0HW4nk9iLot6Z7fXzZ9ce865weBD+l9AJVqCZJWiEQsTcMVtf+2qtxuAtqJsBk0mAUCkVg8GmyjH/+5RkCQADSzRfbjFgBDyCa4/GlACMzGFh/PMACSAXa/+SUACjoDx0SmqACERx/bjtG4yJBsfEURAKyS7HTNFQ7ithQtedceTij5ucmkWN8luex6UdfP/y85Ma9PZExfX7fX5N6mDZIDUU5B4GFjoqoho+gmvcXDwfOFEQBAJAImIAIgAEBgoCAACgBWBb6r87R1ptBJTt9CIxPHoSUlxjgK9m/SEj3c159dg8LocfP5dBMH0/+r8bNvCqREJgBAo3AsBPzmJsdpUPjpXS9g9FMzKZrbNwgKTOuEDqnHmTRomLkbR2pd3RDi2Tznwzv//7otGijIoTEh2G3Q46FAgGDpWjmXd5f7f/7jYhgVdpAWecCrcCQt2IrHuQFiFFHxnaDIwAAJAFyyJGMwQlgONtlkI6kliXEWGr3/aI4kBnKOqNM539ilaUrLMZH/lUzP+ubGjlo8qZtgiBDTywUCohJd1f/r7rKml6giMBAAJEqYxixGCLCoy4k/LilUWoA4T/+5RkDIIDKhvW+ekyIkcDiu8kYoQMtHVX56UMiSmMKrj0jJnnxKuJignB5BdoZW+9uSWOWnCfrsssUm7dsQBie/NwY8W5Mcwd2coQYLGa4lTralcVA1UmoIyYTV/+2yAhmrb2/n/usGNZ7WlQTff6IlqcUUhEAJEqA8DKDVVREeIr8esjOrIUkuirufCdazjA811RD9N4LbvbaQCrw4dHvhMDz5A2w6KgoASjBS/Z+oFXtQIWF1JaIlkIxIAVMLauzmL6Rl2Q88yap03k8jXbwTjyBATEib0nyZFm3bJLlisBM01260qLqxtjRyN3m+oeF0gaslaUUUQ+FPb3T5AmE9qgnWRkokRC7/ODQPHdJPvq//9E2/SxEVK8v8htbsiCAAAgWWvTAjwQFpoiNLhYgE54RXwYLM+nGalvD2YxIJBjCwcqYng0c1/O3ts1SX8vgE9ZFUddfs8VPyCUwUA1wwzDBe2/+arbfpkEAAkBTABB0BwGgTAGdBCwAkBHJh7/+5RkDAADMxjUaYxJwkuiap8xIygM4G9Tp5kQmQkTrXzAmmOsHqFdAdFFCiEr5yxbLwZtWEEdVovOs23MAvAStVLKV8IXKgKrT8ncmLedi7bB/cA3VbAaKlqOq5/HaA4InbPz5nmuucADoe6xcBNt7tSPMuqIZAAAJBShDfodhw8JW8ZZJHhUwH3Fw7/DalLuM1CoAAQXCh4QvMhMrHIu0JKhUHpigUiESAQcKQCBYuIlFAIIUGgiPNQr+3/qOciRRBARJTh8shKgNIuRVKUxSdti8UYsSmgfCmU53r4EGDk9h+UaQORLKigsxpCqsGqz2zQThjt29fjfjzCmksKQOfPf4ErnOwvcZIT9DQVP/9TFYZiYuyTT96/zSiWVZKgcauvX/Fd2hVVUNhuyQBJGdRxhU4uKqjyBE8rLjlmFbTMFLMEjhIDHv6NmRNmf/x/F/5cxOiRvEoLByWYmOhp3cSRgUq/7/qoYV0MBAAAAIAdHYSUB4FLQkP5cCxrCATz/+5RkDAADcxrQ+e8ackTCep8wwjpL4TlL56RsgQ2T6HjEiTjmdytbVp+p2hSvFX/J3siqX5Wp2r5mJhZB/SmifjK/QQ4ShGCxzKeZDGcp/kktH8kDWWOSZDARPRv7gK6He3vFplnf/ISQ4UblSirr/7W5uvEVbi7d/41VMOCGZhBRugHYuN2QEgAmo6plMR15BTDpS6GyW+h+zjhlE8LMf//ITt//LrTQsNbb/J9Zyp169ismbG93VWFmoE0ymLyzqiiAgAXG5uD/P1BnCX472hAoSyXQ5JvjJEp2tNIkZx/G6bBA1KGgQYzpIzGm5IWHFI3Mrnvebeakn//f8j/pWaH1rsSqWc2dp0jnbn3/7JmdV7+rm4jPHhXFE1r0tJiYoAAAAigB0SlA5VjmyuiQgE4EkySaHa9QarZQzE+i/c44HSRySJ4CDjRhoytL7p/+PEeSed2CYQgcEgTaIoDtrrpKeaNEABAKbd2LYYyuPAvgvmUzBhOEiQkCUASwM4n/+5RkDwACrRjR+eZCQEOC2f4x5jYL0TlD56RriN8N7HyXiJ54Gw8X6M1cW+MDfWrsKucJQ0gMq/komUNiAq4FSIwOpfEowi0zG6KleQCSwEHCweBskbbnvsRfcri9EggAAUkBeGC1nNGwSq4XGArmaGnlPGbIccshyzql3zEm2iXAZItfIUAwLCoVDYKxffIQWDp2wsVDAJDsKevOnvQcxkqRgBAKSS4GO+X2ZRCBlqF/QtpvneXKjA4qgriVakmnNLSUvMmiVGtept5SCQ5tDuocjzRsk/bPpezir/nVJu2kc4xlwvbaEtJd6zQ6R3eZfPv/ZJ9m7oiBSzn3SsPUuzAigOuJgJs0MnJOxdG1Hos5k5GjucbkewcqlX//d9egcowOwg72yIVFgeHHACCQIp/9PT01NnhGAQAAAknKA6Tbgw7HGWOAnUc4qlQxWxVTQozhF1NqtN4r5ZNzwrSNPp7VsAAhMNBEATOaL/+InKoczbIhOQm8yucxCbkEwBj/+5RkJQACy03O+eEWUj8Cqd0kI2JK7FM957BJCP8LZrDEjRj7MQQulP8iNv1ZQ4OWjvqHfxoAAAVtoBJyKgSboha50SOlHFNhEvo0yk1IDQILHJd8pzLwyCCFsP8b6IUbJYLXxxLBnDxp1STleWZlv/9Kz3aKJGABkluAYT6bKlJ0SsMEFQhDZNG46mJhXjMyWnaEijV2W3UQQjhJ2y0PbgCxKEv/f+ooiGu9UlKa1tKv4sNhxYveU5D+e9J/2/3u9i4YA5osaQqZV7oIAAVOEC1I9By09EwqKkMtLA2RufTbvi1rZ3AWUsGCwYCCGdpMJPBVQLQqxvFCAWEaRqjziYSr/tU5CgK2lSZ5l0MQIByXbAOUTklQFwOgfB8rh4B4jOlhhg7ZuucQTkGoy6+ZAqKKQ6gWMbPkZmZ9al/+kwJlkVSkI3uaVC2PdDdkO2QyMxaaVttL+yKt1NKxBTFCCAVrowyW2stA1KFv0hbLb65ETygHpTFEK1a04Ng4gIb/+5RkOwAC0k7O+YMUUj6BiiwFgg3KmJ8zphhtQRKNZGBmJRA3zVydPlFXGVS////puxqodg5reZNm7/MndWf/JPWm/zFfXM98bBIBmkEAqijiJIAzdzxAOh6LS9CEgB3NmijZQuE95VFuWutlsK2FVMstBJuVY76LLWembjBBYkSAGFCwCSE1Ppa8UNIPf/rQVegNg4JAcJFg6bBbQAIAMCuSFKdNYIqoIFhkZHZCSAvBs6hSPpInc9z4qA4OHAHPHf+l0aFJ/6EAAV2ArBonPBCu1MQoShTe7XNf9XsZ9qpd+AAP+gZLrd1p3akdlU8FYXUqpYXEkAAVGvN3ewT7cvODAwWv/t31+k+EtuUdesnV7G0KUzixLoR06olmbZdiqiqzv7N7ttT6aftruhpizihYWJqUcutcZKiaIBXJKbYkBix6RiszxMK5sJ3Ztcpka/ndJlS85HzhllK4TzomBkODyvw6MKWqB1yAbBMTKNvY95k+RrRGFkLBABAgI4n/+5RkT4QSok5JyeYT4kUDee0Z40mKUJ8YyLypwOeOZChhDhBy6cO3WizCTU0ThVTKhLA6LJCj9VhvNbUxMr572iZ6pVQhrx7L5n3lEWWQSMJMsqkMdU/2ogTDpQ1LUgDmIw0+xSPp8q74NAETGx7fpCHkBgwgHtJJbfdIBQ2Ei9iiS4Fg8HgwECBAIpSoj4KVspVh+KNAkISWq9gdCp655vAt6qxRINC8/20T9M/zI5/3sr5eevDsXTYoZDpVDe4LaAc3X7C+k/mRXV/V5vK5X/MCgvHUGw6tbfym3UZ9VRnJVEgkcSR3dZmtOt37p7dv6f/T6V/5QuVKCHLFJbd+mxP/FHcjQI+/uXECJ7zhGKxohM9ZXlY1KlYdgNDNEOUMYLMaFMiPhVqvdmtZbF0KohuyOtfX+j/+n/xVc7/7fut6xwOQ9a6vx5ougb49A6BJJiQoymSK5RLTnwaC0KFVw9GzUl1d/2ZWq5kZlbpVkQ4EZ1WpHor+uT365V/7vT//+5Rkao9yt1FEAeY+EEBoWIAk4pQJATkOBZhRAQuSIZBzCXDoq+3/8Y3/2M/FBCAObWqHRAAtBiifAQCA1BRpVb52s2S5LI2Dq/8pdzkc9Eo10eK9QbhdwiNCt85vHP1ouZJ3FHtp77tE/0fZHon7N6oJwACADvQx9SohjjDiuogvjxhWFb55pURta2RhcxRyGZ73J0P0VvoiQ4ZlVaNv1djz1ZmtRGX9aKt2/33+1vszag1xXTcAbOWQBd6nCJkAAAwE50ngeCHKFx4NgkajxyDQGDg8gbAB82lgNsldzF0/I1VXDWjZv6losVd/pjqv+mkYxQAgLAqKmFTMqgPTSAlvGL6vsVEwoP4QoNGxYoxifXxK5OK3E9Raod2Xk6CZV263XWvqrscMz9Fa3b0ATfVXh3tQen8E8aMctpDNFg+tKkvaxhtKRI5UCFQOo+ei5Y3ApV5GBuyyL3V5hL1tIrGwRIlHhIqrvQBtZxSWLjrVaqwMSGQ1hqCNaJDGiFH/+5RkhwBSYU3DQUYS4DThKHsAIgQHeGkNgIhqgQQJ4NQAjCJAlFF/+Pt02b8lSSXzdgtLH4ihpv64/LHJp/ekvx66X+Hd5lMVFew/KbF2/CeuO7/xf903H92Cr0eRG0lKHlls5APGEG0b1MrTN/Pxtf92++3b1/ZC7yOuo1L/fUJr99PmOau1+DczWWohH8L0eh/nWTbo8/OvyZ/ccZuEf/+Rn/l/L/M//+ZEqKpH+ZFToqJ+iqi+i/yoi+ip9yhgYMh27OZUWpgoIEd1ITFaxUllRQWcDAaskNCYwCgJAlEQaBsJgsBQSlREGgbCYLBUBAUSiINB2dKnUZK3kSJ1948Y9LNCn/I9c763Wf1AVct8rUxBTUUzLjk5LjVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+5REtg5yOQ+/ACAYIkLiWBAEIy5G6UjKQIBcAPWAH5ARjShVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVACCU025+ZGfywyOy3//ksyP+XMmstIyNWCggQNHI1ls////WWRyMmVgYME6GTLJZ///2WWxyNWWSoZGrWyzL/9WVqCBOhkyhgYMI6GrBQUqFpoVFP9bDILCzOLiv/rFRYk//qF+LCrDKm/4o2sVFtbP6hdmLCsyoXUxBTUUzLjk5LjVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+5Rkjg/ygl8ruCAaQiiABWAAAAAAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjk5LjVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+5RkUY/wAABpAAAACAAADSAAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjk5LjVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+5RkUY/wAABpAAAACAAADSAAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjk5LjVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+5RkUY/wAABpAAAACAAADSAAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjk5LjVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+5RkUY/wAABpAAAACAAADSAAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjk5LjVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+5RkUY/wAABpAAAACAAADSAAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjk5LjVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+5RkUY/wAABpAAAACAAADSAAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjk5LjVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+5RkUY/wAABpAAAACAAADSAAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjk5LjVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+5RkUY/wAABpAAAACAAADSAAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjk5LjVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+5RkUY/wAABpAAAACAAADSAAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjk5LjVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+5RkUY/wAABpAAAACAAADSAAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjk5LjVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+5RkUY/wAABpAAAACAAADSAAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjk5LjVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+5RkUY/wAABpAAAACAAADSAAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjk5LjVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+5RkUY/wAABpAAAACAAADSAAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVU="}},function(e,t){}],i.c=a,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=3))},function(e,t){e.exports=d},function(e,t){e.exports=h},function(e,t){e.exports=m},function(e,t){e.exports=y},function(e,t){e.exports=g},function(e,t){e.exports=b},function(e,t){e.exports=v},function(e,t){e.exports=V},function(e,t,n){var r,o,a,i,l,s;function c(e){if(s[e])return s[e].exports;var t=s[e]={exports:{},id:e,loaded:!1};return l[e].call(t.exports,t,t.exports,c),t.loaded=!0,t.exports}e.exports=(r=n(27),o=n(0),a=n(30),i=n(31),s={},c.m=l=[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=Du(t)&&"function"!=typeof t?e:t}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=function(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),e},l=r(n(1)),s=n(2),c=r(s),u=r(n(3)),p=r(n(4));function f(){var e,o;!function(e){if(!(e instanceof f))throw new TypeError("Cannot call a class as a function")}(this);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return e=o=a(this,(e=f.__proto__||Object.getPrototypeOf(f)).call.apply(e,[this].concat(n))),o._sigPad=null,o._excludeOurProps=function(){var e=o.props;return e.canvasProps,e.clearOnResize,function(e,t){var n,r={};for(n in e)0<=t.indexOf(n)||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}(e,["canvasProps","clearOnResize"])},o.getCanvas=function(){return o._canvas},o.getTrimmedCanvas=function(){var e=document.createElement("canvas");return e.width=o._canvas.width,e.height=o._canvas.height,e.getContext("2d").drawImage(o._canvas,0,0),(0,p.default)(e)},o.getSignaturePad=function(){return o._sigPad},o._checkClearOnResize=function(){o.props.clearOnResize&&o._resizeCanvas()},o._resizeCanvas=function(){var e,t=o.props.canvasProps||{},n=t.width,r=t.height;n&&r||(e=o._canvas,t=Math.max(window.devicePixelRatio||1,1),n||(e.width=e.offsetWidth*t),r||(e.height=e.offsetHeight*t),e.getContext("2d").scale(t,t),o.clear())},o.on=function(){return window.addEventListener("resize",o._checkClearOnResize),o._sigPad.on()},o.off=function(){return window.removeEventListener("resize",o._checkClearOnResize),o._sigPad.off()},o.clear=function(){return o._sigPad.clear()},o.isEmpty=function(){return o._sigPad.isEmpty()},o.fromDataURL=function(e,t){return o._sigPad.fromDataURL(e,t)},o.toDataURL=function(e,t){return o._sigPad.toDataURL(e,t)},o.fromData=function(e){return o._sigPad.fromData(e)},o.toData=function(){return o._sigPad.toData()},a(o,e)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+Du(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(f,s.Component),i(f,[{key:"componentDidMount",value:function(){this._sigPad=new u.default(this._canvas,this._excludeOurProps()),this._resizeCanvas(),this.on()}},{key:"componentWillUnmount",value:function(){this.off()}},{key:"componentDidUpdate",value:function(){Object.assign(this._sigPad,this._excludeOurProps())}},{key:"render",value:function(){var t=this,e=this.props.canvasProps;return c.default.createElement("canvas",o({ref:function(e){t._canvas=e}},e))}}]),(i=f).propTypes={velocityFilterWeight:l.default.number,minWidth:l.default.number,maxWidth:l.default.number,minDistance:l.default.number,dotSize:l.default.oneOfType([l.default.number,l.default.func]),penColor:l.default.string,throttle:l.default.number,onEnd:l.default.func,onBegin:l.default.func,canvasProps:l.default.object,clearOnResize:l.default.bool},i.defaultProps={clearOnResize:!0},t.default=i},function(e,t){e.exports=r},function(e,t){e.exports=o},function(e,t){e.exports=a},function(e,t){e.exports=i}],c.c=s,c.p="",c(0))},function(e,t){e.exports=w},function(e,t,n){"use strict";n.r(t),n.d(t,"Headers",function(){return u}),n.d(t,"Request",function(){return g}),n.d(t,"Response",function(){return v}),n.d(t,"DOMException",function(){return w}),n.d(t,"fetch",function(){return E});var r,o,l="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==l&&l,s={searchParams:"URLSearchParams"in l,iterable:"Symbol"in l&&"iterator"in Symbol,blob:"FileReader"in l&&"Blob"in l&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in l,arrayBuffer:"ArrayBuffer"in l};function a(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function c(e){return"string"!=typeof e?String(e):e}function i(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return s.iterable&&(e[Symbol.iterator]=function(){return e}),e}function u(t){this.map={},t instanceof u?t.forEach(function(e,t){this.append(t,e)},this):Array.isArray(t)?t.forEach(function(e){this.append(e[0],e[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function p(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function f(n){return new Promise(function(e,t){n.onload=function(){e(n.result)},n.onerror=function(){t(n.error)}})}function d(e){var t=new FileReader,n=f(t);return t.readAsArrayBuffer(e),n}function h(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function m(){return this.bodyUsed=!1,this._initBody=function(e){this.bodyUsed=this.bodyUsed,(this._bodyInit=e)?"string"==typeof e?this._bodyText=e:s.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:s.formData&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:s.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():s.arrayBuffer&&s.blob&&e&&DataView.prototype.isPrototypeOf(e)?(this._bodyArrayBuffer=h(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):s.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||o(e))?this._bodyArrayBuffer=h(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):s.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},s.blob&&(this.blob=function(){var e=p(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?p(this)||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer)):this.blob().then(d)}),this.text=function(){var e,t,n=p(this);if(n)return n;if(this._bodyBlob)return e=this._bodyBlob,n=f(t=new FileReader),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},s.formData&&(this.formData=function(){return this.text().then(b)}),this.json=function(){return this.text().then(JSON.parse)},this}s.arrayBuffer&&(r=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],o=ArrayBuffer.isView||function(e){return e&&-1<r.indexOf(Object.prototype.toString.call(e))}),u.prototype.append=function(e,t){e=a(e),t=c(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},u.prototype.delete=function(e){delete this.map[a(e)]},u.prototype.get=function(e){return e=a(e),this.has(e)?this.map[e]:null},u.prototype.has=function(e){return this.map.hasOwnProperty(a(e))},u.prototype.set=function(e,t){this.map[a(e)]=c(t)},u.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},u.prototype.keys=function(){var n=[];return this.forEach(function(e,t){n.push(t)}),i(n)},u.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),i(t)},u.prototype.entries=function(){var n=[];return this.forEach(function(e,t){n.push([t,e])}),i(n)},s.iterable&&(u.prototype[Symbol.iterator]=u.prototype.entries);var y=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function g(e,t){if(!(this instanceof g))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var n,r=(t=t||{}).body;if(e instanceof g){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new u(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,r||null==e._bodyInit||(r=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new u(t.headers)),this.method=(e=(n=t.method||this.method||"GET").toUpperCase(),-1<y.indexOf(e)?e:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r),"GET"!==this.method&&"HEAD"!==this.method||"no-store"!==t.cache&&"no-cache"!==t.cache||((t=/([?&])_=[^&]*/).test(this.url)?this.url=this.url.replace(t,"$1_="+(new Date).getTime()):this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime())}function b(e){var n=new FormData;return e.trim().split("&").forEach(function(e){var t;e&&(e=(t=e.split("=")).shift().replace(/\+/g," "),t=t.join("=").replace(/\+/g," "),n.append(decodeURIComponent(e),decodeURIComponent(t)))}),n}function v(e,t){if(!(this instanceof v))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t=t||{},this.type="default",this.status=void 0===t.status?200:t.status,this.ok=200<=this.status&&this.status<300,this.statusText=void 0===t.statusText?"":""+t.statusText,this.headers=new u(t.headers),this.url=t.url||"",this._initBody(e)}g.prototype.clone=function(){return new g(this,{body:this._bodyInit})},m.call(g.prototype),m.call(v.prototype),v.prototype.clone=function(){return new v(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new u(this.headers),url:this.url})},v.error=function(){var e=new v(null,{status:0,statusText:""});return e.type="error",e};var V=[301,302,303,307,308];v.redirect=function(e,t){if(-1===V.indexOf(t))throw new RangeError("Invalid status code");return new v(null,{status:t,headers:{location:e}})};var w=l.DOMException;try{new w}catch(e){(w=function(e,t){this.message=e,this.name=t,e=Error(e),this.stack=e.stack}).prototype=Object.create(Error.prototype),w.prototype.constructor=w}function E(r,i){return new Promise(function(o,e){var t=new g(r,i);if(t.signal&&t.signal.aborted)return e(new w("Aborted","AbortError"));var a=new XMLHttpRequest;function n(){a.abort()}a.onload=function(){var e,n,t={status:a.status,statusText:a.statusText,headers:(e=a.getAllResponseHeaders()||"",n=new u,e.replace(/\r?\n[\t ]+/g," ").split("\r").map(function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e}).forEach(function(e){var t=e.split(":");(e=t.shift().trim())&&(t=t.join(":").trim(),n.append(e,t))}),n)};t.url="responseURL"in a?a.responseURL:t.headers.get("X-Request-URL");var r="response"in a?a.response:a.responseText;setTimeout(function(){o(new v(r,t))},0)},a.onerror=function(){setTimeout(function(){e(new TypeError("Network request failed"))},0)},a.ontimeout=function(){setTimeout(function(){e(new TypeError("Network request failed"))},0)},a.onabort=function(){setTimeout(function(){e(new w("Aborted","AbortError"))},0)},a.open(t.method,function(t){try{return""===t&&l.location.href?l.location.href:t}catch(e){return t}}(t.url),!0),"include"===t.credentials?a.withCredentials=!0:"omit"===t.credentials&&(a.withCredentials=!1),"responseType"in a&&(s.blob?a.responseType="blob":s.arrayBuffer&&t.headers.get("Content-Type")&&-1!==t.headers.get("Content-Type").indexOf("application/octet-stream")&&(a.responseType="arraybuffer")),!i||"object"!=Du(i.headers)||i.headers instanceof u?t.headers.forEach(function(e,t){a.setRequestHeader(t,e)}):Object.getOwnPropertyNames(i.headers).forEach(function(e){a.setRequestHeader(e,c(i.headers[e]))}),t.signal&&(t.signal.addEventListener("abort",n),a.onreadystatechange=function(){4===a.readyState&&t.signal.removeEventListener("abort",n)}),a.send(void 0===t._bodyInit?null:t._bodyInit)})}E.polyfill=!0,l.fetch||(l.fetch=E,l.Headers=u,l.Request=g,l.Response=v)},function(t,n,r){!function(m){var e;void 0===(e="function"==typeof(e=function(){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function e(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e=a(n),t=r?(t=a(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Du(t)&&"function"!=typeof t?l(e):t}}function c(e,t,n){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){if(e=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=a(e)););return e}(e,t))return(t=Object.getOwnPropertyDescriptor(e,t)).get?t.get.call(n):t.value})(e,t,n||e)}var t,n,u=(e(h,[{key:"addEventListener",value:function(e,t){e in this.listeners||(this.listeners[e]=[]),this.listeners[e].push(t)}},{key:"removeEventListener",value:function(e,t){if(e in this.listeners)for(var n=this.listeners[e],r=0,o=n.length;r<o;r++)if(n[r]===t)return void n.splice(r,1)}},{key:"dispatchEvent",value:function(t){var n=this;if(t.type in this.listeners){for(var e=this.listeners[t.type],r=0,o=e.length;r<o;r++)!function(e){setTimeout(function(){return e.call(n,t)})}(e[r]);return!t.defaultPrevented}}}]),h),p=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(n,u);var t=s(n);function n(){var e;return r(this,n),(e=t.call(this)).listeners||u.call(l(e)),Object.defineProperty(l(e),"aborted",{value:!1,writable:!0,configurable:!0}),Object.defineProperty(l(e),"onabort",{value:null,writable:!0,configurable:!0}),e}return e(n,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(e){"abort"===e.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,e)),c(a(n.prototype),"dispatchEvent",this).call(this,e)}}]),n}(),f=(e(d,[{key:"abort",value:function(){var t;try{t=new Event("abort")}catch(e){"undefined"!=typeof document?document.createEvent?(t=document.createEvent("Event")).initEvent("abort",!1,!1):(t=document.createEventObject()).type="abort":t={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(t)}},{key:"toString",value:function(){return"[object AbortController]"}}]),d);function d(){r(this,d),Object.defineProperty(this,"signal",{value:new p,writable:!0,configurable:!0})}function h(){r(this,h),Object.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}"undefined"!=typeof Symbol&&Symbol.toStringTag&&(f.prototype[Symbol.toStringTag]="AbortController",p.prototype[Symbol.toStringTag]="AbortSignal"),((n=t="undefined"!=typeof self?self:m).__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL?(console.log("__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL=true is set, will force install polyfill"),1):"function"==typeof n.Request&&!n.Request.prototype.hasOwnProperty("signal")||!n.AbortController)&&(t.AbortController=f,t.AbortSignal=p)})?e.call(n,r,n,t):e)||(t.exports=e)}.call(this,r(26))},function(e,t){var n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==("undefined"==typeof window?"undefined":Du(window))&&(n=window)}e.exports=n},function(e,t,n){e.exports=n(28)()},function(e,t,n){"use strict";var i=n(29);function r(){}function o(){}o.resetWarningCache=r,e.exports=function(){function e(e,t,n,r,o,a){if(a!==i)throw(a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")).name="Invariant Violation",a}function t(){return e}var n={array:e.isRequired=e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:r};return n.PropTypes=n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";
/*!
 * Signature Pad v2.3.2
 * https://github.com/szimek/signature_pad
 *
 * Copyright 2017 Szymon Nowak
 * Released under the MIT license
 *
 * The main idea and some parts of the code (e.g. drawing variable width Bézier curve) are taken from:
 * http://corner.squareup.com/2012/07/smoother-signatures.html
 *
 * Implementation of interpolation using cubic Bézier curves is taken from:
 * http://benknowscode.wordpress.com/2012/09/14/path-interpolation-using-cubic-bezier-and-control-point-estimation-in-javascript
 *
 * Algorithm for approximated length of a Bézier curve is taken from:
 * http://www.lemoda.net/maths/bezier-length/index.html
 *
 */function c(e,t,n){this.x=e,this.y=t,this.time=n||(new Date).getTime()}function r(e,t,n,r){this.startPoint=e,this.control1=t,this.control2=n,this.endPoint=r}function f(e,t){var n,r,o,a,i,l,s,c,u=this;function p(){c=!1===o.leading?0:Date.now(),s=null,l=n.apply(a,i),s||(a=i=null)}this.velocityFilterWeight=(t=t||{}).velocityFilterWeight||.7,this.minWidth=t.minWidth||.5,this.maxWidth=t.maxWidth||2.5,this.throttle="throttle"in t?t.throttle:16,this.minDistance="minDistance"in t?t.minDistance:5,this.throttle?this._strokeMoveUpdate=(n=f.prototype._strokeUpdate,r=this.throttle,s=null,c=0,o={},function(){var e=Date.now(),t=r-(e-(c=c||!1!==o.leading?c:e));return a=this,i=arguments,t<=0||r<t?(s&&(clearTimeout(s),s=null),c=e,l=n.apply(a,i),s||(a=i=null)):s||!1===o.trailing||(s=setTimeout(p,t)),l}):this._strokeMoveUpdate=f.prototype._strokeUpdate,this.dotSize=t.dotSize||function(){return(this.minWidth+this.maxWidth)/2},this.penColor=t.penColor||"black",this.backgroundColor=t.backgroundColor||"rgba(0,0,0,0)",this.onBegin=t.onBegin,this.onEnd=t.onEnd,this._canvas=e,this._ctx=e.getContext("2d"),this.clear(),this._handleMouseDown=function(e){1===e.which&&(u._mouseButtonDown=!0,u._strokeBegin(e))},this._handleMouseMove=function(e){u._mouseButtonDown&&u._strokeMoveUpdate(e)},this._handleMouseUp=function(e){1===e.which&&u._mouseButtonDown&&(u._mouseButtonDown=!1,u._strokeEnd(e))},this._handleTouchStart=function(e){1===e.targetTouches.length&&(e=e.changedTouches[0],u._strokeBegin(e))},this._handleTouchMove=function(e){e.preventDefault(),e=e.targetTouches[0],u._strokeMoveUpdate(e)},this._handleTouchEnd=function(e){e.target===u._canvas&&(e.preventDefault(),u._strokeEnd(e))},this.on()}n.r(t),c.prototype.velocityFrom=function(e){return this.time!==e.time?this.distanceTo(e)/(this.time-e.time):1},c.prototype.distanceTo=function(e){return Math.sqrt(Math.pow(this.x-e.x,2)+Math.pow(this.y-e.y,2))},c.prototype.equals=function(e){return this.x===e.x&&this.y===e.y&&this.time===e.time},r.prototype.length=function(){for(var e=0,t=void 0,n=void 0,r=0;r<=10;r+=1){var o,a=r/10,i=this._point(a,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),l=this._point(a,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);0<r&&(o=i-t,a=l-n,e+=Math.sqrt(o*o+a*a)),t=i,n=l}return e},r.prototype._point=function(e,t,n,r,o){return t*(1-e)*(1-e)*(1-e)+3*n*(1-e)*(1-e)*e+3*r*(1-e)*e*e+o*e*e*e},f.prototype.clear=function(){var e=this._ctx,t=this._canvas;e.fillStyle=this.backgroundColor,e.clearRect(0,0,t.width,t.height),e.fillRect(0,0,t.width,t.height),this._data=[],this._reset(),this._isEmpty=!0},f.prototype.fromDataURL=function(e){var t=this,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=new Image,o=n.ratio||window.devicePixelRatio||1,a=n.width||this._canvas.width/o,i=n.height||this._canvas.height/o;this._reset(),r.src=e,r.onload=function(){t._ctx.drawImage(r,0,0,a,i)},this._isEmpty=!1},f.prototype.toDataURL=function(e){var t;if("image/svg+xml"===e)return this._toSVG();for(var n=arguments.length,r=Array(1<n?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return(t=this._canvas).toDataURL.apply(t,[e].concat(r))},f.prototype.on=function(){this._handleMouseEvents(),this._handleTouchEvents()},f.prototype.off=function(){this._canvas.removeEventListener("mousedown",this._handleMouseDown),this._canvas.removeEventListener("mousemove",this._handleMouseMove),document.removeEventListener("mouseup",this._handleMouseUp),this._canvas.removeEventListener("touchstart",this._handleTouchStart),this._canvas.removeEventListener("touchmove",this._handleTouchMove),this._canvas.removeEventListener("touchend",this._handleTouchEnd)},f.prototype.isEmpty=function(){return this._isEmpty},f.prototype._strokeBegin=function(e){this._data.push([]),this._reset(),this._strokeUpdate(e),"function"==typeof this.onBegin&&this.onBegin(e)},f.prototype._strokeUpdate=function(e){var t=e.clientX,n=e.clientY,e=this._createPoint(t,n),t=(n=(t=this._data[this._data.length-1])&&t[t.length-1])&&e.distanceTo(n)<this.minDistance;n&&t||(t=(n=this._addPoint(e)).curve,n=n.widths,t&&n&&this._drawCurve(t,n.start,n.end),this._data[this._data.length-1].push({x:e.x,y:e.y,time:e.time,color:this.penColor}))},f.prototype._strokeEnd=function(e){var t,n=2<this.points.length,r=this.points[0];!n&&r&&this._drawDot(r),r&&(n=(t=this._data[this._data.length-1])[t.length-1],r.equals(n)||t.push({x:r.x,y:r.y,time:r.time,color:this.penColor})),"function"==typeof this.onEnd&&this.onEnd(e)},f.prototype._handleMouseEvents=function(){this._mouseButtonDown=!1,this._canvas.addEventListener("mousedown",this._handleMouseDown),this._canvas.addEventListener("mousemove",this._handleMouseMove),document.addEventListener("mouseup",this._handleMouseUp)},f.prototype._handleTouchEvents=function(){this._canvas.style.msTouchAction="none",this._canvas.style.touchAction="none",this._canvas.addEventListener("touchstart",this._handleTouchStart),this._canvas.addEventListener("touchmove",this._handleTouchMove),this._canvas.addEventListener("touchend",this._handleTouchEnd)},f.prototype._reset=function(){this.points=[],this._lastVelocity=0,this._lastWidth=(this.minWidth+this.maxWidth)/2,this._ctx.fillStyle=this.penColor},f.prototype._createPoint=function(e,t,n){var r=this._canvas.getBoundingClientRect();return new c(e-r.left,t-r.top,n||(new Date).getTime())},f.prototype._addPoint=function(e){var t=this.points;if(t.push(e),2<t.length){3===t.length&&t.unshift(t[0]);var n=this._calculateCurveControlPoints(t[0],t[1],t[2]).c2,e=this._calculateCurveControlPoints(t[1],t[2],t[3]).c1,n=new r(t[1],n,e,t[2]),e=this._calculateCurveWidths(n);return t.shift(),{curve:n,widths:e}}return{}},f.prototype._calculateCurveControlPoints=function(e,t,n){var r=e.x-t.x,o=e.y-t.y,a=t.x-n.x,i=t.y-n.y,l=(e.x+t.x)/2,s=(e.y+t.y)/2,e=(t.x+n.x)/2,n=(t.y+n.y)/2,o=Math.sqrt(r*r+o*o),i=Math.sqrt(a*a+i*i);return{c1:new c(l+(i=t.x-(e+(l-e)*(o=i/(o+i)))),s+(o=t.y-(n+(s-n)*o))),c2:new c(e+i,n+o)}},f.prototype._calculateCurveWidths=function(e){var t=e.startPoint,n=e.endPoint,e={start:null,end:null},n=this.velocityFilterWeight*n.velocityFrom(t)+(1-this.velocityFilterWeight)*this._lastVelocity,t=this._strokeWidth(n);return e.start=this._lastWidth,e.end=t,this._lastVelocity=n,this._lastWidth=t,e},f.prototype._strokeWidth=function(e){return Math.max(this.maxWidth/(e+1),this.minWidth)},f.prototype._drawPoint=function(e,t,n){var r=this._ctx;r.moveTo(e,t),r.arc(e,t,n,0,2*Math.PI,!1),this._isEmpty=!1},f.prototype._drawCurve=function(e,t,n){var r=this._ctx,o=n-t,a=Math.floor(e.length());r.beginPath();for(var i=0;i<a;i+=1){var l=i/a,s=l*l,c=s*l,u=1-l,p=u*u,f=p*u,d=f*e.startPoint.x;d+=3*p*l*e.control1.x,d+=3*u*s*e.control2.x,d+=c*e.endPoint.x,f*=e.startPoint.y,f+=3*p*l*e.control1.y,f+=3*u*s*e.control2.y,f+=c*e.endPoint.y,this._drawPoint(d,f,t+c*o)}r.closePath(),r.fill()},f.prototype._drawDot=function(e){var t=this._ctx,n="function"==typeof this.dotSize?this.dotSize():this.dotSize;t.beginPath(),this._drawPoint(e.x,e.y,n),t.closePath(),t.fill()},f.prototype._fromData=function(e,t,n){for(var r=0;r<e.length;r+=1){var o=e[r];if(1<o.length)for(var a=0;a<o.length;a+=1){var i=o[a],l=new c(i.x,i.y,i.time),s=i.color;0===a?(this.penColor=s,this._reset(),this._addPoint(l)):a!==o.length-1&&(l=(i=this._addPoint(l)).curve,i=i.widths,l&&i&&t(l,i,s))}else this._reset(),n(o[0])}},f.prototype._toSVG=function(){var r=this,e=this._data,t=this._canvas,n=Math.max(window.devicePixelRatio||1,1),o=t.width/n,n=t.height/n,a=document.createElementNS("http://www.w3.org/2000/svg","svg");if(a.setAttributeNS(null,"width",t.width),a.setAttributeNS(null,"height",t.height),this._fromData(e,function(e,t,n){var r=document.createElement("path");isNaN(e.control1.x)||isNaN(e.control1.y)||isNaN(e.control2.x)||isNaN(e.control2.y)||(e="M "+e.startPoint.x.toFixed(3)+","+e.startPoint.y.toFixed(3)+" C "+e.control1.x.toFixed(3)+","+e.control1.y.toFixed(3)+" "+e.control2.x.toFixed(3)+","+e.control2.y.toFixed(3)+" "+e.endPoint.x.toFixed(3)+","+e.endPoint.y.toFixed(3),r.setAttribute("d",e),r.setAttribute("stroke-width",(2.25*t.end).toFixed(3)),r.setAttribute("stroke",n),r.setAttribute("fill","none"),r.setAttribute("stroke-linecap","round"),a.appendChild(r))},function(e){var t=document.createElement("circle"),n="function"==typeof r.dotSize?r.dotSize():r.dotSize;t.setAttribute("r",n),t.setAttribute("cx",e.x),t.setAttribute("cy",e.y),t.setAttribute("fill",e.color),a.appendChild(t)}),o='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 '+o+" "+n+'" width="'+o+'" height="'+n+'">',void 0===(n=a.innerHTML)){var i=document.createElement("dummy"),l=a.childNodes;i.innerHTML="";for(var s=0;s<l.length;s+=1)i.appendChild(l[s].cloneNode(!0));n=i.innerHTML}return"data:image/svg+xml;base64,"+btoa(o+n+"</svg>")},f.prototype.fromData=function(e){var n=this;this.clear(),this._fromData(e,function(e,t){return n._drawCurve(e,t.start,t.end)},function(e){return n._drawDot(e)}),this._data=e},f.prototype.toData=function(){return this._data},t.default=f},function(e,t,n){function r(e){if(a[e])return a[e].exports;var t=a[e]={exports:{},id:e,loaded:!1};return o[e].call(t.exports,t,t.exports,r),t.loaded=!0,t.exports}var o,a;e.exports=(a={},r.m=o=[function(e,t){"use strict";function l(e,t,n,r){return r[4*(n*t+e)],r[4*(n*t+e)+1],r[4*(n*t+e)+2],r[4*(n*t+e)+3]}function s(e,t,n,r){for(var o=e?1:-1,a=e?0:n-1;e?a<n:-1<a;a+=o)for(var i=0;i<t;i++)if(l(i,a,t,r))return a;return null}function c(e,t,n,r){for(var o=e?1:-1,a=e?0:t-1;e?a<t:-1<a;a+=o)for(var i=0;i<n;i++)if(l(a,i,t,r))return a;return null}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.getContext("2d"),n=e.width,r=e.height,o=s(!0,n,r,l=t.getImageData(0,0,n,r).data),a=s(!1,n,r,l),i=c(!0,n,r,l),l=c(!1,n,r,l)-i+1,o=t.getImageData(i,o,l,a=a-o+1);return e.width=l,e.height=a,t.clearRect(0,0,l,a),t.putImageData(o,0,0),e}}],r.c=a,r.p="",r(0))},function(e,t,n){"use strict";n.r(t),n.d(t,"DWKitFormBuilder",function(){return cu}),n.d(t,"DWKitForm",function(){return gu}),n.d(t,"DWKitFormViewer",function(){return Eu}),n.d(t,"BaseEditControl",function(){return Ca}),n.d(t,"SemanticCollectionEditor",function(){return Ou}),n.d(t,"SemanticGridView",function(){return Pu}),n.d(t,"isDefined",function(){return re}),n.d(t,"isNotEmptyString",function(){return oe}),n.d(t,"isUndefined",function(){return ne});var c=n(0),U=n.n(c);function o(e){return(o="function"==typeof Symbol&&"symbol"==Du(Symbol.iterator)?function(e){return Du(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Du(e)})(e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function i(e){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=n(8),l=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(s,c.Component);var n,r,l=(n=s,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=i(n),t=r?(t=i(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==o(t)&&"function"!=typeof t?u(e):t});function s(){var n;!function(e){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this);for(var e,t,r,o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return r=function(e,t){n.props.handleChange(n.props.row,e,t)},(t="handleChange")in(e=u(n=l.call.apply(l,[this].concat(a))))?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,n}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(s.prototype,[{key:"shouldComponentUpdate",value:function(e){return!p(this.props,e)}}]),s}();var r=(function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(f.prototype,[{key:"register",value:function(e,t){if(r.map[e])throw new Error("Component "+e+" already registered!");r.map[e]=t}},{key:"draw",value:function(e,t){var n=r.map[e];return n?n(t):(n=r.map["null-control"])({"data-buildertype":e,text:"".concat(e," is unsupported")})}}]),new f),s=r.register,K=r.draw;function f(){var e;!function(e){if(!(e instanceof f))throw new TypeError("Cannot call a class as a function")}(this),e={},"map"in this?Object.defineProperty(this,"map",{value:e,enumerable:!0,configurable:!0,writable:!0}):this.map=e}function d(e){return(d="function"==typeof Symbol&&"symbol"==Du(Symbol.iterator)?function(e){return Du(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Du(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var F=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,l);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=m(n),t=r?(t=m(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==d(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,[{key:"render",value:function(){return K("collection-checkbox",{me:this,props:this.props})}}]),t}();function y(e){return(y="function"==typeof Symbol&&"symbol"==Du(Symbol.iterator)?function(e){return Du(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Du(e)})(e)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function V(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var T=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(a,c.Component);var n,r,o=(n=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=v(n),t=r?(t=v(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==y(t)&&"function"!=typeof t?b(e):t});function a(){var r;!function(e){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return V(b(r=o.call.apply(o,[this].concat(t))),"handleEvent",function(e){e.parameters||(e.parameters={}),e.parameters.row||(e.parameters.row=r.props.row),"onChange"===e.eventName?r.props.handleChange(r.props.row,e.syntheticEvent,e):r.props.handleEvent(e)}),V(b(r),"getAdditionalDataForControl",function(e,t,n){return(t=t||{}).row||(t.row=r.props.row),r.props.getAdditionalDataForControl(e,t,n)}),r}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(a.prototype,[{key:"render",value:function(){return K("collection-custom-control",{getAdditionalDataForControl:this.getAdditionalDataForControl,handleEvent:this.handleEvent,props:this.props})}}]),a}();function w(e){return(w="function"==typeof Symbol&&"symbol"==Du(Symbol.iterator)?function(e){return Du(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Du(e)})(e)}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var N=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(t,l);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=_(n),t=r?(t=_(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==w(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,[{key:"render",value:function(){return K("collection-date-time",{me:this,props:this.props})}}]),t}();function k(e){return(k="function"==typeof Symbol&&"symbol"==Du(Symbol.iterator)?function(e){return Du(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Du(e)})(e)}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var M=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(t,l);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=O(n),t=r?(t=O(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==k(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,[{key:"render",value:function(){return K("collection-dropdown",{me:this,props:this.props})}}]),t}();function S(e){return(S="function"==typeof Symbol&&"symbol"==Du(Symbol.iterator)?function(e){return Du(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Du(e)})(e)}function A(e,t){return(A=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var I=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A(e,t)}(t,l);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=x(n),t=r?(t=x(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==S(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,[{key:"render",value:function(){return K("collection-input",{me:this,props:this.props})}}]),t}();function P(e){return(P="function"==typeof Symbol&&"symbol"==Du(Symbol.iterator)?function(e){return Du(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Du(e)})(e)}function D(e,t){return(D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function L(e){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var B=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D(e,t)}(t,l);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=L(n),t=r?(t=L(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==P(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,[{key:"render",value:function(){return K("collection-upload",{me:this,props:this.props})}}]),t}();function j(e){return(j="function"==typeof Symbol&&"symbol"==Du(Symbol.iterator)?function(e){return Du(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Du(e)})(e)}function R(e,t){return(R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function W(e){return(W=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var z=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}(t,l);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=W(n),t=r?(t=W(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==j(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,[{key:"render",value:function(){return K("collection-camera",{me:this,props:this.props})}}]),t}();function G(e){return(G="function"==typeof Symbol&&"symbol"==Du(Symbol.iterator)?function(e){return Du(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Du(e)})(e)}function q(e,t){return(q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function H(e){return(H=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Y=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&q(e,t)}(t,l);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=H(n),t=r?(t=H(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==G(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,[{key:"render",value:function(){return K("collection-signature",{me:this,props:this.props})}}]),t}();function J(e){return(J="function"==typeof Symbol&&"symbol"==Du(Symbol.iterator)?function(e){return Du(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Du(e)})(e)}function Q(e,t){return(Q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function X(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Z(e){return(Z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var te=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Q(e,t)}(a,c.Component);var n,r,o=(n=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Z(n),t=r?(t=Z(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==J(t)&&"function"!=typeof t?X(e):t});function a(){var r;!function(e){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return ee(X(r=o.call.apply(o,[this].concat(t))),"onUpload",function(e,t){var n=X(r),e={name:e.name,token:t.result.properties.Token,success:t.success,properties:t.result.properties};t.success?n.props.onChange&&n.props.onChange(null,{name:n.props.name,propertyName:n.props.propertyName,value:t.result.properties.Token,parameters:e}):n.props.onUploadFail&&n.props.onUploadFail(null,{name:n.props.name,propertyName:n.props.propertyName,message:t.result.message,details:t.result.details,success:!1})}),ee(X(r),"onClear",function(e){var t=X(r);t.props.onChange&&t.props.onChange(null,{name:t.props.name,propertyName:t.props.propertyName,value:null})}),r}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(a.prototype,[{key:"render",value:function(){var e=this.onClear,t=this.onUpload;return K("camera",{handleChange:this.handleChange,me:this,onClear:e,onUpload:t,props:this.props,state:this.state})}}]),a}();function ne(e){return void 0===e}function re(e){return!ne(e)&&null!==e}function oe(e){return re(e)&&""!==e}function ae(e){return(ae="function"==typeof Symbol&&"symbol"==Du(Symbol.iterator)?function(e){return Du(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Du(e)})(e)}function ie(e,t){return(ie=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function le(e){return(le=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var se=n(8),ce=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ie(e,t)}(o,c.Component);var n,r,t=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=le(n),t=r?(t=le(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==ae(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function o(e){return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),(e=t.call(this,e)).state={},e}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(o.prototype,[{key:"componentDidMount",value:function(){this.redrawChart()}},{key:"shouldComponentUpdate",value:function(e){return!se(this.props,e)}},{key:"componentDidUpdate",value:function(){this.redrawChart()}},{key:"componentWillUnmount",value:function(){re(this.state.chart)&&this.state.chart.destroy()}},{key:"redrawChart",value:function(){return K("chart-view-redraw-chart",{chartData:this.getChartData(),divId:this.getDivId(),props:this.props,state:this.state})}},{key:"getDivId",value:function(){return"dwkit-chart-"+this.props.name}},{key:"getChartData",value:function(){var e=[];try{e="string"==typeof this.props.value?JSON.parse(this.props.value):this.props.value}catch(e){console.log("Can't parse to JSON",this.props.value,this)}if(this.props.datasetCustom){var t=[];return{labels:t=re(this.props.dataLabels)?this.props.dataLabels.split(","):t,datasets:[{label:this.props.datasetLabel,steppedLine:this.props.datasetSteppedLine,borderColor:this.props.datasetBorderColor,backgroundColor:this.props.datasetBackgroundColor,fill:this.props.datasetFill,borderWidth:this.props.datasetBorderWidth,data:e}]}}return this.copyObj(e)}},{key:"copyObj",value:function(e){if(null==e||"object"!=ae(e))return e;var t,n=e.constructor();for(t in e)e.hasOwnProperty(t)&&(n[t]=this.copyObj(e[t]));return n}},{key:"render",value:function(){return K("chart-view",{divId:this.getDivId(),props:this.props,state:this.state})}}]),o}(),ue=n(2),pe=n.n(ue),fe=n(9),de=n.n(fe);function he(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function me(e){return(me="function"==typeof Symbol&&"symbol"==Du(Symbol.iterator)?function(e){return Du(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Du(e)})(e)}function ye(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ge(e,t){return(ge=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function be(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ve(e){return(ve=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ve(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var we=n(8),Ee=n(10),_e=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ge(e,t)}(a,c.Component);var e,t,n,r,o=(n=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=ve(n),t=r?(t=ve(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==me(t)&&"function"!=typeof t?be(e):t});function a(e){var u;return function(e){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this),Ve(be(u=o.call(this,e)),"btnAdd",function(){var e=ne(u.props.defaultrow)?{}:u.props.defaultrow;e.__id="CLIENT_"+de.a.v1(),u.fillDefaultValues(e,u.props.columns,u.props.placeholders),u.state.data.push(e),u.props.handleEvent&&u.props.handleEvent({key:u.props.name,propertyName:u.props.propertyName,eventName:"onAdd",parameters:{rowIdx:u.state.data.length-1,row:e}}),u.sendChangesToParent()}),Ve(be(u),"handleChange",function(e,t,n){var r=n.name,o=n.propertyName,a=n.value,i=n.checked,l=n.additionalValues;if(u.props.handleEvent||u.props.onChange){var s=o||r;if(ne(a)&&re(i)?e[s]=i:e[s]=a,"object"==me(l))for(var c in l)e[s+"_"+c]=l[c];u.sendChangesToParent(),t&&t.preventDefault?t.preventDefault():u.forceUpdate()}}),u.state={expanded:{},data:[]},u}return t=[{key:"getDerivedStateFromProps",value:function(e,t){var n=null;return we(t.originalValue,e.value)||((n={}).originalValue=Ee(e.value),e=null==e.value?[]:e.value,Array.isArray(e)?(n.data=Ee(e),n.stringmode=!1):(n.data=e.length?pe.a.parse(e):[],n.stringmode=!0)),n}}],ye((e=a).prototype,[{key:"applyCollapseAll",value:function(e){for(var t in e)ne(this.state.expanded[t])&&(this.state.expanded[t]=!1)}},{key:"getFilteredItems",value:function(e,t){return void 0===e?[]:void 0!==t?e.filter(function(e){return t.IsRowMatched(e)}):e}},{key:"btnDelete",value:function(e,t){var n;(this.props.handleEvent||this.props.onChange)&&(n=(t=void 0===t?this.state.data:t)[e],t.splice(e,1),this.props.handleEvent&&this.props.handleEvent({key:this.props.name,propertyName:this.props.propertyName,eventName:"onDelete",parameters:{rowIdx:e,row:n}}),this.sendChangesToParent())}},{key:"btnAddChild",value:function(e,t){var n=(t=void 0===t?ne(this.state.data)?[]:this.state.data:t)[e];(e=ne(this.props.defaultrow)?{}:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?he(Object(n),!0).forEach(function(e){Ve(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):he(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},this.props.defaultrow)).__id="CLIENT_"+de.a.v1(),this.fillDefaultValues(e,this.props.columns,this.props.placeholders),this.props.parentIdField?(e[this.props.parentIdField]=n[this.props.idField]||n.__id,t.push(e)):(Array.isArray(n[this.props.childrenField])||(n[this.props.childrenField]=[]),n[this.props.childrenField].push(e)),this.props.handleEvent&&this.props.handleEvent({key:this.props.name,propertyName:this.props.propertyName,eventName:"onAddChild",parameters:{rowIdx:t.length-1,row:e}}),this.sendChangesToParent()}},{key:"fillDefaultValues",value:function(e,t,n){if(t&&n)for(var r=0;r<t.length;r++){var o=void 0,a=n[o="object"===me(t[r])?t[r].key:t[r]];Array.isArray(a)&&0<a.length&&(a=a[0])&&(a.propertyName&&(o=a.propertyName),a.defaultValue&&(e[o]=a.defaultValue))}}},{key:"copyForParentId",value:function(t,n,e){var r=this,o=Ee(n);return o.__id="CLIENT_"+de.a.v1(),delete o[this.props.idField],o[this.props.parentIdField]=e,t.filter(function(e){return e[r.props.parentIdField]===(n[r.props.idField]||n.__id)}).forEach(function(e){return r.copyForParentId(t,e,o.__id)}),t.push(o),o}},{key:"resetIdsRecursive",value:function(e){var t=this;e.__id="CLIENT_"+de.a.v1(),delete e[this.props.idField],Array.isArray(e[this.props.childrenField])&&e[this.props.childrenField].forEach(function(e){return t.resetIdsRecursive(e)})}},{key:"btnCopy",value:function(e,t){var n,e=(t=t||this.state.data)[e];this.props.parentIdField&&e.hasOwnProperty(this.props.parentIdField)?n=this.copyForParentId(t,e,e[this.props.parentIdField]):(n=Ee(e),this.resetIdsRecursive(n),t.push(n)),this.props.handleEvent&&this.props.handleEvent({key:this.props.name,propertyName:this.props.propertyName,eventName:"onCopy",parameters:{rowIdx:t.length-1,row:n}}),this.sendChangesToParent()}},{key:"onExpand",value:function(e,t){this.state.expanded[e]=t,this.forceUpdate()}},{key:"onDragOver",value:function(e){e.preventDefault()}},{key:"onDragStart",value:function(e,t,n){n.dataTransfer.setData("index",e);var r=n.target;(r=(r=r&&r.parentElement)&&r.parentElement)&&n.dataTransfer.setDragImage($(n.target).parent().parent()[0],0,0),this.state.dragElementIndex=e,this.state.dragRows=t}},{key:"onDragEnd",value:function(e,t){this.state.dragElementIndex=void 0,this.state.dragRows=void 0}},{key:"onDrop",value:function(e,t,n){var r=this.state.dragElementIndex,o=this.state.dragRows,e=e,t=t;return re(r)&&(e!==r&&(void 0!==this.props.parentIdField&&""!==this.props.parentIdField&&(o[r][this.props.parentIdField]=t[e][this.props.parentIdField]),t.splice(e,0,o.splice(r,1)[0]),this.sendChangesToParent()),n.preventDefault()),!1}},{key:"sendChangesToParent",value:function(){var e=this.state.data,e=this.state.stringmode?e.length?pe.a.stringify(e):[]:e;this.props.buildermode||(this.props.onChange?this.props.onChange(null,{name:this.props.name,propertyName:this.props.propertyName,value:e}):this.props.handleEvent({syntheticEvent:null,key:this.props.name,eventName:"onChange",name:this.props.name,value:e,propertyName:this.props.propertyName}))}},{key:"render",value:function(){return K("collection-editor",{applyCollapseAll:this.applyCollapseAll,btnAdd:this.btnAdd,btnAddChild:this.btnAddChild,btnCopy:this.btnCopy,btnDelete:this.btnDelete,getFilteredItems:this.getFilteredItems,handleChange:this.handleChange,me:this,onExpand:this.onExpand,onDragStart:this.onDragStart,onDragEnd:this.onDragEnd,onDragOver:this.onDragOver,onDrop:this.onDrop,props:this.props,state:this.state})}}]),ye(e,t),a}();function ke(e){return(ke="function"==typeof Symbol&&"symbol"==Du(Symbol.iterator)?function(e){return Du(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Du(e)})(e)}function Ce(e,t){return(Ce=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Oe(e){return(Oe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Se=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ce(e,t)}(o,c.Component);var n,r,t=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Oe(n),t=r?(t=Oe(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==ke(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function o(e){return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),(e=t.call(this,e)).state={},e}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(o.prototype,[{key:"render",value:function(){return K("container",{props:this.props})}}]),o}(),Ae=n(6),xe=n.n(Ae);function Pe(e){return window.DWKitLang&&window.DWKitLang.common&&window.DWKitLang.common.dateFormat?window.DWKitLang.common.dateFormat:e}function De(e){return window.DWKitLang&&window.DWKitLang.common&&window.DWKitLang.common.timeFormat?window.DWKitLang.common.timeFormat:e}function Le(){if(window.DWKitFormSettings)return window.DWKitFormSettings.externalControlList}function je(){if(window.DWKitAdminLang&&window.DWKitAdminLang.workflowbar)return window.DWKitAdminLang.workflowbar}function Re(e){return(Re="function"==typeof Symbol&&"symbol"==Du(Symbol.iterator)?function(e){return Du(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Du(e)})(e)}function Fe(e,t){return(Fe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Te(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ne(e){return(Ne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Me(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ie=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fe(e,t)}(o,c.Component);var n,r,t=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Ne(n),t=r?(t=Ne(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Re(t)&&"function"!=typeof t?Te(e):t});function o(e){var n;return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),Me(Te(n=t.call(this,e)),"handleChangeRaw",function(e){e=xe()(e.target.value,n.state.dateFormat),n.onChange(e)}),Me(Te(n),"onChange",function(e){var t;n.props.readOnly||re(n.props.onChange)&&((t=null)!=e&&re(e)&&(t="date"===n.props.type?e.format("YYYY-MM-DD"):e.toJSON()),n.props.onChange(null,{propertyName:n.props.propertyName,name:n.props.name,value:t}))}),n.state={},n}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(o.prototype,[{key:"render",value:function(){var e=this.props.type,t=this.props.value?xe()(this.props.value):void 0;t&&!t.isValid()&&(t=void 0);var n={style:this.props.style,className:this.props.className,onBlur:this.props.onBlur,onClick:this.props.onClick,onFocus:this.props.onFocus,onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave},r={};return"date"===e?r.dateFormat=Pe("DD.MM.YYYY"):"time"===e?(r.showTimeSelect=!0,r.showTimeSelectOnly=!0,r.timeIntervals=10,r.dateFormat=De(),r.dateFormat||(r.dateFormat="HH:mm",r.timeFormat="HH:mm")):"datetime"===e&&(r.showTimeSelect=!0,Pe()?r.dateFormat=Pe()+" "+De("HH:ss"):(r.dateFormat="DD.MM.YYYY HH:mm",r.timeFormat="HH:mm")),this.state.dateFormat=r.dateFormat,K("date-picker",{controlProps:n,date:t,datePickerProps:r,handleChangeRaw:this.handleChangeRaw,onChange:this.onChange,state:this.state,placeholder:this.placeholder,props:this.props})}}]),o}();function Be(e){return(Be="function"==typeof Symbol&&"symbol"==Du(Symbol.iterator)?function(e){return Du(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Du(e)})(e)}function We(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ue(e,t){return(Ue=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ke(e){return(Ke=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ze=n(8),Ge=n(10),qe=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ue(e,t)}(a,c.Component);var e,t,n,r,o=(n=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Ke(n),t=r?(t=Ke(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Be(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function a(e){var t;return function(e){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this),(t=o.call(this,e)).state={options:[],value:t.props.value},t.pageSize=e.pageSize,t.pageSize||(t.pageSize=100),t}return t=[{key:"getDerivedStateFromProps",value:function(e,t){return e.dataModel!==t.dataModel?{getAdditionalDataForControl:e.getAdditionalDataForControl,dataModel:e.dataModel,needFetch:!0,needValueFetch:!0,filters:e.filters}:e.paging&&e.value!==t.value&&void 0!==e.value?{needValueFetch:!0,value:e.value}:e.filters!=t.filters?{needFetch:!0,filters:e.filters}:null}}],We((e=a).prototype,[{key:"componentDidMount",value:function(){this.GetAdditionalData()}},{key:"shouldComponentUpdate",value:function(e,t){return!ze(this.state,t)||!ze(this.props,e)}},{key:"componentDidUpdate",value:function(e,t){this.GetAdditionalData()}},{key:"GetAdditionalData",value:function(){var n,e,r=this;void 0===this.state.dataModel?void 0!==console&&!0===this.props.buildermode&&console.log("Dictionary: Set DataModel label!"):void 0===this.state.getAdditionalDataForControl?void 0!==console&&!0===this.props.buildermode&&console.log("Dictionary: For paging on server need to set getAdditionalDataForControl func!"):this.state.needFetch?(e={model:(n=this).state.dataModel,filters:this.state.filters},this.props.paging&&(e.startIndex=0,e.pageSize=this.pageSize),this.state.isFetching=!0,this.state.needFetch=!1,this.state.getAdditionalDataForControl(this,e,function(e){var t=e.items,e=e.rowsCount;n.setData({items:t,rowsCount:e,page:0},!0),r.state.needValueFetch&&(r.state.needValueFetch=!1,r.loadCurrentValue())})):this.state.needValueFetch&&(this.state.needValueFetch=!1,this.loadCurrentValue())}},{key:"render",value:function(){var e,t=this,n={};for(e in this.props)"parentIsForm"!==e&&"getAdditionalDataForControl"!==e&&"dataModel"!==e&&"clearable"!==e&&"columns"!==e&&"paging"!==e&&"pageSize"!==e&&"handleEvent"!==e&&"propertyName"!==e&&"textAsValue"!==e&&(n[e]=this.props[e]);return this.props.readOnly&&(n.disabled=!0),n.options=this.state.options,n.onChange=this.onChange.bind(this),this.props.paging&&(n.onSearchChange=this.handleSearchChange.bind(this),n.onClose=this.onClose.bind(this),null!=this.state.open&&(this.state.open?n.open=!0:(n.open=!1,this.state.open=void 0,setTimeout(function(){t.forceUpdate()})))),n.multiple&&(void 0!==n.value&&null!==n.value||(n.value=[]),Array.isArray(n.value)||(n.value=this.getArrayValues(n.value))),n.loading=this.state.isFetching,n.searchQuery=this.state.searchQuery,K("dictionary",{propsControl:n,props:this.props})}},{key:"onChange",value:function(e,t){var n,r=this,o=(t.name,t.value),t=!1;this.props.multiple?Array.isArray(o)&&(n=!1,o.forEach(function(e){"string"==typeof e&&0===e.lastIndexOf("__load",0)&&(n=!0)}),n&&(t=!0)):"string"==typeof o&&0===o.lastIndexOf("__load",0)&&(t=!0),t?(this.state.open=!0,this.setState({isFetching:!0}),this.loadNextPage(),o=this.props.value):re(this.state.open)&&(this.state.open=!1);var a=null;this.props.textAsValue||(Array.isArray(o)?(a=new Array,o.forEach(function(t){var e;"string"!=typeof t||0!==t.lastIndexOf("__load",0)||0<(e=r.state.options.filter(function(e){return e.key===t})).length&&a.push(e[0].values)})):0<(t=this.state.options.filter(function(e){return e.key===o})).length?a=t[0].values:(t=this.getCollumnsForFilter())&&(a={},t.split(",").forEach(function(e){a[e]=null}))),this.props.handleEvent&&this.props.handleEvent({syntheticEvent:e,key:this.props.name,eventName:"onChange",name:this.props.name,propertyName:this.props.propertyName,value:o,additionalValues:a})}},{key:"onClose",value:function(){1!=this.state.open&&this.state.searchQuery?(this.state.isFetching=!0,this.state.searchQuery="",this.state.lastLoadPage=-1,this.loadNextPage(!0)):!1===this.state.open&&this.forceUpdate()}},{key:"handleSearchChange",value:function(e,t){var n=t.searchQuery,r=this;r.searchTimeout&&clearTimeout(r.searchTimeout),r.searchTimeout=setTimeout(function(){r.searchTimeout=void 0,r.setState({isFetching:!0,searchQuery:n,lastLoadPage:-1}),r.loadNextPage(!0)},100)}},{key:"loadNextPage",value:function(n){var r=this,e={model:this.state.dataModel},o=this.state.lastLoadPage+1;r.state.searchQuery&&(e.filters=[{column:this.getCollumnsForFilter(),term:"like",value:r.state.searchQuery}]),e.startIndex=o*this.pageSize,e.pageSize=this.pageSize,this.state.getAdditionalDataForControl(this,e,function(e){var t=e.items,e=e.rowsCount;r.setData({items:t,rowsCount:e,page:o},n),n&&r.loadCurrentValue()})}},{key:"setData",value:function(e,t){var n,r=e.items,o=e.rowsCount,e=e.page;if(t){if(o>(n=Ge(r)).length&&(u=(null!=this.state.searchQuery?this.state.searchQuery:"")+"...",n.push({key:"__load",value:"__load",text:u})),this.props.clearable&&!this.props.multiple&&n.unshift({key:"__reset",value:"",text:"   "}),this.props.multiple)for(var a=this.getArrayValues(this.props.value),i=0;i<a.length;i++)for(var l=a[i],s=0;s<this.state.options.length;s++){var c=this.state.options[s];l==c.value&&n.unshift(c)}}else{var u=void 0;0<(n=this.state.options).length&&"__load"===n[n.length-1].key&&((u=n.pop()).value="__load_"+e);for(var p=0;p<r.length;p++){for(var f=r[p],d=0;d<n.length;d++)if(n[d].key===f.key){n.splice(d,1);break}n.push(f)}void 0!==u&&o>n.length&&n.push(u)}this.props.textAsValue&&n.forEach(function(e){"__load"!=e.key&&(e.value=e.text)}),this.setState({needFetch:!1,options:n,rowsCount:o,isFetching:!1,lastLoadPage:e}),this.props.handleEvent&&this.props.handleEvent({syntheticEvent:void 0,key:this.props.name,eventName:"onDataReceived",name:this.props.name,propertyName:this.props.propertyName,value:this.props.value,parameters:{options:n}})}},{key:"getArrayValues",value:function(e){var t,e=e;if(!Array.isArray(e)){try{t=JSON.parse(e)}catch(e){}e=t=Array.isArray(t)?t:[e]}return e}},{key:"loadCurrentValue",value:function(){var t=this;if(this.props.value)if(this.props.multiple){for(var n,e=this.getArrayValues(this.props.value),r=[],o=0;o<e.length;o++){for(var a=e[o],i=!1,l=0;l<this.state.options.length;l++)if(this.state.options[l].value==a){i=!0;break}i||r.push(a)}0<r.length&&(this.props.textAsValue?(n=this.state.options,r.forEach(function(e){n.push({value:e,text:e})})):((s={model:this.state.dataModel}).filters=[{column:"__id",term:"in",value:r}],this.state.isFetching=!0,this.state.getAdditionalDataForControl(this,s,function(e){e=e.items,t.addAdditionalOptions(e)})))}else{for(var s,c=!1,u=0;u<this.state.options.length;u++)if(this.state.options[u].value==this.props.value){c=!0;break}c||(this.props.textAsValue?this.state.options.push({value:t.props.value,text:t.props.value}):((s={model:this.state.dataModel}).filters=[{column:"__id",term:"=",value:t.props.value}],this.state.isFetching=!0,this.state.getAdditionalDataForControl(this,s,function(e){e=e.items,t.addAdditionalOptions(e)})))}}},{key:"addAdditionalOptions",value:function(e){if(this.state.isFetching=!1,Array.isArray(e)&&e.length){for(var t=this.state.options,n=e.length-1;0<=n;n--){for(var r=!1,o=0;o<t.length;o++)if(t[o].key==e[n].key){r=!0;break}r||t.unshift(e[n])}this.forceUpdate()}}},{key:"getCollumnsForFilter",value:function(){if(this.props.columns){var e=new RegExp(" asc","gi"),t=this.props.columns.replace(e,""),e=new RegExp(" desc","gi"),t=t.replace(e,"");return e=new RegExp(" ","gi"),t.replace(e,"")}}}]),We(e,t),a}();function He(e){return(He="function"==typeof Symbol&&"symbol"==Du(Symbol.iterator)?function(e){return Du(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Du(e)})(e)}function Ye(e,t){return(Ye=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Je(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qe(e){return(Qe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Xe=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ye(e,t)}(o,c.Component);var n,r,t=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Qe(n),t=r?(t=Qe(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==He(t)&&"function"!=typeof t?Je(e):t});function o(e){var n;return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),$e(Je(n=t.call(this,e)),"onChange",function(e,t){t.name,t=t.value,1!=n.state.opendialog?re(n.props.handleEvent)&&n.props.handleEvent({e:e,key:n.props.name,propertyName:n.props.propertyName,eventName:"onItemClick",parameters:{target:t}}):n.state.opendialog=!1}),$e(Je(n),"onMouseDown",function(e){n.state.opendialog=!Boolean(n.state.opendialog)}),n.state={},n}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(o.prototype,[{key:"render",value:function(){var e,r={};for(e in this.props)"imageUrl"!==e&&"defaultValue"!==e&&"value"!==e&&"handleEvent"!==e&&"items"!==e&&"propertyName"!==e&&(r[e]=this.props[e]);return r.options=[],this.props.items.forEach(function(e){var t=!1;if(void 0!==e.visibleCondition&&null!==e.visibleCondition&&""!==e.visibleCondition){var n="return "+e.visibleCondition;try{new Function("",n)()||(t=!0)}catch(e){}}t||r.options.push({value:e.target,text:e.title,target:e.target})}),r.value="",r.onChange=this.onChange,K("dropdown-trigger",{controlProps:r,onMouseDown:this.onMouseDown,props:this.props})}}]),o}();function Ze(e){return(Ze="function"==typeof Symbol&&"symbol"==Du(Symbol.iterator)?function(e){return Du(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Du(e)})(e)}function et(e,t){return(et=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function tt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nt(e){return(nt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var rt=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&et(e,t)}(a,c.Component);var n,r,o=(n=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=nt(n),t=r?(t=nt(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Ze(t)&&"function"!=typeof t?tt(e):t});function a(e){var i,t,n,r;return function(e){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this),r=function(e,t){var n,r=i.props.additionalParams.handleEvent,o=i.props.onSuccess,a=i.props.onFail;(r||o||a)&&(t.success?(n={name:e.name,size:e.size,token:t.result.properties.Token,success:t.success,properties:t.result.properties},o?o(i.props.name,i.props.propertyName,n):r&&r({key:i.props.name,eventName:"success",name:i.props.name,propertyName:i.props.propertyName,value:t.message,parameters:n})):(t={name:e.name,size:e.size,message:t.message,success:t.success,details:t.details},a?a(i.props.name,i.props.propertyName,t):r&&r({key:i.props.name,eventName:"fail",name:i.props.name,propertyName:i.props.propertyName,parameters:t})),i.props.addRemoveLinks&&setTimeout(function(){e._removeLink.click()},500))},(n="fileUploadSuccess")in(t=tt(i=o.call(this,e)))?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,i.state={commands:e.commands,states:e.states},i}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(a.prototype,[{key:"componentDidMount",value:function(){this.isMount=!0}},{key:"componentWillUnmount",value:function(){this.isMount=!1}},{key:"render",value:function(){var e=this.props.additionalParams.parentItem,t=void 0;this.props.iconFiletypes&&(o=this.props.iconFiletypes.split(","),Array.isArray(o)&&0<o.length&&(t=[],o.forEach(function(e){t.push(e.trim())})));var n={addRemoveLinks:this.props.addRemoveLinks,autoProcessQueue:this.props.autoProcessQueue&&re(this.props.postUrl)},r={iconFiletypes:t,showFiletypeIcon:this.props.showFiletypeIcon,postUrl:ne(this.props.postUrl)?"no-url":this.props.postUrl},o={success:this.fileUploadSuccess};return K("dropzone",{componentConfig:r,djsConfig:n,eventHandlers:o,isForm:this.isForm(e),props:this.props})}},{key:"isForm",value:function(e){return e&&("form"===e["data-buildertype"]||"formgroup"===e["data-buildertype"])}},{key:"getEvents",value:function(){return["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","removedfile","thumbnail","error","processing","uploadprogress","sending","success","complete","canceled","maxfilesreached","maxfilesexceeded","processingmultiple","sendingmultiple","successmultiple","completemultiple","canceledmultiple","totaluploadprogress","reset","queuecompleted"]}}]),a}();function ot(e){return(ot="function"==typeof Symbol&&"symbol"==Du(Symbol.iterator)?function(e){return Du(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Du(e)})(e)}function at(e){return function(e){if(Array.isArray(e))return it(e)}(e)||function(){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}()||function(e){if(e){if("string"==typeof e)return it(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?it(e,void 0):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function it(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function lt(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function st(r){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?lt(Object(o),!0).forEach(function(e){var t,n=r;e=o[t=e],t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):lt(Object(o)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))})}return r}function ct(e,t){return(ct=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ut(e){return(ut=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var pt=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ct(e,t)}(o,c.Component);var n,r,t=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=ut(n),t=r?(t=ut(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==ot(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function o(e){var n;return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),(n=t.call(this,e)).state={},n.props.events.forEach(function(e){var t=n.props.data[e]||{triggers:[]};(ne(t)||t.actions||t.parameters||t.targets||ne(t.triggers[0]))&&(t=n.props.data[e]={active:t.active||!1,triggers:[{actions:t.actions||[],parameters:t.parameters||[{name:"",value:""}],targets:t.targets||[]}]},n.handleChange(e,{},{name:"triggers",checked:t.active||!1,value:t.triggers}))}),n}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(o.prototype,[{key:"render",value:function(){var r=[];Array.isArray(this.props.actions)&&this.props.actions.forEach(function(e){"string"==typeof e?r.push({text:e,value:e}):r.push(st(st({},e),{},{value:e.text}))});var n=this.props.data,e=this.props.events,o=at(this.props.targets);return e.forEach(function(e){var t;re(n)&&(t=n[e])&&t.triggers&&Array.isArray(t.triggers)&&t.triggers.forEach(function(e){e.actions&&e.actions.forEach(function(e){for(var t=!1,n=0;n<r.length;n++)if(e==r[n].value){t=!0;break}t||r.push({text:e,value:e})}),e.targets&&e.targets.forEach(function(e){for(var t=!1,n=0;n<o.length;n++)if(e===o[n].value){t=!0;break}t||o.push({text:e,value:e})})})}),K("events-editor",{actionOptions:[].concat(r),targetOptions:at(o),items:this.items,me:this,props:this.props})}},{key:"initNewTrigger",value:function(e){var t=this.props.data;t&&(t[e]||(t[e]={}),ne((t=t[e]).triggers)&&(t.triggers=[]),t.triggers.push({actions:[],targets:[],parameters:[{name:"",value:""}]}),this.handleChange(e,{},{name:"triggers",checked:t.active||!1,value:t.triggers}))}},{key:"handleChange",value:function(e,t,n){var r=n.name,o=n.value,a=n.checked;ne(n=this.props.data[e])&&(this.props.data[e]=n={triggers:[]}),ne(o)&&re(a)?n[r]=a:n[r]=o,re(this.props.onChange)&&this.props.onChange(t,{name:this.props.name,value:this.props.data})}},{key:"actionsOnAddItem",value:function(e,t){t=t.value,re(this.props.onAdditionActions)&&this.props.onAdditionActions(e,{value:t})}}]),o}();function ft(e){return(ft="function"==typeof Symbol&&"symbol"==Du(Symbol.iterator)?function(e){return Du(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Du(e)})(e)}function dt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ht(e,t){return(ht=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function mt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yt(e){return(yt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function gt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var bt=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ht(e,t)}(a,c.Component);var n,r,o=(n=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=yt(n),t=r?(t=yt(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==ft(t)&&"function"!=typeof t?mt(e):t});function a(){var r;!function(e){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return gt(mt(r=o.call.apply(o,[this].concat(t))),"onDropzoneUploadSuccess",function(e,t,n){r.onFileUploaded(n)}),gt(mt(r),"onDropzoneUploadFail",function(e,t,n){r.onFail(n)}),gt(mt(r),"onCollectionEditorChange",function(e){var t=e.eventName,n=e.parameters,e=e.value;"onDelete"===t&&r.props.additionalParams.handleEvent({key:r.props.name,propertyName:r.props.propertyName,eventName:t,parameters:n}),"onChange"===t&&r.props.additionalParams.handleEvent({syntheticEvent:null,key:r.props.name,eventName:t,name:r.props.name,value:e,propertyName:r.props.propertyName})}),gt(mt(r),"onUploadChange",function(e,t){t=t.parameters,r.onFileUploaded(t)}),gt(mt(r),"onUploadFail",function(e,t){r.onFail(t)}),gt(mt(r),"nameGetter",function(e){return e[r.props.columns.find(function(e){return"Name"===e.property}).field]}),gt(mt(r),"contentTypeGetter",function(e){return e[r.props.columns.find(function(e){return"ContentType"===e.property}).field]}),r}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(a.prototype,[{key:"onFileUploaded",value:function(e){var t,n=this.props.value?function(e){if(Array.isArray(e))return dt(e)}(t=this.props.value)||function(){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}()||function(e){if(e){if("string"==typeof e)return dt(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?dt(e,void 0):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}():[],r=e.properties,o={__id:"CLIENT_"+de.a.v1()};this.props.columns.filter(function(e){return e.field}).forEach(function(e){o[e.field]=r[e.property]}),n.push(o),this.props.additionalParams.handleEvent({syntheticEvent:null,key:this.props.name,eventName:"onChange",name:this.props.name,value:n,propertyName:this.props.propertyName}),this.props.additionalParams.handleEvent({syntheticEvent:null,key:this.props.name,eventName:"onUploadSuccess",name:this.props.name,parameters:e,propertyName:this.props.propertyName})}},{key:"onFail",value:function(e){this.props.additionalParams.handleEvent({syntheticEvent:null,key:this.props.name,eventName:"onUploadFail",name:this.props.name,parameters:e,propertyName:this.props.propertyName})}},{key:"render",value:function(){var n=this,r=[];this.props.columns.filter(function(e){return e.showcolumn}).forEach(function(e){var t={key:e.field,name:e.title,control:e.control};"Token"===e.property&&(t.additionalData={customNameGetter:n.nameGetter,customContentTypeGetter:n.contentTypeGetter}),r.push(t)});var e={readOnly:this.props.readOnly,value:this.props.value,idField:this.props.idField,downloadUrl:this.props.downloadUrl,columns:r,handleEvent:this.onCollectionEditorChange};return K("files",{editorProps:e,onDropzoneUploadSuccess:this.onDropzoneUploadSuccess,onDropzoneUploadFail:this.onDropzoneUploadFail,onUploadChange:this.onUploadChange,onUploadFail:this.onUploadFail,props:this.props})}}]),a}();function vt(e){return(vt="function"==typeof Symbol&&"symbol"==Du(Symbol.iterator)?function(e){return Du(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Du(e)})(e)}function Vt(e,t){return(Vt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function wt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Et(e){return(Et=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var _t=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Vt(e,t)}(a,c.Component);var n,r,o=(n=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Et(n),t=r?(t=Et(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==vt(t)&&"function"!=typeof t?wt(e):t});function a(e){var n,t,r;return function(e){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this),n=o.call(this,e),r=function(e){var t;n.props.buildermode?(t=n.props["data-panes"],Array.isArray(t)&&t.forEach(function(t){e.forEach(function(e){t.psid==e.i&&(t.x=e.x,t.y=e.y,t.w=e.w,t.h=e.h)})})):(n.props.draggable||n.props.resizable)&&n.setCookie(window.location.pathname+"_"+n.props.name,JSON.stringify(e)),re(n.props.handleEvent)&&n.props.handleEvent({undefined:void 0,key:n.props.name,eventName:"onLayoutChange",parameters:{layout:e}})},(e="onLayoutChange")in(t=wt(n))?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,n.state={},n}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(a.prototype,[{key:"render",value:function(){return K("grid-layout",{getCookie:this.getCookie,setCookie:this.setCookie,me:this,onLayoutChange:this.onLayoutChange,props:this.props})}},{key:"getCookie",value:function(e){return(e=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)")))?decodeURIComponent(e[1]):void 0}},{key:"setCookie",value:function(e,t,n){var r,o=(n=n||{}).expires;"number"==typeof o&&o&&((r=new Date).setTime(r.getTime()+1e3*o),o=n.expires=r),o&&o.toUTCString&&(n.expires=o.toUTCString());var a,i=e+"="+(t=encodeURIComponent(t));for(a in n){i+="; "+a;var l=n[a];!0!==l&&(i+="="+l)}document.cookie=i}}]),a}();function kt(e){return(kt="function"==typeof Symbol&&"symbol"==Du(Symbol.iterator)?function(e){return Du(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Du(e)})(e)}function Ct(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ot(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function St(e,t,n){return t&&Ot(e.prototype,t),n&&Ot(e,n),e}var At=(St(Dt,null,[{key:"Greater",get:function(){return">"}},{key:"Less",get:function(){return">"}},{key:"Equal",get:function(){return"="}},{key:"GreaterOrEqual",get:function(){return">="}},{key:"LessOrEqual",get:function(){return"<="}},{key:"NotEqual",get:function(){return"!="}},{key:"Like",get:function(){return"like"}},{key:"StartsWith",get:function(){return"like*"}},{key:"EndsWith",get:function(){return"*like"}},{key:"IsGreater",value:function(e){return e===Dt.Greater}},{key:"IsLess",value:function(e){return e===Dt.Less}},{key:"IsEqual",value:function(e){return e===Dt.Equal}},{key:"IsGreaterOrEqual",value:function(e){return e===Dt.GreaterOrEqual}},{key:"IsLessOrEqual",value:function(e){return e===Dt.LessOrEqual}},{key:"IsNotEqual",value:function(e){return e===Dt.NotEqual}},{key:"IsLike",value:function(e){return e.toLowerCase()===Dt.Like||"*like*"===e.toLowerCase()}},{key:"IsStartsWith",value:function(e){return e.toLowerCase()===Dt.StartsWith}},{key:"IsEndsWith",value:function(e){return e.toLowerCase()===Dt.EndsWith}},{key:"Evaluate",value:function(e,t,n){if(Dt.IsGreater(n))return Dt.compareWithTypeCheck(e,t,function(e,t){return t<e});if(Dt.IsLess(n))return Dt.compareWithTypeCheck(e,t,function(e,t){return e<t});if(Dt.IsEqual(n))return Dt.compareWithTypeCheck(e,t,function(e,t){return e===t});if(Dt.IsGreaterOrEqual(n))return Dt.compareWithTypeCheck(e,t,function(e,t){return t<=e});if(Dt.IsLessOrEqual(n))return Dt.compareWithTypeCheck(e,t,function(e,t){return e<=t});if(Dt.IsNotEqual(n))return Dt.compareWithTypeCheck(e,t,function(e,t){return e!==t});if(Dt.IsLike(n))return Dt.likeCompare(e,t,function(e,t){return 0<=e.indexOf(t)});if(Dt.IsStartsWith(n))return Dt.likeCompare(e,t,function(e,t){return e.startsWith(t)});if(Dt.IsEndsWith(n))return Dt.likeCompare(e,t,function(e,t){return e.endsWith(t)});throw"Unknown term "+n}},{key:"likeCompare",value:function(e,t,n){return null===e&&null===t||void 0===e&&void 0===t||null!=e&&null!=t&&n(e.toString().toLowerCase(),t.toString().toLowerCase())}},{key:"compareWithTypeCheck",value:function(e,t,n){return null===e&&null===t||void 0===e&&void 0===t||null!=e&&null!=t&&(e instanceof Date&&"string"==typeof t?n(e.getTime(),new Date(t).getTime()):"string"==typeof e&&t instanceof Date?n(new Date(e).getTime(),t.getTime()):e instanceof Date&&t instanceof Date?n(e.getTime(),t.getTime()):kt(e)===kt(t)?n(e,t):n(e,"number"==typeof e&&"string"==typeof t?parseFloat(t):"string"==typeof e&&"number"==typeof t?t.toString():t))}}]),Dt),xt=(St(Pt,[{key:"AddFilter",value:function(e){var n,t,r,o=this,a=e.names,i=e.expected,l=e.term,s=e.id;a.length<1||(n=1===a.length?a[0]:a.sort().join(","),this._innerFilter.hasOwnProperty(n)?t=this._innerFilter[n]:((t=this._innerFilter[n]={}).funcs=[],t.items=[],t.test=function(t){return o._innerFilter[n].funcs.every(function(e){return e(t)})}),r=function(e,t){var n=Object.keys(e).find(function(e){return e.toString().toLowerCase()===t.toLowerCase()});return void 0!==n&&At.Evaluate(e[n],i,l)},e=1===a.length?function(e){return r(e,a[0])}:function(t){return a.some(function(e){return r(t,e)})},t.funcs.push(e),t.items.push({expected:i,term:l,id:s}))}},{key:"RemoveFilter",value:function(e){var t,n,r,o=this,a=e.name,i=e.id;void 0!==a&&(n=Array.isArray(a)?(t=1===a.length?a[0]:a.sort().join(","),a):[t=a]),void 0!==a&&void 0===i?delete this._innerFilter[t]:void 0===a&&void 0===i?this._innerFilter={}:(r=function(e,t,n){var r;!o._innerFilter.hasOwnProperty(e)||(r=o._innerFilter[e].items.filter(function(e){return e.id!==n})).length<o._innerFilter[e].items.length&&(delete o._innerFilter[e],r.forEach(function(e){o.AddFilter({names:t,expected:e.expected,term:e.term,id:e.id})}))},void 0!==a&&void 0!==i?r(t,n,i):Object.keys(this._innerFilter).forEach(function(e){r(e,e.split(","),i)}))}},{key:"IsRowMatched",value:function(e){var t=Object.keys(this._innerFilter);if(t.length<=0)return!0;for(var n=0;n<t.length;n++)if(!this._innerFilter[t[n]].test(e))return!1;return!0}},{key:"GetFilterAsObjects",value:function(){var e=this;if(void 0===this._innerFilter)return[];var n=[];return Object.keys(this._innerFilter).forEach(function(t){e._innerFilter[t].items.forEach(function(e){n.push({column:t,value:e.expected,term:e.term})})}),n}}]),Pt);function Pt(e,n){var r=this;if(Ct(this,Pt),this._innerFilter={},void 0!==e&&Array.isArray(e)){if(void 0===n||!Array.isArray(n))throw"columns must be array";e.forEach(function(e){var t;void 0!==e&&(t="*"===e.column?n:e.column.split(",").map(function(e){return e.trim()}),r.AddFilter({names:t,expected:e.value,term:e.term}))})}}function Dt(){Ct(this,Dt)}function Lt(e){return(Lt="function"==typeof Symbol&&"symbol"==Du(Symbol.iterator)?function(e){return Du(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Du(e)})(e)}function jt(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function Rt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ft(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Tt(e,t,n){return t&&Ft(e.prototype,t),n&&Ft(e,n),e}function Nt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Mt(e,t)}function Mt(e,t){return(Mt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function It(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e=Bt(n),t=r?(t=Bt(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Lt(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t}}function Bt(e){return(Bt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Wt=function(){Nt(t,c.Component);var e=It(t);function t(){return Rt(this,t),e.apply(this,arguments)}return Tt(t,[{key:"render",value:function(){return K("checkbox-formatter",{props:this.props})}}]),t}(),Ut=function(){Nt(t,c.Component);var e=It(t);function t(){return Rt(this,t),e.apply(this,arguments)}return Tt(t,[{key:"render",value:function(){return K("number-formatter",{props:this.props})}}]),t}(),Kt=function(){Nt(t,c.Component);var e=It(t);function t(){return Rt(this,t),e.apply(this,arguments)}return Tt(t,[{key:"render",value:function(){var e,t=xe()(this.props.value),n="";return t.isValid()&&(e=Pe("L"),n=t.format(e)),K("date-formatter",{props:this.props,strValue:n})}}]),t}(),zt=function(){Nt(t,c.Component);var e=It(t);function t(){return Rt(this,t),e.apply(this,arguments)}return Tt(t,[{key:"render",value:function(){var e,t,n,r=xe()(this.props.value),o="";return r.isValid()&&(n="DD.MM.YYYY HH:mm",(e=Pe())&&(t=De("HH:mm"),n="".concat(e," ").concat(t)),o=r.format(n)),K("datetime-formatter",{props:this.props,strValue:o})}}]),t}(),Gt=function(){Nt(t,c.Component);var e=It(t);function t(){return Rt(this,t),e.apply(this,arguments)}return Tt(t,[{key:"render",value:function(){var e,t=xe()(this.props.value),n="";return t.isValid()&&(e=re(window.DWKitLang)&&re(window.DWKitLang.common)&&re(window.DWKitLang.common.timeFormat)?window.DWKitLang.common.timeFormat:"HH:mm",n=t.format(e)),K("time-formatter",{props:this.props,strValue:n})}}]),t}(),qt=function(){Nt(i,c.Component);var n=It(i);function i(e){var t;Rt(this,i),(t=n.call(this,e)).state={items:[],sort:"",defaultSort:e.defaultSort,filter:e.filter,pageSize:20,selectedIndexes:[],rowsCount:i.staticIsServerMode(e)?void 0:0};try{t.state.isrtl="rtl"==getComputedStyle(document.getElementsByTagName("html")[0]).direction}catch(e){}return t}return Tt(i,[{key:"isEditFormModal",value:function(){return"modal"===this.props.editFormShowType}},{key:"isEditFormSidebar",value:function(){return"sidebar"===this.props.editFormShowType}},{key:"isServerMode",value:function(){return i.staticIsServerMode(this.props)}},{key:"refresh",value:function(){var e;this.isServerMode()?this.setState({items:[],selectedIndexes:[],rowsCount:void 0}):(e=Array.isArray(this.props.value)?i.staticGetSortedAndFilteredItems(this.props.value,this.state.filter,this.state.sort,this.props.defaultSort):[],this.setState({items:e,rowsCount:e.length,selectedIndexes:[],originalItems:this.props.value}))}},{key:"resetSelection",value:function(){this.setState({selectedIndexes:[]})}},{key:"render",value:function(){return K("grid-view",{gridColumns:this.getColumns(),gridProps:this.getGridPropsByPagerType(this.props.pagerType),me:this,onRowsSelected:this.onRowsSelected.bind(this),onRowsDeselected:this.onRowsDeselected.bind(this),selectBy:{indexes:this.state.selectedIndexes},gridRowGetter:this.gridRowGetter.bind(this),gridOnRowClick:this.gridOnRowClick.bind(this),handleGridSort:this.handleGridSort.bind(this),state:this.state,props:this.props})}},{key:"getColumns",value:function(){var r=this,e=void 0===this.props.columns?[]:Array.isArray(this.props.columns)?this.props.columns:JSON.parse(this.props.columns);return e.forEach(function(n){null!==n.width&&""!==n.width&&void 0!==n.width&&(n.width=Number(n.width)),!1!==n.sortable&&(n.sortable=!r.props.disableSort),n.filterable=Boolean(r.props.filterRow),n.resizable=Boolean(n.resizable),"number"===n.type?n.formatter=Ut:"checkbox"===n.type?n.formatter=Wt:"date"===n.type?n.formatter=Kt:"time"===n.type?n.formatter=Gt:"datetime"===n.type?n.formatter=zt:"custom"===n.type&&(n.getRowMetaData=function(e){return e},n.formatter=function(e){if(ne(n.customFormatter)||"function"!=typeof n.customFormatter){if(r.props.placeholders&&Array.isArray(r.props.placeholders[n.key])&&0<r.props.placeholders[n.key].length){var t=r.props.placeholders[n.key][0];return void 0!==t.propertyName&&""!==t.propertyName||(t.propertyName=n.key),U.a.createElement(T,{key:n.key+"_"+e.dependentValues.__id,model:t,parent:r,row:e.dependentValues,errorOnRow:{},name:r.props.name,buildermode:r.props.buildermode,handleChange:function(){},handleEvent:r.props.handleEvent,getAdditionalDataForControl:r.props.getAdditionalDataForControl,readOnly:r.props.readOnly,uploadUrl:r.props.uploadUrl,downloadUrl:r.props.downloadUrl,data:r.props.data,adaptiveViewType:r.props.adaptiveViewType,controlBarParams:r.props.controlBarParams,createControl:r.props.createControl})}return r.props.buildermode?r.props.createBuilderDropzone(r.props.name,r.props.name,void 0,n.key,n.key):""}return n.customFormatter({row:e.dependentValues,value:e.value,column:n})})}),this.state.isrtl?e.reverse():e}},{key:"getGridPropsByPagerType",value:function(){var e,t={};return"server"===this.props.pagerType&&((e=parseInt(this.props.pageSize))&&(this.state.pageSize=e),t.rowRenderer=U.a.createElement(Ht,{error:this.props.error}),ne(this.state.rowsCount)&&(this.state.rowsCount=1)),t}},{key:"getSeletedRowKeys",value:function(){var n=this,r=[];return this.state.selectedIndexes.forEach(function(e){var t;void 0!==(e=n.gridRowGetter(e))&&null!=(t=null==(t=null!==n.props.rowKey&&void 0!==n.props.rowKey&&e.hasOwnProperty(n.props.rowKey)?e[n.props.rowKey]:t)||ne(t)?e.__id:t)&&r.push(t)}),r}},{key:"gridRowGetter",value:function(e){if(!(e<0)){var t,n=this.props.pagerType;return"server"===n&&void 0===this.state.items[e]&&(t=this.state.pageSize,this.loadPage(e,t)),"server"===n?this.state.items[e]:function(r){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?jt(Object(o),!0).forEach(function(e){var t,n=r;e=o[t=e],t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):jt(Object(o)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))})}return r}({},this.state.items[e])}}},{key:"getSort",value:function(){var e=this.state.sort;return""===e&&void 0!==this.props.defaultSort?this.props.defaultSort:e}},{key:"getFilters",value:function(){return void 0!==this.state.filter?this.state.filter.GetFilterAsObjects():[]}},{key:"loadPage",value:function(e,t){for(var n,i=this,r=0;r<t;r++)this.state.items[r+e]={__loading:!0};void 0===this.props.getAdditionalDataForControl?void 0!==console&&console.log("GridView: For paging on server need to set getAdditionalDataForControl func!"):(n=this.getSort(),this.props.getAdditionalDataForControl(this,{startIndex:e,pageSize:t,filters:this.getFilters(),sort:n},function(e){var t=e.sIndex,n=e.pSize,r=e.rowsCount,o=e.items;if(void 0===r||void 0===o)i.state.rowsCount=0,i.setState({rowsCount:0,items:[]});else{i.state.rowsCount=r;for(var a=0;a<n;a++)a<o.length?i.state.items[t+a]=o[a]:i.state.items[t+a]=void 0;i.forceUpdate()}}))}},{key:"gridOnRowClick",value:function(e,t){var n;void 0!==t&&(n=Date.now(),void 0!==this.rowClickTime&&this.rowClickTime.rowIdx===e&&n-this.rowClickTime.time<=1e3?(this.rowClickTime=void 0,this.onRowDblClick(e,t)):(this.rowClickTime={rowIdx:e,time:n},void 0!==this.props.handleEvent&&this.props.handleEvent({key:this.props.name,propertyName:this.props.propertyName,eventName:"onRowClick",parameters:{rowIdx:e,row:t}})))}},{key:"onRowDblClick",value:function(e,t){void 0!==this.props.handleEvent&&this.props.handleEvent({key:this.props.name,propertyName:this.props.propertyName,eventName:"onRowDblClick",parameters:{rowIdx:e,row:t}})}},{key:"onRowsSelected",value:function(e){this.state.selectedIndexes=this.state.selectedIndexes.concat(e.map(function(e){return e.rowIdx})),void 0!==this.props.handleEvent&&this.props.handleEvent({key:this.props.name,eventName:"onSelectionChanged",propertyName:this.props.propertyName,parameters:{selectedIndexes:this.state.selectedIndexes}}),this.forceUpdate()}},{key:"onRowsDeselected",value:function(e){var t=e.map(function(e){return e.rowIdx});this.state.selectedIndexes=this.state.selectedIndexes.filter(function(e){return-1===t.indexOf(e)}),void 0!==this.props.handleEvent&&this.props.handleEvent({key:this.props.name,eventName:"onSelectionChanged",propertyName:this.props.propertyName,parameters:{selectedIndexes:this.state.selectedIndexes}}),this.forceUpdate()}},{key:"handleGridSort",value:function(e,t){var n={};n.sort="NONE"===t?"":e+" "+t,t=this.props.pagerType,n.items="server"===t?[]:i.staticGetSortedAndFilteredItems(this.props.value,this.state.filter,n.sort,this.props.defaultSort),n.selectedIndexes=[],this.setState(n)}},{key:"handleFilterChange",value:function(e){var t={},n=e.column.key,r="columnfilter_"+n;t.filter=void 0!==this.state.filter?this.state.filter:new xt([],this.props.columns.map(function(e){return e.key})),t.filter.RemoveFilter({name:n,id:r}),""!==e.filterTerm&&t.filter.AddFilter({names:[n],expected:e.filterTerm,term:At.Like,id:r}),i.staticIsServerMode(this.props)?(t.items=[],t.selectedIndexes=[],t.rowsCount=void 0):(t.items=i.staticGetSortedAndFilteredItems(this.props.value,t.filter,this.state.sort,this.props.defaultSort),t.selectedIndexes=[],t.rowsCount=t.items.length),this.setState(t)}},{key:"onClearFilters",value:function(){this.setState({filter:this.props.filter})}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"componentDidMount",value:function(){this._isMounted=!0,this.recalcSizeParams()}},{key:"recalcSizeParams",value:function(){var e;this._isMounted&&this.props.autoHeight&&(e=window.innerHeight,this.setState({gridHeight:e-this.props.deltaHeight}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n,r=null,o=t.filter,a=e.filter;return JSON.stringify(o)!==JSON.stringify(a)?(r={filter:e.filter},i.staticIsServerMode(e)?(r.items=[],r.selectedIndexes=t.selectedIndexes,r.rowsCount=void 0):(n=Array.isArray(e.value)?i.staticGetSortedAndFilteredItems(e.value,e.filter,t.sort,e.defaultSort):[],r.items=n,r.selectedIndexes=t.selectedIndexes,r.rowsCount=n.length)):i.staticIsServerMode(e)||t.originalItems===e.value||(r={},n=Array.isArray(e.value)?i.staticGetSortedAndFilteredItems(e.value,t.filter,t.sort,e.defaultSort):[],r.items=n,r.rowsCount=n.length,r.selectedIndexes=t.selectedIndexes,r.originalItems=e.value),r}},{key:"staticIsServerMode",value:function(e){return"server"===e.pagerType}},{key:"staticGetSortedAndFilteredItems",value:function(e,t,n,r){var o=[];if(void 0===e)return o;if(o=void 0!==t?e.filter(function(e){return t.IsRowMatched(e)}):e,"NONE"===(e=n)||""===n){if(void 0===r)return o;e=r}var r=e.indexOf(" "),a=e.substring(0,r),i=e.substring(r+1,e.length);return o.slice(0).sort(function(e,t){return(e=void 0!==e[a]&&null!==e[a]&&void 0!==e[a].toLowerCase?e[a].toLowerCase():e[a])===(t=void 0!==t[a]&&null!==t[a]&&void 0!==t[a].toLowerCase?t[a].toLowerCase():t[a])?0:null==e?1:null==t?-1:"ASC"===i?t<e?1:-1:"DESC"===i?e<t?1:-1:void 0})}}]),i}(),Ht=function(){Nt(t,c.Component);var e=It(t);function t(){return Rt(this,t),e.apply(this,arguments)}return Tt(t,[{key:"setScrollLeft",value:function(e){this.row.setScrollLeft(e)}},{key:"getClassName",value:function(){var t=this;return this.props.row.__loading?"dwkit-gridview-rowloading":void 0!==this.props.row.__id&&null!==this.props.row.__id&&void 0!==this.props.error&&null!==this.props.error&&Array.isArray(this.props.error)&&void 0!==this.props.error.find(function(e){return e.__id===t.props.row.__id})?"dwkit-gridview-rowerror":""}},{key:"render",value:function(){return K("row-loading-renderer",{className:this.getClassName(),me:this,props:this.props,row:this.row})}}]),t}();function Yt(e){return(Yt="function"==typeof Symbol&&"symbol"==Du(Symbol.iterator)?function(e){return Du(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Du(e)})(e)}function Jt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qt(e,t){return(Qt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $t(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xt(e){return(Xt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Zt=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qt(e,t)}(i,c.Component);var e,t,n,r,a=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Xt(n),t=r?(t=Xt(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Yt(t)&&"function"!=typeof t?$t(e):t});function i(e){var n,t,r,o;return function(e){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this),o=function(e,t){t=t.name,re(n.props.handleEvent)&&0!=n.props.handleEvent({e:e,key:n.props.name,eventName:"onItemClick",parameters:{target:t}})&&n.setState({activeitem:t})},(r="handleItemClick")in(t=$t(n=a.call(this,e)))?Object.defineProperty(t,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[r]=o,n.state={},re(e.value)?n.state.activeitem=e.value:null!=e.activeitem&&(n.state.activeitem=e.activeitem),n}return t=[{key:"getDerivedStateFromProps",value:function(e,t){return t.activeitem!==e.value?{activeitem:e.value}:null}}],Jt((e=i).prototype,[{key:"handleItemClick2",value:function(e,t){this.handleItemClick(t,e),t.preventDefault()}},{key:"render",value:function(){var e=this.props["data-items"];return ne(e)||""==e?e=[]:Array.isArray(e)||(e=pe.a.parse(e)),K("menu-group",{handleItemClick:this.handleItemClick,handleItemClick2:this.handleItemClick2,items:e,me:this,props:this.props,state:this.state})}}]),Jt(e,t),i}();function en(e){return(en="function"==typeof Symbol&&"symbol"==Du(Symbol.iterator)?function(e){return Du(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Du(e)})(e)}function tn(e,t){return(tn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function nn(e){return(nn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var rn=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tn(e,t)}(t,c.Component);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=nn(n),t=r?(t=nn(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==en(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,[{key:"render",value:function(){var e,t={};for(e in this.props)"additionalParams"!==e&&"items"!==e&&"propertyName"!==e&&(t[e]=this.props[e]);var n=this.props.additionalParams.model,r=this.props.additionalParams.parentItem,o=this.props.additionalParams.handleEvent;return t.defaultValue=n.defaultvalue,t.size=n.size,oe(n.label)&&(t.label=n.label),t.labelPosition=n.labelPosition,t.type=n.type,t.disabled=n.disabled,t.transparent=n.transparent,t.fluid=n.fluid,t.readOnly=n.readOnly||this.props.readOnly,t.placeholder=n.placeholder,null==t.value&&(t.value=""),t.error=Boolean(this.props.error),t.format=n.format||void 0,t.mask=n.mask||void 0,t.onValueChange=function(e){o({key:t.name,propertyName:t.propertyName,eventName:"onChange",name:t.name,value:Number(e.value)})},K("number-format",{isForm:this.isForm(r),props:this.props,propsControl:t})}},{key:"isForm",value:function(e){return null!=e&&("form"===e["data-buildertype"]||"formgroup"===e["data-buildertype"])}}]),t}();function on(e){return(on="function"==typeof Symbol&&"symbol"==Du(Symbol.iterator)?function(e){return Du(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Du(e)})(e)}function an(e,t){return(an=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ln(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sn(e){return(sn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var cn=n(8),un=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&an(e,t)}(l,c.Component);var n,r,i=(n=l,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=sn(n),t=r?(t=sn(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==on(t)&&"function"!=typeof t?ln(e):t});function l(){var r;!function(e){if(!(e instanceof l))throw new TypeError("Cannot call a class as a function")}(this);for(var e,t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=function(e,t){var n=t.name,t=t.value;r.props.onChange?r.props.onChange(e,{name:r.props.name,propertyName:r.props.propertyName,value:t}):r.props.handleEvent?r.props.handleEvent({syntheticEvent:e,key:r.props.name,eventName:"onChange",name:n,value:t,propertyName:r.props.propertyName}):console.error("Set onChange property for RadioGroup!")},"onChange"in(e=ln(r=i.call.apply(i,[this].concat(o))))?Object.defineProperty(e,"onChange",{value:t,enumerable:!0,configurable:!0,writable:!0}):e.onChange=t,r}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(l.prototype,[{key:"shouldComponentUpdate",value:function(e){return!cn(this.props,e)}},{key:"render",value:function(){return K("radio-group",{props:this.props,onChange:this.onChange.bind(this)})}}]),l}();function pn(e){return(pn="function"==typeof Symbol&&"symbol"==Du(Symbol.iterator)?function(e){return Du(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Du(e)})(e)}function fn(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function dn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hn(e,t){return(hn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function mn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yn(e){return(yn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function gn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var bn=n(8),vn=n(10),Vn=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&hn(e,t)}(s,c.Component);var e,t,n,r,o=(n=s,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=yn(n),t=r?(t=yn(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==pn(t)&&"function"!=typeof t?mn(e):t});function s(e){var l;return function(e){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this),gn(mn(l=o.call(this,e)),"handleChange",function(e,t,n){var r=n.name,o=n.propertyName,a=n.value,i=n.checked,n=n.parameters;(l.props.controlProps.handleEvent||l.props.controlProps.buildermode)&&(void 0===o&&(o=r),n&&void 0!==n.index&&((r=l.state.items)[n.index]=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?fn(Object(n),!0).forEach(function(e){gn(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fn(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},e),e=r[n.index]),ne(a)&&re(i)?e[o]=i:e[o]=a,l.isServerMode()?l.forceUpdate():(l.sendChangesToParent(),t&&t.preventDefault?t.preventDefault():l.forceUpdate()))}),gn(mn(l),"loadNextPage",function(){var e=l.state.pageSize,t=0;re(l.state.items)&&(t=l.state.items.length),l.loadPage(t,e)}),l.psTemplate="template",l.state={items:[],sort:"",filter:e.filter,firstLoad:!e.controlProps.buildermode&&s.staticIsServerMode(e),pageSize:e.pageSize||20},l}return t=[{key:"getDerivedStateFromProps",value:function(e,t){var n,r={needUpdate:!1};return bn(t.filter,e.filter)?s.staticIsServerMode(e)||bn(t.originalItems,e.value)||(n=s.staticGetSortedAndFilteredItems(e.value,t.filter,t.sort,e.defaultSort),r.items=n,r.rowsCount=n.length,r.selectedIndexes=[],r.originalItems=s.copyObj(e.value),r.needUpdate=!0):(r.filter=e.filter,r.needUpdate=!0,s.staticIsServerMode(e)?(r.items=[],r.firstLoad=!0,r.rowsCount=void 0):(e=s.staticGetSortedAndFilteredItems(e.value,e.filter,t.sort,e.defaultSort),r.items=e,r.selectedIndexes=[],r.rowsCount=e.length)),r}},{key:"staticIsServerMode",value:function(e){return e.pagerType&&"server"===e.pagerType.toLowerCase()}},{key:"staticCheckData",value:function(e){if(e=e||[],Array.isArray(e))e=vn(e);else try{e=pe.a.parse(e)}catch(e){}return e}},{key:"staticGetSortedAndFilteredItems",value:function(e,t,n,r){var o=s.staticCheckData(e);if(void 0===o)return o;if(Array.isArray(o)&&0<o.length)for(var a in o)o[a].__originalIndex=a,a++;if(void 0!==t&&(o=o.filter(function(e){return t.IsRowMatched(e)})),"NONE"===(e=n)||""===n){if(void 0===r)return o;e=r}var r=e.indexOf(" "),i=e.substring(0,r),l=e.substring(r+1,e.length);return o.sort(function(e,t){return(e=void 0!==e[i]&&null!==e[i]&&void 0!==e[i].toLowerCase?e[i].toLowerCase():e[i])===(t=void 0!==t[i]&&null!==t[i]&&void 0!==t[i].toLowerCase?t[i].toLowerCase():t[i])?0:null==e?1:null==t?-1:"ASC"===l?t<e?1:-1:"DESC"===l?e<t?1:-1:void 0})}},{key:"copyObj",value:function(e){if(null==e||"object"!=pn(e))return e;var t,n=e.constructor();for(t in e)e.hasOwnProperty(t)&&(n[t]=this.copyObj(e[t]));return n}}],dn((e=s).prototype,[{key:"shouldComponentUpdate",value:function(e,t){return!!t.needUpdate||!bn(this.props,e)}},{key:"render",value:function(){return K("repeater",{isServerMode:this.isServerMode(),loadNextPage:this.loadNextPage,me:this,props:this.props,psTemplate:this.psTemplate,state:this.state,handleChange:this.handleChange})}},{key:"sendChangesToParent",value:function(){var e=s.copyObj(this.state.items);if(Array.isArray(e)&&0<e.length)for(var t in e)delete e[t].__originalIndex;var n="string"==typeof this.props.value?pe.a.stringify(e):e;this.props.controlProps.buildermode?this.props.value=n:this.props.controlProps.handleEvent({syntheticEvent:null,key:this.props.name,propertyName:this.props.propertyName,eventName:"onChange",name:this.name,value:n})}},{key:"loadPage",value:function(o,e){var t,a=this;this.props.controlProps&&void 0!==this.props.controlProps.getAdditionalDataForControl?(""===(t=this.state.sort)&&void 0!==this.props.defaultSort&&(t=this.props.defaultSort),this.state.loading=!0,this.forceUpdate(),this.props.controlProps.getAdditionalDataForControl(this,{startIndex:o,pageSize:e,filters:void 0!==this.state.filter?this.state.filter.GetFilterAsObjects():[],sort:t},function(e){e.sIndex,e.pageSize;var t=e.rowsCount,n=e.items;if(void 0!==t&&void 0!==n&&(a.state.rowsCount=t,a.state.items.length==o))for(var r=0;r<n.length;r++)a.state.items.push(n[r]);a.state.loading=!1,a.forceUpdate()})):void 0!==console&&console.log("Repeater: For paging on server need to set getAdditionalDataForControl func!")}},{key:"isServerMode",value:function(){return s.staticIsServerMode(this.props)}}]),dn(e,t),s}();function wn(e){return(wn="function"==typeof Symbol&&"symbol"==Du(Symbol.iterator)?function(e){return Du(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Du(e)})(e)}function En(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function _n(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?En(Object(n),!0).forEach(function(e){Sn(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):En(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function kn(e,t){return(kn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Cn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function On(e){return(On=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Sn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var An=n(8),xn=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&kn(e,t)}(a,c.Component);var n,r,o=(n=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=On(n),t=r?(t=On(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==wn(t)&&"function"!=typeof t?Cn(e):t});function a(){var r;!function(e){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Sn(Cn(r=o.call.apply(o,[this].concat(t))),"handleEvent",function(e){e.parameters||(e.parameters={}),e.parameters.row||(e.parameters.row=r.props.item),"onChange"===e.eventName?(e.parameters.index||(e.parameters.index=r.props.index),r.props.handleChange(r.props.item,e.syntheticEvent,e)):(e.parameters.index||(r.props.item&&r.props.item.__originalIndex?e.parameters.index=r.props.item.__originalIndex:e.parameters.index=r.props.index),r.props.controlProps.handleEvent(e))}),Sn(Cn(r),"getAdditionalDataForControl",function(e,t,n){return(t=t||{}).row||(t.row=r.props.item),r.props.controlProps.getAdditionalDataForControl(e,t,n)}),r}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(a.prototype,[{key:"shouldComponentUpdate",value:function(e){return!An(this.props,e)}},{key:"render",value:function(){var e=this.props.controlProps.createBuilderDropzone,t=this.props.model,n=this.props.index+"_",r=this.props.psTemplate,o=this.props.controlProps.createControls(this.props.parent,_n(_n({},this.props.controlProps),{},{model:t,parentPlaceholder:r,data:this.props.item,errors:this.props.errors,needCheckReplace:!this.props.controlProps.buildermode,formData:this.props.data,parentItem:this.props.parentItem,handleEvent:this.handleEvent,getAdditionalDataForControl:this.getAdditionalDataForControl}));return this.props.includeDropzone&&e&&(0<o.length&&0<t.length&&o.unshift(e(n+"repeter_dropzone_header",this.props.parentItem.key,void 0,void 0,r)),o.push(e(n+"repeter_dropzone_footer",this.props.parentItem.key,t[t.length-1].key,void 0,r))),o}}]),a}(),Pn=n(11),Dn=n.n(Pn);function Ln(e){return(Ln="function"==typeof Symbol&&"symbol"==Du(Symbol.iterator)?function(e){return Du(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Du(e)})(e)}function jn(e,t){return(jn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Rn(e){return(Rn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Fn=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jn(e,t)}(o,c.Component);var n,r,t=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Rn(n),t=r?(t=Rn(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Ln(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function o(e){return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),(e=t.call(this,e)).state={value:""},e}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(o.prototype,[{key:"render",value:function(){var e,t={};for(e in this.props)"value"!==e&&"handleEvent"!==e&&(t[e]=this.props[e]);return K("search",{controlProps:t,handleResultSelect:this.handleResultSelect.bind(this),handleSearchChange:this.handleSearchChange.bind(this),state:this.state})}},{key:"resetSearch",value:function(){this.setState({isLoading:!1,results:[]})}},{key:"handleResultSelect",value:function(e,t){t=t.result,re(this.props.handleEvent)&&this.props.handleEvent({key:this.props.name,propertyName:this.props.propertyName,eventName:"onSelect",parameters:t})}},{key:"handleSearchChange",value:function(e,t){var t=t.value,n=this;n.setState({isLoading:!0,value:t}),setTimeout(function(){return null===n.state.value||void 0===n.state.value||n.state.value.length<2?n.resetSearch():void n.search(n.state.value)},200)}},{key:"search",value:function(e){var t=this,n=this.props.url;n+=this.props.url.includes("?")?"&":"?",n+="term="+e,Dn()(n,{credentials:"same-origin"}).then(function(e){return e.json()}).then(function(e){t.setState({isLoading:!1,results:e})}).catch(function(e){ne(console)?alert(e):console.error(e)})}}]),o}();function Tn(e){return(Tn="function"==typeof Symbol&&"symbol"==Du(Symbol.iterator)?function(e){return Du(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Du(e)})(e)}function Nn(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function Mn(r){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?Nn(Object(o),!0).forEach(function(e){var t,n=r;e=o[t=e],t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):Nn(Object(o)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))})}return r}function In(e,t){return(In=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Bn(e){return(Bn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Wn=n(10),Un=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&In(e,t)}(o,c.Component);var n,r,t=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Bn(n),t=r?(t=Bn(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Tn(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function o(e){return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),(e=t.call(this,e)).state={},e}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(o.prototype,[{key:"render",value:function(){var e,r=this,a=this,i={};for(e in this.props)"additionalParams"!==e&&"items"!==e&&"propertyName"!==e&&(i[e]=this.props[e]);var t,n,o=this.props.additionalParams.model,l=this.props.additionalParams.data,s=this.props.additionalParams.errors,c=this.props.additionalParams.children,u=this.props.additionalParams.parentItem,p=this.props.additionalParams.handleEvent,f=o["data-buildertype"];if("header"===f)t=K(f,{props:this.props,propsControl:i,model:o});else if("button"===f)i.floated=o.floated,i.size=""!==o.size?o.size:null,i.content=this.props.content,i.basic=o.basic,i.circular=o.circular,i.compact=o.compact,i.disabled=o.disabled,i.fluid=o.fluid,i.primary=o.primary,i.secondary=o.secondary,i.link=o.link,o.icon&&(i.icon=o.icon),void 0!==p&&(n=i.onClick,i.onClick=function(e){n&&n(e),e.currentTarget&&e.currentTarget.classList&&e.currentTarget.classList.add("loading");var t=p({syntheticEvent:e,key:i.name,eventName:"onClick"});return e.currentTarget&&e.currentTarget.classList&&e.currentTarget.classList.remove("loading"),t}),t=K(f,{propsControl:i,isForm:this.isForm(u)});else if("label"===f)t=K(f,{props:this.props,propsControl:i,model:o});else if("message"===f)t=K(f,{props:this.props,propsControl:i,model:o});else if("input"===f)i.defaultValue=o.defaultvalue,i.size=o.size,oe(o.label)&&(i.label=o.label),i.keyboardType=o.keyboardType,i.labelPosition=o.labelPosition,i.placeholder=o.placeholder,i.type=o.type,i.disabled=o.disabled,i.transparent=o.transparent,i.fluid=o.fluid,i.readOnly=o.readOnly||this.props.readOnly,null!=p&&(i.onChange=function(e,t){var n=t.name,r=t.value,o=r;"number"===i.type&&(""==o?o=void 0:"string"!=typeof o||"."!=(t=o[o.length-1])&&","!=t&&(o=Number(o),Number.isNaN(o)&&(o=r))),p({syntheticEvent:e,key:i.name,propertyName:a.props.propertyName,eventName:"onChange",name:n,value:o})}),null==i.value&&(i.value=""),i.error=Boolean(this.props.error),t=K(f,{isForm:this.isForm(u),props:this.props,propsControl:i});else if("textarea"===f)delete i.autoHeight,i.placeholder=o.placeholder,i.keyboardType=o.keyboardType,i.rows=null!==o.rows&&void 0!==o.rows?Number(o.rows):void 0,void 0!==o.label&&""!==o.label&&(i.label=o.label),i.readOnly=o.readOnly||this.props.readOnly,null!==p&&(i.onChange=function(e,t){var n=t.name,t=t.value;p({syntheticEvent:e,key:i.name,propertyName:a.props.propertyName,eventName:"onChange",name:n,value:t})}),null==i.value&&(i.value=""),t=K(f,{isForm:this.isForm(u),props:this.props,propsControl:i});else if("checkbox"===f)void 0!==o.label&&""!==o.label&&(i.label=o.label),i.placeholder=o.placeholder,i.type=o.type,i.disabled=o.disabled,i.fitted=o.fitted,i.indeterminate=o.indeterminate,i.readOnly=o.readOnly||this.props.readOnly,i.slider=o.slider,i.toggle=o.toggle,null!==p&&(i.onChange=function(e,t){var n=t.name,t=t.checked;p({syntheticEvent:e,key:i.name,propertyName:a.props.propertyName,eventName:"onChange",name:n,value:t})}),void 0!==l&&("boolean"==typeof variable?i.checked=l[i.name]:"true"===l[i.name]||"1"===l[i.name]?i.checked=!0:"false"===l[i.name]||"0"===l[i.name]?i.checked=!1:i.checked=Boolean(l[i.name])),s&&re(s[o.key])&&1==Boolean(s[o.key])&&(oe(i.className)?i.className+=" error":i.className="error"),t=K(f,{isForm:this.isForm(u),propsControl:i});else if("dropdown"===f){var d,l=[];if(void 0!==o["data-elements"]&&(l=Array.isArray(o["data-elements"])?o["data-elements"]:pe.a.parse(o["data-elements"])),void 0!==o.label&&""!==o.label&&(i.label=o.label),o.clearable&&!o.multiple&&(l=Wn(l)).unshift({key:"__reset",value:"",text:"   "}),i.defaultValue=o.defaultvalue,i.placeholder=o.placeholder,i.options=l,i.fluid=o.fluid,i.selection=o.selection,i.multiple=o.multiple,i.search=o.search,i.disabled=o.disabled||o.readOnly||this.props.readOnly,s&&void 0!==s[o.key]&&(i.error=Boolean(i.error)),null!==p&&(i.onChange=function(e,t){var n=t.name,t=t.value;p({syntheticEvent:e,key:i.name,propertyName:a.props.propertyName,eventName:"onChange",name:n,value:t})}),i.allowAdditions=o.allowAddItems,i.allowAdditions&&(i.onAddItem=function(e,t){var n=t.value,t=Wn(i.value);Array.isArray(t)?t.includes(n)||t.push(n):t=[n],i.onChange(e,{name:i.name,value:t})}),i.multiple){if(void 0!==i.value&&null!==i.value||(i.value=[]),!Array.isArray(i.value)){try{d=pe.a.parse(i.value)}catch(e){}Array.isArray(d)||(d=[i.value]),i.value=d}i.allowAdditions&&this.dropdownCheckAdditional(i.value,i.options)}t=K(f,{isForm:this.isForm(u),props:this.props,propsControl:i})}else if("statistic"===f)u=[],void 0!==o["data-elements"]&&(u=Array.isArray(o["data-elements"])?o["data-elements"]:pe.a.parse(o["data-elements"])),t=K(f,{items:u,model:o,propsControl:i});else if("image"===f)t=K(f,{me:a,model:o,props:this.props,propsControl:i});else if("form"===f)t=K(f,{propsControl:i,children:c,model:o});else if("formgroup"===f)t=K(f,{propsControl:i,widths:o.widths,widthsCustom:o.widthsCustom,children:c,orientation:o.orientation});else if("breadcrumb"===f){var h=[];if(Array.isArray(this.props.items))for(var m=0;m<this.props.items.length;m++)!function(e){var t=r.props.items[e],n={key:e};n.active=t.active,n.href=t.url,null!==p&&(n.onClick=function(e){p({syntheticEvent:e,key:i.name,eventName:"onItemClick",parameters:{target:t.url}}),e.preventDefault()}),h.push({childProps:Mn({},n),text:re(t.text)?t.text:"<not set>"}),e<r.props.items.length-1&&(e={key:e+"_d"},""!==t.divider&&(e.icon=t.divider),h.push({dividerProps:Mn({},e),isDivider:!0}))}(m);t=K(f,{children:h,propsControl:i})}else t=K("unknown",{props:this.props,type:f});return t}},{key:"isForm",value:function(e){return null!=e&&("form"===e["data-buildertype"]||"formgroup"===e["data-buildertype"])}},{key:"dropdownCheckAdditional",value:function(e,r){Array.isArray(e)&&e.forEach(function(e){for(var t=!1,n=0;n<r.length;n++)if(e===r[n].value){t=!0;break}0==t&&r.push({value:e,text:e})})}}]),o}();function Kn(e){return(Kn="function"==typeof Symbol&&"symbol"==Du(Symbol.iterator)?function(e){return Du(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Du(e)})(e)}function zn(e,t){return(zn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Gn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qn(e){return(qn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Hn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Yn=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zn(e,t)}(a,c.Component);var n,r,o=(n=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=qn(n),t=r?(t=qn(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Kn(t)&&"function"!=typeof t?Gn(e):t});function a(){var r;!function(e){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Hn(Gn(r=o.call.apply(o,[this].concat(t))),"onUpload",function(e,t){var n=Gn(r),e={name:e.name,token:t.result.properties.Token,success:t.success,properties:t.result.properties};t.success?n.props.onChange&&n.props.onChange(null,{name:n.props.name,propertyName:n.props.propertyName,value:t.result.properties.Token,parameters:e}):n.props.onUploadFail&&n.props.onUploadFail(null,{name:n.props.name,propertyName:n.props.propertyName,message:t.result.message,details:t.result.details,success:!1})}),Hn(Gn(r),"onClear",function(e){var t=Gn(r);t.props.onChange&&t.props.onChange(null,{name:t.props.name,propertyName:t.props.propertyName,value:null})}),r}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(a.prototype,[{key:"render",value:function(){var e=this.onClear,t=this.onUpload;return K("signature",{handleChange:this.handleChange,me:this,onClear:e,onUpload:t,props:this.props,state:this.state})}}]),a}();function Jn(e){return(Jn="function"==typeof Symbol&&"symbol"==Du(Symbol.iterator)?function(e){return Du(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Du(e)})(e)}function Qn(e,t){return(Qn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $n(e){return($n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Xn=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qn(e,t)}(o,c.Component);var n,r,t=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=$n(n),t=r?(t=$n(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Jn(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function o(e){return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),(e=t.call(this,e)).state={},e}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(o.prototype,[{key:"render",value:function(){var e={name:this.props.name,className:this.props["style-customcss"],style:this.props.style,"data-buildertype":this.props["data-buildertype"]};return K("static-content",{props:this.props,spanProps:e})}}]),o}();function Zn(e){return(Zn="function"==typeof Symbol&&"symbol"==Du(Symbol.iterator)?function(e){return Du(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Du(e)})(e)}function er(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tr(e,t){return(tr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function nr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rr(e){return(rr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var or=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tr(e,t)}(i,c.Component);var e,t,n,r,a=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=rr(n),t=r?(t=rr(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Zn(t)&&"function"!=typeof t?nr(e):t});function i(e){var n,t,r,o;return function(e){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this),o=function(e,t){t=t.activeIndex,n.props.buildermode&&n.forceUpdate(),window&&window.document&&setTimeout(function(){var e=window.document.createEvent("UIEvents");e.initUIEvent("resize",!0,!1,window,0),window.dispatchEvent(e)},50),re(n.props.handleEvent)&&n.props.handleEvent({e:e,key:n.props.name,eventName:"onTabChange",parameters:{targetIndex:t,pane:n.props["data-panes"][t]}})},(r="onTabChange")in(t=nr(n=a.call(this,e)))?Object.defineProperty(t,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[r]=o,n.state={},re(e.value)?n.state.activeitem=e.value:null!=e.activeitem&&(n.state.activeitem=e.activeitem),n}return t=[{key:"getDerivedStateFromProps",value:function(e,t){return t.activeitem!==e.value?{activeitem:e.value}:null}}],er((e=i).prototype,[{key:"render",value:function(){var e=this.getPanes(this.props["data-panes"]);return K("tab-group",{onTabChange:this.onTabChange,panes:e,props:this.props})}},{key:"getPanes",value:function(e){var t=[];if(Array.isArray(e))for(var n=0;n<e.length;n++){var r=e[n];if(void 0!==r.visibleCondition&&null!==r.visibleCondition&&""!==r.visibleCondition){var o="return "+r.visibleCondition;try{if(!new Function("data",o)(this.props.data))continue}catch(e){}}t.push({menuItem:r.title,pane:{key:r.psid,className:"top",content:this.renderPanel(r)}})}return t}},{key:"renderPanel",value:function(e){var t,n,r=void 0;return re(this.props.placeholders)&&Array.isArray(this.props.placeholders[e.psid])&&0<this.props.placeholders[e.psid].length?(t=this.props.placeholders[e.psid])&&(r=this.props.createControls(this,{model:t,parentPlaceholder:e.psid,data:this.props.data,formData:this.props.data,errors:this.props.errors,buildermode:this.props.buildermode,parentItem:this.props.model,children:this.props.children,handleEvent:this.props.handleEvent,readOnlyControls:this.props.readOnlyControls,hideControls:this.props.hideControls,getFormFunc:this.props.getFormFunc,getAdditionalDataForControl:this.props.getAdditionalDataForControl,readOnly:this.props.readOnly,disableRefs:this.props.disableRefs,uploadUrl:this.props.uploadUrl,downloadUrl:this.props.downloadUrl,extendedData:this.props.extendedData,controlsToReplace:this.props.controlsToReplace,needCheckReplace:this.props.needCheckReplace,eventOnEdit:this.props.eventOnEdit,eventOnDelete:this.props.eventOnDelete,eventOnCopy:this.props.eventOnCopy,externalControlRender:this.props.externalControlRender,externalControlList:this.props.externalControlList,adaptiveViewType:this.props.adaptiveViewType}),n=e.psid,this.props.buildermode&&this.props.createBuilderDropzone&&(0<r.length&&0<t.length&&r.unshift(this.props.createBuilderDropzone(n+"tab_dropzone_header",this.props.name,void 0,e.title,e.psid)),r.push(this.props.createBuilderDropzone(n+"tab_dropzone_footer",this.props.name,t[t.length-1].key,e.title,e.psid)))):this.props.buildermode&&this.props.createBuilderDropzone&&(r=this.props.createBuilderDropzone("tab_dropzone_footer",this.props.name,void 0,e.title,e.psid)),r}}]),er(e,t),i}();function ar(e){return(ar="function"==typeof Symbol&&"symbol"==Du(Symbol.iterator)?function(e){return Du(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Du(e)})(e)}function ir(e,t){return(ir=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function lr(e){return(lr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var sr=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ir(e,t)}(o,c.Component);var n,r,t=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=lr(n),t=r?(t=lr(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==ar(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function o(e){return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),(e=t.call(this,e)).state={},e}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(o.prototype,[{key:"render",value:function(){var e=this.getPanels(this.props.panels);return K("accordion",{panels:e,props:this.props})}},{key:"getPanels",value:function(e){var t=[];if(Array.isArray(e))for(var n=0;n<e.length;n++){var r=e[n];if(void 0!==r.visibleCondition&&null!==r.visibleCondition&&""!==r.visibleCondition){var o="return "+r.visibleCondition;try{if(!new Function("data",o)(this.props.data))continue}catch(e){}}t.push({key:r.psid,title:r.title,content:{content:this.renderPanel(r)}})}return t}},{key:"renderPanel",value:function(e){var t,n,r=void 0;return re(this.props.placeholders)&&Array.isArray(this.props.placeholders[e.psid])&&0<this.props.placeholders[e.psid].length?(t=this.props.placeholders[e.psid])&&(r=this.props.createControls(this,{model:t,parentPlaceholder:e.psid,data:this.props.data,formData:this.props.data,errors:this.props.errors,buildermode:this.props.buildermode,parentItem:this.props.model,children:this.props.children,handleEvent:this.props.handleEvent,readOnlyControls:this.props.readOnlyControls,hideControls:this.props.hideControls,getFormFunc:this.props.getFormFunc,getAdditionalDataForControl:this.props.getAdditionalDataForControl,readOnly:this.props.readOnly,disableRefs:this.props.disableRefs,uploadUrl:this.props.uploadUrl,downloadUrl:this.props.downloadUrl,extendedData:this.props.extendedData,controlsToReplace:this.props.controlsToReplace,needCheckReplace:this.props.needCheckReplace,eventOnEdit:this.props.eventOnEdit,eventOnDelete:this.props.eventOnDelete,eventOnCopy:this.props.eventOnCopy,externalControlRender:this.props.externalControlRender,externalControlList:this.props.externalControlList,adaptiveViewType:this.props.adaptiveViewType}),n=e.psid,this.props.buildermode&&this.props.createBuilderDropzone&&(0<r.length&&0<t.length&&r.unshift(this.props.createBuilderDropzone(n+"tab_dropzone_header",this.props.name,void 0,e.title,e.psid)),r.push(this.props.createBuilderDropzone(n+"tab_dropzone_footer",this.props.name,t[t.length-1].key,e.title,e.psid)))):this.props.buildermode&&this.props.createBuilderDropzone&&(r=this.props.createBuilderDropzone("tab_dropzone_footer",this.props.name,void 0,e.title,e.psid)),r}}]),o}();function cr(e){return(cr="function"==typeof Symbol&&"symbol"==Du(Symbol.iterator)?function(e){return Du(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Du(e)})(e)}function ur(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pr(e,t){return(pr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dr(e){return(dr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var hr=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pr(e,t)}(a,c.Component);var e,t,n,r,o=(n=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=dr(n),t=r?(t=dr(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==cr(t)&&"function"!=typeof t?fr(e):t});function a(e){var t,n,r;return function(e){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this),t=o.call(this,e),r=function(e){null!=t.props.handleEvent&&t.props.handleEvent({syntheticEvent:e,key:t.props.name,propertyName:t.props.propertyName,eventName:"onClick"})},(e="onClick")in(n=fr(t))?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,t.state={},t}return t=[{key:"copyObj",value:function(e){if(null==e||"object"!=cr(e))return e;var t,n=e.constructor();for(t in e)e.hasOwnProperty(t)&&(n[t]=this.copyObj(e[t]));return n}}],ur((e=a).prototype,[{key:"render",value:function(){var e={className:this.props.className,style:this.props.style};return this.props.activeEvent&&(e.onClick=this.onClick.bind(this)),K("card",{props:this.props,propsControls:e,me:this})}},{key:"renderPanel",value:function(e){var t,n,r=void 0;return null!=this.props.placeholders&&Array.isArray(this.props.placeholders[e])&&0<this.props.placeholders[e].length?(t=this.props.placeholders[e])&&(r=this.props.createControls(this,{model:t,parentPlaceholder:e,data:this.props.data,formData:this.props.data,errors:this.props.errors,buildermode:this.props.buildermode,parentItem:this.props.model,children:this.props.children,handleEvent:this.props.handleEvent,hideControls:this.props.hideControls,readOnlyControls:this.props.readOnlyControls,getFormFunc:this.props.getFormFunc,getAdditionalDataForControl:this.props.getAdditionalDataForControl,readOnly:this.props.readOnly,disableRefs:this.props.disableRefs,uploadUrl:this.props.uploadUrl,downloadUrl:this.props.downloadUrl,extendedData:this.props.extendedData,controlsToReplace:this.props.controlsToReplace,needCheckReplace:this.props.needCheckReplace,eventOnEdit:this.props.eventOnEdit,eventOnDelete:this.props.eventOnDelete,eventOnCopy:this.props.eventOnCopy,externalControlRender:this.props.externalControlRender,externalControlList:this.props.externalControlList,adaptiveViewType:this.props.adaptiveViewType}),n=e,this.props.buildermode&&this.props.createBuilderDropzone&&(0<r.length&&0<t.length&&r.unshift(this.props.createBuilderDropzone(n+"tab_dropzone_header",this.props.name,void 0,e,e)),r.push(this.props.createBuilderDropzone(n+"tab_dropzone_footer",this.props.name,t[t.length-1].key,e,e)))):this.props.buildermode&&this.props.createBuilderDropzone&&(r=this.props.createBuilderDropzone("tab_dropzone_footer",this.props.name,void 0,e,e)),r}}]),ur(e,t),a}();function mr(e){return(mr="function"==typeof Symbol&&"symbol"==Du(Symbol.iterator)?function(e){return Du(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Du(e)})(e)}function yr(e,t){return(yr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function gr(e){return(gr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var br=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yr(e,t)}(t,c.Component);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=gr(n),t=r?(t=gr(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==mr(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,[{key:"componentDidMount",value:function(){this.props.onMount(this)}},{key:"render",value:function(){return K("tree-picker-header",{props:this.props})}}]),t}();function vr(e){return(vr="function"==typeof Symbol&&"symbol"==Du(Symbol.iterator)?function(e){return Du(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Du(e)})(e)}function Vr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wr(e,t){return(wr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Er(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _r(e){return(_r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function kr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Cr=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wr(e,t)}(a,c.Component);var n,r,o=(n=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=_r(n),t=r?(t=_r(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==vr(t)&&"function"!=typeof t?Er(e):t});function a(){var i;!function(e){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return kr(Er(i=o.call.apply(o,[this].concat(t))),"onChange",function(t){var e,n=Er(i),r=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e){if(e){if("string"==typeof e)return Vr(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Vr(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return{s:t=function(){},n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,i=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){i=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(i)throw o}}}}(t.target.files);try{for(r.s();!(e=r.n()).done;){var o=e.value,a=new FormData;a.append(n.props.name,o),window.$.ajax({url:n.props.uploadUrl,type:"POST",processData:!1,contentType:!1,dataType:"json",data:a,success:function(e){e.success?n.props.onChange&&n.props.onChange(t,{name:n.props.name,propertyName:n.props.propertyName,value:e.result.properties.Token,parameters:{success:!0,properties:e.result.properties}}):n.props.onUploadFail&&n.props.onUploadFail(t,{name:n.props.name,propertyName:n.props.propertyName,message:e.message,details:e.details,success:!1})}})}}catch(e){r.e(e)}finally{r.f()}}),kr(Er(i),"onClear",function(){i.props.onChange&&i.props.onChange(void 0,{name:i.props.name,propertyName:i.props.propertyName,value:null})}),i}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(a.prototype,[{key:"getCustomFileName",value:function(){return this.props.additionalData&&this.props.additionalDataContext&&this.props.additionalData.customNameGetter?this.props.additionalData.customNameGetter(this.props.additionalDataContext):null}},{key:"getCustomContentType",value:function(){return this.props.additionalData&&this.props.additionalDataContext&&this.props.additionalData.customContentTypeGetter?this.props.additionalData.customContentTypeGetter(this.props.additionalDataContext):null}},{key:"render",value:function(){return K("upload",{getCustomContentType:this.getCustomContentType,getCustomFileName:this.getCustomFileName,me:this,onChange:this.onChange,onClear:this.onClear,props:this.props})}}]),a}();function Or(e){return(Or="function"==typeof Symbol&&"symbol"==Du(Symbol.iterator)?function(e){return Du(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Du(e)})(e)}function Sr(e,t){return(Sr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ar(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xr(e){return(xr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Pr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Dr=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Sr(e,t)}(o,c.Component);var n,r,t=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=xr(n),t=r?(t=xr(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Or(t)&&"function"!=typeof t?Ar(e):t});function o(e){var r;return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),Pr(Ar(r=t.call(this,e)),"selectWorkflowScheme",function(e,t){t=t.value,r.props.handleEvent({key:r.props.name,eventName:"onSchemeSelected",parameters:{scheme:t}})}),Pr(Ar(r),"handleChanged",function(e,t){var n=t.name,t=t.value;r.setState(Pr({},n,t))}),r.state={commands:e.commands,states:e.states,processExists:e.processExists},r.checkGetAdditionalDataForControl(),r}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(o.prototype,[{key:"componentDidMount",value:function(){this.isMount=!0}},{key:"componentWillUnmount",value:function(){this.isMount=!1}},{key:"checkGetAdditionalDataForControl",value:function(){var o=this;this.props.getAdditionalDataForControl||this.props.commands||this.props.states?this.props.getAdditionalDataForControl(this,{loadParameters:!this.props.blockLoadParameters},function(e){var t=e.commands,n=e.states,r=e.processExists,e=e.processParameters;o.setState({commands:t,states:n,processExists:r}),o.props.handleEvent&&o.props.handleEvent({key:o.props.name,eventName:"onReceivedCommands",parameters:{commands:t,states:n,processParameters:e}}),o.isMount&&o.forceUpdate()}):console&&console.log("WorkflowBar: This control requires getAdditionalDataForControl or commands and states not undefined parameters!")}},{key:"onCommand",value:function(e,t){re(this.props.handleEvent)&&(t.currentTarget&&t.currentTarget.classList&&t.currentTarget.classList.add("loading"),this.props.handleEvent({key:this.props.name,eventName:"onCommandClick",parameters:{command:e}}),t.currentTarget&&t.currentTarget.classList&&t.currentTarget.classList.remove("loading"))}},{key:"onSetState",value:function(e){if(re(this.props.handleEvent)){e.currentTarget&&e.currentTarget.classList&&e.currentTarget.classList.add("loading");for(var t=(re(this.state.states)?this.state:this.props).states,n=void 0,r=0;r<t.length;r++)if(t[r].value==this.state.setstate){n=t[r];break}this.props.handleEvent({key:this.props.name,eventName:"onSetStateClick",parameters:{state:n}}),e.currentTarget&&e.currentTarget.classList&&e.currentTarget.classList.remove("loading")}}},{key:"render",value:function(){return K("workflow-bar",{handleChanged:this.handleChanged.bind(this),me:this,props:this.props,selectWorkflowScheme:this.selectWorkflowScheme.bind(this),state:this.state,onCommand:this.onCommand.bind(this),onSetState:this.onSetState.bind(this)})}}]),o}(),Lr=n(14),jr=n.n(Lr).a.createActions(["add","showEditForm","remove","saveData","save","move","insert"]),Rr=n(18),Fr=n.n(Rr);function Tr(e){return(Tr="function"==typeof Symbol&&"symbol"==Du(Symbol.iterator)?function(e){return Du(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Du(e)})(e)}function Nr(e,t){return(Nr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Mr(e){return(Mr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ir=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Nr(e,t)}(o,c.Component);var n,r,t=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Mr(n),t=r?(t=Mr(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Tr(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function o(e){return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),(e=t.call(this,e)).state={},e.controlRef=U.a.createRef(),e.barRef=U.a.createRef(),e}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(o.prototype,[{key:"render",value:function(){return K("control-bar",{props:this.props,onCopyControl:this.onCopyControl.bind(this,this.props.model),me:this})}},{key:"onCopyControl",value:function(e,t){var n=pe.a.stringify(e);(e=document.createElement("textarea")).value=n,e.setAttribute("readonly",""),e.style.position="absolute",e.style.left="-9999px",document.body.appendChild(e),n=0<document.getSelection().rangeCount&&document.getSelection().getRangeAt(0),e.select(),document.execCommand("copy"),document.body.removeChild(e),n&&(document.getSelection().removeAllRanges(),document.getSelection().addRange(n))}},{key:"componentDidMount",value:function(){this.updateBarPosition&&(window.addEventListener("resize",this.updateBarPosition),this.updateBarPosition())}},{key:"componentDidUpdate",value:function(){this.updateBarPosition&&this.updateBarPosition()}},{key:"componentWillUnmount",value:function(){this.updateBarPosition&&window.removeEventListener("resize",this.updateBarPosition)}}]),o}();function Br(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function Wr(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Br(Object(n),!0).forEach(function(e){Gr(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Br(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function Ur(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e){if(e){if("string"==typeof e)return Kr(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Kr(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return{s:t=function(){},n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,i=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){i=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(i)throw o}}}}function Kr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function zr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var qr=(Vs=[{key:"isAdaptiveRender",value:function(e,t){return!e["style-adaptive"]||null==t||""===t||!e["style-renderwhen"]||t===e["style-renderwhen"]}},{key:"isForm",value:function(e){return null!=e&&("form"===e["data-buildertype"]||"formgroup"===e["data-buildertype"])}},{key:"getFormattedDate",value:function(e,t){if(null==t)return"";var n,r=void 0,o=e.indexOf(":");return 0<o?(n=e.substring(0,o),r=e.substring(o+1,e.length)):n=e,null==(e=t[n])&&(e=""),re(r)&&("number"==typeof e?e=Fr()(e).format(r):(t=xe()(e)).isValid()&&(e="local"===r?(n=Pe("L"),t.format(n)):t.format(r))),e}},{key:"getStyle",value:function(e,t,n){var r={};return e["style-marginTop"]&&(r.marginTop=e["style-marginTop"]),e["style-marginBottom"]&&(r.marginBottom=e["style-marginBottom"]),e["style-marginLeft"]&&(r.marginLeft=e["style-marginLeft"]),e["style-marginRight"]&&(r.marginRight=e["style-marginRight"]),e["style-width"]&&(r.width=e["style-width"]),e["style-height"]&&(r.height=e["style-height"]),void 0!==e["style-float"]&&(r.float=e["style-float"]),void 0!==e["style-display"]&&(r.display=e["style-display"]),e["style-hidden"]&&(t?r.opacity=.2:r.display="none"),void 0!==e["style-source"]&&Hr.getCustomStyle(e["style-source"],r),void 0!==e["style-font-size"]&&(r.fontSize=e["style-font-size"]),e["style-adaptive"]&&void 0!==e["style-mobilesource"]&&"mobile"===n&&Hr.getCustomStyle(e["style-mobilesource"],r),r}},{key:"getCustomStyle",value:function(e,n){e.split(";").forEach(function(e){var t=e.split(":");2===t.length&&(e=t[0].replace(/^\s+|\s+$/g,""),n[e]=t[1].replace(/^\s+|\s+$/g,""))})}},{key:"getClassName",value:function(e,t){var n=e["style-customcss"];return t&&re(Hr.containers["data-buildertype"])&&(n=(null==n?"":n+" ")+"dwkit-formbuilder-item-container"),1==e["other-required"]&&(t="dwkit-required-field",n=null==n||""==n?t:n+t),1==e["style-hiddeninprint"]?(null==n?"":n+" ")+"dwkit-notprint":n}},{key:"fillDefaultValues",value:function(e,t){for(var n in t)void 0===e[n]&&(e[n]=t[n]);return e}},{key:"createBuilderDropzone",value:function(t,n,r,e,o){var a="";return K("builder-dropzone",{key:t,elementToInsert:n,elementAfter:r,onChangeDZ:function(e,t){t.name,t=t.value,a=t},onClosePopup:function(){try{var e=pe.a.parse(a);jr.insert(e,t,n,r,o)}catch(e){}},placeholderKey:o,text:"DROP ZONE"})}}],zr((ys=Hr).prototype,[{key:"isContainer",value:function(e){return re(Hr.containers[e])}},{key:"getItems",value:function(){return this.items}},{key:"setItems",value:function(e){this.items=e||[]}},{key:"getControlInfoByType",value:function(e,t){var n,r=Ur(this.items);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(o.key===e)return o}}catch(e){r.e(e)}finally{r.f()}if(t=t||Le()){var a,i=Ur(t);try{for(i.s();!(a=i.n()).done;){var l=a.value;if(l.key===e)return l}}catch(e){i.e(e)}finally{i.f()}}}},{key:"getControlByType",value:function(e,t){return(t=this.getControlInfoByType(e,t))?t.control:null}},{key:"getEditControlByType",value:function(e,t){return(t=this.getControlInfoByType(e,t))?t.editControl:null}},{key:"createControls",value:function(e,t){var n=t.model,r=t.data,o=t.errors,a=t.eventOnEdit,i=t.eventOnDelete,l=t.eventOnCopy,s=t.handleEvent,c=t.parentItem,u=t.getFormFunc,p=t.getAdditionalDataForControl,f=t.buildermode,d=t.hideControls,h=t.readOnlyControls,m=t.readOnly,y=t.disableRefs,g=t.uploadUrl,b=t.downloadUrl,v=t.extendedData,V=t.controlsToReplace,w=t.needCheckReplace,E=t.parentPlaceholder,_=t.formItem,k=t.externalControlRender,C=t.externalControlList,O=t.adaptiveViewType,S=t.formData,A=[];if(null==n)return A;for(var x=0;x<n.length;x++)if(!(Array.isArray(d)&&d.includes(n[x].key)||!f&&!Hr.isAdaptiveRender(n[x],O))){var P=void 0,D=n[x]["data-buildertype"];if("customcontrol"===D)if(void 0===n[x].type||""===n[x].type)P=K("empty",{key:n[x].key,text:"Fill Type property for rendering the control."});else{var L=Wr(Wr({},void 0===n[x].props?{}:pe.a.parse(n[x].props)),{},(Gr(M={key:n[x].key,name:n[x].key,className:n[x]["style-customcss"]},"className",Hr.getClassName(n[x],f)),Gr(M,"style",Hr.getStyle(n[x],f,O)),Gr(M,"data-buildertype",n[x]["data-buildertype"]),Gr(M,"getAdditionalDataForControl",p),Gr(M,"uploadUrl",g),Gr(M,"downloadUrl",b),M));(m||Array.isArray(h)&&h.includes(L.key))&&(L.readOnly=!0);var j=n[x].children;if(void 0!==n[x].children)try{j=pe.a.parse(n[x].children)}catch(e){}P=void 0===j||Array.isArray(j)&&0===j.length?U.a.createElement(n[x].type,L):U.a.createElement(n[x].type,L,j)}else if("customblock"===D){var R=[],F=!1,T=!1,N=!1,M=n[x],L=E,j=_;if("form"===n[x].sourceType||void 0===n[x].sourceType)if(void 0!==n[x].children&&""!==n[x].children)R=n[x].children;else{if(void 0===u){console.error('Error: "getFormFunc" parameter is undefined!. Please, set "getFormFunc" parameter for DWKitBuilder or DWKitForm!');continue}void 0!==n[x].formname&&""!==n[x].formname?R=u(n[x].formname):F=!0}else if("placeholder"===n[x].sourceType)N=T=void 0!==a,M=c,void 0===L&&(L=n[x].key),void 0!==(j=void 0===j?c:j)&&void 0!==j.placeholders&&void 0!==j.placeholders[n[x].key]&&(R=j.placeholders[n[x].key]);else if(void 0!==n[x].source&&""!==n[x].source)try{R=pe.a.parse(n[x].source)}catch(e){F=!0}else F=!0;P=F?K("empty",{key:n[x].key,text:"Set a form name or source in properties."}):(I=this.createControls(e,{model:R,data:r,errors:o,buildermode:T,eventOnEdit:a,eventOnDelete:i,eventOnCopy:l,parentItem:M,handleEvent:s,getFormFunc:u,getAdditionalDataForControl:p,hideControls:d,readOnlyControls:h,readOnly:m,disableRefs:y,uploadUrl:g,downloadUrl:b,controlsToReplace:V,needCheckReplace:w,parentPlaceholder:L,formItem:j,extendedData:v,externalControlRender:k,externalControlList:C,adaptiveViewType:O,formData:S}),B={key:n[x].key,name:n[x].key,className:Hr.getClassName(n[x],f),style:Hr.getStyle(n[x],f,O),"data-buildertype":n[x]["data-buildertype"]},N&&(0<(I=void 0===I?[]:I).length&&(N=Hr.createBuilderDropzone(n[x].key+"_dropzone_footer",void 0===j?void 0:j.key,I[I.length-1].key,n[x].key,n[x].key),I.push(N)),j=Hr.createBuilderDropzone(n[x].key+"_dropzone_header",void 0===j?void 0:j.key,void 0,n[x].key,n[x].key),I.unshift(j)),U.a.createElement(this.getPlatformContainerControl(),B,I))}else var I,B,W=this.getControlByType(D,C),P=null===W?K("null-control",{key:n[x].key,text:"".concat(D," is unsupported")}):this.isContainer(D)?(ne(B=_)&&re(c)&&"form"===c.sourceType&&(B=c),(I=void 0)!==n[x].readOnly&&(I=n[x].readOnly),(m||Array.isArray(h)&&h.includes(n[x].key))&&(I=!0),D=f&&("formgroup"===n[x]["data-buildertype"]&&"grouped"!==n[x].orientation||"container"===n[x]["data-buildertype"]&&"flex"===n[x]["style-display"]),I=this.createControls(e,{model:n[x].children,data:r,errors:o,buildermode:f,eventOnEdit:a,eventOnDelete:i,eventOnCopy:l,parentItem:n[x],handleEvent:s,getFormFunc:u,getAdditionalDataForControl:p,hideControls:d,readOnlyControls:h,readOnly:I,disableRefs:y,uploadUrl:g,downloadUrl:b,controlsToReplace:V,needCheckReplace:w,parentPlaceholder:void 0,formItem:B,extendedData:v,externalControlRender:k,externalControlList:C,adaptiveViewType:O,formData:S}),f&&(0<I.length&&(B=D?"...":"... "+n[x].key+" down ...",B=Hr.createBuilderDropzone(n[x].key+"-dropzone_footer",n[x].key,void 0,B),I.push(B)),D=D?"...":"... "+n[x].key+" up ...",D=Hr.createBuilderDropzone(n[x].key+"-dropzone_header",n[x].key,void 0,D),I.unshift(D)),this.createControl(e,W,{model:n[x],data:r,errors:o,parentItem:c,buildermode:f,children:I,handleEvent:s,getFormFunc:u,getAdditionalDataForControl:p,hideControls:d,readOnlyControls:h,readOnly:m,disableRefs:y,uploadUrl:g,downloadUrl:b,extendedData:v,parentPlaceholder:E,controlsToReplace:V,needCheckReplace:w,eventOnEdit:a,eventOnDelete:i,eventOnCopy:l,externalControlRender:k,externalControlList:C,adaptiveViewType:O,formData:S})):this.createControl(e,W,{model:n[x],data:r,errors:o,parentItem:c,buildermode:f,handleEvent:s,getFormFunc:u,getAdditionalDataForControl:p,hideControls:d,readOnlyControls:h,readOnly:m,disableRefs:y,uploadUrl:g,downloadUrl:b,extendedData:v,parentPlaceholder:E,controlsToReplace:V,needCheckReplace:w,eventOnEdit:a,eventOnDelete:i,eventOnCopy:l,externalControlRender:k,externalControlList:C,adaptiveViewType:O,formData:S});f?(0<x&&x<n.length&&(W=Hr.createBuilderDropzone(n[x].key+"-dropzone_bw",void 0===c?void 0:c.key,n[x].key,"...",E),A.push(W)),A.push(U.a.createElement(Ir,{key:P.key+"_controlbar",control:P,text:n[x]["data-buildertype"],model:n[x],parent:e,onDelete:i,onEdit:a,onCopy:l,isGroup:"formgroup"===n[x]["data-buildertype"]}))):A.push(P)}return A}},{key:"createControl",value:function(e,t,n){throw n.model,n.data,n.errors,n.parentItem,n.buildermode,n.children,n.handleEvent,n.getAdditionalDataForControl,n.getFormFunc,n.hideControls,n.readOnlyControls,n.readOnly,n.disableRefs,n.uploadUrl,n.downloadUrl,n.extendedData,n.controlsToReplace,n.needCheckReplace,n.eventOnEdit,n.eventOnDelete,n.eventOnCopy,n.externalControlRender,n.externalControlList,n.adaptiveViewType,n.formData,new Error("You must implement this method in subclass")}},{key:"setCreateControlsProps",value:function(e,t){Object.assign(e,t),e.buildermode&&(e.createBuilderDropzone=Hr.createBuilderDropzone),e.createControls=this.createControls.bind(this)}},{key:"getPlatformContainerControl",value:function(){}}]),zr(ys,Vs),Hr);function Hr(){!function(e){if(!(e instanceof Hr))throw new TypeError("Cannot call a class as a function")}(this),Gr(this,"items",[])}function Yr(e){return(Yr="function"==typeof Symbol&&"symbol"==Du(Symbol.iterator)?function(e){return Du(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Du(e)})(e)}Gr(qr,"containers",{form:"",formgroup:"",grid:"",gridcolumn:"",container:"",div:"",repeater:""});var Jr,Qr=n(14).createStore({init:function(){this.listenTo(jr.add,this.add),this.listenTo(jr.move,this.move),this.listenTo(jr.remove,this.remove),this.listenTo(jr.save,this.save),this.listenTo(jr.saveData,this._updateOrder),this.listenTo(jr.insert,this.insert),Jr=[]},move:function(e,t){var n,r,o,a,i,l,s;null!=t&&(n=this.findItemByKey(e,Jr),r=this._excludeItemByKey(e,Jr),t.attributes.name&&"dropzone_footer"===t.attributes.name.value?r.push(n):t.attributes.name&&"dropzone_header"===t.attributes.name.value?r.unshift(n):null!=t.attributes.elementtoinsert?null!=(o=null!=(a=t.attributes.elementtoinsert)?this.findItemByKey(a.value,r):o)?(i=(i=void 0)===(e=t.attributes.placeholderkey)?(null==o.children&&(o.children=[]),o.children):(void 0===o.placeholders&&(o.placeholders={}),null==o.placeholders[e.value]&&(o.placeholders[e.value]=[]),o.placeholders[e.value]),null!=t.attributes.name&&t.attributes.name.value.includes("dropzone_footer")?i.push(n):null!=t.attributes.name&&t.attributes.name.value.includes("dropzone_header")?i.unshift(n):null!=(s=t.attributes.elementafter)&&(e=this.findItemByKey(s.value,i),i.splice(i.indexOf(e),0,n))):console.error("ERROR: element is not found",a,n,t):null!=t.attributes.elementafter&&(null!=(l=null!=(s=t.attributes.elementafter)?this.findItemByKey(s.value,r):l)?r.splice(r.indexOf(l),0,n):console.error("ERROR: element is not found",s,n,t)),this.setData(r))},insert:function(e,t,n,r,o){var a,i,l;e&&(this.makeUniqueKeys(e,this.getAllKeys(a=Jr)),"dropzone_footer"===t?a.push(e):"dropzone_header"===t?a.unshift(e):n?null!=(l=this.findItemByKey(n,a))?(i=(i=void 0)===o?(null==l.children&&(l.children=[]),l.children):(void 0===l.placeholders&&(l.placeholders={}),null==l.placeholders[o.value]&&(l.placeholders[o.value]=[]),l.placeholders[o.value]),t&&t.includes("dropzone_footer")?i.push(e):t&&t.includes("dropzone_header")?i.unshift(e):null!=r&&(t=this.findItemByKey(r,i),i.splice(i.indexOf(t),0,e))):console.error("ERROR: element is not found",l,e,n):null!=r&&(null!=(n=this.findItemByKey(r,a))?a.splice(a.indexOf(n),0,e):console.error("ERROR: element is not found",r,e)),this.setData(a))},_excludeItemByKey:function(e,t){for(var n=[],r=0;r<t.length;r++)if(t[r].key!=e&&(n.push(t[r]),t[r].children&&(n[n.length-1].children=this._excludeItemByKey(e,t[r].children)),null!=t[r].placeholders))for(var o in t[r].placeholders)Array.isArray(t[r].placeholders[o])&&(n[n.length-1].placeholders[o]=this._excludeItemByKey(e,t[r].placeholders[o]));return n},add:function(e,t){var n,r,o,a,i,l,s,c=qr.fillDefaultValues({key:this.getDefaultKey(e.key),"data-buildertype":void 0!==e.builderType?e.builderType:e.key},e.defaultValues);null==t?0<Jr.length&&"form"===Jr[Jr.length-1]["data-buildertype"]?(null==(o=Jr[Jr.length-1]).children&&(o.children=[]),o.children.push(c)):Jr.push(c):t.attributes.name&&"dropzone_footer"===t.attributes.name.value?Jr.push(c):t.attributes.name&&"dropzone_header"===t.attributes.name.value?Jr.unshift(c):null!=t.attributes.elementtoinsert?null!=(n=null!=(r=t.attributes.elementtoinsert)?this.findItemByKey(r.value,Jr):n)?(i=(i=void 0)===(o=t.attributes.placeholderkey)?(null==n.children&&(n.children=[]),n.children):(void 0===n.placeholders&&(n.placeholders={}),null==n.placeholders[o.value]&&(n.placeholders[o.value]=[]),n.placeholders[o.value]),null!=t.attributes.name&&t.attributes.name.value.includes("dropzone_footer")?i.push(c):null!=t.attributes.name&&t.attributes.name.value.includes("dropzone_header")?i.unshift(c):(null!=(s=t.attributes.elementafter)&&(a=this.findItemByKey(s.value,i)),i.splice(i.indexOf(a),0,c))):console.error("ERROR: element is not found",r,e,t):null!=t.attributes.elementafter&&(null!=(l=null!=(s=t.attributes.elementafter)?this.findItemByKey(s.value,Jr):l)?Jr.splice(Jr.indexOf(l),0,c):console.error("ERROR: element is not found",s,t)),this.trigger(Jr)},remove:function(e){this.removeItemByKey(e.key,Jr),this.trigger(Jr)},copy:function(e){var t=this.copyObj(e);this.insertAfterKey(t,e.key,Jr),this.makeUniqueKeys(t),this.trigger(Jr)},getData:function(){return Jr},setData:function(e){Jr=e,this.trigger(Jr)},_updateOrder:function(e){Jr=e,this.trigger(Jr)},getDefaultKey:function(e){for(var t=1,n=e+"_"+t,r=this.getAllKeys(Jr),o=0;o<r.length;o++)r[o]==(n=e+"_"+t)&&(t++,o=-1);return n},getAllKeys:function(e){var t=[];if(null!=e)for(var n=0;n<e.length;n++){var r=e[n];if(t.push(r.key),null!=r.children)var o=this.getAllKeys(r.children),t=t.concat(o);else if(null!=r.placeholders)for(var a in r.placeholders)Array.isArray(r.placeholders[a])&&(a=this.getAllKeys(r.placeholders[a]),t=t.concat(a))}return t},getByKey:function(e){return this.findItemByKey(e,Jr)},findItemByKey:function(e,t){for(var n=0;n<t.length;n++){var r,o=t[n];if(o.key==e)return o;if(null!=o.children){if(null!=(r=this.findItemByKey(e,o.children)))return r}else if(null!=o.placeholders)for(var a in o.placeholders)if(Array.isArray(o.placeholders[a])&&null!=(r=this.findItemByKey(e,o.placeholders[a])))return r}},insertAfterKey:function(e,t,n){for(var r=0;r<n.length;r++){var o=n[r];if(o.key==t)return n.splice(r+1,0,e),!0;if(void 0!==o.children&&this.insertAfterKey(e,t,o.children))return!0;if(void 0!==o.placeholders)for(var a in o.placeholders)if(Array.isArray(o.placeholders[a])&&this.insertAfterKey(e,t,o.placeholders[a]))return!0}},updateItemByKey:function(e,t){var n,r=this.getByKey(e);for(n in t)r[n]=t[n];e!=t.key&&this.replaceDepensKeys(e,t.key),this.trigger(Jr)},replaceDepensKeys:function(e,t,n){null==n&&(n=Jr);for(var r=0;r<n.length;r++){var o=n[r];if(Array.isArray(o["events-onclick-targets"]))for(var a=o["events-onclick-targets"],i=0;i<a.length;i++)a[i]==e&&(a[i]=t);if(null!=o.children&&this.replaceDepensKeys(e,t,o.children),void 0!==o.placeholders)for(var l in o.placeholders)Array.isArray(o.placeholders[l])&&this.replaceDepensKeys(e,t,o.placeholders[l])}},removeItemByKey:function(e,t){for(var n=0;n<t.length;n++){var r=t[n];if(r.key==e){t.splice(n,1);break}if(null!=r.children&&this.removeItemByKey(e,r.children),void 0!==r.placeholders)for(var o in r.placeholders)Array.isArray(r.placeholders[o])&&this.removeItemByKey(e,r.placeholders[o])}},copyObj:function(e){if(null==e||"object"!==Yr(e))return e;var t,n=e.constructor();for(t in e)e.hasOwnProperty(t)&&(n[t]=this.copyObj(e[t]));return n},makeUniqueKeys:function(e,t){var n=this,r=e["data-buildertype"];if(r&&e.key&&(!t||t&&t.includes(e.key))&&(e.key=this.getDefaultKey(r)),Array.isArray(e.children)&&e.children.forEach(function(e){n.makeUniqueKeys(e,t)}),void 0!==e.placeholders)for(var o in e.placeholders)Array.isArray(e.placeholders[o])&&e.placeholders[o].forEach(function(e){n.makeUniqueKeys(e,t)})}}),$r={clearbutton:"Clear",uploadbutton:"Upload",downloadbutton:"Download",toolbar:{sepContainers:"Containers",container:"Container",form:"Form",formgroup:"Form Group",menu:"Menu",workflowbar:"Workflow bar",customblock:"Custom block",sepCollection:"Collections",gridview:"GridView",collectioneditor:"Collection Editor",camera:"Camera",sepControls:"Controls",header:"Header",input:"Input",textarea:"TextArea",dictionary:"Dictionary",dropdown:"Dropdown",checkbox:"CheckBox",radiogroup:"Radio group",button:"Button",label:"Label",message:"Message",image:"Image",statistic:"Statistic",customcontrol:"Custom control",staticcontent:"Static Content",dropdowntrigger:"Dropdown trigger",sepCharts:"Charts",barchart:"Bar",linechart:"Line",scatterchart:"Scatter",doughnutchart:"Doughnut",piechart:"Pie",radarchart:"Radar",signaturecanvas:"Signature"},preview:{dropzonetext:"DROP ZONE"},editforms:{base:{generaltab:"General",styletab:"Style",eventstab:"Events",othertab:"Other",widthfield:"Width",heightfield:"Height",margintopfield:"Margin Top",marginbottomfield:"Margin Bottom",marginleftfield:"Margin Left",marginrightfield:"Margin Right",customcssclassfield:"Custom CSS class",stylefield:"Style",hiddenfield:"Hidden",hiddeninprintfield:"Hidden in Print mode",controlhasnoeventsmsg:"This control has no events.",eventsinfomsg:"These flags enable processing from this element.",requiredfield:"Required",defaultvaluefield:"Default value",customvalidationfield:"Custom Validation",visibleconditionfield:"Visible condition",readonlyconditionfield:"ReadOnly condition",savebutton:"Save",cancelbutton:"Cancel",okbutton:"OK",closebutton:"Close",sizedefault:"Default",sizemini:"Mini",sizetiny:"Tiny",sizesmall:"Small",sizemedium:"Medium",sizelarge:"Large",sizebig:"Big",sizehuge:"Huge",sizemassive:"Massive",attachednone:"None",attachedtop:"Top",attachedbottom:"Bottom",attachedtopright:"Top right",attachedtopleft:"Top left",attachedbottomleft:"Bottom left",attachedbottomright:"Bottom right",labeldefault:"Default",labelleft:"Left",labelright:"Right",labelleftcorner:"Left corner",labelrightcorner:"Right corner",closewithoutsavequestion:"Close without save?",questiontitle:"Question",onchangetimeout:"onChange timeout"},headerform:{namefield:"Name",sizefield:"Size",contentfield:"Content",textalignfield:"Text Align",textalignleft:"Left",textaligncenter:"Center",textalignright:"Right",subheaderfield:"Subheader"},buttonform:{namefield:"Name",typefield:"Type",typenonefield:"None",typesubmitfield:"Submit",sizefield:"Size",contentfield:"Content",optionsfield:"Options",basicfield:"Basic",circularfield:"Circular",compactfield:"Compact",disabledfield:"Disabled",fluidfield:"Fluid",linkfield:"Link",invertedfield:"Inverted",loadingfield:"Loading",primaryfield:"Primary",secondaryfield:"Secondary",togglefield:"Toggle",floatedfield:"Floated",floateddefaultfield:"Default",floatedleftfield:"Left",floatedrightfield:"Right"},labelform:{namefield:"Name",attachedfield:"Attached",contentfield:"Content",sizefield:"Size",optionsfield:"Options",basicfield:"Basic",circularfield:"Circular",cornerfield:"Corner",floatingfield:"Floating",horizontalfield:"Horizontal",pointingfield:"Pointing"},staticcontentform:{namefield:"Name",fontsizefield:"Font size",contentfield:"Content",allowhtmlfield:"Allow HTML"},messageform:{namefield:"Name",headerfield:"Header",optionsfield:"Options",compactfield:"Compact",errorfield:"Error",floatingfield:"Floating",infofield:"Info",negativefield:"Negative",positivefield:"Positive",successfield:"Success",warningfield:"Warning",contentfield:"Content",sizefield:"Size"},inputform:{namefield:"Name",labelfield:"Label",typefield:"Type",typetext:"Text",typenumber:"Number",typedate:"Date",typetime:"Time",typedatetime:"Date & Time",typepasswod:"Password",labelpositionfield:"Label position",optionsfield:"Options",loadingfield:"Loading",invertedfield:"Inverted",errorfield:"Error",disabledfield:"Disabled",transparentfield:"Transparent",fluidfield:"Fluid",readonlyfield:"Read only",placeholderfield:"Placeholder",sizefield:"Size",dateformatfield:"Date Format"},textareaform:{namefield:"Name",labelfield:"Label",rowsfield:"Rows",optionsfield:"Options",placeholderfield:"Placeholder",readonlyfield:"Read only"},checkboxform:{namefield:"Name",labelfield:"Label",optionsfield:"Options",fittedfield:"Fitted",indeterminatefield:"Indeterminate",readonlyfield:"ReadOnly",disabledfield:"Disabled",sliderfield:"Slider",togglefield:"Toggle"},dropdownform:{namefield:"Name",labelfield:"Label",datafield:"Data",datakeycolumn:"Key",datavaluecolumn:"Value",datatextcolumn:"Text",optionsfield:"Options",loadingfield:"Loading",errorfield:"Error",disabledfield:"Disabled",fluidfield:"Fluid",multiplefield:"Multiple",searchfield:"Search",selectionfield:"Selection",readonlyfield:"Read only",clearablefield:"Clearable",allowAddItemsfield:"Allow add items"},dictionaryform:{namefield:"Name",labelfield:"Label",datamodelfield:"Data model",placeholderfield:"Placeholder",columnsfield:"Columns (Name ASC, Email)",optionsfield:"Options",loadingfield:"Loading",errorfield:"Error",disabledfield:"Disabled",fluidfield:"Fluid",multiplefield:"Multiple",searchfield:"Search",selectionfield:"Selection",readonlyfield:"Read only",clearablefield:"Clearable",pagingfield:"Server pagination",pagesizefield:"Page Size",parentidfield:"Parent Field",textfield:"Text expression",textasvaluefield:"Text as Value",textasvalueinfofield:"The Text will be binded to a property directly"},radiogroupform:{namefield:"Name",labelfield:"Label",datafield:"Data",datakeycolumn:"Key",datavaluecolumn:"Value",datatextcolumn:"Text",groupdirectfield:"Group direction",directionhorizontalfield:"Horizontal",directionverticalfield:"Vertical",readonlyfield:"Read only"},form:{namefield:"Name",sizefield:"Size",optionsfield:"Options",loadingfield:"Loading",errorfield:"Error",invertedfield:"Inverted",replyfield:"Reply",successfield:"Success",warningfield:"Warning"},formgroupform:{namefield:"Name",widthsfield:"Widths",widthsdefaultfield:"Default",widthsequalfield:"Equal",widthscustomfield:"Custom (1 - 16)",typefield:"Type",orientationcolumnsfield:"Columns",orientationrowsfield:"Rows",orientationfieldfield:"Field"},containerform:{namefield:"Name",floatfield:"Float",floatnonefield:"None",floatleftfield:"Left",floatrightfield:"Right",flexbaselinefield:"Baseline",flexstretchfield:"Stretch",flexcenterfield:"Center",flexstartfield:"Start",flexendfield:"End",flexspacearoundfield:"Space Around",flexspacebetweenfield:"Space Between",displayhorizontalalignfield:"Horizontal Align",displayverticalalignfield:"Vertical Align",childrenviewfield:"Children Container View",childrenviewnonefield:"None",childrenviewrowsfield:"Rows",childrenviewcolumnsfield:"Columns",childrenviewcolumnswrapfield:"Columns Wrap",childrenstylefield:"Children Container Style"},repeaterform:{namefield:"Name",sliderfield:"Slider",itemvisibleconditionfield:"Item Visible Condition",defaultsortfield:"Default sort",pagertypefield:"Pagination type",pagesizefield:"Page size",loadbuttonlabelfield:"Load Button Label",norecordslabelfield:"No Record Button Label",childrenviewfield:"Children Container View",childrenviewnonefield:"None",childrenviewrowsfield:"Rows",childrenviewcolumnsfield:"Columns",childrenviewcolumnswrapfield:"Columns Wrap",childrenstylefield:"Children Container Style"},imageform:{namefield:"Name",srcfield:"Src",hreffield:"Href",optionsfield:"Options",avatarfield:"Avatar",borderedfield:"Bordered",centeredfield:"Centered",disabledfield:"Disabled",inlinefield:"Inline",spacedfield:"Spaced",floatedfield:"Floated",floatedleftfield:"Left",floatedrightfield:"Right",verticalalignfield:"Vertical align",verticalaligntopfield:"Top",verticalalignmiddlefield:"Middle",verticalalignbottomfield:"Bottom"},statisticform:{namefield:"Name",optionsfield:"Options",floatedfield:"Floated",horizontalfield:"Horizontal",datafield:"Data",sizefield:"Size"},gridform:{namefield:"Name",optionsfield:"Options",multiselectfield:"Multiselect",filterrowfield:"Filter row",disablesortfield:"Disable sorting",editformfield:"Edit form",editformshowtypefield:"Edit form show type",editformsidebardirectionfield:"Sidebar comes from",editformtypedefaultfield:"Default",editformtypemodalfield:"Modal",editformtypesidebarfield:"Sidebar",columnsfield:"Columns",keycolumn:"Key",namecolumn:"Name",typecolumn:"Type",widthcolumn:"Width",resizablecolumn:"Resizable",rowkeyfield:"Row key",pagertypefield:"Pagination type",pagertypenonefield:"None",pagertypeserverfield:"Server",pagesizefield:"Page size",defaultsortfield:"Default sort",rowheightfield:"Row height",minheightfield:"Min height",autoheightfield:"Auto Height",offsetfield:"OffSet",editType:"Edit type",editflowfield:"Edit flow",editformsidebarderectionleftfield:"Left",editformsidebarderectionrightfield:"Right",editformsidebarderectionbottomfield:"Bottom"},collectioneditorform:{namefield:"Name",idfield:"Id field",optionsfield:"Options",readonlyfield:"ReadOnly",draggablefield:"Draggable",hierarchicalfield:"Hierarchical",collapseallfield:"Collapse all",parentidfield:"ParentId field",columnsfield:"Columns",keycolumn:"Key",namecolumn:"Name",controlcolumn:"Control",widthcolumn:"Width",disableAdd:"Disable Add",disableDelete:"Disable Delete",childrenField:"Children field"},customform:{namefield:"Name",typefield:"Control type",propsfield:"Props",childrenfield:"Children"},customblockform:{namefield:"Name",sourcetypefield:"Source type",sourcetypeformfield:"Form name",sourcetypejsonfield:"JSON source",formnamefield:"Form name",sourcefield:"JSON source",placeholderfield:"Placeholder"},menuform:{namefield:"Name",activeitemfield:"Active Item",itemsfield:"Items",itemstargetcolumn:"Target",itemstitlecolumn:"Title",optionsfield:"Options",pointingfield:"Pointing",secondaryfield:"Secondary",tabularfield:"Tabular",fluidfield:"Fluid",verticalfield:"Vertical",linkfield:"Link",visibleConditioncolumn:"Visible Condition"},dropdowntriggerform:{namefield:"Name",defaultvaluefield:"Default Value",itemsfield:"Items",itemstargetcolumn:"Target",itemstitlecolumn:"Title",itemsvisibleconditioncolumn:"Visible Condition",imageurlfield:"ImageUrl"},chartform:{namefield:"Name",titlefield:"Title",titlesizefield:"Title size",legendpositionfield:"Legend position",responsivefield:"Responsive",datasetcustomfield:"Dataset custom",datalabelsplaceholder:"Q1, Q2, Q3, Q4",datalabelsfield:"Data labels",datasetlabelfield:"Dataset Label",datasetbackgroundcolorfield:"Dataset BackgroundColor"},workflowform:{namefield:"Name",setstatebuttonfield:"Set state button",blocksetstatefield:"Block SetState",blockloadparametersfield:"Block load parameters",blockselectschemefield:"Block select scheme",selectschemedropdownfield:"Select scheme dropdown"},uploadform:{namefield:"Name",iconFiletypes:"Icon file types",customPostUrl:"Custom post url",showFiletypeIcon:"Show file type icon",autoProcessQueue:"Auto process queue",addRemoveLinks:"Add remove links",multile:"Multiple file upload"},breadcrumbform:{namefield:"Name",itemsfield:"Items",itemstextcolumn:"Text",itemsurlcolumn:"Url",itemsactivecolumn:"Active",itemsiconcolumn:"Divider Icon"},searchform:{namefield:"Name",urlfield:"Url",categoryfield:"Enable Categories"},treepickerform:{namefield:"Name",labelfield:"Label",datamodelfield:"Data model",columnsfield:"Columns (Name ASC, Email)",optionsfield:"Options",errorfield:"Error",disabledfield:"Disabled",fluidfield:"Fluid",multiplefield:"Multiple",selectionfield:"Selection",readonlyfield:"Read only",clearablefield:"Clearable",pagingfield:"Server pagination",pagesizefield:"Page Size",parentidfield:"Parent Field",buttoncssclass:"Custom CSS class for Button",buttonstyle:"Button style",modalcssclass:"Custom CSS class for modal",modalstyle:"Modal style",textfield:"Text expression"},filecontrolform:{namefield:"Name",iconFiletypes:"Icon file types",customPostUrl:"Custom post url",showFiletypeIcon:"Show file type icon",autoProcessQueue:"Auto process queue",readonlyfield:"Read only",usedropzonefield:"Use dropzone",propertiesfield:"File properties",titlecolumn:"Column title",showpropertycolumn:"Show property",idfield:"Id field",fieldcolumn:"Table field",propertycolumn:"File property"},cardform:{namefield:"Name",headerfield:"Header",subheaderfield:"Subheader",imgurl:"Image URL"}}};function Xr(e){return(Xr="function"==typeof Symbol&&"symbol"==Du(Symbol.iterator)?function(e){return Du(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Du(e)})(e)}function Zr(e,t){return(Zr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function eo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function to(e){return(to=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var no=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Zr(e,t)}(i,c.Component);var n,r,a=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=to(n),t=r?(t=to(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Xr(t)&&"function"!=typeof t?eo(e):t});function i(e){var t,n,r,o;return function(e){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this),o=function(e){e.clientY<150&&t.scroll(-10),e.clientY>window.innerHeight-150&&t.scroll(10)},(r="onDragOver")in(n=eo(t=a.call(this,e)))?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,t.state={apiurl:e.apiurl,imagefolder:e.imagefolder,dropzoneContext:{visible:!0}},t}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(i.prototype,[{key:"exists",value:function(e){return Qr.exists(e)}},{key:"setBuilderMode",value:function(e){this.setState({dropzoneContext:{visible:e}})}},{key:"create",value:function(){Qr.setData([]),this.setBuilderMode(!0)}},{key:"loadData",value:function(e){Qr.setData(e),this.setBuilderMode(!0)}},{key:"getData",value:function(){return Qr.getData()}},{key:"load",value:function(e){var t=this.props.getFormFunc(e);Qr.setData(t),this.setState({code:e}),this.setBuilderMode(!0)}},{key:"download",value:function(){var e=(this.props.formName||"form")+".json",t=Qr.getData(),n=JSON.stringify(t,null,2),t=new Blob([n],{type:"octet/stream"}),n=window.URL.createObjectURL(t);void 0!==window.navigator.msSaveBlob?window.navigator.msSaveBlob(t,e):((t=document.createElement("a")).setAttribute("href",n),t.setAttribute("download",e),document.body.appendChild(t),t.click())}},{key:"upload",value:function(e,t){var n=e.files[0];(e=new FileReader).onload=function(e){e=JSON.parse(e.target.result),Qr.setData(e),t&&t(e)},e.readAsText(n)}},{key:"onChooseFileUpload",value:function(){document.getElementById("builderUploadFile").click()}},{key:"onChangeFileUpload",value:function(){document.getElementById("builderUploadSubmit").click()}},{key:"onUpload",value:function(e){e.preventDefault(),this.upload(document.getElementById("builderUploadFile"))}},{key:"onDownload",value:function(e){this.download()}},{key:"scroll",value:function(e){window.scrollTo(null,window.scrollY+e),window.stop||setTimeout(function(){window.scroll(e)},20)}},{key:"render",value:function(){return null}},{key:"getCurrentLocalization",value:function(){return re(this.props.localization)?this.props.localization:$r}}]),i}();function ro(n,r,e,t,o){var a=2<arguments.length&&void 0!==e?e:null;return((3<arguments.length&&void 0!==t?t:null)||Dn.a)(n,4<arguments.length&&void 0!==o?o:null).then(function(e){var t=e.json();return e.ok?t.then(r):a?t.then(a):void console.log(error+" url: "+n)}).catch(function(e){return a?a(e):void console.log(e+" url: "+n)})}function oo(e){return(oo="function"==typeof Symbol&&"symbol"==Du(Symbol.iterator)?function(e){return Du(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Du(e)})(e)}function ao(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function io(r){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?ao(Object(o),!0).forEach(function(e){var t,n=r;e=o[t=e],t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):ao(Object(o)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))})}return r}function lo(e,t){return(lo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function so(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function co(e){return(co=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var uo=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&lo(e,t)}(i,c.Component);var n,r,a=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=co(n),t=r?(t=co(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==oo(t)&&"function"!=typeof t?so(e):t});function i(e){var t;!function(e){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this),(t=a.call(this,e)).state={adaptiveViewType:"desktop",model:re(e.model)?e.model:[],data:re(e.data)?e.data:"{}",errors:re(e.errors)?e.errors:"{}",eventslog:""};var o=so(t);return re(e.modelurl)&&ro(e.modelurl,function(e){o.setState({model:e})},null,t.props.fetchFunc),re(e.dataurl)&&ro(e.dataurl,function(e){var t=e;try{var n,r=pe.a.parse(o.state.data);for(n in r)null==t[n]&&(t[n]=r[n])}catch(e){}o.setState({data:pe.a.stringify(t,null,4)})},null,t.props.fetchFunc),t}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(i.prototype,[{key:"setData",value:function(e){this.setState({data:pe.a.stringify(e,null,4)})}},{key:"getAdditionalDataForControl",value:function(r,e,f){var d=e.startIndex,h=e.pageSize,m=e.filters;e.sort,e.model,"dictionary"===r.props["data-buildertype"]?setTimeout(function(){for(var e=[],t=0;t<500;t++){var n={};n.key="Test_"+t,n.text="Test_"+t,n.value=t,e.push(n)}var r=[],o=e.length;if(Array.isArray(m)&&0<m.length){var a=m[0];if("="===a.term)for(var i=0;i<e.length;i++)e[i].value==a.value&&r.push(e[i]);else if("in"===a.term){for(var l=0;l<e.length;l++)for(var s=0;s<a.value.length;s++)if(e[l].value==a.value[s]){r.push(e[l]);break}}else if("like"===a.term){for(var c=0,u=0;u<e.length;u++)e[u].text.includes(a.value)&&(++c<d||r.length<=h&&r.push(e[u]));return void f({items:r,rowsCount:c})}f({items:r,rowsCount:r.length})}else if(ne(d)||ne(h))f({items:e,rowsCount:o});else{for(var p=0;p<h;p++)r.push(e[d+p]);f({items:r,rowsCount:o})}},100):"dictionarytree"===r.props["data-buildertype"]?setTimeout(function(){for(var e=[],t=0;t<10;t++){var n={};n.key="Test_"+t,n.text="Test_"+t,n.value=t,n.children=[];for(var r=0;r<10;r++){var o={};o.key=n.key+"_"+r,o.text=n.key+"_"+r,o.value=r,n.children.push(o)}e.push(n)}f({items:e,rowsCount:e.length})}):"workflowbar"===r.props["data-buildertype"]?f({commands:[{value:"approve",type:"1",text:"Approve"},{value:"back",type:"2",text:"Back"}],states:[{value:"draft",text:"Draft"},{value:"state1",text:"State 1"},{value:"state2",text:"State 2"},{value:"final",text:"Final"}]}):setTimeout(function(){for(var e=[],t=0;t<h;t++)!function(t){var n={};ne(r.props.columns)?(n.col1="col1_"+(Number(d)+Number(t)),n.col2="col2_"+(Number(d)+Number(t)),n.col3="col3_"+(Number(d)+Number(t))):r.props.columns.forEach(function(e){n[e.key]=e.key+"_"+(Number(d)+Number(t))}),e.push(n)}(t);f({startIndex:d,pageSize:h,rowsCount:100,items:e})},100)}},{key:"eventFunc",value:function(e){e.syntheticEvent=void 0,e.component=void 0,e.controlRef=void 0,e.sourceEvent=void 0;var t=this.state.eventslog,n="";0<t.length&&(n="\n"),t=(new Date).toLocaleTimeString()+": "+pe.a.stringify(io(io({},e),{},{e:void 0,sourceControlRef:void 0}))+n+t,this.setState({eventslog:t}),e.actions.includes("initSystem")&&e.parameters&&e.parameters.initialData&&this.setState({data:pe.a.stringify(e.parameters.initialData,null,4)})}},{key:"getModel",value:function(){return this.state.model}},{key:"setModel",value:function(e){this.setState({model:e})}},{key:"formDataChaged",value:function(e,t){t.key,t.value,this.setState({data:pe.a.stringify(e.state.data,null,4)})}},{key:"handleChange",value:function(e,t){t=t.value,this.setState({data:t})}},{key:"handleChangeErrors",value:function(e,t){t=t.value,this.setState({errors:t})}},{key:"handleChangeModel",value:function(e,t){t=t.value,this.setState({model:t})}}]),i}();function po(e){return(po="function"==typeof Symbol&&"symbol"==Du(Symbol.iterator)?function(e){return Du(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Du(e)})(e)}function fo(e,t){return(fo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ho(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mo(e){return(mo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var yo=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fo(e,t)}(o,c.Component);var n,r,t=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=mo(n),t=r?(t=mo(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==po(t)&&"function"!=typeof t?ho(e):t});function o(e){return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),(e=t.call(this,e)).state={data:[],editElement:null},Qr.listen(e.dataChanged.bind(ho(e))),e}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(o.prototype,[{key:"dataChanged",value:function(e){this.setState({data:e,editElement:null})}},{key:"_onEdit",value:function(e){jr.showEditForm(e.key)}},{key:"_onCopy",value:function(e){Qr.copy(e)}},{key:"_onDestroy",value:function(e){Qr.remove(e)}},{key:"_handleEvent",value:function(e){}},{key:"getPreview",value:function(){function e(e,t){return qr.createBuilderDropzone(e,void 0,void 0,t)}var t=this.props.dwKitControls.createControls(this,{model:this.state.data,data:void 0,buildermode:this.props.buildermode,eventOnEdit:this._onEdit,eventOnDelete:this._onDestroy,eventOnCopy:this._onCopy,parentItem:void 0,handleEvent:this._handleEvent,getFormFunc:this.props.getFormFunc,getFormFist:this.props.getFormFist,getAdditionalDataForControl:this.props.getAdditionalDataForControl,disableRefs:!0,downloadUrl:this.props.downloadUrl,uploadUrl:this.props.uploadUrl,controlsToReplace:[],needCheckReplace:!1,externalControlRender:this.props.externalControlRender,externalControlList:this.props.externalControlList}),n=void 0;return{dropzoneHeader:e("dropzone_header",n=re(this.props.localization)&&re(this.props.localization.preview)?this.props.localization.preview.dropzonetext:n),dropzoneFooter:0<t.length?e("dropzone_footer",n):null,items:t}}}]),o}();function go(e){return(go="function"==typeof Symbol&&"symbol"==Du(Symbol.iterator)?function(e){return Du(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Du(e)})(e)}function bo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function vo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vo(e,t){return(Vo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function wo(e){return(wo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Eo=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Vo(e,t)}(a,c.Component);var e,t,n,r,o=(n=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=wo(n),t=r?(t=wo(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==go(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function a(e){return function(e){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this),(e=o.call(this,e)).state={},e}return t=[{key:"getDerivedStateFromProps",value:function(r,e){var t=r.externalControlsOnly;!0!==t&&!1!==t&&(t=function(){if(window.DWKitFormSettings)return window.DWKitFormSettings.externalControlsOnly}());var n,o=[];return t||(n=r.dwKitControls.getItems(),o=function(e){if(Array.isArray(e))return bo(e)}(n)||function(){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}()||function(e){if(e){if("string"==typeof e)return bo(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?bo(e,void 0):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),Array.isArray(r.templates)&&0<r.templates.length&&(o.push({key:"sepTemplates",title:"Templates",isseparate:!0,defaultopen:!1}),r.templates.forEach(function(e){o.push({key:e,builderType:"customblock",title:e,control:void 0,editControl:r.editControl,defaultValues:{formname:e,sourceType:"form"}})})),t=r.externalControlList||Le(),function(e){if(r.localization)for(var t=r.localization,n=0;n<e.length;n++)re(t[e[n].key])&&(e[n].title=t[e[n].key])}(o=t?o.concat(t):o),{items:o}}}],vo((e=a).prototype,[{key:"onDoubleClick",value:function(e){jr.add(e)}},{key:"onExpand",value:function(e,t){e.isexpanded=t,this.setCookie("toolbar_"+e.key,t),this.forceUpdate()}},{key:"getCookie",value:function(e){return(e=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)")))?decodeURIComponent(e[1]):void 0}},{key:"setCookie",value:function(e,t,n){var r,o=(n=n||{}).expires;"number"==typeof o&&o&&((r=new Date).setTime(r.getTime()+1e3*o),o=n.expires=r),o&&o.toUTCString&&(n.expires=o.toUTCString());var a,i=e+"="+(t=encodeURIComponent(t));for(a in n){i+="; "+a;var l=n[a];!0!==l&&(i+="="+l)}document.cookie=i}}]),vo(e,t),a}();var _o=(function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(So.prototype,[{key:"registerItems",value:function(e){_o.items=e}},{key:"getItems",value:function(){return _o.items}}]),new So),ko=_o.registerItems,Co=_o.getItems,Oo=U.a.createContext({visible:!1});function So(){var e;!function(e){if(!(e instanceof So))throw new TypeError("Cannot call a class as a function")}(this),e=[],"items"in this?Object.defineProperty(this,"items",{value:e,enumerable:!0,configurable:!0,writable:!0}):this.items=e}var Ao=function t(){!function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this)};function xo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Ls=/{\S[A-z,0-9,_,-,.,:, ,/]+?}/gm,(As="regexForReplace")in(ks=Ao)?Object.defineProperty(ks,As,{value:Ls,enumerable:!0,configurable:!0,writable:!0}):ks[As]=Ls;var Po={},Do=(Bs=jo,zs=[{key:"Set",value:function(e,t,n){Po.hasOwnProperty(e)&&clearTimeout(Po[e]),Po[e]=setTimeout(t,n)}},{key:"Clear",value:function(e){Po.hasOwnProperty(e)&&(clearTimeout(Po[e]),delete Po[e])}}],(Ts=null)&&xo(Bs.prototype,Ts),xo(Bs,zs),jo),Lo=n(4);function jo(){!function(e){if(!(e instanceof jo))throw new TypeError("Cannot call a class as a function")}(this)}function Ro(e){return(Ro="function"==typeof Symbol&&"symbol"==Du(Symbol.iterator)?function(e){return Du(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Du(e)})(e)}function Fo(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function To(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Fo(Object(n),!0).forEach(function(e){Wo(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Fo(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function No(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Mo(e,t){return(Mo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Io(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Bo(e){return(Bo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Wo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(25);var Uo=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Mo(e,t)}(a,c.Component);var e,t,n,r,o=(n=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Bo(n),t=r?(t=Bo(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Ro(t)&&"function"!=typeof t?Io(e):t});function a(e){var f;return function(e){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this),Wo(Io(f=o.call(this,e)),"_asyncGetData",null),Wo(Io(f),"_asyncGetModel",null),Wo(Io(f),"handleEvent",function(e){e.e;var o,a,i=e.key,t=e.propertyName,l=e.eventName,s=e.parameters,n=e.name,c=e.value,r=e.additionalValues,u=Io(f),p="onChange"===l;p&&(f.props.onlyExternalDataChanged||(void 0===f.state.data&&(f.state.data={}),(e=f.state.data)[t||i]=c,f.setState({data:e})),void 0!==f.props.dataChanged&&f.props.dataChanged(Io(f),{key:i,propertyName:t,value:c,additionalValues:r}),f.onConditions(i,l,s,n,c)),void 0===f.props.eventFunc||void 0!==(o=f.findModelItembyKey(i))&&void 0!==o.events&&void 0!==o.events[l]&&o.events[l].active&&(o.events=Object(Lo.updateEventsFormat)(o.events),n=o.events[l],a=To({},s),Array.isArray(n.triggers)&&0<n.triggers.length&&n.triggers.forEach(function(t){Array.isArray(t.parameters)&&0<t.parameters.length&&t.parameters.forEach(function(e){"string"==typeof e.value?a[e.name]=e.value.replace(Ao.regexForReplace,function(e){return u.applySubstitution(e,s?s.row:void 0,u.state.data)}):a[e.name]=e.value});var n=u.findRefs(i),r=c,e=Array.isArray(t.targets)&&0<t.targets.length?function(){return t.targets.forEach(function(e){u.props.eventFunc({key:e,sourceControlRef:n,sourceControlValue:r,controlRef:u.findRefs(e),formName:u.props.formName,component:u,eventName:l,actions:t.actions,parameters:a})})}:function(){return u.props.eventFunc({key:i,sourceControlRef:n,sourceControlValue:r,controlRef:n,formName:u.props.formName,component:u,eventName:l,actions:t.actions,parameters:a})};!p||void 0===o.onChangeTimeout||""===o.onChangeTimeout||Number(o.onChangeTimeout)<1?e():Do.Set(i,e,Number(o.onChangeTimeout))}))}),f.state={data:e.data,model:e.model,extendedData:e.extendedData,controlsToReplace:null,adaptiveViewType:f.getAdaptiveViewType()},f.checkLoadedState(f.state.data,f.state.model,!0),f.abortController=new AbortController,f.abortSignal=f.abortController.signal,f}return t=[{key:"getDerivedStateFromProps",value:function(e,t){var n,r={};if(e.adaptiveViewType&&t.adaptiveViewType!==e.adaptiveViewType&&(r.adaptiveViewType=e.adaptiveViewType),void 0!==e.modelurl&&""!==e.modelurl&&e.modelurl!==t.modelurl&&(r.modelurl=e.modelurl,r.needFetchModel=!0),void 0!==e.model&&e.model!==t.model&&(r.controlsToReplace=null,r.model=e.model),void 0!==e.dataurl&&""!==e.dataurl&&e.dataurl!==t.dataurl&&(r.dataurl=e.dataurl,r.needFetchData=!0),void 0!==e.data&&(r.data=e.data,e.autoCheckConditions&&t.enableCheckConditions&&(n=Object(Lo.checkConditions)({data:r.data,model:r.model||t.model}),r.hideControls=n.hideControls,r.readOnlyControls=n.readOnlyControls),e.autoValidate))if((n=Object(Lo.validate)({data:r.data,model:r.model||t.model})).valid)r.errors=void 0;else if(r.errors=n.errors,e.errors)for(var o in e.errors)r.errors[o]=e.errors[o];return e.objectId!==t.objectId&&(r.objectId=e.objectId,r.isLoaded=!1),r}}],No((e=a).prototype,[{key:"createControls",value:function(){throw new Error("Function createControls must be implemented in ancestor!")}},{key:"componentDidMount",value:function(){this.PrepareState()}},{key:"componentDidUpdate",value:function(e,t){this.PrepareState()}},{key:"componentWillUnmount",value:function(){(this._asyncGetData||this._asyncGetModel)&&this.abortController.abort()}},{key:"PrepareState",value:function(){var t=this;this.state.needFetchModel&&(t.setState({needFetchModel:!1}),this._asyncGetModel=ro(this.state.modelurl,function(e){t._asyncGetModel=null,t.modelChanged(e)},function(e){t._asyncGetModel=null,t.handleErrEvent(e)},this.props.fetchFunc,{signal:this.abortSignal})),this.state.needFetchData&&(t.setState({needFetchData:!1}),this._asyncGetData=ro(this.state.modelurl,function(e){t._asyncGetData=null,t.dataChanged(e)},function(e){t._asyncGetData=null,t.handleErrEvent(e)},this.props.fetchFunc,{signal:this.abortSignal})),this.checkConditions(this.state.model),this.checkLoadedState(this.state.data,this.state.model)}},{key:"modelChanged",value:function(e){this.setState({model:e,controlsToReplace:null}),this.checkConditions(e)}},{key:"dataChanged",value:function(e){this.setState({data:e}),this.checkLoadedState(e,this.state.model)}},{key:"checkLoadedState",value:function(e,t,n){this.state.isLoaded||null==e||null==t||(n?this.state.isLoaded=!0:this.setState({isLoaded:!0}),e=To({},e),Object(Lo.initDefaultState)({model:t,data:e}),this.props.eventFunc({key:void 0,controlRef:this,formName:this.props.formName,component:this,eventName:"init",actions:["initSystem","init"],parameters:{initialData:e}}))}},{key:"findRefs",value:function(e,t){if(t=t||this.refs){var n=t[e];if(!n)for(var r in t)if(n=t[r].refs?this.findRefs(e,t[r].refs):n)break;return n}}},{key:"checkConditions",value:function(e,t){var n=!1;if(Array.isArray(e))for(var r=0;r<e.length;r++){if(void 0!==e[r]["other-visibleConition"]&&""!==e[r]["other-visibleConition"]||void 0!==e[r]["other-readOnlyConition"]&&""!==e[r]["other-readOnlyConition"])n=!0;else if(Array.isArray(e[r].children))n=this.checkConditions(e[r].children,!0);else if("object"==Ro(e[r].placeholders))for(var o in e[r].placeholders)n=this.checkConditions(e[r].placeholders[o],!0);if(n)break}if(t)return n;this.state.enableCheckConditions=n}},{key:"onConditions",value:function(e,t,n,r,o){var a;this.state.enableCheckConditions&&(this.props.autoCheckConditions&&this.state.enableCheckConditions?(a=Object(Lo.checkConditions)({data:this.state.data,model:this.state.model}),this.setState({hideControls:a.hideControls,readOnlyControls:a.readOnlyControls})):this.props.eventFunc({key:e,controlRef:this.findRefs(e),formName:this.props.formName,component:this,eventName:t,actions:["checkConditions"],parameters:n}))}},{key:"handleErrEvent",value:function(e){this.props.eventErrFunc&&this.props.eventErrFunc(this,e)}},{key:"findModelItembyKey",value:function(e,t){void 0===t&&(t=this.state.model);for(var n=0;n<t.length;n++){if(t[n].key===e)return t[n];if(void 0!==t[n].children){var r=this.findModelItembyKey(e,t[n].children);if(void 0!==r)return r}if(void 0!==t[n].placeholders)for(var o in t[n].placeholders)if(void 0!==(o=this.findModelItembyKey(e,t[n].placeholders[o])))return o;if("customblock"===t[n]["data-buildertype"]&&"source"===t[n].sourceType&&null!=t[n].source){var a=pe.a.parse(t[n].source);if(void 0!==(a=this.findModelItembyKey(e,a)))return a}if("customblock"===t[n]["data-buildertype"]&&"form"===t[n].sourceType&&void 0!==t[n].formname&&""!==t[n].formname&&(a=t[n].children||this.props.getFormFunc(t[n].formname),void 0!==(a=this.findModelItembyKey(e,a))))return a}}},{key:"getAdaptiveViewType",value:function(){return"mobile"}},{key:"handleResize",value:function(){var e=this.getAdaptiveViewType();this.state.adaptiveViewType!==e&&this.setState({adaptiveViewType:e})}},{key:"applySubstitution",value:function(e,t,n){var r=e;return null!=t&&"row."==e.slice(1,5)?null==(r=t[e.slice(5,e.length-1)])?"":r:null!=n&&null==(r=n[e.slice(1,e.length-1)])?"":r}}]),No(e,t),a}();function Ko(e){return(Ko="function"==typeof Symbol&&"symbol"==Du(Symbol.iterator)?function(e){return Du(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Du(e)})(e)}function zo(e,t){return(zo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Go(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qo(e){return(qo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ho=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zo(e,t)}(o,c.Component);var n,r,t=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=qo(n),t=r?(t=qo(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Ko(t)&&"function"!=typeof t?Go(e):t});function o(e){return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),(e=t.call(this,e)).state={key:void 0,item:void 0,open:!1},Qr.listenTo(jr.showEditForm,e.onShow.bind(Go(e))),e}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(o.prototype,[{key:"handleChange",value:function(e,t){var n=t.name,r=t.value,t=t.checked,o=this.state.item;if(Object.assign({},o),ne(r)?o[n]=t:o[n]=r,"tab"===o["data-buildertype"]&&null!=o.placeholders||"collectioneditor"===o["data-buildertype"]&&null!=o.placeholders)for(var a in o.placeholders)!function(t){var n;Object.prototype.hasOwnProperty.call(o.placeholders,t)&&(n=!0,null!=o.panes&&o.panes.forEach(function(e){t===e.psid&&(n=!1)}),null!=o.columns&&o.columns.forEach(function(e){t===e.key&&"custom"===e.control&&(n=!1)}),n&&delete o.placeholders[t])}(a);this.setState({item:o})}},{key:"onShow",value:function(e){var t,n=Qr.getByKey(e),r={};for(t in n)"object"===Ko(n[t])?r[t]=JSON.parse(JSON.stringify(n[t])):r[t]=n[t];this.setState({key:e,item:r,open:!0})}},{key:"isChangedItem",value:function(){var e,t=Qr.getByKey(this.state.key),n=this.state.item;for(e in n)if(JSON.stringify(n[e])!==JSON.stringify(t[e])&&("events"!==e||!ne(n[e])&&"{}"!==JSON.stringify(n[e])||!ne(t[e])&&"{}"!==JSON.stringify(t[e])))return!0;return!1}},{key:"getControlsList",value:function(){return Qr.getAllKeys(Qr.getData())}},{key:"showConfirm",value:function(e,t){this.setState({confirm:!0,confirmtext:e,confirmHandle:t})}},{key:"onClose",value:function(){var e;this.isChangedItem()?(e="Close without save?",re(this.props.localization)&&(e=this.props.localization.base.closewithoutsavequestion),this.showConfirm(e,this.onCloseConfirmed.bind(this))):this.onCloseConfirmed()}},{key:"onSave",value:function(){Qr.updateItemByKey(this.state.key,this.state.item),this.onCloseConfirmed(),"gridlayout"===this.state.item["data-buildertype"]&&setTimeout(function(){var e;"function"==typeof Event?window.dispatchEvent(new Event("resize")):((e=window.document.createEvent("UIEvents")).initUIEvent("resize",!0,!1,window,0),window.dispatchEvent(e))},100)}},{key:"onCloseConfirmed",value:function(){this.setState({open:!1,confirm:!1})}},{key:"render",value:function(){var e=this;return K("edit-form",{confirmHandleCancel:function(){return e.setState({confirm:!1})},dwKitControls:this.props.dwKitControls,parent:this,props:this.props,onClose:this.onClose.bind(this),onSave:this.onSave.bind(this),state:this.state})}}]),o}();function Yo(e,t,n){void 0===t[e]&&(t[e]=[]),t[e].push(n)}var Jo=(function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(Qo.prototype,[{key:"toNested",value:function(e,t){for(var n,r,o,a=0,i=[],l={},s={},c=e.length;a<c;a++)n=(o=e[a])[this.config.id],r=o[this.config.parent],l[n]=o,r===t?i.push(o):void 0!==l[r]?Yo(this.config.children,l[r],o):Yo(r,s,o),this.config.options.deleteParent&&delete o[this.config.parent],void 0!==s[n]&&function(e,t,n){var r=n.length;for(void 0===t[e]&&(t[e]=[]);0<r--;)t[e].push(n.shift())}(this.config.children,o,s[n]);return i}}]),Qo);function Qo(e){!function(e){if(!(e instanceof Qo))throw new TypeError("Cannot call a class as a function")}(this),this.config=e=e||{},this.config.id=e.id||"id",this.config.parent=e.parent||"parent",this.config.children=e.children||"nodes",this.config.options=e.options||{deleteParent:!1}}function $o(e){return($o="function"==typeof Symbol&&"symbol"==Du(Symbol.iterator)?function(e){return Du(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Du(e)})(e)}function Xo(e,t,n){return(Xo="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){if(e=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ea(e)););return e}(e,t))return(t=Object.getOwnPropertyDescriptor(e,t)).get?t.get.call(n):t.value})(e,t,n||e)}function Zo(e,t){return(Zo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ea(e){return(ea=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ta=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Zo(e,t)}(t,Uo);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=ea(n),t=r?(t=ea(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==$o(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,[{key:"componentDidMount",value:function(){Xo(ea(t.prototype),"componentDidMount",this).call(this),window.addEventListener&&window.addEventListener("resize",this.handleResize.bind(this))}},{key:"componentWillUnmount",value:function(){Xo(ea(t.prototype),"componentWillUnmount",this).call(this),window.removeEventListener&&window.removeEventListener("resize",this.handleResize.bind(this))}},{key:"getItemsForRender",value:function(){var e=[],t=!1;null!==this.state.model&&void 0!==this.state.model&&(e=null===this.state.controlsToReplace?[]:this.state.controlsToReplace,t=null===this.state.controlsToReplace);var n=this.createControls(this,{model:this.state.model,data:this.state.data,errors:this.state.errors||this.props.errors,handleEvent:this.handleEvent,getFormFunc:this.props.getFormFunc,getAdditionalDataForControl:this.props.getAdditionalDataForControl,hideControls:(this.props.autoCheckConditions?this.state:this.props).hideControls,readOnlyControls:(this.props.autoCheckConditions?this.state:this.props).readOnlyControls,readOnly:this.props.readOnly,uploadUrl:this.props.uploadUrl,downloadUrl:this.props.downloadUrl,extendedData:this.props.extendedData,controlsToReplace:e,needCheckReplace:t,externalControlRender:this.props.externalControlRender,externalControlList:this.props.externalControlList,adaptiveViewType:this.props.adaptiveViewType||this.state.adaptiveViewType});return t&&(this.state.controlsToReplace=e),n}},{key:"getAdaptiveViewType",value:function(){return window.matchMedia&&window.matchMedia("(max-width: 997px)").matches?"mobile":"desktop"}}]),t}(),na=n(1);function ra(e){return(ra="function"==typeof Symbol&&"symbol"==Du(Symbol.iterator)?function(e){return Du(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Du(e)})(e)}function oa(e,t){return(oa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function aa(e){return(aa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ia=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oa(e,t)}(t,yo);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=aa(n),t=r?(t=aa(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==ra(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,[{key:"render",value:function(){var e=this.getPreview();return U.a.createElement("div",{className:"dwkit-formbuilder-preview"},e.dropzoneHeader,e.items,e.dropzoneFooter)}}]),t}(),la=n(3),sa=n.n(la);function ca(e){return(ca="function"==typeof Symbol&&"symbol"==Du(Symbol.iterator)?function(e){return Du(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Du(e)})(e)}function ua(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function pa(r){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?ua(Object(o),!0).forEach(function(e){var t,n=r;e=o[t=e],t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):ua(Object(o)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))})}return r}function fa(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function da(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ha(e,t,n){return t&&da(e.prototype,t),n&&da(e,n),e}function ma(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ya(e,t)}function ya(e,t){return(ya=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ga(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e=ba(n),t=r?(t=ba(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==ca(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t}}function ba(e){return(ba=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var va=function(){ma(n,U.a.Component);var t=ga(n);function n(e){return fa(this,n),(e=t.call(this,e)).state={value:""},e}return ha(n,[{key:"handleChange",value:function(e){e=e.toLowerCase(),this.setState({value:e}),this.props.handleChange&&this.props.handleChange(e)}},{key:"reset",value:function(){this.handleChange("")}},{key:"render",value:function(){var t=this;return U.a.createElement(na.Input,{onChange:function(e){return t.handleChange(e.target.value)},placeholder:"Search...",value:this.state.value,inverted:!0,transparent:!0,icon:this.state.value.length?U.a.createElement(na.Icon,{link:!0,name:"cancel",onClick:this.handleChange.bind(this,"")}):U.a.createElement(na.Icon,{name:"search"})})}}]),n}(),Va=function(){ma(n,Eo);var t=ga(n);function n(e){return fa(this,n),(e=t.call(this,e)).state=pa(pa({},e.state),{},{filtered:void 0}),e.searchForm=U.a.createRef(),e}return ha(n,[{key:"onDragStart",value:function(e,t){var n,r=".dwkit-formbuilder-zone";t.dataTransfer.setData("text",""),re(e.forContainerType)&&(t=e.forContainerType.split(","),n="",t.forEach(function(e){0<n.length&&(n+=","),n+="[data-buildertype='"+e+"'] > "+r}),r=n),sa()(r).addClass("dwkit-formbuilder-zone-active").on("dragenter",this.onTargetDragEnter.bind(this,e,"dwkit-formbuilder-zone-select")).on("dragleave",this.onTargetDragLeave.bind(this,e,"dwkit-formbuilder-zone-select")).on("dragover",function(e){e.preventDefault()}).on("drop",this.onDrop.bind(this,e))}},{key:"onTargetDragEnter",value:function(e,t,n){sa()(n.target).addClass(t)}},{key:"onTargetDragLeave",value:function(e,t,n){sa()(n.target).removeClass(t)}},{key:"onDragEnd",value:function(e){this.stop=!1;var t=sa()(".dwkit-formbuilder-zone");t.removeClass("dwkit-formbuilder-zone-active"),t.removeClass("dwkit-formbuilder-zone-select"),t.off()}},{key:"onDrop",value:function(e,t){return 0<(t=sa()(t.target)).length&&jr.add(e,t[0]),this.onDragEnd(e),!1}},{key:"handleSearchChange",value:function(t){this.setState({filtered:t?this.state.items.filter(function(e){return!e.isseparate&&e.title.toLowerCase().includes(t)}):void 0})}},{key:"render",value:function(){var o=this,a=this,i=!1,e=this.state.filtered||this.state.items;return U.a.createElement("div",{className:"dwkit-formbuilder-toolbox"},U.a.createElement(va,{ref:this.searchForm,items:this.state.items,handleChange:this.handleSearchChange.bind(this)}),U.a.createElement("ul",null,this.state.filtered&&U.a.createElement("li",{className:"dwkit-formbuilder-toolbox-subheader"},"Search results:",!this.state.filtered.length&&U.a.createElement("div",{className:"dwkit-formbuilder-toolbox-search-nothing"},"Not found",U.a.createElement("br",null),U.a.createElement(na.Button,{basic:!0,fluid:!0,inverted:!0,onClick:function(){return o.searchForm.current.reset()}},"Reset"))),e.map(function(e){var t,n,r=e.title;return re(a.props.localization)&&re(a.props.localization[e.key])&&(r=a.props.localization[e.key]),e.isseparate?(ne(e.isexpanded)&&(n=a.getCookie("toolbar_"+e.key),e.isexpanded=re(n)?"true"===n:e.defaultopen),n=e.isexpanded?(i=!0,t=a.onExpand.bind(a,e,!1),"angle down"):(i=!1,t=a.onExpand.bind(a,e,!0),"angle right"),U.a.createElement("li",{draggable:"false",onClick:t,className:"dwkit-formbuilder-toolbox-subheader",key:e.key},r,U.a.createElement(na.Icon,{name:n}))):i||o.state.filtered?U.a.createElement("li",{draggable:"true",className:"dwkit-formbuilder-toolbox-control",key:e.key,onDragStart:o.onDragStart.bind(o,e),onDragEnd:o.onDragEnd.bind(o,e),onDoubleClick:o.onDoubleClick.bind(o,e)},U.a.createElement("div",{className:"dwkit-formbuilder-toolbox-control-text"},r)):void 0})))}}]),n}();function wa(e){return(wa="function"==typeof Symbol&&"symbol"==Du(Symbol.iterator)?function(e){return Du(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Du(e)})(e)}function Ea(e,t){return(Ea=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ka(e){return(ka=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ca=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ea(e,t)}(o,c.Component);var n,r,t=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=ka(n),t=r?(t=ka(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==wa(t)&&"function"!=typeof t?_a(e):t});function o(e){return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),(e=t.call(this,e)).state={activeItem:"general",defaultValuePreferInt:!1},e.menuItems=[{key:"general",name:"general",content:e.getLocalValue("generaltab","General"),active:!0,onClick:e.handleItemClick.bind(_a(e))},{key:"style",name:"style",content:e.getLocalValue("styletab","Style"),active:!1,onClick:e.handleItemClick.bind(_a(e))},{key:"events",name:"events",content:e.getLocalValue("eventstab","Events"),active:!1,onClick:e.handleItemClick.bind(_a(e))},{key:"tooltip",name:"tooltip",content:e.getLocalValue("tooltiptab","Tooltip"),active:!1,onClick:e.handleItemClick.bind(_a(e))},{key:"other",name:"other",content:e.getLocalValue("othertab","Other"),active:!1,onClick:e.handleItemClick.bind(_a(e))}],e}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(o.prototype,[{key:"getLocalValue",value:function(e,t,n){var r=this.props.localization,n=re(n)?n:"base";return ne(r)||ne(r[n])||ne(r[n][e])?t:r[n][e]}},{key:"handleItemClick",value:function(e,t){t=t.name,this.setState({activeItem:t})}},{key:"getDescription",value:function(){var t=this.state.activeItem;return this.menuItems.forEach(function(e){e.active=e.name===t}),U.a.createElement(na.Modal.Description,null,U.a.createElement(na.Menu,{key:"descriptionMenu",pointing:!0,secondary:!0,items:this.menuItems}),this.getDetailDescription(t))}},{key:"getDetailDescription",value:function(e){var t;return"general"===e?t=this.getGeneralDescription():"style"===e?t=this.getStyleDescription():"events"===e?t=this.getEventsDescription():"tooltip"===e?t=this.getToolTipDescription():"other"===e&&(t=this.getOtherDescription()),t}},{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent);return U.a.createElement(na.Form,{key:"generalDescriptionForm"},U.a.createElement(na.Form.Input,{key:"name",label:"Name",name:"key",value:e.key,onChange:t}))}},{key:"getStyleDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent),n="/*** Example Code ***/\ncolor:red;\npaddingTop:5px;",r=[{text:this.getLocalValue("adaptivedefault","Any"),value:""},{text:this.getLocalValue("adaptivedesctop","Desktop"),value:"desktop"},{text:this.getLocalValue("adaptivemobile","Mobile"),value:"mobile"}];return U.a.createElement(na.Form,{key:"styleDescriptionForm"},U.a.createElement(na.Form.Group,{widths:"equal"},U.a.createElement(na.Form.Input,{name:"style-width",label:this.getLocalValue("widthfield","Width"),placeholder:"100px",value:e["style-width"],onChange:t}),U.a.createElement(na.Form.Input,{name:"style-height",label:this.getLocalValue("heightfield","Height"),placeholder:"100px",value:e["style-height"],onChange:t})),U.a.createElement(na.Form.Group,{widths:"equal"},U.a.createElement(na.Form.Input,{name:"style-marginTop",label:this.getLocalValue("margintopfield","Margin Top"),placeholder:"0px",value:e["style-marginTop"],onChange:t}),U.a.createElement(na.Form.Input,{name:"style-marginBottom",label:this.getLocalValue("marginbottomfield","Margin Bottom"),placeholder:"0px",value:e["style-marginBottom"],onChange:t}),U.a.createElement(na.Form.Input,{name:"style-marginLeft",label:this.getLocalValue("marginleftfield","Margin Left"),placeholder:"0px",value:e["style-marginLeft"],onChange:t}),U.a.createElement(na.Form.Input,{name:"style-marginRight",label:this.getLocalValue("marginrightfield","Margin Right"),placeholder:"0px",value:e["style-marginRight"],onChange:t})),U.a.createElement(na.Form.Input,{name:"style-customcss",label:this.getLocalValue("customcssclassfield","Custom CSS class"),placeholder:"dwkit-application-css (without '.')",value:e["style-customcss"],onChange:t}),U.a.createElement(na.Form.TextArea,{name:"style-source",label:this.getLocalValue("stylefield","Style"),placeholder:n,value:e["style-source"],onChange:t}),U.a.createElement(na.Form.Group,null,U.a.createElement(na.Form.Checkbox,{name:"style-hidden",label:this.getLocalValue("hiddenfield","Hidden"),checked:e["style-hidden"],onChange:t}),U.a.createElement(na.Form.Checkbox,{name:"style-hiddeninprint",label:this.getLocalValue("hiddeninprintfield","Hidden in Print mode"),checked:e["style-hiddeninprint"],onChange:t})),U.a.createElement(na.Form.Checkbox,{name:"style-adaptive",label:this.getLocalValue("adaptivefield","Adaptive Layout"),checked:e["style-adaptive"],onChange:t}),e["style-adaptive"]&&U.a.createElement(na.Form.Dropdown,{name:"style-renderwhen",selection:!0,fluid:!0,search:!0,options:r,placeholder:"Any",label:this.getLocalValue("style-renderwhenfield","Render when"),value:e["style-renderwhen"],onChange:t}),e["style-adaptive"]&&U.a.createElement(na.Form.TextArea,{name:"style-mobilesource",label:this.getLocalValue("mobilesourcefield","Mobile style"),placeholder:n,value:e["style-mobilesource"],onChange:t}))}},{key:"getEventsList",value:function(){return[]}},{key:"getEventsDescription",value:function(){var e=this.props.data;ne(e.events)&&(e.events={});var t,n=this.props.parent.handleChange.bind(this.props.parent),r=this.props.actions,o=this.getEventsList();if(Array.isArray(o)&&0!==o.length){for(var a=this.props.parent.getControlsList(),i=[],l=0;l<a.length;l++)e.key!==a[l]&&i.push({text:a[l],value:a[l]});t=U.a.createElement(pt,{key:"events",name:"events",data:e.events,events:o,actions:r,targets:i,onAdditionActions:this.handleAdditionActions.bind(this),onChange:n})}else t=U.a.createElement(na.Message,{icon:!0},U.a.createElement(na.Icon,{name:"info"}),U.a.createElement(na.Message.Content,null,this.getLocalValue("controlhasnoeventsmsg","This control has no events.")));return r=null,o.includes("onChange")&&(r=U.a.createElement(na.Form.Input,{name:"onChangeTimeout",style:{width:100},placeholder:"0",type:"number",label:this.getLocalValue("onchangetimeout","onChange timeout"),value:e.onChangeTimeout,onChange:n})),U.a.createElement(na.Form,{key:"eventsDescriptionForm"},U.a.createElement(na.Message,{icon:!0},U.a.createElement(na.Icon,{name:"info"}),U.a.createElement(na.Message.Content,null,this.getLocalValue("eventsinfomsg","These flags enable processing from this element."))),r,t)}},{key:"getToolTipDescription",value:function(){var e=[{text:this.getLocalValue("tooltipdefault","Default"),value:""},{text:this.getLocalValue("tooltiptopcenter","Top Center"),value:"top center"},{text:this.getLocalValue("tooltiptopleft","Top Left"),value:"top left"},{text:this.getLocalValue("tooltiptopright","Top Right"),value:"top right"},{text:this.getLocalValue("tooltipbottomcenter","Bottom Center"),value:"bottom center"},{text:this.getLocalValue("tooltipbottomleft","Bottom Left"),value:"bottom left"},{text:this.getLocalValue("tooltipbottomright","Bottom right"),value:"bottom right"},{text:this.getLocalValue("tooltiprightright","Right Center"),value:"right center"},{text:this.getLocalValue("tooltipleftcenter","Left Center"),value:"left center"}],t=[{text:this.getLocalValue("tooltipdefault","Default"),value:""},{text:this.getLocalValue("tooltiphover","Hover"),value:"hover"},{text:this.getLocalValue("tooltipclick","Click"),value:"click"},{text:this.getLocalValue("tooltipfocus","Focus"),value:"focus"}],n=this.props.data,r=this.props.parent.handleChange.bind(this.props.parent),o=n["tooltip-enabled"]?U.a.createElement(na.Segment,{vertical:!0},U.a.createElement(na.Form.Checkbox,{name:"tooltip-enabled",label:this.getLocalValue("tooltipenabledfield","Enabled"),checked:n["tooltip-enabled"],onChange:r}),U.a.createElement(na.Form.Input,{name:"tooltip-header",label:this.getLocalValue("tooltipheaderfield","Tooltip Header"),value:n["tooltip-header"],onChange:r}),U.a.createElement(na.Form.Input,{name:"tooltip-content",label:this.getLocalValue("tooltipcontentfield","Tooltip Content"),value:n["tooltip-content"],onChange:r}),U.a.createElement(na.Form.Group,null,U.a.createElement(na.Form.Input,{name:"tooltip-classname",label:this.getLocalValue("tooltipclassnamefield","ClassName"),value:n["tooltip-classname"],onChange:r}),U.a.createElement(na.Form.Dropdown,{name:"tooltip-showtype",selection:!0,fluid:!0,search:!0,options:t,placeholder:"Default",label:this.getLocalValue("tooltipshowtypefield","Tooptip showing type"),value:n["tooltip-showtype"],onChange:r}),U.a.createElement(na.Form.Dropdown,{name:"tooltip-position",selection:!0,fluid:!0,search:!0,options:e,placeholder:"Default",label:this.getLocalValue("tooltippositionfield","Tooptip position"),value:n["tooltip-position"],onChange:r}))):U.a.createElement(na.Segment,{vertical:!0},U.a.createElement(na.Form.Checkbox,{name:"tooltip-enabled",label:this.getLocalValue("tooltipenabledfield","Enabled"),checked:n["tooltip-enabled"],onChange:r}));return U.a.createElement(na.Form,{key:"tooltipDescriptionForm"},U.a.createElement(na.Segment,{vertical:!0},U.a.createElement(na.Form.Group,null,U.a.createElement(na.Form.Checkbox,{name:"tooltip-errordisabled",label:this.getLocalValue("errortooltipdisabledfield","Disable error tooptip"),checked:n["tooltip-errordisabled"],onChange:r}),U.a.createElement(na.Form.Dropdown,{name:"tooltip-errorshowtype",selection:!0,fluid:!0,search:!0,options:t,placeholder:"Default",label:this.getLocalValue("tooltiperrorshowtypefield","Error tooptip showing type"),value:n["tooltip-errorshowtype"],onChange:r}),U.a.createElement(na.Form.Dropdown,{name:"tooltip-errorposition",selection:!0,fluid:!0,search:!0,options:e,placeholder:"Default",label:this.getLocalValue("errortooltippositionfield","Error tooptip position"),value:n["tooltip-errorposition"],onChange:r}))),o)}},{key:"getOtherDescription",value:function(){var e=this.props.data,r=this.props.parent.handleChange.bind(this.props.parent),t=this.state.defaultValuePreferInt?function(e,t){var n=t.name;(t=t.value)&&t.match&&t.match(/^-?\d+$/)&&(t=parseInt(t)),r(e,{name:n,value:t})}:r;return U.a.createElement(na.Form,{key:"otherDescriptionForm"},U.a.createElement(na.Form.Input,{name:"propertyName",label:this.getLocalValue("propertynamefield","Property Name"),value:e.propertyName,onChange:r}),U.a.createElement(na.Form.Checkbox,{name:"other-required",label:this.getLocalValue("requiredfield","Required"),checked:e["other-required"],onChange:r}),U.a.createElement(na.Form.Input,{name:"defaultValue",label:this.getLocalValue("defaultvaluefield","Default value"),value:e.defaultValue,onChange:t}),U.a.createElement(na.Form.TextArea,{name:"other-customValidation",label:this.getLocalValue("customvalidationfield","Custom Validation"),placeholder:"/*** Example Code ***/\nvalue > 10 ? true : 'Must be more 10'",value:e["other-customValidation"],onChange:r}),U.a.createElement(na.Form.TextArea,{name:"other-visibleConition",label:this.getLocalValue("visibleconditionfield","Visible condition"),placeholder:"/*** Example Code ***/\ndata.type == 1 ? true : false",value:e["other-visibleConition"],onChange:r}),U.a.createElement(na.Form.TextArea,{name:"other-readOnlyConition",label:this.getLocalValue("readonlyconditionfield","ReadOnly condition"),placeholder:"/*** Example Code ***/\ndata.type == 1 ? true : false",value:e["other-readOnlyConition"],onChange:r}))}},{key:"render",value:function(){return U.a.createElement(na.Modal,{dimmer:"inverted",open:this.props.open,onClose:this.props.onClose.bind(this.props.parent)},U.a.createElement(na.Modal.Content,null,U.a.createElement(na.Modal.Description,null,U.a.createElement(na.Label,{className:"dwkit-formbuilder-editform-controltype"},this.props.data["data-buildertype"]),this.getDescription())),U.a.createElement(na.Modal.Actions,null,U.a.createElement(na.Button,{className:"buttontype1",onClick:this.props.onSave.bind(this.props.parent)},this.getLocalValue("savebutton","Save")),U.a.createElement(na.Button,{className:"buttontype2",onClick:this.props.onClose.bind(this.props.parent)},this.getLocalValue("cancelbutton","Cancel"))))}},{key:"checkActionsList",value:function(e){for(var t=!1,n=0;n<this.props.actions.length;n++)if(this.props.actions[n]==e){t=!0;break}t||this.props.actions.push({text:e,value:e})}},{key:"handleAdditionActions",value:function(e,t){t=t.value,this.checkActionsList(t),this.forceUpdate()}}]),o}();function Oa(e){return(Oa="function"==typeof Symbol&&"symbol"==Du(Symbol.iterator)?function(e){return Du(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Du(e)})(e)}function Sa(e,t){return(Sa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Aa(e){return(Aa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var xa=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Sa(e,t)}(t,Ca);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Aa(n),t=r?(t=Aa(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Oa(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,[{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent);return U.a.createElement(na.Form,null,U.a.createElement(na.Form.Group,{widths:"equal"},U.a.createElement(na.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","customblockform"),value:e.key,onChange:t}),U.a.createElement("div",{className:"field"},U.a.createElement("label",null,this.getLocalValue("sourcetypefield","Source type","customblockform")),U.a.createElement(na.Form.Group,null,U.a.createElement(na.Form.Radio,{name:"sourceType",label:this.getLocalValue("sourcetypeformfield","Form name","customblockform"),value:"form",checked:void 0===e.sourceType||"form"==e.sourceType,onChange:t}),U.a.createElement(na.Form.Radio,{name:"sourceType",label:this.getLocalValue("sourcetypejsonfield","JSON source","customblockform"),value:"source",checked:"source"===e.sourceType,onChange:t}),U.a.createElement(na.Form.Radio,{name:"sourceType",label:this.getLocalValue("placeholderfield","Placeholder","customblockform"),value:"placeholder",checked:"placeholder"===e.sourceType,onChange:t})))),U.a.createElement(na.Form.Input,{name:"formname",label:this.getLocalValue("formnamefield","Form name","customblockform"),value:e.formname,onChange:t,disabled:re(e.sourceType)&&"form"!==e.sourceType}),U.a.createElement(na.Form.TextArea,{key:"source",label:this.getLocalValue("sourcefield","JSON source","customblockform"),name:"source",value:e.source,onChange:t,rows:10,disabled:"source"!==e.sourceType}))}}]),t}();function Pa(e){return(Pa="function"==typeof Symbol&&"symbol"==Du(Symbol.iterator)?function(e){return Du(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Du(e)})(e)}function Da(e,t){return(Da=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function La(e){return(La=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ja=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Da(e,t)}(t,no);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=La(n),t=r?(t=La(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Pa(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,[{key:"handleShowDropzonesClick",value:function(e,t){t.name,t=t.checked,this.setBuilderMode(t)}},{key:"getHeader",value:function(){var e=this.getCurrentLocalization(),t=[];this.props.extraHeaderButtons&&this.props.extraHeaderButtons.forEach(function(e){t.push(U.a.createElement(na.Button,{key:e.name,name:e.name,className:e.className,onClick:e.onClick},e.text))});var n=this.state.dropzoneContext.visible?"":"dwkit-formbuilder-selector-preview";return U.a.createElement("div",{className:"dwkit-formbuilder-header"},U.a.createElement("div",{className:"dwkit-formbuilder-header-left"},U.a.createElement("a",{target:"_blank",href:"https://formbuilder.dev"},U.a.createElement("img",{className:"dwkit-formbuilder-header-logo",src:"/images/logo.svg"}))),U.a.createElement("div",{className:"dwkit-formbuilder-header-center"},U.a.createElement(na.Button,{name:"btnEmpty",className:"buttontype2",onClick:this.create.bind(this)},e.clearbutton),U.a.createElement(na.Button,{name:"btnUpload",className:"buttontype2",onClick:this.onChooseFileUpload.bind(this)},e.uploadbutton),U.a.createElement(na.Button,{name:"btnDownload",className:"buttontype2",onClick:this.onDownload.bind(this)},e.downloadbutton),t),U.a.createElement("div",{className:"dwkit-formbuilder-header-right"},U.a.createElement("div",{className:"dwkit-formbuilder-selector"},U.a.createElement("span",{className:n},"Preview"),U.a.createElement(na.Checkbox,{toggle:!0,name:"cbShowDropzones",label:"Builder",checked:this.state.dropzoneContext.visible,onChange:this.handleShowDropzonesClick.bind(this)})),U.a.createElement("form",{action:"/",method:"post",id:"builderUploadForm",style:{display:"none"},onSubmit:this.onUpload.bind(this)},U.a.createElement("input",{type:"file",id:"builderUploadFile",onChange:this.onChangeFileUpload.bind(this)}),U.a.createElement("input",{type:"submit",id:"builderUploadSubmit"}))))}},{key:"render",value:function(){var e=this.getCurrentLocalization(),t="dwkit-formbuilder";return this.state.dropzoneContext.visible&&(t+=" dwkit-formbuilder-dropzoneactive"),e=U.a.createElement("div",{className:t,onDragOver:this.onDragOver},U.a.createElement("div",{className:"dwkit-formbuilder-content"},U.a.createElement(ia,{buildermode:this.state.dropzoneContext.visible,getFormFunc:this.props.getFormFunc,getFormFist:this.props.getFormFist,getAdditionalDataForControl:this.props.getAdditionalDataForControl,localization:e.preview,downloadUrl:this.props.downloadUrl,uploadUrl:this.props.uploadUrl,externalControlRender:this.props.externalControlRender,externalControlList:this.props.externalControlList,dwKitControls:this.dwKitControls}),U.a.createElement(Ho,{actions:this.props.actions,localization:e.editforms,externalControlList:this.props.externalControlList,dwKitControls:this.dwKitControls})),U.a.createElement(Va,{localization:e.toolbar,templates:this.props.templates,externalControlList:this.props.externalControlList,externalControlsOnly:this.props.externalControlsOnly,dwKitControls:this.dwKitControls,editControl:xa})),e=this.props.showHeader?U.a.createElement("div",null,this.getHeader(),e):e,U.a.createElement(Oo.Provider,{value:this.state.dropzoneContext},e)}}]),t}(),Ra=n(7),Fa=n.n(Ra);function Ta(e){return(Ta="function"==typeof Symbol&&"symbol"==Du(Symbol.iterator)?function(e){return Du(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Du(e)})(e)}function Na(){return(Na=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Ma(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e){if(e){if("string"==typeof e)return Ia(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Ia(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return{s:t=function(){},n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,i=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){i=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(i)throw o}}}}function Ia(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ba(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wa(e,t){return(Wa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ua(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ka(e){return(Ka=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function za(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ga=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wa(e,t)}(a,c.Component);var e,t,n,r,o=(n=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Ka(n),t=r?(t=Ka(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Ta(t)&&"function"!=typeof t?Ua(e):t});function a(e){var r;return function(e){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this),za(Ua(r=o.call(this,e)),"onMount",function(e){r.modal=$(Fa.a.findDOMNode(e)).parent(),r.count=$(".count",r.modal),r.tabs={tree:$(".tree-tab",r.modal),search:$(".search-tab",r.modal),picked:$(".picked-tab",r.modal)},$(".menu .tree",r.modal).on("click",function(){return r.showTree()}),$(".menu .picked",r.modal).on("click",function(){return r.showPicked()}),$(".search input",r.modal).on("keyup",function(e){return r.showSearch($(e.currentTarget).val())}),r.nodes.length&&(r.props.paging?r.loadCurrentValue():(r.updatePickedNodes(r.getPicked()),r.updatePickedCount()),r.initializeNodes(r.nodes))}),za(Ua(r),"pickSearch",function(){$(".search-tab .node:not(.picked) .name",r.modal).trigger("click")}),za(Ua(r),"unpickSearch",function(){$(".search-tab .node.picked .name",r.modal).trigger("click")}),za(Ua(r),"unpickPicked",function(){$(".picked-tab .node.picked .name",r.modal).trigger("click")}),za(Ua(r),"handleOpen",function(){r.state.visible||r.setState({visible:!0})}),za(Ua(r),"handleClose",function(){r.setState({visible:!1})}),za(Ua(r),"handleSave",function(){var e=r.props.multiple?r.picked.map(function(e){return e.id}):r.picked.length?r.picked[0].id:null,t=r.getAdditionalValues(e);r.onChange(e,t),r.setState({visible:!1})}),za(Ua(r),"onDropdownChange",function(e,t){var n=t.value,t=r.getAdditionalValues(n);r.onChange(n,t)}),r.state={visible:!1,value:r.props.value},r.converter=new Jo({children:r.props.childrenKey}),r}return t=[{key:"getDerivedStateFromProps",value:function(e,t){return e.dataModel!==t.dataModel?{getAdditionalDataForControl:e.getAdditionalDataForControl,dataModel:e.dataModel,needFetch:!0,needValueFetch:!0}:e.paging&&e.value!==t.value&&void 0!==e.value?{needValueFetch:!0,value:e.value}:null}}],Ba((e=a).prototype,[{key:"componentDidMount",value:function(){this.widget=$(Fa.a.findDOMNode(this)),this.nodes=[],this.tabs={},this.picked=[],this.opened=[],this.checkFetch()}},{key:"componentDidUpdate",value:function(e,t){this.checkFetch()}},{key:"checkFetch",value:function(){this.state.needFetch?this.getAdditionalData(null):this.state.needValueFetch&&this.loadCurrentValue()}},{key:"getNodeById",value:function(t){var e=this.recursiveNodeSearch(this.nodes,function(e){return"".concat(e.id)==="".concat(t)});return e.length?e[0]:null}},{key:"getPicked",value:function(){var e=[];return this.props.multiple?this.getArrayValues(this.props.value):(this.props.value&&e.push(this.props.value),e)}},{key:"updatePickedNodes",value:function(e){if(e){this.picked=[];var t,n=Ma(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,o=this.recursiveNodeSearch(this.nodes,function(t){return function(e){return"".concat(e.id)==="".concat(t)}}(r));o.length&&this.picked.push(o[0])}}catch(e){n.e(e)}finally{n.f()}}}},{key:"initializeNodes",value:function(e){return e=this.renderTree(e,this.state.rowsCount,null,0,{height:"400px",overflowY:"scroll"}),this.tabs.tree.html(e),this.initializeNodeList(e)}},{key:"recursiveNodeSearch",value:function(e,t){var n=[];if(!Array.isArray(e))return n;for(var r=0,o=Array.from(e);r<o.length;r++){var a=o[r];t(a)&&n.push(a),a[this.props.childrenKey]&&a[this.props.childrenKey].length&&(n=n.concat(this.recursiveNodeSearch(a[this.props.childrenKey],t)))}return n}},{key:"renderTree",value:function(e,t,n,r,o){o=o||{};for(var a=$('<div class="ui tree-picker tree"></div>').css(o),i=0,l=e.length;i<l;i++){var s=e[i],c=this.opened.includes(s.id)?" opened":"";this.props.hidden(s)||(c=$('<div class="node'.concat(c,'" data-id="').concat(s.id,'" data-name="').concat(s.name,'">\n    <div class="head">\n        <i class="add circle icon"></i>\n        <i class="minus circle icon"></i>\n        <i class="radio icon"></i>\n        <a class="name">').concat(s.name,'</a>\n        <i class="checkmark icon"></i>\n    </div>\n    <div class="content').concat(c,'"></div>\n</div>')).appendTo(a),this.props.disabledClause(s)&&c.addClass("disabled"),s[this.props.childrenKey]&&s[this.props.childrenKey].length?$(".content",c).append(this.renderTree(s[this.props.childrenKey],s.rowsCount,s.id,0)):s.hasChild||c.addClass("childless"))}return this.props.paging&&e.length+r<t&&$('<div class="node pager" data-parent-id="'.concat(n,'" data-start-index="').concat(e.length+r,'">\n    <div class="head">\n        <a class="name">...</a>\n    </div>\n</div>')).appendTo(a),a}},{key:"initializeNodeList",value:function(e){var o=this;$(".node",e).each(function(e,t){var n=$(t),t=$(">.head",n),r=$(">.content",n);$(">.name",t).on("click",function(){n.hasClass("pager")?o.pagerClicked(n):o.nodeClicked(n)}),o.nodeIsPicked(n)&&n.addClass("picked"),n.hasClass("childless")||$(">.icon",t).on("click",function(){var t=o.getNodeById(o.getNodeId(n));!t||!t.hasChild||t[o.props.childrenKey]&&t[o.props.childrenKey].length?r.slideToggle():o.getAdditionalData(t.id,n),n.toggleClass("opened"),o.opened.includes(t.id)?o.opened=o.opened.filter(function(e){return e!==t.id}):o.opened.push(t.id)})})}},{key:"pagerClicked",value:function(e){this.getAdditionalData(e.data("parent-id"),e,e.data("start-index"))}},{key:"nodeClicked",value:function(e){if(!e.hasClass("disabled")){if(!this.props.multiple){if(this.picked.length&&this.props.clearable&&this.picked[0].id===this.getNodeId(e))return this.unpickNode(e);$(".node.picked",this.modal).removeClass("picked"),this.picked=[]}return e.toggleClass("picked"),e.hasClass("picked")?this.pickNode(e):this.unpickNode(e)}}},{key:"nodeIsPicked",value:function(t){var n=this;return this.picked.filter(function(e){return"".concat(e.id)===n.getNodeId(t)}).length}},{key:"updatePickedCount",value:function(){return this.picked.length?(this.count.closest(".item").addClass("highlighted"),this.count.html("("+this.picked.length+")")):(this.count.closest(".item").removeClass("highlighted"),this.count.html(""))}},{key:"getNodeId",value:function(e){return e.attr("data-id")}},{key:"pickNode",value:function(e){var t=this.getNodeId(e);return this.picked.push({id:t,name:e.attr("data-name")}),this.updatePickedCount(),$(".node[data-id="+t+"]",this.modal).addClass("picked")}},{key:"unpickNode",value:function(e){var t=this.getNodeId(e);return this.picked=this.picked.filter(function(e){return"".concat(e.id)!=="".concat(t)}),this.updatePickedCount(),$(".node[data-id="+t+"]",this.modal).removeClass("picked")}},{key:"showTree",value:function(){return $(".menu .item",this.modal).removeClass("active"),$(".menu .tree",this.modal).addClass("active"),this.tabs.tree.show(),this.tabs.search.hide(),this.tabs.picked.hide(),this.modal.attr("data-mode","tree")}},{key:"getColumnsForFilter",value:function(){var e=new RegExp(" asc","gi"),t=this.props.columns.replace(e,""),e=new RegExp(" desc","gi"),t=t.replace(e,"");return e=new RegExp(" ","gi"),t.replace(e,"")}},{key:"showSearch",value:function(t){var e,n,r=this;null!==t&&t.length>=this.props.minSearchQueryLength?this.props.paging?(e={model:this.state.dataModel,filters:[{column:this.getColumnsForFilter(),term:"like",value:t}]},this.setState({isFetching:!0},function(){r.state.getAdditionalDataForControl(r,e,function(e){e=e.items,r.setState({isFetching:!1}),r.renderSearchResults(e,t)})})):(n=this.recursiveNodeSearch(this.nodes,function(e){return e.name&&-1<e.name.toLowerCase().indexOf(t.toLowerCase())}),this.renderSearchResults(n,t)):this.showTree()}},{key:"renderSearchResults",value:function(e,n){e=this.renderList(e,{height:"400px",overflowY:"scroll"}),$(".menu .item",this.modal).removeClass("active"),this.tabs.search.show().html(e),this.tabs.tree.hide(),this.tabs.picked.hide(),this.modal.attr("data-mode","search"),this.initializeNodeList(e),$(".name",e).each(function(){var e=$(this).text(),t=RegExp("("+n+")","gi"),e=e.replace(t,"<strong class='search-query'>$1</strong>");$(this).html(e)})}},{key:"showPicked",value:function(){var e=this.renderList(this.picked,{height:"400px",overflowY:"scroll"});return $(".menu .item",this.modal).removeClass("active"),$(".menu .picked",this.modal).addClass("active"),this.tabs.picked.show().html(e),this.tabs.tree.hide(),this.tabs.search.hide(),this.modal.attr("data-mode","picked"),this.initializeNodeList(e)}},{key:"renderList",value:function(e,t){var n,r,o,a,i;for(t=t||{},n=$('<div class="ui tree-picker list"></div>').css(t),a=0,i=e.length;a<i;a++)r=e[a],this.props.hidden(r)||(o=$('<div class="node" data-id="'.concat(r.id,'" data-name="').concat(r.name,'">\n    <div class="head">\n        <a class="name">').concat(r.name,'</a>\n        <i class="checkmark icon"></i>\n    </div>\n    <div class="content"></div>\n</div>')).appendTo(n),this.props.disabledClause(r)&&o.addClass("disabled"));return n}},{key:"getAdditionalData",value:function(n,r){var e,o=this,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;this.state.dataModel?this.state.getAdditionalDataForControl?(e={model:this.state.dataModel},this.props.paging&&(e.startIndex=a,e.pageSize=this.props.pageSize),this.setState({isFetching:!0,needFetch:!1,parentIdToFetch:n},function(){o.state.getAdditionalDataForControl(o,e,function(e){var t=e.items,e=e.rowsCount,t=o.converter.toNested(t,n);o.setData({items:t,rowsCount:e,parentIdToFetch:n},!a),o.props.paging?(e=o.renderTree(t,e,n,a),o.initializeNodeList(e),a?r.replaceWith(e.children()):($(".content",r).append(e),$(">.content",r).slideToggle())):(o.updatePickedNodes(o.getPicked()),o.modal&&o.initializeNodes(o.nodes)),o.state.needValueFetch&&o.loadCurrentValue()})})):this.props.buildermode&&console.log("TreePicker: For paging on server need to set getAdditionalDataForControl func!"):this.props.buildermode&&console.log("TreePicker: Set DataModel label!")}},{key:"loadCurrentValue",value:function(){var t=this;if(this.picked=[],void 0!==this.props.value&&null!==this.props.value)if(this.props.multiple){for(var e,n=this.getArrayValues(this.props.value),r=[],o=0;o<n.length;o++){var a=n[o],i=this.getNodeById(a);i?this.picked.push(i):r.push(a)}0<r.length?((e={model:this.state.dataModel}).filters=[{column:"__id",term:"in",value:r}],this.setState({isFetching:!0},function(){t.state.getAdditionalDataForControl(t,e,function(e){e=e.items,t.addSelectedNodes(e)})})):this.modal&&this.updatePickedCount()}else{var l,s=this.getNodeById(this.props.value);s?(this.picked.push(s),this.modal&&this.updatePickedCount()):((l={model:this.state.dataModel}).filters=[{column:"__id",term:"=",value:this.props.value}],this.setState({isFetching:!0},function(){t.state.getAdditionalDataForControl(t,l,function(e){e=e.items,t.addSelectedNodes(e)})}))}this.state.needValueFetch&&this.setState({needValueFetch:!1})}},{key:"setData",value:function(e,t){var n=e.items,r=e.rowsCount,e=e.parentIdToFetch;t?e?(t=this.getNodeById(e))&&(t[this.props.childrenKey]=n,t.rowsCount=r):(this.nodes=n,this.setState({rowsCount:r})):e?(e=this.getNodeById(e))&&(e[this.props.childrenKey]=e[this.props.childrenKey].concat(n)):this.nodes=this.nodes.concat(n),this.setState({needFetch:!1,isFetching:!1})}},{key:"getArrayValues",value:function(e){var t;if(null==e)return[];if(!Array.isArray(e)){try{t=JSON.parse(e)}catch(e){console.log(e)}e=t=Array.isArray(t)?t:[e]}return e}},{key:"addSelectedNodes",value:function(e){Array.isArray(e)&&e.length&&(this.picked=this.picked.concat(e),this.modal&&this.updatePickedCount(),this.setState({isFetching:!1}))}},{key:"getLocalized",value:function(e,t){return window.DWKitAdminLang&&window.DWKitAdminLang.treepicker?window.DWKitAdminLang.treepicker[e]:t}},{key:"onChange",value:function(e,t){this.props.handleEvent&&this.props.handleEvent({syntheticEvent:null,key:this.props.name,propertyName:this.props.propertyName,eventName:"onChange",name:this.props.name,value:e,additionalValues:t})}},{key:"getAdditionalValues",value:function(t){var n,r,e;return this.nodes.length&&(Array.isArray(t)?(n=t.map(function(e){return"".concat(e)}),r=this.recursiveNodeSearch(this.nodes,function(e){return n.includes("".concat(e.id))}).map(function(e){return e.values})):t?(e=this.recursiveNodeSearch(this.nodes,function(e){return"".concat(e.id)==="".concat(t)})).length&&(r=e[0].values):(e=this.getColumnsForFilter())&&(r={},e.split(",").forEach(function(e){r[e]=null}))),r}},{key:"triggerElement",value:function(){var e,t=this.props.value,n=[];if(this.props.multiple){this.props.value||(t=[]);var r,o=Ma(t=Array.isArray(this.props.value)?t:this.getArrayValues(this.props.value));try{for(o.s();!(r=o.n()).done;){var a=r.value,i=this.getNodeById(a);i&&n.push({value:i.id,text:i.name})}}catch(e){o.e(e)}finally{o.f()}}else!t||(e=this.getNodeById(t))&&n.push({value:e.id,text:e.name});return(t={fluid:this.props.fluid,disabled:this.props.disabled,multiple:this.props.multiple,value:t,className:this.props.className,options:n,selection:this.props.selection}).label=this.props.label,t.error=this.props.error,U.a.createElement(na.Form.Dropdown,Na({},t,{onClick:this.handleOpen,onChange:this.onDropdownChange}))}},{key:"render",value:function(){var e="tree-picker ".concat(this.props.modalCssClass);return U.a.createElement(na.Modal,{style:this.props.modalStyle,className:e,open:this.state.visible,trigger:this.triggerElement()},U.a.createElement(br,{name:this.props.label,onMount:this.onMount,selected:this.getLocalized("selected","Selected")}),U.a.createElement("div",{className:"ui search form"},U.a.createElement("div",{className:"field"},U.a.createElement("div",{className:"ui icon input"},U.a.createElement("input",{type:"text",placeholder:this.getLocalized("search","Search")}),U.a.createElement("i",{className:"search icon"})))),U.a.createElement(na.Modal.Content,null,U.a.createElement("div",{className:" active"},U.a.createElement("div",{className:"ui text loader"},this.getLocalized("loadingData","Loading data"))),U.a.createElement("div",{className:"tree-tab"},U.a.createElement("div",{style:{height:"400px"}})),U.a.createElement("div",{className:"search-tab"}),U.a.createElement("div",{className:"picked-tab"})),U.a.createElement(na.Modal.Actions,null,U.a.createElement(na.Button,{onClick:this.pickSearch,className:"pick-search"},U.a.createElement("i",{className:"checkmark icon"}),this.getLocalized("selectAll","Select all")),U.a.createElement(na.Button,{onClick:this.unpickSearch,className:"unpick-search"},U.a.createElement("i",{className:"remove icon"}),this.getLocalized("removeAll","Remove all")),U.a.createElement(na.Button,{onClick:this.unpickPicked,className:"unpick-picked"},U.a.createElement("i",{className:"remove icon"}),this.getLocalized("removeAll","Remove all")),U.a.createElement(na.Button,{onClick:this.handleSave,className:"blue"},this.getLocalized("ok","Ok")),U.a.createElement(na.Button,{onClick:this.handleClose},this.getLocalized("cancel","Cancel"))))}}]),Ba(e,t),a}();za(Ga,"defaultProps",{hidden:function(e){return!1},disabledClause:function(e){return!1},childrenKey:"nodes",multiple:!1,minSearchQueryLength:3,pageSize:100});var qa=n(5),Ha=n(16);function Ya(e){return(Ya="function"==typeof Symbol&&"symbol"==Du(Symbol.iterator)?function(e){return Du(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Du(e)})(e)}function Ja(){return(Ja=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Qa(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xa(e,t,n){return t&&$a(e.prototype,t),n&&$a(e,n),e}function Za(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ei(e,t)}function ei(e,t){return(ei=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ti(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e=ri(n),t=r?(t=ri(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Ya(t)&&"function"!=typeof t?ni(e):t}}function ni(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ri(e){return(ri=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var oi=function(){Za(n,c.Component);var t=ti(n);function n(e){return Qa(this,n),(e=t.call(this,e)).state={editorState:qa.EditorState.createEmpty()},e.handleKeyCommand=e._handleKeyCommand.bind(ni(e)),e.mapKeyToEditorCommand=e._mapKeyToEditorCommand.bind(ni(e)),e.toggleBlockType=e._toggleBlockType.bind(ni(e)),e.toggleInlineStyle=e._toggleInlineStyle.bind(ni(e)),e}return Xa(n,[{key:"render",value:function(){var e,n=this,r={},t={};for(e in this.props)"className"===e||"style"===e?t[e]=this.props[e]:r[e]=this.props[e];var o=this.props.additionalParams.model,a=this.props.additionalParams.handleEvent,i=this.props.additionalParams.parentItem;r.placeholder=o.placeholder,r.onChange=this.onChange=function(e){var t=e.getCurrentContent(),t=Object(Ha.convertToHTML)(t);n.setState({editorState:e,value:t}),a({key:r.name,propertyName:r.propertyName,eventName:"onChange",name:r.name,value:t})};var l="dwkit-richtextcontrol RichEditor-root";return t.className?t.className+=" "+l:t.className=l,l=U.a.createElement("div",t,!r.readOnly&&U.a.createElement(ci,{editorState:this.state.editorState,onToggle:this.toggleBlockType}),!r.readOnly&&U.a.createElement(pi,{editorState:this.state.editorState,onToggle:this.toggleInlineStyle}),U.a.createElement("div",{onClick:this.focus},U.a.createElement(qa.Editor,Ja({},r,{editorState:this.state.editorState,blockStyleFn:ii,customStyleMap:ai,handleKeyCommand:this.handleKeyCommand,keyBindingFn:this.mapKeyToEditorCommand,ref:"editor",spellCheck:!0})))),this.isForm(i)?U.a.createElement(na.Form.Field,null,U.a.createElement("label",null,o.label),l):l}},{key:"isForm",value:function(e){return null!=e&&("form"===e["data-buildertype"]||"formgroup"===e["data-buildertype"])}},{key:"_handleKeyCommand",value:function(e,t){return!!(e=qa.RichUtils.handleKeyCommand(t,e))&&(this.onChange(e),!0)}},{key:"_mapKeyToEditorCommand",value:function(e){if(9!==e.keyCode)return Object(qa.getDefaultKeyBinding)(e);(e=qa.RichUtils.onTab(e,this.state.editorState,4))!==this.state.editorState&&this.onChange(e)}},{key:"_toggleBlockType",value:function(e){this.onChange(qa.RichUtils.toggleBlockType(this.state.editorState,e))}},{key:"_toggleInlineStyle",value:function(e){this.onChange(qa.RichUtils.toggleInlineStyle(this.state.editorState,e))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(e.value===t.value)return null;t=qa.EditorState.createEmpty();try{var n=Object(Ha.convertFromHTML)(e.value),t=qa.EditorState.createWithContent(n)}catch(e){}return{value:e.value,editorState:t}}}]),n}(),ai={CODE:{backgroundColor:"rgba(0, 0, 0, 0.05)",fontFamily:'"Inconsolata", "Menlo", "Consolas", monospace',fontSize:16,padding:2}};function ii(e){return"blockquote"!==e.getType()?null:"RichEditor-blockquote"}var li=function(){Za(n,U.a.Component);var e=ti(n);function n(){var t;return Qa(this,n),(t=e.call(this)).onToggle=function(e){e.preventDefault(),t.props.onToggle(t.props.style)},t}return Xa(n,[{key:"render",value:function(){var e="RichEditor-styleButton";return this.props.active&&(e+=" RichEditor-activeButton"),U.a.createElement("span",{className:e,onMouseDown:this.onToggle},this.props.label)}}]),n}(),si=[{label:"H1",style:"header-one"},{label:"H2",style:"header-two"},{label:"UL",style:"unordered-list-item"},{label:"OL",style:"ordered-list-item"}],ci=function(t){var e=t.editorState,n=e.getSelection(),r=e.getCurrentContent().getBlockForKey(n.getStartKey()).getType();return U.a.createElement("div",{className:"RichEditor-controls"},si.map(function(e){return U.a.createElement(li,{key:e.label,active:e.style===r,label:e.label,onToggle:t.onToggle,style:e.style})}))},ui=[{label:"Bold",style:"BOLD"},{label:"Italic",style:"ITALIC"},{label:"Underline",style:"UNDERLINE"},{label:"Code",style:"CODE"}],pi=function(t){var n=t.editorState.getCurrentInlineStyle();return U.a.createElement("div",{className:"RichEditor-controls"},ui.map(function(e){return U.a.createElement(li,{key:e.label,active:n.has(e.style),label:e.label,onToggle:t.onToggle,style:e.style})}))};function fi(e){return(fi="function"==typeof Symbol&&"symbol"==Du(Symbol.iterator)?function(e){return Du(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Du(e)})(e)}function di(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function hi(r){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?di(Object(o),!0).forEach(function(e){var t,n=r;e=o[t=e],t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):di(Object(o)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))})}return r}function mi(){return(mi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function yi(e,t){return(yi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function gi(e){return(gi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var bi=n(10),vi=new(function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yi(e,t)}(t,qr);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=gi(n),t=r?(t=gi(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==fi(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,[{key:"createControl",value:function(e,t,n){var l=n.model,s=n.data,r=n.errors,o=n.parentItem,c=n.buildermode,a=n.children,i=n.handleEvent,u=n.getAdditionalDataForControl,p=n.getFormFunc,f=n.readOnlyControls,d=n.readOnly,h=n.disableRefs,m=n.uploadUrl,y=n.downloadUrl,g=n.extendedData,b=n.controlsToReplace,v=n.needCheckReplace,V=n.eventOnEdit,w=n.eventOnDelete,E=n.eventOnCopy,_=n.externalControlRender,k=n.externalControlList,C=n.adaptiveViewType,O=n.formData,S=n.hideControls,A=void 0,x={key:l.key,name:l.key,className:qr.getClassName(l,c),style:qr.getStyle(l,c,C),"data-buildertype":l["data-buildertype"],propertyName:l.propertyName||l.key};x.key||console.log(l);var P=x["data-buildertype"],D=v||b.includes(l.key);c&&this.isContainer(x["data-buildertype"])&&(x.className=(ne(x.className)?"":x.className+" ")+"dwkit-formbuilder-item-container"),h||(x.ref=l.key),void 0!==l.readOnly&&(x.readOnly=l.readOnly),(d||Array.isArray(f)&&f.includes(l.key))&&(x.readOnly=!0);var L,j=Ao.regexForReplace,n=function r(e){if(!D||null==e||c)return e;function o(e){return null!=O?"row."===e.slice(1,5)?qr.getFormattedDate(e.slice(5,e.length-1),s):qr.getFormattedDate(e.slice(1,e.length-1),O):qr.getFormattedDate(e.slice(1,e.length-1),s)}if(Array.isArray(e)){var a=[],i=!1;return e.forEach(function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(void 0!==e[t]&&null!==e[t]&&"string"==typeof e[t]?(n[t]=e[t].replace(j,o),!i&&v&&n[t]!==e[t]&&(i=!0)):Array.isArray(e[t])?n[t]=r(e[t]):n[t]=e[t]);a.push(n)}),i&&b.push(l.key),a}if("string"!=typeof e)return e;var t=e.replace(j,o);return v&&e!==t&&b.push(l.key),t};if(void 0!==s&&(l.propertyName?x.value=s[l.propertyName]:x.value=s[x.key]),null!=r&&(l.propertyName?x.error=r[l.propertyName]:x.error=r[x.key]),t===Un)"header"===P?(x.content=n(l.content),x.subheader=n(l.subheader)):"label"===P?x.content=n(l.content):"message"===P?(x.content=n(l.content),x.header=n(l.header)):"image"===P?(x.src=n(l.src),x.href=n(l.href)):"breadcrumb"===P?x.items=n(l.items):"button"===P&&(x.content=n(l.content)),A=U.a.createElement(Un,mi({},x,{additionalParams:{model:l,data:s,errors:r,children:a,handleEvent:i,parentItem:o,uploadUrl:m,downloadUrl:y}}));else if(t===te)(x=hi(hi({},x),l)).uploadUrl=m,x.downloadUrl=y,null!=i&&(x.onChange=function(e,t){var n=t.name,r=t.value,t=t.parameters;i({syntheticEvent:e,key:x.name,propertyName:x.propertyName,eventName:"onChange",name:n,value:r,parameters:t})}),A=U.a.createElement(te,mi({},x,{additionalParams:{model:l,data:s,errors:r,children:a,handleEvent:i,parentItem:o}}));else if(t===Yn)(x=hi(hi({},x),l)).uploadUrl=m,x.downloadUrl=y,null!=i&&(x.onChange=function(e,t){var n=t.name,r=t.value,t=t.parameters;i({syntheticEvent:e,key:x.name,propertyName:x.propertyName,eventName:"onChange",name:n,value:r,parameters:t})}),A=U.a.createElement(Yn,mi({},x,{additionalParams:{model:l,data:s,errors:r,children:a,handleEvent:i,parentItem:o}}));else if(t===rn)x.format=l.format,x.mask=l.mask,x.thousandSeparator=l.thousandSeparator,x.prefix=l.prefix,x.suffix=l.suffix,A=U.a.createElement(rn,mi({},x,{additionalParams:{model:l,data:s,errors:r,children:a,handleEvent:i,parentItem:o,uploadUrl:m,downloadUrl:y}}));else if(t===qe)x.label=l.label,x.defaultValue=l.defaultValue,x.placeholder=l.placeholder,x.disabled=l.disabled,x.fluid=l.fluid,x.selection=l.selection,x.multiple=l.multiple,x.search=l.search,x.dataModel=l.dataModel,x.clearable=l.clearable,x.columns=l.columns,x.paging=l.paging,x.pageSize=l.pageSize,x.getAdditionalDataForControl=u,x.filters=n(l.filters),x.textAsValue=l.textAsValue,l.text&&(x.textFunc=new Function("data","return ".concat(l.text,";"))),r&&void 0!==r[l.key]&&(x.error=r[l.key]),x.handleEvent=i,x.parentIsForm=qr.isForm(o),A=U.a.createElement(qe,x);else if(t===Xe)x.defaultValue=l.defaultValue,x.items=l.items,x.imageUrl=l.imageUrl,x.handleEvent=i,A=U.a.createElement(Xe,x);else if(t===Fn)x.url=l.url,x.category=l.category,x.handleEvent=i,A=U.a.createElement(Fn,x);else if(t===un)P=[],void 0!==l["data-elements"]&&(P=Array.isArray(l["data-elements"])?l["data-elements"]:pe.a.parse(l["data-elements"])),x.handleEvent=i,r&&void 0!==r[l.key]&&(x.error=r[l.key]),A=U.a.createElement(un,mi({},x,{label:l.label,direction:l.direction,placeholder:l.placeholder,items:P}));else if(t===_e){if(x.columns=l.columns,x.draggable=l.draggable,x.hierarchical=l.hierarchical,x.parentIdField=l.parentIdField,x.idField=l.idField,x.childrenField=l.childrenField,x.collapseAll=l.collapseAll,x.disableAdd=l.disableAdd,x.disableCopy=l.disableCopy,x.disableDelete=l.disableDelete,x.placeholders=bi(l.placeholders),x.placeholders&&(x.data=s,x.adaptiveViewType=C,x.controlBarParams={adaptiveViewType:C,eventOnDelete:w,eventOnEdit:V,eventOnCopy:E,parentComponent:e},x.getAdditionalDataForControl=u,x.createControl=this.createCollectionEditorControl.bind(this)),x.handleEvent=i,x.downloadUrl=y,x.uploadUrl=m,c&&void 0===x.value&&void 0!==x.columns){for(x.buildermode=c,x.createBuilderDropzone=qr.createBuilderDropzone,x.value=[],N=0;N<5;N++)x.value.push({});if(Boolean(l.hierarchical)&&void 0!==l.parentIdField&&""!==l.parentIdField&&void 0!==l.idField&&""!==l.idField)for(N=1;N<5;N++){var R=x.value[N];void 0===R[l.idField]&&(R[l.idField]=N);for(var F=0;F<2;F++){var T={};T[l.parentIdField]=R[l.idField],x.value.push(T)}}}void 0!==g&&void 0!==g.filters&&void 0!==g.filters[x.key]&&(x.filter=new xt(g.filters[x.key],x.columns.map(function(e){return e.key}))),A=U.a.createElement(_e,x)}else if(t===qt){if(x.columns=l.columns,x.multiselect=l.multiselect,x.rowKey=l.rowKey,x.editForm=l.editForm,x.editFlow=l.editFlow,x.editWorkflow=l.editWorkflow,x.editType=l.editType,x.pagerType=l.pagerType,x.pageSize=l.pageSize,x.rowHeight=l.rowHeight,x.headerRowHeight=l.headerRowHeight,x.minHeight=l.minHeight,x.autoHeight=l.autoHeight,x.offSet=l.offSet,x.disableSort=l.disableSort,x.resizeColumns=l.resizeColumns,x.editFormShowType=l.editFormShowType,x.sidebarDirection=l.sidebarDirection,x.getAdditionalDataForControl=u,x.handleEvent=i,x.defaultSort=l.defaultSort,x.uploadUrl=m,x.downloadUrl=y,r&&void 0!==r[l.key]&&(x.error=r[l.key]),c&&void 0===x.value){x.buildermode=c,x.createBuilderDropzone=qr.createBuilderDropzone,x.value=[];for(var N=0;N<30;N++)!function(){var t={};x.columns.forEach(function(e){t[e.key]=e.key+"_"+N}),x.value.push(t)}()}void 0!==g&&void 0!==g.filters&&void 0!==g.filters[x.key]&&(x.filter=new xt(g.filters[x.key],x.columns.map(function(e){return e.key}))),x.placeholders=bi(l.placeholders),x.placeholders&&(x.data=s,x.adaptiveViewType=C,x.controlBarParams={adaptiveViewType:C,eventOnDelete:w,eventOnEdit:V,eventOnCopy:E,parentComponent:e},x.createControl=this.createCollectionEditorControl.bind(this)),A=U.a.createElement(qt,x)}else if(t===Zt)x["data-items"]=n(l.items),x.pointing=l.pointing,x.secondary=l.secondary,x.tabular=l.tabular,x.fluid=l.fluid,x.vertical=l.vertical,x.activeitem=l.activeitem,x.link=l.link,x.handleEvent=i,A=U.a.createElement(Zt,x);else if(t===or)x["data-panes"]=l.panes,x.pointing=l.pointing,x.secondary=l.secondary,x.tabular=l.tabular,x.fluid=l.fluid,x.vertical=l.vertical,x.activeitem=l.activeitem,x.placeholders=l.placeholders,this.setCreateControlsProps(x,{data:s,buildermode:c,model:l,children:a,getFormFunc:p,getAdditionalDataForControl:u,disableRefs:h,uploadUrl:m,downloadUrl:y,extendedData:g,controlsToReplace:b,eventOnEdit:V,eventOnDelete:w,eventOnCopy:E,adaptiveViewType:C,handleEvent:i,externalControlList:k,externalControlRender:_,needCheckReplace:v,readOnly:d,readOnlyControls:f,hideControls:S,errors:r}),A=U.a.createElement(or,x);else if(t===sr)x.panels=l.panels,x.fluid=l.fluid,x.styled=l.styled,x.placeholders=l.placeholders,this.setCreateControlsProps(x,{data:s,buildermode:c,model:l,children:a,getFormFunc:p,getAdditionalDataForControl:u,disableRefs:h,uploadUrl:m,downloadUrl:y,extendedData:g,controlsToReplace:b,eventOnEdit:V,eventOnDelete:w,eventOnCopy:E,adaptiveViewType:C,handleEvent:i,externalControlList:k,externalControlRender:_,needCheckReplace:v,readOnly:d,readOnlyControls:f,hideControls:S,errors:r}),A=U.a.createElement(sr,x);else if(t===_t)x.draggable=l.draggable,x.resizable=l.resizable,x.scroll=l.scroll,x.cols=l.cols,x["data-panes"]=l.panes,x.placeholders=l.placeholders,this.setCreateControlsProps(x,{data:s,buildermode:c,model:l,children:a,getFormFunc:p,getAdditionalDataForControl:u,disableRefs:h,uploadUrl:m,downloadUrl:y,extendedData:g,controlsToReplace:b,eventOnEdit:V,eventOnDelete:w,eventOnCopy:E,adaptiveViewType:C,handleEvent:i,errors:r,readOnlyControls:f,readOnly:d,needCheckReplace:v}),A=U.a.createElement(_t,x);else if(t===ce)x.chartType=l.chartType,x.responsive=l.responsive,x.legendPosition=l.legendPosition,x.title=l.title,x.titleSize=l.titleSize,x.datasetCustom=l.datasetCustom,x.dataLabels=l.dataLabels,x.datasetLabel=l.datasetLabel,x.datasetSteppedLine=l.datasetSteppedLine,x.datasetBorderColor=l.datasetBorderColor,x.datasetFill=l.datasetFill,x.datasetBorderWidth=l.datasetBorderWidth,x.datasetBackgroundColor=l.datasetBackgroundColor,c?x.datasetCustom?x.value=[1,2,3,4,3,2,1]:(S="scatter"!==x.chartType?[6,23,15,3]:[{x:6,y:-12},{x:11,y:1},{x:24,y:5},{x:40,y:32}],x.value={labels:["Q1","Q2","Q3","Q4"],datasets:[{data:S}]}):void 0!==s&&(x.value=s[x.key]),A=U.a.createElement(ce,x);else if(t===Dr)x.blockSetState=l.blockSetState,x.blockCommands=l.blockCommands,x.setStateButton=l.setStateButton,x.handleEvent=i,x.getAdditionalDataForControl=u,x.blockLoadParameters=void 0===l.blockLoadParameters||l.blockLoadParameters,x.blockSelectScheme=l.blockSelectScheme,x.selectSchemeDropdown=l.selectSchemeDropdown,s&&(x.selectedScheme=s.__wf_selectedscheme),x.schemes=g&&g.schemes||[],r&&void 0!==r[l.key]&&(x.error=r[l.key]),c&&(x.commands=[{value:"approve",text:"Approve",type:1},{value:"back",text:"Back",type:2}],x.states=[{value:"draft",text:"Draft"},{value:"state1",text:"State 1"},{value:"state2",text:"State 2"},{value:"state3",text:"State 3"},{value:"finish",text:"Finish"}],x.schemes=[]),A=U.a.createElement(Dr,x);else if(t===Se){if(x.style&&"flex"===l["style-display"]&&(l["style-display-horizontalalign"]&&(x.style.justifyContent=l["style-display-horizontalalign"]),l["style-display-verticalalign"]?x.style.alignItems=l["style-display-verticalalign"]:x.style.alignItems="baseline"),l.childrenView&&(x.className=(x.className?x.className+" ":"")+"dwkit-container-"+l.childrenView),o&&o["children-style-source"]){var M,I={};for(M in qr.getCustomStyle(o["children-style-source"],I),I)x.style[M]||(x.style[M]=I[M])}delete x.propertyName,A=U.a.createElement(Se,mi({},x,{children:a}))}else t===Vn?(x.slider=l.slider,x["item-visibleCondition"]=l["item-visibleCondition"],x.pageSize=l.pageSize,x.pagerType=l.pagerType,x.loadButtonLabel=l.loadButtonLabel,x.noRecordsLabel=l.noRecordsLabel,x.defaultSort=l.defaultSort,void 0!==g&&void 0!==g.filters&&void 0!==g.filters[x.key]&&(x.filter=new xt(g.filters[x.key],["*"])),x.placeholders=bi(l.placeholders),x.controlProps={readOnly:"server"===l.pagerType||d},x.model=l,x.data=s,L=x.controlProps,this.setCreateControlsProps(L,{children:a,getAdditionalDataForControl:u,disableRefs:h,uploadUrl:m,downloadUrl:y,extendedData:g,controlsToReplace:b,eventOnEdit:V,eventOnDelete:w,eventOnCopy:E,adaptiveViewType:C,handleEvent:i,externalControlList:k,externalControlRender:_,readOnlyControls:f,buildermode:c}),l.childrenView&&(x.className=(x.className?x.className+" ":"")+"dwkit-container-"+l.childrenView),A=U.a.createElement(Vn,x)):t===Xn?(x.content=n(l.content),x.isHtml=l.isHtml,A=U.a.createElement(Xn,x)):t===rt?(x.iconFiletypes=l.iconFiletypes,x.postUrl=m,x.showFiletypeIcon=l.showFiletypeIcon,x.autoProcessQueue=l.autoProcessQueue,x.addRemoveLinks=l.addRemoveLinks,A=U.a.createElement(rt,mi({},x,{additionalParams:{model:l,data:s,errors:r,children:a,handleEvent:i,parentItem:o}}))):t===bt?(x.iconFiletypes=l.iconFiletypes,x.showFiletypeIcon=l.showFiletypeIcon,x.autoProcessQueue=l.autoProcessQueue,x.useDropzone=l.useDropzone,x.columns=l.columns,x.idField=l.idField,x.useCamera=l.useCamera,x.multiple=l.multiple,x.postUrl=m,x.downloadUrl=y,A=U.a.createElement(bt,mi({},x,{additionalParams:{model:l,data:s,errors:r,children:a,handleEvent:i,parentItem:o}}))):t===Ga?(x.label=l.label,x.defaultValue=l.defaultValue,x.placeholder=l.placeholder,x.selection=l.selection,x.multiple=l.multiple,x.search=l.search,x.dataModel=l.dataModel,x.clearable=l.clearable,x.columns=l.columns,x.paging=l.paging,x.pageSize=l.pageSize,x.parentIdField=l.parentIdField,x.getAdditionalDataForControl=u,x.modalCssClass=l["style-custommodalcss"],x.fluid=l.fluid,x.disabled=l.disabled,x.handleEvent=i,void 0!==l["style-modalsource"]&&(qr.getCustomStyle(l["style-modalsource"],L={}),x.modalStyle=L),r&&void 0!==r[l.key]&&(x.error=r[l.key]),l.text&&(x.textFunc=new Function("data","return ".concat(l.text,";"))),x.parentIsForm=qr.isForm(o),A=U.a.createElement(Ga,x)):t===oi?A=U.a.createElement(oi,mi({},x,{additionalParams:{model:l,data:s,errors:r,children:a,handleEvent:i,parentItem:o,uploadUrl:m,downloadUrl:y}})):t===hr?(x.header=n(l.header),x.subheader=n(l.subheader),x.imgurl=n(l.imgurl),x.placeholders=l.placeholders,x.activeEvent=l.events&&l.events.onClick&&l.events.onClick.active,this.setCreateControlsProps(x,{data:s,buildermode:c,model:l,children:a,getFormFunc:p,getAdditionalDataForControl:u,disableRefs:h,uploadUrl:m,downloadUrl:y,extendedData:g,controlsToReplace:b,eventOnEdit:V,eventOnDelete:w,eventOnCopy:E,adaptiveViewType:C,handleEvent:i,externalControlList:k,externalControlRender:_,needCheckReplace:v,readOnly:d,readOnlyControls:f,errors:r}),A=U.a.createElement(hr,x)):((_=_||function(){if(window.DWKitFormSettings)return window.DWKitFormSettings.externalControlRender}())&&(x.parentIsForm=qr.isForm(o),A=_(e,t,{model:l,data:s,errors:r,parentItem:o,buildermode:c,children:a,handleEvent:i,getAdditionalDataForControl:u,readOnlyControls:f,readOnly:d,disableRefs:h,uploadUrl:m,downloadUrl:y,extendedData:g,controlsToReplace:b,needCheckReplace:v,eventOnEdit:V,eventOnDelete:w,eventOnCopy:E,controlProps:x,replaceControlValue:n})),A||console.error("Control is unsupported!",t,l));if(!0===l["tooltip-errordisabled"]||!r||void 0===r[l.key]||"boolean"==typeof r[l.key]||Array.isArray(r[l.key]))return l["tooltip-enabled"]?(W=""==l["tooltip-showtype"]?void 0:l["tooltip-showtype"],B=""==l["tooltip-position"]?void 0:l["tooltip-position"],K("popup",{className:l["tooltip-classname"],content:l["tooltip-content"],header:l["tooltip-header"],key:l.key+"-tooltip",trigger:A,popupOn:B,popupPosition:W})):A;var B=""==l["tooltip-errorposition"]?void 0:l["tooltip-errorposition"],W=""==l["tooltip-errorshowtype"]?void 0:l["tooltip-errorshowtype"];return K("popup",{className:"dwkit-tooltiperror",content:r[l.key],key:l.key+"-error",trigger:A,popupOn:W,popupPosition:B})}},{key:"createCollectionEditorControl",value:function(e,t,n,r){if(a=this.getControlByType(t)){var o=this.createControl(e,a,hi(hi({},n),{},{needCheckReplace:!0})),a=[];return n.buildermode?(r=U.a.createElement(Ir,{key:n.model.key+"_controlbar",model:n.model,parent:r.parentComponent,onDelete:r.eventOnDelete,onEdit:r.eventOnEdit,onCopy:r.eventOnCopy,control:o}),a.push(r),a):o}console.error("Control is unsupported!",t,e,n)}},{key:"getPlatformContainerControl",value:function(){return"div"}}]),t}());function Vi(){return(Vi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function wi(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function Ei(r){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?wi(Object(o),!0).forEach(function(e){var t,n=r;e=o[t=e],t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):wi(Object(o)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))})}return r}function _i(e){return(_i="function"==typeof Symbol&&"symbol"==Du(Symbol.iterator)?function(e){return Du(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Du(e)})(e)}function ki(){return(ki=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Ci(){return(Ci=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Oi(e){return!0===e?{}:{display:"none"}}function Si(e){return U.a.createElement(na.Dimmer,{active:!0,inverted:!0},U.a.createElement(na.Loader,e))}s("collection-checkbox",function(e){var t={};return e.props.errorFlag&&(t.className="error"),U.a.createElement(na.Checkbox,Vi({},t,{name:e.props.colName,checked:e.props.checked,readOnly:e.props.readOnly,onChange:e.me.handleChange}))}),s("collection-custom-control",function(e){var t=e.props.model;return e.props.createControl(e.props.parent,t["data-buildertype"],{model:t,data:e.props.row,errors:e.props.errorOnRow,parentItem:e.props.name,buildermode:e.props.buildermode,handleEvent:e.handleEvent,getAdditionalDataForControl:e.getAdditionalDataForControl,readOnly:e.props.readOnly,uploadUrl:e.props.uploadUrl,downloadUrl:e.props.downloadUrl,controlsToReplace:[],formData:e.props.data,adaptiveViewType:e.props.adaptiveViewType},e.props.controlBarParams)}),s("collection-date-time",function(e){return U.a.createElement(Ie,{name:e.props.colName,error:e.props.errorFlag,value:e.props.value,readOnly:e.props.readOnly,onChange:e.me.handleChange,type:e.props.type,isForm:!0})}),s("collection-dropdown",function(e){return U.a.createElement(na.Dropdown,{name:e.props.colName,multiple:e.props.multiple,placeholder:e.props.placeholder,options:e.props.options,error:e.props.errorFlag,value:e.props.value,readOnly:e.props.readOnly,onChange:e.me.handleChange,selection:!0,fluid:!0,search:!0})}),s("collection-editor",function(R){var e=R.props.columns,t=R.props.value,n=R.props.error;return R.props.collapseAll&&Array.isArray(t)&&R.applyCollapseAll(t),e&&e.length?((t={style:R.props.style,className:R.props.className,onBlur:R.props.onBlur,onClick:R.props.onClick,onFocus:R.props.onFocus,onMouseEnter:R.props.onMouseEnter,onMouseLeave:R.props.onMouseLeave}).className?t.className+=" field":t.className="field",R.props.error&&"object"!==_i(R.props.error)&&(t.className+=" error"),t.className+=" dwkit-collectioneditor-control",U.a.createElement("div",t,U.a.createElement("label",null,R.props.label),U.a.createElement("table",{className:"dwkit-collectioneditor"},U.a.createElement("tbody",null,function(e){var l=[],s=0;e.forEach(function(e){var t,n,r,o,a=void 0;"object"===_i(e)?(t=e.key,n=e.name,r=e.width,Array.isArray(e.dataList)&&(a=e.dataList)):n=t=e,re(n)&&2<=n.length&&(n=n.charAt(0).toUpperCase()+n.slice(1));var i,e=void 0;re(a)&&null!=a&&(e=t+"_datalist",i=[],a.forEach(function(e){i.push(U.a.createElement("option",{key:e,value:e}))}),o=U.a.createElement("datalist",{key:e,id:e},i)),l.push(U.a.createElement("td",{key:s,style:Ei({width:r},0==s?{display:"flex"}:{})},n,o)),s++});var t=!0!==R.props.disableAdd,n=!0!==R.props.disableCopy,e=!0!==R.props.disableDelete;return!R.props.readOnly&&(t||n||e)&&(n="Add",re(e=function(){if(window.DWKitAdminLang&&window.DWKitAdminLang.collectioneditor)return window.DWKitAdminLang.collectioneditor}())&&(n=e.add),l.push(U.a.createElement("td",{key:"btntd",className:"dwkit-collectioneditor-buttoncol"},t&&U.a.createElement("a",{key:"btnadd",className:"dwkit-btn",onClick:R.btnAdd},n)))),U.a.createElement("tr",{key:"headertr",className:"dwkit-collectioneditor-header"},l)}(e),function e(r,t,n,o,a,i){var l=R.me,s=[];if(null==t)return s;var c=t;ne(a)&&(a=0),void 0===i&&(i=""),R.props.filter&&(c=R.getFilteredItems(c,R.props.filter));for(var u=0;u<c.length;u++)if(void 0!==R.props.childrenField||!R.props.hierarchical||c[u][R.props.parentIdField]==o){var p,f=function(e,t){var n=!R.props.readOnly&&Boolean(R.props.draggable);if(n)return U.a.createElement("div",{draggable:n,onDragStart:R.onDragStart.bind(R.me,t,e),onDragEnd:R.onDragEnd.bind(R.me,t,e),onDragOver:R.onDragOver.bind(R.me),onDrop:R.onDrop.bind(R.me,t,e),key:"celldrag",className:"dwkit-collectioneditor-action"},U.a.createElement(na.Icon,{onClick:R.onExpand.bind(R.me,t,!1),name:"ellipsis vertical"}))}(c,u),d=void 0,h=void 0,m=c[u][R.props.idField]||c[u].__id||u;R.props.hierarchical&&(V=void 0,b=i+String(u+"_"),oe(R.props.parentIdField)?oe(p=c[u][R.props.idField]||c[u].__id)&&0<(h=e(r,t,n,p,a+1,b)).length&&(ne(p=R.state.expanded[i+u])||p?V=U.a.createElement("img",{onClick:R.onExpand.bind(R.me,i+u,!1),className:"dwkit-collectioneditor-imgbutton-collapse"}):(V=U.a.createElement("img",{onClick:R.onExpand.bind(R.me,i+u,!0),className:"dwkit-collectioneditor-imgbutton-expand"}),h=void 0)):Array.isArray(c[u][R.props.childrenField])&&0<c[u][R.props.childrenField].length?0<(h=e(r,c[u][R.props.childrenField],n,void 0,a+1,b)).length&&(ne(v=R.state.expanded[i+u])||v?V=U.a.createElement("img",{onClick:R.onExpand.bind(R.me,i+u,!1),className:"dwkit-collectioneditor-imgbutton-collapse"}):(V=U.a.createElement("img",{onClick:R.onExpand.bind(R.me,i+u,!0),className:"dwkit-collectioneditor-imgbutton-expand"}),h=void 0)):V=U.a.createElement("img",{style:{opacity:0},className:"dwkit-collectioneditor-imgbutton-collapse"}),d=U.a.createElement("div",{className:"dwkit-collectioneditor-action"},V));var y=[],g=void 0;Array.isArray(n)&&0<n.length&&(void 0!==n[0].__id&&null!==n[0].__id?function(){var t=c[u].__id;void 0!==t&&null!=t&&(g=n.find(function(e){return e.__id===t}))}():g=n[u]);for(var b,v,V,w=0;w<r.length;w++){var E=void 0,_=R.props.readOnly?"":"input",k=void 0,C=void 0,O=void 0;"object"===_i(r[w])?(E=r[w].key,_=r[w].control,C=r[w].customControl,Array.isArray(r[w].dataList)&&(k=E+"_datalist"),Array.isArray(r[w].options)&&(O=r[w].options)):E=r[w];var S=void 0;re(g)&&(S=Boolean(g[E]));var A={};0===w&&(f||R.props.hierarchical)&&(A.display="flex");var x,P,D,L,j=void 0;"checkbox"===_?j=U.a.createElement(F,{key:m+"_"+w,row:c[u],handleChange:R.handleChange,colName:E,checked:c[u][E],errorFlag:S,readOnly:R.props.readOnly}):"span"===_?(A.verticalAlign="middle",j=U.a.createElement("span",{key:m+"_"+w,name:E},c[u][E])):"number"===_?(x=null===c[u][E]||void 0===c[u][E]?"":c[u][E],x={name:E,type:"number",error:S,value:x,readOnly:R.props.readOnly},j=U.a.createElement(I,{key:m+"_"+w,row:c[u],inputProps:x,handleChange:R.handleChange})):"date"===_?(x=null===c[u][E]||void 0===c[u][E]?"":c[u][E],j=U.a.createElement(N,{key:m+"_"+w,row:c[u],colName:E,value:x,errorFlag:S,readOnly:R.props.readOnly,handleChange:R.handleChange,type:"date"})):"datetime"===_?(P=null===c[u][E]||void 0===c[u][E]?"":c[u][E],j=U.a.createElement(N,{key:m+"_"+w,row:c[u],colName:E,value:P,errorFlag:S,readOnly:R.props.readOnly,handleChange:R.handleChange,type:"datetime"})):"dropdown"===_?(P=null==c[u][E]?r[w].multiple?[]:"":c[u][E],j=U.a.createElement(M,{key:m+"_"+w,row:c[u],colName:E,multiple:r[w].multiple,placeholder:r[w].placeholder,errorFlag:S,value:P,options:O,readOnly:R.props.readOnly,handleChange:R.handleChange})):"file"===_||"file2"===_?(O=null===c[u][E]||void 0===c[u][E]?"":c[u][E],j=U.a.createElement(B,{key:m+"_"+w,row:c[u],colName:E,errorFlag:S,value:O,readOnly:R.props.readOnly,handleChange:R.handleChange,downloadUrl:R.props.downloadUrl,uploadUrl:R.props.uploadUrl,control:_,additionalData:r[w].additionalData})):"camera"===_?(D=null===c[u][E]||void 0===c[u][E]?"":c[u][E],j=U.a.createElement(z,{key:m+"_"+w,row:c[u],colName:E,errorFlag:S,value:D,readOnly:R.props.readOnly,handleChange:R.handleChange,downloadUrl:R.props.downloadUrl,uploadUrl:R.props.uploadUrl,control:_,additionalData:r[w].additionalData})):"signature"===_?(D=null===c[u][E]||void 0===c[u][E]?"":c[u][E],j=U.a.createElement(Y,{key:m+"_"+w,row:c[u],colName:E,errorFlag:S,value:D,readOnly:R.props.readOnly,handleChange:R.handleChange,downloadUrl:R.props.downloadUrl,uploadUrl:R.props.uploadUrl,control:_,additionalData:r[w].additionalData})):"custom"===_?C?function(){var e=c[u][E]||"",t={},n=Ei(Ei({},t=r[w].customControlGetPropsFunc?r[w].customControlGetPropsFunc(c[u]):t),{},{key:m+"_"+w,name:E,error:S,value:e,colName:E,row:c[u],readOnly:R.props.readOnly,onChange:function(e,t){l.handleChange(n.row,e,t)}});j=U.a.createElement(C,n)}():re(R.props.placeholders)&&Array.isArray(R.props.placeholders[E])&&0<R.props.placeholders[E].length?(_=R.props.placeholders[E][0])&&(L=c[u],void 0!==_.propertyName&&""!==_.propertyName||(_.propertyName=E),A.position="relative",j=U.a.createElement(T,{key:m+"_"+w,model:_,parent:R.me,row:L,errorOnRow:g,name:R.props.name,buildermode:R.props.buildermode,handleChange:R.handleChange,handleEvent:R.props.handleEvent,getAdditionalDataForControl:R.props.getAdditionalDataForControl,readOnly:R.props.readOnly,uploadUrl:R.props.uploadUrl,downloadUrl:R.props.downloadUrl,data:R.props.data,adaptiveViewType:R.props.adaptiveViewType,controlBarParams:R.props.controlBarParams,createControl:R.props.createControl})):R.props.buildermode&&R.props.createBuilderDropzone&&(j=R.props.createBuilderDropzone(R.props.name,R.props.name,void 0,E,E)):(L=null===c[u][E]||void 0===c[u][E]?"":c[u][E],L={name:E,list:k,error:S,value:L,readOnly:R.props.readOnly},j=U.a.createElement(I,{key:m+"_"+w,row:c[u],inputProps:L,handleChange:R.handleChange})),0===w?(a&&(A.paddingLeft=String(15*a+5)+"px"),y.push(U.a.createElement("td",{key:m+"_"+w+"td",style:A},d,f,j))):y.push(U.a.createElement("td",{key:m+"_"+w+"td",style:A},j))}R.props.readOnly||(b=!R.props.disableAdd,v=!R.props.disableCopy,V=!R.props.disableDelete,(b||v||V)&&(R.props.hierarchical?y.push(U.a.createElement("td",{key:"celldelete",className:"dwkit-collectioneditor-cellbtn"},U.a.createElement("div",{className:"field"},b&&U.a.createElement(na.Icon,{key:"addchild",onClick:R.btnAddChild.bind(R.me,u,c),link:!0,name:"add"}),v&&U.a.createElement(na.Icon,{key:"copy",onClick:R.btnCopy.bind(R.me,u,c),link:!0,name:"copy"}),V&&U.a.createElement(na.Icon,{key:"delete",onClick:R.btnDelete.bind(R.me,u,c),link:!0,name:"delete"})))):y.push(U.a.createElement("td",{key:"celldelete",className:"dwkit-collectioneditor-cellbtn"},U.a.createElement("div",{className:"field"},v&&U.a.createElement(na.Icon,{key:"copy",onClick:R.btnCopy.bind(R.me,u,void 0),link:!0,name:"copy"}),V&&U.a.createElement(na.Icon,{key:"delete",onClick:R.btnDelete.bind(R.me,u,void 0),link:!0,name:"delete"})))))),s.push(U.a.createElement("tr",{key:i+m,className:"dwkit-collectioneditor-row","data-rowindex":u},y)),s=s.concat(h)}return s}(e,R.state.data,n))))):U.a.createElement("div",null,"Fill columns property!")}),s("collection-input",function(e){return U.a.createElement(na.Input,ki({},e.props.inputProps,{onChange:e.me.handleChange}))}),s("collection-upload",function(e){return U.a.createElement(Cr,{name:e.props.colName,error:e.props.errorFlag,value:e.props.value,readOnly:e.props.readOnly,onChange:e.me.handleChange,downloadUrl:e.props.downloadUrl,uploadUrl:e.props.uploadUrl,additionalData:e.props.additionalData,additionalDataContext:e.props.row,isForm:!0,hideClearButton:"file2"===e.props.control})}),s("collection-camera",function(e){return U.a.createElement(te,{name:e.props.colName,error:e.props.errorFlag,value:e.props.value,readOnly:e.props.readOnly,onChange:e.me.handleChange,downloadUrl:e.props.downloadUrl,uploadUrl:e.props.uploadUrl,additionalData:e.props.additionalData,additionalDataContext:e.props.row,compact:!0,showPreview:!0,hideClear:!0,fluid:!0,isForm:!0,compression:.75})}),s("collection-signature",function(e){return U.a.createElement(Yn,{name:e.props.colName,error:e.props.errorFlag,value:e.props.value,readOnly:e.props.readOnly,onChange:e.me.handleChange,downloadUrl:e.props.downloadUrl,uploadUrl:e.props.uploadUrl,additionalData:e.props.additionalData,additionalDataContext:e.props.row,compact:!0,showPreview:!0,fluid:!0,isForm:!0})}),s("breadcrumb",function(e){for(var t=[],n=0;n<e.children.length;n++){var r=e.children[n];r.isDivider?t.push(U.a.createElement(na.Breadcrumb.Divider,r.dividerProps)):t.push(U.a.createElement(na.Breadcrumb.Section,r.childProps,r.text))}return U.a.createElement(na.Breadcrumb,Ci({},e.propsControl,{children:t}))}),s("builder-dropzone",function(t){return U.a.createElement(Oo.Consumer,null,function(e){return e=e.visible,U.a.createElement(na.Popup,{trigger:U.a.createElement("div",{name:t.key,key:t.key,elementafter:t.elementAfter,elementtoinsert:t.elementToInsert,placeholderkey:t.placeholderKey,className:"dwkit-formbuilder-zone",style:Oi(e)},t.text),onClose:t.onClosePopup,content:U.a.createElement(na.TextArea,{rows:"10",width:"200px",onChange:t.onChangeDZ,placeholder:"Insert a model control"}),on:"click"})})}),s("button",function(e){return e.propsControl.link?(e.propsControl.style.cursor="pointer",U.a.createElement("a",e.propsControl,e.propsControl.content)):e.propsControl.isForm?U.a.createElement(na.Form.Button,e.propsControl):U.a.createElement(na.Button,e.propsControl)});var Ai=n(13),xi=function(e){return U.a.createElement("div",e,e.children,e.isLoading&&U.a.createElement(Si,null))};function Pi(e){return(Pi="function"==typeof Symbol&&"symbol"==Du(Symbol.iterator)?function(e){return Du(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Du(e)})(e)}function Di(e,t){return(Di=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Li(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ji(e){return(ji=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ri(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Fi="image/png",Ti="signature-image",Ni=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Di(e,t)}(o,U.a.Component);var n,r,t=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=ji(n),t=r?(t=ji(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Pi(t)&&"function"!=typeof t?Li(e):t});function o(e){var a;return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),Ri(Li(a=t.call(this,e)),"labels",function(){return a.props.compact?{}:{open:a.props.openLabel||"Open",clear:a.props.clearLabel||"Clear"}}),Ri(Li(a),"load",function(r){var e=Li(a).props,t=e.value,o=new XMLHttpRequest;o.open("POST",e.downloadUrl+t,!0),o.responseType="arraybuffer",o.onload=function(){var e=Ti,t=o.getResponseHeader("Content-Disposition");!t||-1===t.indexOf("attachment")||(n=/filename[^;=\n]*=((['"]).*?\2|[^;\n]*)/.exec(t))&&n[1]&&(e=n[1].replace(/['"]/g,""));var n=o.response;n.filename=e,n=URL.createObjectURL(new Blob([n],{type:Fi})),a.setState({image:n,loading:!1}),r&&r(n)},o.send(null)}),Ri(Li(a),"download",function(e){e.preventDefault(),a.load(function(e){var t=document.createElement("a");t.setAttribute("href",window.URL.createObjectURL(new Blob([e],{type:Fi}))),t.setAttribute("download",e.filename||"unknown"),document.body.appendChild(t),t.onclick=function(){document.body.removeChild(t)},t.click()})}),Ri(Li(a),"clear",function(){a.props.clear(),a.setState({image:null})}),Ri(Li(a),"openFullscreen",function(){var e=Li(a).state;e.image?window.open(e.image):a.load(function(e){window.open(e)})}),Ri(Li(a),"preview",function(){var e=(t=Li(a)).props,t=t.state;return e.showPreview&&U.a.createElement(xi,{isLoading:t.loading,className:"image-uploaded-preview"+(e.compact?" compact":""),onClick:a.openFullscreen},e.compact?U.a.createElement(na.Image,{rounded:!0,src:t.image,className:"compact-image-preview signature"}):U.a.createElement("img",{src:t.image,className:"image-preview"}))}),a.state={image:null,loading:!!e.showPreview},e.value&&e.showPreview&&a.load(),a}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(o.prototype,[{key:"componentDidUpdate",value:function(e){var t=this.props;t.value!==e.value&&(t.value?t.showPreview&&this.load():this.setState({image:null}))}},{key:"render",value:function(){var e=this.props,t=(this.state,this.labels);return U.a.createElement("div",{style:{display:"flex",flexDirection:e.showPreview&&!e.compact?"column":"row"}},e.showPreview?this.preview():U.a.createElement(na.Button,{content:t().open,onClick:this.openFullscreen,icon:"zoom-in",fluid:!e.compact}),!e.hideClear&&U.a.createElement(na.Button,{onClick:this.clear,content:t().clear,icon:"cancel",fluid:!e.compact}))}}]),o}(),Mi=function(e,t,n){var e=function(e){for(var t=atob(e.split(",")[1]),n=e.split(",")[0].split(":")[1].split(";")[0],e=new ArrayBuffer(t.length),r=new Uint8Array(e),o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return new Blob([e],{type:n})}(e),r=new FormData,e=new File([e],"file",{type:"image/jpeg"});r.append("data",e),r.append("name","photo"),window.$.ajax({url:t,type:"POST",processData:!1,contentType:!1,dataType:"json",data:r,success:function(e){n(r,e)}})};function Ii(e){return(Ii="function"==typeof Symbol&&"symbol"==Du(Symbol.iterator)?function(e){return Du(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Du(e)})(e)}function Bi(){return(Bi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Wi(e,t){return(Wi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ui(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ki(e){return(Ki=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function zi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Gi=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wi(e,t)}(o,U.a.Component);var n,r,t=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Ki(n),t=r?(t=Ki(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Ii(t)&&"function"!=typeof t?Ui(e):t});function o(e){var r;return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),zi(Ui(r=t.call(this,e)),"labels",function(){return{takeShot:r.props.compact?"":r.props.shotLabel||"Take shot",openImage:r.props.compact?"":r.props.openImageLabel||"Open image",reset:r.props.resetLabel||"Reset",upload:r.props.uploadLabel||"Upload",cancel:r.props.cancelLabel||"Cancel"}}),zi(Ui(r),"showCameraModal",function(){r.setState({open:!0,dataUrl:null})}),zi(Ui(r),"openImageDialog",function(){var n=document.createElement("input");n.setAttribute("type","file"),n.style.opacity=0,n.setAttribute("accept","image/*"),n.setAttribute("multiple",!1),document.body.appendChild(n),n.onchange=function(e){var e=e.target.files[0],t=new FileReader;t.onload=function(){r.upload(t.result)},t.readAsDataURL(e),document.body.removeChild(n)},n.click()}),zi(Ui(r),"cancel",function(){r.setState({open:!1,dataUrl:null})}),zi(Ui(r),"clear",function(){r.setState({dataUrl:null})}),zi(Ui(r),"upload",function(e){var n=Ui(r).props;Mi(r.state.dataUrl||e,n.uploadUrl,function(e,t){n.onUpload(e,t)}),r.setState({open:!1})}),zi(Ui(r),"onTakePhoto",function(e){r.setState({dataUrl:e})}),r.state={open:!1,dataUrl:null},r}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(o.prototype,[{key:"render",value:function(){var e=this.props,t=this.state,n=this.labels;return e.value?U.a.createElement(Ni,Bi({},e,{clear:e.onClear})):U.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},U.a.createElement(na.Modal,{open:this.state.open},U.a.createElement(na.Modal.Content,null,t.dataUrl?U.a.createElement("div",{className:"react-html5-camera-photo"},U.a.createElement("img",{src:t.dataUrl,className:"image-preview"}),U.a.createElement(na.Button,{fluid:!0,content:n().reset,className:"ui button",onClick:this.clear,icon:"cancel"})):U.a.createElement(Ai.Camera,{onTakePhotoAnimationDone:this.onTakePhoto,isFullscreen:!1,idealFacingMode:Ai.FACING_MODES.ENVIRONMENT,imageType:Ai.IMAGE_TYPES.JPG,imageCompression:parseFloat(e.compression)||1,isMaxResolution:!0,isImageMirror:!0})),U.a.createElement(na.Modal.Actions,null,U.a.createElement(na.Button,{className:"buttontype1",content:n().upload,src:t.dataUrl,download:!0,onClick:this.upload,icon:"check",disabled:!t.dataUrl}),U.a.createElement(na.Button,{className:"buttontype2",content:n().cancel,onClick:this.cancel}))),U.a.createElement(na.Button,{content:n().takeShot,basic:!0,fluid:!!e.compact,onClick:this.showCameraModal,icon:"photo"}),U.a.createElement(na.Button,{content:n().openImage,basic:!0,fluid:!!e.compact,onClick:this.openImageDialog,icon:"folder"}))}}]),o}();s("camera",function(e){var t=e.props,n=t.compact&&t.showPreview?{minWidth:160}:{};return U.a.createElement("div",{className:"field",style:n},e.props.label&&U.a.createElement("label",null,e.props.label),U.a.createElement(Gi,Bi({},t,{onUpload:e.onUpload,onClear:e.onClear})))}),s("chart-view",function(e){var t=e.props.style,n=re(e.props.width)?e.props.width:"400px";re(t.width)&&(n=t.width);var r=re(e.props.height)?e.props.height:"300px";re(t.height)&&(r=t.height),e.state.width===n&&e.state.height===r||!re(e.state.chart)||(e.state.chart.destroy(),e.state.chart=void 0),e.state.width=n,e.state.height=r;var o="field";return re(e.props.className)&&(o+=" "+e.props.className),U.a.createElement("div",{className:o,style:t},U.a.createElement("canvas",{id:e.divId,width:n,height:r}))}),s("chart-view-redraw-chart",function(e){if(re(e.state.chart)&&(e.state.chart.destroy(),e.state.chart=void 0),ne(e.state.chart)){var t=document.getElementById(e.divId).getContext("2d"),n=e.chartData,r=void 0;if(re(n)&&Array.isArray(n.datasets)){var o=[];if(n.datasets.forEach(function(e){re(e.yAxisID)&&null!=e.yAxisID&&(o.includes(e.yAxisID)||o.push(e.yAxisID))}),0<o.length)for(var r=[],a=0;a<o.length;a++)a?r.push({type:"linear",display:!0,position:"right",id:o[a],gridLines:{drawOnChartArea:!1}}):r.push({type:"linear",display:!0,position:"left",id:o[a]})}n={type:e.props.chartType,data:n,options:{responsive:Boolean(e.props.responsive),legend:{position:e.props.legendPosition},title:{fontSize:ne(e.props.titleSize)?14:e.props.titleSize,display:oe(e.props.title),text:e.props.title}}},re(r)&&(n.options.scales={yAxes:r}),e.state.chart=new Chart(t,n)}else e.state.chart.update()}),s("checkbox",function(e){return e.isForm?U.a.createElement(na.Form.Checkbox,e.propsControl):U.a.createElement(na.Checkbox,e.propsControl)}),s("container",function(e){return U.a.createElement("div",e.props)}),s("control-bar",function(i){function l(){var e=sa()(".dwkit-formbuilder-zone");e.removeClass("dwkit-formbuilder-zone-active"),e.removeClass("dwkit-formbuilder-zone-select"),e.off()}return i.me.updateBarPosition=function(){var e,t,n,r;i.me.controlRef&&i.me.controlRef.current&&i.me.barRef&&i.me.barRef.current&&(r=Fa.a.findDOMNode(i.me.controlRef.current),e=Fa.a.findDOMNode(i.me.barRef.current),t=sa()(r).position(),n=r.getBoundingClientRect(),r=e.getBoundingClientRect(),n=t.left+n.width-r.width,r=t.top-r.height/2,e.style.transform="translate3d("+(n=(n=n<15?15:n)<15?15:n)+"px, "+r+"px, 0)")},U.a.createElement(Oo.Consumer,null,function(e){return e=e.visible,e=U.a.createElement("div",{ref:i.me.barRef,className:"dwkit-formbuilder-item-toolbar-container",style:Oi(e)},U.a.createElement("div",{key:"bar",className:"dwkit-formbuilder-item-toolbar-header",onMouseOver:function(e){var t=void 0;(t=i.me.controlRef.current?Fa.a.findDOMNode(i.me.controlRef.current):t)&&sa()(t).addClass("dwkit-formbuilder-item-selected")}.bind(i.me),onMouseLeave:function(e){var t=void 0;(t=i.me.controlRef.current?Fa.a.findDOMNode(i.me.controlRef.current):t)&&sa()(t).removeClass("dwkit-formbuilder-item-selected")}.bind(i.me)},U.a.createElement("div",{className:"dwkit-formbuilder-item-toolbar-header-buttons"},U.a.createElement("div",{className:"dwkit-formbuilder-item-toolbar-header-title",title:i.props.text,onDoubleClick:i.onCopyControl},i.props.model.key),U.a.createElement(na.Icon,{key:"move",draggable:!0,onDragStart:function(e,t){var n,r,o,a=".dwkit-formbuilder-zone";t.dataTransfer.setData("text",""),this.controlRef.current&&(r=(n=Fa.a.findDOMNode(this.controlRef.current)).getBoundingClientRect(),t.dataTransfer.setDragImage(n,r.width/2,0)),re(e.forContainerType)&&(r=e.forContainerType.split(","),o="",r.forEach(function(e){0<o.length&&(o+=","),o+="[data-buildertype='"+e+"'] > "+a}),a=o),sa()(a).addClass("dwkit-formbuilder-zone-active").on("dragenter",function(e,t,n){sa()(n.target).addClass(t)}.bind(i.me,e,"dwkit-formbuilder-zone-select")).on("dragleave",function(e,t,n){sa()(n.target).removeClass(t)}.bind(i.me,e,"dwkit-formbuilder-zone-select")).on("dragover",function(e){e.preventDefault()}).on("drop",function(e,t){return 0<(t=sa()(t.target)).length&&jr.move(e.key,t[0]),l(),!1}.bind(i.me,e))}.bind(i.me,i.props.model),onDragEnd:l.bind(i.me,i.props.model),link:!0,name:"move"}),U.a.createElement(na.Icon,{key:"edit",onClick:i.me.props.onEdit.bind(i.props.parent,i.props.model),link:!0,name:"edit"}),U.a.createElement(na.Icon,{key:"copy",onClick:i.me.props.onCopy.bind(i.props.parent,i.props.model),link:!0,name:"copy"}),U.a.createElement(na.Icon,{key:"delete",onClick:i.me.props.onDelete.bind(i.props.parent,i.props.model),link:!0,name:"delete"})))),[U.a.cloneElement(i.props.control,{ref:i.me.controlRef}),e]})});var qi=n(19),Hi=n.n(qi);function Yi(){return(Yi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Ji(){return(Ji=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Qi(){return(Qi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}s("date-picker",function(e){var t=U.a.createElement(Hi.a,Yi({},e.datePickerProps,{peekNextMonth:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",isClearable:!e.props.readOnly,placeholderText:e.placeholder,selected:e.date,onChange:e.onChange,onChangeRaw:e.handleChangeRaw}));return!e.props.labelPosition||e.props.isForm?(e.controlProps.className?e.controlProps.className+=" field":e.controlProps.className="field",e.props.error&&(e.controlProps.className+=" error"),e.props.readOnly&&(e.controlProps.className+=" datepicker-readonly"),U.a.createElement("div",e.controlProps,re(e.props.label)&&U.a.createElement("label",null,e.props.label),U.a.createElement("div",{"data-buildertype":e.props.type},t))):(e.controlProps.className?e.controlProps.className+=" ui fluid labeled input":e.controlProps.className="ui fluid labeled input",e.props.error&&(e.controlProps.className+=" error"),e.props.readOnly&&(e.controlProps.className+=" datepicker-readonly"),U.a.createElement("div",Yi({},e.controlProps,{"data-buildertype":e.props.type}),re(e.props.label)&&U.a.createElement("div",{className:"ui label label"},e.props.label),t))}),s("dictionary",function(e){return U.a.createElement(na.Form.Dropdown,Ji({},e.propsControl,{error:re(e.propsControl.error)}))}),s("dropdown",function(e){return U.a.createElement(na.Form.Dropdown,e.propsControl)}),s("dropdown-trigger",function(e){return e.controlProps.trigger=U.a.createElement("span",null,re(e.props.imageUrl)&&U.a.createElement(na.Image,{avatar:!0,src:e.props.imageUrl}),re(e.props.value)?e.props.value:e.props.defaultValue),U.a.createElement(na.Dropdown,Qi({},e.controlProps,{onMouseDown:e.onMouseDown}))});var $i=n(20),Xi=n.n($i);function Zi(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function el(r){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?Zi(Object(o),!0).forEach(function(e){var t,n=r;e=o[t=e],t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):Zi(Object(o)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))})}return r}function tl(){return(tl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function nl(){return(nl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function rl(){return(rl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}s("dropzone",function(e){var t=e.props.readOnly?U.a.createElement("div",null):U.a.createElement(Xi.a,{config:e.componentConfig,eventHandlers:e.eventHandlers,djsConfig:e.djsConfig});return e.isForm?U.a.createElement("div",{className:"field"},t):t}),s("edit-form",function(e){if(ne(e.state.item))return U.a.createElement("div",null);var t=e.dwKitControls.getEditControlByType(e.state.item["data-buildertype"],e.props.externalControlList);if(!t)return o="Close",re(e.props.localization)&&(o=e.props.localization.base.closebutton),U.a.createElement(na.Modal,{open:e.state.open,onClose:e.onClose},U.a.createElement(na.Modal.Header,null,"Error"),U.a.createElement(na.Modal.Content,null,U.a.createElement("p",null,"EditForm is not found for this control!")),U.a.createElement(na.Modal.Actions,null,U.a.createElement(na.Button,{onClick:e.onClose},o)));var n="OK",r="Cancel",o="Question";return re(e.props.localization)&&(n=e.props.localization.base.okbutton,r=e.props.localization.base.cancelbutton,o=e.props.localization.base.questiontitle),U.a.createElement("div",null,U.a.createElement(t,{key:"editform",data:e.state.item,parent:e.parent,open:e.state.open,onSave:e.onSave,onClose:e.onClose,actions:e.props.actions,className:"dwkit-formbuilder-editform",localization:e.props.localization}),U.a.createElement(na.Modal,{size:"small",open:e.state.confirm,dimmer:"inverted",onClose:e.confirmHandleCancel},U.a.createElement(na.Modal.Header,null,o),U.a.createElement(na.Modal.Content,null,U.a.createElement("p",null,e.state.confirmtext)),U.a.createElement(na.Modal.Actions,null,U.a.createElement(na.Button,{className:"buttontype1",onClick:e.state.confirmHandle},n),U.a.createElement(na.Button,{className:"buttontype2",onClick:e.confirmHandleCancel},r))))}),s("empty",function(e){return U.a.createElement("div",{className:"dwkit-formbuilder-empty",key:e.key},e.text)}),s("events-editor",function(o){var a=o.props.data,e=o.props.events,i=[];return e.forEach(function(e){var t=re(a)?a[e]:{},n={element:na.Form.Dropdown,props:{className:"dwkit-action-dropdown",multiple:!0,search:!0,selection:!0,allowAdditions:!0}},r={element:_e,props:{className:"parameters-editor",multiple:!0,search:!0,selection:!0,allowAdditions:!0}};i.push(U.a.createElement("div",{key:e+"_events"},U.a.createElement(na.Form.Checkbox,{className:t.active?"events-editor-checkbox":"",width:3,key:"active",label:e,name:"active",checked:t.active,onChange:o.me.handleChange.bind(o.me,e)}),U.a.createElement("div",{className:"events-editor-block",style:t.active?{}:{display:"none"}},U.a.createElement(_e,{draggable:!0,columns:[{key:"actions",name:"Actions",control:"custom",customControl:n.element,customControlGetPropsFunc:function(e){return el({options:o.actionOptions,value:e.actions},n.props)}},{key:"parameters",name:"Parameters",control:"custom",customControl:r.element,customControlGetPropsFunc:function(e){return el({value:e.parameters,columns:[{key:"name",name:"Name"},{key:"value",name:"Value"}]},r.props)}},{key:"targets",name:"Targets",control:"custom",customControl:n.element,customControlGetPropsFunc:function(e){return el({options:o.targetOptions,value:e.targets},n.props)}}],name:"triggers",className:"events-editor",value:t.triggers,onChange:o.me.handleChange.bind(o.me,e)}),U.a.createElement(na.Button,{onClick:o.me.initNewTrigger.bind(o.me,e),basic:!0,size:"mini",style:{width:"calc(100% - 70px)",marginLeft:20,fontWeight:900,padding:4,fontSize:19}},"+"))))}),U.a.createElement("div",null,i)}),s("files",function(t){return U.a.createElement("div",null,U.a.createElement(_e,tl({disableAdd:!0,disableCopy:!0},t.editorProps)),function(){if(t.props.readOnly)return null;if(t.props.useDropzone){var e={iconFiletypes:t.props.iconFiletypes,postUrl:t.props.postUrl,showFiletypeIcon:t.props.showFiletypeIcon,autoProcessQueue:t.props.autoProcessQueue,additionalParams:t.props.additionalParams,onSuccess:t.onDropzoneUploadSuccess,onFail:t.onDropzoneUploadFail};return U.a.createElement(rt,tl({addRemoveLinks:!0},e))}return t.props.useCamera&&(t.editorProps.columns.find(function(e){return"file2"==e.control}).control="camera"),e={uploadUrl:t.props.postUrl,downloadUrl:t.props.downloadUrl,readOnly:t.props.readOnly,onlyImages:t.props.useCamera,multiple:t.props.multiple,onChange:t.onUploadChange,onUploadFail:t.onUploadFail},U.a.createElement(Cr,tl({isForm:!0},e))}())}),s("form",function(e){return U.a.createElement(na.Form,nl({},e.propsControl,{children:e.children,size:e.model.size}))}),s("formgroup",function(e){var t=e.widths;return"custom"===t&&(t=e.widthsCustom),"grouped"==e.orientation&&(e.propsControl[e.orientation]=!0),"field"==e.orientation?U.a.createElement(na.Form.Field,rl({},e.propsControl,{children:e.children})):U.a.createElement(na.Form.Group,rl({},e.propsControl,{widths:t,children:e.children}))}),s("checkbox-formatter",function(e){return e=Boolean(e.props.value),U.a.createElement(na.Checkbox,{checked:e,disabled:!0})}),s("number-formatter",function(e){return e=e.props.value,U.a.createElement("span",{style:{textAlign:"right"}},U.a.createElement("div",{title:e},e))}),s("date-formatter",function(e){return U.a.createElement("span",{style:{textAlign:"right"}},U.a.createElement("div",{title:e.strValue},e.strValue))}),s("datetime-formatter",function(e){return U.a.createElement("span",{style:{textAlign:"right"}},U.a.createElement("div",{title:e.strValue},e.strValue))}),s("time-formatter",function(e){return U.a.createElement("span",{style:{textAlign:"right"}},U.a.createElement("div",{title:e.strValue},e.strValue))});var ol=n(17),al=n.n(ol);function il(){return(il=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ll(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}var sl=Object(ol.WidthProvider)(al.a);s("grid-layout",function(l){var e=function(t){var o=l.me,a=[],i=void 0;if(!l.props.buildermode)try{i=JSON.parse(l.getCookie(window.location.pathname+"_"+l.props.name))}catch(e){}if(Array.isArray(t))for(var e=0;e<t.length;e++)!function(e){var n=t[e];if(void 0!==n.visibleCondition&&null!==n.visibleCondition&&""!==n.visibleCondition){e="return "+n.visibleCondition;try{if(!new Function("",e)())return}catch(e){}}var r=!1;re(i)&&i.forEach(function(e){var t;e.i==n.psid&&(r=!0,t=function(r){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?ll(Object(o),!0).forEach(function(e){var t,n=r;e=o[t=e],t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):ll(Object(o)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))})}return r}({},n),o.props.draggable&&(t.x=e.x,t.y=e.y),o.props.resizable&&(t.w=e.w,t.h=e.h),a.push(o.renderPanel(t)))}),r||a.push(function(e){var t,n=void 0;re(l.props.placeholders)&&Array.isArray(l.props.placeholders[e.psid])&&0<l.props.placeholders[e.psid].length?(r=l.props.placeholders[e.psid])&&(n=l.props.createControls(l.me,{model:r,parentPlaceholder:e.psid,buildermode:l.props.buildermode,data:l.props.data,errors:l.props.errors,parentItem:l.props.model,children:l.props.children,handleEvent:l.props.handleEvent,getFormFunc:l.props.getFormFunc,getAdditionalDataForControl:l.props.getAdditionalDataForControl,readOnlyControls:l.props.readOnlyControls,readOnly:l.props.readOnly,disableRefs:l.props.disableRefs,uploadUrl:l.props.uploadUrl,downloadUrl:l.props.downloadUrl,extendedData:l.props.extendedData,controlsToReplace:l.props.controlsToReplace,needCheckReplace:l.props.needCheckReplace,eventOnEdit:l.props.eventOnEdit,eventOnDelete:l.props.eventOnDelete,eventOnCopy:l.props.eventOnCopy,adaptiveViewType:l.props.adaptiveViewType}),t=e.psid,l.props.buildermode&&l.props.createBuilderDropzone&&(0<n.length&&0<r.length&&n.unshift(l.props.createBuilderDropzone(t+"layout_dropzone_header",l.props.name,void 0,e.title,e.psid)),n.push(l.props.createBuilderDropzone(t+"layout_dropzone_footer",l.props.name,r[r.length-1].key,e.title,e.psid)))):l.props.buildermode&&l.props.createBuilderDropzone&&(n=l.props.createBuilderDropzone("layout_dropzone_footer",l.props.name,void 0,e.title,e.psid));var r={x:re(e.x)?e.x:0,y:re(e.y)?e.y:0,w:re(e.w)?e.w:4,h:re(e.h)?e.h:4,i:e.psid};return U.a.createElement("div",{key:e.psid,className:e.cssclass,"data-grid":r},e.title&&U.a.createElement("div",{className:"react-grid-item-title"},e.title),n)}(n))}(e);return a}(l.props["data-panes"]),t={isDraggable:!0,isResizable:!0,cols:oe(l.props.cols)?l.props.cols:12,rowHeight:30,containerPadding:[0,0],draggableCancel:"input,textarea"};l.props.buildermode||(t.isDraggable=l.props.draggable,t.isResizable=l.props.resizable);var n=l.props.className;return l.props.scroll&&(n="react-grid-scroll"),U.a.createElement("div",{className:n,style:l.props.style},U.a.createElement(sl,il({onLayoutChange:l.onLayoutChange},t),e))});var cl=n(12),ul=n.n(cl);function pl(){return(pl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function fl(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function dl(){return(dl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function hl(){return(hl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ml(){return(ml=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function yl(){return(yl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function gl(){return(gl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}s("grid-view",function(e){var t=e.props.className,n=function(r){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?fl(Object(o),!0).forEach(function(e){var t,n=r;e=o[t=e],t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):fl(Object(o)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))})}return r}({},e.props.style),r=e.gridProps;return r.columns=e.gridColumns,r.rowKey=e.props.rowKey,oe(e.props.rowHeight)&&(r.rowHeight=Number(e.props.rowHeight)),e.props.headerRowHeight&&(r.headerRowHeight=e.props.headerRowHeight),e.props.autoHeight?(n.minHeight=e.props.minHeight,oe(e.props.offSet)?n.height="calc(100vh - "+e.props.offSet+")":n.height="100vh",t=(ne(t)?"":t+" ")+"dwkit-gridview-autoHeight"):oe(e.props.minHeight)&&(r.minHeight=e.props.minHeight),e.props.multiselect&&(r.rowSelection={onRowsSelected:e.onRowsSelected,onRowsDeselected:e.onRowsDeselected,selectBy:e.selectBy}),U.a.createElement("div",{key:e.props.name,name:e.props.name,className:t,style:n},U.a.createElement(ul.a,pl({key:"grid"},r,{rowsCount:e.state.rowsCount,rowGetter:e.gridRowGetter,onRowClick:e.gridOnRowClick,onGridSort:e.handleGridSort})))}),s("header",function(e){return U.a.createElement(na.Header,dl({},e.propsControl,{textAlign:e.model.textAlign,size:e.model.size,content:e.props.content,subheader:e.props.subheader}))}),s("image",function(n){var e,t,r,o,a=n.props.src;return"string"==typeof n.props.value&&32==n.props.value.length&&(n.props.value==n.me.state.token?a=n.me.state.source:(t=function(e,t){n.me.setState({token:e,source:t})},r=(e=n).props.value,(o=new XMLHttpRequest).open("POST",e.me.props.additionalParams.downloadUrl+r,!0),o.responseType="blob",o.onload=function(){var e=new FileReader;e.onloadend=function(){t(r,this.result)},e.readAsDataURL(o.response)},o.send(null))),U.a.createElement(na.Image,hl({},n.propsControl,{avatar:n.model.avatar,bordered:n.model.bordered,centered:n.model.centered,disabled:n.model.disabled,inline:n.model.inline,href:n.props.href,src:a,floated:n.model.floated,shape:n.model.shape,spaced:n.model.spaced,verticalAlign:n.model.verticalAlign,height:n.model.height,width:n.model.width}))}),s("input",function(e){return"file"===e.propsControl.type?(e.propsControl.isForm=!e.propsControl.labelPosition||e.isForm,U.a.createElement(Cr,ml({},e.propsControl,{downloadUrl:e.props.additionalParams.downloadUrl,uploadUrl:e.props.additionalParams.uploadUrl}))):"date"===e.propsControl.type||"time"===e.propsControl.type||"datetime"===e.propsControl.type?(e.propsControl.isForm=!e.propsControl.labelPosition||e.isForm,U.a.createElement(Ie,e.propsControl)):!e.propsControl.labelPosition||e.isForm?U.a.createElement(na.Form.Input,e.propsControl):U.a.createElement(na.Input,e.propsControl)}),s("label",function(e){return U.a.createElement(na.Label,yl({},e.propsControl,{size:e.model.size,content:e.props.content,attached:e.model.attached,basic:e.model.basic,circular:e.model.circular,corner:e.model.corner,floating:e.model.floating,pointing:e.model.pointing}))}),s("menu-group",function(s){var e,t=function e(t,n){var r=[];ne(n)&&(n="");for(var o=0;o<t.length;o++){var a=t[o];if(re(a.visibleCondition)&&null!==a.visibleCondition&&""!==a.visibleCondition){var i="return "+a.visibleCondition;try{if(!new Function("",i)())continue}catch(e){}}var l=String(n)+String(o),i=U.a.createElement("span",{dangerouslySetInnerHTML:{__html:a.title}});Array.isArray(a.children)&&0<a.children.length?r.push(U.a.createElement(na.Menu.Item,{key:l},U.a.createElement(na.Menu.Header,null,i),U.a.createElement(na.Menu.Menu,null,e(a.children,l+"_")))):(i=s.props.link?U.a.createElement("a",{style:{color:"inherit"},href:a.target,onClick:s.handleItemClick2.bind(s.me,{name:a.target})},i):i,s.props.link?r.push(U.a.createElement(na.Menu.Item,{key:l,name:a.target,active:s.state.activeitem===a.target},i)):r.push(U.a.createElement(na.Menu.Item,{key:l,name:a.target,active:s.state.activeitem===a.target,onClick:s.handleItemClick},i)))}return r}(s.items),n={};for(e in s.props)"data-items"!=e&&"activeItem"!=e&&"handleEvent"!=e&&"link"!=e&&(n[e]=s.props[e]);return U.a.createElement(na.Menu,n,t)}),s("message",function(e){return U.a.createElement(na.Message,gl({},e.propsControl,{floated:e.model.floated,size:e.model.size,content:e.props.content,compact:e.model.compact,error:e.model.error,floating:e.model.floating,info:e.model.info,negative:e.model.negative,positive:e.model.positive,success:e.model.success,warning:e.model.warning,header:e.props.header}))}),s("null-control",function(e){return U.a.createElement("div",{key:e.key},e.text)});var bl=n(15),vl=n.n(bl);s("number-format",function(e){return e.propsControl.customInput=(!e.propsControl.labelPosition||e.isForm?na.Form:na).Input,U.a.createElement(vl.a,e.propsControl)}),s("popup",function(e){return U.a.createElement(na.Popup,{key:e.key,trigger:e.trigger,on:e.popupOn,position:e.popupPosition,className:e.className,header:e.header,content:e.content})}),s("radio-group",function(n){var e=n.props.items.map(function(e){var t=e.key||e.value;return U.a.createElement(na.Form.Field,{key:t+"_formfield"},U.a.createElement(na.Form.Radio,{key:t,label:e.text,name:n.props.name+"_radioGroup",value:e.value,readOnly:n.props.readOnly,checked:n.props.value===e.value,onChange:n.onChange}))},n),t=(t=n.props.className)||"";return n.props.error&&(t+=" error"),"v"===n.props.direction?U.a.createElement("div",{className:t+=" ui form",style:n.props.style},U.a.createElement("label",null,n.props.label),U.a.createElement(na.Form,null,e)):U.a.createElement("div",{className:"ui form"},U.a.createElement("div",{className:t+=" field"},U.a.createElement("label",null,n.props.label),U.a.createElement("div",{style:n.props.style},U.a.createElement(na.Form.Group,{key:"group"},e))))});var Vl=n(21),wl=n.n(Vl);function El(){return(El=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function _l(){return(_l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}s("repeater",function(l){function e(e,t,n){var r,o=l.me,a=[],i=0;return Array.isArray(e)&&0<e.length?e.forEach(function(e){re(e=s(i,e,!i&&o.props.controlProps.buildermode))&&(n?a.push(U.a.createElement("div",{key:i},e)):a.push(e)),i++}):l.props.controlProps.buildermode?re(r=s(i,{},0===i))&&(n?a.push(U.a.createElement("div",null,r)):a.push(r)):!l.state.loading&&l.isServerMode&&(!ne(r=l.props.noRecordsLabel)&&""!=r||(r="No records. Refresh..."),r=U.a.createElement("div",{key:"norecords",className:"dwkit-repeater-norecords"},U.a.createElement(na.Button,{onClick:l.loadNextPage},r)),a.push(r)),!l.state.loading&&l.isServerMode&&t>e.length&&0<e.length&&(!ne(e=l.props.loadButtonLabel)&&""!=e||(e="Load more..."),e=U.a.createElement("div",{key:"loadmore",className:"dwkit-repeater-loadmore"},U.a.createElement(na.Button,{onClick:l.loadNextPage},e)),a.push(e)),a}function s(e,t,n){if(!l.props.controlProps.buildermode&&""!==l.props["item-visibleCondition"]&&void 0!==l.props["item-visibleCondition"]&&null!==l.props["item-visibleCondition"]){var r="return "+l.props["item-visibleCondition"];try{if(!new Function("data",r)(t))return}catch(e){return}}var o=void 0,a=l.props.controlProps.createBuilderDropzone;return re(l.props.placeholders)&&Array.isArray(l.props.placeholders[l.psTemplate])&&0<l.props.placeholders[l.psTemplate].length?re(r=l.props.placeholders[l.psTemplate])&&(o=U.a.createElement(xn,{key:e,parent:l.me,model:r,psTemplate:l.psTemplate,item:t,controlProps:l.props.controlProps,includeDropzone:n,errors:Array.isArray(l.props.error)?l.props.error[e]:void 0,index:e,handleChange:l.handleChange,data:l.props.data,parentItem:l.props.model})):n&&a&&(o=a("repeater_dropzone_footer",l.props.model.key,void 0,void 0,l.psTemplate)),o}var t="dwkit-repeater";return l.props.className&&(t+=" "+l.props.className),l.isServerMode&&l.state.firstLoad?(l.state.firstLoad=!1,l.loadNextPage(),U.a.createElement("div",{className:t,style:l.props.style},l.state.loading&&U.a.createElement(na.Loader,{active:!0,inline:"centered"}))):l.props.slider&&0<l.state.items.length?U.a.createElement("div",{className:t,style:l.props.style},U.a.createElement(wl.a,{dots:!0,infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1},e(l.state.items,l.state.rowsCount,!0)),l.state.loading&&U.a.createElement(na.Loader,{active:!0,inline:"centered"})):U.a.createElement("div",{className:t,style:l.props.style},e(l.state.items,l.state.rowsCount),l.state.loading&&U.a.createElement(na.Loader,{active:!0,inline:"centered"}))}),s("row-loading-renderer",function(t){return U.a.createElement("div",{className:t.className},U.a.createElement(cl.Row,El({ref:function(e){return t.me.row=e}},t.props)))}),s("search",function(e){return U.a.createElement(na.Search,_l({},e.controlProps,{fluid:!0,loading:e.state.isLoading,onResultSelect:e.handleResultSelect,onSearchChange:e.handleSearchChange,results:e.state.results,value:e.state.value}))});var kl=n(22),Cl=n.n(kl);function Ol(e){return(Ol="function"==typeof Symbol&&"symbol"==Du(Symbol.iterator)?function(e){return Du(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Du(e)})(e)}function Sl(){return(Sl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Al(e,t){return(Al=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function xl(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pl(e){return(Pl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Dl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ll=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Al(e,t)}(a,U.a.Component);var n,r,o=(n=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Pl(n),t=r?(t=Pl(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Ol(t)&&"function"!=typeof t?xl(e):t});function a(e){var t;return function(e){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this),Dl(xl(t=o.call(this,e)),"labels",function(){return{draw:t.props.compact?null:t.props.drawLabel||"Draw signature",clear:t.props.clearCanvasLabel||"Clear canvas",upload:t.props.uploadLabel||"Upload",cancel:t.props.cancelLabel||"Cancel"}}),Dl(xl(t),"upload",function(){var n=xl(t).props,e=t.sigPad.current.getCanvas().toDataURL("image/png");Mi(e,n.uploadUrl,function(e,t){n.onUpload(e,t)}),t.setState({open:!1})}),Dl(xl(t),"onClear",function(){t.sigPad.current.clear()}),t.state={open:!1},t.sigPad=Object(c.createRef)(),t}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(a.prototype,[{key:"render",value:function(){var e=this,t=this.props,n=this.labels;return t.value?U.a.createElement(Ni,Sl({},t,{clear:t.onClear})):U.a.createElement("div",null,U.a.createElement(na.Button,{content:n().draw,basic:!0,fluid:t.fluid,onClick:function(){return e.setState({open:!0})},icon:"signup"}),U.a.createElement(na.Modal,{open:e.state.open,style:{width:"max-content"}},U.a.createElement(na.Modal.Header,null,"Draw signature"),U.a.createElement(na.Modal.Content,null,U.a.createElement("div",{className:"signature-canvas-container"},U.a.createElement(Cl.a,{ref:e.sigPad,canvasProps:{className:"canvas ui basic button"}}),U.a.createElement(na.Button,{fluid:!0,content:n().clear,className:"ui button",onClick:e.onClear,icon:"cancel"}))),U.a.createElement(na.Modal.Actions,null,U.a.createElement(na.Button,{className:"buttontype1",content:n().upload,download:!0,onClick:e.upload,icon:"check"}),U.a.createElement(na.Button,{className:"buttontype2",content:n().cancel,onClick:function(){return e.setState({open:!1})}}))))}}]),a}();function jl(){return(jl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Rl(){return(Rl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Fl(){return(Fl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Tl(){return(Tl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Nl(){return(Nl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}s("signature",function(e){var t=e.props,n=t.compact&&t.showPreview?{minWidth:160}:{};return U.a.createElement("div",{className:"field",style:n},e.props.label&&U.a.createElement("label",null,e.props.label),U.a.createElement(Ll,Sl({},t,{onUpload:e.onUpload,onClear:e.onClear})))}),s("statistic",function(e){return U.a.createElement(na.Statistic.Group,jl({},e.propsControl,{floated:e.model.floated,horizontal:e.model.horizontal,size:e.model.size,items:e.items}))}),s("static-content",function(e){if(e.props.isHtml)return U.a.createElement("span",Rl({},e.spanProps,{dangerouslySetInnerHTML:{__html:e.props.content}}));var t=re(e.props.content)?e.props.content.replace("\n","<br/>"):void 0;return U.a.createElement("span",e.spanProps,t)}),s("style-button",function(e){var t="RichEditor-styleButton";return e.props.active&&(t+=" RichEditor-activeButton"),U.a.createElement("span",{className:t,onMouseDown:e.me.onToggle},e.props.label)}),s("tab-group",function(e){var t={};t.pointing=e.props.pointing,t.secondary=e.props.secondary,t.tabular=e.props.tabular,t.fluid=e.props.fluid,t.vertical=e.props.vertical;var n=e.props.className;return e.props.scroll&&(n="dwkit-tabgroup"),U.a.createElement("div",{className:n,style:e.props.style},U.a.createElement(na.Tab,{menu:t,panes:e.panes,renderActiveOnly:!1,onTabChange:e.onTabChange}))}),s("textarea",function(e){if(!e.propsControl.labelPosition||e.isForm)return U.a.createElement(na.Form.TextArea,e.propsControl);var t="ui labeled input";return e.propsControl.fluid&&(t+=" fluid"),e.propsControl.error&&(t+=" error"),oe(e.props.className)&&(t+=" "+e.props.className),U.a.createElement("div",{className:t},e.propsControl.label&&U.a.createElement("div",{className:"ui label label"},e.propsControl.label),U.a.createElement(na.TextArea,e.propsControl))}),s("tree-picker-header",function(e){return U.a.createElement(na.Modal.Header,null,e.props.name,U.a.createElement("div",{className:"ui menu"},U.a.createElement(na.Item,{className:"active tree",as:"a"},U.a.createElement("i",{className:"list icon"})," Select"),U.a.createElement(na.Item,{className:"picked item",as:"a"},U.a.createElement("i",{className:"checkmark icon"})," ",e.props.selected," ",U.a.createElement("span",{className:"count"}))))}),s("tree-picker-trigger",function(e){return U.a.createElement(na.Form.Dropdown,Fl({},e.controlProps,{onClick:e.handleOpen,onChange:e.onDropdownChange}))}),s("unknown",function(e){return U.a.createElement("span",null,"Unknown type '",e.type,"' of '",e.props.name,"' element.")}),s("upload",function(a){var e,t,n=a.props.type,r=[],o=a.props.isForm,i=a.props.value;return re(i)&&null!=i&&""!=i?(e="Download",t="Clear",re(i=function(){if(window.DWKitAdminLang&&window.DWKitAdminLang.button)return window.DWKitAdminLang.button}())&&(e=i.download,t=i.clear),i=a.props.disabled||a.props.readOnly||a.props.hideClearButton,r.push(U.a.createElement("a",{key:"download",className:"ui button",target:"blank",onClick:function(e){e.preventDefault();var e=a.props.value,o=new XMLHttpRequest;o.open("POST",a.props.downloadUrl+e,!0),o.responseType="arraybuffer",o.onload=function(){var e,t=a.getCustomFileName();t||!(e=o.getResponseHeader("Content-Disposition"))||-1===e.indexOf("attachment")||(n=/filename[^;=\n]*=((['"]).*?\2|[^;\n]*)/.exec(e))&&n[1]&&(t=n[1].replace(/['"]/g,""));var n=(n=a.getCustomContentType())||o.getResponseHeader("Content-Type"),r=document.createElement("a");r.setAttribute("href",window.URL.createObjectURL(new Blob([o.response],{type:n}))),r.setAttribute("download",t||"unknown"),document.body.appendChild(r),r.onclick=function(){document.body.removeChild(r)},r.click()},o.send(null)},href:"#"},e)),i||(r.push(U.a.createElement("span",{key:"sparator"},"  ")),r.push(U.a.createElement("button",{key:"clear",className:"ui button",onClick:a.onClear},t)))):a.props.disabled||a.props.readOnly?r.push(U.a.createElement("span",null)):r.push(U.a.createElement("input",{key:"uploadcontrol",type:"file",multiple:a.props.multiple,accept:a.props.onlyImages?"image/*":void 0,name:a.props.name,onChange:a.onChange,value:""})),o?U.a.createElement("div",{className:"field"},re(a.props.label)&&U.a.createElement("label",null,a.props.label),U.a.createElement("div",{"data-buildertype":n},r)):(o="ui labeled input",a.props.fluid&&(o+=" fluid"),a.props.error&&(o+=" error"),oe(a.props.className)&&(o+=" "+a.props.className),U.a.createElement("div",{className:o,"data-buildertype":n},a.props.label&&U.a.createElement("div",{className:"ui label label"},a.props.label),r))}),s("workflow-bar",function(o){var e="dwkit-workflowbar";o.props.className&&(e+=" "+o.props.className);var t=o.props.style,n=o.state.commands||o.props.commands;o.props.selectedScheme&&n&&(n=n.filter(function(e){return e.scheme===o.props.selectedScheme}));var r=o.state.states||o.props.states;return U.a.createElement("div",{className:e,style:t},U.a.createElement("div",{className:"dwkit-workflowbar-items"},function(){if(o.state.processExists||o.props.blockSelectScheme||o.props.schemes.length<=1)return null;var e,t="Select scheme";o.props.selectSchemeDropdown?t=o.props.selectSchemeDropdown:(e=je())&&e.selectscheme&&(t=e.startworkflow);var n=[];return n.push({value:null,text:""}),o.props.schemes.forEach(function(e){return n.push({value:e,text:e})}),U.a.createElement(na.Dropdown,{key:"setstate",name:"setstate",className:"setstate",options:n,placeholder:t,onChange:o.selectWorkflowScheme,selection:!0,search:!0,value:o.props.selectedScheme})}(),function(e){if(o.props.blockCommands)return null;if(!o.props.blockSelectScheme&&!o.props.selectedScheme&&1<o.props.schemes.length)return null;if(Array.isArray(e)&&0<e.length){var n=[];return e.forEach(function(e){var t={};1==e.type?t.primary=!0:2==e.type&&(t.secondary=!0),n.push(U.a.createElement(na.Button,Tl({},t,{key:e.value,onClick:o.onCommand.bind(o.me,e)}),e.text))}),n}}(n),function(e){if(!o.props.blockSetState&&Array.isArray(e)&&0<e.length){var t,n=ne(o.state.setstate)||""==o.state.setstate,r="Set state";return oe(o.props.setStateButton)?r=o.props.setStateButton:(t=je())&&(r=t.setstate),[U.a.createElement(na.Dropdown,{key:"setstate",name:"setstate",className:"setstate",placeholder:"States",options:e,onChange:o.handleChanged,selection:!0,search:!0}),U.a.createElement(na.Button,{key:"btnsetstate",disabled:n,onClick:o.onSetState.bind(o.me)},r)]}}(r)))}),s("card",function(e){return U.a.createElement(na.Card,e.propsControls,e.props.imgurl&&U.a.createElement(na.Image,{src:e.props.imgurl,wrapped:!0,ui:!1}),U.a.createElement(na.Card.Content,null,e.props.header&&U.a.createElement(na.Card.Header,null,U.a.createElement("span",{dangerouslySetInnerHTML:{__html:e.props.header}})),e.props.subheader&&U.a.createElement(na.Card.Meta,null,U.a.createElement("span",{dangerouslySetInnerHTML:{__html:e.props.subheader}})),U.a.createElement(na.Card.Description,null,e.me.renderPanel("description"))),U.a.createElement(na.Card.Content,{extra:!0},e.me.renderPanel("extra")))}),s("accordion",function(e){var t={};t.fluid=e.props.fluid,t.styled=e.props.styled;var n=e.props.className;return U.a.createElement("div",{className:n,style:e.props.style},U.a.createElement(na.Accordion,Nl({},t,{panels:e.panels})))}),ko([{key:"sepContainers",title:"Containers",isseparate:!0,defaultopen:!0},{key:"container",title:"Container",control:Se},{key:"staticcontent",title:"Static Content",control:Xn,defaultValues:{content:"Text..."}},{key:"form",title:"Form",control:Un},{key:"formgroup",title:"Form Group",control:Un,defaultValues:{widths:"equal"}},{key:"card",title:"Card",control:hr,defaultValues:{header:"Card",subheader:"Description"}},{key:"tab",title:"Tab",control:or,defaultValues:{panes:[{title:"Tab 1",psid:"t1"},{title:"Tab 2",psid:"t2"},{title:"Tab 3",psid:"t3"}]}},{key:"accordion",title:"Accordion",control:sr,defaultValues:{panels:[{title:"Panel 1",psid:"p1"},{title:"Panel 2",psid:"p2"},{title:"Panel 3",psid:"p3"}]}},{key:"customblock",title:"Custom block",control:void 0,defaultValues:{sourceType:"form"}},{key:"gridlayout",title:"Grid Layout",control:_t,defaultValues:{draggable:!1,resizable:!1,panes:[{title:"Pane 1",psid:"p1",x:0,w:4},{title:"Pane 2",psid:"p2",x:4,w:4},{title:"Pane 3",psid:"p3",x:8,w:4}]}},{key:"sepCollection",title:"Collections",isseparate:!0},{key:"gridview",title:"GridView",control:qt,defaultValues:{columns:[{key:"id",name:"ID"},{key:"title",name:"Title"},{key:"count",name:"Count"}]}},{key:"collectioneditor",title:"Collection Editor",control:_e,defaultValues:{columns:[{key:"Id",name:"ID"},{key:"Title",name:"Title"},{key:"Count",name:"Count"}]}},{key:"repeater",title:"Repeater",control:Vn,defaultValues:{}},{key:"sepControls",title:"Controls",isseparate:!0},{key:"header",title:"Header",control:Un,defaultValues:{content:"Header",size:"medium"}},{key:"input",title:"Input",control:Un,defaultValues:{label:"Input",fluid:!0,onChangeTimeout:200}},{key:"numberformat",title:"Number Format",control:rn,defaultValues:{label:"NumberFormat",fluid:!0,onChangeTimeout:200}},{key:"textarea",title:"TextArea",control:Un,defaultValues:{label:"TextArea",fluid:!0}},{key:"dictionary",title:"Dictionary",control:qe,defaultValues:{label:"Dictionary",fluid:!0,selection:!0}},{key:"treepicker",title:"TreePicker",control:Ga,defaultValues:{label:"TreePicker",selection:!0,fluid:!0,parentIdField:"ParentId"}},{key:"dropdown",title:"Dropdown",control:Un,defaultValues:{label:"Dropdown",fluid:!0,selection:!0,"data-elements":[{value:1,text:"Item 1"},{value:2,text:"Item 2"},{value:3,text:"Item 3"}]}},{key:"checkbox",title:"CheckBox",control:Un,defaultValues:{label:"Checkbox"}},{key:"radiogroup",title:"Radio group",control:un,defaultValues:{label:"Radio","data-elements":[{value:1,text:"Item 1"},{value:2,text:"Item 2"},{value:3,text:"Item 3"}]}},{key:"button",title:"Button",control:Un,defaultValues:{content:"Button"}},{key:"label",title:"Label",control:Un,defaultValues:{content:"Label"}},{key:"message",title:"Message",control:Un,defaultValues:{header:"Message",content:"Description..."}},{key:"image",title:"Image",control:Un,defaultValues:{src:"/images/unknown.png"}},{key:"statistic",title:"Statistic",control:Un,defaultValues:{"data-elements":[{label:"Score",value:"22,1%"},{label:"Views",value:"30,000"},{label:"Points",value:"500"}]}},{key:"customcontrol",title:"Custom control",control:void 0,defaultValues:{props:"{  }"}},{key:"dropdowntrigger",title:"Dropdown trigger",control:Xe,defaultValues:{defaultValue:"User",items:[{target:"#1",title:"Item 1"},{target:"#2",title:"Item 2"},{target:"#3",title:"Item 3"}]}},{key:"dropzonecontrol",title:"Dropzone",control:rt,defaultValues:{showFiletypeIcon:!1,autoProcessQueue:!0,addRemoveLinks:!0,multile:!0}},{key:"files",title:"Files",control:bt,defaultValues:{idField:"Id",columns:[{title:"Name",field:"Name",property:"Name",showcolumn:!0},{title:"Length",field:"Length",property:"Length",showcolumn:!1,control:"span"},{title:"Content Type",field:"ContentType",property:"ContentType",showcolumn:!1},{title:"File",field:"Token",property:"Token",showcolumn:!0,control:"file2"}]}},{key:"signature",title:"Signature",control:Yn,defaultValues:{showPreview:!0}},{key:"camera",title:"Camera",control:te,defaultValues:{showPreview:!0,compression:.75}},{key:"breadcrumb",title:"Breadcrumbs",control:Un,defaultValues:{items:[{text:"Home",url:"/"},{divider:"right angle",text:"Page1",url:"/page1"},{text:"Page2",active:!0}],events:{onItemClick:{active:!0,actions:["redirect"]}}}},{key:"search",title:"Search",control:Fn,defaultValues:{}},{key:"menu",title:"Menu",control:Zt,defaultValues:{items:[{title:"Menu 1"},{title:"Menu 2"},{title:"Menu 3"}]}},{key:"workflowbar",title:"Workflow bar",control:Dr,defaultValues:{blockSetState:!0,blockLoadParameters:!0,events:{onCommandClick:{active:!0,actions:["workflowExecuteCommand"]},onSetStateClick:{active:!0,actions:["workflowSetState"]},onSchemeSelected:{active:!0,actions:["workflowSelectScheme"]}}}},{key:"richtexteditor",title:"Rich Text Editor",control:oi,defaultValues:{}},{key:"sepCharts",title:"Charts",isseparate:!0},{key:"barchart",title:"Bar",control:ce,defaultValues:{chartType:"bar",datasetLabel:""}},{key:"linechart",title:"Line",control:ce,defaultValues:{chartType:"line",datasetLabel:""}},{key:"scatterchart",title:"Scatter",control:ce,defaultValues:{chartType:"scatter",datasetLabel:""}},{key:"doughnutchart",title:"Doughnut",control:ce,defaultValues:{chartType:"doughnut",datasetLabel:""}},{key:"piechart",title:"Pie",control:ce,defaultValues:{chartType:"pie",datasetLabel:""}},{key:"radarchart",title:"Radar",control:ce,defaultValues:{chartType:"radar",datasetLabel:""}}]),vi.setItems(Co());var Ml=vi;function Il(e){return(Il="function"==typeof Symbol&&"symbol"==Du(Symbol.iterator)?function(e){return Du(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Du(e)})(e)}function Bl(e,t){return(Bl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Wl(e){return(Wl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ul=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Bl(e,t)}(t,Ca);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Wl(n),t=r?(t=Wl(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Il(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,[{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent),n=[{key:"text",name:this.getLocalValue("itemstextcolumn","Text","breadcrumbform")},{key:"url",name:this.getLocalValue("itemsurlcolumn","Url","breadcrumbform")},{key:"active",control:"checkbox",name:this.getLocalValue("itemsactivecolumn","Active","breadcrumbform")},{key:"divider",name:this.getLocalValue("itemsiconcolumn","Divider Icon","breadcrumbform"),dataList:["right angle","right chevron"]}];return U.a.createElement(na.Form,null,U.a.createElement(na.Form.Group,{widths:"equal"},U.a.createElement(na.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","breadcrumbform"),value:e.key,onChange:t})),U.a.createElement(_e,{key:"items",draggable:!0,columns:n,label:this.getLocalValue("itemsfield","Items","breadcrumbform"),name:"items",value:e.items,onChange:t}))}},{key:"getEventsList",value:function(){return["onItemClick"]}}]),t}();function Kl(e){return(Kl="function"==typeof Symbol&&"symbol"==Du(Symbol.iterator)?function(e){return Du(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Du(e)})(e)}function zl(e,t){return(zl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Gl(e){return(Gl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ql=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zl(e,t)}(t,Ca);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Gl(n),t=r?(t=Gl(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Kl(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,[{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent),n=[{text:this.getLocalValue("sizedefault","Default"),value:""},{text:this.getLocalValue("sizemini","Mini"),value:"mini"},{text:this.getLocalValue("sizetiny","Tiny"),value:"tiny"},{text:this.getLocalValue("sizesmall","Small"),value:"small"},{text:this.getLocalValue("sizemedium","Medium"),value:"medium"},{text:this.getLocalValue("sizebig","Big"),value:"big"},{text:this.getLocalValue("sizelarge","Large"),value:"large"},{text:this.getLocalValue("sizehuge","Huge"),value:"huge"},{text:this.getLocalValue("sizemassive","Massive"),value:"massive"}];return U.a.createElement(na.Form,null,U.a.createElement(na.Form.Group,{widths:"equal"},U.a.createElement(na.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","buttonform"),value:e.key,onChange:t}),U.a.createElement(na.Form.Input,{name:"icon",label:this.getLocalValue("iconfield","Icon","buttonform"),value:e.icon,onChange:t,action:{icon:"help",onClick:function(e){window.open("https://react.semantic-ui.com/elements/icon/")}}})),U.a.createElement(na.Form.Group,{widths:"equal"},U.a.createElement(na.Form.Input,{name:"content",label:this.getLocalValue("contentfield","Content","buttonform"),value:e.content,onChange:t}),U.a.createElement(na.Form.Dropdown,{name:"size",selection:!0,fluid:!0,options:n,placeholder:"Default",label:this.getLocalValue("sizefield","Size","buttonform"),value:e.size,onChange:t})),U.a.createElement(na.Form.Group,{widths:"equal"},U.a.createElement("div",{className:"field"},U.a.createElement("label",null,this.getLocalValue("optionsfield","Options","buttonform")),U.a.createElement(na.Form.Group,null,U.a.createElement(na.Form.Checkbox,{name:"basic",label:this.getLocalValue("basicfield","Basic","buttonform"),checked:e.basic,onChange:t}),U.a.createElement(na.Form.Checkbox,{name:"circular",label:this.getLocalValue("circularfield","Circular","buttonform"),checked:e.circular,onChange:t}),U.a.createElement(na.Form.Checkbox,{name:"compact",label:this.getLocalValue("compactfield","Compact","buttonform"),checked:e.compact,onChange:t})),U.a.createElement(na.Form.Group,null,U.a.createElement(na.Form.Checkbox,{name:"disabled",label:this.getLocalValue("disabledfield","Disabled","buttonform"),checked:e.disabled,onChange:t}),U.a.createElement(na.Form.Checkbox,{name:"fluid",label:this.getLocalValue("fluidfield","Fluid","buttonform"),checked:e.fluid,onChange:t}),U.a.createElement(na.Form.Checkbox,{name:"link",label:this.getLocalValue("linkfield","Link","buttonform"),checked:e.link,onChange:t})),U.a.createElement(na.Form.Group,null,U.a.createElement(na.Form.Checkbox,{name:"primary",label:this.getLocalValue("primaryfield","Primary","buttonform"),checked:e.primary,onChange:t}),U.a.createElement(na.Form.Checkbox,{name:"secondary",label:this.getLocalValue("secondaryfield","Secondary","buttonform"),checked:e.secondary,onChange:t}))),U.a.createElement("div",{className:"field"},U.a.createElement("label",null,this.getLocalValue("floatedfield","Floated","buttonform")),U.a.createElement(na.Form.Group,null,U.a.createElement(na.Form.Radio,{name:"floated",label:this.getLocalValue("floateddefaultfield","Default","buttonform"),value:"",checked:void 0===e.floated||""===e.floated,onChange:t}),U.a.createElement(na.Form.Radio,{name:"floated",label:this.getLocalValue("floatedleftfield","Left","buttonform"),value:"left",checked:"left"===e.floated,onChange:t}),U.a.createElement(na.Form.Radio,{name:"floated",label:this.getLocalValue("floatedrightfield","Right","buttonform"),value:"right",checked:"right"===e.floated,onChange:t})))))}},{key:"getEventsList",value:function(){return["onClick"]}}]),t}();function Hl(e){return(Hl="function"==typeof Symbol&&"symbol"==Du(Symbol.iterator)?function(e){return Du(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Du(e)})(e)}function Yl(e,t){return(Yl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Jl(e){return(Jl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ql=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Yl(e,t)}(o,Ca);var n,r,t=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Jl(n),t=r?(t=Jl(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Hl(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function o(e){return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),t.call(this,e)}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(o.prototype,[{key:"getGeneralDescription",value:function(){var e=this.props.data,n=this.props.parent.handleChange.bind(this.props.parent);return U.a.createElement(na.Form,null,U.a.createElement(na.Form.Group,{widths:"equal"},U.a.createElement(na.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","containerform"),value:e.key,onChange:n}),U.a.createElement(na.Form.Input,{name:"label",label:this.getLocalValue("labelfield","Label","inputform"),value:e.label,onChange:n})),U.a.createElement(na.Form.Group,{widths:"equal"},U.a.createElement("div",{className:"field"},U.a.createElement("label",null,this.getLocalValue("optionsfield","Options","inputform")),U.a.createElement(na.Form.Group,{widths:"equal"},U.a.createElement(na.Form.Checkbox,{name:"showPreview",label:this.getLocalValue("showpreviewfield","Show preview","inputform"),checked:e.showPreview,onChange:n}),U.a.createElement(na.Form.Checkbox,{name:"compact",label:this.getLocalValue("compactfield","Compact","inputform"),checked:e.compact,onChange:n}))),U.a.createElement(na.Form.Input,{name:"compression",label:this.getLocalValue("compressionfield","Image compression from `0.0` to `1.0` (full quality)","inputform"),value:e.compression,onChange:function(e){var t=e.target.value;1<t&&(e.target.value=1),t<0&&(e.target.value=0),n(e,e.target)},type:"number",min:"0",max:"1.0",step:"0.05"})),U.a.createElement("div",{className:"field"},U.a.createElement("label",null,this.getLocalValue("labelsfield","Button labels","cameraform")),U.a.createElement(na.Divider,{fitted:!0}),U.a.createElement(na.Form.Group,{widths:"equal"},U.a.createElement(na.Form.Input,{name:"shotLabel",label:this.getLocalValue("shotLabelfield","Take shot","cameraform"),value:e.shotLabel,onChange:n}),U.a.createElement(na.Form.Input,{name:"openLabel",label:this.getLocalValue("openLabelfield","Open","cameraform"),value:e.openLabel,onChange:n}),U.a.createElement(na.Form.Input,{name:"openImageLabel",label:this.getLocalValue("openImageLabelField","Open image","cameraform"),value:e.openImageLabel,onChange:n})),U.a.createElement(na.Form.Group,{widths:"equal"},U.a.createElement(na.Form.Input,{name:"uploadLabel",label:this.getLocalValue("uploadLabelfield","Upload","cameraform"),value:e.uploadLabel,onChange:n}),U.a.createElement(na.Form.Input,{name:"cancelLabel",label:this.getLocalValue("cancelLabelfield","Cancel","cameraform"),value:e.cancelLabel,onChange:n}),U.a.createElement(na.Form.Input,{name:"resetLabel",label:this.getLocalValue("resetLabelfield","Reset","cameraform"),value:e.resetLabel,onChange:n}))))}},{key:"getEventsList",value:function(){return["onChange"]}}]),o}();function $l(e){return($l="function"==typeof Symbol&&"symbol"==Du(Symbol.iterator)?function(e){return Du(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Du(e)})(e)}function Xl(e,t){return(Xl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Zl(e){return(Zl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var es=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xl(e,t)}(t,Ca);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Zl(n),t=r?(t=Zl(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==$l(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,[{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent),n=[{value:"",text:this.getLocalValue("legendpositiondefaultfield","Default","chartform")},{value:"top",text:this.getLocalValue("legendpositiontopfield","Top","chartform")},{value:"left",text:this.getLocalValue("legendpositionleftfield","Left","chartform")},{value:"bottom",text:this.getLocalValue("legendpositionbottomfield","Bottom","chartform")},{value:"right",text:this.getLocalValue("legendpositionrightfield","Right","chartform")}],r=""===e.datasetCustom||ne(e.datasetCustom);return U.a.createElement(na.Form,null,U.a.createElement(na.Form.Group,{widths:"equal"},U.a.createElement("div",{className:"field"},U.a.createElement(na.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","chartform"),value:e.key,onChange:t}),U.a.createElement(na.Form.Input,{name:"title",label:this.getLocalValue("titlefield","Title","chartform"),value:e.title,onChange:t}),U.a.createElement(na.Form.Input,{name:"titleSize",label:this.getLocalValue("titlesizefield","Title size","chartform"),value:e.titleSize,onChange:t}),U.a.createElement(na.Form.Dropdown,{name:"legendPosition",selection:!0,fluid:!0,label:this.getLocalValue("legendpositionfield","Legend position","chartform"),placeholder:n[0].text,options:n,value:e.legendPosition,onChange:t})),U.a.createElement("div",{className:"field"},U.a.createElement(na.Form.Checkbox,{name:"responsive",label:this.getLocalValue("responsivefield","Responsive","chartform"),checked:e.responsive,onChange:t}),U.a.createElement(na.Form.Checkbox,{name:"datasetCustom",label:this.getLocalValue("datasetcustomfield","Dataset custom","chartform"),checked:e.datasetCustom,onChange:t}),U.a.createElement(na.Form.Input,{name:"dataLabels",style:{paddingTop:"5px"},disabled:r,placeholder:this.getLocalValue("datalabelsplaceholder","Q1, Q2, Q3, Q4","chartform"),label:this.getLocalValue("datalabelsfield","Data labels","chartform"),value:e.dataLabels,onChange:t}),U.a.createElement(na.Form.Input,{name:"datasetLabel",disabled:r,label:this.getLocalValue("datasetlabelfield","Dataset Label","chartform"),value:e.datasetLabel,onChange:t}),U.a.createElement(na.Form.Input,{name:"datasetBackgroundColor",disabled:r,label:this.getLocalValue("datasetbackgroundcolorfield","Dataset BackgroundColor","chartform"),value:e.datasetBackgroundColor,onChange:t}))))}}]),t}();function ts(e){return(ts="function"==typeof Symbol&&"symbol"==Du(Symbol.iterator)?function(e){return Du(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Du(e)})(e)}function ns(e,t){return(ns=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function rs(e){return(rs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var os=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ns(e,t)}(t,Ca);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=rs(n),t=r?(t=rs(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==ts(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,[{key:"getGeneralDescription",value:function(){var e=this.props.parent.handleChange.bind(this.props.parent),t=this.props.data;return U.a.createElement(na.Form,null,U.a.createElement(na.Form.Group,{widths:"equal"},U.a.createElement(na.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","checkboxform"),value:t.key,onChange:e}),U.a.createElement(na.Form.Input,{name:"label",label:this.getLocalValue("labelfield","Label","checkboxform"),value:t.label,onChange:e})),U.a.createElement(na.Form.Group,{widths:"2"},U.a.createElement("div",{className:"field"},U.a.createElement("label",null,this.getLocalValue("optionsfield","Options","checkboxform")),U.a.createElement(na.Form.Group,null,U.a.createElement(na.Form.Checkbox,{name:"fitted",label:this.getLocalValue("fittedfield","Fitted","checkboxform"),checked:t.fitted,onChange:e}),U.a.createElement(na.Form.Checkbox,{name:"indeterminate",label:this.getLocalValue("indeterminatefield","Indeterminate","checkboxform"),checked:t.indeterminate,onChange:e}),U.a.createElement(na.Form.Checkbox,{name:"readOnly",label:this.getLocalValue("readonlyfield","ReadOnly","checkboxform"),checked:t.readOnly,onChange:e})),U.a.createElement(na.Form.Group,null,U.a.createElement(na.Form.Checkbox,{name:"disabled",label:this.getLocalValue("disabledfield","Disabled","checkboxform"),checked:t.disabled,onChange:e}),U.a.createElement(na.Form.Checkbox,{name:"slider",label:this.getLocalValue("sliderfield","Slider","checkboxform"),checked:t.slider,onChange:e}),U.a.createElement(na.Form.Checkbox,{name:"toggle",label:this.getLocalValue("togglefield","Toggle","checkboxform"),checked:t.toggle,onChange:e})))))}},{key:"getEventsList",value:function(){return["onChange"]}}]),t}();function as(e){return(as="function"==typeof Symbol&&"symbol"==Du(Symbol.iterator)?function(e){return Du(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Du(e)})(e)}function is(e,t){return(is=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ls(e){return(ls=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ss=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&is(e,t)}(t,Ca);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=ls(n),t=r?(t=ls(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==as(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,[{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent),n=[{key:"key",name:this.getLocalValue("keycolumn","Key","collectioneditorform")},{key:"name",name:this.getLocalValue("namecolumn","Name","collectioneditorform")},{key:"control",name:this.getLocalValue("controlcolumn","Control","collectioneditorform"),dataList:["input","checkbox","span","number","file","camera","signature","date","datetime","custom"]},{key:"width",name:this.getLocalValue("widthcolumn","Width","collectioneditorform")}];return U.a.createElement(na.Form,null,U.a.createElement(na.Form.Group,{widths:"equal"},U.a.createElement(na.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","collectioneditorform"),value:e.key,onChange:t}),U.a.createElement(na.Form.Input,{name:"idField",label:this.getLocalValue("idfield","Id field","collectioneditorform"),value:e.idField,onChange:t})),U.a.createElement(na.Form.Group,{widths:"equal"},U.a.createElement("div",{className:"field"},U.a.createElement("label",null,this.getLocalValue("optionsfield","Options","collectioneditorform")),U.a.createElement(na.Form.Group,null,U.a.createElement(na.Form.Checkbox,{name:"readOnly",label:this.getLocalValue("readonlyfield","ReadOnly","collectioneditorform"),checked:e.readOnly,onChange:t}),U.a.createElement(na.Form.Checkbox,{name:"draggable",label:this.getLocalValue("draggablefield","Draggable","collectioneditorform"),checked:e.draggable,onChange:t}),U.a.createElement(na.Form.Checkbox,{name:"hierarchical",label:this.getLocalValue("hierarchicalfield","Hierarchical","collectioneditorform"),checked:e.hierarchical,onChange:t})),U.a.createElement(na.Form.Group,null,U.a.createElement(na.Form.Checkbox,{name:"disableAdd",label:this.getLocalValue("disableAdd","Disable Add","collectioneditorform"),checked:e.disableAdd,onChange:t}),U.a.createElement(na.Form.Checkbox,{name:"disableCopy",label:this.getLocalValue("disableCopy","Disable Copy","collectioneditorform"),checked:e.disableCopy,onChange:t}),U.a.createElement(na.Form.Checkbox,{name:"disableDelete",label:this.getLocalValue("disableDelete","Disable Delete","collectioneditorform"),checked:e.disableDelete,onChange:t}),U.a.createElement(na.Form.Checkbox,{name:"collapseAll",label:this.getLocalValue("collapseallfield","Collapse all","collectioneditorform"),disabled:1!=e.hierarchical,checked:e.collapseAll,onChange:t}))),U.a.createElement("div",{className:"field"},U.a.createElement(na.Form.Input,{name:"parentIdField",label:this.getLocalValue("parentidfield","ParentId field","collectioneditorform"),disabled:!e.hierarchical||e.childrenField,value:e.parentIdField,onChange:t}),U.a.createElement(na.Form.Input,{name:"childrenField",label:this.getLocalValue("childrenField","Children field","collectioneditorform"),disabled:!e.hierarchical||e.parentIdField,value:e.childrenField,onChange:t}))),U.a.createElement(_e,{key:"columns",draggable:!0,columns:n,label:this.getLocalValue("columnsfield","Columns","collectioneditorform"),name:"columns",value:e.columns,height:"200px",onChange:t}))}},{key:"getEventsList",value:function(){return["onChange","onAdd","onDelete","onCopy"]}}]),t}();function cs(e){return(cs="function"==typeof Symbol&&"symbol"==Du(Symbol.iterator)?function(e){return Du(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Du(e)})(e)}function us(e,t){return(us=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ps(e){return(ps=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var fs=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&us(e,t)}(t,Ca);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=ps(n),t=r?(t=ps(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==cs(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,[{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent),n=[{text:this.getLocalValue("floatnonefield","None","containerform"),value:""},{text:this.getLocalValue("floatleftfield","Left","containerform"),value:"left"},{text:this.getLocalValue("floatrightfield","Right","containerform"),value:"right"},{text:this.getLocalValue("floatinheritfield","Inherit","containerform"),value:"inherit"},{text:this.getLocalValue("floatinitialfield","Initial","containerform"),value:"initial"}],r=[{text:this.getLocalValue("displaynotsetfield","(Not set)","containerform"),value:""},{text:this.getLocalValue("displayflexfield","Flex","containerform"),value:"flex"},{text:this.getLocalValue("displayblockfield","Block","containerform"),value:"block"},{text:this.getLocalValue("displayinlinefield","Inline","containerform"),value:"inline"},{text:this.getLocalValue("displayflowfield","Flow","containerform"),value:"flow"},{text:this.getLocalValue("displayflowrootfield","Flow-root","containerform"),value:"flow-root"},{text:this.getLocalValue("displaytablefield","Table","containerform"),value:"table"},{text:this.getLocalValue("displaygridfield","Grid","containerform"),value:"grid"},{text:this.getLocalValue("displaycontentsfield","Contents","containerform"),value:"contents"},{text:this.getLocalValue("displayinlineblockfield","Inline-block","containerform"),value:"inline-block"},{text:this.getLocalValue("displayinlinetablefield","Inline-table","containerform"),value:"inline-table"},{text:this.getLocalValue("displayinlineflexfield","Inline-flex","containerform"),value:"inline-flex"},{text:this.getLocalValue("displayinlinegridfield","Inline-grid","containerform"),value:"inline-grid"},{text:this.getLocalValue("displayinheritfield","Inherit","containerform"),value:"inherit"},{text:this.getLocalValue("displayinitialfield","Initial","containerform"),value:"initial"},{text:this.getLocalValue("displaynonefield","None","containerform"),value:"none"}],o=[{text:this.getLocalValue("displaynotsetfield","(Not set)","containerform"),value:""},{text:this.getLocalValue("flexbaselinefield","Baseline","containerform"),value:"baseline"},{text:this.getLocalValue("flexstretchfield","Stretch","containerform"),value:"stretch"},{text:this.getLocalValue("flexcenterfield","Center","containerform"),value:"center"},{text:this.getLocalValue("flexstartfield","Start","containerform"),value:"flex-start"},{text:this.getLocalValue("flexendfield","End","containerform"),value:"flex-end"},{text:this.getLocalValue("flexspacearoundfield","Space Around","containerform"),value:"space-around"},{text:this.getLocalValue("flexspacebetweenfield","Space Between","containerform"),value:"space-between"}];return U.a.createElement(na.Form,null,U.a.createElement(na.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","containerform"),value:e.key,onChange:t}),U.a.createElement(na.Form.Field,null,U.a.createElement("label",null,this.getLocalValue("childrenviewfield","Children Container View","containerform")),U.a.createElement(na.Form.Group,null,U.a.createElement(na.Form.Radio,{name:"childrenView",label:this.getLocalValue("childrenviewnonefield","None","containerform"),value:"",checked:!e.childrenView,onChange:t}),U.a.createElement(na.Form.Radio,{name:"childrenView",label:this.getLocalValue("childrenviewrowsfield","Rows","containerform"),value:"rows",checked:"rows"===e.childrenView,onChange:t}),U.a.createElement(na.Form.Radio,{name:"childrenView",label:this.getLocalValue("childrenviewcolumnsfield","Columns","containerform"),value:"columns",checked:"columns"===e.childrenView,onChange:t}),U.a.createElement(na.Form.Radio,{name:"childrenView",label:this.getLocalValue("childrenviewcolumnswrapfield","Columns Wrap","containerform"),value:"columnswrap",checked:"columnswrap"===e.childrenView,onChange:t}),e.childrenView&&U.a.createElement("div",{className:"dwkit-formbuilder-container-"+e.childrenView}))),e.childrenView&&U.a.createElement(na.Form.TextArea,{name:"children-style-source",placeholder:"/*** Example Code ***/\ncolor:red;\npaddingTop:5px;",label:this.getLocalValue("childrenstylefield","Children Container Style","containerform"),value:e["children-style-source"],onChange:t}),!e.childrenView&&U.a.createElement(na.Form.Group,{widths:"equal"},U.a.createElement(na.Form.Dropdown,{name:"style-display",selection:!0,search:!0,fluid:!0,options:r,placeholder:r[0].text,label:this.getLocalValue("displayfield","Display","containerform"),value:e["style-display"],onChange:t}),"flex"!==e["style-display"]&&U.a.createElement(na.Form.Dropdown,{name:"style-float",selection:!0,fluid:!0,options:n,placeholder:n[0].text,label:this.getLocalValue("floatfield","Float","containerform"),value:e["style-float"],onChange:t})),!e.childrenView&&"flex"===e["style-display"]&&U.a.createElement(na.Form.Group,{widths:"equal"},U.a.createElement(na.Form.Dropdown,{name:"style-display-horizontalalign",selection:!0,search:!0,fluid:!0,options:o,placeholder:o[0].text,label:this.getLocalValue("displayhorizontalalignfield","Horizontal Align","containerform"),value:e["style-display-horizontalalign"],onChange:t}),U.a.createElement(na.Form.Dropdown,{name:"style-display-verticalalign",selection:!0,search:!0,fluid:!0,options:o,placeholder:o[0].text,label:this.getLocalValue("displayverticalalignfield","Vertical Align","containerform"),value:e["style-display-verticalalign"],onChange:t})))}}]),t}();function ds(e){return(ds="function"==typeof Symbol&&"symbol"==Du(Symbol.iterator)?function(e){return Du(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Du(e)})(e)}function hs(e,t){return(hs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ms(e){return(ms=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ys=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&hs(e,t)}(t,Ca);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=ms(n),t=r?(t=ms(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==ds(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,[{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent);return U.a.createElement(na.Form,null,U.a.createElement(na.Form.Group,{widths:"equal"},U.a.createElement(na.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","customform"),value:e.key,onChange:t}),U.a.createElement(na.Form.Input,{name:"type",label:this.getLocalValue("typefield","Control type","customform"),value:e.type,onChange:t})),U.a.createElement(na.Form.Group,{widths:"equal"},U.a.createElement(na.Form.TextArea,{key:"props",label:this.getLocalValue("propsfield","Props","customform"),name:"props",value:e.props,onChange:t,rows:5}),U.a.createElement(na.Form.TextArea,{key:"children",label:this.getLocalValue("childrenfield","Children","customform"),name:"children",value:e.children,onChange:t,rows:5})))}}]),t}();function gs(e){return(gs="function"==typeof Symbol&&"symbol"==Du(Symbol.iterator)?function(e){return Du(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Du(e)})(e)}function bs(e,t){return(bs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function vs(e){return(vs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Vs=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bs(e,t)}(t,Ca);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=vs(n),t=r?(t=vs(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==gs(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,[{key:"getGeneralDescription",value:function(){var e=this,t=this.props.data,n=this.props.parent.handleChange.bind(this.props.parent),r='[{"column":"columnName","value":"columnValue","term":"="}]',o=U.a.createElement(na.Icon,{link:!0,onClick:function(){e.props.parent.handleChange.call(e.props.parent,void 0,{name:"filters",value:r})},name:"idea"});return U.a.createElement(na.Form,null,U.a.createElement(na.Form.Group,{widths:"equal"},U.a.createElement(na.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","dictionaryform"),value:t.key,onChange:n}),U.a.createElement(na.Form.Input,{name:"label",label:this.getLocalValue("labelfield","Label","dictionaryform"),value:t.label,onChange:n})),U.a.createElement(na.Form.Group,{widths:"equal"},U.a.createElement(na.Form.Input,{name:"dataModel",label:this.getLocalValue("datamodelfield","Data model","dictionaryform"),value:t.dataModel,onChange:n}),U.a.createElement(na.Form.Input,{name:"placeholder",label:this.getLocalValue("placeholderfield","Placeholder","dictionaryform"),value:t.placeholder,onChange:n})),U.a.createElement(na.Form.Group,{widths:"equal"},U.a.createElement("div",{className:"field"},U.a.createElement(na.Form.Input,{name:"columns",label:this.getLocalValue("columnsfield","Columns (Name ASC, Email)","dictionaryform"),value:t.columns,onChange:n}),U.a.createElement(na.Form.Input,{name:"text",label:this.getLocalValue("textfield","Text expression","dictionaryform"),value:t.text,onChange:n,placeholder:"data.Name + ' ' + data.Email"}),U.a.createElement(na.Form.Input,{name:"filters",label:U.a.createElement("label",null,this.getLocalValue("filtersfield","Filters","dictionaryform"),o),value:t.filters,onChange:n,placeholder:r}),U.a.createElement(na.Form.Input,{name:"pageSize",label:this.getLocalValue("pagesizefield","Page Size","dictionaryform"),disabled:!t.paging,value:t.pageSize,placeholder:"100",onChange:n})),U.a.createElement("div",{className:"field"},U.a.createElement("label",null,this.getLocalValue("optionsfield","Options","dictionaryform")),U.a.createElement(na.Form.Group,null,U.a.createElement(na.Form.Checkbox,{name:"paging",label:this.getLocalValue("pagingfield","Server pagination","dictionaryform"),checked:t.paging,onChange:n}),U.a.createElement(na.Form.Checkbox,{name:"search",label:this.getLocalValue("searchfield","Search","dictionaryform"),checked:t.search,onChange:n}),U.a.createElement(na.Form.Checkbox,{name:"multiple",label:this.getLocalValue("multiplefield","Multiple","dictionaryform"),checked:t.multiple,onChange:n})),U.a.createElement(na.Form.Group,null,U.a.createElement(na.Form.Checkbox,{name:"readOnly",label:this.getLocalValue("readonlyfield","Read only","dictionaryform"),checked:t.readOnly,onChange:n}),U.a.createElement(na.Form.Checkbox,{name:"disabled",label:this.getLocalValue("disabledfield","Disabled","dictionaryform"),checked:t.disabled,onChange:n}),U.a.createElement(na.Form.Checkbox,{name:"clearable",label:this.getLocalValue("clearablefield","Clearable","dictionaryform"),checked:t.clearable,onChange:n})),U.a.createElement(na.Form.Group,null,U.a.createElement(na.Form.Checkbox,{name:"selection",label:this.getLocalValue("selectionfield","Selection","dictionaryform"),checked:t.selection,onChange:n}),U.a.createElement(na.Form.Checkbox,{name:"fluid",label:this.getLocalValue("fluidfield","Fluid","dictionaryform"),checked:t.fluid,onChange:n}),U.a.createElement(na.Form.Checkbox,{name:"textAsValue",label:U.a.createElement(na.Popup,{content:this.getLocalValue("textasvalueinfofield","The Text will be binded to a property directly","dictionaryform"),trigger:U.a.createElement("label",null,this.getLocalValue("textasvaluefield","Text as Value","dictionaryform"))}),checked:t.textAsValue,onChange:n})))))}},{key:"getEventsList",value:function(){return["onChange","onDataReceived"]}}]),t}();function ws(e){return(ws="function"==typeof Symbol&&"symbol"==Du(Symbol.iterator)?function(e){return Du(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Du(e)})(e)}function Es(e,t){return(Es=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _s(e){return(_s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ks=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Es(e,t)}(o,Ca);var n,r,t=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=_s(n),t=r?(t=_s(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==ws(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function o(e){return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),(e=t.call(this,e)).state.defaultValuePreferInt=!0,e}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(o.prototype,[{key:"getGeneralDescription",value:function(){var e=this.props.data,r=this.props.parent.handleChange.bind(this.props.parent),t=[{key:"value",name:this.getLocalValue("datavaluecolumn","Value","dropdownform")},{key:"text",name:this.getLocalValue("datatextcolumn","Text","dropdownform")}];return U.a.createElement(na.Form,null,U.a.createElement(na.Form.Group,{widths:"equal"},U.a.createElement(na.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","dropdownform"),value:e.key,onChange:r}),U.a.createElement(na.Form.Input,{name:"label",label:this.getLocalValue("labelfield","Label","dropdownform"),value:e.label,onChange:r})),U.a.createElement(na.Form.Group,{widths:"equal"},U.a.createElement(_e,{key:"data-elements",draggable:!0,columns:t,label:this.getLocalValue("datafield","Data","dropdownform"),name:"data-elements",value:e["data-elements"],onChange:function(e,t){var n=t.name,t=t.value;Array.isArray(t)&&t.forEach(function(e){re(e.value)&&re(e.value.match)&&e.value.match(/^-?\d+$/)&&(e.value=parseInt(e.value))}),r(e,{name:n,value:t})}}),U.a.createElement("div",{className:"field"},U.a.createElement(na.Form.Input,{name:"placeholder",label:"Placeholder",value:e.placeholder,onChange:r}),U.a.createElement("div",{className:"field"},U.a.createElement("label",null,this.getLocalValue("optionsfield","Options","dropdownform")),U.a.createElement(na.Form.Group,null,U.a.createElement(na.Form.Checkbox,{name:"multiple",label:this.getLocalValue("multiplefield","Multiple","dropdownform"),checked:e.multiple,onChange:r}),U.a.createElement(na.Form.Checkbox,{name:"search",label:this.getLocalValue("searchfield","Search","dropdownform"),checked:e.search,onChange:r}),U.a.createElement(na.Form.Checkbox,{name:"allowAddItems",label:this.getLocalValue("allowAddItemsfield","Allow add items","dropdownform"),disabled:!(e.search&&e.multiple),checked:e.allowAddItems,onChange:r})),U.a.createElement(na.Form.Group,null,U.a.createElement(na.Form.Checkbox,{name:"clearable",label:this.getLocalValue("clearablefield","Clearable"),checked:e.clearable,onChange:r}),U.a.createElement(na.Form.Checkbox,{name:"disabled",label:this.getLocalValue("disabledfield","Disabled","dropdownform"),checked:e.disabled,onChange:r}),U.a.createElement(na.Form.Checkbox,{name:"fluid",label:this.getLocalValue("fluidfield","Fluid","dropdownform"),checked:e.fluid,onChange:r})),U.a.createElement(na.Form.Group,null,U.a.createElement(na.Form.Checkbox,{name:"selection",label:this.getLocalValue("selectionfield","Selection","dropdownform"),checked:e.selection,onChange:r}),U.a.createElement(na.Form.Checkbox,{name:"readOnly",label:this.getLocalValue("readonlyfield","Read only","dropdownform"),checked:e.readOnly,onChange:r}))))))}},{key:"getEventsList",value:function(){return["onClick","onChange"]}}]),o}();function Cs(e){return(Cs="function"==typeof Symbol&&"symbol"==Du(Symbol.iterator)?function(e){return Du(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Du(e)})(e)}function Os(e,t){return(Os=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ss(e){return(Ss=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var As=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Os(e,t)}(t,Ca);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Ss(n),t=r?(t=Ss(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Cs(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,[{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent),n=[{key:"target",name:this.getLocalValue("itemstargetcolumn","Target","dropdowntriggerform")},{key:"title",name:this.getLocalValue("itemstitlecolumn","Title","dropdowntriggerform")},{key:"visibleCondition",name:this.getLocalValue("itemsvisibleconditioncolumn","Visible Condition","dropdowntriggerform")}];return U.a.createElement(na.Form,null,U.a.createElement(na.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","dropdowntriggerform"),value:e.key,onChange:t}),U.a.createElement(na.Form.Input,{name:"defaultValue",label:this.getLocalValue("defaultvaluefield","Default Value","dropdowntriggerform"),value:ne(e.defaultValue)?"":e.defaultValue,onChange:t}),U.a.createElement(na.Form.Input,{name:"imageUrl",label:this.getLocalValue("imageurlfield","ImageUrl","dropdowntriggerform"),value:ne(e.imageUrl)?"":e.imageUrl,onChange:t}),U.a.createElement(_e,{key:"items",draggable:!0,columns:n,label:this.getLocalValue("itemsfield","Items","dropdowntriggerform"),name:"items",value:e.items,onChange:t}))}},{key:"getEventsList",value:function(){return["onItemClick"]}}]),t}();function xs(e){return(xs="function"==typeof Symbol&&"symbol"==Du(Symbol.iterator)?function(e){return Du(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Du(e)})(e)}function Ps(e,t){return(Ps=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ds(e){return(Ds=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ls=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ps(e,t)}(t,Ca);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Ds(n),t=r?(t=Ds(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==xs(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,[{key:"getGeneralDescription",value:function(){var e=this.props.parent.handleChange.bind(this.props.parent),t=this.props.data;return U.a.createElement(na.Form,null,U.a.createElement(na.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","uploadform"),value:t.key,onChange:e}),U.a.createElement(na.Form.Input,{name:"iconFiletypes",label:this.getLocalValue("iconFiletypes","Icon file types","uploadform"),placeholder:"*.png, *.jpg, *.gif",value:ne(t.iconFiletypes)?"":t.iconFiletypes,onChange:e}),U.a.createElement(na.Form.Group,null,U.a.createElement(na.Form.Checkbox,{name:"showFiletypeIcon",label:this.getLocalValue("showFiletypeIcon","Show file type icon","uploadform"),checked:t.showFiletypeIcon,onChange:e}),U.a.createElement(na.Form.Checkbox,{name:"autoProcessQueue",label:this.getLocalValue("autoProcessQueue","Auto process queue","uploadform"),checked:t.autoProcessQueue,onChange:e}),U.a.createElement(na.Form.Checkbox,{name:"addRemoveLinks",label:this.getLocalValue("addRemoveLinks","Add remove links","uploadform"),checked:t.addRemoveLinks,onChange:e})))}},{key:"getEventsList",value:function(){return["success","fail"]}}]),t}();function js(e){return(js="function"==typeof Symbol&&"symbol"==Du(Symbol.iterator)?function(e){return Du(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Du(e)})(e)}function Rs(e,t){return(Rs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Fs(e){return(Fs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ts=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Rs(e,t)}(t,Ca);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Fs(n),t=r?(t=Fs(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==js(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,[{key:"getGeneralDescription",value:function(){var e=this.props.parent.handleChange.bind(this.props.parent),t=this.props.data,n=[{key:"property",name:this.getLocalValue("propertycolumn","File property","filecontrolform"),control:"span"},{key:"title",name:this.getLocalValue("titlecolumn","Column title","filecontrolform")},{key:"field",name:this.getLocalValue("fieldcolumn","Table field","filecontrolform")},{key:"showcolumn",name:this.getLocalValue("showpropertycolumn","Show property","filecontrolform"),control:"checkbox"}];return U.a.createElement(na.Form,null,U.a.createElement(na.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","filecontrolform"),value:t.key,onChange:e}),U.a.createElement(na.Form.Input,{name:"iconFiletypes",label:this.getLocalValue("iconFiletypes","Icon file types","filecontrolform"),placeholder:"*.png, *.jpg, *.gif",value:void 0===t.iconFiletypes?"":t.iconFiletypes,onChange:e}),U.a.createElement(na.Form.Group,null,U.a.createElement(na.Form.Checkbox,{name:"showFiletypeIcon",label:this.getLocalValue("showFiletypeIcon","Show file type icon","filecontrolform"),checked:t.showFiletypeIcon,onChange:e}),U.a.createElement(na.Form.Checkbox,{name:"autoProcessQueue",label:this.getLocalValue("autoProcessQueue","Auto process queue","filecontrolform"),checked:t.autoProcessQueue,onChange:e}),U.a.createElement(na.Form.Checkbox,{name:"readOnly",label:this.getLocalValue("readonlyfield","Read only","filecontrolform"),checked:t.readOnly,onChange:e}),U.a.createElement(na.Form.Checkbox,{name:"useDropzone",label:this.getLocalValue("usedropzonefield","Use dropzone","filecontrolform"),checked:t.useDropzone,onChange:e}),U.a.createElement(na.Form.Checkbox,{name:"useCamera",label:this.getLocalValue("usecamerafield","Show images preview","filecontrolform"),checked:t.useCamera,onChange:e}),U.a.createElement(na.Form.Checkbox,{name:"multiple",label:this.getLocalValue("multiplefield","Allow multiple choice","filecontrolform"),checked:t.multiple,onChange:e})),U.a.createElement(na.Form.Group,null,U.a.createElement(na.Form.Input,{name:"idField",label:this.getLocalValue("idfield","Id field","filecontrolform"),value:t.idField,onChange:e})),U.a.createElement(_e,{key:"columns",draggable:!0,disableAdd:!0,disableCopy:!0,disableDelete:!0,columns:n,label:this.getLocalValue("propertiesfield","File properties","filecontrolform"),name:"columns",value:t.columns,onChange:e}))}},{key:"getEventsList",value:function(){return["onChange","onDelete","onUploadSuccess","onUploadFail"]}}]),t}();function Ns(e){return(Ns="function"==typeof Symbol&&"symbol"==Du(Symbol.iterator)?function(e){return Du(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Du(e)})(e)}function Ms(e,t){return(Ms=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Is(e){return(Is=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Bs=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ms(e,t)}(t,Ca);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Is(n),t=r?(t=Is(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Ns(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,[{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent),n=[{text:this.getLocalValue("sizedefault","Default"),value:""},{text:this.getLocalValue("sizemini","Mini"),value:"mini"},{text:this.getLocalValue("sizetiny","Tiny"),value:"tiny"},{text:this.getLocalValue("sizesmall","Small"),value:"small"},{text:this.getLocalValue("sizemedium","Medium"),value:"medium"},{text:this.getLocalValue("sizelarge","Large"),value:"large"},{text:this.getLocalValue("sizehuge","Huge"),value:"huge"}];return U.a.createElement(na.Form,null,U.a.createElement(na.Form.Group,{widths:"equal"},U.a.createElement(na.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","form"),value:e.key,onChange:t}),U.a.createElement(na.Form.Dropdown,{name:"size",selection:!0,fluid:!0,options:n,placeholder:n[0].text,label:this.getLocalValue("sizefield","Size","form"),value:e.size,onChange:t})))}},{key:"getEventsList",value:function(){return["onSubmit"]}}]),t}();function Ws(e){return(Ws="function"==typeof Symbol&&"symbol"==Du(Symbol.iterator)?function(e){return Du(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Du(e)})(e)}function Us(e,t){return(Us=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ks(e){return(Ks=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var zs=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Us(e,t)}(t,Ca);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Ks(n),t=r?(t=Ks(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Ws(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,[{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent);return U.a.createElement(na.Form,null,U.a.createElement(na.Form.Group,{widths:"equal"},U.a.createElement(na.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","formgroupform"),value:e.key,onChange:t}),U.a.createElement("div",{className:"field"},U.a.createElement("label",null,this.getLocalValue("widthsfield","Widths","formgroupform")),U.a.createElement(na.Form.Group,null,U.a.createElement(na.Form.Radio,{name:"widths",label:this.getLocalValue("widthsequalfield","Equal","formgroupform"),value:"equal",checked:"equal"===e.widths,onChange:t}),U.a.createElement(na.Form.Radio,{name:"widths",label:this.getLocalValue("widthscustomfield","Custom (1 - 16)","formgroupform"),value:"custom",checked:"custom"===e.widths,onChange:t})))),U.a.createElement(na.Form.Group,{widths:"2"},U.a.createElement("div",{className:"field"},U.a.createElement("label",null,this.getLocalValue("typefield","Type","formgroupform")),U.a.createElement(na.Form.Group,{inline:!0},U.a.createElement(na.Form.Radio,{name:"orientation",label:this.getLocalValue("orientationcolumnsfield","Columns","formgroupform"),value:"inline",checked:void 0===e.orientation||"inline"===e.orientation,onChange:t}),U.a.createElement(na.Form.Radio,{name:"orientation",label:this.getLocalValue("orientationrowsfield","Rows","formgroupform"),value:"grouped",checked:"grouped"===e.orientation,onChange:t}),U.a.createElement(na.Form.Radio,{name:"orientation",label:this.getLocalValue("orientationfieldfield","Field","formgroupform"),value:"field",checked:"field"===e.orientation,onChange:t}))),U.a.createElement(na.Form.Input,{name:"widthsCustom",disabled:"custom"!==e.widths,placeholder:"2",value:e.widthsCustom,onChange:t})))}}]),t}();function Gs(e){return(Gs="function"==typeof Symbol&&"symbol"==Du(Symbol.iterator)?function(e){return Du(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Du(e)})(e)}function qs(e,t){return(qs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Hs(e){return(Hs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ys(e){return(Ys="function"==typeof Symbol&&"symbol"==Du(Symbol.iterator)?function(e){return Du(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Du(e)})(e)}function Js(e,t){return(Js=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Qs(e){return(Qs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $s(e){return($s="function"==typeof Symbol&&"symbol"==Du(Symbol.iterator)?function(e){return Du(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Du(e)})(e)}function Xs(e,t){return(Xs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Zs(e){return(Zs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ec(e){return(ec="function"==typeof Symbol&&"symbol"==Du(Symbol.iterator)?function(e){return Du(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Du(e)})(e)}function tc(e,t){return(tc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function nc(e){return(nc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function rc(e){return(rc="function"==typeof Symbol&&"symbol"==Du(Symbol.iterator)?function(e){return Du(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Du(e)})(e)}function oc(e,t){return(oc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ac(e){return(ac=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ic(e){return(ic="function"==typeof Symbol&&"symbol"==Du(Symbol.iterator)?function(e){return Du(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Du(e)})(e)}function lc(e,t){return(lc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function sc(e){return(sc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function cc(e){return(cc="function"==typeof Symbol&&"symbol"==Du(Symbol.iterator)?function(e){return Du(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Du(e)})(e)}function uc(e,t){return(uc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function pc(e){return(pc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function fc(e){return(fc="function"==typeof Symbol&&"symbol"==Du(Symbol.iterator)?function(e){return Du(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Du(e)})(e)}function dc(e,t){return(dc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function hc(e){return(hc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function mc(e){return(mc="function"==typeof Symbol&&"symbol"==Du(Symbol.iterator)?function(e){return Du(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Du(e)})(e)}function yc(e,t){return(yc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function gc(e){return(gc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function bc(e){return(bc="function"==typeof Symbol&&"symbol"==Du(Symbol.iterator)?function(e){return Du(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Du(e)})(e)}function vc(e,t){return(vc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Vc(e){return(Vc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function wc(e){return(wc="function"==typeof Symbol&&"symbol"==Du(Symbol.iterator)?function(e){return Du(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Du(e)})(e)}function Ec(e,t){return(Ec=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _c(e){return(_c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function kc(e){return(kc="function"==typeof Symbol&&"symbol"==Du(Symbol.iterator)?function(e){return Du(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Du(e)})(e)}function Cc(e,t){return(Cc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Oc(e){return(Oc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Sc(e){return(Sc="function"==typeof Symbol&&"symbol"==Du(Symbol.iterator)?function(e){return Du(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Du(e)})(e)}function Ac(e,t){return(Ac=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function xc(e){return(xc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Pc(e){return(Pc="function"==typeof Symbol&&"symbol"==Du(Symbol.iterator)?function(e){return Du(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Du(e)})(e)}function Dc(e,t){return(Dc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Lc(e){return(Lc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function jc(e){return(jc="function"==typeof Symbol&&"symbol"==Du(Symbol.iterator)?function(e){return Du(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Du(e)})(e)}function Rc(e,t){return(Rc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Fc(e){return(Fc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Tc(e){return(Tc="function"==typeof Symbol&&"symbol"==Du(Symbol.iterator)?function(e){return Du(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Du(e)})(e)}function Nc(e,t){return(Nc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Mc(e){return(Mc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ic(e){return(Ic="function"==typeof Symbol&&"symbol"==Du(Symbol.iterator)?function(e){return Du(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Du(e)})(e)}function Bc(e,t){return(Bc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Wc(e){return(Wc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Uc(e){return(Uc="function"==typeof Symbol&&"symbol"==Du(Symbol.iterator)?function(e){return Du(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Du(e)})(e)}function Kc(e,t){return(Kc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function zc(e){return(zc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Gc(e){return(Gc="function"==typeof Symbol&&"symbol"==Du(Symbol.iterator)?function(e){return Du(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Du(e)})(e)}function qc(e,t){return(qc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Hc(e){return(Hc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Yc(e){return(Yc="function"==typeof Symbol&&"symbol"==Du(Symbol.iterator)?function(e){return Du(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Du(e)})(e)}function Jc(e,t){return(Jc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Qc(e){return(Qc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $c(e){return($c="function"==typeof Symbol&&"symbol"==Du(Symbol.iterator)?function(e){return Du(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Du(e)})(e)}function Xc(e,t){return(Xc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Zc(e){return(Zc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function eu(e){return(eu="function"==typeof Symbol&&"symbol"==Du(Symbol.iterator)?function(e){return Du(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Du(e)})(e)}function tu(e,t){return(tu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function nu(e){return(nu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ru(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qs(e,t)}(t,Ca);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Hs(n),t=r?(t=Hs(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Gs(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,[{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent),n=[{value:"",text:this.getLocalValue("pagertypenonefield","None","gridform")},{value:"server",text:this.getLocalValue("pagertypeserverfield","Server","gridform")}],r=[{value:"",text:this.getLocalValue("editformtypedefaultfield","Default","gridform")},{value:"modal",text:this.getLocalValue("editformtypemodalfield","Modal","gridform")},{value:"sidebar",text:this.getLocalValue("editformtypesidebarfield","Sidebar","gridform")}],o=[{value:"right",text:this.getLocalValue("editformsidebarderectionrightfield","Right","gridform")},{value:"left",text:this.getLocalValue("editformsidebarderectionleftfield","Left","gridform")}],a=[{key:"key",name:this.getLocalValue("keycolumn","Key","gridform")},{key:"name",name:this.getLocalValue("namecolumn","Name","gridform")},{key:"type",name:this.getLocalValue("typecolumn","Type","gridform"),dataList:["","number","checkbox","date","datetime","time","custom"]},{key:"width",name:this.getLocalValue("widthcolumn","Width","gridform"),control:"number"},{key:"resizable",name:this.getLocalValue("resizablecolumn","Resizable","gridform"),control:"checkbox"}];return U.a.createElement(na.Form,null,U.a.createElement(na.Form.Group,{widths:"equal"},U.a.createElement(na.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","gridform"),value:e.key,onChange:t}),U.a.createElement("div",{className:"field"},U.a.createElement("label",null,this.getLocalValue("optionsfield","Options","gridform")),U.a.createElement(na.Form.Group,null,U.a.createElement(na.Form.Checkbox,{name:"multiselect",label:this.getLocalValue("multiselectfield","Multiselect","gridform"),checked:e.multiselect,onChange:t}),U.a.createElement(na.Form.Checkbox,{name:"disableSort",label:this.getLocalValue("disablesortfield","Disable sorting","gridform"),checked:e.disableSort,onChange:t})))),U.a.createElement(na.Form.Group,{widths:"equal"},U.a.createElement("div",{className:"field"},U.a.createElement(na.Form.Group,{widths:"equal"},U.a.createElement(un,{name:"editType",label:this.getLocalValue("edittypefield","Edit type","gridform"),items:[{key:"form",text:"Form",value:void 0},{key:"flow",text:"Flow",value:"flow"},{key:"workflow",text:"Workflow",value:"workflow"}],value:e.editType,onChange:t}),!e.editType&&U.a.createElement(na.Form.Input,{name:"editForm",label:this.getLocalValue("editformfield","Edit form","gridform"),disabled:1==e.inline,value:e.editForm,onChange:t}),"flow"===e.editType&&U.a.createElement(na.Form.Input,{name:"editFlow",label:this.getLocalValue("editflowfield","Edit flow","gridform"),disabled:1==e.inline,value:e.editFlow,onChange:t}),"workflow"===e.editType&&U.a.createElement(na.Form.Input,{name:"editWorkflow",label:this.getLocalValue("editworkflowfield","Edit workflow","gridform"),disabled:1==e.inline,value:e.editWorkflow,onChange:t})),U.a.createElement(na.Form.Input,{name:"rowKey",label:this.getLocalValue("rowkeyfield","Row key","gridform"),value:e.rowKey,onChange:t}),U.a.createElement(na.Form.Input,{name:"pageSize",label:this.getLocalValue("pagesizefield","Page size","gridform"),value:e.pageSize,onChange:t}),U.a.createElement(na.Form.Input,{name:"defaultSort",label:this.getLocalValue("defaultsortfield","Default sort","gridform"),placeholder:"Name ASC",value:e.defaultSort,onChange:t})),U.a.createElement("div",{className:"field"},U.a.createElement(na.Form.Dropdown,{name:"editFormShowType",selection:!0,fluid:!0,label:this.getLocalValue("editformshowtypefield","Edit form show type","gridform"),placeholder:r[0].text,options:r,value:e.editFormShowType,onChange:t}),U.a.createElement(na.Form.Dropdown,{name:"sidebarDirection",selection:!0,fluid:!0,label:this.getLocalValue("editformsidebardirectionfield","Sidebar direction","gridform"),placeholder:o[0].text,options:o,value:e.sidebarDirection,onChange:t,disabled:"sidebar"!==e.editFormShowType}),U.a.createElement(na.Form.Dropdown,{name:"pagerType",selection:!0,fluid:!0,label:this.getLocalValue("pagertypefield","Pagination type","gridform"),placeholder:"None",options:n,value:e.pagerType,onChange:t}),U.a.createElement(na.Form.Input,{name:"rowHeight",label:this.getLocalValue("rowheightfield","Row height","gridform"),value:e.rowHeight,onChange:t}),U.a.createElement(na.Form.Input,{name:"minHeight",label:this.getLocalValue("minheightfield","Min height","gridform"),value:e.minHeight,onChange:t}),U.a.createElement(na.Form.Group,{widths:"equal"},U.a.createElement(na.Form.Checkbox,{name:"autoHeight",label:this.getLocalValue("autoheightfield","Auto Height","gridform"),checked:Boolean(e.autoHeight),onChange:t}),U.a.createElement(na.Form.Input,{name:"offSet",label:this.getLocalValue("offsetfield","OffSet","gridform"),disabled:!Boolean(e.autoHeight),value:e.offSet,onChange:t})))),U.a.createElement("div",{className:"field"},U.a.createElement(_e,{key:"columns",draggable:!0,columns:a,label:this.getLocalValue("columnsfield","Columns","gridform"),name:"columns",value:e.columns,onChange:t})))}},{key:"getEventsList",value:function(){return["onRowClick","onRowDblClick","onSelectionChanged","onModalClosed"]}}]),t}(),ue=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Js(e,t)}(t,Ca);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Qs(n),t=r?(t=Qs(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Ys(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,[{key:"getGeneralDescription",value:function(){var e=this.props.data,r=this.props.parent.handleChange.bind(this.props.parent),t=[{key:"title",name:this.getLocalValue("itemstitlecolumn","Title","gridlayout")},{key:"cssclass",name:this.getLocalValue("cssclass","CSS Class","gridlayout")},{key:"visibleCondition",name:this.getLocalValue("visibleConditioncolumn","Visible Condition","gridlayout")}];return U.a.createElement(na.Form,null,U.a.createElement(na.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","gridlayout"),value:e.key,onChange:r}),U.a.createElement(na.Form.Group,null,U.a.createElement(na.Form.Input,{name:"cols",label:this.getLocalValue("colsfield","Columns","gridlayout"),placeholder:12,value:e.cols,onChange:r})),U.a.createElement("div",{className:"field"},U.a.createElement("label",null,this.getLocalValue("optionsfield","Options","gridlayout")),U.a.createElement(na.Form.Group,null,U.a.createElement(na.Form.Checkbox,{name:"draggable",label:this.getLocalValue("draggablefield","Draggable","gridlayout"),checked:e.draggable,onChange:r}),U.a.createElement(na.Form.Checkbox,{name:"resizable",label:this.getLocalValue("resizablefield","Resizable","gridlayout"),checked:e.resizable,onChange:r}),U.a.createElement(na.Form.Checkbox,{name:"scroll",label:this.getLocalValue("scrollfield","Scroll","gridlayout"),checked:e.scroll,onChange:r}))),U.a.createElement(_e,{key:"panes",draggable:!0,columns:t,label:this.getLocalValue("panesfield","Panes","tabform"),name:"panes",value:e.panes,onChange:function(e,t){var n=t.name,t=t.value;Array.isArray(t)&&t.forEach(function(e){ne(e.psid)&&(e.psid="id"+(new Date).getTime())}),r(e,{name:n,value:t})}}))}},{key:"getEventsList",value:function(){return["onLayoutChange"]}}]),t}(),fe=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xs(e,t)}(t,Ca);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Zs(n),t=r?(t=Zs(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==$s(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,[{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent),n=[{text:this.getLocalValue("sizedefault","Default"),value:""},{text:this.getLocalValue("sizemini","Mini"),value:"mini"},{text:this.getLocalValue("sizetiny","Tiny"),value:"tiny"},{text:this.getLocalValue("sizesmall","Small"),value:"small"},{text:this.getLocalValue("sizemedium","Medium"),value:"medium"},{text:this.getLocalValue("sizelarge","Large"),value:"large"},{text:this.getLocalValue("sizehuge","Huge"),value:"huge"}];return U.a.createElement(na.Form,null,U.a.createElement(na.Form.Group,{widths:"equal"},U.a.createElement(na.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","headerform"),value:e.key,onChange:t}),U.a.createElement(na.Form.Dropdown,{name:"size",selection:!0,fluid:!0,options:n,placeholder:"Default",label:this.getLocalValue("sizefield","Size","header"),value:e.size,onChange:t})),U.a.createElement(na.Form.Group,{widths:"equal"},U.a.createElement(na.Form.TextArea,{name:"content",label:this.getLocalValue("contentfield","Content","headerform"),value:e.content,onChange:t}),U.a.createElement("div",{className:"field"},U.a.createElement("label",null,this.getLocalValue("textalignfield","Text Align","headerform")),U.a.createElement(na.Form.Group,{widths:"equal"},U.a.createElement(na.Form.Radio,{name:"textAlign",label:this.getLocalValue("textalignleft","Left","headerform"),value:"left",checked:"left"===e.textAlign,onChange:t}),U.a.createElement(na.Form.Radio,{name:"textAlign",label:this.getLocalValue("textaligncenter","Center","headerform"),value:"center",checked:"center"===e.textAlign,onChange:t}),U.a.createElement(na.Form.Radio,{name:"textAlign",label:this.getLocalValue("textalignright","Right","headerform"),value:"right",checked:"right"===e.textAlign,onChange:t})))),U.a.createElement(na.Form.Input,{name:"subheader",label:this.getLocalValue("subheaderfield","Subheader","headerform"),value:e.subheader,onChange:t}))}}]),t}(),Ae=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tc(e,t)}(t,Ca);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=nc(n),t=r?(t=nc(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==ec(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,[{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent);return U.a.createElement(na.Form,null,U.a.createElement(na.Form.Group,{widths:"equal"},U.a.createElement("div",{className:"field"},U.a.createElement(na.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","imageform"),value:e.key,onChange:t}),U.a.createElement(na.Form.Input,{name:"src",label:this.getLocalValue("srcfield","Src","imageform"),value:e.src,onChange:t}),U.a.createElement(na.Form.Input,{name:"href",label:this.getLocalValue("hreffield","Href","imageform"),value:e.href,onChange:t})),U.a.createElement("div",{className:"field"},U.a.createElement("div",{className:"field"},U.a.createElement("label",null,this.getLocalValue("optionsfield","Options","imageform")),U.a.createElement(na.Form.Group,null,U.a.createElement(na.Form.Checkbox,{name:"avatar",label:this.getLocalValue("avatarfield","Avatar","imageform"),checked:e.avatar,onChange:t}),U.a.createElement(na.Form.Checkbox,{name:"bordered",label:this.getLocalValue("borderedfield","Bordered","imageform"),checked:e.bordered,onChange:t}),U.a.createElement(na.Form.Checkbox,{name:"centered",label:this.getLocalValue("centeredfield","Centered","imageform"),checked:e.centered,onChange:t})),U.a.createElement(na.Form.Group,null,U.a.createElement(na.Form.Checkbox,{name:"disabled",label:this.getLocalValue("disabledfield","Disabled","imageform"),checked:e.disabled,onChange:t}),U.a.createElement(na.Form.Checkbox,{name:"inline",label:this.getLocalValue("inlinefield","Inline","imageform"),checked:e.inline,onChange:t}),U.a.createElement(na.Form.Checkbox,{name:"spaced",label:this.getLocalValue("spacedfield","Spaced","imageform"),checked:e.spaced,onChange:t}))),U.a.createElement("div",{className:"field"},U.a.createElement("label",null,this.getLocalValue("floatedfield","Floated","imageform")),U.a.createElement(na.Form.Group,null,U.a.createElement(na.Form.Radio,{name:"floated",label:this.getLocalValue("floatedleftfield","Left","imageform"),value:"left",checked:"left"===e.floated||""===e.floated,onChange:t}),U.a.createElement(na.Form.Radio,{name:"floated",label:this.getLocalValue("floatedrightfield","Right","imageform"),value:"right",checked:"right"===e.floated,onChange:t})),U.a.createElement("label",null,this.getLocalValue("verticalalignfield","Vertical align","imageform")),U.a.createElement(na.Form.Group,null,U.a.createElement(na.Form.Radio,{name:"verticalAlign",label:this.getLocalValue("verticalaligntopfield","Top","imageform"),value:"top",checked:"top"===e.verticalAlign,onChange:t}),U.a.createElement(na.Form.Radio,{name:"verticalAlign",label:this.getLocalValue("verticalalignmiddlefield","Middle","imageform"),value:"middle",checked:"middle"===e.verticalAlign,onChange:t}),U.a.createElement(na.Form.Radio,{name:"verticalAlign",label:this.getLocalValue("verticalalignbottomfield","Bottom","imageform"),value:"bottom",checked:"bottom"===e.verticalAlign,onChange:t}))))))}}]),t}(),Pn=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oc(e,t)}(t,Ca);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=ac(n),t=r?(t=ac(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==rc(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,[{key:"getGeneralDescription",value:function(){var e=this.props.parent.handleChange.bind(this.props.parent),t=this.props.data,n=[{text:this.getLocalValue("sizedefault","Default"),value:""},{text:this.getLocalValue("sizemini","Mini"),value:"mini"},{text:this.getLocalValue("sizetiny","Tiny"),value:"tiny"},{text:this.getLocalValue("sizesmall","Small"),value:"small"},{text:this.getLocalValue("sizemedium","Medium"),value:"medium"},{text:this.getLocalValue("sizelarge","Large"),value:"large"},{text:this.getLocalValue("sizehuge","Huge"),value:"huge"},{text:this.getLocalValue("sizemassive","Massive"),value:"massive"}],r=[{text:this.getLocalValue("labeldefault","Default"),value:""},{text:this.getLocalValue("labelleft","Left"),value:"left"},{text:this.getLocalValue("labelright","Right"),value:"right"},{text:this.getLocalValue("labelleftcorner","Left corner"),value:"left corner"},{text:this.getLocalValue("labelrightcorner","Right corner"),value:"right corner"}];return U.a.createElement(na.Form,null,U.a.createElement(na.Form.Group,{widths:"equal"},U.a.createElement(na.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","inputform"),value:t.key,onChange:e}),U.a.createElement(na.Form.Input,{name:"label",label:this.getLocalValue("labelfield","Label","inputform"),value:t.label,onChange:e})),U.a.createElement(na.Form.Group,{widths:"equal"},U.a.createElement("div",{className:"field"},U.a.createElement("label",null,this.getLocalValue("typefield","Type","inputform")),U.a.createElement(na.Form.Group,{widths:"equal"},U.a.createElement(na.Form.Radio,{name:"type",label:this.getLocalValue("typetext","Text","inputform"),value:"text",checked:ne(t.type)||"text"===t.type,onChange:e}),U.a.createElement(na.Form.Radio,{name:"type",label:this.getLocalValue("typenumber","Number","inputform"),value:"number",checked:"number"===t.type,onChange:e}),U.a.createElement(na.Form.Radio,{name:"type",label:this.getLocalValue("typepasswod","Password","inputform"),value:"password",checked:"password"===t.type,onChange:e}),U.a.createElement(na.Form.Radio,{name:"type",label:this.getLocalValue("typefile","File","inputform"),value:"file",checked:"file"===t.type,onChange:e})),U.a.createElement(na.Form.Group,{widths:"equal"},U.a.createElement(na.Form.Radio,{name:"type",label:this.getLocalValue("typedate","Date","inputform"),value:"date",checked:"date"===t.type,onChange:e}),U.a.createElement(na.Form.Radio,{name:"type",label:this.getLocalValue("typetime","Time","inputform"),value:"time",checked:"time"===t.type,onChange:e}),U.a.createElement(na.Form.Radio,{name:"type",label:this.getLocalValue("typedatetime","Date & Time","inputform"),value:"datetime",checked:"datetime"===t.type,onChange:e}))),U.a.createElement("div",{className:"field"},U.a.createElement(na.Form.Dropdown,{name:"labelPosition",selection:!0,fluid:!0,placeholder:r[0].text,options:r,label:this.getLocalValue("labelpositionfield","Label position","inputform"),value:t.labelPosition,onChange:e}),U.a.createElement(na.Form.Input,{name:"placeholder",label:this.getLocalValue("placeholderfield","Placeholder","inputform"),value:t.placeholder,onChange:e}))),U.a.createElement(na.Form.Group,{widths:"equal"},U.a.createElement("div",{className:"field"},U.a.createElement("label",null,this.getLocalValue("optionsfield","Options","inputform")),U.a.createElement(na.Form.Group,{widths:"equal"},U.a.createElement(na.Form.Checkbox,{name:"disabled",label:this.getLocalValue("disabledfield","Disabled","inputform"),checked:t.disabled,onChange:e}),U.a.createElement(na.Form.Checkbox,{name:"transparent",label:this.getLocalValue("transparentfield","Transparent","inputform"),checked:t.transparent,onChange:e}),U.a.createElement(na.Form.Checkbox,{name:"fluid",label:this.getLocalValue("fluidfield","Fluid","inputform"),checked:t.fluid,onChange:e}),U.a.createElement(na.Form.Checkbox,{name:"readOnly",label:this.getLocalValue("readonlyfield","Read only","inputform"),checked:t.readOnly,onChange:e}))),U.a.createElement("div",{className:"field"},U.a.createElement(na.Form.Dropdown,{name:"size",selection:!0,fluid:!0,options:n,placeholder:n[0].text,label:this.getLocalValue("sizefield","Size","inputform"),value:t.size,onChange:e}))))}},{key:"getEventsList",value:function(){return["onChange"]}}]),t}(),Lr=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&lc(e,t)}(t,Ca);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=sc(n),t=r?(t=sc(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==ic(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,[{key:"getGeneralDescription",value:function(){var e=this.props.parent.handleChange.bind(this.props.parent),t=this.props.data,n=[{text:this.getLocalValue("sizedefault","Default"),value:""},{text:this.getLocalValue("sizemini","Mini"),value:"mini"},{text:this.getLocalValue("sizetiny","Tiny"),value:"tiny"},{text:this.getLocalValue("sizesmall","Small"),value:"small"},{text:this.getLocalValue("sizemedium","Medium"),value:"medium"},{text:this.getLocalValue("sizelarge","Large"),value:"large"},{text:this.getLocalValue("sizehuge","Huge"),value:"huge"}],r=[{text:this.getLocalValue("attachednone","None"),value:""},{text:this.getLocalValue("attachedtop","Top"),value:"top"},{text:this.getLocalValue("attachedbottom","Bottom"),value:"bottom"},{text:this.getLocalValue("attachedtopright","Top right"),value:"top right"},{text:this.getLocalValue("attachedtopleft","Top left"),value:"top left"},{text:this.getLocalValue("attachedbottomleft","Bottom left"),value:"bottom left"},{text:this.getLocalValue("attachedbottomright","Bottom right"),value:"bottom right"}];return U.a.createElement(na.Form,null,U.a.createElement(na.Form.Group,{widths:"equal"},U.a.createElement(na.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","labelform"),value:t.key,onChange:e}),U.a.createElement(na.Form.Dropdown,{name:"attached",selection:!0,fluid:!0,options:r,placeholder:r[0].text,label:this.getLocalValue("attachedfield","Attached","labelform"),value:t.attached,onChange:e})),U.a.createElement(na.Form.Group,{widths:"equal"},U.a.createElement("div",{className:"field"},U.a.createElement(na.Form.Input,{name:"content",label:this.getLocalValue("contentfield","Content","labelform"),value:t.content,onChange:e}),U.a.createElement(na.Form.Dropdown,{name:"size",selection:!0,fluid:!0,options:n,placeholder:"Default",label:this.getLocalValue("sizefield","Size","labelform"),value:t.size,onChange:e})),U.a.createElement("div",{className:"field"},U.a.createElement("label",null,this.getLocalValue("optionsfield","Options","labelform")),U.a.createElement(na.Form.Group,null,U.a.createElement(na.Form.Checkbox,{name:"basic",label:this.getLocalValue("basicfield","Basic","labelform"),checked:t.basic,onChange:e}),U.a.createElement(na.Form.Checkbox,{name:"circular",label:this.getLocalValue("circularfield","Circular","labelform"),checked:t.circular,onChange:e}),U.a.createElement(na.Form.Checkbox,{name:"corner",label:this.getLocalValue("cornerfield","Corner","labelform"),checked:t.corner,onChange:e})),U.a.createElement(na.Form.Group,null,U.a.createElement(na.Form.Checkbox,{name:"floating",label:this.getLocalValue("floatingfield","Floating","labelform"),checked:t.floating,onChange:e}),U.a.createElement(na.Form.Checkbox,{name:"pointing",label:this.getLocalValue("pointingfield","Pointing","labelform"),checked:t.pointing,onChange:e})))))}}]),t}(),Rr=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&uc(e,t)}(t,Ca);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=pc(n),t=r?(t=pc(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==cc(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,[{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent),n=[{key:"target",name:this.getLocalValue("itemstargetcolumn","Target","menuform"),width:150},{key:"title",name:this.getLocalValue("itemstitlecolumn","Title","menuform")},{key:"visibleCondition",name:this.getLocalValue("visibleConditioncolumn","Visible Condition","menuform")}];return U.a.createElement(na.Form,null,U.a.createElement(na.Form.Group,{widths:"equal"},U.a.createElement(na.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","menuform"),value:e.key,onChange:t}),U.a.createElement(na.Form.Input,{name:"activeItem",label:this.getLocalValue("activeitemfield","Active Item","menuform"),value:e.activeItem,onChange:t})),U.a.createElement("div",{className:"field"},U.a.createElement("label",null,this.getLocalValue("optionsfield","Options","menuform")),U.a.createElement(na.Form.Group,null,U.a.createElement(na.Form.Checkbox,{name:"pointing",label:this.getLocalValue("pointingfield","Pointing","menuform"),checked:e.pointing,onChange:t}),U.a.createElement(na.Form.Checkbox,{name:"secondary",label:this.getLocalValue("secondaryfield","Secondary","menuform"),checked:e.secondary,onChange:t}),U.a.createElement(na.Form.Checkbox,{name:"tabular",label:this.getLocalValue("tabularfield","Tabular","menuform"),checked:e.tabular,onChange:t}),U.a.createElement(na.Form.Checkbox,{name:"fluid",label:this.getLocalValue("fluidfield","Fluid","menuform"),checked:e.fluid,onChange:t}),U.a.createElement(na.Form.Checkbox,{name:"vertical",label:this.getLocalValue("verticalfield","Vertical","menuform"),checked:e.vertical,onChange:t}),U.a.createElement(na.Form.Checkbox,{name:"link",label:this.getLocalValue("linkfield","Link","menuform"),checked:e.link,onChange:t}))),U.a.createElement(_e,{key:"items",draggable:!0,hierarchical:!0,childrenField:"children",columns:n,label:this.getLocalValue("itemsfield","Items","menuform"),name:"items",value:e.items,onChange:t}))}},{key:"getEventsList",value:function(){return["onItemClick"]}}]),t}(),la=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&dc(e,t)}(t,Ca);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=hc(n),t=r?(t=hc(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==fc(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,[{key:"getGeneralDescription",value:function(){var e=this.props.parent.handleChange.bind(this.props.parent),t=this.props.data,n=[{text:this.getLocalValue("sizedefault","Default"),value:""},{text:this.getLocalValue("sizemini","Mini"),value:"mini"},{text:this.getLocalValue("sizetiny","Tiny"),value:"tiny"},{text:this.getLocalValue("sizesmall","Small"),value:"small"},{text:this.getLocalValue("sizemedium","Medium"),value:"medium"},{text:this.getLocalValue("sizelarge","Large"),value:"large"},{text:this.getLocalValue("sizehuge","Huge"),value:"huge"}];return U.a.createElement(na.Form,null,U.a.createElement(na.Form.Group,{widths:"equal"},U.a.createElement("div",{className:"field"},U.a.createElement(na.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","messageform"),value:t.key,onChange:e}),U.a.createElement(na.Form.Input,{name:"header",label:this.getLocalValue("headerfield","Header","messageform"),value:t.header,onChange:e})),U.a.createElement("div",{className:"field"},U.a.createElement("label",null,this.getLocalValue("optionsfield","Options","messageform")),U.a.createElement(na.Form.Group,null,U.a.createElement(na.Form.Checkbox,{name:"compact",label:this.getLocalValue("compactfield","Compact","messageform"),checked:t.compact,onChange:e}),U.a.createElement(na.Form.Checkbox,{name:"error",label:this.getLocalValue("errorfield","Error","messageform"),checked:t.error,onChange:e}),U.a.createElement(na.Form.Checkbox,{name:"floating",label:this.getLocalValue("floatingfield","Floating","messageform"),checked:t.floating,onChange:e})),U.a.createElement(na.Form.Group,null,U.a.createElement(na.Form.Checkbox,{name:"info",label:this.getLocalValue("infofield","Info","messageform"),checked:t.info,onChange:e}),U.a.createElement(na.Form.Checkbox,{name:"negative",label:this.getLocalValue("negativefield","Negative","messageform"),checked:t.negative,onChange:e}),U.a.createElement(na.Form.Checkbox,{name:"positive",label:this.getLocalValue("positivefield","Positive","messageform"),checked:t.positive,onChange:e})),U.a.createElement(na.Form.Group,null,U.a.createElement(na.Form.Checkbox,{name:"success",label:this.getLocalValue("successfield","Success","messageform"),checked:t.success,onChange:e}),U.a.createElement(na.Form.Checkbox,{name:"warning",label:this.getLocalValue("warningfield","Warning","messageform"),checked:t.warning,onChange:e})))),U.a.createElement(na.Form.Group,{widths:"equal"},U.a.createElement(na.Form.TextArea,{name:"content",label:this.getLocalValue("contentfield","Content","messageform"),value:t.content,onChange:e}),U.a.createElement(na.Form.Dropdown,{name:"size",selection:!0,fluid:!0,options:n,placeholder:n[0].text,label:this.getLocalValue("sizefield","Size","messageform"),value:t.size,onChange:e})))}}]),t}(),Ra=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yc(e,t)}(t,Ca);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=gc(n),t=r?(t=gc(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==mc(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,[{key:"getGeneralDescription",value:function(){var e=this.props.parent.handleChange.bind(this.props.parent),t=this.props.data;return U.a.createElement(na.Form,null,U.a.createElement(na.Form.Group,{widths:"equal"},U.a.createElement(na.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","inputform"),value:t.key,onChange:e}),U.a.createElement(na.Form.Input,{name:"label",label:this.getLocalValue("labelfield","Label","inputform"),value:t.label,onChange:e})),U.a.createElement(na.Form.Group,{widths:"equal"},U.a.createElement(na.Form.Input,{name:"format",label:this.getLocalValue("formatfield","Format","inputform"),value:t.format,onChange:e}),U.a.createElement(na.Form.Input,{name:"mask",disabled:!Boolean(t.format),label:this.getLocalValue("maskfield","Mask","inputform"),value:t.mask,onChange:e})),U.a.createElement(na.Form.Group,{widths:"equal"},U.a.createElement(na.Form.Input,{name:"prefix",disabled:Boolean(t.format),label:this.getLocalValue("prefixfield","Prefix","inputform"),value:t.prefix,onChange:e}),U.a.createElement(na.Form.Input,{name:"suffix",disabled:Boolean(t.format),label:this.getLocalValue("suffixfield","Suffix","inputform"),value:t.suffix,onChange:e})),U.a.createElement(na.Form.Group,{widths:"equal"},U.a.createElement(na.Form.Checkbox,{name:"thousandSeparator",label:this.getLocalValue("thousandSeparatorfield","Thousand Separator","inputform"),checked:t.thousandSeparator,onChange:e}),U.a.createElement(na.Form.Input,{name:"placeholder",label:this.getLocalValue("placeholderfield","Placeholder","inputform"),value:t.placeholder,onChange:e})),U.a.createElement(na.Form.Group,{widths:"equal"},U.a.createElement("div",{className:"field"},U.a.createElement("label",null,this.getLocalValue("optionsfield","Options","inputform")),U.a.createElement(na.Form.Group,{widths:"equal"},U.a.createElement(na.Form.Checkbox,{name:"disabled",label:this.getLocalValue("disabledfield","Disabled","inputform"),checked:t.disabled,onChange:e}),U.a.createElement(na.Form.Checkbox,{name:"transparent",label:this.getLocalValue("transparentfield","Transparent","inputform"),checked:t.transparent,onChange:e}),U.a.createElement(na.Form.Checkbox,{name:"fluid",label:this.getLocalValue("fluidfield","Fluid","inputform"),checked:t.fluid,onChange:e}),U.a.createElement(na.Form.Checkbox,{name:"readOnly",label:this.getLocalValue("readonlyfield","Read only","inputform"),checked:t.readOnly,onChange:e})))))}},{key:"getEventsList",value:function(){return["onChange"]}}]),t}(),qi=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vc(e,t)}(t,Ca);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Vc(n),t=r?(t=Vc(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==bc(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,[{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent),n=[{key:"value",name:this.getLocalValue("datavaluecolumn","Value","radiogroupform")},{key:"text",name:this.getLocalValue("datatextcolumn","Text","radiogroupform")}];return U.a.createElement(na.Form,null,U.a.createElement(na.Form.Group,{widths:"equal"},U.a.createElement(na.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","radiogroupform"),value:e.key,onChange:t}),U.a.createElement(na.Form.Input,{name:"label",label:this.getLocalValue("labelfield","Label","radiogroupform"),value:e.label,onChange:t})),U.a.createElement(na.Form.Group,{widths:"equal"},U.a.createElement(_e,{key:"data-elements",draggable:!0,columns:n,label:this.getLocalValue("datafield","Data","radiogroupform"),name:"data-elements",value:e["data-elements"],onChange:t}),U.a.createElement("div",{className:"field"},U.a.createElement("label",null,this.getLocalValue("groupdirectfield","Group direction","radiogroupform")),U.a.createElement(na.Form.Radio,{name:"direction",label:this.getLocalValue("directionhorizontalfield","Horizontal","radiogroupform"),value:"g",checked:void 0===e.direction||"g"===e.direction,onChange:t}),U.a.createElement(na.Form.Radio,{name:"direction",label:this.getLocalValue("directionverticalfield","Vertical","radiogroupform"),value:"v",checked:"v"===e.direction,onChange:t}),U.a.createElement(na.Form.Group,null,U.a.createElement(na.Form.Checkbox,{name:"readOnly",label:this.getLocalValue("readonlyfield","Read only","radiogroupform"),checked:e.readOnly,onChange:t})))))}},{key:"getEventsList",value:function(){return["onChange"]}}]),t}(),$i=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ec(e,t)}(t,Ca);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=_c(n),t=r?(t=_c(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==wc(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,[{key:"getGeneralDescription",value:function(){var e=this.props.parent.handleChange.bind(this.props.parent),t=this.props.data,n=[{value:"",text:this.getLocalValue("pagertypenonefield","None","repeaterform")},{value:"server",text:this.getLocalValue("pagertypeserverfield","Server","repeaterform")}];return U.a.createElement(na.Form,null,U.a.createElement(na.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","repeaterform"),value:t.key,onChange:e}),U.a.createElement(na.Form.Checkbox,{name:"slider",label:this.getLocalValue("sliderfield","Slider","repeaterform"),checked:t.slider,onChange:e}),U.a.createElement(na.Form.TextArea,{name:"item-visibleCondition",label:this.getLocalValue("itemvisibleconditionfield","Item Visible Condition","repeaterform"),placeholder:"data.Type == 1",value:t["item-visibleCondition"],onChange:e}),U.a.createElement(na.Form.Input,{name:"defaultSort",label:this.getLocalValue("defaultsortfield","Default sort","repeaterform"),placeholder:"Name ASC",value:t.defaultSort,onChange:e}),U.a.createElement(na.Form.Group,null,U.a.createElement(na.Form.Dropdown,{name:"pagerType",selection:!0,fluid:!0,label:this.getLocalValue("pagertypefield","Pagination type","repeaterform"),placeholder:"None",options:n,value:t.pagerType,onChange:e}),"server"==t.pagerType&&U.a.createElement(na.Form.Input,{name:"pageSize",placeholder:"20",label:this.getLocalValue("pagesizefield","Page size","repeaterform"),value:t.pageSize,onChange:e}),"server"==t.pagerType&&U.a.createElement(na.Form.Input,{name:"loadButtonLabel",label:this.getLocalValue("loadbuttonlabelfield","Load Button Label","repeaterform"),value:t.loadButtonLabel,onChange:e}),"server"==t.pagerType&&U.a.createElement(na.Form.Input,{name:"noRecordsLabel",label:this.getLocalValue("norecordslabelfield","No Record Button Label","repeaterform"),value:t.noRecordsLabel,onChange:e})),U.a.createElement(na.Form.Field,null,U.a.createElement("label",null,this.getLocalValue("childrenviewfield","Children Container View","repeaterform")),U.a.createElement(na.Form.Group,null,U.a.createElement(na.Form.Radio,{name:"childrenView",label:this.getLocalValue("childrenviewnonefield","None","repeaterform"),value:"",checked:!t.childrenView,onChange:e}),U.a.createElement(na.Form.Radio,{name:"childrenView",label:this.getLocalValue("childrenviewrowsfield","Rows","repeaterform"),value:"rows",checked:"rows"===t.childrenView,onChange:e}),U.a.createElement(na.Form.Radio,{name:"childrenView",label:this.getLocalValue("childrenviewcolumnsfield","Columns","repeaterform"),value:"columns",checked:"columns"===t.childrenView,onChange:e}),U.a.createElement(na.Form.Radio,{name:"childrenView",label:this.getLocalValue("childrenviewcolumnswrapfield","Columns Wrap","repeaterform"),value:"columnswrap",checked:"columnswrap"===t.childrenView,onChange:e}),t.childrenView&&U.a.createElement("div",{className:"dwkit-formbuilder-container-"+t.childrenView}))),t.childrenView&&U.a.createElement(na.Form.TextArea,{name:"children-style-source",placeholder:"/*** Example Code ***/\ncolor:red;\npaddingTop:5px;",label:this.getLocalValue("childrenstylefield","Children Container Style","repeaterform"),value:t["children-style-source"],onChange:e}))}}]),t}(),ol=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Cc(e,t)}(t,Ca);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Oc(n),t=r?(t=Oc(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==kc(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,[{key:"getGeneralDescription",value:function(){var e=this.props.parent.handleChange.bind(this.props.parent),t=this.props.data;return U.a.createElement(na.Form,null,U.a.createElement(na.Form.Group,{widths:"equal"},U.a.createElement(na.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","textareaform"),value:t.key,onChange:e}),U.a.createElement(na.Form.Input,{name:"label",label:this.getLocalValue("labelfield","Label","textareaform"),value:t.label,onChange:e})),U.a.createElement("label",null,this.getLocalValue("optionsfield","Options","textareaform")),U.a.createElement(na.Form.Group,{widths:"equal"},U.a.createElement(na.Form.Checkbox,{name:"readOnly",label:this.getLocalValue("readonlyfield","Read only","textareaform"),checked:t.readOnly,onChange:e})))}},{key:"getEventsList",value:function(){return["onChange"]}}]),t}(),al=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ac(e,t)}(t,Ca);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=xc(n),t=r?(t=xc(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Sc(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,[{key:"getGeneralDescription",value:function(){var e=this.props.parent.handleChange.bind(this.props.parent),t=this.props.data;return U.a.createElement(na.Form,null,U.a.createElement(na.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","searchform"),value:t.key,onChange:e}),U.a.createElement(na.Form.Input,{name:"url",label:this.getLocalValue("urlfield","Url","searchform"),value:t.url,onChange:e}),U.a.createElement(na.Form.Checkbox,{name:"category",label:this.getLocalValue("categoryfield","Enable Categories","searchform"),checked:Boolean(t.category),onChange:e}))}},{key:"getEventsList",value:function(){return["onSelect"]}}]),t}(),bl=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Dc(e,t)}(o,Ca);var n,r,t=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Lc(n),t=r?(t=Lc(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Pc(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function o(e){return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),t.call(this,e)}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(o.prototype,[{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent);return U.a.createElement(na.Form,null,U.a.createElement(na.Form.Group,{widths:"equal"},U.a.createElement(na.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","containerform"),value:e.key,onChange:t}),U.a.createElement(na.Form.Input,{name:"label",label:this.getLocalValue("labelfield","Label","inputform"),value:e.label,onChange:t})),U.a.createElement("div",{className:"field"},U.a.createElement("label",null,this.getLocalValue("optionsfield","Options","inputform")),U.a.createElement(na.Form.Group,{widths:"equal"},U.a.createElement(na.Form.Checkbox,{name:"showPreview",label:this.getLocalValue("showpreviewfield","Show preview","inputform"),checked:e.showPreview,onChange:t}),U.a.createElement(na.Form.Checkbox,{name:"compact",label:this.getLocalValue("compactfield","Compact","inputform"),checked:e.compact,onChange:t}))),U.a.createElement("div",{className:"field"},U.a.createElement("label",null,this.getLocalValue("labelsfield","Button labels","cameraform")),U.a.createElement(na.Divider,{fitted:!0,style:{marginBottom:10}}),U.a.createElement(na.Form.Group,{widths:"equal"},U.a.createElement(na.Form.Input,{name:"drawLabel",label:this.getLocalValue("drawLabelfield","Draw signature","signatureform"),value:e.drawLabel,onChange:t}),U.a.createElement(na.Form.Input,{name:"clearCanvasLabel",label:this.getLocalValue("clearCanvasLabelfield","Clear canvas","signatureform"),value:e.clearCanvasLabel,onChange:t}),U.a.createElement(na.Form.Input,{name:"uploadLabel",label:this.getLocalValue("uploadLabelfield","Upload","signatureform"),value:e.uploadLabel,onChange:t})),U.a.createElement(na.Form.Group,{widths:"equal"},U.a.createElement(na.Form.Input,{name:"openLabel",label:this.getLocalValue("openLabelfield","Open","cameraform"),value:e.openLabel,onChange:t}),U.a.createElement(na.Form.Input,{name:"clearLabel",label:this.getLocalValue("clearLabelfield","Clear","cameraform"),value:e.clearLabel,onChange:t}))))}},{key:"getEventsList",value:function(){return["onChange"]}}]),o}(),Vl=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Rc(e,t)}(t,Ca);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Fc(n),t=r?(t=Fc(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==jc(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,[{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent),n=[{text:this.getLocalValue("sizedefault","Default"),value:""},{text:this.getLocalValue("sizemini","Mini"),value:"mini"},{text:this.getLocalValue("sizetiny","Tiny"),value:"tiny"},{text:this.getLocalValue("sizesmall","Small"),value:"small"},{text:this.getLocalValue("sizemedium","Medium"),value:"medium"},{text:this.getLocalValue("sizelarge","Large"),value:"large"},{text:this.getLocalValue("sizehuge","Huge"),value:"huge"}],r=[{key:"label",name:this.getLocalValue("datakeycolumn","Label","statisticform")},{key:"value",name:this.getLocalValue("datavaluecolumn","Value","statisticform")}];return U.a.createElement(na.Form,null,U.a.createElement(na.Form.Group,{widths:"equal"},U.a.createElement(na.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","statisticform"),value:e.key,onChange:t}),U.a.createElement("div",{className:"field"},U.a.createElement("label",null,this.getLocalValue("optionsfield","Options","statisticform")),U.a.createElement(na.Form.Group,null,U.a.createElement(na.Form.Checkbox,{name:"horizontal",label:this.getLocalValue("horizontalfield","Horizontal","statisticform"),checked:e.horizontal,onChange:t})))),U.a.createElement(na.Form.Group,{widths:"equal"},U.a.createElement(_e,{key:"data-elements",columns:r,label:this.getLocalValue("datafield","Data","statisticform"),name:"data-elements",value:e["data-elements"],onChange:t}),U.a.createElement(na.Form.Dropdown,{name:"size",selection:!0,fluid:!0,options:n,placeholder:n[0].text,label:this.getLocalValue("sizefield","Size","statisticform"),value:e.size,onChange:t})))}}]),t}(),kl=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Nc(e,t)}(t,Ca);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Mc(n),t=r?(t=Mc(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Tc(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,[{key:"getGeneralDescription",value:function(){var e=this.props.parent.handleChange.bind(this.props.parent),t=this.props.data;return U.a.createElement(na.Form,null,U.a.createElement(na.Form.Group,{widths:"equal"},U.a.createElement(na.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","staticcontentform"),value:t.key,onChange:e}),U.a.createElement(na.Form.Input,{name:"style-font-size",placeholder:"20px",label:this.getLocalValue("fontsizefield","Font size","staticcontentform"),value:t["style-font-size"],onChange:e})),U.a.createElement(na.Form.Checkbox,{name:"isHtml",label:this.getLocalValue("allowhtmlfield","Allow HTML","staticcontentform"),checked:t.isHtml,onChange:e}),U.a.createElement(na.TextArea,{rows:6,name:"content",label:this.getLocalValue("contentfield","Content","staticcontentform"),value:t.content,onChange:e}))}}]),t}(),s=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Bc(e,t)}(t,Ca);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Wc(n),t=r?(t=Wc(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Ic(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,[{key:"getGeneralDescription",value:function(){var e=this.props.data,r=this.props.parent.handleChange.bind(this.props.parent),t=[{key:"title",name:this.getLocalValue("itemstitlecolumn","Title","tabform")},{key:"visibleCondition",name:this.getLocalValue("visibleConditioncolumn","Visible Condition","tabform")}];return U.a.createElement(na.Form,null,U.a.createElement(na.Form.Group,{widths:"equal"},U.a.createElement(na.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","tabform"),value:e.key,onChange:r}),U.a.createElement(na.Form.Input,{name:"activePane",label:this.getLocalValue("activepanefield","Active Pane","tabform"),value:e.activePane,onChange:r})),U.a.createElement("div",{className:"field"},U.a.createElement("label",null,this.getLocalValue("optionsfield","Options","menuform")),U.a.createElement(na.Form.Group,null,U.a.createElement(na.Form.Checkbox,{name:"pointing",label:this.getLocalValue("pointingfield","Pointing","tabform"),checked:e.pointing,onChange:r}),U.a.createElement(na.Form.Checkbox,{name:"secondary",label:this.getLocalValue("secondaryfield","Secondary","tabform"),checked:e.secondary,onChange:r}),U.a.createElement(na.Form.Checkbox,{name:"tabular",label:this.getLocalValue("tabularfield","Tabular","tabform"),checked:e.tabular,onChange:r}),U.a.createElement(na.Form.Checkbox,{name:"fluid",label:this.getLocalValue("fluidfield","Fluid","tabform"),checked:e.fluid,onChange:r}),U.a.createElement(na.Form.Checkbox,{name:"vertical",label:this.getLocalValue("verticalfield","Vertical","tabform"),checked:e.vertical,onChange:r}))),U.a.createElement(_e,{key:"panes",draggable:!0,columns:t,label:this.getLocalValue("panesfield","Panes","tabform"),name:"panes",value:e.panes,onChange:function(e,t){var n=t.name,t=t.value;Array.isArray(t)&&t.forEach(function(e){ne(e.psid)&&(e.psid="id"+(new Date).getTime())}),r(e,{name:n,value:t})}}))}},{key:"getEventsList",value:function(){return["onTabChange"]}}]),t}(),vi=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Kc(e,t)}(t,Ca);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=zc(n),t=r?(t=zc(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Uc(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,[{key:"getGeneralDescription",value:function(){var e=this.props.data,r=this.props.parent.handleChange.bind(this.props.parent),t=[{key:"title",name:this.getLocalValue("itemstitlecolumn","Title","tabform")},{key:"visibleCondition",name:this.getLocalValue("visibleConditioncolumn","Visible Condition","tabform")}];return U.a.createElement(na.Form,null,U.a.createElement(na.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","tabform"),value:e.key,onChange:r}),U.a.createElement("div",{className:"field"},U.a.createElement("label",null,this.getLocalValue("optionsfield","Options","menuform")),U.a.createElement(na.Form.Group,null,U.a.createElement(na.Form.Checkbox,{name:"fluid",label:this.getLocalValue("fluidfield","Fluid","tabform"),checked:e.fluid,onChange:r}),U.a.createElement(na.Form.Checkbox,{name:"styled",label:this.getLocalValue("styledfield","Styled","tabform"),checked:e.styled,onChange:r}))),U.a.createElement(_e,{key:"panels",draggable:!0,columns:t,label:this.getLocalValue("panelsfield","Panels","tabform"),name:"panels",value:e.panels,onChange:function(e,t){var n=t.name,t=t.value;Array.isArray(t)&&t.forEach(function(e){ne(e.psid)&&(e.psid="id"+(new Date).getTime())}),r(e,{name:n,value:t})}}))}},{key:"getEventsList",value:function(){return[]}}]),t}();var ou={container:fs,staticcontent:kl,form:Bs,formgroup:zs,tab:s,camera:Ql,customblock:xa,gridlayout:ue,gridview:t,collectioneditor:ss,repeater:$i,header:fe,input:Pn,numberformat:Ra,textarea:function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qc(e,t)}(t,Ca);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Hc(n),t=r?(t=Hc(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Gc(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,[{key:"getGeneralDescription",value:function(){var e=this.props.parent.handleChange.bind(this.props.parent),t=this.props.data;return U.a.createElement(na.Form,null,U.a.createElement(na.Form.Group,{widths:"equal"},U.a.createElement(na.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","textareaform"),value:t.key,onChange:e}),U.a.createElement(na.Form.Input,{name:"label",label:this.getLocalValue("labelfield","Label","textareaform"),value:t.label,onChange:e})),U.a.createElement(na.Form.Group,{widths:"equal"},U.a.createElement(na.Form.Input,{name:"rows",placeholder:"3",type:"number",label:this.getLocalValue("rowsfield","Rows","textareaform"),value:t.rows,onChange:e}),U.a.createElement("div",{className:"field"},U.a.createElement(na.Form.Input,{name:"placeholder",label:this.getLocalValue("placeholderfield","Placeholder","textareaform"),value:t.placeholder,onChange:e}),U.a.createElement("label",null,this.getLocalValue("optionsfield","Options","textareaform")),U.a.createElement(na.Form.Group,{widths:"equal"},U.a.createElement(na.Form.Checkbox,{name:"readOnly",label:this.getLocalValue("readonlyfield","Read only","textareaform"),checked:t.readOnly,onChange:e})))))}},{key:"getEventsList",value:function(){return["onChange"]}}]),t}(),dictionary:Vs,treepicker:function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Jc(e,t)}(t,Ca);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Qc(n),t=r?(t=Qc(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Yc(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,[{key:"getStyleDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent),n="/*** Example Code ***/\ncolor:red;\npaddingTop:5px;";return U.a.createElement(na.Form,{key:"styleDescriptionForm"},U.a.createElement(na.Form.Group,{widths:"equal"},U.a.createElement(na.Form.Input,{name:"style-width",label:this.getLocalValue("widthfield","Width"),placeholder:"100px",value:e["style-width"],onChange:t}),U.a.createElement(na.Form.Input,{name:"style-height",label:this.getLocalValue("heightfield","Height"),placeholder:"100px",value:e["style-height"],onChange:t})),U.a.createElement(na.Form.Group,{widths:"equal"},U.a.createElement(na.Form.Input,{name:"style-marginTop",label:this.getLocalValue("margintopfield","Margin Top"),placeholder:"0px",value:e["style-marginTop"],onChange:t}),U.a.createElement(na.Form.Input,{name:"style-marginBottom",label:this.getLocalValue("marginbottomfield","Margin Bottom"),placeholder:"0px",value:e["style-marginBottom"],onChange:t}),U.a.createElement(na.Form.Input,{name:"style-marginLeft",label:this.getLocalValue("marginleftfield","Margin Left"),placeholder:"0px",value:e["style-marginLeft"],onChange:t}),U.a.createElement(na.Form.Input,{name:"style-marginRight",label:this.getLocalValue("marginrightfield","Margin Right"),placeholder:"0px",value:e["style-marginRight"],onChange:t})),U.a.createElement(na.Form.Group,{widths:"equal"},U.a.createElement(na.Form.Input,{name:"style-customcss",label:this.getLocalValue("buttoncssclass","Custom CSS class for button","treepickerform"),placeholder:"dwkit-application-css (without '.')",value:e["style-customcss"],onChange:t}),U.a.createElement(na.Form.Input,{name:"style-custommodalcss",label:this.getLocalValue("modalcssclass","Custom CSS class for modal","treepickerform"),placeholder:"dwkit-application-css (without '.')",value:e["style-custommodalcss"],onChange:t})),U.a.createElement(na.Form.Group,{widths:"equal"},U.a.createElement(na.Form.TextArea,{name:"style-source",label:this.getLocalValue("buttonstyle","Button style","treepickerform"),placeholder:n,value:e["style-source"],onChange:t}),U.a.createElement(na.Form.TextArea,{name:"style-modalsource",label:this.getLocalValue("modalstyle","Modal style","treepickerform"),placeholder:n,value:e["style-modalsource"],onChange:t})),U.a.createElement(na.Form.Checkbox,{name:"style-hidden",label:this.getLocalValue("hiddenfield","Hidden"),checked:e["style-hidden"],onChange:t}))}},{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent);return U.a.createElement(na.Form,null,U.a.createElement(na.Form.Group,{widths:"equal"},U.a.createElement(na.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","treepickerform"),value:e.key,onChange:t}),U.a.createElement(na.Form.Input,{name:"label",label:this.getLocalValue("labelfield","Label","treepickerform"),value:e.label,onChange:t})),U.a.createElement(na.Form.Group,{widths:"equal"},U.a.createElement(na.Form.Input,{name:"dataModel",label:this.getLocalValue("datamodelfield","Data model","treepickerform"),value:e.dataModel,onChange:t}),U.a.createElement(na.Form.Input,{name:"parentIdField",label:this.getLocalValue("parentidfield","ParentId field","treepickerform"),value:e.parentIdField,onChange:t})),U.a.createElement(na.Form.Group,{widths:"equal"},U.a.createElement("div",{className:"field"},U.a.createElement(na.Form.Input,{name:"columns",label:this.getLocalValue("columnsfield","Columns (Name ASC, Email)","treepickerform"),value:e.columns,onChange:t}),U.a.createElement(na.Form.Input,{name:"text",label:this.getLocalValue("textfield","Text expression","treepickerform"),value:e.text,onChange:t,placeholder:"data.Name + ' ' + data.Email"})),U.a.createElement("div",{className:"field"},U.a.createElement(na.Form.Input,{name:"pageSize",label:this.getLocalValue("pagesizefield","Page Size","treepickerform"),disabled:!e.paging,value:e.pageSize,placeholder:"100",onChange:t}),U.a.createElement("label",null,this.getLocalValue("optionsfield","Options","treepickerform")),U.a.createElement(na.Form.Group,null,U.a.createElement(na.Form.Checkbox,{name:"paging",label:this.getLocalValue("pagingfield","Server pagination","treepickerform"),checked:e.paging,onChange:t}),U.a.createElement(na.Form.Checkbox,{name:"multiple",label:this.getLocalValue("multiplefield","Multiple","treepickerform"),checked:e.multiple,onChange:t}),U.a.createElement(na.Form.Checkbox,{name:"fluid",label:this.getLocalValue("fluidfield","Fluid","treepickerform"),checked:e.fluid,onChange:t}),U.a.createElement(na.Form.Checkbox,{name:"selection",label:this.getLocalValue("selectionfield","Selection","treepickerform"),checked:e.selection,onChange:t})),U.a.createElement(na.Form.Group,null,U.a.createElement(na.Form.Checkbox,{name:"readOnly",label:this.getLocalValue("readonlyfield","Read only","treepickerform"),checked:e.readOnly,onChange:t}),U.a.createElement(na.Form.Checkbox,{name:"disabled",label:this.getLocalValue("disabledfield","Disabled","treepickerform"),checked:e.disabled,onChange:t}),U.a.createElement(na.Form.Checkbox,{name:"clearable",label:this.getLocalValue("clearablefield","Clearable","treepickerform"),checked:e.clearable,onChange:t})))))}},{key:"getEventsList",value:function(){return["onChange"]}}]),t}(),dropdown:ks,checkbox:os,radiogroup:qi,button:ql,label:Lr,message:la,image:Ae,statistic:Vl,customcontrol:ys,dropdowntrigger:As,dropzonecontrol:Ls,files:Ts,breadcrumb:Ul,search:al,menu:Rr,workflowbar:function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xc(e,t)}(t,Ca);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Zc(n),t=r?(t=Zc(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==$c(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,[{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent);return U.a.createElement(na.Form,null,U.a.createElement(na.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","workflowform"),value:e.key,onChange:t}),U.a.createElement(na.Form.Input,{name:"setStateButton",label:this.getLocalValue("setstatebuttonfield","Set state button","workflowform"),value:e.setStateButton,onChange:t}),U.a.createElement(na.Form.Group,{horizontal:!0},U.a.createElement(na.Form.Checkbox,{name:"blockSetState",label:this.getLocalValue("blocksetstatefield","Block SetState","workflowform"),checked:Boolean(e.blockSetState),onChange:t}),U.a.createElement(na.Form.Checkbox,{name:"blockCommands",label:this.getLocalValue("blockcommandsfield","Block Commands","workflowform"),checked:Boolean(e.blockCommands),onChange:t}),U.a.createElement(na.Form.Checkbox,{name:"blockLoadParameters",label:this.getLocalValue("blockloadparametersfield","Block load parameters","workflowform"),checked:void 0===e.blockLoadParameters||e.blockLoadParameters,onChange:t}),U.a.createElement(na.Form.Checkbox,{name:"blockSelectScheme",label:this.getLocalValue("blockselectschemefield","Block select scheme","workflowform"),checked:e.blockSelectScheme,onChange:t})),U.a.createElement(na.Form.Input,{name:"selectSchemeDropdown",label:this.getLocalValue("selectschemedropdownfield","Select scheme dropdown","workflowform"),value:e.selectSchemeDropdown,onChange:t,disabled:e.blockSelectScheme}))}},{key:"getEventsList",value:function(){return["onCommandClick","onSetStateClick","onReceivedCommands","onSchemeSelected"]}}]),t}(),richtexteditor:ol,barchart:es,linechart:es,scatterchart:es,doughnutchart:es,piechart:es,radarchart:es,card:function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tu(e,t)}(o,Ca);var n,r,t=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=nu(n),t=r?(t=nu(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==eu(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function o(e){return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),t.call(this,e)}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(o.prototype,[{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent);return U.a.createElement(na.Form,null,U.a.createElement(na.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","cardform"),value:e.key,onChange:t}),U.a.createElement(na.Form.TextArea,{name:"header",label:this.getLocalValue("headerfield","Header","cardform"),value:e.header,onChange:t}),U.a.createElement(na.Form.TextArea,{name:"subheader",label:this.getLocalValue("subheaderfield","Subheader","cardform"),value:e.subheader,onChange:t}),U.a.createElement(na.Form.Input,{name:"imgurl",label:this.getLocalValue("imgurlfield","Image URL","cardform"),value:e.imgurl,onChange:t}))}},{key:"getEventsList",value:function(){return["onClick"]}}]),o}(),signature:bl,accordion:vi};!function(){var e,t=Co(),n=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e){if(e){if("string"==typeof e)return ru(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?ru(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return{s:t=function(){},n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,i=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){i=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(i)throw o}}}}(t);try{for(n.s();!(e=n.n()).done;){var r=e.value,o=ou[r.key];o&&(r.editControl=o)}}catch(e){n.e(e)}finally{n.f()}ko(t)}(),Ml.setItems(Co());var au=Ml;function iu(e){return(iu="function"==typeof Symbol&&"symbol"==Du(Symbol.iterator)?function(e){return Du(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Du(e)})(e)}function lu(e,t){return(lu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function su(e){return(su=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var cu=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&lu(e,t)}(o,ja);var n,r,t=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=su(n),t=r?(t=su(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==iu(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function o(e){return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),(e=t.call(this,e)).dwKitControls=au,e}return o}();function uu(e){return(uu="function"==typeof Symbol&&"symbol"==Du(Symbol.iterator)?function(e){return Du(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Du(e)})(e)}function pu(e,t){return(pu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fu(e){return(fu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var du=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pu(e,t)}(o,ta);var n,r,t=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=fu(n),t=r?(t=fu(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==uu(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function o(e){return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),(e=t.call(this,e)).createControls=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Ml.createControls.apply(Ml,t)},e}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(o.prototype,[{key:"render",value:function(){var t=this,e="dwkit-form"+(void 0===this.props.className?"":" "+this.props.className),n=this.getItemsForRender();return U.a.createElement("div",{className:e,ref:function(e){t.currentElement=e}},n)}},{key:"print",value:function(e){if(this.currentElement){var t=this.currentElement.innerHTML,n=window.open("",this.props.formName,"toolbar=no,location=no,directories=no,status=no,scrollbars=yes,resizable=yes");e||(n.document.title=this.props.formName),n.document.title=e||"PrintForm",n.document.head.insertAdjacentHTML("beforeend","<style type='text/css'>body, html { height: auto!important; width:auto!important;} body{margin:10px!important;} .dwkit-notprint{display:none!important;}</style>");for(var r=document.getElementsByTagName("style"),o=0;o<r.length;o++){var a="<style>"+r[o].innerHTML+"</style>";n.document.head.insertAdjacentHTML("beforeend",a)}for(var i=document.getElementsByTagName("link"),o=0;o<i.length;o++){var l=i[o];"stylesheet"==l.rel&&(a='<link href="'+l.href+'" rel="stylesheet" type="text/css" />',n.document.head.insertAdjacentHTML("beforeend",a))}n.document.body.innerHTML=t;for(var s=n.document.getElementsByTagName("img"),o=0;o<s.length;o++){var c,u=s[o];u.src||!u.attributes.src||(c=u.attributes.src.value)&&1<c.length&&(u.src=location.origin+("/"!=c[0]?"/":"")+c)}n.focus(),setTimeout(function(){n.print()},1e3)}}}]),o}();function hu(e){return(hu="function"==typeof Symbol&&"symbol"==Du(Symbol.iterator)?function(e){return Du(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Du(e)})(e)}function mu(e,t){return(mu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function yu(e){return(yu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var gu=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mu(e,t)}(t,du);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=yu(n),t=r?(t=yu(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==hu(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return t}(),vi=n(23),bu=n.n(vi);function vu(e){return(vu="function"==typeof Symbol&&"symbol"==Du(Symbol.iterator)?function(e){return Du(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Du(e)})(e)}function Vu(e,t){return(Vu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function wu(e){return(wu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Eu=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Vu(e,t)}(t,uo);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=wu(n),t=r?(t=wu(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==vu(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,[{key:"render",value:function(){var t=this,e=[],n=void 0;try{e=pe.a.parse(this.state.data),oe(this.state.errors)&&(n=pe.a.parse(this.state.errors))}catch(e){}return U.a.createElement("div",{className:"dwkit-formviewer"},U.a.createElement(bu.a,{style:{display:"flex"},sizes:[75,25],onDrag:function(){return t.forceUpdate()}},U.a.createElement(na.Segment,{style:{overflow:"auto"}},U.a.createElement("h1",null,"Form"),U.a.createElement(du,{model:this.state.model,data:e,errors:n,eventFunc:this.eventFunc.bind(this),eventErrFunc:this.props.eventErrProcess,getFormFunc:this.props.getFormFunc,dataChanged:this.formDataChaged.bind(this),getAdditionalDataForControl:this.getAdditionalDataForControl.bind(this),downloadUrl:this.props.downloadUrl,uploadUrl:this.props.uploadUrl,externalControlList:this.props.externalControlList,externalControlRender:this.props.externalControlRender,adaptiveViewType:this.state.adaptiveViewType,autoCheckConditions:!0,autoValidate:!0,ref:function(e){t.form=e}})),U.a.createElement("div",null,U.a.createElement("div",null,U.a.createElement(na.Checkbox,{style:{marginRight:"10px"},radio:!0,name:"adaptiveViewTypeDesktop",label:"Desktop",checked:"desktop"===this.state.adaptiveViewType,onChange:function(){t.setState({adaptiveViewType:"desktop"})}}),U.a.createElement(na.Checkbox,{radio:!0,name:"adaptiveViewTypeMobile",label:"Mobile",checked:"mobile"===this.state.adaptiveViewType,onChange:function(){t.setState({adaptiveViewType:"mobile"})}})),U.a.createElement("h1",null,"Data"),U.a.createElement(na.TextArea,{rows:12,onChange:this.handleChange.bind(this),value:this.state.data}),U.a.createElement("h1",null,"Errors"),U.a.createElement(na.TextArea,{rows:4,onChange:this.handleChangeErrors.bind(this),value:this.state.errors}),U.a.createElement("h1",null,"Model"),U.a.createElement(na.TextArea,{rows:4,value:pe.a.stringify(this.state.model,null,4)}))),U.a.createElement("div",{style:{clear:"both"}},U.a.createElement("h1",null,"Events"),U.a.createElement(na.TextArea,{rows:12,readOnly:!0,value:this.state.eventslog})))}},{key:"print",value:function(){this.form.print()}}]),t}();function _u(e){return(_u="function"==typeof Symbol&&"symbol"==Du(Symbol.iterator)?function(e){return Du(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Du(e)})(e)}function ku(e,t){return(ku=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Cu(e){return(Cu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ou=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ku(e,t)}(t,_e);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Cu(n),t=r?(t=Cu(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==_u(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return t}();function Su(e){return(Su="function"==typeof Symbol&&"symbol"==Du(Symbol.iterator)?function(e){return Du(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Du(e)})(e)}function Au(e,t){return(Au=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function xu(e){return(xu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Pu=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Au(e,t)}(t,qt);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=xu(n),t=r?(t=xu(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Su(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return t}()}],E.c=k,E.d=function(e,t,n){E.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},E.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},E.t=function(t,e){if(1&e&&(t=E(t)),8&e)return t;if(4&e&&"object"==Du(t)&&t&&t.__esModule)return t;var n=Object.create(null);if(E.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)E.d(n,r,function(e){return t[e]}.bind(null,r));return n},E.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return E.d(t,"a",t),t},E.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},E.p="",E(E.s=32);function E(e){if(k[e])return k[e].exports;var t=k[e]={i:e,l:!1,exports:{}};return _[e].call(t.exports,t,t.exports,E),t.l=!0,t.exports}var _,k},"object"==Du(r)&&"object"==Du(e)?e.exports=n(o(0),o(1),o(3),o(13),o(14),o(15),o(4),o(16),o(17),o(18),o(20),o(21),o(22),o(23),o(24),o(25),o(26),o(9),o(27),o(10)):(t=[o(0),o(1),o(3),o(13),o(14),o(15),o(4),o(16),o(17),o(18),o(20),o(21),o(22),o(23),o(24),o(25),o(26),o(9),o(27),o(10)],void 0===(n="function"==typeof n?n.apply(r,t):n)||(e.exports=n))}.call(this,o(38)(e))},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var t=n(0),i=n.n(t),l=n(2),s=n(1),c=n(5);function u(e){return(u="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(e){return _typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof2(e)})(e)}function a(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function p(r){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?a(Object(o),!0).forEach(function(e){var t,n=r;e=o[t=e],t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):a(Object(o)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))})}return r}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var r=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(a,l.a);var n,r,o=(n=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=m(n),t=r?(t=m(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==u(t)&&"function"!=typeof t?h(e):t});function a(e){!function(e){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this),null==(e=o.call(this,e)).idfield&&(e.idfield="id"),e.state={openmodal:!1};var t=h(e);return window.onresize=function(){t.recalcSizeParams()},e}return f(a.prototype,[{key:"createNewObject",value:function(){var e={__state:"inserted"};return e[this.idfield]=this.NewGUID(),e}},{key:"showedit",value:function(e){this.state.editrowid=void 0,this.props.parent.openpage(this.panelindex,e[this.idfield])}},{key:"loadeditrow",value:function(){var e;this.state.editrowid=this.props.id,null!=this.props.id?(e=this.getEditRow(),this.state.editrow=this.СloneObj(e)):this.state.editrow=void 0}},{key:"applyeditrow",value:function(){for(var e=this.state.editrow[this.idfield],t=-1,n=this.props.data[this.dataindex],r=0;r<n.length;r++)if(e===n[r][this.idfield]){t=r;break}0<=t?this.props.data[this.dataindex][t]=this.state.editrow:this.props.data[this.dataindex].unshift(this.state.editrow)}},{key:"back",value:function(){this.props.parent.openpage(this.panelindex)}},{key:"getEditRow",value:function(){var e=this.props.id;if("new"===e){var t=this.createNewObject();if(void 0!==this.props.copyid)for(var n=this.props.data[this.dataindex],r=0;r<n.length;r++)if(n[r][this.idfield]===this.props.copyid){for(var o in n[r])void 0===t[o]&&(t[o]=n[r][o]);break}return t}for(var a=this.props.data[this.dataindex],i=0;i<a.length;i++)if(a[i][this.idfield]===e)return a[i];alertify.error(DWKitAdminLang.msg.objectnotfound)}},{key:"render",value:function(){return this.state.editrowid!=this.props.id&&this.loadeditrow(),i.a.createElement("div",null,null==this.props.id?this.renderMainForm():this.renderEditForm())}},{key:"validate",value:function(){return!0}},{key:"reload",value:function(){this.state={},this.forceUpdate()}},{key:"renderMainForm",value:function(){var t=this,e=this,n=(null==this.props.data[this.dataindex]||this.props.data[this.dataindex].length,this.gridColumns()),r="";return 0<n.length&&(r=n[0].key+" ASC"),i.a.createElement("div",null,i.a.createElement("h1",null,this.titleGetter?this.titleGetter(DWKitAdminLang):this.title),this.renderToolbar(),i.a.createElement(c.SemanticGridView,{key:"Formgrid",rowKey:this.idfield,rowHeight:40,columns:this.gridColumns(),defaultSort:r,minHeight:this.state.gridHeight,multiselect:!0,value:this.props.data[this.dataindex],handleEvent:this.gridHandleEvent.bind(this),ref:function(e){t.grid=e}}),i.a.createElement(s.Confirm,{open:this.state.confirmdeleteshow,dimmer:"blurring",content:DWKitAdminLang.msg.confirmdelete,onCancel:function(){e.setState({confirmdeleteshow:!1})},onConfirm:this.onDelete.bind(this)}))}},{key:"renderToolbar",value:function(){var e=this,t=this;return i.a.createElement("div",{className:"dwkitadmin-toolbar"},i.a.createElement(s.Button,{className:"buttontype1",onClick:function(){e.props.parent.openpage(e.panelindex,"new")}},DWKitAdminLang.button.create),i.a.createElement(s.Button,{className:"buttontype2",onClick:function(){t.setState({confirmdeleteshow:!0})}},DWKitAdminLang.button.delete))}},{key:"renderEditForm",value:function(){return i.a.createElement(this.editform,p(p({},this.props),{},{parent:this,data:this.state.editrow,ischanged:this.state.ischanged,metadata:this.props.data,handleChange:this.handleChange,onSave:this.onSave,onCancel:this.onCancel}))}},{key:"onSave",value:function(t){var n=this;this.validate()?null!=n.state.editrow.__state?(n.state.editrow.__type=this.datatype,this.ChangeData([n.state.editrow],function(e){n.ResetSystemProps(n.state.editrow),n.applyeditrow(),n.showedit(n.state.editrow),n.state.needGlobalReload&&(n.state.needGlobalReload=void 0,setTimeout(function(){n.props.parent.load(),Pace.stop()},100)),t&&t(e)})):alertify.success(DWKitAdminLang.msg.unchangedobject):alertify.error(DWKitAdminLang.msg.checkerrorsonform)}},{key:"onCancel",value:function(){var e=this.state.editrow;if(this.loadeditrow(),null!=e)for(var t in e)null==this.state.editrow[t]&&null!=e[t]&&"string"==u(e[t])&&(this.state.editrow[t]="");this.forceUpdate()}},{key:"getDefaultObjectCode",value:function(){for(var e=this.defaultNamePrefix,t=0;t<1e3;t++){var n=e+(0===t?"":"_"+t.toString());if(this.validateCode(n)){e=n;break}}return e}},{key:"validateCode",value:function(e){var t=!0,n=this.props.data[this.dataindex];if(null!=n)for(var r=0;r<n.length;r++)if(n[r][this.idfield]==e){t=!1;break}return t}},{key:"onDelete",value:function(){for(var e=this,t=[],n=[],r=this.grid.getSeletedRowKeys(),o=0;o<this.props.data[this.dataindex].length;o++){for(var a,i=this.props.data[this.dataindex][o],l=!1,s=0;s<r.length;s++)if(i[this.idfield]==r[s]){l=!0;break}l?((a=this.props.data[this.dataindex][o]).__type=this.datatype,a.__state="deleted",n.push(a)):t.push(this.props.data[this.dataindex][o])}e.setState({confirmdeleteshow:!1}),this.ChangeData(n,function(){e.props.data[e.dataindex]=t,e.grid.resetSelection(),e.forceUpdate()})}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"componentDidMount",value:function(){this._isMounted=!0,this.recalcSizeParams()}},{key:"recalcSizeParams",value:function(){var e;this._isMounted&&(e=$(window).height(),this.setState({gridHeight:e-210-this.props.deltaHeight}))}},{key:"gridColumns",value:function(){return[{key:"code",name:DWKitAdminLang.column.code,resizable:!0}]}},{key:"gridHandleEvent",value:function(e){var t=e.eventName,e=e.parameters;"onRowDblClick"===t&&this.showedit(e.row)}}]),a}()},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var t=n(0),a=n.n(t),t=n(4),i=(n(2),n(1)),t=n(3),l=n(6);function s(e){return(s="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(e){return _typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof2(e)})(e)}function c(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function u(r){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?c(Object(o),!0).forEach(function(e){var t,n=r;e=o[t=e],t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):c(Object(o)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))})}return r}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var r=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(o,l.a);var n,r,t=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=d(n),t=r?(t=d(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==s(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function o(e){return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),(e=t.call(this,e)).state.popup={show:!1},e}return p(o.prototype,[{key:"renderToolbar",value:function(){var e,t,n,r=this,o=[];return this.hidebuttons||(e=function(){r.setState({popup:{show:!1}})},o.push(a.a.createElement(i.Button,{key:"btnCreate",className:"buttontype1",onClick:function(){r.setState({popup:{show:!0}})}},DWKitAdminLang.button.create)),o.push(a.a.createElement(i.Button,{key:"btnDelete",className:"buttontype2",onClick:function(){r.setState({confirmdeleteshow:!0})}},DWKitAdminLang.button.delete)),this.renderToolbarExtraButtons&&(t=this.renderToolbarExtraButtons(),Array.isArray(t)?t.forEach(function(e){o.push(e)}):o.push(t))),null!=this.state.popup.errors&&(n=a.a.createElement(i.Message,{negative:!0},a.a.createElement("p",null,this.state.popup.errors))),a.a.createElement("div",{className:"dwkitadmin-toolbar"},o,a.a.createElement(i.Modal,{dimmer:"blurring",open:this.state.popup.show},a.a.createElement(i.Modal.Header,null,DWKitAdminLang.modal.creatingheader),a.a.createElement(i.Modal.Content,null,a.a.createElement(i.Form,null,n,a.a.createElement(i.Form.Input,{key:"name",name:"newobjectname",label:DWKitAdminLang.field.name,required:!0,value:this.state.popup.name,onChange:this.handlePopupChange.bind(this),error:null!=this.state.popup.errors}))),a.a.createElement(i.Modal.Actions,null,a.a.createElement(i.Button,{className:"buttontype1",content:DWKitAdminLang.button.create,onClick:this.onCreate.bind(this)}),a.a.createElement(i.Button,{className:"buttontype2",content:DWKitAdminLang.button.cancel,onClick:e}))))}},{key:"handlePopupChange",value:function(e,t){t.name;var n=t.value;t.checked,this.setState({popup:u(u({},this.state.popup),{},{name:n})})}},{key:"onCreate",value:function(){var e=this.state.popup.name;""!=e&&null!=e?(this.setState({popup:{show:!1}}),this.props.parent.openpage(this.panelindex,e)):this.setState({popup:u(u({},this.state.popup),{},{errors:DWKitAdminLang.msg.fieldrequired})})}},{key:"getEditRow",value:function(){var e=this.ignoreidcase?this.props.id.toLowerCase():this.props.id,t=this.props.data[this.dataindex];if(Array.isArray(t))for(var n=0;n<t.length;n++)if((this.ignoreidcase?t[n][this.idfield].toLowerCase():t[n][this.idfield])===e)return t[n];var r={};return r[this.idfield]=this.props.id,r}}]),o}()},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var t=n(0),a=n.n(t),i=n(1),t=n(3),l=n.n(t);function s(e){return(s="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(e){return _typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof2(e)})(e)}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var r=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(o,a.a.Component);var n,r,t=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=f(n),t=r?(t=f(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==s(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function o(e){return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),(e=t.call(this,e)).divId="dwkit-admin-actionparameter-editjson",e.serverVariables=["@OperationUserId","@OperationUserName","@CurrentUserId","@CurrentUserName","@DateTimeNow","@DateNow","@DefaultState","@DefaultStateName","@NextNumberId"],Array.isArray(e.props.extraServerVariables)&&(e.serverVariables=[].concat(e.serverVariables,e.props.extraServerVariables)),e.state={},e}return u(o.prototype,[{key:"render",value:function(){var e=this;return a.a.createElement("div",{className:"field"},a.a.createElement(i.Form.Input,c({},this.props,{suggestions:void 0,icon:a.a.createElement(i.Icon,{name:"edit",onClick:this.showJSON.bind(this),link:!0})})),a.a.createElement(i.Modal,{dimmer:"inverted",open:this.state.showJSON,onClose:function(){return e.setState({showJSON:!1})}},a.a.createElement(i.Modal.Header,null,"JSON Editor"),a.a.createElement(i.Modal.Content,null,a.a.createElement("div",{id:"dwkit-admin-actionparameter-editjson",style:{height:"415px"}})),a.a.createElement(i.Modal.Actions,null,a.a.createElement(i.Button,{onClick:this.onFormat.bind(this)},DWKitAdminLang.button.format),a.a.createElement(i.Button,{className:"buttontype1",onClick:this.onSave.bind(this)},DWKitAdminLang.button.save),a.a.createElement(i.Button,{className:"buttontype2",onClick:function(){return e.setState({showJSON:!1})}},DWKitAdminLang.button.cancel))))}},{key:"showJSON",value:function(){this.setState({showJSON:!0});var e=this;setTimeout(function(){e.redrawEditor()},10)}},{key:"redrawEditor",value:function(){var i=this,e=ace.edit(this.divId);e.getSession().setMode("ace/mode/json"),e.setOptions({enableBasicAutocompletion:!0,enableLiveAutocompletion:!0}),e.completers=[{getCompletions:function(e,t,n,r,o){var a=i.serverVariables.map(function(e){return{caption:e,value:'"'+e+'"',meta:"DWKit Variable"}});o(null,a=Array.isArray(i.props.suggestions)&&0<i.props.suggestions.length?[].concat(a,i.props.suggestions):a)},getDocTooltip:function(e){}}],this.props.value?e.setValue(this.props.value,-1):(e.setValue("{\n\t\n}",-1),e.gotoLine(2,1)),e.focus()}},{key:"onSave",value:function(){var e=ace.edit(this.divId).getValue();this.props.onChange(void 0,{name:this.props.name,value:e}),this.setState({showJSON:!1})}},{key:"onFormat",value:function(){var e=ace.edit(this.divId),t=e.getValue();e.setValue(this.toPrettyJSON(t)),e.clearSelection()}},{key:"toPrettyJSON",value:function(t){try{return JSON.stringify(JSON.parse(t),null,"\t")}catch(e){try{return l.a.stringify(l.a.parse(t),null,"\t")}catch(e){return t}}}},{key:"getSearchPatterns",value:function(e,t){for(var n=[],r="",o=!1,a=t-1;0<=a;a--){var i=e.charAt(a);if(!this.alphaNumberDotAt(i))break;if("."===i){if(0<a){var l=e.charAt(a-1);if(!this.alphaNumberAt(l)){o=!0;break}}n.push(r),r=""}else r=i+r}return o&&0===n.length?null:(r&&(0<n.length||r.trim()!=r)&&n.push(r),n)}},{key:"alphaNumberDotAt",value:function(e){return"@"===e||this.alphaNumberDot(e)}},{key:"alphaNumberDot",value:function(e){return"."===e||this.alphaNumber(e)}},{key:"alphaNumberAt",value:function(e){return"@"===e||this.alphaNumber(e)}},{key:"alphaNumber",value:function(e){return e&&e.match(/^[0-9a-zA-Z]+$/)}}]),o}()},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE__9__},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE__10__},function(e,t,n){"use strict";n.d(t,"a",function(){return ga});var i=n(0),V=n.n(i),t=(n(4),n(3)),c=n.n(t),w=n(1);function a(e){return(a="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(e){return _typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof2(e)})(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(o,V.a.Component);var n,r,t=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=u(n),t=r?(t=u(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==a(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function o(e){return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),t.call(this,e)}return l(o.prototype,[{key:"handleItemClick",value:function(e,t){t=t.name,document.location.hash="",this.props.parent.handleMenuItemClick(e,{name:t}),e.preventDefault()}},{key:"render",value:function(){var e=this.props.activeItem;return V.a.createElement(w.Menu,{vertical:!0,size:"huge"},V.a.createElement(w.Menu.Item,{name:"dashboard",active:"dashboard"===e,href:"?apanel=dashboard",onClick:this.handleItemClick.bind(this).bind(this)},DWKitAdminLang.sidemenu.dashboard),V.a.createElement(w.Menu.Item,null,V.a.createElement(w.Menu.Header,null,DWKitAdminLang.sidemenu.data),V.a.createElement(w.Menu.Menu,null,V.a.createElement(w.Menu.Item,{name:"datamodel",active:"datamodel"===e,href:"?apanel=datamodel",onClick:this.handleItemClick.bind(this)},DWKitAdminLang.sidemenu.datamodel),V.a.createElement(w.Menu.Item,{name:"datasync",active:"datasync"===e,href:"?apanel=datasync",onClick:this.handleItemClick.bind(this)},DWKitAdminLang.sidemenu.datasync),V.a.createElement(w.Menu.Item,{name:"datasources",active:"datasources"===e,href:"?apanel=datasources",onClick:this.handleItemClick.bind(this)},DWKitAdminLang.sidemenu.datasources))),V.a.createElement(w.Menu.Item,{name:"codeactions",active:"codeactions"===e,href:"?apanel=codeactions",onClick:this.handleItemClick.bind(this)},DWKitAdminLang.sidemenu.codeactions),V.a.createElement(w.Menu.Item,null,V.a.createElement(w.Menu.Header,null,DWKitAdminLang.sidemenu.form),V.a.createElement(w.Menu.Menu,null,V.a.createElement(w.Menu.Item,{name:"forms",active:"forms"===e,href:"?apanel=forms",onClick:this.handleItemClick.bind(this)},DWKitAdminLang.sidemenu.forms),V.a.createElement(w.Menu.Item,{name:"formdata",active:"formdata"===e,href:"?apanel=formdata",onClick:this.handleItemClick.bind(this)},DWKitAdminLang.sidemenu.formdata),V.a.createElement(w.Menu.Item,{name:"actionhandlers",active:"actionhandlers"===e,href:"?apanel=actionhandlers",onClick:this.handleItemClick.bind(this)},DWKitAdminLang.sidemenu.actionhandlers),V.a.createElement(w.Menu.Item,{name:"mobileforms",active:"mobileforms"===e,href:"?apanel=mobileforms",onClick:this.handleItemClick.bind(this)},DWKitAdminLang.sidemenu.mobileforms),V.a.createElement(w.Menu.Item,{name:"localization",active:"localization"===e,href:"?apanel=localization",onClick:this.handleItemClick.bind(this)},DWKitAdminLang.sidemenu.localization))),V.a.createElement(w.Menu.Item,null,V.a.createElement(w.Menu.Header,null,DWKitAdminLang.sidemenu.workflow),V.a.createElement(w.Menu.Menu,null,V.a.createElement(w.Menu.Item,{name:"workflow",active:"workflow"===e,href:"?apanel=workflow",onClick:this.handleItemClick.bind(this)},DWKitAdminLang.sidemenu.schemes),V.a.createElement(w.Menu.Item,{name:"workflowinstances",active:"workflowinstances"===e,href:"?apanel=workflowinstances",onClick:this.handleItemClick.bind(this)},DWKitAdminLang.sidemenu.workflowinstances),V.a.createElement(w.Menu.Item,{name:"businessflow",active:"businessflow"===e,href:"?apanel=businessflow",onClick:this.handleItemClick.bind(this)},DWKitAdminLang.sidemenu.businessflow),V.a.createElement(w.Menu.Item,{name:"commandform",active:"commandform"===e,href:"?apanel=commandform",onClick:this.handleItemClick.bind(this)},DWKitAdminLang.sidemenu.commandform))),V.a.createElement(w.Menu.Item,null,V.a.createElement(w.Menu.Header,null,DWKitAdminLang.sidemenu.security),V.a.createElement(w.Menu.Menu,null,V.a.createElement(w.Menu.Item,{name:"users",active:"users"===e,href:"?apanel=users",onClick:this.handleItemClick.bind(this)},DWKitAdminLang.sidemenu.users),V.a.createElement(w.Menu.Item,{name:"groups",active:"groups"===e,href:"?apanel=groups",onClick:this.handleItemClick.bind(this)},DWKitAdminLang.sidemenu.groups),V.a.createElement(w.Menu.Item,{name:"roles",active:"roles"===e,href:"?apanel=roles",onClick:this.handleItemClick.bind(this)},DWKitAdminLang.sidemenu.roles),V.a.createElement(w.Menu.Item,{name:"permissions",active:"permissions"===e,href:"?apanel=permissions",onClick:this.handleItemClick.bind(this)},DWKitAdminLang.sidemenu.permissions))),V.a.createElement(w.Menu.Item,{name:"resources",active:"resources"===e,href:"?apanel=resources",onClick:this.handleItemClick.bind(this)},DWKitAdminLang.sidemenu.resourceEditor),V.a.createElement(w.Menu.Item,{href:"https://dwkit.com/contacts/",target:"_blank"},DWKitAdminLang.sidemenu.support))}}]),o}();function f(e){return(f="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(e){return _typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof2(e)})(e)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function r(e,t){return t}function y(e,t){return o()(e,t,{arrayMerge:r})}var g=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(o,V.a.Component);var n,r,t=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=m(n),t=r?(t=m(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==f(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function o(e){return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),(e=t.call(this,e)).state={value:""},e}return d(o.prototype,[{key:"resetSearch",value:function(){this.setState({isLoading:!1,results:[]})}},{key:"handleResultSelect",value:function(e,t){t=t.result,this.props.parent.openpage(t.panelindex,t.id)}},{key:"handleSearchChange",value:function(e,t){var t=t.value,n=this;""!=t?(this.setState({isLoading:!0,value:t}),setTimeout(function(){return n.state.value.length<1?n.resetSearch():void n.setState({isLoading:!1,results:n.search(n.state.value)})},500)):this.setState({isLoading:!1,value:t,results:[]})}},{key:"search",value:function(e){var t={};return this.addResult(t,e,DWKitAdminLang.searchbox.model,this.props.data.dataModel,"datamodel","id",["name","dbObjectName"]),this.addResult(t,e,DWKitAdminLang.searchbox.form,this.props.data.forms,"forms","name",["name"]),this.addResult(t,e,DWKitAdminLang.searchbox.formdata,this.props.data.forms,"formdata","name",["name"]),this.addResult(t,e,DWKitAdminLang.searchbox.actionhandler,this.props.data.forms,"actionhandlers","name",["name"]),this.addResult(t,e,DWKitAdminLang.searchbox.workflow,this.props.data.workflow,"workflow","code",["code"]),this.addResult(t,e,DWKitAdminLang.searchbox.user,this.props.data.users,"users","id",["name","domainLogin","login"]),this.addResult(t,e,DWKitAdminLang.searchbox.group,this.props.data.groups,"groups","id",["name"]),this.addResult(t,e,DWKitAdminLang.searchbox.role,this.props.data.roles,"roles","id",["code","name"]),this.addResult(t,e,DWKitAdminLang.searchbox.codeaction,this.props.data.codeActions,"codeactions","id",["name"]),t}},{key:"addResult",value:function(e,t,n,r,o,a,i){i=this.searchInArray(t,r,o,a,i),Array.isArray(i)&&0<i.length&&(e[n]={name:n,results:i})}},{key:"searchInArray",value:function(e,t,n,r,o){var a,i=[];for(a in t){for(var l=t[a],s=0;s<o.length;s++){var c=o[s];if(null!=l[c]&&0<=l[c].search(new RegExp(e,"i"))){i.push({title:l[c],panelindex:n,id:l[r]});break}}if(4<i.length){i.push({title:"...",panelindex:n});break}}return i}},{key:"render",value:function(){return V.a.createElement(w.Search,{category:!0,fluid:!0,loading:this.state.isLoading,onResultSelect:this.handleResultSelect.bind(this),onSearchChange:this.handleSearchChange.bind(this),results:this.state.results,value:this.state.value})}}]),o}(),b=n(2),t=n(28),o=n.n(t);function v(e){return void 0===e}var E={common:{toolbarappbutton:"App"},sidemenu:{dashboard:"Dashboard",modules:"Modules",data:"Data",datamodel:"Manage data model",datasync:"Sync with Database",codeactions:"Code Actions",form:"Form",forms:"Manage forms",mobileforms:"Manage mobile forms",formdata:"Mapping data model",actionhandlers:"Action Handlers",localization:"Localization",workflow:"Workflow",schemes:"Manage schemes",workflowinstances:"Manage instances",businessflow:"Business Flow",security:"Security",users:"Manage users",groups:"Manage groups",roles:"Manage roles",permissions:"Manage permissions",support:"Support",documentation:"Documentation",faq:"FAQs",emailsupport:"Email support",resourceEditor:"Resource Editor",commandform:"Command forms",datasources:"External Sources"},searchbox:{model:"Model",form:"Form",formdata:"Form data",actionhandler:"Action Handler",workflow:"Workflow",businessflow:"Business Flow",user:"User",group:"Group",role:"Role",codeaction:"CodeAction"},msg:{confirmdelete:"Are you sure you want to delete selected item(s)?",checkerrorsonform:"Check the form for errors",fieldrequired:"This field is required",objectnotfound:"The object has not been found",unchangedobject:"No need to save an unchanged object",saveok:"The changes have been saved",checkerrors:"Something went wrong; check the errors",lookdevconsole:"Look for details in the development console in your browser",appcachereseted:"The application cache has been reset",compileok:"Compilation succeeded",click:"Click",here:"here",fieldmustcontainlettersdigits:"This field must contain only letters and digits",needtoselectitems:"You need to select some items",fileupoaded:"The file has been uploaded",notavailableyet:"There are no available settings yet",moreinformation:"More information is available in the developer console",savedatasuccess:"The changes have been applied",notsupported:"Not supported",commandexecutioncompleted:"Command execution has been completed",newstateset:"The new state was set",commingsoon:"Coming soon",selectrowsfordelete:"Select rows for deletion",rowsdeleted:"Rows have been deleted",extensionscontainerfieldrequired:"Extensions container field is required!",needtoselectoneitem:"You need to select just one item",totalcount:"Total count:",serverglobalerror:"There was a global error in the server's operation, requiring your immediate attention",globalcodeactionshaveerrors:"Some of the Global Code Actions have compilation errors. You need to fix and recompile them in Code actions section.",formmappingerror:"The following forms have mismatch in data mapping:",recompiled:"Code actions have been recompiled",recompiledialog:"Code action was modified. Do you want to recompile?",copied:"Copied!",fieldduplicated:"This value is already defined"},requesterror:{status0:"Not connected.\n Verify Network.",status404:"Requested page not found. [404]",status500:"Internal Server Error [500].",parsererror:"Requested JSON parse failed.",timeout:"Time out error.",abort:"Ajax request aborted.",uncaught:"Uncaught error.",configapi:"Error requesting Config API"},button:{save:"Save",cancel:"Cancel",close:"Close",create:"Create",delete:"Delete",resetappcache:"Reset app cache",compile:"Compile",refresh:"Refresh",applyselectedchanges:"Apply selected changes",select:"Select",deselect:"Deselect",selectall:"Select all",deselectall:"Deselect all",download:"Download",upload:"Upload",workflow:"Workflow",security:"Security",ok:"OK",apply:"Apply",search:"Search",clear:"Clear",copy:"Copy",recompileAll:"Recompile all",yes:"Yes",no:"No",importFromAd:"Import from AD",format:"Format",showdata:"Show Data"},collectioneditor:{add:"Add",delete:"Delete",addchild:"Add child"},upload:{dropzoneText:"Drop files here to upload"},workflowbar:{setstate:"Set state",selectscheme:"Select scheme"},column:{code:"Code",name:"Name",type:"Type",template:"Template"},field:{code:"Code",name:"Name",type:"Type",comment:"Comment",attributes:"Attributes",triggers:"Triggers",action:"Action",parameter:"Parameter",changes:"Changes",readonly:"ReadOnly",loadstrategy:"Loading strategy",auto:"Auto",load:"Load",lazyload:"Lazy Load"},license:{expipedlabel:"License expired",freeupdatedatalabel:"Free update date",licensechecktype:"License check type",licenseholder:"License holder",uploadlicenseorcreatenew:{youcan:"You can",uploadalicense:"upload a license",orcreate:"or create",requestnewlicense:"request a new license"},instances:"Instances",threads:"Threads",users:"Users",forms:"Forms",workflow:"Workflow"},settings:{name:"Name",description:"Description",defaultform:"Default form",defaultmobileform:"Default mobile form",defaulttheme:"Default theme",defaultrtl:"Default RTL for new users",datasequences:"Data Sequences ",unlock:"Unlock",value:"Value"},plugins:{basicplugin:{header:"Basic Plugin",name:"Name",value:"Value",parentmodel:"Parent model",childmodel:"Child model",customrefcolumn:"Custom reference column",mailserver:"Mail Server",port:"Port",login:"Login",password:"Password",fromaddress:"From Address"},workflowplugin:{header:"Workflow Plugin",inoutboxfeature:"Inbox/Outbox feature",statecolumn:"State column in an Entity with workflow",localizedstatecolumn:"Localized State column in an Entity with workflow",deleteworkflow:"Delete workflow processes after an entity has been deleted",datamodelsforcontrolling:"Data models for controlling workflow deletion",enabletranshist:"Enable Transition History",datamodelforstoring:"Data models for storing transition history"},notificationplugin:{header:"Notification Plugin",objectcounts:"Object counts for app.extra values",name:"Name",datamodel:"DataModel",filter:"Filter",parameter:"Parameter"}},codeaction:{title:"Code actions",defineonservercolumn:"Defined on Server",defineonservermsg:"This object is defined on server. You can't edit it in the admin panel.",defineonserverblockdeletemsg:"One of the objects that is being deleted is defined on server. Your can't delete it in the admin panel.",usingsfield:"Usings",filter:"Filter",action:"Action",trigger:"Trigger",isasync:"IsAsync"},data:{title:"Data model",dbobjectfield:"DB Object",schemenamefield:"Scheme name",primarykeyfield:"Primary key",isdeletedfield:"Logical delete attribute",lockversionfield:"Optimistic lock attribute",refentityfield:"Reference entity",datatypefield:"Data type",optionsfield:"Options",nullablefield:"Nullable",virtualfield:"Virtual",extensionfield:"Extension",calculatefield:"Calculate",columnfield:"Column",reffield:"Reference",customDataSourcefield:"Custom Data Source",addattbutton:"Add an attribute",noattributesmsg:"This data model has no attributes.",forcreatetingattmsg:"for creating attributes.",notriggersmsg:"This object has no triggers.",forcreatetingtriggersmsg:"for creating triggers.",addtrigger:"Add a trigger",extensionscontainerfield:"Extensions container",showextensioncolumnsonly:"Show extension columns only",notsetprimarykeymsg:"There is not set the Primary Key field. Some of features for this data model will not work.",notfoundprimarykeymsg:"The Primary Key attribute is not found!",notfoundprimaryextcontmsg:"The Extensions container attribute is not found!",nameexistsmsg:"Data model with this name already exists",modefield:"Mode",standardmode:"Standard Mode",simplifiedmode:"Simplified Mode",workflowschemefield:"Workflow scheme"},datasync:{title:"Sync with Database",analysingmsg:"Click here for DB analysis...",noneedsyncmsg:"The data model and database are synchronized.",analysingagainmsg:"Analysing DB again.",changedtypefield:"Changed type",changestypenew:"New",changetypechanged:"Changed",changetypedeleted:"Deleted",showsystemtables:"Show system tables",chages:"Changes",searchanalyse:"Search & Analyse",searchInclude:"Search Include Pattern",searchExclude:"Search Exclude Pattern",searchTips:"You can use '*' for setting the pattern and commas(',') as dividers for your set of patterns.\nThis search is case-insensitive.\nAs an example 'doc', 'doc*,*group' or '*doc,user'."},form:{title:"Forms",datamap:"Data map",actionhandler:"Action Handler",preview:"Preview",builder:"Builder",viewer:"Viewer",clearformbutton:"Clear form",workflowschemesfield:"Workflow schemes",messagetitle:"Message",workflowwindowtitle:"Workflow",workflowinfoblock:"Here you can associate the form and one or more workflows.\nUse the Business flow object to map form with each workflow state.",securitywindowtitle:"Security",securityinfoblock:"Here you can associate the form and one group of permissions.\nMake sure that this group of permissions has View and Edit permissions and that you gave them access to the permissions.\nOtherwise, users will get the 'Access Denied' error when trying to open this form or change data",permissionsgroupfield:"Group of permissions",fullscreenbutton:"Fullscreen",template:"Template",open:"Open",modelwillbeoverwritten:"Data model bounded to this form will be overwritten",new:"New",existingwithcontrol:"Existing, with control",existingfromprevdatamodel:"From data model"},mobileform:{title:"Mobile forms",datamap:"Data map",actionhandler:"Action Handler",preview:"Preview",builder:"Builder",viewer:"Viewer",clearformbutton:"Clear form",workflowschemesfield:"Workflow schemes",messagetitle:"Message",workflowwindowtitle:"Workflow",workflowinfoblock:"Here you can associate the form and one or more workflows.\nUse the Business flow object to map form with each workflow state.",securitywindowtitle:"Security",securityinfoblock:"Here you can associate the form and one group of permissions.\nMake sure that this group of permissions has View and Edit permissions and that you gave them access to the permissions.\nOtherwise, users will get the 'Access Denied' error when trying to open this form or change data",permissionsgroupfield:"Group of permissions",fullscreenbutton:"Fullscreen",template:"Template",settings:"Settings",navigation:"Navigation",navigationtype:"Navigation Type",navigationtab:"Tab navigation",navigationdrawer:"Drawer navigation",navigationstack:"Stack navigation",defaultmobileform:"Default Mobile Form",namecol:"Name",titlecol:"Title",iconcol:"Icon",targetcol:"Target",menu:"Menu"},datamap:{title:"Mapping data model",builder:"Builder",actionhandler:"Action Handler",automappingbutton:"Auto mapping",resetmappingbutton:"Reset mapping",automappingcompleatemsg:"Auto mapping has been successful",nocontrolsonformmsg:"The form neither has any unattached controls nor uses auto mapping",dropzonemsg:"Drop controls here",moveitemsmsg:"Move items to data model fields.",placefortoncroltitle:"Control",loadfield:"Load",mainentityfield:"Main entity",entityfield:"Entity",mainentityps:"Select a data model",collectionentityfield:"Collection entity",collectionfilterfield:"Collection filter",dataSourceType:"Data source type",dataurlfield:"URL",actionfield:"Action",mismatchmodelmsg:"This form has mismatching in the data model. Check data mapping and click on Save button!",mainentitytriggers:"Main entity triggers",generatedatamodelbutton:"Generate data model",collections:"Collections",controls:"Controls",attributes:"Attributes",formanalyzereport:"Form analyze report",mainentitydatamodel:"Main entity data model",nullablefield:"Nullable",options:"Options",applyfield:"Apply",refentityfield:"Reference entity",warnings:"Warnings:",matertabletypeerrors:"Names of those controls match with predefined Master Table attributes, but their types are incompatible: ",matertabletypeerrorsadvice:". Either rename the controls or make sure that types are compatible.",collectiondatamodels:"Collection data models",referencedmodelnotfound:"Can't find referenced Data Model for those controls: ",checkvalidationerrors:"Please check validation errors before applying the report",nameexistsmsg:"Data model with this name already exists",duplicateNameInReport:"Duplicate data model names",nocontrolbounded:"No control was bounded to this collection. The collection will be fully loaded to clientside",propertynamepriority:"This control has a Property Name and it will have priority in data mapping",loadchildren:"Select all"},actionhandler:{title:"Action Handlers",datamap:"Data map",builder:"Builder",setdefaulttemplatebutton:"Set default template"},businessflow:{title:"Business flow",schemecolumn:"Scheme",defaultformcolumn:"DefaultForm",updatestatesbutton:"Update states",mappingfield:"Mapping",statescolumn:"States",rolescolumn:"Roles",formcolumn:"Form",anyroleitem:"Any role",anystateitem:"Any state",datefromcolumn:"Date From",datetocolumn:"Date To",nameexistsmsg:"Business flow with this name already exists"},commandform:{title:"Command form",nameexistsmsg:"Business flow with this name already exists",schemescolumn:"Schemes",mappingfield:"Mapping",formcolumn:"Form",commandscolumn:"Commands",maprequiredsmsg:"Please create the mapping",duplicatewildcardmappingmsg:"Duplicate '*' mapping",duplicatewildcardmappinginotherformmsg:function(e){return"Mapping '*' already exists in '"+e+"' command form"},duplicateonecommandmappingmsg:function(e){return"Duplicate single command mapping '"+e+"'"},duplicateonecommandmappinginotherformmsg:function(e,t){return"Single command mapping '"+e+"' already exists in '"+t+"' command form"},duplicatemulticommandmappingmsg:function(e){return"More than one multiple command mappings contain '"+e+"' command"},duplicatemulticommandmappinginotherformmsg:function(e,t){return"Multiple command mapping that contains '"+e+"' command already exists in '"+t+"' command form"},schemenotselectedmsg:function(e,t){return"Scheme '"+e+"' wasn't selected for this command form. Either remove '"+t+"' command or add this scheme."}},workflow:{title:"Workflow schemes",schemesaved:"The scheme has been saved",clearschemebutton:"Clear scheme",messagetitle:"Message"},workflowinstance:{title:"Manage instances",schemecolumn:"Scheme",statuscolumn:"Status",activitycolumn:"Activity",statecolumn:"State",setstatebutton:"Set state",setinstancestatusbutton:"Set instance status",activityfield:"Activity",statefield:"State",statechangedmsg:"Process state has been changed",instancestatuschangedmsg:"Instance status has been changed",copyprocessid:"Copy Process Id"},group:{title:"Manage groups",rolesfield:"Roles",syncwithdomainfield:"Sync with domain"},permission:{title:"Manage permissions",deletegroupbutton:"Delete group",createpermissionbutton:"Create a permission",creategroupbutton:"Create a group",managepermissionsfield:"Manage permissions"},role:{title:"Manage roles",resetbutton:"Reset",allowbutton:"Allow",denybutton:"Deny",inheritedtype:"Inherited",allowtype:"Allow",denytype:"Deny"},user:{title:"Manage users",emailfield:"Email",loginfield:"Login",lockedfield:"Locked",rtlfield:"RTL",domainloginfield:"Domain login",passwordfield:"Password",groupsfield:"Groups",rolesfield:"Roles",externalIdField:"ExternalId",localizationfield:"Localization",confirmimport:"Are you sure you want to import users from AD/LDAP?",importfinishedmsg:"Import finished",adimportresultheader:"AD/LDAP import result",groupimportresultmsg:function(e,t,n){return[e," group(s) were returned from the Directory. ",t," group(s) were added and ",n," group(s) were deleted."]},groupswithduplicatenamesmsg:"These group(s) weren't imported because group(s) with the same name already exist: ",userimportresultmsg:function(e,t,n,r){return[e," user(s) were returned from the Directory. ",t," user(s) were added, ",n," user(s) were updated and ",r," user(s) were locked."]},userswithduplicateloginmsg:"User(s) with these logins weren't imported because user(s) with same login(s) already exist: ",externallogins:"External logins"},localization:{title:"Localization",updatetemplatebutton:"Update template"},formbuilder:{clearbutton:"Clear",uploadbutton:"Upload",downloadbutton:"Download",toolbar:{sepContainers:"Containers",container:"Container",form:"Form",formgroup:"Form Group",menu:"Menu",workflowbar:"Workflow bar",customblock:"Custom block",sepCollection:"Collections",gridview:"GridView",collectioneditor:"Collection Editor",sepControls:"Controls",header:"Header",input:"Input",textarea:"TextArea",dictionary:"Dictionary",dropdown:"Dropdown",checkbox:"CheckBox",radiogroup:"Radio group",button:"Button",label:"Label",message:"Message",image:"Image",statistic:"Statistic",customcontrol:"Custom control",staticcontent:"Static Content",dropdowntrigger:"Dropdown trigger",sepCharts:"Charts",barchart:"Bar",linechart:"Line",scatterchart:"Scatter",doughnutchart:"Doughnut",piechart:"Pie",radarchart:"Radar"},preview:{dropzonetext:"Drag and drop a component..."},editforms:{base:{generaltab:"General",styletab:"Style",eventstab:"Events",othertab:"Other",widthfield:"Width",heightfield:"Height",margintopfield:"Margin Top",marginbottomfield:"Margin Bottom",marginleftfield:"Margin Left",marginrightfield:"Margin Right",customcssclassfield:"Custom CSS class",stylefield:"Style",hiddenfield:"Hidden",controlhasnoeventsmsg:"This control has no events.",eventsinfomsg:"These flags enable processing from this element.",requiredfield:"Required",defaultvaluefield:"Default value",customvalidationfield:"Custom Validation",visibleconditionfield:"Visible condition",readonlyconditionfield:"ReadOnly condition",savebutton:"Save",cancelbutton:"Cancel",okbutton:"OK",closebutton:"Close",sizedefault:"Default",sizemini:"Mini",sizetiny:"Tiny",sizesmall:"Small",sizemedium:"Medium",sizelarge:"Large",sizebig:"Big",sizehuge:"Huge",sizemassive:"Massive",attachednone:"None",attachedtop:"Top",attachedbottom:"Bottom",attachedtopright:"Top right",attachedtopleft:"Top left",attachedbottomleft:"Bottom left",attachedbottomright:"Bottom right",labeldefault:"Default",labelleft:"Left",labelright:"Right",labelleftcorner:"Left corner",labelrightcorner:"Right corner",closewithoutsavequestion:"Close without save?",questiontitle:"Question",onchangetimeout:"onChange timeout"},headerform:{namefield:"Name",sizefield:"Size",contentfield:"Content",textalignfield:"Text Align",textalignleft:"Left",textaligncenter:"Center",textalignright:"Right",subheaderfield:"Subheader"},buttonform:{namefield:"Name",typefield:"Type",typenonefield:"None",typesubmitfield:"Submit",sizefield:"Size",contentfield:"Content",optionsfield:"Options",basicfield:"Basic",circularfield:"Circular",compactfield:"Compact",disabledfield:"Disabled",fluidfield:"Fluid",invertedfield:"Inverted",loadingfield:"Loading",primaryfield:"Primary",secondaryfield:"Secondary",togglefield:"Toggle",floatedfield:"Floated",floateddefaultfield:"Default",floatedleftfield:"Left",floatedrightfield:"Right"},labelform:{namefield:"Name",attachedfield:"Attached",contentfield:"Content",sizefield:"Size",optionsfield:"Options",basicfield:"Basic",circularfield:"Circular",cornerfield:"Corner",floatingfield:"Floating",horizontalfield:"Horizontal",pointingfield:"Pointing"},staticcontentform:{namefield:"Name",fontsizefield:"Font size",contentfield:"Content",allowhtmlfield:"Allow HTML"},messageform:{namefield:"Name",headerfield:"Header",optionsfield:"Options",compactfield:"Compact",errorfield:"Error",floatingfield:"Floating",infofield:"Info",negativefield:"Negative",positivefield:"Positive",successfield:"Success",warningfield:"Warning",contentfield:"Content",sizefield:"Size"},inputform:{namefield:"Name",labelfield:"Label",typefield:"Type",typetext:"Text",typenumber:"Number",typedate:"Date",typetime:"Time",typedatetime:"Date & Time",typepasswod:"Password",labelpositionfield:"Label position",optionsfield:"Options",loadingfield:"Loading",invertedfield:"Inverted",errorfield:"Error",disabledfield:"Disabled",transparentfield:"Transparent",fluidfield:"Fluid",readonlyfield:"Read only",placeholderfield:"Placeholder",sizefield:"Size",dateformatfield:"Date Format"},textareaform:{namefield:"Name",labelfield:"Label",rowsfield:"Rows",optionsfield:"Options",placeholderfield:"Placeholder",autoheightfield:"Auto height",readonlyfield:"Read only"},checkboxform:{namefield:"Name",labelfield:"Label",optionsfield:"Options",fittedfield:"Fitted",indeterminatefield:"Indeterminate",readonlyfield:"ReadOnly",disabledfield:"Disabled",sliderfield:"Slider",togglefield:"Toggle"},dropdownform:{namefield:"Name",labelfield:"Label",datafield:"Data",datakeycolumn:"Key",datavaluecolumn:"Value",datatextcolumn:"Text",optionsfield:"Options",loadingfield:"Loading",errorfield:"Error",disabledfield:"Disabled",fluidfield:"Fluid",multiplefield:"Multiple",searchfield:"Search",selectionfield:"Selection",readonlyfield:"Read only",clearablefield:"Clearable",allowAddItemsfield:"Allow add items"},dictionaryform:{namefield:"Name",labelfield:"Label",datamodelfield:"Data model",placeholderfield:"Placeholder",columnsfield:"Columns (Name ASC, Email)",optionsfield:"Options",loadingfield:"Loading",errorfield:"Error",disabledfield:"Disabled",fluidfield:"Fluid",multiplefield:"Multiple",searchfield:"Search",selectionfield:"Selection",readonlyfield:"Read only",clearablefield:"Clearable"},radiogroupform:{namefield:"Name",labelfield:"Label",datafield:"Data",datakeycolumn:"Key",datavaluecolumn:"Value",datatextcolumn:"Text",groupdirectfield:"Group direct",directiongorizontalfield:"Gorizontal",directionverticalfield:"Vertical",readonlyfield:"Read only"},form:{namefield:"Name",sizefield:"Size",optionsfield:"Options",loadingfield:"Loading",errorfield:"Error",invertedfield:"Inverted",replyfield:"Reply",successfield:"Success",warningfield:"Warning"},formgroupform:{namefield:"Name",widthsfield:"Widths",widthsdefaultfield:"Default",widthsequalfield:"Equal",widthscustomfield:"Custom (1 - 16)",typefield:"Type",orientationcolumnsfield:"Columns",orientationrowsfield:"Rows"},containerform:{namefield:"Name",floatfield:"Float",floatnonefield:"None",floatleftfield:"Left",floatrightfield:"Right"},imageform:{namefield:"Name",srcfield:"Src",hreffield:"Href",optionsfield:"Options",avatarfield:"Avatar",borderedfield:"Bordered",centeredfield:"Centered",disabledfield:"Disabled",inlinefield:"Inline",spacedfield:"Spaced",floatedfield:"Floated",floatedleftfield:"Left",floatedrightfield:"Right",verticalalignfield:"Vertical align",verticalaligntopfield:"Top",verticalalignmiddlefield:"Middle",verticalalignbottomfield:"Bottom"},statisticform:{namefield:"Name",optionsfield:"Options",floatedfield:"Floated",horizontalfield:"Horizontal",datafield:"Data",sizefield:"Size"},gridform:{namefield:"Name",optionsfield:"Options",multiselectfield:"Multiselect",filterrowfield:"Filter row",disablesortfield:"Disable sorting",editformfield:"Edit form",editformshowtypefield:"Edit form show type",editformtypedefaultfield:"Default",editformtypemodalfield:"Modal",columnsfield:"Columns",keycolumn:"Key",namecolumn:"Name",typecolumn:"Type",widthcolumn:"Width",resizablecolumn:"Resizable",rowkeyfield:"Row key",pagertypefield:"Pagination type",pagertypenonefield:"None",pagertypeserverfield:"Server",pagesizefield:"Page size",defaultsortfield:"Default sort",rowheightfield:"Row height",minheightfield:"Min height",autoheightfield:"Auto Height",offsetfield:"OffSet",editType:"Edit type",editflowfield:"Edit flow",editworkflowfield:"Edit workflow"},collectioneditorform:{namefield:"Name",idfield:"Id field",optionsfield:"Options",readonlyfield:"ReadOnly",draggablefield:"Draggable",hierarchicalfield:"Hierarchical",collapseallfield:"Collapse all",parentidfield:"ParentId field",columnsfield:"Columns",keycolumn:"Key",namecolumn:"Name",controlcolumn:"Control",widthcolumn:"Width",disableAdd:"Disable Add",childrenField:"Children field"},customform:{namefield:"Name",typefield:"Type control",propsfield:"Props",childrenfield:"Children"},customblockform:{namefield:"Name",sourcetypefield:"Source type",sourcetypeformfield:"Form name",sourcetypejsonfield:"JSON source",formnamefield:"Form name",sourcefield:"JSON source",placeholderfield:"Placeholder"},menuform:{namefield:"Name",activeitemfield:"Active Item",itemsfield:"Items",itemstargetcolumn:"Target",itemstitlecolumn:"Title",optionsfield:"Options",pointingfield:"Pointing",secondaryfield:"Secondary",tabularfield:"Tabular",fluidfield:"Fluid",verticalfield:"Vertical",linkfield:"Link",visibleConditioncolumn:"Visible Condition"},dropdowntriggerform:{namefield:"Name",defaultvaluefield:"Default Value",itemsfield:"Items",itemstargetcolumn:"Target",itemstitlecolumn:"Title",itemsvisibleconditioncolumn:"Visible Condition",imageurlfield:"ImageUrl"},chartform:{namefield:"Name",titlefield:"Title",titlesizefield:"Title size",legendpositionfield:"Legend position",responsivefield:"Responsive",datasetcustomfield:"Dataset custom",datalabelsplaceholder:"Q1, Q2, Q3, Q4",datalabelsfield:"Data labels",datasetlabelfield:"Dataset Label",datasetbackgroundcolorfield:"Dataset BackgroundColor"},workflowform:{namefield:"Name",setstatebuttonfield:"Set state button",blocksetstatefield:"Block SetState"},uploadform:{namefield:"Name",iconFiletypes:"Icon file types",customPostUrl:"Custom post url",showFiletypeIcon:"Show file type icon",autoProcessQueue:"Auto process queue",addRemoveLinks:"Add remove links",multile:"Multiple file upload"},breadcrumbform:{namefield:"Name",itemsfield:"Items",itemstextcolumn:"Text",itemsurlcolumn:"Url",itemsactivecolumn:"Active",itemsiconcolumn:"Divider Icon"},searchform:{namefield:"Name",urlfield:"Url",categoryfield:"Enable Categories"},confirm:{title:"Confirm",text:"Please confirm the action",ok:"Ok",cancel:"Cancel"},treepicker:{ok:"Ok",cancel:"Cancel",search:"Search",selectAll:"Select all",removeAll:"Remove all",loadingData:"Loading data",selected:"Selected"}}},dashboard:{integrationapi:"Integration API",integrationapiswagger:"OpenAPI 2.0 (Swagger)integration API description:",settingsMain:"Main",exportsettings:"Download configuration",importsettings:"Upload configuration",developermode:"Developer Mode",license:"License",settings:"Settings",plugins:"Plugins",configerror:"Error while downloading configuration archive",paramsrequired:"Parameters are required!",internalerror:"Internal error: ",prevconfigcreated:"Previous configuration backup was successfully created",configof:"Configuration of ",successupdated:" successfully updated.",devmodeon:"Developer mode is turned on",devmodeoff:"Developer mode is turned off",securitysaved:"Security saved in file system",securityremoved:"Security removed from file system",fullreplaceconfig:"Remove current configuration before applying new one",selecttoapply:"Select configurations you want to apply:",selecttodownload:"Select configurations you want to download:",selectall:"Select all",forms:"Forms",localization:"Localization",mobileforms:"Mobile forms",workflow:"Workflow",metadata:"Metadata",security:"Security",appsettings:"App settings",upload:"Upload",download:"Download",cancel:"Cancel",addpasswordhash:"Add users' password hash",withproblems:"But there are problems: ",moreinfoconsole:"More information in developer console"},resourceeditor:{title:"Resource Editor",createfolder:"Create folder",createfile:"Create file",confirmdelete:"Are you sure you want to delete this folder or file?",foldercreated:"The folder has been created",folderdeleted:"The folder has been deleted",filecreated:"The file has been created",filedeleted:"The file has been deleted"},integration:{accessToken:"API Access Token",accessTokenInfo:"You should add 'token' parameter to each workflowapi request.",generate:"Generate"},datasources:{title:"Manage external data sources",name:"Name",connectionstring:"ConnectionString",create:"Create an external source",test:"Test",provider:"Provider",providerMSSQL:"MS SQL Server",providerOracle:"Oracle",providerPostgres:"Postgres",providerWebService:"Web Service",connectionString:"ConnectionString",connectionSuccess:"Connection successful"},modal:{creatingheader:"Creating",createaprocessheader:"Create a process"}};window.DWKitMergeLang=function(e){return y(E,e)};var t=n(29),_=n.n(t);function k(e){return(k="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(e){return _typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof2(e)})(e)}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var A="dwkitadmin_locale",x=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(a,V.a.Component);var n,r,o=(n=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=S(n),t=r?(t=S(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==k(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function a(e){var t;return function(e){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this),(t=o.call(this,e)).state={},t.init(e.folder,e.locale),t}return C(a.prototype,[{key:"render",value:function(){return Array.isArray(this.state.options)?V.a.createElement("div",{className:"localization"},V.a.createElement(w.Dropdown,{selection:!0,options:this.state.options,value:this.state.locale,onChange:this.onChange.bind(this)})):V.a.createElement("div",null)}},{key:"init",value:function(e,o){var a;null!=e&&(a=this,_()(e+"localization_manifest.json").then(function(e){return e.json()}).then(function(e){var t=[],n=0;e.langs.forEach(function(e){t.push({key:n,value:e.locale,flag:e.flag||e.locale,text:e.name}),n++});var r=o;null!=(r=null==r||""==r?a.getCookie(A):r)&&""!=r||(r="en"),a.state.options=t,a.state.langs=e.langs,a.registerLocale(r),a.forceUpdate()}))}},{key:"registerLocale",value:function(e){var t=this;if(null!=t.state.locale||"en"!=e){var n,r=t.state.langs,o=void 0;for(n in r)if(r[n].locale==e){o=r[n];break}null!=o&&(Array.isArray(o.scripts)&&o.scripts.forEach(function(e){t.loadScript(t.props.folder+e)}),t.setCookie(A,e))}t.setState({locale:e}),null!=t.props.parent&&setTimeout(function(){window.DWKitAdminLang=y(E,window.DWKitAdminLang),t.props.parent.forceUpdate();var e={command:"admin.changeLang",data:{lang:JSON.stringify(window.DWKitAdminLang)}};window.postMessage(e,window.location.href)},200)}},{key:"onChange",value:function(e,t){t.value!=this.state.locale&&this.registerLocale(t.value)}},{key:"getCookie",value:function(e){return(e=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)")))?decodeURIComponent(e[1]):void 0}},{key:"setCookie",value:function(e,t,n){var r,o=(n=n||{}).expires;"number"==typeof o&&o&&((r=new Date).setTime(r.getTime()+1e3*o),o=n.expires=r),o&&o.toUTCString&&(n.expires=o.toUTCString());var a,i=e+"="+(t=encodeURIComponent(t));for(a in n){i+="; "+a;var l=n[a];!0!==l&&(i+="="+l)}document.cookie=i}},{key:"loadScript",value:function(e){var t=document.createElement("script");t.async=!1,t.src=e,document.getElementsByTagName("body")[0].appendChild(t)}}]),a}(),P=n(30),D=n(31),L=n(32),t=n(9),j=n.n(t);function R(e){return(R="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(e){return _typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof2(e)})(e)}function F(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function T(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?F(Object(n),!0).forEach(function(e){W(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function M(e,t){return(M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function I(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function B(e){return(B=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function W(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var U=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M(e,t)}(a,b.a);var n,r,o=(n=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=B(n),t=r?(t=B(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==R(t)&&"function"!=typeof t?I(e):t});function a(e){var t;return function(e){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this),W(I(t=o.call(this,e)),"getCurrentDir",function(){var e=void 0;return t.state.item?t.state.item.isDirectory?t.state.item:t.getParentDir(t.state.item):e}),t.state={popup:{show:!1}},t}return N(a.prototype,[{key:"componentDidMount",value:function(){this.openPath(this.getCurrentPath())}},{key:"render",value:function(){var t=this,o=this;if(this.state.error)return V.a.createElement("div",null,this.state.errorMsg);var e,n=window.innerHeight-200;n<400&&(n=400),null!=this.state.popup.errors&&(e=V.a.createElement(w.Message,{negative:!0},V.a.createElement("p",null,this.state.popup.errors)));var r,a,i=void 0;return null!=this.state.imgcontent?i=V.a.createElement("div",{className:"dwkit-admin-resourceimg"},this.state.item&&this.state.item.id&&V.a.createElement("div",null,V.a.createElement("b",null,"/",this.state.item.id),V.a.createElement("br",null),V.a.createElement("br",null)),V.a.createElement("img",{src:this.state.imgcontent})):null!=this.state.item&&!this.state.item.isDirectory||(r={postUrl:o.props.apiUrl,iconFiletypes:[".jpg",".png",".css",".js"],showFiletypeIcon:!0},a={autoProcessQueue:!0,params:{operation:"resources",suboperation:"filecreate"}},this.props.parent.bearerHeader&&(a.headers={Authorization:this.props.parent.bearerHeader}),i=V.a.createElement("div",{className:"dwkit-admin-resourceupload"},V.a.createElement(j.a,{config:r,eventHandlers:{init:function(e){return t.dropzone=e},sending:function(e,t,n){var r=o.getCurrentDir(),e=r?r.id+"\\"+e.name:e.name;n.append("id",e)},complete:function(){o.loadDir(o.state.item)}},djsConfig:a}))),V.a.createElement("div",null,V.a.createElement("h1",null,DWKitAdminLang.resourceeditor.title),V.a.createElement("div",{className:"dwkit-admin-form-buttons"},V.a.createElement(w.Button,{className:"buttontype2",onClick:function(){o.setState({popup:{show:!0,type:"dir"}})}},DWKitAdminLang.resourceeditor.createfolder),V.a.createElement(w.Button,{className:"buttontype2",onClick:function(){o.setState({popup:{show:!0,type:"file"}})}},DWKitAdminLang.resourceeditor.createfile),this.state.item&&V.a.createElement(w.Button,{className:"buttontype2",style:{marginRight:10},onClick:function(){o.setState({confirmdeleteshow:!0})}},DWKitAdminLang.button.delete),V.a.createElement(w.Button,{className:"buttontype1",style:{display:this.state.haschanges?"":"none"},onClick:this.onSave.bind(this)},DWKitAdminLang.button.save),V.a.createElement(w.Button,{className:"buttontype2",style:{display:this.state.haschanges?"":"none"},onClick:this.onCancel.bind(this)},DWKitAdminLang.button.cancel)),V.a.createElement("div",{className:"dwkit-admin-resourcelist"},this.renderList(this.state.items,!0)),i,V.a.createElement("div",{id:"dwkit-admin-resourceeditor",style:{height:n,display:null==this.state.content?"none":""}}),V.a.createElement(w.Modal,{dimmer:"blurring",open:this.state.popup.show},V.a.createElement(w.Modal.Header,null,DWKitAdminLang.modal.creatingheader),V.a.createElement(w.Modal.Content,null,V.a.createElement(w.Form,null,e,V.a.createElement(w.Form.Input,{key:"name",name:"newobjectname",label:DWKitAdminLang.field.name,required:!0,value:this.state.popup.name,onChange:this.handlePopupChange.bind(this),error:null!=this.state.popup.errors}))),V.a.createElement(w.Modal.Actions,null,V.a.createElement(w.Button,{className:"buttontype1",content:DWKitAdminLang.button.create,onClick:this.onCreateItem.bind(this)}),V.a.createElement(w.Button,{className:"buttontype2",content:DWKitAdminLang.button.cancel,onClick:function(){o.setState({popup:{show:!1}})}}))),V.a.createElement(w.Confirm,{open:this.state.confirmdeleteshow,dimmer:"blurring",content:DWKitAdminLang.resourceeditor.confirmdelete,onCancel:function(){o.setState({confirmdeleteshow:!1})},onConfirm:this.onDelete.bind(this)}))}},{key:"handlePopupChange",value:function(e,t){t.name;var n=t.value;t.checked,this.setState({popup:T(T({},this.state.popup),{},{name:n})})}},{key:"renderList",value:function(e,t){if(null!=e){var r=this,o=[];t&&o.push(V.a.createElement(w.List.Item,{key:"root"},V.a.createElement(w.List.Icon,{name:"folder"}),V.a.createElement(w.List.Content,null," ",V.a.createElement("a",{href:"#",onClick:r.onItemClick.bind(r,void 0)},"...")," ")));var a=r.getCurrentPath();return e.forEach(function(e){var t="#"+e.id,n=V.a.createElement("a",{href:t,onClick:r.onItemClick.bind(r,e)},e.name);a==t&&(n=V.a.createElement("b",null,n)),e.isDirectory?o.push(V.a.createElement(w.List.Item,{key:e.id},V.a.createElement(w.List.Icon,{name:"folder"}),V.a.createElement(w.List.Content,null,V.a.createElement(w.List.Header,null,n),e.children&&r.renderList(e.children)))):o.push(V.a.createElement(w.List.Item,{key:e.id},V.a.createElement(w.List.Icon,{name:"file text outline"}),V.a.createElement(w.List.Content,null," ",n," ")))}),V.a.createElement(w.List.List,null,o)}}},{key:"onItemClick",value:function(e){var t;this.state.item=e,this.state.haschanges=!1,this.state.content=void 0,this.state.imgcontent=void 0,null!=e?e.isDirectory?null!=e.children?(e.children=void 0,t=this.getParentDir(e),setTimeout(function(){document.location.hash=null!=t?t.id:""},100),this.forceUpdate()):this.loadDir(e):this.openFile(e.id):this.loadDir(void 0)}},{key:"loadDir",value:function(t,n){var r=this;this.sendRequest("dirload",null==t?"":t.id,function(e){e.success?(null==t?r.state.items=e.item:t.children=e.item,null!=n&&n(e.item),r.forceUpdate()):alertify.error(e.message)})}},{key:"openFile",value:function(e){var t=this,n=void 0;this.state.content=void 0,this.redrawEditor();var r=e.lastIndexOf(".");"png"==(n=0<r?e.substring(r+1,e.length):n)||"jpg"==n||"jpeg"==n||"bmp"==n||"ico"==n?this.sendRequest("fileloadbase64",e,function(e){e.success?(t.state.imgcontent="data:image/"+n+";base64,"+e.item,t.state.content=void 0,t.state.haschanges=!1,t.forceUpdate()):alertify.error(e.message)}):this.sendRequest("fileload",e,function(e){e.success?(t.state.imgcontent=void 0,t.state.content=e.item,t.state.haschanges=!0,t.redrawEditor(n),t.forceUpdate()):alertify.error(e.message)})}},{key:"onSave",value:function(){var t=this,e=[],n=this.editor.getValue();e.push({name:"content",value:n}),this.sendRequest("fileupdate",t.state.item.id,function(e){e.success?(t.openFile(t.state.item.id),alertify.success(DWKitAdminLang.msg.saveok)):alertify.error(e.message)},e)}},{key:"onCancel",value:function(){this.redrawEditor()}},{key:"openPath",value:function(e){var n,r,o=this,a=void 0;null!=e&&""!=e&&("#"==e[0]&&(e=e.substring(1,e.length)),0<(r=0<e.indexOf("/")?e.split("/"):0<e.indexOf("\\")?e.split("\\"):[e]).length&&(n=0,a=function(e){if(0!=e.length)for(var t=0;t<e.length;t++)if(e[t].name==r[n]){if(o.state.item=e[t],e[t].isDirectory){o.state.item=e[t],o.loadDir(e[t],a),n++;break}return void o.openFile(e[t].id)}})),this.loadDir(void 0,a)}},{key:"redrawEditor",value:function(e){var t;0<$("#dwkit-admin-resourceeditor").length&&(null==this.editor&&(this.editor=ace.edit("dwkit-admin-resourceeditor")),null!=e&&(t="","js"==e?t="ace/mode/javascript":"jsx"==e?t="ace/mode/jsx":"cs"==e?t="ace/mode/csharp":"css"==e?t="ace/mode/css":"svg"==e?t="ace/mode/svg":"xml"==e?t="ace/mode/xml":"html"==e&&(t="ace/mode/html"),this.editor.getSession().setMode(t)),t=this.state.content,this.editor.setValue(t=null==t?"":t,-1))}},{key:"onCreateItem",value:function(){var e=this.state.popup.name;""!=e&&null!=e?("dir"==this.state.popup.type?this.createDirectory(e):this.createFile(e),this.setState({popup:{show:!1}})):this.setState({popup:T(T({},this.state.popup),{},{errors:DWKitAdminLang.msg.fieldrequired})})}},{key:"createDirectory",value:function(e){var t=this,n=void 0,e=null==(n=null!=this.state.item?this.state.item.isDirectory?this.state.item:this.getParentDir(this.state.item):n)?e:n.id+"\\"+e;this.sendRequest("dircreate",e,function(e){e.success?(t.loadDir(n),alertify.success(DWKitAdminLang.resourceeditor.foldercreated)):alertify.error(e.message)})}},{key:"createFile",value:function(e,t){var n=this,r=this.getCurrentDir(),o=[];null!=t&&o.push({name:"content",value:t}),e=null==r?e:r.id+"\\"+e,this.sendRequest("filecreate",e,function(e){e.success?(alertify.success(DWKitAdminLang.resourceeditor.filecreated),document.location.hash=null==r?"":r.id,n.state.item=r,n.state.content=void 0,n.state.haschanges=!1,n.loadDir(r)):alertify.error(e.message)},o)}},{key:"onDelete",value:function(){var t,n,r=this;null!=this.state.item&&(t=this.state.item.isDirectory?"dirdelete":"filedelete",n=this.getParentDir(this.state.item),this.sendRequest(t,this.state.item.id,function(e){e.success?(r.state.imgcontent=void 0,r.state.content=void 0,r.state.haschanges=!1,r.state.item=n,document.location.hash=null==n?"":n.id,r.loadDir(n),r.forceUpdate(),alertify.success("dirdeleted"==t?DWKitAdminLang.resourceeditor.folderdeleted:DWKitAdminLang.resourceeditor.filedeleted)):alertify.error(e.message)}),this.setState({confirmdeleteshow:!1}),window.location.hash=null!=n?n.id:"")}},{key:"getParentDir",value:function(e,t){var n;if(null!=(n=null==t?this.state.items:t.children))for(var r=0;r<n.length;r++){if(n[r].id==e.id)return t;if(null!=n[r].children){var o=this.getParentDir(e,n[r]);if(null!=o)return o}}}},{key:"sendRequest",value:function(e,t,n,r){var o=new Array;this.state.id=t,o.push({name:"operation",value:"resources"}),o.push({name:"suboperation",value:e}),o.push({name:"id",value:t}),null!=r&&r.forEach(function(e){o.push(e)}),$.ajax({url:this.props.apiUrl,data:o,async:!0,type:"post",success:function(e){n(e),Pace.stop()}})}},{key:"getCurrentPath",value:function(){return window.location.hash}}]),a}(),K=n(6);function z(e){return(z="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(e){return _typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof2(e)})(e)}function G(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function q(e,t){return(q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function H(e){return(H=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Y=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&q(e,t)}(o,b.a);var n,r,t=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=H(n),t=r?(t=H(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==z(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function o(e){return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),(e=t.call(this,e)).state={},e}return G(o.prototype,[{key:"validate",value:function(){return this.props.parent.validate()}},{key:"render",value:function(){this.validate();var e=this.props.metadata.forms,t=[];if(null!=e)for(var n=0;n<e.length;n++){var r=e[n];t.push({text:r.code,value:r.code})}var o=this.props.metadata.dataModel,a=[];if(null!=o)for(n=0;n<o.length;n++){var i=o[n];a.push({text:i.name,value:i.id})}var l=this.props.metadata.codeActions,s=[];if(null!=l)for(n=0;n<l.length;n++){var c=l[n];s.push({text:c.name,value:c.id})}var u=this.props.metadata.workflow,p=[];if(null!=u)for(n=0;n<u.length;n++){var f=u[n];p.push({text:f.code,value:f.code})}var d=this.props.metadata.businessFlow,h=[];if(null!=d)for(n=0;n<d.length;n++)f=d[n],h.push({text:f.name,value:f.id});var m=this.props.metadata.roles,y=[];if(null!=m)for(n=0;n<m.length;n++)f=m[n],y.push({text:f.name,value:f.id});var g=null==this.props.data?[]:this.props.data;this.correctData(g);var b=this.props.onSave.bind(this.props.parent),v=this.props.onCancel.bind(this.props.parent);return V.a.createElement("div",{className:"dwkit-formadmin-formedit"},V.a.createElement(w.Breadcrumb,null,V.a.createElement(w.Breadcrumb.Section,{onClick:this.props.parent.back.bind(this.props.parent),link:!0},"Modules"),V.a.createElement(w.Breadcrumb.Divider,null),V.a.createElement(w.Breadcrumb.Section,{active:!0},g.name)),V.a.createElement("div",{className:"dwkitadmin-toolbar-editform"},V.a.createElement(w.Button,{className:"buttontype1",onClick:b},DWKitAdminLang.button.save),V.a.createElement(w.Button,{className:"buttontype2",onClick:v},DWKitAdminLang.button.cancel)),V.a.createElement("h1",null,this.props.parent.title),V.a.createElement(w.Form,null,V.a.createElement(w.Form.Input,{name:"name",label:DWKitAdminLang.field.name,error:Boolean(g.__error.name),value:g.name,onChange:this.handleChange.bind(this,g)}),V.a.createElement(w.Form.TextArea,{autoHeight:!0,name:"commnet",label:"Comment",error:Boolean(g.__error.comment),onChange:this.handleChange.bind(this,g)}),V.a.createElement("h1",null,"Objects"),V.a.createElement(w.Form.Group,{widths:"equal"},V.a.createElement(w.Form.Dropdown,{label:"Roles",error:Boolean(g.__error.roles),name:"roles",search:!0,options:y,multiple:!0,value:g.roles,onChange:this.handleChange.bind(this,g)}),V.a.createElement(w.Form.Dropdown,{label:"Business flow",error:Boolean(g.__error.businessFlows),name:"businessFlows",search:!0,options:h,multiple:!0,value:g.businessFlows,onChange:this.handleChange.bind(this,g)})),V.a.createElement(w.Form.Group,{widths:"equal"},V.a.createElement(w.Form.Dropdown,{label:"Forms",name:"forms",error:Boolean(g.__error.forms),search:!0,options:t,multiple:!0,value:g.forms,onChange:this.handleChange.bind(this,g)}),V.a.createElement(w.Form.Dropdown,{label:"Worflow schemes",error:Boolean(g.__error.schemes),name:"schemes",search:!0,options:p,multiple:!0,value:g.schemes,onChange:this.handleChange.bind(this,g)})),V.a.createElement(w.Form.Group,{widths:"equal"},V.a.createElement(w.Form.Dropdown,{label:"Entities",error:Boolean(g.__error.entities),name:"entities",search:!0,options:a,multiple:!0,value:g.entities,onChange:this.handleChange.bind(this,g)}),V.a.createElement(w.Form.Dropdown,{label:"CodeActions",error:Boolean(g.__error.codeActions),name:"codeActions",search:!0,options:s,multiple:!0,value:g.codeActions,onChange:this.handleChange.bind(this,g)}))))}},{key:"correctData",value:function(e){null==e.roles&&(e.roles=[]),null==e.businessFlows&&(e.businessFlows=[]),null==e.forms&&(e.forms=[]),null==e.schemes&&(e.schemes=[]),null==e.entities&&(e.entities=[]),null==e.codeActions&&(e.codeActions=[])}},{key:"handleChange",value:function(e,t,n){var r=n.name,o=n.value,n=n.checked;e[r],e[r]=null==o?n:o,this.setUpdatedState(this.props.data),this.forceUpdate()}}]),o}();function J(e){return(J="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(e){return _typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof2(e)})(e)}function Q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function X(e,t){return(X=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Z(e){return(Z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ee=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&X(e,t)}(o,K.a);var n,r,t=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Z(n),t=r?(t=Z(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==J(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function o(e){return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),(e=t.call(this,e)).dataindex="modules",e.panelindex="modules",e.idfield="id",e.editform=Y,e.title="Modules",e.datatype="modules",e}return Q(o.prototype,[{key:"gridColumns",value:function(){return[{key:"name",name:DWKitAdminLang.column.name,resizable:!0}]}},{key:"validate",value:function(){var e=!0,t=this.state.editrow,n=DWKitAdminLang.msg.fieldrequired;return t.__error={name:null==t.name||""==t.name?n:void 0},e&null==t.__error.name}}]),o}(),te=n(8);function ne(e){return(ne="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(e){return _typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof2(e)})(e)}function re(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function oe(e,t){return(oe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ae(e){return(ae=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ie=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oe(e,t)}(o,b.a);var n,r,t=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=ae(n),t=r?(t=ae(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==ne(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function o(e){return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),t.call(this,e)}return re(o.prototype,[{key:"render",value:function(){var e=this.props.data,t=[];this.props.types.forEach(function(e){t.push({value:e,text:e})});for(var n=[],r=0;r<e.length;r++){var o=null==(l=e[r]).__error?{}:l.__error,a="trigger_"+r,i=this.props.suggestions||this.actionParameterSuggestions(this.props.dataMap),l=V.a.createElement(w.Form.Group,{key:a,widths:"equal",className:"dwkit-formadmin-item"},V.a.createElement(w.Form.Dropdown,{label:DWKitAdminLang.field.triggers,error:Boolean(o.triggers),name:"triggers",options:t,multiple:!0,selection:!0,fluid:!0,search:!0,value:l.triggers,onChange:this.handleChange.bind(this,l)}),V.a.createElement(w.Form.Dropdown,{key:"codeaction",label:DWKitAdminLang.field.action,name:"codeAction",selection:!0,fluid:!0,search:!0,options:this.props.codeactions,value:l.codeAction,onChange:this.handleChange.bind(this,l),error:Boolean(o.codeAction)}),V.a.createElement(te.a,{key:"parameter",name:"parameter",suggestions:i,label:DWKitAdminLang.field.parameter,value:l.parameter,onChange:this.handleChange.bind(this,l)}),V.a.createElement(w.Image,{className:"dwkit-buttonimage",key:"btndelete",src:"/images/dwkit-delete.png",onClick:this.onDelete.bind(this,r)}));n.push(l)}var s=!0;return 0==n.length&&(s=!1,n.push(V.a.createElement("div",{className:"dwkit-formadmin-info",key:"message"},DWKitAdminLang.data.notriggersmsg,V.a.createElement("br",null),DWKitAdminLang.msg.click," ",V.a.createElement("a",{key:"btnadd2",onClick:this.onAdd.bind(this)},DWKitAdminLang.msg.here)," ",DWKitAdminLang.data.forcreatetingtriggersmsg))),V.a.createElement("div",null,s&&V.a.createElement("a",{key:"btnadd",onClick:this.onAdd.bind(this)},DWKitAdminLang.data.addtrigger),n)}},{key:"handleChange",value:function(e,t,n){var r=n.name,o=n.value,n=n.checked;e[r]=null==o?n:o,null!=this.props.onChange&&this.props.onChange(void 0,{name:this.props.name,value:this.props.data}),this.forceUpdate()}},{key:"onAdd",value:function(){this.props.data.push({}),null!=this.props.onChange&&this.props.onChange(void 0,{name:this.props.name,value:this.props.data}),this.forceUpdate()}},{key:"onDelete",value:function(e){this.props.data.splice(e,1),null!=this.props.onChange&&this.props.onChange(void 0,{name:this.props.name,value:this.props.data}),this.forceUpdate()}},{key:"actionParameterSuggestions",value:function(e){var t=[];return Array.isArray(e)&&e.forEach(function(e){e.isLoadable&&t.push({caption:e.attributeName,value:'"'+e.attributeName+'"',meta:"Form Column"})}),t.push({caption:"_ForRole",value:(e=function(e,t){return'"'+e+'": { "'+t+'" : { "Column": "Value" }}'})("_ForRole","RoleCode"),meta:"snippet"}),t.push({caption:"_ForGroup",value:e("_ForGroup","Group"),meta:"snippet"}),t.push({caption:"_ForPermission",value:e("_ForPermission","PermissionGroupCode.PermissionCode"),meta:"snippet"}),t}}]),o}(),le={STANDARD:0,SIMPLIFIED:1},se={TABLE_NAME:"dwEntities",EXTENSION_CONTAINER:"Extensions",PRIMARY_KEY:"Id",WORKFLOW_SCHEME:"SchemeName"},ce={DATA_MODEL:0,MASTER_TABLE:1},ue=n(5);function pe(e){return(pe="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(e){return _typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof2(e)})(e)}function fe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function de(e,t){return(de=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function he(e){return(he=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var me=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&de(e,t)}(o,b.a);var n,r,t=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=he(n),t=r?(t=he(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==pe(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function o(e){return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),(e=t.call(this,e)).state={},e}return fe(o.prototype,[{key:"showDataColumns",value:function(){var t=[];return this.props.data&&Array.isArray(this.props.data.attributes)&&(this.props.data.attributes.forEach(function(e){t.push({key:e.name,name:e.name,resizable:!0,width:150})}),this.state.isSimplified&&(this.props.metadata.additionalParams&&this.props.metadata.additionalParams.MasterTableAttributes?this.props.metadata.additionalParams.MasterTableAttributes:[]).forEach(function(e){t.push({key:e.name,name:e.name+"*",resizable:!0,width:150})})),t}},{key:"onFilterChange",value:function(e,t){t.name,t=t.value,this.setState({filter:t})}},{key:"onShowDataRefresh",value:function(){this.showDataGrid.refresh()}},{key:"getAdditionalDataForControl",value:function(e,t,n){var r=t.startIndex,o=t.pageSize,a=(t.filters,t.sort),i=this;(t=new Array).push({name:"operation",value:"datamodalload"}),t.push({name:"skip",value:r}),t.push({name:"take",value:o}),t.push({name:"sort",value:a}),t.push({name:"filter",value:this.state.filter}),t.push({name:"model",value:JSON.stringify(this.props.data)}),this.setState({loading:!0}),$.ajax({url:i.props.apiUrl,data:t,async:!0,type:"post",success:function(e){e.success?(n({sIndex:r,pSize:o,rowsCount:e.item.count,items:e.item.rows}),i.setState({count:e.item.count,loading:!1,error:void 0})):i.setState({error:e.message,loading:!1})},error:function(e,t){t=i.getProcessLoadError(e,t),i.setState({error:t,loading:!1})}})}},{key:"render",value:function(){var t=this;return V.a.createElement(w.Modal,{dimmer:"blurring",open:this.props.open,onClose:function(){t.props.onClose()}},V.a.createElement(w.Modal.Header,null,DWKitAdminLang.button.showdata),V.a.createElement(w.Modal.Content,null,V.a.createElement("div",{className:"dwkitadmin-toolbar"},V.a.createElement("span",null,DWKitAdminLang.button.search),V.a.createElement(w.Form.Input,{style:{width:"250px",float:"left",marginRight:"10px"},name:"filter",value:this.state.filter,onChange:this.onFilterChange.bind(this)}),V.a.createElement(w.Button,{className:"buttontype1",content:DWKitAdminLang.button.refresh,loading:this.state.loading,onClick:this.onShowDataRefresh.bind(this)}),V.a.createElement("span",null,DWKitAdminLang.msg.totalcount," ",this.state.count)),this.state.error&&V.a.createElement(w.Message,{negative:!0},this.state.error),V.a.createElement(ue.SemanticGridView,{key:"Formgrid",rowHeight:36,columns:this.showDataColumns(),pagerType:"server",getAdditionalDataForControl:this.getAdditionalDataForControl.bind(this),ref:function(e){t.showDataGrid=e}})),V.a.createElement(w.Modal.Actions,null,V.a.createElement(w.Button,{className:"buttontype2",content:DWKitAdminLang.button.close,onClick:function(){t.props.onClose()}})))}}]),o}();function ye(e){return(ye="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(e){return _typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof2(e)})(e)}function ge(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function be(e,t){return(be=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ve(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ve(e){return(Ve=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function we(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ee=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&be(e,t)}(i,b.a);var e,t,n,r,a=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Ve(n),t=r?(t=Ve(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==ye(t)&&"function"!=typeof t?ve(e):t});function i(e){var n;!function(e){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this),we(ve(n=a.call(this,e)),"onSave",function(){n.state.isSimplified&&((e=n.props.data).dbObjectName=se.TABLE_NAME,e.extensionsContainerAttribute=se.EXTENSION_CONTAINER,e.primaryKeyAttribute=se.PRIMARY_KEY,e.workflowSchemeAttribute=se.WORKFLOW_SCHEME,Array.isArray(e.attributes)&&e.attributes.forEach(function(e){e.isCalculated=!1,e.isExtension=!0}));var e=n.props.onSave.bind(n.props.parent);n.props.parent.state.needGlobalReload=!0,e(),n.forceUpdate()}),we(ve(n),"onModeChange",function(e,t){n.setState({isSimplified:t.value===le.SIMPLIFIED}),n.handleChange(n.props.data,e,t)}),n.state={showextensioncolumns:!1,isSimplified:n.props.data&&n.props.data.mode===le.SIMPLIFIED};var t=[];n.props.metadata.dataModel.forEach(function(e){t.push({value:e.id,text:e.name})}),n.state.entitylist=t;var r=[{value:"",text:""}];Array.isArray(n.props.metadata.dataSources)&&n.props.metadata.dataSources.forEach(function(e){r.push({value:e.id,text:e.name})}),n.state.datasoucesList=r;var o=[];return n.props.metadata.additionalParams.Types.forEach(function(e){o.push({value:e,text:e})}),n.state.typeList=o,n}return t=[{key:"getDerivedStateFromProps",value:function(e,t){return{needValidate:!0}}}],ge((e=i).prototype,[{key:"validate",value:function(){return this.props.parent.validate()}},{key:"render",value:function(){var e=this;this.state.needValidate&&(this.validate(),this.state.needValidate=!1);var t=this.props.data;t.attributes||(t.attributes=[]),t.triggers||(t.triggers=[]);var n=this.props.onCancel.bind(this.props.parent),r=t.__error||{},o=[{text:DWKitAdminLang.data.standardmode,value:le.STANDARD},{text:DWKitAdminLang.data.simplifiedmode,value:le.SIMPLIFIED}],a=t.mode||le.STANDARD,i=this.state.isSimplified?se.TABLE_NAME:t.dbObjectName;return this.state.isSimplified?se.PRIMARY_KEY:t.primaryKeyAttribute,V.a.createElement("div",{className:"dwkit-formadmin-formedit"},V.a.createElement(w.Breadcrumb,null,V.a.createElement(w.Breadcrumb.Section,{onClick:this.props.parent.back.bind(this.props.parent),link:!0},DWKitAdminLang.data.title),V.a.createElement(w.Breadcrumb.Divider,null),V.a.createElement(w.Breadcrumb.Section,{active:!0},t.name)),V.a.createElement("div",{className:"dwkitadmin-toolbar-editform"},V.a.createElement(w.Button,{className:"buttontype1",onClick:this.onSave.bind(this)},DWKitAdminLang.button.save),V.a.createElement(w.Button,{className:"buttontype2",onClick:n},DWKitAdminLang.button.cancel),V.a.createElement(w.Button,{className:"buttontype2",onClick:function(){e.setState({showdata:!0})}},DWKitAdminLang.button.showdata)),!t.primaryKeyAttribute&&!this.state.isSimplified&&V.a.createElement(w.Message,{color:"orange"},DWKitAdminLang.data.notsetprimarykeymsg),r.primaryKeyAttribute&&V.a.createElement(w.Message,{color:"red"},DWKitAdminLang.data.notfoundprimarykeymsg),r.extensionsContainerAttribute&&V.a.createElement(w.Message,{color:"red"},DWKitAdminLang.data.notfoundprimaryextcontmsg),r.duplicateName&&V.a.createElement(w.Message,{color:"red"},DWKitAdminLang.data.nameexistsmsg),V.a.createElement(w.Form,null,V.a.createElement(w.Form.Group,{widths:"equal"},V.a.createElement(w.Form.Dropdown,{name:"mode",label:DWKitAdminLang.data.modefield,value:a,options:o,onChange:this.onModeChange.bind(this),selection:!0,fluid:!0}),V.a.createElement(w.Form.Dropdown,{name:"customDataSourceId",label:DWKitAdminLang.data.customDataSourcefield,value:t.customDataSourceId,options:this.state.datasoucesList,onChange:this.handleChange.bind(this,t),selection:!0,fluid:!0})),V.a.createElement(w.Form.Group,{widths:"equal"},V.a.createElement(w.Form.Field,null,V.a.createElement(w.Form.Input,{name:"name",label:DWKitAdminLang.field.name,error:r.name||r.duplicateName,value:t.name,onChange:this.handleChange.bind(this,t)}),V.a.createElement(w.Form.Input,{name:"dbObjectName",label:DWKitAdminLang.data.dbobjectfield,error:Boolean(r.dbObjectName),value:i,onChange:this.handleChange.bind(this,t),readOnly:this.state.isSimplified}),!this.state.isSimplified&&V.a.createElement(w.Form.Input,{name:"extensionsContainerAttribute",label:DWKitAdminLang.data.extensionscontainerfield,error:Boolean(r.extensionsContainerAttribute),value:t.extensionsContainerAttribute,onChange:this.handleChange.bind(this,t)})),!this.state.isSimplified&&V.a.createElement(w.Form.Field,null,V.a.createElement(w.Form.Input,{name:"primaryKeyAttribute",label:DWKitAdminLang.data.primarykeyfield,error:Boolean(r.primaryKeyAttribute),value:t.primaryKeyAttribute,onChange:this.handleChange.bind(this,t)}),V.a.createElement(w.Form.Input,{name:"schemaName",label:DWKitAdminLang.data.schemenamefield,error:Boolean(r.schemaName),value:t.schemaName,onChange:this.handleChange.bind(this,t)}),V.a.createElement(w.Form.Input,{name:"workflowSchemeAttribute",label:DWKitAdminLang.data.workflowschemefield,error:Boolean(r.workflowSchemeAttribute),value:t.workflowSchemeAttribute,onChange:this.handleChange.bind(this,t)}))),V.a.createElement("div",null,V.a.createElement("h1",{className:"dwkit-formadmin-dataedit-attributeheader"},DWKitAdminLang.field.attributes),!this.state.isSimplified&&V.a.createElement(w.Checkbox,{className:"dwkit-formadmin-dataedit-attributeslider",slider:!0,checked:this.state.showextensioncolumns,onClick:this.onShowExtension.bind(this),label:DWKitAdminLang.data.showextensioncolumnsonly})),V.a.createElement("div",{className:"field",widths:"16"},this.renderAttributes(t.attributes,this.state.isSimplified))),this.state.showdata&&V.a.createElement(me,{open:this.state.showdata,apiUrl:this.props.apiUrl,data:this.props.data,onClose:function(){return e.setState({showdata:!1})}}))}},{key:"renderAttributes",value:function(e,t){var n=this.state.entitylist,r=this.state.typeList,o=[];o.push(V.a.createElement("a",{key:"btnadd",onClick:this.onAddAttribute.bind(this,e)},DWKitAdminLang.data.addattbutton));for(var a=0;a<e.length;a++){var i=e[a];!0===this.state.showextensioncolumns&&!1===i.isExtension||(c=this.renderAttribute(i,e,n,r,!1),o.push(c))}if(t)for(var l=this.props.metadata.additionalParams&&this.props.metadata.additionalParams.MasterTableAttributes?this.props.metadata.additionalParams.MasterTableAttributes:[],a=0;a<l.length;a++){var s=l[a],c=this.renderAttribute(s,e,n,r,!0);o.push(c)}else e.length||o.push(V.a.createElement("div",{className:"dwkit-formadmin-info",key:"message"},DWKitAdminLang.data.noattributesmsg,V.a.createElement("br",null),DWKitAdminLang.msg.click," ",V.a.createElement("a",{key:"btnadd2",onClick:this.onAddAttribute.bind(this,e)},DWKitAdminLang.msg.here)," ",DWKitAdminLang.data.forcreatetingmsg));return o}},{key:"renderAttribute",value:function(t,e,n,r,o){var a,i=null!=t.__error?t.__error:{},l="att_"+t.id,s=1==t.typeId,c=s?V.a.createElement(w.Form.Dropdown,{key:"type",name:"referenceEntityId",selection:!0,fluid:!0,search:!0,label:DWKitAdminLang.data.refentityfield,value:t.referenceEntityId,error:Boolean(i.referenceEntityId),options:n,disabled:o,onChange:this.handleChange.bind(this,t)}):V.a.createElement(w.Form.Dropdown,{key:"type",options:r,selection:!0,fluid:!0,search:!0,name:"type",label:DWKitAdminLang.data.datatypefield,placeholder:"Choose a data type",error:Boolean(i.type),value:t.type,disabled:o,onChange:this.handleChange.bind(this,t)});return o?(r="",s?(a="",n.forEach(function(e){e.value==t.referenceEntityId&&(a=e.text)}),r+=DWKitAdminLang.data.reffield+": "+a):r+=DWKitAdminLang.data.columnfield+": "+t.type,t.isNullable&&(r+=", "+DWKitAdminLang.data.nullablefield),t.isCalculated&&(r+=", "+DWKitAdminLang.data.calculatefield),V.a.createElement(w.Form.Group,{key:l,widths:"equal",className:"dwkit-formadmin-item"},V.a.createElement(w.Form.Input,{key:"name",name:"name",readOnly:!0,label:DWKitAdminLang.field.name,error:i.name||i.duplicateName,value:t.name,onChange:this.handleChange.bind(this,t)}),V.a.createElement(w.Form.Input,{key:"type",name:"type",readOnly:!0,label:DWKitAdminLang.field.type,value:r}))):V.a.createElement(w.Form.Group,{key:l,widths:"equal",className:"dwkit-formadmin-item"},V.a.createElement("div",{key:"c1",className:"field"},V.a.createElement(w.Form.Input,{key:"name",name:"name",readOnly:o,label:DWKitAdminLang.field.name,error:i.name||i.duplicateName,value:t.name,onChange:this.handleChange.bind(this,t)}),V.a.createElement("label",{key:"c1label"},DWKitAdminLang.data.optionsfield),V.a.createElement(w.Form.Group,{widths:"equal"},V.a.createElement(w.Form.Checkbox,{name:"isNullable",readOnly:o,label:DWKitAdminLang.data.nullablefield,error:Boolean(i.isNullable),checked:t.isNullable,onChange:this.handleChange.bind(this,t)}),!this.state.isSimplified&&V.a.createElement(w.Form.Checkbox,{name:"isCalculated",label:DWKitAdminLang.data.calculatefield,error:Boolean(i.isCalculated),checked:t.isCalculated,onChange:this.handleChange.bind(this,t)}),!this.state.isSimplified&&V.a.createElement(w.Form.Checkbox,{name:"isExtension",readOnly:o,label:DWKitAdminLang.data.extensionfield,error:Boolean(i.isExtension),checked:t.isExtension,onChange:this.handleChange.bind(this,t)}))),V.a.createElement("div",{key:"c2",className:"field"},V.a.createElement("label",{key:"c2label"},DWKitAdminLang.field.type),V.a.createElement(w.Form.Group,{key:"c2g"},V.a.createElement(w.Form.Radio,{key:"typeColumn",readOnly:o,name:l+"_typeId",error:Boolean(i.typeId),label:DWKitAdminLang.data.columnfield,value:0,checked:0==s,onChange:this.handleChangeTypeId.bind(this,t)}),V.a.createElement(w.Form.Radio,{key:"typeRef",readOnly:o,name:l+"_typeId",error:Boolean(i.typeId),label:DWKitAdminLang.data.reffield,value:1,checked:s,onChange:this.handleChangeTypeId.bind(this,t)})),c),!o&&V.a.createElement(w.Image,{className:"dwkit-buttonimage",key:"btndelete",src:"/images/dwkit-delete.png",onClick:this.onDeleteAttribute.bind(this,e,t.id)}))}},{key:"handleChangeTypeId",value:function(e,t,n){n.name,n=n.value,this.handleChange(e,t,{name:"typeId",value:n})}},{key:"handleChange",value:function(e,t,n){var r=n.name,o=n.value,n=n.checked;null==o?(e[r]=n,"isCalculated"===r&&n?e.isExtension=!1:"isExtension"===r&&n&&(e.isCalculated=!1)):e[r]=o,this.updateStateAndForce()}},{key:"onAddAttribute",value:function(e){var t={id:this.NewGUID(),type:"String",typeId:0,isNullable:!0,isExtension:this.state.showextensioncolumns||this.state.isSimplified};e.unshift(t),this.updateStateAndForce()}},{key:"onDeleteAttribute",value:function(e,t){for(var n=void 0,r=0;r<e.length;r++)if(e[r].id==t){n=r;break}null!=n&&e.splice(n,1),this.updateStateAndForce()}},{key:"updateStateAndForce",value:function(){this.setUpdatedState(this.props.data),this.forceUpdate()}},{key:"onShowExtension",value:function(){this.setState({showextensioncolumns:!this.state.showextensioncolumns})}}]),ge(e,t),i}();function _e(e){return(_e="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(e){return _typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof2(e)})(e)}function ke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Oe(e,t,n){return t&&Ce(e.prototype,t),n&&Ce(e,n),e}function Se(e,t,n){return(Se="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){if(e=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=De(e)););return e}(e,t))return(t=Object.getOwnPropertyDescriptor(e,t)).get?t.get.call(n):t.value})(e,t,n||e)}function Ae(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xe(e,t)}function xe(e,t){return(xe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Pe(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e=De(n),t=r?(t=De(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==_e(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t}}function De(e){return(De=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Le=function(){Ae(n,K.a);var t=Pe(n);function n(e){return ke(this,n),(e=t.call(this,e)).dataindex="dataModel",e.panelindex="datamodel",e.defaultNamePrefix="table",e.datatype="datamodel",e.title=DWKitAdminLang.data.title,e.titleGetter=function(e){return e.data.title},e.idfield="id",e.editform=Ee,e}return Oe(n,[{key:"getModelError",value:function(){var t=this,n=[];return this.props.data.dataModel.forEach(function(e){n.push({modelName:e.name,errors:t.validateRow(e).modelerrors})}),n}},{key:"createNewObject",value:function(){var e=Se(De(n.prototype),"createNewObject",this).call(this);return e.mode=le.SIMPLIFIED,e}},{key:"renderToolbar",value:function(){var t=this,n=this;return V.a.createElement("div",{className:"dwkitadmin-toolbar"},V.a.createElement(w.Button,{className:"buttontype1",onClick:function(){n.props.parent.openpage(t.panelindex,"new")}},DWKitAdminLang.button.create),V.a.createElement(w.Button,{className:"buttontype2",onClick:function(){var e=t.grid.getSeletedRowKeys();1!==e.length?alertify.error(DWKitAdminLang.msg.needtoselectoneitem):n.props.parent.openpage(t.panelindex,"new",e[0])}},DWKitAdminLang.button.copy),V.a.createElement(w.Button,{className:"buttontype2",onClick:function(){n.setState({confirmdeleteshow:!0})}},DWKitAdminLang.button.delete))}},{key:"gridColumns",value:function(){var t=this;return[{key:"name",name:DWKitAdminLang.column.name,resizable:!0,formatter:V.a.createElement(je,{parent:this,errorsdata:this.getModelError.bind(this)})},{key:"dbObjectName",name:DWKitAdminLang.data.dbobjectfield,resizable:!0},{key:"customDataSourceId",name:DWKitAdminLang.data.customDataSourcefield,resizable:!0,type:"custom",customFormatter:function(e){return e=e.value,t.getDataSourceName(e)}}]}},{key:"getDataSourceName",value:function(e){var t,n=this.props.data.dataSources;for(t in n){var r=n[t];if(r.id==e)return r.name}return""}},{key:"checkAttributeExists",value:function(e,t){var n=t;if(e&&n.mode!==le.SIMPLIFIED){if(n.attributes)for(var r=0;r<n.attributes.length;r++)if(e===n.attributes[r].name)return!0;return!1}return!0}},{key:"validateRow",value:function(e){var t=!0,r=e,o=DWKitAdminLang.msg.fieldrequired,a=DWKitAdminLang.msg.fieldduplicated,i=(DWKitAdminLang.msg.fieldmustcontainlettersdigits,DWKitAdminLang.msg.fieldmustcontainlettersdigits),l=r.mode===le.SIMPLIFIED,e=!!r.name&&this.props.data.dataModel.some(function(e){return e.name.toLowerCase()===r.name.toLowerCase()&&e.id!==r.id});r.__error={name:r.name?void 0:o,dbObjectName:r.dbObjectName||l?void 0:o,primaryKeyAttribute:!this.checkAttributeExists(r.primaryKeyAttribute,r),extensionsContainerAttribute:!this.checkAttributeExists(r.extensionsContainerAttribute,r),workflowSchemeAttribute:!this.checkAttributeExists(r.workflowSchemeAttribute,r),duplicateName:e},t&=!(r.__error.name||r.__error.dbObjectName||r.__error.primaryKeyAttribute||r.__error.extensionsContainerAttribute||r.__error.workflowSchemeAttribute||r.__error.duplicateName);var s=r.attributes;return r.mode===le.SIMPLIFIED&&(e=this.props.data.additionalParams&&this.props.data.additionalParams.MasterTableAttributes?this.props.data.additionalParams.MasterTableAttributes:[],s=[].concat(s,e)),r.attributes&&r.attributes.forEach(function(n){var e=/[^\w\d]/.test(n.name);n.__error={name:n.name?e?i:void 0:o,type:0!==n.typeId||n.type?void 0:o,referenceEntityId:1!==n.typeId||n.referenceEntityId?void 0:o},!n.isExtension||r.extensionsContainerAttribute||l||(n.__error.isExtension=DWKitAdminLang.msg.extensionscontainerfieldrequired,r.__error.extensionsContainerAttribute=DWKitAdminLang.msg.extensionscontainerfieldrequired),e=!!n.name&&1<s.reduce(function(e,t){return t.name===n.name?e+1:e},0),n.__error.duplicateName=e?a:void 0,t&=!(n.__error.name||n.__error.type||n.__error.referenceEntityId||n.__error.isExtension||e)}),null!=r.triggers&&r.triggers.forEach(function(e){e.__error={triggers:Array.isArray(e.triggers)&&0<e.triggers.length?void 0:o,codeActionId:null==e.codeActionId||""==e.codeActionId?o:void 0},t&=null==e.__error.triggers&&null==e.__error.codeActionId}),{res:t,modelerrors:r.__error}}},{key:"validate",value:function(){return this.validateRow(this.state.editrow).res}}]),n}(),je=function(){Ae(n,V.a.Component);var t=Pe(n);function n(e){return ke(this,n),t.call(this,e)}return Oe(n,[{key:"render",value:function(){var t=this.props.value,e=!1,n="";return this.props.errorsdata().forEach(function(e){e.modelName==t&&(n+=e.errors.duplicateName?"".concat(DWKitAdminLang.data.nameexistsmsg,"\n"):"",n+=e.errors.extensionsContainerAttribute?"".concat(DWKitAdminLang.data.notfoundprimaryextcontmsg,"\n"):"",n+=e.errors.primaryKeyAttribute?"".concat(DWKitAdminLang.data.notfoundprimarykeymsg,"\n"):"",n+=e.errors.workflowSchemeAttribute?"".concat(DWKitAdminLang.msg.checkerrorsonform,"\n"):"")}),(e=""!==n||e)?V.a.createElement("span",{style:{color:"red"}},V.a.createElement("div",{title:n},t)):V.a.createElement("span",null,V.a.createElement("div",{title:t},t))}},{key:"decapitalizeFirstLetter",value:function(e){return e.charAt(0).toLowerCase()+e.slice(1)}}]),n}();function Re(e){return(Re="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(e){return _typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof2(e)})(e)}function Fe(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function Te(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Fe(Object(n),!0).forEach(function(e){We(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Fe(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function Ne(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Me(e,t){return(Me=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ie(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Be(e){return(Be=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function We(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ue=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Me(e,t)}(a,b.a);var n,r,o=(n=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Be(n),t=r?(t=Be(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Re(t)&&"function"!=typeof t?Ie(e):t});function a(e){var r;!function(e){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this),We(Ie(r=o.call(this,e)),"onApply",function(){var t=Ie(r),e=r.getChangesForApply(r.state.data);e.length?r.ChangeData(e,function(e){t.onRefresh()}):alertify.error(DWKitAdminLang.msg.needtoselectitems)}),We(Ie(r),"onRefresh",function(){var n=Ie(r),e=new Array;e.push({name:"operation",value:"analysedb"}),e.push({name:"datasourceid",value:r.state.customDataSourceId}),$.ajax({url:n.props.apiUrl,data:e,async:!0,type:"post",success:function(e){e.success?n.setState({isloadig:!1,data:n.getFilteredArray(e.items)}):alertify.error(e.message)},error:function(e,t){t=n.getProcessLoadError(e,t),alertify.error(t)}})}),We(Ie(r),"onShowSystems",function(){r.setState({showsystemtables:!r.state.showsystemtables})}),r.titleGetter=function(e){return e.datasync.title},r.state={showsystemtables:!1};var t=[{value:"",text:""}];return r.state.datasoucesCount=0,Array.isArray(r.props.data.dataSources)&&(r.props.data.dataSources.forEach(function(e){t.push({value:e.id,text:e.name})}),r.state.datasoucesCount=r.props.data.dataSources.length),r.state.datasoucesList=t,r}return Ne(a.prototype,[{key:"render",value:function(){function e(e){return V.a.createElement("label",null,e,V.a.createElement(w.Popup,{content:DWKitAdminLang.datasync.searchTips,trigger:V.a.createElement(w.Icon,{name:"question"})}))}var n=this,t=this.state.data,r=null==t?V.a.createElement("div",null):t.length?this.renderChanges(t):V.a.createElement("div",null,V.a.createElement("div",{className:"dwkit-formadmin-info"},V.a.createElement("br",null),V.a.createElement("br",null),DWKitAdminLang.datasync.noneedsyncmsg,V.a.createElement("br",null),V.a.createElement("a",{onClick:this.onRefresh},DWKitAdminLang.datasync.analysingagainmsg)));return V.a.createElement("div",{className:"dwkit-formadmin-sync"},V.a.createElement("h1",null,this.titleGetter(DWKitAdminLang)),V.a.createElement("div",{className:"dwkitadmin-toolbar"},V.a.createElement(w.Form,null,V.a.createElement(w.Form.Group,null,V.a.createElement(w.Form.Input,{name:"searchInclude",label:e(DWKitAdminLang.datasync.searchInclude),value:this.state.searchInclude,onChange:function(e,t){return t.name,t=t.value,n.setState({searchInclude:t})}}),V.a.createElement(w.Form.Input,{name:"searchExclude",label:e(DWKitAdminLang.datasync.searchExclude),value:this.state.searchExclude,onChange:function(e,t){return t.name,t=t.value,n.setState({searchExclude:t})}}),0<this.state.datasoucesCount&&V.a.createElement(w.Form.Dropdown,{name:"customDataSourceId",label:DWKitAdminLang.data.customDataSourcefield,value:this.state.customDataSourceId,options:this.state.datasoucesList,onChange:function(e,t){return t.name,t=t.value,n.setState({customDataSourceId:t})},selection:!0}),V.a.createElement(w.Form.Field,null,V.a.createElement(w.Button,{className:"buttontype2",style:{marginTop:"20px"},onClick:this.onRefresh.bind(this)},DWKitAdminLang.datasync.searchanalyse))))),V.a.createElement("hr",null),null!=t&&V.a.createElement("div",{className:"dwkitadmin-toolbar"},V.a.createElement(w.Button,{className:"buttontype1",onClick:this.onApply},DWKitAdminLang.button.applyselectedchanges),V.a.createElement(w.Button,{className:"buttontype2",onClick:this.massChangeSelect.bind(this,void 0,!0)},DWKitAdminLang.button.selectall),V.a.createElement(w.Button,{className:"buttontype2",onClick:this.massChangeSelect.bind(this,void 0,!1)},DWKitAdminLang.button.deselectall),V.a.createElement(w.Checkbox,{slider:!0,checked:this.state.showsystemtables,onClick:this.onShowSystems,label:DWKitAdminLang.datasync.showsystemtables})),r)}},{key:"renderChanges",value:function(e){for(var t=[],n=0;n<e.length;n++){var r,o,a=e[n];0==this.state.showsystemtables&&this.isSystem(a)||(r=a.id,o=this.getChangedTitle(a.changedType),a=V.a.createElement("div",{key:r,className:"dwkit-formadmin-item"},V.a.createElement(w.Form,{key:"form"},V.a.createElement(w.Form.Group,{key:"formgroup",widths:"equal"},V.a.createElement("div",{key:"formgroupdiv",className:"field eight wide "+(a.__select?"syncselected":"syncnotselected")},V.a.createElement(w.Form.Group,{key:"formgroup2",widths:"equal",style:{width:"400px"}},V.a.createElement(w.Form.Checkbox,{width:1,name:"select",key:"check",checked:a.__select,onChange:this.handleSelectGroupChange.bind(this,a)}),V.a.createElement("div",{className:"field"},V.a.createElement(w.Form.Input,{key:"name",name:"name",label:DWKitAdminLang.field.name,value:a.name,readOnly:!0}),V.a.createElement(w.Form.Input,{key:"changeTitle",name:"changeTitle",label:DWKitAdminLang.datasync.changedtypefield,error:"deleted"===a.changedType,value:o,readOnly:!0}))),a.changes&&0<a.changes.length&&V.a.createElement("div",{style:{marginTop:"10px"}},V.a.createElement("a",{key:"selectbutton",onClick:this.massChangeSelect.bind(this,a,!0)},DWKitAdminLang.button.select),"  ",V.a.createElement("a",{key:"deselectbutton",onClick:this.massChangeSelect.bind(this,a,!1)},DWKitAdminLang.button.deselect))),V.a.createElement("div",{key:"childrendiv",className:"field"},this.renderChildren(a))))),t.push(a))}return t}},{key:"isSystem",value:function(e){if(!e||!e.name)return!1;for(var t=["dwAppSettings","dwSecurity","dwUploadedFiles","Workflow","dwV_Security","DWAPPSETTINGS","DWSECURITY","DWUPLOADEDFILES","WORKFLOW","DWV_SECURITY","dwEntities"],n=0;n<t.length;n++)if(e.name.startsWith(t[n]))return!0;return!1}},{key:"renderChildren",value:function(e){if(e.changes&&e.changes.length){for(var t=[],n=0;n<e.changes.length;n++){var r=e.changes[n],o=r.id,a=null==r.originalValue?this.getChangedTitle(r.changedType):r.originalValue+" -> "+r.newValue,a=V.a.createElement(w.Form.Group,{key:o,className:r.__select?"syncselected":"syncnotselected",widths:"equal"},V.a.createElement(w.Form.Checkbox,{name:"changeselect",width:1,key:"check",checked:r.__select,onChange:this.handleSelectChange.bind(this,e,r)}),V.a.createElement(w.Form.Input,{name:"parameter",width:5,key:"parameter",label:DWKitAdminLang.field.parameter,value:r.parameter,readOnly:!0}),V.a.createElement(w.Form.Input,{name:"change",width:10,key:"value",label:DWKitAdminLang.datasync.chages,error:"deleted"===r.changedType,value:a,readOnly:!0}));t.push(a)}return t}}},{key:"getChangedTitle",value:function(e){return"new"===e?DWKitAdminLang.datasync.changestypenew:"changed"===e?DWKitAdminLang.datasync.changetypechanged:"deleted"===e?DWKitAdminLang.datasync.changetypedeleted:void 0}},{key:"getChangesForApply",value:function(e){var n=this,r=[];return e.forEach(function(e){var t;e.__select?r.push(Te(Te({},e),{},{__type:"datasync",__state:"inserted",dataSourceId:n.state.customDataSourceId})):null!=e.changes&&0<e.changes.length&&(t=[],e.changes.forEach(function(e){e.__select&&t.push(e)}),0<t.length&&r.push(Te(Te({},e),{},{changes:t,__type:"datasync",__state:"inserted"})))}),r}},{key:"onSelectAll",value:function(){this.massChangeSelect(void 0,!0)}},{key:"onDeselectAll",value:function(){this.massChangeSelect(void 0,!1)}},{key:"onSelectGroup",value:function(e){this.massChangeSelect(e,!0)}},{key:"onDeselectGroup",value:function(e){this.massChangeSelect(e,!1)}},{key:"massChangeSelect",value:function(e,t){null!=e?(e.__select=t,null!=e.changes&&e.changes.forEach(function(e){e.__select=t})):this.state.data.forEach(function(e){e.__select=t,null!=e.changes&&e.changes.forEach(function(e){e.__select=t})}),this.forceUpdate()}},{key:"handleSelectChange",value:function(e,t,n,r){var o,r=r.checked;t.__select=r,null!=e.changes&&0<e.changes.length&&(o=!0,e.changes.forEach(function(e){o&=e.__select}),e.__select=o),this.forceUpdate()}},{key:"handleSelectGroupChange",value:function(e,t,n){var r=n.checked;e.__select=r,null!=e.changes&&e.changes.forEach(function(e){e.__select=r}),this.forceUpdate()}},{key:"getArrayFromPattern",value:function(e,t){return(e=e.indexOf(t)?e.split(t):[e]).forEach(function(e,t,n){n[t]&&(n[t]=n[t].trim(),-1==n[t].indexOf("*")&&(n[t]="*"+n[t]+"*"))}),e}},{key:"getFilteredArray",value:function(e){var r,o,a=this,i=[],t=this.state.searchInclude,n=this.state.searchExclude;return t||n?(null!=t&&(r=this.getArrayFromPattern(t,",")),null!=n&&(o=this.getArrayFromPattern(n,",")),e.forEach(function(t){var n=!1;null!=r?r.forEach(function(e){n=n||a.matchRuleShort(t.name,e)}):n=!0,n&&null!=o&&o.forEach(function(e){n&&"**"!==e&&(n=!a.matchRuleShort(t.name,e))}),n&&i.push(t)}),i):e}},{key:"matchRuleShort",value:function(e,t){return new RegExp("^"+t.split("*").map(function(e){return e.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")}).join(".*")+"$","i").test(e)}}]),a}();function Ke(e){return(Ke="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(e){return _typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof2(e)})(e)}function ze(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function Ge(r){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?ze(Object(o),!0).forEach(function(e){var t,n=r;e=o[t=e],t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):ze(Object(o)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))})}return r}function qe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function He(e,t){return(He=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ye(e){return(Ye=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Je=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&He(e,t)}(a,b.a);var n,r,o=(n=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Ye(n),t=r?(t=Ye(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Ke(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function a(e){var t;return function(e){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this),(t=o.call(this,e)).datatype="datasources",t.dataindex="dataSources",t.state={test:{}},t.initData(e.data[t.dataindex]),t}return qe(a.prototype,[{key:"initData",value:function(e){function t(e,t){return e.name>t.name?1:e.name<t.name?-1:0}(e=Array.isArray(e)?this.СloneObj(e):[]).forEach(function(e){null!=e.children&&(e.children=e.children.sort(t))}),e=e.sort(t),this.state.data=e,this.state.providers=[{value:"mssql",text:DWKitAdminLang.datasources.providerMSSQL},{value:"postgresql",text:DWKitAdminLang.datasources.providerPostgres},{value:"oracle",text:DWKitAdminLang.datasources.providerOracle}]}},{key:"render",value:function(){this.validate();for(var e=this.state.data,t=[],n=0;n<e.length;n++){var r=e[n];"deleted"!=r.__state&&t.push(this.renderRow(r,n))}return V.a.createElement("div",null,V.a.createElement("h1",null,DWKitAdminLang.datasources.title),V.a.createElement("div",{className:"dwkitadmin-toolbar"},V.a.createElement(w.Button,{className:"buttontype1",onClick:this.onAdd.bind(this)},DWKitAdminLang.datasources.create),this.state.ischanged&&V.a.createElement(w.Button,{className:"buttontype1",onClick:this.onSave.bind(this)},DWKitAdminLang.button.save),this.state.ischanged&&V.a.createElement(w.Button,{className:"buttontype2",onClick:this.onCancel.bind(this)},DWKitAdminLang.button.cancel)),t)}},{key:"renderRow",value:function(e,t){var n=!(Boolean(e.__error.name)||Boolean(e.__error.provider)||Boolean(e.__error.connectionString));return V.a.createElement("div",{key:"g_"+e.id,className:"dwkit-formadmin-item"},V.a.createElement(w.Form,{key:"form"},V.a.createElement(w.Form.Group,{key:"group"},V.a.createElement(w.Form.Input,{style:{width:"300px"},key:"name",name:"name",label:DWKitAdminLang.field.name,error:Boolean(e.__error.name),value:e.name,onChange:this.handleChange.bind(this,e)}),V.a.createElement(w.Form.Dropdown,{key:"provider",style:{width:"200px"},name:"provider",selection:!0,fluid:!0,search:!0,label:DWKitAdminLang.datasources.provider,value:e.provider,error:Boolean(e.__error.provider),options:this.state.providers,onChange:this.handleChange.bind(this,e)}),V.a.createElement(w.Image,{className:"dwkit-buttonimage",key:"btndelete",src:"/images/dwkit-delete.png",onClick:this.onDelete.bind(this,t)})),V.a.createElement(w.Form.Input,{fluid:!0,key:"connectionString",name:"connectionString",label:DWKitAdminLang.datasources.connectionString,error:Boolean(e.__error.connectionString),value:e.connectionString,onChange:this.handleChange.bind(this,e)}),"          ",V.a.createElement(w.Form.Group,null,n&&V.a.createElement(w.Form.Group,{key:"group"},V.a.createElement(w.Form.Button,{loading:e.testloading,icon:"play",color:this.getTestColor(e),content:DWKitAdminLang.datasources.test,onClick:this.onTest.bind(this,e)}),e.testmessage&&V.a.createElement("span",{style:{color:this.getTestColor(e)}},e.testmessage))),n&&e.testdetails&&V.a.createElement(w.Form.TextArea,{rows:6,style:{color:this.getTestColor(e)},value:e.testdetails})))}},{key:"getTestColor",value:function(e){if(null!=(e=e.testsuccess))return e?"green":"red"}},{key:"handleChange",value:function(e,t,n){var r=n.name,o=n.value;n.checked,e[r],e[r]=o,"provider"==r&&(r="","mssql"==o?r="Server=myServerAddress;Database=myDataBase;User Id=myUsername;Password=myPassword;":"postgresql"==o?r="Host=localhost;Port=5432;Database=myDataBase;User ID=root;Password=myPassword;":"oracle"==o&&(r="Data Source=MyOracleDB;User Id=myUsername;Password=myPassword;Integrated Security=no;"),e.connectionString=r),this.setUpdatedState(e),this.state.ischanged=!0,this.forceUpdate()}},{key:"validate",value:function(){var n=!0;return this.state.data.forEach(function(e){var t=DWKitAdminLang.msg.fieldrequired;e.__error={type:null==e.provider||""==e.provider?t:void 0,name:null==e.name||""==e.name?t:void 0,connectionString:null==e.connectionString||""==e.connectionString?t:void 0},n&=null==e.__error.connectionString&&null==e.__error.provider&&null==e.__error.name}),n}},{key:"onSave",value:function(){var t,n=this;this.validate()?(t=[],this.state.data.forEach(function(e){null!=e.__state&&t.push(Ge(Ge({},e),{},{__type:n.datatype}))}),this.ChangeData(t,function(e){n.ResetSystemProps(n.state.data),n.props.data[n.dataindex]=n.state.data,n.onCancel()})):alertify.error(DWKitAdminLang.msg.checkerrorsonform)}},{key:"onCancel",value:function(){this.initData(this.props.data[this.dataindex]),this.state.ischanged=!1,this.forceUpdate()}},{key:"onTest",value:function(t){var n=this,e=new Array;e.push({name:"operation",value:"datasourcetest"}),e.push({name:"data",value:c.a.stringify(t)}),t.testloading=!0,delete t.testsuccess,delete t.testmessage,delete t.testdetails,n.forceUpdate(),$.ajax({url:n.props.apiUrl,data:e,async:!0,type:"post",success:function(e){e.success?t.testmessage=DWKitAdminLang.datasources.connectionSuccess:(t.testmessage=e.message,t.testdetails=e.details),t.testsuccess=e.success,t.testloading=!1,n.forceUpdate()}})}},{key:"onDelete",value:function(e){var t=this.state.data[e];"inserted"==t.__state?this.state.data.splice(e,1):t.__state="deleted",this.state.ischanged=!0,this.forceUpdate()}},{key:"onAdd",value:function(){this.state.data.unshift({id:this.NewGUID(),__state:"inserted"}),this.state.ischanged=!0,this.forceUpdate()}}]),a}();function Qe(e){return(Qe="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(e){return _typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof2(e)})(e)}function $e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xe(e,t){return(Xe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ze(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function et(e){return(et=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function tt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var nt=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xe(e,t)}(a,b.a);var n,r,o=(n=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=et(n),t=r?(t=et(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Qe(t)&&"function"!=typeof t?Ze(e):t});function a(e){var t;return function(e){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this),tt(Ze(t=o.call(this,e)),"confirmYesHandler",function(){t.setState({showConfirmRebuild:!1}),t.props.parent.recompileAll()}),tt(Ze(t),"confirmNoHandler",function(){t.setState({showConfirmRebuild:!1})}),t.state={},"inserted"===e.data.__state&&null==e.data.type&&(e.data.type=0,e.data.usings=t.getDefaultUsings(),e.data.source=t.getDefaultCodeByType(e.data.type,e.data.isAsync)),t}return $e(a.prototype,[{key:"validate",value:function(){return this.props.parent.validate()}},{key:"componentDidMount",value:function(){this.redrawEditor()}},{key:"redrawEditor",value:function(){var e=this,t=null==this.props.data?[]:this.props.data,n=($(window).width(),$(window).height(),ace.edit("dwkit-admin-codeactions-editcode"));n.getSession().setMode("ace/mode/csharp"),null!=t.source&&n.setValue(t.source,-1),this.props.parent.props.autocomplete&&WorkflowDesignerWindows.Autocompleter.enableAceEditor({editor:n,getUsingsCallback:function(){return e.props.data.usings},getVariablesCallback:function(){switch(e.props.data.type){case 0:return[{name:"model",type:"OptimaJet.DWKit.Core.Model.EntityModel"},{name:"entities",type:"System.Collections.Generic.List",typeArguments:["dynamic"]},{name:"options",type:"dynamic"}];case 1:return[{name:"request",type:"dynamic"}];case 2:return[{name:"model",type:"OptimaJet.DWKit.Core.Model.EntityModel"},{name:"entities",type:"System.Collections.Generic.List<dynamic>"},{name:"options",type:"dynamic"},{name:"context",type:"OptimaJet.DWKit.Core.TriggerExecutionContext"}]}return[]}})}},{key:"render",value:function(){this.validate();var e=this.props.data;return V.a.createElement("div",null,V.a.createElement("div",{className:"dwkitadmin-toolbar-editform"},V.a.createElement(w.Breadcrumb,null,V.a.createElement(w.Breadcrumb.Section,{onClick:this.props.parent.back.bind(this.props.parent),link:!0},DWKitAdminLang.codeaction.title),V.a.createElement(w.Breadcrumb.Divider,null),V.a.createElement(w.Breadcrumb.Section,{active:!0},e.name)),V.a.createElement("div",{className:"dwkitadmin-toolbar-editform"},V.a.createElement(w.Button,{className:"buttontype2",onClick:this.onCompile.bind(this)},DWKitAdminLang.button.compile),V.a.createElement(w.Button,{className:"buttontype1",onClick:this.onSave.bind(this)},DWKitAdminLang.button.save),V.a.createElement(w.Button,{className:"buttontype2",onClick:this.onCancel.bind(this)},DWKitAdminLang.button.cancel)),V.a.createElement("h1",null,this.props.parent.title),V.a.createElement(w.Form,null,V.a.createElement(w.Form.Group,{widths:"equal"},V.a.createElement(w.Form.Input,{name:"name",label:DWKitAdminLang.field.name,error:Boolean(e.__error.name),value:e.name,onChange:this.handleChange.bind(this,e)}),V.a.createElement("div",{className:"field"},V.a.createElement("label",null,DWKitAdminLang.field.type),V.a.createElement(w.Form.Group,{widths:"equal"},V.a.createElement(w.Form.Radio,{name:"type",label:DWKitAdminLang.codeaction.filter,value:0,checked:0===e.type,onChange:this.handleChange.bind(this,e)}),V.a.createElement(w.Form.Radio,{name:"type",label:DWKitAdminLang.codeaction.action,value:1,checked:1===e.type,onChange:this.handleChange.bind(this,e)}),V.a.createElement(w.Form.Radio,{name:"type",label:DWKitAdminLang.codeaction.trigger,value:2,checked:2===e.type,onChange:this.handleChange.bind(this,e)}),V.a.createElement(w.Form.Checkbox,{name:"isAsync",label:DWKitAdminLang.codeaction.isasync,checked:e.isAsync,onChange:this.handleChange.bind(this,e)})))),V.a.createElement(w.Form.Group,{widths:"equal"},V.a.createElement(w.Form.TextArea,{rows:6,name:"usings",label:DWKitAdminLang.codeaction.usingsfield,value:e.usings,onChange:this.handleChange.bind(this,e)}),V.a.createElement(w.Form.TextArea,{rows:6,name:"comment",label:DWKitAdminLang.field.comment,value:e.comment,onChange:this.handleChange.bind(this,e)}))),V.a.createElement("span",null,this.getDefine(e.name,e.type,e.isAsync)),V.a.createElement("div",{id:"dwkit-admin-codeactions-editcode",style:{height:"415px"}}),this.state.message&&V.a.createElement(w.TextArea,{className:"dwkit-admin-codeactions-result",readOnly:!0,value:this.state.message})),V.a.createElement(w.Modal,{open:this.state.showConfirmRebuild,onClose:this.confirmNoHandler},V.a.createElement(w.Modal.Header,null,DWKitAdminLang.form.messagetitle),V.a.createElement(w.Modal.Content,null,V.a.createElement("p",null,DWKitAdminLang.msg.recompiledialog)),V.a.createElement(w.Modal.Actions,null,V.a.createElement(w.Button,{className:"buttontype1",content:DWKitAdminLang.button.yes,onClick:this.confirmYesHandler}),V.a.createElement(w.Button,{className:"buttontype2",content:DWKitAdminLang.button.no,onClick:this.confirmNoHandler}))))}},{key:"onSave",value:function(){var t=this,e=ace.edit("dwkit-admin-codeactions-editcode").getValue(),n=this.props.data;n.source=e;var r=(e=this.props.parent.getEditRow()).source!==n.source||e.name!==n.name||e.type!==n.type||e.isAsync!==n.isAsync;this.setUpdatedState(n),this.props.onSave.bind(this.props.parent)(function(e){r&&t.setState({showConfirmRebuild:!0})})}},{key:"onCancel",value:function(){this.props.onCancel.bind(this.props.parent)(),this.redrawEditor()}},{key:"handleChange",value:function(e,t,n){var r=n.name,o=n.value,n=n.checked;e[r],e[r]=null==o?n:o,"type"===r&&(o=this.getDefaultCodeByType(o),ace.edit("dwkit-admin-codeactions-editcode").setValue(o,-1)),this.setUpdatedState(this.props.data),this.forceUpdate()}},{key:"onCompile",value:function(){var t=this,e=ace.edit("dwkit-admin-codeactions-editcode").getValue();this.props.data.source=e,(e=new Array).push({name:"operation",value:"compile"}),e.push({name:"item",value:c.a.stringify(this.props.data)}),$.ajax({url:t.props.apiUrl,data:e,async:!0,type:"post",success:function(e){e.success?(alertify.success(DWKitAdminLang.msg.compileok),t.setState({message:void 0})):(alertify.error(e.message),t.setState({message:e.message}))}})}},{key:"getDefaultUsings",value:function(){return"System;\nSystem.Collections;\nSystem.Collections.Generic;\nSystem.Linq;\nSystem.Threading;\nSystem.Threading.Tasks;\nOptimaJet.Workflow;\nOptimaJet.Workflow.Core.Runtime;\nOptimaJet.Workflow.Core.Model;\nOptimaJet.DWKit.Core;\nOptimaJet.DWKit.Core.Model;"}},{key:"getDefaultCodeByType",value:function(e,t){var n="";return 0==e?n="//TODO: Replace the emplty filter to your filter;\nreturn Filter.Empty;":1==e?n="//TODO: Call your actons;\nreturn null;":2==e&&(n="//TODO: Check your trigger;\nreturn TriggerResult.Success();"),n}},{key:"getDefine",value:function(e,t,n){var r="",o="";return 0==t?(r=n?"public static async Task<Filter>":"public static Filter",o="(EntityModel model, List<dynamic> entities, dynamic options)"):1==t?(r=n?"public static async Task<object>":"public static object",o="(dynamic request)"):2==t&&(r=n?"public static async Task<TriggerResult>":"public static TriggerResult",o="(EntityModel model, List<dynamic> entities, TriggerExecutionContext context, dynamic options)"),V.a.createElement("span",{className:"dwkit-admin-codeactions-define"},r," ",V.a.createElement("span",{className:"dwkit-admin-codeactions-definefunctionname"},e=null==e?"____":e),o)}}]),a}();function rt(e){return(rt="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(e){return _typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof2(e)})(e)}function ot(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function at(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function it(e,t,n){return t&&at(e.prototype,t),n&&at(e,n),e}function lt(e,t,n){return(lt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){if(e=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ft(e)););return e}(e,t))return(t=Object.getOwnPropertyDescriptor(e,t)).get?t.get.call(n):t.value})(e,t,n||e)}function st(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ct(e,t)}function ct(e,t){return(ct=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ut(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e=ft(n),t=r?(t=ft(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==rt(t)&&"function"!=typeof t?pt(e):t}}function pt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ft(e){return(ft=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var dt=function(){st(a,K.a);var o=ut(a);function a(e){var n,t,r;return ot(this,a),n=o.call(this,e),r=function(){var t=pt(n),e=[];e.push({name:"operation",value:"recompileall"}),$.ajax({url:n.props.apiUrl,data:e,async:!0,type:"post",success:function(e){e.success?(alertify.success(DWKitAdminLang.msg.recompiled),null!==e.result&&void 0!==e.result&&(t.props.parent.state.data.additionalParams.CodeActionErrors=e.result.CodeActionErrors,t.props.parent.forceUpdate())):alertify.error(e.message)}})},(e="recompileAll")in(t=pt(n))?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,n.dataindex="codeActions",n.panelindex="codeactions",n.defaultNamePrefix="",n.idfield="id",n.title=DWKitAdminLang.codeaction.title,n.titleGetter=function(e){return e.codeaction.title},n.datatype="codeactions",n.editform=nt,n}return it(a,[{key:"getTypeName",value:function(e){return 2===e?"Trigger":1===e?"Action":0===e?"Filter":"Unknown"}},{key:"renderToolbar",value:function(){var e=this;return V.a.createElement("div",{className:"dwkitadmin-toolbar"},V.a.createElement(w.Button,{className:"buttontype1",onClick:function(){e.props.parent.openpage(e.panelindex,"new")}},DWKitAdminLang.button.create),V.a.createElement(w.Button,{className:"buttontype2",onClick:function(){e.setState({confirmdeleteshow:!0})}},DWKitAdminLang.button.delete),V.a.createElement(w.Button,{className:"buttontype1",onClick:this.recompileAll.bind(this)},DWKitAdminLang.button.recompileAll))}},{key:"gridColumns",value:function(){var t=this;return[{key:"name",name:DWKitAdminLang.column.name,resizable:!0,formatter:V.a.createElement(ht,{data:this.props.data[this.dataindex],parent:this}),getRowMetaData:function(e){return e}},{key:"definedOnServer",name:DWKitAdminLang.codeaction.defineonservercolumn,resizable:!0,type:"checkbox"},{key:"type",name:DWKitAdminLang.column.type,resizable:!0,type:"custom",customFormatter:function(e){return e=e.value,t.getTypeName(e)}}]}},{key:"getDefaultObjectCode",value:function(){return""}},{key:"showedit",value:function(e){e.definedOnServer?alertify.error(DWKitAdminLang.codeaction.defineonservermsg):lt(ft(a.prototype),"showedit",this).call(this,e)}},{key:"validate",value:function(){var e=!0,t=this.state.editrow,n=DWKitAdminLang.msg.fieldrequired;return t.__error={name:null==t.name||""==t.name?n:void 0},e&null==t.__error.name}},{key:"onDelete",value:function(){for(var e=this,t=[],n=[],r=this.grid.getSeletedRowKeys(),o=0;o<this.props.data[this.dataindex].length;o++){for(var a=this.props.data[this.dataindex][o],i=!1,l=0;l<r.length;l++)if(a[this.idfield]==r[l]){i=!0;break}if(i){var s=a;if(s.definedOnServer)return e.setState({confirmdeleteshow:!1}),void alertify.error(DWKitAdminLang.codeaction.defineonserverblockdeletemsg);s.__type=this.datatype,s.__state="deleted",n.push(s)}else t.push(a)}this.ChangeData(n,function(){e.props.data[e.dataindex]=t,e.setState({selectedIndexes:[],confirmdeleteshow:!1})})}}]),a}(),ht=function(){st(n,V.a.Component);var t=ut(n);function n(e){return ot(this,n),t.call(this,e)}return it(n,[{key:"render",value:function(){var e=this.props.value,t=null!=(n=this.props.parent.props).data.additionalParams&&null!=n.data.additionalParams.CodeActionErrors?n.data.additionalParams.CodeActionErrors:void 0,n=this.props.dependentValues;return null!=t&&t.hasOwnProperty(this.props.parent.getTypeName(n.type)+"_"+n.name)?V.a.createElement("span",{style:{color:"red"}},V.a.createElement("div",{title:e},e)):V.a.createElement("span",null,V.a.createElement("div",{title:e},e))}},{key:"decapitalizeFirstLetter",value:function(e){return e.charAt(0).toLowerCase()+e.slice(1)}}]),n}(),mt=n(12),yt=n(7);function gt(e){return(gt="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(e){return _typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof2(e)})(e)}function bt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vt(e,t){return(vt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Vt(e){return(Vt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var wt=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vt(e,t)}(o,b.a);var n,r,t=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Vt(n),t=r?(t=Vt(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==gt(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function o(e){return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),t.call(this,e)}return bt(o.prototype,[{key:"render",value:function(){var r=this,e=this.props.parent.getControlsByFormForDataMapping(this.props.formsource,void 0),o=[],n=new Set,a=["container","form","formgroup","card","tab","customblock","gridlayout","workflowbar","menu","header","staticcontent","breadcrumb"],i=r.props.parent;return e.forEach(function(e){var t;0<=a.indexOf(e.type)||r.isAttached(e,r.props.form.dataMap)||r.isAttached(e,r.props.form.dataColl)||(t=e.key+" : "+e.type,null!=e.parent?n.add(e.parent):o.push(V.a.createElement("div",{draggable:"true",className:"mapdatacontrol",key:e.key,onDragStart:i.onDragStart.bind(i,e.key),onDragEnd:i.onDragEnd.bind(i,e.key),onDoubleClick:i.onDoubleClick.bind(i,e.key)},V.a.createElement("span",{key:"el"},t))))}),0!=(n=new Set(Array.from(n).sort())).size&&n.forEach(function(t){var n=[];e.forEach(function(e){0<=a.indexOf(e.type)||e.parent!==t||r.isAttached(e,r.props.form.dataMap)||r.isAttached(e,r.props.form.dataColl)||n.push(V.a.createElement("div",{draggable:"true",className:"mapdatacontrol",key:e.key,onDragStart:i.onDragStart.bind(i,e.key),onDragEnd:i.onDragEnd.bind(i,e.key),onDoubleClick:i.onDoubleClick.bind(i,e.key)},V.a.createElement("span",{key:"el"},e.key)))}),n!==[]&&o.push(V.a.createElement("div",{draggable:"false",className:"mapdatacontrolcontainer",key:t},V.a.createElement("span",{key:"el"},t),n))}),0<o.length?o.unshift(V.a.createElement(w.Message,{key:"MappingDataControlsMessage1"},DWKitAdminLang.datamap.moveitemsmsg)):o.unshift(V.a.createElement(w.Message,{key:"MappingDataControlsMessage2"},V.a.createElement(w.Icon,{name:"info"}),DWKitAdminLang.datamap.nocontrolsonformmsg)),o.push(V.a.createElement("div",{key:"controlsdropzone",className:"dwkit-formmapping-zone"},DWKitAdminLang.datamap.dropzonemsg)),V.a.createElement("div",null,o)}},{key:"isAttached",value:function(e,t){for(var n=0;n<t.length;n++)if(e.key==t[n].control)return!0;return!1}}]),o}();function Et(e){return(Et="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(e){return _typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof2(e)})(e)}function _t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kt(e,t){return(kt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ct(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ot(e){return(Ot=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var St=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&kt(e,t)}(a,b.a);var n,r,o=(n=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Ot(n),t=r?(t=Ot(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Et(t)&&"function"!=typeof t?Ct(e):t});function a(e){var t,n,r;return function(e){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this),t=o.call(this,e),r=function(){t.props.form.dataColl.push({id:t.NewGUID(),dataMap:[]}),t.props.parent.validate(),t.forceUpdate()},(e="onCreate")in(n=Ct(t))?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,t.state={expanded:{}},t}return _t(a.prototype,[{key:"onExpand",value:function(e,t){this.state.expanded[e]=t,this.forceUpdate()}},{key:"onDelete",value:function(e){for(var t,n=this.props.form.dataColl,r=0;r<n.length;r++)if(n[r].id==e){t=r;break}null!=t&&(n.splice(t,1),this.props.parent.forceUpdate())}},{key:"render",value:function(){var e=this.props.form.dataColl;return V.a.createElement("div",{className:"dwkit-formmapping-collection"},V.a.createElement("h2",null,DWKitAdminLang.datamap.collections),V.a.createElement("div",{className:"dwkit-formmapping-collection-toolbar"},V.a.createElement("a",{onClick:this.onCreate},DWKitAdminLang.button.create)),this.renderColl(e))}},{key:"handleChanged",value:function(e,t,n){var r=n.name,o=n.value,n=n.checked;e[r]="readOnly"===r?n:o,"entityId"===r&&(e.dataMap=this.props.parent.createDataMap(o,void 0,"",[])),this.props.parent.validate(),this.forceUpdate()}},{key:"renderColl",value:function(e){var p=[],f=this,d=this.props.formsource,h=[{key:"auto",text:DWKitAdminLang.field.auto,value:"auto"},{key:"load",text:DWKitAdminLang.field.load,value:"load"},{key:"lazyload",text:DWKitAdminLang.field.lazyload,value:"lazyload"}];return e.forEach(function(t){var n,e=t.id,r=!1,o=!1;void 0!==t.triggers&&null!==t.triggers||(t.triggers=[]),null!=t.control&&(o=!0,d.forEach(function(e){e.key===t.control&&(n=e)}),null!=n&&null!=n.propertyName&&(r=!0));var a=f.state.expanded[e],i=a?V.a.createElement("img",{onClick:f.onExpand.bind(f,e,!1),className:"dwkit-formadmin-imgbutton",src:"/images/collapse.svg"}):V.a.createElement("img",{onClick:f.onExpand.bind(f,e,!0),className:"dwkit-formadmin-imgbutton",src:"/images/expand.svg"}),l=null==t.control?V.a.createElement("div",{key:"dz",className:"dwkit-formmapping-zone","data-id":t.id},"Control..."):(u=f.props.parent,V.a.createElement("div",{key:"control",className:"mapdatacontrol",draggable:"true",onDragStart:u.onDragStart.bind(u,t.control),onDragEnd:u.onDragEnd.bind(u,t.control),onDoubleClick:u.onDoubleClick.bind(u,t.control)},V.a.createElement("span",{key:"span"},t.control))),s=f.actionParameterSuggestions(t.dataMap),c=V.a.createElement("label",null,DWKitAdminLang.datamap.collectionfilterfield,V.a.createElement(w.Popup,{content:"Here you can select Filter Action which will be applied when requesting collections for the form instead of a standard filter.\nStandard filter automatically binds collection with main entity, if there's a reference to Main entity data model in collection Data Model.",trigger:V.a.createElement(w.Icon,{name:"question"})})),u=t.entityId?V.a.createElement("label",null,DWKitAdminLang.datamap.collectionentityfield,V.a.createElement("a",{target:"_blank",href:"?apanel=datamodel&aid="+t.entityId},V.a.createElement(w.Icon,{name:"database"}))):DWKitAdminLang.datamap.collectionentityfield,s=V.a.createElement("div",{key:e+"_div",className:"dwkit-formmapping-collection-row"},V.a.createElement(w.Form,null,!o&&V.a.createElement(w.Message,{color:"orange"},DWKitAdminLang.datamap.nocontrolbounded),r&&V.a.createElement(w.Message,{color:"orange"},DWKitAdminLang.datamap.propertynamepriority),V.a.createElement(w.Form.Group,{widths:"equal"},V.a.createElement("div",{className:"dwkit-formadmin-imgbuttondiv2"},i),V.a.createElement(w.Form.Dropdown,{key:"entityId",label:u,name:"entityId",options:f.props.entities,value:t.entityId,onChange:f.handleChanged.bind(f,t),error:Boolean(t.__error&&t.__error.entityId),selection:!0,fluid:!0,search:!0}),V.a.createElement(w.Form.Dropdown,{key:"filter",label:c,name:"filter",options:f.props.codeactions,value:t.filter,onChange:f.handleChanged.bind(f,t),error:Boolean(t.__error&&t.__error.filter),selection:!0,fluid:!0,search:!0}),t.filter&&V.a.createElement(te.a,{key:"parameter",suggestions:s,extraServerVariables:["@ParentId"],name:"parameter",label:DWKitAdminLang.field.parameter,value:null!=t.parameter?t.parameter:"",onChange:f.handleChanged.bind(f,t)}),l,V.a.createElement("div",{className:"dwkit-formadmin-imgbuttondiv2"},V.a.createElement("img",{className:"dwkit-formadmin-imgbutton",onClick:f.onDelete.bind(f,e),src:"/images/delete.svg"}))),V.a.createElement(w.Form.Group,{style:{marginLeft:"10px",marginTop:"-20px"}},V.a.createElement(w.Form.Dropdown,{width:"200px",key:"loadStrategy",label:DWKitAdminLang.field.loadstrategy,name:"loadingStrategy",options:h,value:t.loadingStrategy,onChange:f.handleChanged.bind(f,t),selection:!0,fluid:!0}),V.a.createElement(w.Form.Checkbox,{key:"readOnly",label:DWKitAdminLang.field.readonly,name:"readOnly",style:{width:"100px"},checked:t.readOnly,onChange:f.handleChanged.bind(f,t)})),a&&V.a.createElement("div",{key:e+"_att",className:"field children"},V.a.createElement("label",{key:e+"_label"},DWKitAdminLang.field.attributes),null!=t.entityId&&f.renderFields(t)),V.a.createElement("div",null,V.a.createElement(ie,{data:t.triggers,types:["AfterSelect","BeforeInsert","AfterInsert","BeforeUpdate","AfterUpdate","BeforeDelete","AfterDelete","AfterNew"],suggestions:s,codeactions:f.props.codeActionsTriggers}))));p.push(s)}),p}},{key:"renderFields",value:function(t){var n,r=[],o=this,e=void 0,a=void 0;return null!=t.control&&null!=this.props.formsource&&(e=this.getOptionsByControl(t.control,this.props.formsource),a=t.id+"_datalist",n=[],Array.isArray(e)&&e.forEach(function(e){n.push(V.a.createElement("option",{key:e,value:e}))}),r.push(V.a.createElement("datalist",{key:a,id:a},n))),t.dataMap.forEach(function(e){null==e.parentId&&r.push(V.a.createElement(jt,{key:e.id,collectionId:t.id,item:e,parent:o,dataMap:t.dataMap,hidedropzone:!0,datalist:a}))}),r}},{key:"getOptionsByControl",value:function(e,t){if(null!=(t=this.findControl(e,t))){if(Array.isArray(t.columns)){var n=[];return t.columns.forEach(function(e){n.push(e.key)}),n}return"repeater"!==t["data-buildertype"]?[]:((t=this.props.parent.getControlsByFormForDataMapping(t.placeholders.template,null,!0).map(function(e){return e.key})).sort(function(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())}),t)}}},{key:"findControl",value:function(e,t){for(var n=0;n<t.length;n++){if(t[n].key==e)return t[n];if(Array.isArray(t[n].children)){var r=this.findControl(e,t[n].children);if(null!=r)return r}if(null!=t[n].placeholders)for(var o in t[n].placeholders)if(Array.isArray(t[n].placeholders[o])&&null!=(o=this.findControl(e,t[n].placeholders)))return o}}},{key:"actionParameterSuggestions",value:function(e){var t=[];return Array.isArray(e)&&e.forEach(function(e){e.isLoadable&&t.push({caption:e.attributeName,value:'"'+e.attributeName+'"',meta:"Collection Column"})}),t.push({caption:"_ForRole",value:(e=function(e,t){return'"'+e+'": { "'+t+'" : { "Column": "Value" }}'})("_ForRole","RoleCode"),meta:"snippet"}),t.push({caption:"_ForGroup",value:e("_ForGroup","Group"),meta:"snippet"}),t.push({caption:"_ForPermission",value:e("_ForPermission","PermissionGroupCode.PermissionCode"),meta:"snippet"}),t}}]),a}();function At(e){return(At="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(e){return _typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof2(e)})(e)}function xt(){return(xt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Pt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Dt(e,t){return(Dt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Lt(e){return(Lt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var jt=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Dt(e,t)}(a,b.a);var n,r,t=(n=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Lt(n),t=r?(t=Lt(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==At(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function a(e){return function(e){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this),(e=t.call(this,e)).state={showref:!1},e}return Pt(a.prototype,[{key:"onShowRef",value:function(e){this.addMissingDataMap(),this.setState({showref:e})}},{key:"render",value:function(){var e,t,n,r=this.props.item,o=this.state.showref;return null!=r.referenceEntityId&&null!=this.props.dataMap&&(e=o?V.a.createElement("img",{onClick:this.onShowRef.bind(this,!1),className:"dwkit-formadmin-imgbutton",src:"/images/collapse.svg"}):V.a.createElement("img",{onClick:this.onShowRef.bind(this,!0),className:"dwkit-formadmin-imgbutton",src:"/images/expand.svg"})),n=this.props.hidedropzone?(t=null==r.control?"":r.control,V.a.createElement(w.Form.Input,{key:"control",name:"control",list:this.props.datalist,placeholder:"Alias",value:t,onChange:this.handleChange.bind(this)})):null==r.control?V.a.createElement("div",{key:"dz",className:"dwkit-formmapping-zone","data-id":r.id},DWKitAdminLang.datamap.placefortoncroltitle):(n=this.props.parent.props.parent,V.a.createElement("div",{key:"control",className:"mapdatacontrol",draggable:"true",onDragStart:n.onDragStart.bind(n,r.control),onDragEnd:n.onDragEnd.bind(n,r.control),onDoubleClick:n.onDoubleClick.bind(n,r.control)},V.a.createElement("span",{key:"span"},r.control))),V.a.createElement("div",{key:this.props.item.id},V.a.createElement(w.Form.Group,{key:"group",className:"dwkit-formadmin-mapping-attribute"},null!=e&&V.a.createElement("div",{className:"dwkit-formadmin-imgbuttondiv"},e),V.a.createElement(w.Form.Input,{className:"attributename",key:"attributeName",name:"attributeName",value:r.attributeName,readOnly:!0}),V.a.createElement(w.Form.Checkbox,{className:"gridcheckbox",key:"isLoadable",label:DWKitAdminLang.datamap.loadfield,name:"isLoadable",checked:r.isLoadable,onChange:this.handleChange.bind(this)}),n),o&&V.a.createElement("div",{key:"ref",className:"dwkit-formmapping-ref"},this.renderSelectAllCheckbox(),this.renderRef()))}},{key:"renderSelectAllCheckbox",value:function(){var e,t=this.getSelectAllCheckboxValue();return 0===t?e={checked:!1,key:"isChildrenLoadable"}:1===t?e={checked:!0,key:"isChildrenLoadable1"}:2===t&&(e={defaultIndeterminate:!0,key:"isChildrenLoadable2"}),V.a.createElement("div",{className:"dwkit-formmapping-ref-selectall"},V.a.createElement(w.Form.Checkbox,xt({},e,{name:"isChildrenLoadable",onClick:this.handleChange.bind(this),label:DWKitAdminLang.datamap.loadchildren})))}},{key:"getSelectAllCheckboxValue",value:function(){var t=[],n=0,r=this.props.item;return this.props.dataMap.forEach(function(e){e.parentId==r.id&&(t.push(e),e.isLoadable&&n++)}),n===t.length?1:0===n?0:2}},{key:"renderRef",value:function(){var t=this,n=[],r=this.props.item,o=this.props.dataMap;return o.forEach(function(e){e.parentId==r.id&&n.push(V.a.createElement(a,{key:e.id,item:e,parent:t.props.parent,dataMap:o,collectionId:t.props.collectionId,hidedropzone:t.props.hidedropzone,datalist:t.props.datalist}))}),n}},{key:"handleChange",value:function(e,t){var n=t.name,r=t.checked,t=t.value,o=this.props.item;"isLoadable"==n||"isEditable"==n?o[n]=r:(o[n]=t,"control"==n&&(o.isLoadable=Boolean(null!=t&&0<t.length))),"isChildrenLoadable"==n&&this.props.dataMap.forEach(function(e){o.id===e.parentId&&(e.isLoadable=r)}),null!=this.props.parent&&this.props.parent.forceUpdate()}},{key:"iAmInCollection",value:function(){return this.props.parent instanceof St}},{key:"addMissingDataMap",value:function(){var e,t,n,r,o=this.props.item,a=this.props.dataMap;a.some(function(e){return e.parentId===o.id})||(t=(e=this.props.parent.props.parent).createDataMap(o.referenceEntityId,o.id,o.attributeName+"_",a),this.iAmInCollection()?(this.props.parent,n=this.props.collectionId,void 0!==(a=(r=e.state.form).dataColl.find(function(e){return e.id===n}))&&(a.dataMap=a.dataMap.concat(t),e.setState({form:r}))):((r=e.state.form).dataMap=r.dataMap.concat(t),e.setState({form:r})))}}]),a}();function Rt(e){return(Rt="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(e){return _typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof2(e)})(e)}function Ft(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Tt(e,t){return(Tt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Nt(e){return(Nt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Mt=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Tt(e,t)}(o,b.a);var n,r,t=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Nt(n),t=r?(t=Nt(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Rt(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function o(e){return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),(e=t.call(this,e)).state={isexpanded:!0},e}return Ft(o.prototype,[{key:"onExpand",value:function(e){this.setState({isexpanded:e})}},{key:"render",value:function(){var n=this,r=this,e=this.props.form.dataMap,t=this.state.isexpanded?V.a.createElement("img",{key:"btnexpand",onClick:this.onExpand.bind(this,!1),className:"dwkit-formadmin-imgbutton",src:"/images/collapse.svg"}):V.a.createElement("img",{key:"btnexpand",onClick:this.onExpand.bind(this,!0),className:"dwkit-formadmin-imgbutton",src:"/images/expand.svg"}),o=this.renderFields(e),a=[];function i(e,t){var n=t.name,t=t.value;r.props.parent.state.form[n]=t,r.props.parent.forceUpdate()}0<o.length&&(a.push(V.a.createElement("h3",{key:"titleAtt"},DWKitAdminLang.datamap.attributes)),a.push(o));var l=[],e=!1;return this.props.form.dataSourceType?"url"===this.props.form.editworkflowfield?l.push(V.a.createElement(w.Form.Group,{key:"datatypeurl",widths:"equal"},V.a.createElement(w.Form.Input,{label:DWKitAdminLang.datamap.dataurlfield,name:"dataUrl",value:this.props.form.dataUrl,onChange:i}))):"action"===this.props.form.dataSourceType?l.push(V.a.createElement(w.Form.Group,{key:"datatypeurl",widths:"equal"},V.a.createElement(w.Form.Dropdown,{label:DWKitAdminLang.datamap.actionfield,name:"dataGetAction",options:this.props.actions,error:Boolean(this.props.form.__error.dataGetAction),value:this.props.form.dataGetAction,onChange:i.bind(this),selection:!0,fluid:!0,search:!0}))):l.push(V.a.createElement("div",null,"Unknown data source type")):(o=this.props.form.entityId?V.a.createElement("label",null,DWKitAdminLang.datamap.mainentityfield,V.a.createElement("a",{target:"_blank",href:"?apanel=datamodel&aid="+this.props.form.entityId},V.a.createElement(w.Icon,{name:"database"}))):DWKitAdminLang.datamap.mainentityfield,e=!0,l.push(V.a.createElement(w.Form.Group,{key:"datatypeentity",widths:"equal"},V.a.createElement("div",{className:"dwkit-formadmin-imgbuttondiv"},t),V.a.createElement(w.Form.Dropdown,{label:o,name:"entityId",options:this.props.entities,placeholder:DWKitAdminLang.datamap.mainentityps,error:Boolean(this.props.form.__error&&this.props.form.__error.entityId),value:this.props.form.entityId,onChange:function(e,t){t=t.value,n.props.parent.setEntity(t)}.bind(this),selection:!0,fluid:!0,search:!0}))),this.state.isexpanded&&l.push(V.a.createElement("div",{key:"mapattributes",className:"field dwkit-formadmin-mapattributes"},a))),V.a.createElement("div",{className:"field"},V.a.createElement(w.Form,null,V.a.createElement("div",{className:"field"},V.a.createElement("label",{key:"c1label"},DWKitAdminLang.datamap.dataSourceType),V.a.createElement(w.Form.Group,{widths:"equal"},V.a.createElement(w.Form.Radio,{name:"dataSourceType",value:"",label:DWKitAdminLang.datamap.entityfield,checked:e,onChange:i}),V.a.createElement(w.Form.Radio,{name:"dataSourceType",value:"url",label:DWKitAdminLang.datamap.dataurlfield,checked:"url"===this.props.form.dataSourceType,onChange:i}),V.a.createElement(w.Form.Radio,{name:"dataSourceType",value:"action",label:DWKitAdminLang.datamap.actionfield,checked:"action"===this.props.form.dataSourceType,onChange:i}))),l))}},{key:"renderFields",value:function(n){var r=[],o=this;return n.forEach(function(e){var t=e.id;null==e.parentId&&r.push(V.a.createElement(jt,{key:t,item:e,parent:o,dataMap:n}))}),r}}]),o}();function It(e){return(It="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(e){return _typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof2(e)})(e)}function Bt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wt(e,t){return(Wt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ut(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Kt(e){return(Kt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function zt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Gt=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wt(e,t)}(a,i.Component);var n,r,o=(n=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Kt(n),t=r?(t=Kt(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==It(t)&&"function"!=typeof t?Ut(e):t});function a(){var n;!function(e){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this);for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return zt(Ut(n=o.call.apply(o,[this].concat(t))),"onApplyChangesChange",function(e,t){t=t.checked,n.props.onPropertyChange(n.props.attribute.id,"applyChanges",t)}),zt(Ut(n),"onIsNullableChange",function(e,t){t=t.checked,n.props.onPropertyChange(n.props.attribute.id,"isNullable",t)}),zt(Ut(n),"onNameChange",function(e,t){t=t.value,n.props.onPropertyChange(n.props.attribute.id,"name",t)}),zt(Ut(n),"onTypeChange",function(e,t){t=t.value,n.props.onPropertyChange(n.props.attribute.id,"type",t)}),zt(Ut(n),"onReferenceEntityIdChange",function(e,t){t=t.value,n.props.onPropertyChange(n.props.attribute.id,"referenceEntityId",t)}),n}return Bt(a.prototype,[{key:"render",value:function(){var e=this.props.attribute,t=this.props.errors||{},n=e.typeId?V.a.createElement(w.Form.Dropdown,{options:this.props.entitylist,selection:!0,fluid:!0,search:!0,onChange:this.onReferenceEntityIdChange,name:"type",label:DWKitAdminLang.datamap.refentityfield,value:e.referenceEntityId,width:5,error:t.noReference,disabled:!!e.hideApply||!this.props.applyChanges||!e.applyChanges}):V.a.createElement(w.Form.Dropdown,{options:this.props.typesList,selection:!0,fluid:!0,search:!0,onChange:this.onTypeChange,name:"type",label:DWKitAdminLang.field.type,placeholder:"Choose a data type",value:e.type,width:5,disabled:!!e.hideApply||!this.props.applyChanges||!e.applyChanges});return V.a.createElement(w.Form.Group,{className:e.hideApply?"dwkit-formadmin-existingattr":""},V.a.createElement(w.Form.Field,null,!e.hideApply&&V.a.createElement(V.a.Fragment,null,V.a.createElement("label",null,DWKitAdminLang.datamap.applyfield),V.a.createElement(w.Form.Checkbox,{checked:e.applyChanges,width:3,readOnly:!this.props.applyChanges,onChange:this.onApplyChangesChange}))),V.a.createElement(w.Form.Input,{label:DWKitAdminLang.field.name,value:e.name,width:5,name:"name",onChange:this.onNameChange,readOnly:!!e.hideApply||!this.props.applyChanges||!e.applyChanges,error:t.name||t.duplicateName}),n,V.a.createElement(w.Form.Field,null,V.a.createElement("label",null,DWKitAdminLang.datamap.options),V.a.createElement(w.Form.Checkbox,{name:"isNullable",label:DWKitAdminLang.datamap.nullablefield,checked:e.isNullable,width:3,readOnly:!!e.hideApply||!this.props.applyChanges||!e.applyChanges,onChange:this.onIsNullableChange})),V.a.createElement(w.Form.Input,{label:"Creation type",name:"creationType",value:e.creatingType,readOnly:!0}))}}]),a}();function qt(e){return(qt="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(e){return _typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof2(e)})(e)}function Ht(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Yt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Jt(e,t){return(Jt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Qt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $t(e){return($t=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Xt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Zt=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Jt(e,t)}(o,i.Component);var n,r,t=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=$t(n),t=r?(t=$t(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==qt(t)&&"function"!=typeof t?Qt(e):t});function o(e){var n;return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),Xt(Qt(n=t.call(this,e)),"onApplyChangesChange",function(e,t){t=t.checked,n.props.onModelPropertyChange(n.props.dataModel.id,"applyChanges",t)}),Xt(Qt(n),"onNameChange",function(e,t){t=t.value,n.props.onModelPropertyChange(n.props.dataModel.id,"name",t)}),n.typesList=[],e.metadata.additionalParams.Types.forEach(function(e){n.typesList.push({value:e,text:e})}),n.entitylist=[],e.metadata.dataModel.forEach(function(e){n.entitylist.push({value:e.id,text:e.name})}),n}return Yt(o.prototype,[{key:"getWarning",value:function(){var e=this.props;return e.materTableTypeErrors.length||e.controlsWithoutDataModel.length?V.a.createElement(w.Message,{color:"orange"},V.a.createElement(w.Message.Header,null,DWKitAdminLang.datamap.warnings),V.a.createElement(w.Message.List,null,0<e.materTableTypeErrors.length&&V.a.createElement(w.Message.Item,null,DWKitAdminLang.datamap.matertabletypeerrors,e.materTableTypeErrors.map(function(e,t){return[0<t&&", ",V.a.createElement("b",null,e)]}),DWKitAdminLang.datamap.matertabletypeerrorsadvice),0<e.controlsWithoutDataModel.length&&V.a.createElement(w.Message.Item,null,DWKitAdminLang.datamap.referencedmodelnotfound,e.controlsWithoutDataModel.map(function(e,t){return[0<t&&", ",V.a.createElement("b",null,e)]})))):null}},{key:"render",value:function(){var e,t=this,n=this.props.dataModel,r=this.props.errors,o=function(e){if(Array.isArray(e))return Ht(e)}(e=this.entitylist)||function(){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}()||function(e){if(e){if("string"==typeof e)return Ht(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Ht(e,void 0):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();return this.props.report.mainDataModel.dataModel.applyChanges&&o.push({value:this.props.report.mainDataModel.dataModel.id,text:this.props.report.mainDataModel.dataModel.name}),this.props.report.collectionDataModels.filter(function(e){return e.dataModel.applyChanges}).forEach(function(e){o.push({value:e.dataModel.id,text:e.dataModel.name})}),[V.a.createElement(w.Form,null,this.getWarning(),!this.props.isModelNew&&V.a.createElement(w.Message,{color:"orange"},DWKitAdminLang.form.modelwillbeoverwritten),r.duplicateName&&this.props.isModelNew&&V.a.createElement(w.Message,{color:"red"},DWKitAdminLang.datamap.nameexistsmsg),r.duplicateNameInReport&&V.a.createElement(w.Message,{color:"red"},DWKitAdminLang.datamap.duplicateNameInReport),V.a.createElement(w.Form.Group,null,V.a.createElement(w.Form.Field,null,V.a.createElement("label",null,DWKitAdminLang.datamap.applyfield),V.a.createElement(w.Form.Checkbox,{checked:n.applyChanges,onChange:this.onApplyChangesChange,width:3})),V.a.createElement(w.Form.Input,{label:DWKitAdminLang.field.name,value:n.name,onChange:this.onNameChange,readOnly:!(n.applyChanges&&this.props.isModelNew),width:13,error:r.name||r.duplicateNameInReport})),V.a.createElement("h3",null,DWKitAdminLang.field.attributes),n.attributes.map(function(e){return V.a.createElement(Gt,{attribute:e,applyChanges:n.applyChanges,typesList:t.typesList,onPropertyChange:t.props.onAttributePropertyChange,entitylist:o,errors:r.attributes[e.id]})})),V.a.createElement(w.Divider,null)]}}]),o}();function en(e){return(en="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(e){return _typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof2(e)})(e)}function tn(e){return function(e){if(Array.isArray(e))return on(e)}(e)||function(){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}()||rn(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nn(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=rn(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return{s:t=function(){},n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,i=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){i=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(i)throw o}}}}function rn(e,t){if(e){if("string"==typeof e)return on(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?on(e,t):void 0}}function on(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function an(){return(an=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ln(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function sn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ln(Object(n),!0).forEach(function(e){dn(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ln(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function cn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function un(e,t){return(un=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function pn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fn(e){return(fn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function dn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var hn=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&un(e,t)}(i,b.a);var e,t,n,r,o,a=(r=i,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=fn(r),t=o?(t=fn(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==en(t)&&"function"!=typeof t?pn(e):t});function i(e){var l;return function(e){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this),dn(pn(l=a.call(this,e)),"onDragOver",function(e){e.clientY<150&&l.scroll(-10),e.clientY>$(window).height()-150&&l.scroll(10)}),dn(pn(l),"onModelPropertyChange",function(n,r,o){l.setState(function(e){var t=null;return(t=(t=e.analyzeReport.mainDataModel.dataModel.id===n?e.analyzeReport.mainDataModel:t)||e.analyzeReport.collectionDataModels.find(function(e){return e.dataModel.id===n}))&&(t.dataModel[r]=o,"applyChanges"===r&&t.dataModel.attributes.forEach(function(e){e[r]=o})),l.validateReport(e.analyzeReport,l.state.isModelNew,l.state.isCollModelsNew),e})}),dn(pn(l),"onAttributePropertyChange",function(n,r,o){performance.now();l.setState(function(e){var t=null;return(t=(t=e.analyzeReport.mainDataModel.dataModel.attributes.find(function(e){return e.id===n}))||e.analyzeReport.collectionDataModels.flatMap(function(e){return e.dataModel.attributes}).find(function(e){return e.id===n}))&&(t[r]=o),l.validateReport(e.analyzeReport,l.state.isModelNew,l.state.isCollModelsNew),e}),performance.now()}),dn(pn(l),"openBuilder",function(e){l.isMobileMode()?l.props.parent.props.parent.openpage("mobileforms",l.state.id):l.props.parent.props.parent.openpage("forms",l.state.id),e.preventDefault()}),dn(pn(l),"openActionHandlers",function(e){l.props.parent.props.parent.openpage("actionhandlers",l.state.id,void 0,l.props.parent.props.mode),e.preventDefault()}),dn(pn(l),"onGenerateDataModel",function(){var e=new Array;e.push({name:"id",value:l.props.id}),e.push({name:"operation",value:"analyzeform"}),$.ajax({url:l.props.apiUrl,data:e,async:!0,type:"post",success:function(e){var t;e.success?(t=l.processReport(e),l.validateReport(t.report,t.isModelNew,t.isCollModelsNew),l.setState({analyzeReport:t.report,isModelNew:t.isModelNew,isCollModelsNew:t.isCollModelsNew})):alertify.error(e.message)},error:function(e,t){t=l.getProcessLoadError(e,t),alertify.error(t)}})}),dn(pn(l),"onApplyAnalyzeReport",function(){var r,o,e,n,t,a=l.state.analyzeReport;l.validateReport(a,l.state.isModelNew,l.state.isCollModelsNew)?(r=[],t=[],o=[],e=null,a.mainDataModel.dataModel.applyChanges&&(n=l.getDataModelFromReport(a.mainDataModel.dataModel,!1),r.push(n),t=a.dataMap.filter(function(t){return t.attributeSource===ce.MASTER_TABLE||n.attributes.some(function(e){return e.id===t.attributeId})}),e=a.mainDataModel.dataModel.id),a.collectionDataModels.forEach(function(e){var n,t;e.dataModel.applyChanges&&(n=l.getDataModelFromReport(e.dataModel,!0),r.push(n),e=(t=a.dataColl.find(function(e){return e.entityId===n.id})).dataMap.filter(function(t){return t.attributeSource===ce.MASTER_TABLE||n.attributes.some(function(e){return e.id===t.attributeId})}),o.push(sn(sn({},t),{},{dataMap:e})))}),r.length?(t=sn(sn({},l.state.form),{},{dataMap:t,dataColl:o,__type:"formmapping",__state:"updated"}),e&&(t.entityId=e),r.push(t),l.ChangeData(r,function(e){l.setState({analyzeReport:null}),setTimeout(function(){l.props.parent.props.parent.load(function(){l.setState({id:null})}),Pace.stop()},100)})):alertify.error(DWKitAdminLang.msg.needtoselectitems)):alertify.error(DWKitAdminLang.datamap.checkvalidationerrors)}),dn(pn(l),"onCloseAnalyzeReport",function(){l.setState({analyzeReport:null})}),dn(pn(l),"onAutoMapping",function(){for(var e=pn(l),t=["","id_name","_name"],n=l.state.form,r=l.getControlsByFormForDataMapping(l.state.source),o=0;o<r.length;o++){var a=r[o],i=a.key.toLowerCase();e.isAssociateControl(i)||e.mappingToDataMap(n.dataMap,a,t)||e.mappingToDataColl(n.dataColl,a)||e.mappingToDataMap(n.dataMap,a,t,!0)}alertify.success(DWKitAdminLang.datamap.automappingcompleatemsg),l.forceUpdate()}),dn(pn(l),"onResetMapping",function(e){var t=pn(l),n=l.state.form;n.dataMap=t.createDataMap(n.entityId,null,"",[]),null==n.dataColl&&(n.dataColl=[]),n.dataColl.forEach(function(e){e.control=void 0,e.dataMap=t.createDataMap(e.entityId,null,"",[])}),1!=e&&l.forceUpdate()}),l.state={analyzeReport:null},l}function l(e){return n.apply(this,arguments)}return e=i,t=[{key:"scroll",value:(n=function(e){var t=$(window).scrollTop();$(window).scrollTop(t+e),stop||setTimeout(function(){scroll(e)},20)},l.toString=function(){return n.toString()},l)},{key:"isMobileMode",value:function(){return"mobile"==this.props.parent.props.mode}},{key:"render",value:function(){var t=this;if(this.state.id!=this.props.data.name)return this.setForm(this.props.data.name),null;for(var e=[{text:"...",value:""}],n=this.props.metadata.dataModel,r=0;r<n.length;r++){var o=n[r];e.push({text:o.name,value:o.id})}for(var a=this.props.metadata.codeActions,i=[{text:"...",value:""}],l=[],s=[{text:"...",value:""}],c=0;c<a.length;c++){var u=a[c];0===u.type?i.push({text:u.name,value:u.name}):1===u.type?s.push({text:u.name,value:u.name}):2===u.type&&l.push({text:u.name,value:u.name})}this.state.form.triggers||(this.state.form.triggers=[]),this.validate();var p=this.isMobileMode()?{parentPageTitle:DWKitAdminLang.mobileform.title,parentPageOnClick:function(e){this.props.parent.props.parent.openpage("mobileforms"),e.preventDefault()},builderHref:"?apanel=mobileforms&aid="+this.state.id,extraparameter:"&mode=mobile"}:{parentPageTitle:DWKitAdminLang.datamap.title,parentPageOnClick:function(e){this.props.parent.back.bind(this.props.parent),e.preventDefault()},builderHref:"?apanel=forms&aid="+this.state.id,extraparameter:""},f=this.getTriggerTypes(),d=!this.state.form.dataSourceType;return V.a.createElement("div",{className:"dwkitadmin-formmapping",onDragOver:this.onDragOver},V.a.createElement(w.Breadcrumb,null,V.a.createElement(w.Breadcrumb.Section,{onClick:p.parentPageOnClick},p.parentPageTitle),V.a.createElement(w.Breadcrumb.Divider,null),V.a.createElement(w.Breadcrumb.Section,{active:!0},this.props.data.name),V.a.createElement(w.Breadcrumb.Divider,{icon:"right angle"}),V.a.createElement(w.Breadcrumb.Section,{href:p.builderHref,onClick:this.openBuilder.bind(this)},DWKitAdminLang.datamap.builder),V.a.createElement(w.Breadcrumb.Divider,null),V.a.createElement(w.Breadcrumb.Section,{href:"?apanel=actionhandlers&aid="+p.extraparameter,onClick:this.openActionHandlers},DWKitAdminLang.datamap.actionhandler)),V.a.createElement("div",{className:"dwkit-admin-form-buttons"},V.a.createElement(w.Button,{className:"buttontype1",onClick:this.onSave.bind(this)},DWKitAdminLang.button.save),d&&V.a.createElement(w.Button,{className:"buttontype2",onClick:this.onAutoMapping},DWKitAdminLang.datamap.automappingbutton),d&&V.a.createElement(w.Button,{className:"buttontype2",onClick:this.onResetMapping},DWKitAdminLang.datamap.resetmappingbutton),d&&V.a.createElement(w.Button,{className:"buttontype2",onClick:this.onGenerateDataModel},DWKitAdminLang.datamap.generatedatamodelbutton)),this.getWarning(),V.a.createElement("div",{className:"dwkitadmin-formmapping-left"},V.a.createElement("div",{className:"dwkitadmin-formmapping-block"},V.a.createElement(Mt,{form:this.state.form,entities:e,actions:s,parent:this}))),d&&V.a.createElement("div",{className:"dwkitadmin-formmapping-right"},V.a.createElement("label",null,DWKitAdminLang.datamap.controls),V.a.createElement(wt,{formsource:this.state.source,form:this.state.form,parent:this})),d&&V.a.createElement("div",{className:"dwkitadmin-formmapping-triggers"},V.a.createElement("h1",null,DWKitAdminLang.datamap.mainentitytriggers),V.a.createElement("div",{className:"field",widths:"16"},V.a.createElement(w.Form,null,V.a.createElement(ie,{data:this.state.form.triggers,dataMap:this.state.form.dataMap,types:f,codeactions:l})))),d&&V.a.createElement("div",{style:{clear:"both"}},V.a.createElement(St,{form:this.state.form,entities:e,codeactions:i,parent:this,formsource:this.state.source,codeActionsTriggers:l})),null!==this.state.analyzeReport&&V.a.createElement(w.Modal,{open:this.state.analyzeReport,onClose:this.onCloseAnalyzeReport},V.a.createElement(w.Modal.Header,null,DWKitAdminLang.datamap.formanalyzereport),V.a.createElement(w.Modal.Content,{scrolling:!0},null!==this.state.analyzeReport.mainDataModel&&V.a.createElement("div",null,V.a.createElement("h2",null,DWKitAdminLang.datamap.mainentitydatamodel),V.a.createElement(Zt,an({onModelPropertyChange:this.onModelPropertyChange,onAttributePropertyChange:this.onAttributePropertyChange,metadata:this.props.metadata},this.state.analyzeReport.mainDataModel,{report:this.state.analyzeReport,isModelNew:this.state.isModelNew})),0<this.state.analyzeReport.collectionDataModels.length&&V.a.createElement("div",null,V.a.createElement("h2",null,DWKitAdminLang.datamap.collectiondatamodels),this.state.analyzeReport.collectionDataModels.map(function(e){return V.a.createElement(Zt,an({onModelPropertyChange:t.onModelPropertyChange},e,{onAttributePropertyChange:t.onAttributePropertyChange,metadata:t.props.metadata,report:t.state.analyzeReport}))})))),V.a.createElement(w.Modal.Actions,null,V.a.createElement(w.Button,{className:"buttontype1",content:DWKitAdminLang.datamap.generatedatamodelbutton,onClick:this.onApplyAnalyzeReport}),V.a.createElement(w.Button,{className:"buttontype2",content:DWKitAdminLang.button.close,onClick:this.onCloseAnalyzeReport}))))}},{key:"validateReportItem",value:function(n,r,e){var o=this;n.errors={attributes:{}};var t=n.dataModel;if(!t.applyChanges)return!0;var a=!0;t.name?(n.errors.duplicateName=this.props.metadata.dataModel.some(function(e){return e.name.toLowerCase()===t.name.toLowerCase()}),a&=!e||!n.errors.duplicateName,n.errors.duplicateNameInReport=r.filter(function(e){return e.name}).some(function(e){return e.name.toLowerCase()===t.name.toLowerCase()&&e.id!==t.id}),a&=!n.errors.duplicateNameInReport):(n.errors.name=!0,a=!1);var i=t.attributes.filter(function(e){return e.applyChanges});return i.forEach(function(t){var e={};n.errors.attributes[t.id]=e,t.name?(e.duplicateName=i.some(function(e){return e.name===t.name&&e.id!==t.id}),a&=!e.duplicateName):(e.name=!0,a=!1),1===t.typeId&&(t.referenceEntityId?(e.noReference=!o.props.metadata.dataModel.some(function(e){return e.id===t.referenceEntityId})&&!r.some(function(e){return e.id===t.referenceEntityId}),a&=!e.noReference):(e.noReference=!0,a=!1))}),a}},{key:"validateReport",value:function(e,t,o){var a=this,i=e.collectionDataModels.filter(function(e){return e.dataModel.applyChanges}).map(function(e){return e.dataModel});e.mainDataModel.dataModel.applyChanges&&i.push(e.mainDataModel.dataModel);var l=this.validateReportItem(e.mainDataModel,i,t);return e.collectionDataModels.forEach(function(e){var t,n=nn(o);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.dataModel.id==r.id&&(l&=a.validateReportItem(e,i,r.isModelNew))}}catch(e){n.e(e)}finally{n.f()}}),l}},{key:"getTriggerTypes",value:function(){return null!==this.state.form.entityId&&void 0!==this.state.form.entityId&&""!==this.state.form.entityId?["Validate","AfterSelect","BeforeInsert","AfterInsert","BeforeUpdate","AfterUpdate","BeforeDelete","AfterDelete","BeforeTransaction","AfterTransaction","BeforeBatch","AfterBatch","AfterNew","AfterCopy"]:["Validate","BeforeTransaction","AfterTransaction","BeforeBatch","AfterBatch"]}},{key:"onDragStart",value:function(e,t){t.dataTransfer.setData("controlkey",e),$(".dwkit-formmapping-zone").addClass("dwkit-formmapping-zone-active").on("dragenter",this.onTargetDragEnter.bind(this,e,"dwkit-formmapping-zone-select")).on("dragleave",this.onTargetDragLeave.bind(this,e,"dwkit-formmapping-zone-select")).on("dragover",function(e){e.preventDefault()}).on("drop",this.onDrop.bind(this,e))}},{key:"onTargetDragEnter",value:function(e,t,n){$(n.target).addClass(t)}},{key:"onTargetDragLeave",value:function(e,t,n){$(n.target).removeClass(t)}},{key:"onDragEnd",value:function(e){var t=$(".dwkit-formmapping-zone");t.removeClass("dwkit-formmapping-zone-active"),t.removeClass("dwkit-formmapping-zone-select"),t.off()}},{key:"onDoubleClick",value:function(t){this.state.form.dataMap.forEach(function(e){if(e.control==t)return e.control=void 0,!1}),this.state.form.dataColl.forEach(function(e){if(e.control==t)return e.control=void 0,!1}),this.forceUpdate()}},{key:"onDrop",value:function(t,e){var n;return 0<(e=$(e.target)).length&&(null==e[0].attributes["data-id"]?(this.state.form.dataMap.forEach(function(e){if(e.control==t)return e.control=void 0,!1}),this.state.form.dataColl.forEach(function(e){if(e.control==t)return e.control=void 0,!1})):(n=e[0].attributes["data-id"].value,this.state.form.dataMap.forEach(function(e){e.control==t&&(e.control=void 0),e.id==n&&(e.control=t,e.isLoadable=!0)}),this.state.form.dataColl.forEach(function(e){e.control==t&&(e.control=void 0),e.id==n&&(e.control=t)})),this.forceUpdate()),this.onDragEnd(t),!1}},{key:"redirectToFormEdit",value:function(){this.props.parent.openpage("forms")}},{key:"validate",value:function(){var t=this,n=!0,e=this.state.form;if(null==e)return!1;var r=DWKitAdminLang.msg.fieldrequired;return e.__error={},n&=null==e.__error.entityId,null!=e.dataColl&&e.dataColl.forEach(function(e){e.__error={entityId:null==e.entityId||""==e.entityId||e.entityId==t.GuidEmpty()?r:void 0},n&=null==e.__error.entityId,void 0!==e.triggers&&null!==e.triggers&&e.triggers.forEach(function(e){e.__error={triggers:Array.isArray(e.triggers)&&0<e.triggers.length?void 0:r,codeAction:null==e.codeAction||""==e.codeAction?r:void 0},n&=null==e.__error.triggers&&null==e.__error.codeAction})}),null!=e.triggers&&e.triggers.forEach(function(e){e.__error={triggers:Array.isArray(e.triggers)&&0<e.triggers.length?void 0:r,codeAction:null==e.codeAction||""==e.codeAction?r:void 0},n&=null==e.__error.triggers&&null==e.__error.codeAction}),n}},{key:"getControlsByFormForDataMapping",value:function(e,a,i){if(null==e||e.constructor!=Array)return[];var l=this,s=[];return e.forEach(function(e){var t=e["data-buildertype"];if(!i||"gridview"!==t&&"collectioneditor"!==t&&"repeater"!==t){"button"!==t&&"form"!==t&&"formgroup"!==t&&"customblock"!==t&&s.push({key:e.key,type:e["data-buildertype"],parent:a});var n=e.formname;if("customblock"===t&&void 0!==n){var r=l.loadform(n,void 0,!0);if(void 0!==r){n=void 0;try{n=c.a.parse(r.source)}catch(e){alertify.error(e)}n=l.getControlsByFormForDataMapping(n,e.key,i),s=s.concat(n)}}else if("customblock"===t&&"source"===e.sourceType){t=void 0;try{t=c.a.parse(e.source)}catch(e){alertify.error(e)}t=l.getControlsByFormForDataMapping(t,e.key,i),s=s.concat(t)}if(null!=e.children&&0<e.children.length&&(s=s.concat(l.getControlsByFormForDataMapping(e.children,e.key,i))),null!=e.placeholders)for(var o in e.placeholders)Array.isArray(e.placeholders[o])&&0<e.placeholders[o].length&&(s=s.concat(l.getControlsByFormForDataMapping(e.placeholders[o],e.key,i)))}}),s}},{key:"onSave",value:function(){var t=this;if(!this.validate())return alertify.error(DWKitAdminLang.msg.checkerrorsonform),void this.forceUpdate();this.state.form.__type=this.isMobileMode()?"mobileformmapping":"formmapping",this.state.form.__state="updated",this.ChangeData([this.state.form],function(e){t.ResetSystemProps(t.state.form),t.forceUpdate(),t.state.reloadMetadataAfterSave&&setTimeout(function(){t.props.parent.props.parent.load(),Pace.stop()},100)})}},{key:"processReport",value:function(e){var n=this,r=e.item,o=[],a=[];return r.mainDataModel.dataModel.applyChanges=!0,r.mainDataModel.dataModel.attributes.forEach(function(e){e.applyChanges=!0}),r.collectionDataModels.forEach(function(e){e.dataModel.applyChanges=!0,e.dataModel.attributes.forEach(function(e){e.applyChanges=!0})}),(e=this.processDataModel(r.mainDataModel.dataModel,!1,r)).dataModel,r.collectionDataModels.forEach(function(e){var t=n.processDataModel(e.dataModel,!0,r);o.push(sn({dataModel:t.dataModel},e)),a.push({id:t.dataModel.id,isModelNew:t.isModelNew})}),r.mainDataModel.dataModel=e.dataModel,r.collectionDataModels=o,{report:r,isModelNew:e.isModelNew,isCollModelsNew:a}}},{key:"processDataModel",value:function(n,e,r){var o,t,a=!0;if(e||null!==n.name?e&&this.props.metadata.dataModel.forEach(function(t){t.name===n.name&&(r.dataColl.forEach(function(e){e.entityId==n.id&&(e.entityId=t.id)}),n.id=t.id,o=t,a=!1)}):this.props.metadata.dataModel.forEach(function(e){e.id===n.id&&(n.name=e.name,o=e,a=!1)}),void 0!==o){for(var i=[],l=o.attributes.slice(),s=n.attributes.slice(),c=0;c<s.length;c++)for(var u=0;u<l.length;u++)0!=s.length&&0!=l.length&&l[u].name===s[c].name&&(i.push(s[c]),l.splice(u,1),s.splice(c,1),u=-1,c=0!==c?c-1:c);(t=i.map(function(e){return sn({applyChanges:!0,creatingType:DWKitAdminLang.form.existingwithcontrol},e)})).push.apply(t,tn(s.map(function(e){return sn({applyChanges:!0,creatingType:DWKitAdminLang.form.new},e)}))),t.push.apply(t,tn(l.map(function(e){return sn({hideApply:!0,applyChanges:!0,creatingType:DWKitAdminLang.form.existingfromprevdatamodel},e)}))),t=this.removeReferenceAttributes(t)}else t=n.attributes.map(function(e){return sn({applyChanges:!0,creatingType:DWKitAdminLang.form.new},e)}),t=this.removeReferenceAttributes(t);return n.attributes=t,{dataModel:n,isModelNew:a}}},{key:"removeReferenceAttributes",value:function(o){return o.forEach(function(r){null!=r.referenceEntityId&&o.forEach(function(e,t,n){-1<e.name.indexOf(r.name)&&e.name!=r.name&&o.splice(t,1)})}),o}},{key:"getDataModelFromReport",value:function(e,t){var n;if(t){var r,o,a=nn(this.state.isCollModelsNew);try{for(a.s();!(o=a.n()).done;){var i=o.value;i.id==e.id&&(r=i.isModelNew)}}catch(e){a.e(e)}finally{a.f()}delete(n=sn(sn({},e),{},{__type:"datamodel",__state:r?"inserted":"updated"})).applyChanges}else delete(n=sn(sn({},e),{},{__type:"datamodel",__state:this.state.isModelNew?"inserted":"updated"})).applyChanges;return n.attributes=n.attributes.filter(function(e){return e.applyChanges}).map(function(e){return delete(e=sn({},e)).applyChanges,e}),n}},{key:"mappingToDataMap",value:function(e,t,n,r){for(var o=0;o<n.length;o++)for(var a=n[o],i=0;i<e.length;i++){var l=e[i],s=l.attributeName;if(r){var c=l.attributeName.split("_");if(Array.isArray(c)&&1<c.length&&(s=c[c.length-1]),l.isLoadable&&s.toLowerCase()==t.key.toLowerCase()+a)return l.control=t.key,!0}else if(s.toLowerCase()==t.key.toLowerCase()+a)return l.control=t.key,l.isLoadable=!0}return!1}},{key:"mappingToDataColl",value:function(e,n){var r=this;return e.forEach(function(e){var t=r.getModelName(e.entityId);if(null!=t&&t.toLowerCase()==n.key.toLowerCase())return e.control=n.key,!0}),!1}},{key:"isAssociateControl",value:function(e){for(var t=this.state.form,n=0;n<t.dataMap.length;n++)if(t.dataMap[n].control==e)return!0;for(var r=0;r<t.dataColl.length;r++)if(t.dataColl[r].control==e)return!0;return!1}},{key:"getModelName",value:function(e){for(var t=this.props.metadata.dataModel,n=0;n<t.length;n++)if(t[n].id==e)return t[n].name}},{key:"setForm",value:function(e){var n=this;this.loadform(e,function(e){function t(t,n){var e=t[s],r=n[s],o=!1,a=!1;if(l.forEach(function(e){t[e]&&(o=!0),n[e]&&(a=!0)}),a<o)return-1;if(o<a)return 1;for(var i=0;i<c.length;i++){if(e==c[i])return-1;if(r==c[i])return 1}return e<r?-1:r<e?1:0}e.dataMap=n.createDataMap(e.entityId,null,"",e.dataMap);var l=["isLoadable","control"],s="attributeName",c=["Id","ParentId","Name","Email","Number","State","StateName"];e.dataMap.sort(t),null==e.dataColl&&(e.dataColl=[]),e.dataColl.forEach(function(e){e.dataMap=n.createDataMap(e.entityId,null,"",e.dataMap),e.dataMap.sort(t)}),n.setState({form:e,id:e.name,source:JSON.parse(e.source)})})}},{key:"loadform",value:function(e,t,n){var r=new Array;if(r.push({name:"operation",value:this.isMobileMode()?"loadmobileform":"loadform"}),r.push({name:"name",value:e}),!0===n){if((n=$.ajax({url:this.props.apiUrl,data:r,async:!1,type:"post"}).responseJSON).success)return n.item;alertify.error(n.message)}else $.ajax({url:this.props.apiUrl,data:r,async:!0,type:"post",success:function(e){e.success?t(e.item):alertify.error(e.message)}})}},{key:"setEntity",value:function(e){e!==this.state.form.entityId&&(this.state.form.entityId=e,this.state.form.dataMap=this.createDataMap(e,null,"",this.state.form.dataMap),this.forceUpdate())}},{key:"addMapForAttributes",value:function(e,t,n,r,o,a){for(var i=0;i<t.length;i++){for(var l=t[i],s=void 0,c=0;c<o.length;c++){var u=o[c];if(u.attributeId===l.id&&u.parentId===n){s=u;break}}var p=void 0===s?{id:this.NewGUID(),parentId:n,isLoadable:!n,attributeId:l.id,attributeName:r+l.name,referenceEntityId:1===l.typeId?l.referenceEntityId:void 0,attributeSource:a}:sn(sn({},s),{},{attributeName:r+l.name,referenceEntityId:1===l.typeId?l.referenceEntityId:void 0});e.push(p),l.referenceEntityId&&1===l.typeId&&(p=this.createDataMap(p.referenceEntityId,p.id,p.attributeName+"_",o,!0),e=e.concat(p))}return e}},{key:"createDataMap",value:function(e,t,n,r,o){return o&&!r.some(function(e){return e.parentId===t})?[]:(o=[],(e=e&&this.getEntityById(e))&&(o=this.addMapForAttributes(o,e.attributes,t,n,r,ce.DATA_MODEL),e.mode===le.SIMPLIFIED&&(e=this.props.metadata.additionalParams&&this.props.metadata.additionalParams.MasterTableAttributes?this.props.metadata.additionalParams.MasterTableAttributes:[],o=this.addMapForAttributes(o,e.filter(function(e){return!e.hideInMapping}),t,n,r,ce.MASTER_TABLE))),o)}},{key:"getEntityById",value:function(e){for(var t=this.props.metadata.dataModel,n=0;n<t.length;n++){var r=t[n];if(r.id===e)return r}}},{key:"updateStateAndForce",value:function(){this.forceUpdate()}},{key:"getWarning",value:function(){var e=void 0!==this.props.metadata.additionalParams&&void 0!==this.props.metadata.additionalParams.FormMappingErrors&&null!==this.props.metadata.additionalParams.FormMappingErrors&&this.props.metadata.additionalParams.FormMappingErrors.includes(this.state.id);if(this.state.reloadMetadataAfterSave=e)return V.a.createElement(w.Message,{color:"orange"},DWKitAdminLang.datamap.mismatchmodelmsg)}}],cn(e.prototype,t),i}();function mn(e){return(mn="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(e){return _typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof2(e)})(e)}function yn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bn(e,t,n){return t&&gn(e.prototype,t),n&&gn(e,n),e}function vn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Vn(e,t)}function Vn(e,t){return(Vn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function wn(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e=En(n),t=r?(t=En(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==mn(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t}}function En(e){return(En=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var _n=function(){vn(n,yt.a);var t=wn(n);function n(e){return yn(this,n),(e=t.call(this,e)).editform=hn,e.dataindex="forms",e.idfield="name",e.panelindex="formdata",e.datatype="form",e.title=DWKitAdminLang.datamap.title,e.titleGetter=function(e){return e.datamap.title},e.hidebuttons=!0,e.ignoreidcase=!0,e}return bn(n,[{key:"gridColumns",value:function(){var e=void 0;return null!=this.props.data.additionalParams&&null!=this.props.data.additionalParams.FormMappingErrors&&(e=this.props.data.additionalParams.FormMappingErrors),[{key:"name",name:DWKitAdminLang.column.name,resizable:!0,formatter:V.a.createElement(kn,{data:this.props.data[this.dataindex],errors:e,parent:this}),getRowMetaData:function(e){return e}}]}}]),n}(),kn=function(){vn(n,V.a.Component);var t=wn(n);function n(e){return yn(this,n),t.call(this,e)}return bn(n,[{key:"render",value:function(){var e=this.props.value,t=this.props.errors;return this.props.dependentValues,null!=t&&t.includes(e)?V.a.createElement("span",{style:{color:"red"}},V.a.createElement("div",{title:e},e)):V.a.createElement("span",null,V.a.createElement("div",{title:e},e))}},{key:"decapitalizeFirstLetter",value:function(e){return e.charAt(0).toLowerCase()+e.slice(1)}}]),n}(),Cn={useJavascript:function(e){try{var t=e.editor,n=e.getVariablesCallback,r=e.language;t.setOptions({enableBasicAutocompletion:!0,enableLiveAutocompletion:!0}),t.completers=[Cn.makeReflectionCompleter(n),Cn.keywordsCompleter(r)]}catch(e){console.log("Autocompleter error",e)}},makeReflectionCompleter:function(s){return{getCompletions:function(e,t,n,r,o){var a=Cn;try{var i=t.getLine(n.row),l=a.getSearchPatterns(i,n.column);o(null,s(l))}catch(e){console.log(e)}},getDocTooltip:function(e){}}},keywordsCompleter:function(i){return{getCompletions:function(e,t,n,r,o){var a=Cn,t=t.getLine(n.row),n=a.getSearchPatterns(t,n.column);o(null,i.ace_suggestions(n))}}},getSearchPatterns:function(e,t){for(var n=Cn,r=[],o="",a=!1,i=t-1;0<=i;i--){var l=e.charAt(i);if(!n.alphaNumberDot(l))break;if("."===l){if(0<i){var s=e.charAt(i-1);if(!n.alphaNumber(s)){a=!0;break}}r.push(o),o=""}else o=l+o}return a&&0===r.length?null:(o&&(0<r.length||o.trim()!=o)&&r.push(o),r)},alphaNumberDot:function(e){return"."===e||Cn.alphaNumber(e)},alphaNumber:function(e){return e&&e.match(/^[0-9a-zA-Z]+$/)},CSharp:{cycles:["for","do","foreach","while","continue","break"],flow:["case","switch","if","else","else if","return"],try:["try","catch","finally","throw"],declare:["new","var","const"],types:["int","short","long","byte","string","bool","object","decimal","float","double","dynamic"],values:["true","false","null","default"],oop:["this","typeof"],macro:["nameof"],thread:["lock"],suggestions:function(){var e=Cn.CSharp;return[].concat(e.cycles,e.flow,e.try,e.declare,e.types,e.values,e.oop,e.macro,e.threadhread)},ace_suggestions:function(e){if(e&&!(1<e.length))return Cn.CSharp.suggestions().map(function(e){return{caption:e,value:e,meta:"keyword"}})}},JavaScript:{cycles:["for","do","while","continue","break"],flow:["if","else","else if","return"],try:["try","catch","finally","throw"],declare:["new","const"],types:["var"],values:["undefined","null"],oop:["typeof"],macro:["JSON.stringify","JSON.parse"],thread:[],suggestions:function(){var e=Cn.JavaScript;return[].concat(e.cycles,e.flow,e.try,e.declare,e.types,e.values,e.oop,e.macro,e.threadhread)},ace_suggestions:function(e){var t=Cn.JavaScript;if(e&&!(1<e.length))return t.suggestions().map(function(e){return{caption:e,value:e,meta:"keyword"}})}}};function On(e){return(On="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(e){return _typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof2(e)})(e)}function Sn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function An(e,t){return(An=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function xn(e){return(xn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Pn=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&An(e,t)}(o,b.a);var n,r,t=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=xn(n),t=r?(t=xn(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==On(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function o(e){return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),(e=t.call(this,e)).state={},e}return Sn(o.prototype,[{key:"redrawEditor",value:function(){var e;0<$("#dwkit-admin-formlogic-editcode").length&&(null==this.editor&&(this.editor=ace.edit("dwkit-admin-formlogic-editcode"),(e=this.editor.getSession()).setMode("ace/mode/javascript"),e.setOption("useWorker",!1)),this.state.form.javaScriptCode,this.editor.setValue(this.state.form.javaScriptCode,-1),Cn.useJavascript({editor:this.editor,getVariablesCallback:this.getVariables.bind(this),language:Cn.JavaScript}))}},{key:"isMobileMode",value:function(){return"mobile"==this.props.parent.props.mode}},{key:"render",value:function(){if(this.state.id!=this.props.data.name)return this.setForm(this.props.data.name),null;this.validate();var e=this.isMobileMode()?{parentPageTitle:DWKitAdminLang.mobileform.title,parentPageOnClick:function(e){this.props.parent.props.parent.openpage("mobileforms"),e.preventDefault()},builderHref:"?apanel=mobileforms&aid="+this.state.id,extraparameter:"&mode=mobile"}:{parentPageTitle:DWKitAdminLang.actionhandler.title,parentPageOnClick:function(e){this.props.parent.back.bind(this.props.parent),e.preventDefault()},builderHref:"?apanel=forms&aid="+this.state.id,extraparameter:""};return V.a.createElement("div",null,V.a.createElement(w.Breadcrumb,null,V.a.createElement(w.Breadcrumb.Section,{onClick:e.parentPageOnClick,link:!0},e.parentPageTitle),V.a.createElement(w.Breadcrumb.Divider,null),V.a.createElement(w.Breadcrumb.Section,{active:!0},this.props.data.name),V.a.createElement(w.Breadcrumb.Divider,{icon:"right angle"}),V.a.createElement(w.Breadcrumb.Section,{href:"?apanel=forms&aid="+this.state.id+e.extraparameter,onClick:this.openBuilder.bind(this)},DWKitAdminLang.actionhandler.builder),V.a.createElement(w.Breadcrumb.Divider,null),V.a.createElement(w.Breadcrumb.Section,{href:"?apanel=formdata&aid="+this.state.id+e.extraparameter,onClick:this.openDataMap.bind(this)},DWKitAdminLang.actionhandler.datamap)),V.a.createElement("div",{className:"dwkitadmin-toolbar",style:{marginTop:"5px"}},V.a.createElement(w.Button,{className:"buttontype1",onClick:this.onSave.bind(this)},DWKitAdminLang.button.save),V.a.createElement(w.Button,{className:"buttontype2",onClick:this.onCancel.bind(this)},DWKitAdminLang.button.cancel),V.a.createElement(w.Button,{floated:"right",className:"buttontype2",onClick:this.onSetDefaultTemplate.bind(this)},DWKitAdminLang.actionhandler.setdefaulttemplatebutton)),V.a.createElement("div",{id:"dwkit-admin-formlogic-editcode",style:{height:"calc(100vh - 180px)"}}))}},{key:"openDataMap",value:function(e){this.props.parent.props.parent.openpage("formdata",this.state.id,void 0,this.props.parent.props.mode),e.preventDefault()}},{key:"openBuilder",value:function(e){this.isMobileMode()?this.props.parent.props.parent.openpage("mobileforms",this.state.id):this.props.parent.props.parent.openpage("forms",this.state.id),e.preventDefault()}},{key:"setForm",value:function(e){var t=this;this.loadform(e,function(e){t.state.form=e,t.state.id=e.name,t.forceUpdate(),t.redrawEditor()})}},{key:"loadform",value:function(e,t){var n=new Array;this.state.id=this.props.data.name,n.push({name:"operation",value:this.isMobileMode()?"loadmobileform":"loadform"}),n.push({name:"name",value:e}),$.ajax({url:this.props.apiUrl,data:n,async:!0,type:"post",success:function(e){e.success?t(e.item):alertify.error(e.message)}})}},{key:"onSave",value:function(){var e=ace.edit("dwkit-admin-formlogic-editcode");this.state.form.javaScriptCode=e.getValue();var t=this;if(!this.validate())return alertify.error(DWKitAdminLang.msg.checkerrorsonform),void this.forceUpdate();this.state.form.__type=this.isMobileMode()?"mobileformcode":"formcode",this.state.form.__state="updated",this.ChangeData([this.state.form],function(e){t.ResetSystemProps(t.state.form),t.forceUpdate()})}},{key:"onCancel",value:function(){this.props.onCancel.bind(this.props.parent)(),this.redrawEditor()}},{key:"validate",value:function(){var e=this.state.form;return null!=e&&(e.__error={},!0)}},{key:"onSetDefaultTemplate",value:function(){var e="{\n";e+="//  validate: function (args /*{data, originalData, state, component, formName, index, controlRef, eventArgs, isChild}*/){\n//    var errors = DWKitApp.API.validate(args.data, args.modalId, args.state);\n//    if(errors){\n//      throw {\n//        level: 1,\n//        message: undefined,\n//        formerrors: {\n//          modalId: args.modalId,\n//          errors: errors\n//        }\n//      }\n//    }\n//    return DWKitApp.API.convertToState(args.modalId, {errors: null});\n//  }",this.props.controlActions;var t=this.getControlsActions(JSON.parse(this.state.form.source));if(null!=t)for(var n=0;n<t.length;n++){for(var r=!1,o=0;o<this.props.controlActions.length;o++)if(t[n]==this.props.controlActions[o]){r=!0;break}r||(e+=",\n\n",e+="  "+t[n]+": function (args){\n    //TODO: Insert your code\n  }")}this.editor.setValue(e+="\n}",-1)}},{key:"getControlsActions",value:function(e){if(null==e||e.constructor!=Array)return[];var r=this,o=[];return e.forEach(function(e){if(null!=e.events)for(var t in e.events){var n=e.events[t].actions;Array.isArray(n)&&n.forEach(function(e){for(var t=!1,n=0;n<o.length;n++)if(e===o[n]){t=!0;break}t||o.push(e)})}null!=e.children&&0<e.children.length&&(n=r.getControlsActions(e.children)).forEach(function(e){for(var t=!1,n=0;n<o.length;n++)if(e===o[n]){t=!0;break}t||o.push(e)})}),o}},{key:"getVariables",value:function(e){for(var t=this.isMobileMode()?Dn:Ln,n=e.length-1;0<=n;n--)if(e[n]){for(var r=e[n].toLowerCase(),o=!1,a=void 0,i=0;i<t.length;i++){var l=t[i];if(l.name.toLocaleLowerCase()==r){a=l,o=!0;break}}if(!(t=o?a.children:void 0))break}return t?t.map(function(e){return{caption:e.name,value:e.name,meta:e.meta}}):[]}}]),o}(),Dn=[{name:"window",meta:"dwkit object",children:[{name:"DWKitApp",meta:"dwkit object",children:[{name:"API",meta:"dwkit object",children:[{name:"getModelConrol",meta:"function(e,t)"},{name:"changeModelControl",meta:"function(e,t,n,r)"},{name:"changeModelControls",meta:"function(e,t)"},{name:"setDataField",meta:"function(e,t,n)"},{name:"rewriteControlModel",meta:"function(e,t,n)"},{name:"clearErrors",meta:"function"},{name:"forceUpdate",meta:"function"},{name:"redirectToForm",meta:"function(e,t)"},{name:"redirectToFlow",meta:"function(e,t)"},{name:"redirect",meta:"function(e,t,n)"},{name:"formValidate",meta:"function(e)"},{name:"createElement",meta:"function(e,t,n)"},{name:"checkRole",meta:"function(e)"},{name:"checkPermission",meta:"function(e,t)"},{name:"callUrl",meta:"function(e,t,n,r)"},{name:"callServerCodeAction",meta:"function(e,t,n)"},{name:"callServerCodeActionDispatch",meta:"function(e,t,n)"},{name:"openModal",meta:"function(e,t,n)"},{name:"openModalDispatch",meta:"function(e,t,n)"},{name:"executeActions",meta:"function(e)"},{name:"executeActionsDispatch",meta:"function(e)"},{name:"setCookie",meta:"function(e,t)"},{name:"getCookie",meta:"function(e)"},{name:"getParameterFormUrlOrCookie",meta:"function(e)"},{name:"setAuth",meta:"function(e)"},{name:"loadBackendScript",meta:"function(e,t,n)"},{name:"redirectToUrl",meta:"function(url)"},{name:"switchSceen",meta:"function (screenName)"},{name:"validate",meta:"function (data, modalId, state)"}]},{name:"props",meta:"object"},{name:"context",meta:"object"},{name:"refs",meta:"object"},{name:"updater",meta:"object"},{name:"state",meta:"object"}]},{name:"DWKitApp.API",meta:"dwkit object"},{name:"DWKitStore",meta:"dwkit object",children:[{name:"dispatch",meta:"function"},{name:"subscribe",meta:"function (t)"},{name:"getState",meta:"function"},{name:"replaceReducer",meta:"function (n)"},{name:"liftedStore",meta:"function"},{name:"resetForm",meta:"function (e)"},{name:"logoff",meta:"function"},{name:"loadStateFromStorage",meta:"function"},{name:"saveStateToStorage",meta:"function"},{name:"resetStateInStorage",meta:"function"},{name:"setScreen",meta:"function (screenName)"},{name:"switchSceen",meta:"function (screenName)"}]}]},{name:"args",meta:"object",children:[{name:"key",meta:"string"},{name:"data",meta:"object"},{name:"originalData",meta:"object"},{name:"state",meta:"object"},{name:"component",meta:"object"},{name:"formName",meta:"string"},{name:"controlRef",meta:"object"},{name:"sourceControlRef",meta:"object"},{name:"sourceControlValue",meta:"object"},{name:"parameters",meta:"object"},{name:"modalId",meta:"object"},{name:"callContext",meta:"object"}]}],Ln=[{name:"DWKitApp",meta:"dwkit object",children:[{name:"API",meta:"dwkit object",children:[{name:"getModelConrol",meta:"function(e,t)"},{name:"changeModelControl",meta:"function(e,t,n,r)"},{name:"changeModelControls",meta:"function(e,t)"},{name:"setDataField",meta:"function(e,t,n)"},{name:"rewriteControlModel",meta:"function(e,t,n)"},{name:"clearErrors",meta:"function"},{name:"forceUpdate",meta:"function"},{name:"redirectToForm",meta:"function(e,t)"},{name:"redirectToFlow",meta:"function(e,t)"},{name:"redirectToPage",meta:"function(e,t)"},{name:"redirect",meta:"function(e,t,n)"},{name:"formValidate",meta:"function(e)"},{name:"createElement",meta:"function(e,t,n)"},{name:"checkRole",meta:"function(e)"},{name:"checkPermission",meta:"function(e,t)"},{name:"callUrl",meta:"function(e,t,n,r)"},{name:"callServerCodeAction",meta:"function(e,t,n)"},{name:"callServerCodeActionDispatch",meta:"function(e,t,n)"},{name:"openModal",meta:"function(e,t,n)"},{name:"openModalDispatch",meta:"function(e,t,n)"},{name:"executeActions",meta:"function(e)"},{name:"executeActionsDispatch",meta:"function(e)"},{name:"setCookie",meta:"function(e,t)"},{name:"getCookie",meta:"function(e)"},{name:"getParameterFormUrlOrCookie",meta:"function(e)"},{name:"setAuth",meta:"function(e)"},{name:"loadBackendScript",meta:"function(e,t,n)"},{name:"redirectToUrl",meta:"function(url)"},{name:"validate",meta:"function (data, modalId, state)"}]},{name:"props",meta:"object"},{name:"context",meta:"object"},{name:"refs",meta:"object"},{name:"updater",meta:"object"},{name:"state",meta:"object"}]},{name:"DWKitApp.API",meta:"dwkit object"},{name:"DWKitStore",meta:"dwkit object",children:[{name:"dispatch",meta:"function"},{name:"subscribe",meta:"function (t)"},{name:"getState",meta:"function"},{name:"replaceReducer",meta:"function (n)"},{name:"liftedStore",meta:"function"},{name:"resetForm",meta:"function (e)"},{name:"logoff",meta:"function"}]},{name:"args",meta:"object",children:[{name:"key",meta:"string"},{name:"data",meta:"object"},{name:"originalData",meta:"object"},{name:"state",meta:"object"},{name:"component",meta:"object"},{name:"formName",meta:"string"},{name:"controlRef",meta:"object"},{name:"sourceControlRef",meta:"object"},{name:"sourceControlValue",meta:"object"},{name:"parameters",meta:"object"},{name:"modalId",meta:"object"},{name:"callContext",meta:"object"}]},{name:"window",meta:"js object",children:[{name:"open",meta:"function(e)"}]}];function jn(e){return(jn="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(e){return _typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof2(e)})(e)}function Rn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fn(e,t){return(Fn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Tn(e){return(Tn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Nn=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fn(e,t)}(o,yt.a);var n,r,t=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Tn(n),t=r?(t=Tn(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==jn(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function o(e){return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),(e=t.call(this,e)).editform=Pn,e.dataindex="forms",e.idfield="name",e.panelindex="actionhandlers",e.datatype="form",e.title=DWKitAdminLang.actionhandler.title,e.titleGetter=function(e){return e.actionhandler.title},e.hidebuttons=!0,e.ignoreidcase=!0,e}return Rn(o.prototype,[{key:"gridColumns",value:function(){return[{key:"name",name:DWKitAdminLang.column.name,resizable:!0}]}}]),o}();function Mn(e){return(Mn="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(e){return _typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof2(e)})(e)}function In(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Bn(e,t){return(Bn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Wn(e){return(Wn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Un=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Bn(e,t)}(o,b.a);var n,r,t=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Wn(n),t=r?(t=Wn(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Mn(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function o(e){return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),(e=t.call(this,e)).state={},e}return In(o.prototype,[{key:"redrawEditor",value:function(){var e;0<$("#dwkit-admin-localization").length&&(null==this.editor&&(this.editor=ace.edit("dwkit-admin-localization"),this.editor.getSession().setMode("ace/mode/javascript")),e=this.state.obj.source,this.editor.setValue(e=null==e?"{\n\n\n}":e,-1))}},{key:"render",value:function(){return this.state.id!=this.props.data.name?(this.setObject(this.props.data.name),null):(this.validate(),V.a.createElement("div",null,V.a.createElement(w.Breadcrumb,null,V.a.createElement(w.Breadcrumb.Section,{onClick:this.props.parent.back.bind(this.props.parent),link:!0},DWKitAdminLang.localization.title),V.a.createElement(w.Breadcrumb.Divider,null),V.a.createElement(w.Breadcrumb.Section,{active:!0},this.props.data.name)),V.a.createElement("div",{className:"dwkitadmin-toolbar",style:{marginTop:"5px"}},V.a.createElement(w.Button,{className:"buttontype1",onClick:this.onSave.bind(this)},DWKitAdminLang.button.save),V.a.createElement(w.Button,{className:"buttontype2",onClick:this.onCancel.bind(this)},DWKitAdminLang.button.cancel),V.a.createElement(w.Button,{floated:"right",className:"buttontype2",onClick:this.onUpdateTemplate.bind(this)},DWKitAdminLang.localization.updatetemplatebutton)),V.a.createElement("div",{id:"dwkit-admin-localization",style:{height:"calc(100vh - 180px)"}})))}},{key:"setObject",value:function(e){var t=this;this.loadobject(e,function(e){t.state.obj=e,t.state.id=e.name,t.forceUpdate(),t.redrawEditor()})}},{key:"loadobject",value:function(e,t){var n=new Array;this.state.id=this.props.data.name,n.push({name:"operation",value:"loadlocalization"}),n.push({name:"name",value:e}),$.ajax({url:this.props.apiUrl,data:n,async:!0,type:"post",success:function(e){e.success?t(e.item):alertify.error(e.message)}})}},{key:"onSave",value:function(){var e=ace.edit("dwkit-admin-localization");this.state.obj.source=e.getValue();var n=this;if(!this.validate())return alertify.error(DWKitAdminLang.msg.checkerrorsonform),void this.forceUpdate();this.state.obj.__type="localization",this.state.obj.__state="updated",this.ChangeData([this.state.obj],function(e){n.ResetSystemProps(n.state.obj),n.forceUpdate();var t=!1;n.props.metadata.localization.forEach(function(e){if(e.name==n.state.obj.name)return!(t=!0)}),t||n.props.metadata.localization.push({name:n.state.obj.name})})}},{key:"onCancel",value:function(){this.props.onCancel.bind(this.props.parent)(),this.redrawEditor()}},{key:"validate",value:function(){return!0}},{key:"onUpdateTemplate",value:function(){var t=this,e=new Array,n=ace.edit("dwkit-admin-localization").getValue();e.push({name:"operation",value:"localizationupdatetemplate"}),e.push({name:"name",value:t.state.obj.name}),e.push({name:"source",value:n}),$.ajax({url:t.props.apiUrl,data:e,async:!0,type:"post",success:function(e){e.success?t.editor.setValue(e.item,-1):alertify.error(e.message)}})}}]),o}();function Kn(e){return(Kn="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(e){return _typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof2(e)})(e)}function zn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gn(e,t){return(Gn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function qn(e){return(qn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Hn=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Gn(e,t)}(o,yt.a);var n,r,t=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=qn(n),t=r?(t=qn(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Kn(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function o(e){return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),(e=t.call(this,e)).editform=Un,e.dataindex="localization",e.idfield="name",e.panelindex="localization",e.datatype="localization",e.title=DWKitAdminLang.localization.title,e.titleGetter=function(e){return e.localization.title},e.ignoreidcase=!0,e}return zn(o.prototype,[{key:"gridColumns",value:function(){return[{key:"name",name:DWKitAdminLang.column.name,resizable:!0}]}}]),o}();function Yn(e){return(Yn="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(e){return _typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof2(e)})(e)}function Jn(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function Qn(r){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?Jn(Object(o),!0).forEach(function(e){var t,n=r;e=o[t=e],t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):Jn(Object(o)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))})}return r}function $n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xn(e,t){return(Xn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Zn(e){return(Zn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var er={icon:"browser"},tr={icon:"server"},nr={icon:"lightning"},rr=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xn(e,t)}(o,b.a);var n,r,t=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Zn(n),t=r?(t=Zn(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Yn(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function o(e){return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),(e=t.call(this,e)).state={dropzoneactive:!0,actionHandlers:[],showbuilder:!0,forms:{}},e.mobileBuilderId="mobileBuilder",e}return $n(o.prototype,[{key:"loadForm",value:function(){var r=this,t=!1;if(r.state.id=r.props.data.name,this.props.metadata.mobileForms.forEach(function(e){e.name===r.props.data.name&&(t=!0)}),!t)return this.props.data.__state="inserted",void r.onClearForm();var e=[];e.push({name:"operation",value:"loadmobileform"}),e.push({name:"name",value:r.props.data.name}),$.ajax({url:r.props.apiUrl,data:e,async:!0,type:"post",success:function(e){var t,n;e.success?(t=JSON.parse(e.item.source),n=r.getMobilebuilder(),r.state.actionHandlers=e.item.actionHandlers,n.setModel(t),r.initMobileBuilder(),r.forceUpdate()):alertify.error(e.message)}})}},{key:"messageClose",value:function(){this.setState({message:void 0})}},{key:"getAdditionalDataForControl",value:function(e,t,n){var r=t.startIndex,o=t.pageSize,a=(t.filters,t.sort,t.model);if("dictionary"===e.props["data-buildertype"]||"treepicker"===e.props["data-buildertype"]){for(var i=[],l=0;l<3;l++){var s={};s.key=a+"_"+l,s.text=a+"_"+l,s.value=l,i.push(s)}n({items:i})}else{var c=[];if(Array.isArray(e.props.columns))for(var u=0;u<o;u++)!function(t){var n={};e.props.columns.forEach(function(e){n[e.key]=e.key+"_"+(Number(r)+Number(t))}),c.push(n)}(u);else c.push({}),c.push({}),c.push({}),c.push({}),c.push({});t=c.length,n({startIndex:r,pageSize:o,rowsCount:t,items:c})}}},{key:"render",value:function(){var e=this,t=DWKitAdminLang.mobileform,n=[];function r(){e.setState({workflowopen:!1})}function o(){e.setState({securityopen:!1})}this.props.metadata.workflow.forEach(function(e){n.push({text:e.code,value:e.code})});var a,i=!v(a=this.state.message)&&null!==a,l=this.state.showbuilder?"":"dwkit-formbuilder-selector-preview",a=this.state.isFullScreen?"dwkit-admin-formbuilder-container-fullscreen":"dwkit-admin-formbuilder-container";return V.a.createElement("div",null,V.a.createElement("div",null,V.a.createElement("div",{className:"dwkit-admin-formheader-breadcrumb"},V.a.createElement(w.Breadcrumb,null,V.a.createElement(w.Breadcrumb.Section,{onClick:this.props.parent.back.bind(this.props.parent),link:!0},t.title),V.a.createElement(w.Breadcrumb.Divider,null),V.a.createElement(w.Breadcrumb.Section,{active:!0},this.props.data.name),V.a.createElement(w.Breadcrumb.Divider,{icon:"right angle"}),V.a.createElement(w.Breadcrumb.Section,{href:"?apanel=formdata&mode=mobile&aid="+this.state.id,onClick:this.openDataMap.bind(this)},t.datamap),V.a.createElement(w.Breadcrumb.Divider,null),V.a.createElement(w.Breadcrumb.Section,{href:"?apanel=actionhandlers&mode=mobile&aid="+this.state.id,onClick:this.openActionHandlers.bind(this)},t.actionhandler))),V.a.createElement("div",{className:"dwkit-admin-formheader-parameters"},V.a.createElement(w.Checkbox,{name:"isTemplate",label:t.template,checked:this.props.data.isTemplate,onChange:this.handleChange.bind(this)}))),V.a.createElement("div",{id:"formbuildercontainer",className:a},V.a.createElement("div",null,V.a.createElement("div",{className:"dwkit-admin-form-buttons"},V.a.createElement(w.Button,{className:"buttontype1",onClick:this.onSave.bind(this)},DWKitAdminLang.button.save),V.a.createElement(w.Button,{className:"buttontype2",onClick:this.onDownload.bind(this)},DWKitAdminLang.button.download),V.a.createElement(w.Button,{className:"buttontype2",onClick:this.onUpload.bind(this)},DWKitAdminLang.button.upload),V.a.createElement(w.Button,{className:"buttontype2",onClick:function(){e.setState({workflowopen:!0})}},DWKitAdminLang.button.workflow),V.a.createElement(w.Button,{className:"buttontype2",onClick:function(){e.setState({securityopen:!0})}},DWKitAdminLang.button.security),V.a.createElement("div",{style:{display:"inline",float:"right"}},V.a.createElement("div",{className:"dwkit-formbuilder-selector"},V.a.createElement("span",{className:l},t.viewer),V.a.createElement(w.Checkbox,{toggle:!0,name:"cbShowDropzones",label:t.builder,checked:this.state.showbuilder,onChange:this.handlePreviewClick.bind(this)})),V.a.createElement(w.Button,{className:"buttontype2",onClick:this.onFullscreen.bind(this)},t.fullscreenbutton),V.a.createElement(w.Button,{className:"buttontype2",disabled:!this.state.showbuilder,onClick:this.onClearForm.bind(this)},t.clearformbutton)),V.a.createElement("form",{action:"/",method:"post",id:"builderUploadForm",style:{display:"none"},onSubmit:this.onEmpty.bind(this)},V.a.createElement("input",{type:"file",id:"builderUploadFile",onChange:this.onUpload_onchange.bind(this)}),V.a.createElement("input",{type:"submit",id:"builderUploadSubmit"}))),this.renderBuilder(),V.a.createElement(w.Modal,{dimmer:"blurring",open:i,onClose:this.messageClose.bind(this)},V.a.createElement(w.Modal.Header,null,t.messagetitle),V.a.createElement(w.Modal.Content,null,V.a.createElement("p",null,this.state.message)),V.a.createElement(w.Modal.Actions,null,V.a.createElement(w.Button,{icon:"check",content:DWKitAdminLang.button.ok,onClick:this.messageClose.bind(this)}))),V.a.createElement(w.Modal,{dimmer:"blurring",open:this.state.workflowopen,onClose:r},V.a.createElement(w.Modal.Header,null,t.workflowwindowtitle),V.a.createElement(w.Modal.Content,null,V.a.createElement("p",null,t.workflowinfoblock),V.a.createElement(w.Form.Dropdown,{label:t.workflowschemesfield,name:"schemes",multiple:!0,search:!0,selection:!0,options:n,value:v(this.props.data.schemes)?[]:this.props.data.schemes,onChange:this.handleChange.bind(this)})),V.a.createElement(w.Modal.Actions,null,V.a.createElement(w.Button,{className:"buttontype1",content:DWKitAdminLang.button.apply,onClick:r}))),V.a.createElement(w.Modal,{dimmer:"blurring",open:this.state.securityopen,onClose:o},V.a.createElement(w.Modal.Header,null,t.securitywindowtitle),V.a.createElement(w.Modal.Content,null,V.a.createElement("p",null,t.securityinfoblock),V.a.createElement(w.Form.Input,{label:t.permissionsgroupfield,name:"securityGroup",value:this.props.data.securityGroup,onChange:this.handleChange.bind(this)})),V.a.createElement(w.Modal.Actions,null,V.a.createElement(w.Button,{className:"buttontype1",content:DWKitAdminLang.button.apply,onClick:o}))))))}},{key:"renderBuilder",value:function(){var e=this;return V.a.createElement("div",{},V.a.createElement("iframe",{id:this.mobileBuilderId,src:"mobileframe/index.html",name:this.mobileBuilderId,style:{width:"100%",minHeight:1200,border:"none"},onLoad:function(){return e.initMobileBuilder(!0)}}))}},{key:"initMobileBuilder",value:function(e){var t,n,r=[];this.state.actionHandlers&&(r=this.state.actionHandlers.map(function(e){return Qn(Qn({},nr),{},{text:e})})),this.props.parent.props.controlActions&&(t=this.props.parent.props.controlActions.map(function(e){return"string"==typeof e?Qn(Qn({},er),{},{text:e}):e}),r=r.concat(t.filter(function(t){return r.every(function(e){return e.text!==t.text})}))),this.props.parent.props.controlMobileActions&&(n=this.props.parent.props.controlMobileActions.map(function(e){return"string"==typeof e?Qn(Qn({},er),{},{text:e}):e}),r=r.concat(n.filter(function(t){return r.every(function(e){return e.text!==t.text})}))),this.props.parent.props.data&&this.props.parent.props.data.codeActions&&(n=this.props.parent.props.data.codeActions.filter(function(e){return 1===e.type}),r=r.concat(n.filter(function(t){return r.every(function(e){return e.text!==t.name})}).map(function(e){return Qn(Qn({},tr),{},{text:e.name})}))),r.sort(function(e,t){return e.text.localeCompare(t.text)}),this.getMobilebuilder().init({actions:r,getFormFunc:this.getForm.bind(this),getFormList:this.getFormList.bind(this),getAdditionalDataForControl:this.getAdditionalDataForControl.bind(this),localization:window.DWKitAdminLang.formbuilder,templates:this.getTemplateList(),externalControlList:this.props.externalControlList,externalControlRender:this.props.externalControlRender,externalControlsOnly:this.props.externalControlsOnly}),e&&this.loadForm()}},{key:"openDataMap",value:function(e){this.props.parent.props.parent.openpage("formdata",this.state.id,void 0,"mobile"),e.preventDefault()}},{key:"openActionHandlers",value:function(e){this.props.parent.props.parent.openpage("actionhandlers",this.state.id,void 0,"mobile"),e.preventDefault()}},{key:"getMobilebuilder",value:function(){return parent.window.frames[this.mobileBuilderId].BuilderAppWeb}},{key:"onClearForm",value:function(){this.getMobilebuilder().resetModel()}},{key:"handlePreviewClick",value:function(e,t){t.name;var n=t.checked;this.setState({showbuilder:n}),t=this.getMobilebuilder(),n?t.showBuilder():t.showViewer()}},{key:"onSave",value:function(){var e=this,t=this.getMobilebuilder().getModel();e.props.data.source=JSON.stringify(t),e.setUpdatedState(e.props.data),e.props.data.__type=e.props.parent.datatype,e.ChangeData([e.props.data],function(){e.ResetSystemProps(e.props.data),e.props.parent.applyeditrow()})}},{key:"onDownload",value:function(){this.getMobilebuilder().download()}},{key:"onUpload",value:function(){document.getElementById("builderUploadFile").click()}},{key:"onUpload_onchange",value:function(){this.getMobilebuilder().upload(document.getElementById("builderUploadFile"),function(){alertify.success(DWKitAdminLang.msg.fileupoaded)})}},{key:"onFullscreen",value:function(){this.setState({isFullScreen:!this.state.isFullScreen})}},{key:"handleChange",value:function(e,t){var n=t.name,r=t.value,t=t.checked;this.props.data[n]=void 0!==t?t:r,this.forceUpdate()}},{key:"onEmpty",value:function(){}},{key:"getForm",value:function(e){if(this.state.forms[e])return this.state.forms[e];Pace.start();var t=new Array;t.push({name:"operation",value:"loadmobileform"}),t.push({name:"name",value:e});var n=$.ajax({url:this.props.apiUrl,data:t,async:!1,type:"post"}).responseJSON;return Pace.stop(),t=void 0,n.success?null!=n.item&&null!=n.item.source?t=c.a.parse(n.item.source):alertify.error("Builder: Incorrect source of '"+e+"' form!"):alertify.error(n.message),this.state.forms[e]=t}},{key:"getFormList",value:function(){var t=[];return this.props.metadata.mobileForms.forEach(function(e){t.push(e.name)}),t}},{key:"getTemplateList",value:function(){var t=this,n=[];return this.props.metadata.mobileForms.forEach(function(e){e.isTemplate&&e.name!==t.props.data.name&&n.push(e.name)}),n}}]),o}();function or(e){return(or="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(e){return _typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof2(e)})(e)}function ar(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ir(e,t){return(ir=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function lr(e){return(lr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var sr=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ir(e,t)}(o,yt.a);var n,r,t=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=lr(n),t=r?(t=lr(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==or(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function o(e){return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),(e=t.call(this,e)).editform=rr,e.dataindex="mobileForms",e.idfield="name",e.panelindex="mobileforms",e.datatype="mobileform",e.title=DWKitAdminLang.mobileform.title,e.titleGetter=function(e){return e.mobileform.title},e.ignoreidcase=!0,e}return ar(o.prototype,[{key:"gridColumns",value:function(){return[{key:"name",name:DWKitAdminLang.column.name,resizable:!0},{key:"isTemplate",name:DWKitAdminLang.column.template,resizable:!0,type:"checkbox"}]}},{key:"renderToolbarExtraButtons",value:function(){var e=this,t=[{key:"name",name:DWKitAdminLang.mobileform.namecol,control:"input"},{key:"title",name:DWKitAdminLang.mobileform.titlecol,control:"input"},{key:"icon",name:DWKitAdminLang.mobileform.iconcol,control:"input"},{key:"target",name:DWKitAdminLang.mobileform.targetcol,control:"input"}],n=[];n.push(V.a.createElement(w.Button,{onClick:this.showSettings.bind(this)},DWKitAdminLang.mobileform.settings));var r="tabs"==this.state.navigationtype||"drawer"==this.state.navigationtype,t=V.a.createElement(w.Modal,{dimmer:"blurring",open:this.state.settingsopen,onClose:function(){return e.setState({settingsopen:!1})}},V.a.createElement(w.Modal.Header,null,DWKitAdminLang.mobileform.settings),V.a.createElement(w.Modal.Content,null,V.a.createElement(w.Form,null,V.a.createElement(w.Form.Input,{key:"defaultform",label:DWKitAdminLang.mobileform.defaultmobileform,name:"defaultform",list:"mobileformslist",value:this.state.defaultform,onChange:this.onChange.bind(this)}),this.renderFormsList("mobileformslist",!0),V.a.createElement("h3",null,DWKitAdminLang.mobileform.navigation),V.a.createElement(w.Form.Group,null,V.a.createElement(w.Form.Field,null,V.a.createElement(w.Card,{color:this.state.navigationtype&&"tabs"!=this.state.navigationtype?"white":"red",style:{width:"200px"},link:!0,onClick:function(){e.onChange(null,{name:"navigationtype",value:"tabs"})}},V.a.createElement(w.Image,{src:"/images/navigationtabs.png",wrapped:!0,ui:!1}),V.a.createElement(w.Card.Content,null,V.a.createElement(w.Card.Header,null,DWKitAdminLang.mobileform.navigationtab)))),V.a.createElement(w.Form.Field,null,V.a.createElement(w.Card,{color:"drawer"==this.state.navigationtype?"red":"white",style:{width:"200px"},link:!0,onClick:function(){e.onChange(null,{name:"navigationtype",value:"drawer"})}},V.a.createElement("video",{style:{width:"100%"},playsinline:"true",autoplay:"true",loop:"true"},V.a.createElement("source",{src:"/images/navigationdrawer.mov"})),V.a.createElement(w.Card.Content,null,V.a.createElement(w.Card.Header,null,DWKitAdminLang.mobileform.navigationdrawer)))),V.a.createElement(w.Form.Field,null,V.a.createElement(w.Card,{color:"stack"==this.state.navigationtype?"red":"white",style:{width:"200px"},link:!0,onClick:function(){e.onChange(null,{name:"navigationtype",value:"stack"})}},V.a.createElement("video",{style:{width:"100%"},playsinline:"true",autoplay:"true",loop:"true"},V.a.createElement("source",{src:"/images/navigationstack.mov"})),V.a.createElement(w.Card.Content,null,V.a.createElement(w.Card.Header,null,DWKitAdminLang.mobileform.navigationstack))))),r&&V.a.createElement("div",null,V.a.createElement("h3",null,DWKitAdminLang.mobileform.menu),V.a.createElement("span",null,V.a.createElement("a",{target:"_blank",style:{cursor:"cursor"},href:"https://materialdesignicons.com/"},"Icon Set")),V.a.createElement(ue.SemanticCollectionEditor,{columns:t,name:"menuelements",value:this.state.menuelements,draggable:!0,onChange:this.onChange.bind(this)})))),V.a.createElement(w.Modal.Actions,null,V.a.createElement(w.Button,{className:"buttontype1",content:DWKitAdminLang.button.apply,onClick:this.applySettings.bind(this)})));return n.push(t),n}},{key:"showSettings",value:function(){var e=this.getSettings("MobileMenuElements");try{e=c.a.parse(e)}catch(e){}this.setState({settingsopen:!0,defaultform:this.getSettings("DefaultMobileForm"),navigationtype:this.getSettings("MobileNavigationType"),menuelements:e})}},{key:"applySettings",value:function(){var e=this.СloneObj(this.props.data.settings);this.setSettings("DefaultMobileForm",this.state.defaultform,e),this.setSettings("MobileNavigationType",this.state.navigationtype,e),this.setSettings("MobileMenuElements",c.a.stringify(this.state.menuelements),e);var t=this;this.ChangeData(e,function(e){t.props.parent.load(),t.setState({settingsopen:!1})})}},{key:"onChange",value:function(e,t){var n=t.name,r=t.checked,t=t.value;this.state[n]=void 0===r?t:r,this.forceUpdate()}},{key:"renderFormsList",value:function(e,t){var t=t?this.props.data.mobileForms:this.props.data.forms,n=[];return Array.isArray(t)&&t.forEach(function(e){n.push(V.a.createElement("option",{key:e.name,value:e.name}))}),V.a.createElement("datalist",{key:e,id:e},n)}},{key:"getSettings",value:function(t){var e=this.props.data.settings,n=void 0;return e.forEach(function(e){e&&e.name==t&&(n=e)}),n&&n.value}},{key:"setSettings",value:function(t,e,n){var r=void 0;return n.forEach(function(e){e&&e.name==t&&(r=e)}),null==r?n.push(r={name:t,value:e,__state:"inserted"}):r.value!=e&&(r.value=e,this.setUpdatedState(r)),r.__type="settings",r}}]),o}();function cr(e){return(cr="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(e){return _typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof2(e)})(e)}function ur(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pr(e,t){return(pr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fr(e){return(fr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var dr=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pr(e,t)}(o,b.a);var n,r,t=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=fr(n),t=r?(t=fr(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==cr(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function o(e){return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),(e=t.call(this,e)).state={},e}return ur(o.prototype,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.resizeDesigner.bind(this)),this.redrawDesigner(),this.resizeDesigner()}},{key:"componentWillUnmount",value:function(){null!=this.wfdesigner&&this.wfdesigner.destroy()}},{key:"resizeDesigner",value:function(){var n=this;this.wfResizeTimer&&(clearTimeout(this.wfResizeTimer),this.wfdesigner.wfResizeTimer=void 0),this.wfResizeTimer=setTimeout(function(){var e=$(window).width(),t=$(window).height(),e=e-285-n.props.deltaWidth,t=t-185-n.props.deltaHeight;n.wfdesigner.resize(e,t)},150)}},{key:"redrawDesigner",value:function(){var e,t,n;null!=this.props.parent.props.id&&(e=$(window).width(),t=$(window).height(),WorkflowDesignerConstants.FormMaxHeight=600,null!=this.wfdesigner&&(n=this.wfdesigner.data,this.wfdesigner.destroy()),this.wfdesigner=new WorkflowDesigner({name:"dwkit-admin-wfdesigner",apiurl:this.props.workflowApi,renderTo:"dwkit-admin-wfdesigner",templatefolder:"/templates/",graphwidth:e-285-this.props.deltaWidth,graphheight:t-185-this.props.deltaHeight}),null==n?this.loadscheme():(this.wfdesigner.data=n,this.wfdesigner.render()))}},{key:"loadscheme",value:function(){var e={schemecode:this.props.data.code,processid:void 0};this.wfdesigner.exists(e)?this.wfdesigner.load(e):(this.wfdesigner.create(),this.props.data.__state="inserted"),this.state.id=this.props.data.code}},{key:"onClearScheme",value:function(){this.wfdesigner.create()}},{key:"onSave",value:function(){var e=this;e.wfdesigner.schemecode=e.props.data.code;var t=this.wfdesigner.validate();null!=t&&0<t.length?alertify.error(t):this.wfdesigner.save(function(){e.props.data.__state,e.ResetSystemProps(e.props.data),e.props.parent.applyeditrow(),alertify.success(DWKitAdminLang.workflow.schemesaved)})}},{key:"onDownload",value:function(){this.wfdesigner.downloadscheme()}},{key:"onUpload",value:function(){$("#dwkitadmin-workflow-uploadfile").trigger("click")}},{key:"onUpload_onchange",value:function(){this.wfdesigner.uploadscheme($("#dwkitadmin-workflow-uploadform")[0],function(){alertify.success(DWKitAdminLang.msg.fileupoaded)})}},{key:"messageClose",value:function(){this.setState({message:void 0})}},{key:"render",value:function(){null!=this.wfdesigner&&this.state.id!=this.props.data.code&&this.loadscheme();var e=null!=this.state.message;return V.a.createElement("div",null,V.a.createElement(w.Breadcrumb,null,V.a.createElement(w.Breadcrumb.Section,{onClick:this.props.parent.back.bind(this.props.parent),link:!0},DWKitAdminLang.workflow.title),V.a.createElement(w.Breadcrumb.Divider,null),V.a.createElement(w.Breadcrumb.Section,{active:!0},this.props.data.code),V.a.createElement(w.Breadcrumb.Divider,{icon:"right angle"}),V.a.createElement(w.Breadcrumb.Section,{href:"/workflow/"+this.props.id,target:"_blank"},DWKitAdminLang.form.open)),V.a.createElement("div",{className:"dwkit-admin-wfdesigner-buttons"},V.a.createElement(w.Button,{className:"buttontype2",floated:"right",onClick:this.onClearScheme.bind(this)},DWKitAdminLang.workflow.clearschemebutton),V.a.createElement(w.Button,{className:"buttontype1",onClick:this.onSave.bind(this)},DWKitAdminLang.button.save),V.a.createElement(w.Button,{className:"buttontype2",onClick:this.onDownload.bind(this)},DWKitAdminLang.button.download),V.a.createElement(w.Button,{className:"buttontype2",onClick:this.onUpload.bind(this)},DWKitAdminLang.button.upload)),V.a.createElement("div",{id:"dwkit-admin-wfdesigner"}),V.a.createElement("form",{is:!0,action:"",id:"dwkitadmin-workflow-uploadform",method:"post",style:{display:"none"},enctype:"multipart/form-data",onsubmit:"tmp()"},V.a.createElement("input",{type:"file",name:"dwkitadmin-workflow-uploadfile",id:"dwkitadmin-workflow-uploadfile",onChange:this.onUpload_onchange.bind(this)})),V.a.createElement(w.Modal,{dimmer:"blurring",open:e,onClose:this.messageClose.bind(this)},V.a.createElement(w.Modal.Header,null,DWKitAdminLang.workflow.messagetitle),V.a.createElement(w.Modal.Content,null,V.a.createElement("p",null,this.state.message)),V.a.createElement(w.Modal.Actions,null,V.a.createElement(w.Button,{icon:"check",content:DWKitAdminLang.button.ok,onClick:this.messageClose.bind(this)}))))}}]),o}();function hr(e){return(hr="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(e){return _typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof2(e)})(e)}function mr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yr(e,t){return(yr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function gr(e){return(gr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var br=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yr(e,t)}(o,yt.a);var n,r,t=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=gr(n),t=r?(t=gr(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==hr(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function o(e){return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),(e=t.call(this,e)).editform=dr,e.dataindex="workflow",e.panelindex="workflow",e.idfield="code",e.defaultNamePrefix="scheme",e.datatype="workflow",e.title=DWKitAdminLang.workflow.title,e.titleGetter=function(e){return e.workflow.title},e}return mr(o.prototype,[{key:"gridColumns",value:function(){return[{key:"code",name:DWKitAdminLang.column.code,resizable:!0}]}},{key:"getEditRow",value:function(){var t=this,e=this.props.data.workflow.find(function(e){return e.code.toLowerCase()===t.props.id.toLowerCase()});return{code:e?e.code:this.props.id}}}]),o}();function vr(e){return(vr="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(e){return _typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof2(e)})(e)}function Vr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wr(e,t){return(wr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Er(e){return(Er=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var _r=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wr(e,t)}(o,K.a);var n,r,t=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Er(n),t=r?(t=Er(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==vr(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function o(e){return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),t.call(this,e)}return Vr(o.prototype,[{key:"renderMainForm",value:function(){var t=this,e=this,n=(null==this.props.data[this.dataindex]||this.props.data[this.dataindex].length,this.gridColumns()),r="";return 0<n.length&&(r=n[0].key+" ASC"),V.a.createElement("div",null,V.a.createElement("h1",null,this.titleGetter?this.titleGetter(DWKitAdminLang):this.title),this.renderToolbar(),V.a.createElement(ue.SemanticGridView,{key:"Formgrid",rowKey:this.idfield,rowHeight:40,columns:this.gridColumns(),defaultSort:r,minHeight:this.state.gridHeight,multiselect:!0,pagerType:"server",getAdditionalDataForControl:this.getAdditionalDataForControl.bind(this),handleEvent:this.gridHandleEvent.bind(this),ref:function(e){t.grid=e}}),V.a.createElement(w.Confirm,{open:this.state.confirmdeleteshow,dimmer:"blurring",content:DWKitAdminLang.msg.confirmdelete,onCancel:function(){e.setState({confirmdeleteshow:!1})},onConfirm:this.onDelete.bind(this)}))}},{key:"handlePopupChange",value:function(e,t){var n=t.name,r=t.value;t.checked,this.state.popup[n]=r,this.forceUpdate()}},{key:"onDelete",value:function(){for(var e=this,t=[],n=this.grid.getSeletedRowKeys(),r=0;r<n.length;r++){var o={};o[this.idfield]=n[r],o.__type=this.datatype,o.__state="deleted",t.push(o)}e.setState({confirmdeleteshow:!1}),this.ChangeData(t,function(){e.grid.refresh()})}}]),o}();function kr(e){return(kr="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(e){return _typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof2(e)})(e)}function Cr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Or(e,t){return(Or=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Sr(e){return(Sr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ar=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Or(e,t)}(o,b.a);var n,r,t=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Sr(n),t=r?(t=Sr(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==kr(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function o(e){return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),(e=t.call(this,e)).state={},e}return Cr(o.prototype,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.resizeDesigner.bind(this)),this.redrawDesigner(),this.resizeDesigner()}},{key:"componentWillUnmount",value:function(){null!=this.wfdesigner&&this.wfdesigner.destroy()}},{key:"resizeDesigner",value:function(){var n=this;this.wfResizeTimer&&(clearTimeout(this.wfResizeTimer),this.wfdesigner.wfResizeTimer=void 0),this.wfResizeTimer=setTimeout(function(){var e=$(window).width(),t=$(window).height(),e=e-285-n.props.deltaWidth,t=t-185-n.props.deltaHeight;n.wfdesigner.resize(e,t)},150)}},{key:"redrawDesigner",value:function(){var e,t,n;null!=this.props.parent.props.id&&(e=$(window).width(),t=$(window).height(),WorkflowDesignerConstants.FormMaxHeight=600,null!=this.wfdesigner&&(n=this.wfdesigner.data,this.wfdesigner.destroy()),this.wfdesigner=new WorkflowDesigner({name:"dwkit-admin-wfdesigner",apiurl:this.props.workflowApi,renderTo:"dwkit-admin-wfdesigner",templatefolder:"/templates/",graphwidth:e-285-this.props.deltaWidth,graphheight:t-185-this.props.deltaHeight}),null==n?this.loadscheme():(this.wfdesigner.data=n,this.wfdesigner.render()))}},{key:"loadscheme",value:function(){var e={processid:this.props.data.id,readonly:!0};this.wfdesigner.exists(e)?this.wfdesigner.load(e):alertify.error("The process '"+e.processid+"' is not found!"),this.state.id=this.props.data.id}},{key:"render",value:function(){var e=this;return null!=this.wfdesigner&&this.state.id!=this.props.data.id&&this.loadscheme(),this.state.message,V.a.createElement("div",null,V.a.createElement(w.Breadcrumb,null,V.a.createElement(w.Breadcrumb.Section,{onClick:this.props.parent.back.bind(this.props.parent),link:!0},DWKitAdminLang.workflowinstance.title),V.a.createElement(w.Breadcrumb.Divider,null),V.a.createElement(w.Breadcrumb.Section,{active:!0},this.props.data.id," (",this.getInstanceStatus(this.props.data.instanceStatus),")"),V.a.createElement(w.Breadcrumb.Divider,{icon:"right angle"}),V.a.createElement(w.Breadcrumb.Section,{href:"/workflow/"+this.props.data.schemeCode+"/"+this.props.id,target:"_blank"},DWKitAdminLang.form.open),V.a.createElement(w.Breadcrumb.Divider,{icon:"right angle"}),V.a.createElement(w.Breadcrumb.Section,{href:"?apanel=workflow&aid="+this.state.id,onClick:this.openScheme.bind(this),link:!0},this.props.data.schemeCode)),V.a.createElement("div",{className:"dwkit-admin-wfdesigner-buttons"},V.a.createElement(w.Button,{className:"buttontype1",onClick:function(){e.setState({opensetstate:!0})}},DWKitAdminLang.workflowinstance.setstatebutton),V.a.createElement(w.Button,{className:"buttontype2",onClick:function(){e.setState({opensetstatus:!0})}},DWKitAdminLang.workflowinstance.setinstancestatusbutton),V.a.createElement(w.Button,{className:"buttontype2",onClick:function(){e.copyToClipboard(e.state.id)}},DWKitAdminLang.workflowinstance.copyprocessid)),V.a.createElement("div",{id:"dwkit-admin-wfdesigner"}),V.a.createElement(w.Modal,{dimmer:"blurring",open:this.state.opensetstate},V.a.createElement(w.Modal.Header,null,DWKitAdminLang.workflowinstance.setstatebutton),V.a.createElement(w.Modal.Content,null,V.a.createElement(w.Input,{label:DWKitAdminLang.workflowinstance.statefield,fluid:!0,name:"newstate",value:this.state.newstate,error:Boolean(this.state.newstateerror),onChange:this.handleStateChange.bind(this)})),V.a.createElement(w.Modal.Actions,null,V.a.createElement(w.Button,{className:"buttontype1",content:DWKitAdminLang.workflowinstance.setstatebutton,onClick:this.onSetState.bind(this)}),V.a.createElement(w.Button,{className:"buttontype2",content:DWKitAdminLang.button.cancel,onClick:function(){e.setState({opensetstate:!1,newstateerror:void 0,newstate:void 0})}}))),V.a.createElement(w.Modal,{dimmer:"blurring",open:this.state.opensetstatus},V.a.createElement(w.Modal.Header,null,DWKitAdminLang.workflowinstance.setinstancestatusbutton),V.a.createElement(w.Modal.Content,null,V.a.createElement(w.Button,{content:"Initialized",onClick:this.onSetInstanceStatus.bind(this,0)}),V.a.createElement(w.Button,{content:"Running",onClick:this.onSetInstanceStatus.bind(this,1)}),V.a.createElement(w.Button,{content:"Idled",onClick:this.onSetInstanceStatus.bind(this,2)}),V.a.createElement(w.Button,{content:"Finalized",onClick:this.onSetInstanceStatus.bind(this,3)})),V.a.createElement(w.Modal.Actions,null,V.a.createElement(w.Button,{className:"buttontype2",content:DWKitAdminLang.button.cancel,onClick:function(){e.setState({opensetstatus:!1})}}))))}},{key:"handleStateChange",value:function(e,t){var n=t.name,t=t.value;this.state[n]=t,this.forceUpdate()}},{key:"openScheme",value:function(e){this.props.parent.props.parent.openpage("workflow",this.props.data.schemeCode),e.preventDefault()}},{key:"onSetState",value:function(){var e=this.state.newstate;if(null==e||""==e)return this.state.newstateerror="error",void this.forceUpdate();this.state.newstateerror=void 0;var t=this,n=new Array;n.push({name:"operation",value:"workflow"}),n.push({name:"suboperation",value:"setstate"}),n.push({name:"processId",value:t.props.data.id}),n.push({name:"state",value:e}),$.ajax({url:t.props.apiUrl,data:n,async:!0,type:"post",success:function(e){t.setState({opensetstate:!1,newstateerror:void 0,newstate:void 0}),e.success?(alertify.success(DWKitAdminLang.workflowinstance.statechangedmsg),t.props.parent.reload(),t.wfdesigner.refresh()):alertify.error(e.message)}})}},{key:"onSetInstanceStatus",value:function(e){var t=this,n=new Array;n.push({name:"operation",value:"workflow"}),n.push({name:"suboperation",value:"setinstancestatus"}),n.push({name:"processId",value:t.props.data.id}),n.push({name:"status",value:e}),$.ajax({url:t.props.apiUrl,data:n,async:!0,type:"post",success:function(e){t.setState({opensetstatus:!1}),e.success?(alertify.success(DWKitAdminLang.workflowinstance.instancestatuschangedmsg),t.props.parent.reload()):alertify.error(e.message)}})}},{key:"getInstanceStatus",value:function(e){return void 0===e?"":255==e?"NotFound":254==e?"Unknown":0==e?"Initialized":1==e?"Running":2==e?"Idled":3==e?"Finalized":4==e?"Terminated":5==e?"Error":e}}]),o}();function xr(e){return(xr="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(e){return _typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof2(e)})(e)}function Pr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Dr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Lr(e,t,n){return t&&Dr(e.prototype,t),n&&Dr(e,n),e}function jr(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Rr(e,t)}function Rr(e,t){return(Rr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Fr(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e=Tr(n),t=r?(t=Tr(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==xr(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t}}function Tr(e){return(Tr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Nr=function(){jr(t,b.a);var e=Fr(t);function t(){return Pr(this,t),e.apply(this,arguments)}return Lr(t,[{key:"render",value:function(){var e=this.props.value;return V.a.createElement("div",null,V.a.createElement("div",{style:{float:"right"}},V.a.createElement(w.Button,{title:DWKitAdminLang.button.copy,onClick:this.onClick.bind(this),icon:!0},V.a.createElement(w.Icon,{name:"copy"}))),V.a.createElement("div",{title:e,style:{paddingTop:"8px"}},e))}},{key:"onClick",value:function(){this.copyToClipboard(this.props.value)}}]),t}(),Mr=function(){jr(n,_r);var t=Fr(n);function n(e){return Pr(this,n),(e=t.call(this,e)).title=DWKitAdminLang.workflowinstance.title,e.titleGetter=function(e){return e.workflowinstance.title},e.panelindex="workflowinstances",e.idfield="id",e.editform=Ar,e.state={popup:{show:!1},filter:{}},e}return Lr(n,[{key:"gridColumns",value:function(){return[{key:"id",name:"Process Id",resizable:!0,formatter:Nr,width:340},{key:"schemeCode",name:DWKitAdminLang.workflowinstance.schemecolumn,resizable:!0},{key:"instanceStatus",name:DWKitAdminLang.workflowinstance.statuscolumn,resizable:!0,formatter:Ir},{key:"activityName",name:DWKitAdminLang.workflowinstance.activitycolumn,resizable:!0},{key:"stateName",name:DWKitAdminLang.workflowinstance.statecolumn,resizable:!0}]}},{key:"renderToolbar",value:function(){var e,t=this,n=[];null==this.state.popup&&(this.state.popup={show:!1}),null==this.state.filter&&(this.state.filter={}),n.push(V.a.createElement(w.Button,{key:"btnCreate",className:"buttontype1",onClick:function(){t.setState({popup:{show:!0,id:t.NewGUID()}})}},DWKitAdminLang.button.create)),n.push(V.a.createElement(w.Button,{key:"btnDelete",className:"buttontype2",onClick:function(){t.setState({confirmdeleteshow:!0})}},DWKitAdminLang.button.delete)),null!=this.state.popup.errors&&(e=V.a.createElement(w.Message,{negative:!0},V.a.createElement("p",null,this.state.popup.errors)));var r=[];r.push({text:"...",value:void 0});for(var o=0;o<=5;o++)r.push({key:o,text:Br(o),value:o});return r.push({key:254,text:Br(254),value:254}),r.push({key:255,text:Br(255),value:255}),V.a.createElement("div",{className:"dwkitadmin-toolbar"},V.a.createElement("div",{className:"dwkitadmin-toolbarfilter"},V.a.createElement(w.Form,null,V.a.createElement(w.Form.Group,{widths:"equal"},V.a.createElement(w.Form.Input,{name:"id",label:"ProcessId",value:this.state.filter.id,onChange:this.handleFilterChange.bind(this)}),V.a.createElement(w.Form.Input,{name:"scheme",label:"Scheme",value:this.state.filter.scheme,onChange:this.handleFilterChange.bind(this)}),V.a.createElement(w.Form.Dropdown,{key:"status",name:"status",options:r,label:"Status",value:this.state.filter.status,onChange:this.handleFilterChange.bind(this),selection:!0,fluid:!0}),V.a.createElement(w.Form.Input,{name:"activity",label:"Activity",value:this.state.filter.activity,onChange:this.handleFilterChange.bind(this)}),V.a.createElement(w.Form.Input,{name:"state",label:"State",value:this.state.filter.state,onChange:this.handleFilterChange.bind(this)}),V.a.createElement(w.Button,{className:"buttontype2",content:DWKitAdminLang.button.search,onClick:this.onSearch.bind(this)})))),n,V.a.createElement("span",null,DWKitAdminLang.msg.totalcount," ",t.state.rowsCount),V.a.createElement(w.Modal,{dimmer:"blurring",open:this.state.popup.show},V.a.createElement(w.Modal.Header,null,DWKitAdminLang.modal.createaprocessheader),V.a.createElement(w.Modal.Content,null,V.a.createElement(w.Form,null,e,V.a.createElement(w.Form.Input,{key:"id",name:"id",label:"ProcessId",required:!0,value:this.state.popup.id,onChange:this.handlePopupChange.bind(this),error:null!=this.state.popup.iderrors}),V.a.createElement(w.Form.Input,{key:"scheme",name:"scheme",label:"Scheme",required:!0,value:this.state.popup.scheme,onChange:this.handlePopupChange.bind(this),error:null!=this.state.popup.schemeerrors}))),V.a.createElement(w.Modal.Actions,null,V.a.createElement(w.Button,{className:"buttontype1",content:DWKitAdminLang.button.create,onClick:this.onCreate.bind(this)}),V.a.createElement(w.Button,{className:"buttontype2",content:DWKitAdminLang.button.cancel,onClick:function(){t.setState({popup:{show:!1}})}}))))}},{key:"handleFilterChange",value:function(e,t){var n=t.name,t=t.value;this.state.filter[n]=t,this.forceUpdate()}},{key:"getAdditionalDataForControl",value:function(e,t,n){var r=t.startIndex,o=t.pageSize,a=(t.filters,t.sort),i=this;(t=new Array).push({name:"operation",value:"workflow"}),t.push({name:"suboperation",value:"loadlist"}),t.push({name:"skip",value:r}),t.push({name:"take",value:o}),t.push({name:"sort",value:a}),null!=i.state.filter.id&&""!=i.state.filter.id&&t.push({name:"id",value:i.state.filter.id}),null!=i.state.filter.scheme&&""!=i.state.filter.scheme&&t.push({name:"scheme",value:i.state.filter.scheme}),null!=i.state.filter.status&&""!==i.state.filter.status&&t.push({name:"status",value:i.state.filter.status}),null!=i.state.filter.activity&&""!=i.state.filter.activity&&t.push({name:"activity",value:i.state.filter.activity}),null!=i.state.filter.state&&""!=i.state.filter.state&&t.push({name:"state",value:i.state.filter.state}),$.ajax({url:i.props.apiUrl,data:t,async:!0,type:"post",success:function(e){e.success?(n({sIndex:r,pSize:o,rowsCount:e.item.count,items:e.item.instances}),i.setState({rowsCount:e.item.count})):alertify.error(e.message)}})}},{key:"getEditRow",value:function(){var e=this.props.id,t=new Array;if(t.push({name:"operation",value:"workflow"}),t.push({name:"suboperation",value:"load"}),t.push({name:"instanceId",value:e}),(t=$.ajax({url:this.props.apiUrl,data:t,async:!1,type:"post"}).responseJSON).success)return null==t.item?(alertify.error(DWKitAdminLang.msg.objectnotfound),this.back(),{}):t.item;alertify.error(t.message)}},{key:"onSearch",value:function(){this.grid.refresh()}},{key:"onCreate",value:function(){var e,t=this,n=t.state.popup.id,r=t.state.popup.scheme;t.state.popup.iderrors=null==n||""==n?"error":void 0,null==r||""==r?t.state.popup.schemeerrors="error":t.state.popup.iderrors=void 0,t.state.popup.iderrors||t.state.popup.schemeerrors?this.forceUpdate():((e=new Array).push({name:"operation",value:"workflow"}),e.push({name:"suboperation",value:"create"}),e.push({name:"processId",value:n}),e.push({name:"scheme",value:r}),$.ajax({url:t.props.apiUrl,data:e,async:!0,type:"post",success:function(e){t.setState({popup:{show:!1}}),e.success?t.props.parent.openpage("workflowinstances",n):alertify.error(e.message)}}))}},{key:"onDelete",value:function(){var t=this,e=new Array;t.setState({confirmdeleteshow:!1});var n=this.grid.getSeletedRowKeys();e.push({name:"operation",value:"workflow"}),e.push({name:"suboperation",value:"delete"}),e.push({name:"processIds",value:JSON.stringify(n)}),$.ajax({url:t.props.apiUrl,data:e,async:!0,type:"post",success:function(e){e.success?(t.grid.refresh(),alertify.success("Rows have been deleted!")):alertify.error(e.message)}})}},{key:"recalcSizeParams",value:function(){var e;this._isMounted&&(e=$(window).height(),this.setState({gridHeight:e-280-this.props.deltaHeight}))}}]),n}(),Ir=function(){jr(t,V.a.Component);var e=Fr(t);function t(){return Pr(this,t),e.apply(this,arguments)}return Lr(t,[{key:"render",value:function(){var e=Br(this.props.value);return V.a.createElement("span",null,e)}}]),t}(),Br=function(e){return void 0===e?"":255==e?"NotFound":254==e?"Unknown":0==e?"Initialized":1==e?"Running":2==e?"Idled":3==e?"Finalized":4==e?"Terminated":5==e?"Error":e};function Wr(e){return(Wr="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(e){return _typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof2(e)})(e)}function Ur(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Kr(e,t){return(Kr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function zr(e){return(zr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Gr=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Kr(e,t)}(a,b.a);var n,r,o=(n=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=zr(n),t=r?(t=zr(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Wr(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function a(e){var t;return function(e){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this),(t=o.call(this,e)).state={statearray:[],rolearray:[]},null!=(e=t.props.data)&&null!=e.scheme&&""!=e.scheme&&(t.updateStates(e.scheme),t.updateRoles(e.scheme)),t}return Ur(a.prototype,[{key:"validate",value:function(){return this.props.parent.validate()}},{key:"render",value:function(){this.validate();var e=null==this.props.data?[]:this.props.data;null==e.map&&(e.map=[]);var t=this.handleChange.bind(this,e),n=this.props.onSave.bind(this.props.parent),r=this.props.onCancel.bind(this.props.parent),o=[];o.push({text:"...",value:""}),this.props.metadata.forms.forEach(function(e){o.push({text:e.name,value:e.name})});var a=[];a.push({text:DWKitAdminLang.businessflow.anyroleitem,value:"*"}),this.props.metadata.roles.forEach(function(e){a.push({text:e.name,value:e.code})}),this.state.rolearray.forEach(function(e){a.push({text:e,value:e})});var i=[];this.props.metadata.workflow.forEach(function(e){i.push({text:e.code,value:e.code})});var l=[{key:"states",name:DWKitAdminLang.businessflow.statescolumn,control:"dropdown",options:this.state.statearray,multiple:!0},{key:"roles",name:DWKitAdminLang.businessflow.rolescolumn,control:"dropdown",options:a,multiple:!0},{key:"form",name:DWKitAdminLang.businessflow.formcolumn,control:"dropdown",options:o}];return V.a.createElement("div",{className:"dwkit-formadmin-formedit"},V.a.createElement(w.Breadcrumb,null,V.a.createElement(w.Breadcrumb.Section,{onClick:this.props.parent.back.bind(this.props.parent),link:!0},DWKitAdminLang.businessflow.title),V.a.createElement(w.Breadcrumb.Divider,null),V.a.createElement(w.Breadcrumb.Section,{active:!0},e.name)),V.a.createElement("div",{className:"dwkitadmin-toolbar-editform"},V.a.createElement(w.Button,{className:"buttontype1",onClick:n},DWKitAdminLang.button.save),V.a.createElement(w.Button,{className:"buttontype2",onClick:r},DWKitAdminLang.button.cancel)),V.a.createElement("h1",null,this.props.parent.title),e.__error.duplicateName&&V.a.createElement(w.Message,{color:"red"},DWKitAdminLang.businessflow.nameexistsmsg),V.a.createElement(w.Form,null,V.a.createElement(w.Form.Input,{name:"name",label:DWKitAdminLang.field.name,error:e.__error.name||e.__error.duplicateName,value:e.name,onChange:t}),V.a.createElement(w.Form.Group,{widths:"equal"},V.a.createElement(w.Form.Dropdown,{name:"scheme",label:DWKitAdminLang.businessflow.schemecolumn,options:i,error:Boolean(e.__error.scheme),value:e.scheme,onChange:t,selection:!0,fluid:!0,search:!0}),V.a.createElement(w.Form.Dropdown,((r="search")in(n={name:"defaultForm",placeholder:"...",search:n=!0,label:DWKitAdminLang.businessflow.defaultformcolumn,error:Boolean(e.__error.defaultForm),options:o,value:e.defaultForm,onChange:t,selection:!0,fluid:!0})?Object.defineProperty(n,r,{value:!0,enumerable:!0,configurable:!0,writable:!0}):n[r]=!0,n))),V.a.createElement("h2",null,DWKitAdminLang.businessflow.mappingfield),V.a.createElement(ue.SemanticCollectionEditor,{key:"map",columns:l,name:"map",value:e.map,onChange:t,error:e.__error.map})))}},{key:"handleChange",value:function(e,t,n){var r=n.name,o=n.value,n=n.checked;e[r],e[r]=null==o?n:o,"scheme"===r&&(this.updateStates(e.scheme),this.updateRoles(e.scheme)),this.setUpdatedState(this.props.data),this.forceUpdate()}},{key:"handleChildrenChange",value:function(e,t,n){var r=n.name,n=n.value;e[r]=n,this.setUpdatedState(this.props.data),this.forceUpdate()}},{key:"updateStates",value:function(e){var t=this,n=new Array;n.push({name:"operation",value:"workflow"}),n.push({name:"suboperation",value:"getstates"}),n.push({name:"scheme",value:e}),$.ajax({url:t.props.apiUrl,data:n,async:!0,type:"post",success:function(e){e.success?(Array.isArray(e.item)||alertify.error("Unknown format for getstates response!"),t.state.statearray=[{text:DWKitAdminLang.businessflow.anystateitem,value:"*"}],e.item.forEach(function(e){t.state.statearray.push({text:e,value:e})}),t.forceUpdate()):alertify.error(e.message)}})}},{key:"updateRoles",value:function(e){var t=this,n=new Array;n.push({name:"operation",value:"workflow"}),n.push({name:"suboperation",value:"getactors"}),n.push({name:"scheme",value:e}),$.ajax({url:t.props.apiUrl,data:n,async:!0,type:"post",success:function(e){e.success?(Array.isArray(e.item)||alertify.error("Unknown format for getactors response!"),t.state.rolearray=[],e.item.forEach(function(e){t.state.rolearray.push(e)}),t.forceUpdate()):alertify.error(e.message)}})}}]),a}();function qr(e){return(qr="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(e){return _typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof2(e)})(e)}function Hr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Yr(e,t){return(Yr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Jr(e){return(Jr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Qr=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Yr(e,t)}(o,K.a);var n,r,t=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Jr(n),t=r?(t=Jr(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==qr(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function o(e){return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),(e=t.call(this,e)).dataindex="businessFlow",e.panelindex="businessflow",e.datatype="businessflow",e.idfield="id",e.editform=Gr,e.title=DWKitAdminLang.businessflow.title,e.titleGetter=function(e){return e.businessflow.title},e}return Hr(o.prototype,[{key:"gridColumns",value:function(){return[{key:"name",name:DWKitAdminLang.column.name,resizable:!0},{key:"scheme",name:DWKitAdminLang.businessflow.schemecolumn,resizable:!0},{key:"defaultForm",name:DWKitAdminLang.businessflow.defaultformcolumn,resizable:!0}]}},{key:"getDefaultObjectCode",value:function(){return""}},{key:"validate",value:function(){var t=!0,n=this.state.editrow,r=DWKitAdminLang.msg.fieldrequired,e=!!n.name&&this.props.data.businessFlow.some(function(e){return e.name.toLowerCase()===n.name.toLowerCase()&&e.id!==n.id});return n.__error={name:null==n.name||""==n.name?r:void 0,scheme:null==n.scheme||""==n.scheme?r:void 0,defaultForm:null==n.defaultForm||""==n.defaultForm?r:void 0,duplicateName:e},t&=!(n.__error.name||n.__error.scheme||n.__error.defaultForm||e),null!=n.map&&(n.__error.map=[],n.map.forEach(function(e){e={states:Array.isArray(e.states)&&0!=e.states.length?void 0:r,roles:Array.isArray(e.roles)&&0!=e.roles.length?void 0:r,form:e.form?void 0:r},n.__error.map.push(e),t&=void 0===e.states&&void 0===e.roles&&void 0===e.form})),t}}]),o}();function $r(e){return($r="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(e){return _typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof2(e)})(e)}function Xr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Zr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function eo(e,t){return(eo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function to(e){return(to=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var no=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&eo(e,t)}(a,b.a);var n,r,o=(n=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=to(n),t=r?(t=to(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==$r(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function a(e){var t;return function(e){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this),(t=o.call(this,e)).state={commands:[]},(e=t.props.data)&&t.updateCommands(e.schemes),t}return Zr(a.prototype,[{key:"validate",value:function(){return this.props.parent.validate()}},{key:"render",value:function(){this.validate();var e=this.props.data||{};e.map||(e.map=[]);var t=this.handleChange.bind(this,e),n=this.props.onSave.bind(this.props.parent),r=this.props.onCancel.bind(this.props.parent),o=[];this.props.metadata.forms.forEach(function(e){o.push({text:e.name,value:e.name})});var a=[];this.props.metadata.workflow.forEach(function(e){a.push({text:e.code,value:e.code})});var i,l=e.map.reduce(function(e,t){return e.concat(t.commands.filter(function(t){return!e.some(function(e){return e.name===t.name&&e.scheme===t.scheme})}))},function(e){if(Array.isArray(e))return Xr(e)}(i=this.state.commands)||function(){if("undefined"!=typeof Symbol&&null!=i[Symbol.iterator]||null!=i["@@iterator"])return Array.from(i)}()||function(e){if(e){if("string"==typeof e)return Xr(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Xr(e,void 0):void 0}}(i)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map(function(e){return{text:"".concat(e.scheme,".").concat(e.name),value:JSON.stringify(e)}}),l=[{key:"commands",name:DWKitAdminLang.commandform.commandscolumn,control:"dropdown",options:l,multiple:!0,placeholder:"*"},{key:"form",name:DWKitAdminLang.commandform.formcolumn,control:"dropdown",options:o}];return V.a.createElement("div",{className:"dwkit-formadmin-formedit"},V.a.createElement(w.Breadcrumb,null,V.a.createElement(w.Breadcrumb.Section,{onClick:this.props.parent.back.bind(this.props.parent),link:!0},DWKitAdminLang.commandform.title),V.a.createElement(w.Breadcrumb.Divider,null),V.a.createElement(w.Breadcrumb.Section,{active:!0},e.name)),V.a.createElement("div",{className:"dwkitadmin-toolbar-editform"},V.a.createElement(w.Button,{className:"buttontype1",onClick:n},DWKitAdminLang.button.save),V.a.createElement(w.Button,{className:"buttontype2",onClick:r},DWKitAdminLang.button.cancel)),V.a.createElement("h1",null,this.props.parent.title),e.__error.duplicateName&&V.a.createElement(w.Message,{color:"red"},DWKitAdminLang.commandform.nameexistsmsg),e.__error.mapRequired&&V.a.createElement(w.Message,{color:"red"},DWKitAdminLang.commandform.maprequiredsmsg),e.__error.commandMappingErrors&&e.__error.commandMappingErrors.map(function(e){return V.a.createElement(w.Message,{color:"red"},e)}),V.a.createElement(w.Form,null,V.a.createElement(w.Form.Input,{name:"name",label:DWKitAdminLang.field.name,error:e.__error.name||e.__error.duplicateName,value:e.name,onChange:t}),V.a.createElement(w.Form.Group,{widths:"equal"},V.a.createElement(w.Form.Dropdown,{placeholder:"*",name:"schemes",label:DWKitAdminLang.commandform.schemescolumn,options:a,value:e.schemes,onChange:t,selection:!0,fluid:!0,search:!0,multiple:!0})),V.a.createElement("h2",null,DWKitAdminLang.commandform.mappingfield),V.a.createElement(ue.SemanticCollectionEditor,{key:"map",columns:l,name:"map",value:e.map.map(function(e){return{form:e.form,commands:e.commands.map(function(e){return JSON.stringify(e)})}}),onChange:t,error:e.__error.map})))}},{key:"handleChange",value:function(e,t,n){var r=n.name,o=n.value,n=n.checked;e[r]=void 0===o?n:"map"===r?o.map(function(e){return{form:e.form,commands:e.commands?e.commands.map(function(e){return JSON.parse(e)}):[]}}):o,"schemes"===r&&this.updateCommands(e.schemes),this.setUpdatedState(this.props.data),this.forceUpdate()}},{key:"handleChildrenChange",value:function(e,t,n){var r=n.name,n=n.value;e[r]=n,this.setUpdatedState(this.props.data),this.forceUpdate()}},{key:"updateCommands",value:function(e){var t=this,n=new Array;n.push({name:"operation",value:"workflow"}),n.push({name:"suboperation",value:"getcommands"}),n.push({name:"schemes",value:JSON.stringify(e)}),$.ajax({url:this.props.apiUrl,data:n,async:!0,type:"post",success:function(e){e.success?(Array.isArray(e.item)||alertify.error("Unknown format for getstates response!"),t.setState({commands:e.item})):alertify.error(e.message)}})}}]),a}();function ro(e){return(ro="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(e){return _typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof2(e)})(e)}function oo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ao(e,t){return(ao=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function io(e){return(io=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n(19);var lo=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ao(e,t)}(o,K.a);var n,r,t=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=io(n),t=r?(t=io(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==ro(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function o(e){return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),(e=t.call(this,e)).dataindex="commandForms",e.panelindex="commandform",e.datatype="commandform",e.idfield="id",e.editform=no,e.titleGetter=function(e){return e.commandform.title},e}return oo(o.prototype,[{key:"gridColumns",value:function(){return[{key:"name",name:DWKitAdminLang.column.name,resizable:!0}]}},{key:"duplicateCommandMappingCheck",value:function(e,t,n){var r,o=e.map.filter(t);if(1!==o.length)return n(null,o[0]);for(r in this.props.data[this.dataindex]){var a=this.props.data[this.dataindex][r];if(a.id!==e.id){var i=a.map.filter(t);if(i.length)return n(a,i[0])}}}},{key:"validateMapping",value:function(t,e){function r(e,t){return e.name===t.name&&e.scheme===t.scheme}var n,o,a=e.commands;if(!a||!a.length)return this.duplicateCommandMappingCheck(t,function(e){return!e.commands||0===e.commands.length},function(e){return e?DWKitAdminLang.commandform.duplicatewildcardmappinginotherformmsg(e.name):DWKitAdminLang.commandform.duplicatewildcardmappingmsg});if(1===a.length)return(e=this.duplicateCommandMappingCheck(t,function(e){return e.commands&&1===e.commands.length&&r(e.commands[0],a[0])},function(e,t){return t=t.commands[0],e?DWKitAdminLang.commandform.duplicateonecommandmappinginotherformmsg("".concat(t.scheme,".").concat(t.name),e.name):DWKitAdminLang.commandform.duplicateonecommandmappingmsg("".concat(t.scheme,".").concat(t.name))}))||(t.schemes&&0<t.schemes.length&&!t.schemes.includes(a[0].scheme)?DWKitAdminLang.commandform.schemenotselectedmsg(a[0].scheme,a[0].name):void 0);for(n in a){var i=function(n){var e=t.map.reduce(function(e,t){return t.commands&&1<t.commands.length&&(t=t.commands.filter(function(e){return r(e,a[n])})).length&&e.push(t[0]),e},[]);if(1!==e.length)return e=e[0],{v:DWKitAdminLang.commandform.duplicatemulticommandmappingmsg("".concat(e.scheme,".").concat(e.name))}}(n);if("object"===ro(i))return i.v}for(o in this.props.data[this.dataindex]){var l=this.props.data[this.dataindex][o];if(l.id!==t.id)for(var s in a){s=function(n){var e=l.map.reduce(function(e,t){return t.commands&&1<t.commands.length&&(t=t.commands.filter(function(e){return r(e,a[n])})).length&&e.push(t[0]),e},[]);if(e.length)return e=e[0],{v:DWKitAdminLang.commandform.duplicatemulticommandmappinginotherformmsg("".concat(e.scheme,".").concat(e.name),l.name)}}(s);if("object"===ro(s))return s.v}}if(t.schemes&&0<t.schemes.length)for(var c in a)if(c=a[c],!t.schemes.includes(c.scheme))return DWKitAdminLang.commandform.schemenotselectedmsg(c.scheme,c.name)}},{key:"validate",value:function(){var t=this,n=!0,r=this.state.editrow,o=DWKitAdminLang.msg.fieldrequired,e=!!r.name&&this.props.data[this.dataindex].some(function(e){return e.name.toLowerCase()===r.name.toLowerCase()&&e.id!==r.id});return r.__error={name:r.name?void 0:o,duplicateName:e,commandMappingErrors:[]},n&=!r.__error.name&&!e,r.map&&0<r.map.length?(r.__error.map=[],r.map.forEach(function(e){e={form:e.form?void 0:o,commands:t.validateMapping(r,e)},r.__error.map.push(e),n&=void 0===e.form,e.commands&&!r.__error.commandMappingErrors.includes(e.commands)&&r.__error.commandMappingErrors.push(e.commands)})):r.__error.mapRequired=!(n=!1),n}}]),o}();function so(e){return(so="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(e){return _typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof2(e)})(e)}function co(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function uo(e,t,n){return(uo="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){if(e=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=fo(e)););return e}(e,t))return(t=Object.getOwnPropertyDescriptor(e,t)).get?t.get.call(n):t.value})(e,t,n||e)}function po(e,t){return(po=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fo(e){return(fo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ho=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&po(e,t)}(o,_r);var n,r,t=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=fo(n),t=r?(t=fo(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==so(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function o(e){return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),(e=t.call(this,e)).state.openmodal=!1,e}return co(o.prototype,[{key:"back",value:function(){this.state.openmodal=!1,uo(fo(o.prototype),"back",this).call(this)}},{key:"render",value:function(){return this.state.editrowid!=this.props.id&&this.loadeditrow(),V.a.createElement("div",null,this.renderMainForm(),this.renderEditFormModal(),this.renderConfirmModals())}},{key:"renderConfirmModals",value:function(){return null}},{key:"renderEditFormModal",value:function(){return null!=this.props.id&&(this.state.openmodal=!0),V.a.createElement(w.Modal,{dimmer:"inverted",open:this.state.openmodal,onClose:this.onModalFormClose.bind(this)},V.a.createElement(w.Modal.Content,null,V.a.createElement(w.Modal.Description,null,this.renderEditForm())),V.a.createElement(w.Modal.Actions,null,V.a.createElement(w.Button,{className:"buttontype1",onClick:this.onModalFormSave.bind(this)},DWKitAdminLang.button.save),V.a.createElement(w.Button,{className:"buttontype2",onClick:this.onModalFormClose.bind(this)},DWKitAdminLang.button.close)))}},{key:"onModalFormSave",value:function(){var t;this.validate()?null!=(t=this).state.editrow.__state?(t.state.editrow.__type=this.datatype,this.ChangeData([t.state.editrow],function(e){t.ResetSystemProps(t.state.editrow),t.applyeditrow(),t.grid.refresh(),t.back()})):this.onModalFormClose():alertify.error(DWKitAdminLang.msg.checkerrorsonform)}},{key:"onModalFormClose",value:function(){this.back()}}]),o}();function mo(e){return(mo="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(e){return _typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof2(e)})(e)}function yo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function go(e,t){return(go=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function bo(e){return(bo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var vo=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&go(e,t)}(o,b.a);var n,r,t=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=bo(n),t=r?(t=bo(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==mo(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function o(e){return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),(e=t.call(this,e)).state={},e}return yo(o.prototype,[{key:"validate",value:function(){return this.props.parent.validate()}},{key:"removeExternalLogin",value:function(t){var e=this.props.data;e.externalLogins=e.externalLogins.filter(function(e){return e.name!==t.name&&e.externalId!==t.externalId}),this.setUpdatedState(e),this.forceUpdate()}},{key:"renderExternalLogin",value:function(t){var e=(e=this.props.parent.props.data.additionalParams.ExternalLoginProviders.filter(function(e){return e.name===t.name})).length?e[0].displayName:t.name;return V.a.createElement(w.Label,null,e,V.a.createElement(w.Label.Detail,null,t.externalId),V.a.createElement(w.Icon,{name:"delete",onClick:this.removeExternalLogin.bind(this,t)}))}},{key:"render",value:function(){var t=this;this.validate();for(var e=[],n=0;n<this.props.metadata.groups.length;n++){var r=this.props.metadata.groups;e.push({text:r[n].name,value:r[n].id})}for(var o=[],a=0;a<this.props.metadata.roles.length;a++){var i=this.props.metadata.roles;o.push({text:i[a].name,value:i[a].id})}var l=this.props.data;return V.a.createElement(w.Form,null,V.a.createElement(w.Form.Group,{widths:"equal"},V.a.createElement("div",{className:"field"},V.a.createElement(w.Form.Input,{name:"name",label:DWKitAdminLang.field.name,error:Boolean(l.__error.name),value:l.name,onChange:this.handleChange.bind(this,l)}),V.a.createElement(w.Form.Input,{name:"email",label:DWKitAdminLang.user.emailfield,error:Boolean(l.__error.email),value:l.email,onChange:this.handleChange.bind(this,l)}),V.a.createElement(w.Form.Input,{name:"domainLogin",label:DWKitAdminLang.user.domainloginfield,error:Boolean(l.__error.domainLogin),value:l.domainLogin,onChange:this.handleChange.bind(this,l)}),V.a.createElement(w.Form.Input,{name:"localization",label:DWKitAdminLang.user.localizationfield,error:Boolean(l.__error.localization),value:l.localization,onChange:this.handleChange.bind(this,l)})),V.a.createElement("div",{className:"field"},V.a.createElement(w.Form.Input,{name:"login-new",label:DWKitAdminLang.user.loginfield,error:Boolean(l.__error.login),value:l.login,onChange:this.handleChange.bind(this,l)}),V.a.createElement(w.Form.Input,{type:"password",name:"password-new",placeholder:"*********",label:DWKitAdminLang.user.passwordfield,error:Boolean(l.__error.password),value:l.password,onChange:this.handleChange.bind(this,l)}),V.a.createElement(w.Form.Checkbox,{name:"isLocked",label:DWKitAdminLang.user.lockedfield,error:Boolean(l.__error.isLocked),checked:1==l.isLocked,onChange:this.handleChange.bind(this,l)}),V.a.createElement(w.Form.Checkbox,{name:"isRTL",label:DWKitAdminLang.user.rtlfield,error:Boolean(l.__error.isRTL),checked:l.isRTL,onChange:this.handleChange.bind(this,l)}))),V.a.createElement(w.Form.Group,{widths:"equal"},V.a.createElement(w.Form.Dropdown,{label:DWKitAdminLang.user.groupsfield,name:"groups",error:Boolean(l.__error.groups),multiple:!0,search:!0,selection:!0,options:e,value:null==l.groups?[]:l.groups,onChange:this.handleChange.bind(this,l)}),V.a.createElement(w.Form.Dropdown,{label:DWKitAdminLang.user.rolesfield,name:"roles",error:Boolean(l.__error.roles),multiple:!0,search:!0,selection:!0,options:o,value:null==l.roles?[]:l.roles,onChange:this.handleChange.bind(this,l)})),l.externalLogins&&0<l.externalLogins.length&&V.a.createElement(w.Form.Group,{widths:"equal"},V.a.createElement(w.Container,{fluid:!0},V.a.createElement(w.Header,{size:"medium"},DWKitAdminLang.user.externallogins),l.externalLogins.map(function(e){return t.renderExternalLogin(e)}))))}},{key:"handleChange",value:function(e,t,n){var r=n.name,o=n.value,n=n.checked;"login-new"===r?r="login":"password-new"===r&&(r="password"),e[r],e[r]=null==o?n:o,this.setUpdatedState(this.props.data),this.forceUpdate()}}]),o}();function Vo(e){return(Vo="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(e){return _typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof2(e)})(e)}function wo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Eo(e,t){return(Eo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ko(e){return(ko=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Co(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Oo=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Eo(e,t)}(a,ho);var n,r,o=(n=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=ko(n),t=r?(t=ko(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Vo(t)&&"function"!=typeof t?_o(e):t});function a(e){var t;return function(e){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this),Co(_o(t=o.call(this,e)),"showconfirmimport",function(){t.setState({confirmimportshow:!0})}),Co(_o(t),"hideconfirmdimport",function(){t.setState({confirmimportshow:!1})}),Co(_o(t),"confirmimport",function(){t.setState({confirmimportshow:!1});var e=new Array;e.push({name:"operation",value:"securityimport"}),$.ajax({url:t.props.apiUrl,data:e,async:!0,type:"post",success:function(e){e.success?(t.setState({importResult:e.result}),t.props.parent.load(function(){t.grid.refresh()}),alertify.success(DWKitAdminLang.user.importfinishedmsg)):alertify.error(e.message),Pace.stop()},error:function(e){Pace.stop();var t=0===e.status?"Not connect.\n Verify Network.":404==e.status?"Requested page not found. [404]":500==e.status?"Internal Server Error [500].":"parsererror"===exception?"Requested JSON parse failed.":"timeout"===exception?"Time out error.":"abort"===exception?"Ajax request aborted.":"Uncaught Error.\n"+e.responseText;alertify.error(t)}})}),Co(_o(t),"clearImportResult",function(){t.setState({importResult:null})}),t.dataindex="users",t.panelindex="users",t.idfield="id",t.editform=vo,t.datatype="users",t.title=DWKitAdminLang.user.title,t.titleGetter=function(e){return e.user.title},t}return wo(a.prototype,[{key:"gridColumns",value:function(){return[{key:"name",name:DWKitAdminLang.column.name,resizable:!0},{key:"email",name:DWKitAdminLang.user.emailfield,resizable:!0},{key:"login",name:DWKitAdminLang.user.loginfield,resizable:!0,sortable:!1},{key:"domainLogin",name:DWKitAdminLang.user.domainloginfield,resizable:!0,sortable:!1},{key:"isLocked",name:DWKitAdminLang.user.lockedfield,resizable:!0,type:"checkbox"},{key:"rolesStr",name:DWKitAdminLang.user.rolesfield,resizable:!0,sortable:!1},{key:"groupsStr",name:DWKitAdminLang.user.groupsfield,resizable:!0,sortable:!1},{key:"externalId",name:DWKitAdminLang.user.externalIdField,resizable:!0,sortable:!1}]}},{key:"renderToolbar",value:function(){var e=this,t=this;this.state.filter||(this.state.filter={});var n=this.props.data.additionalParams.IsAvailableADImport;return V.a.createElement("div",{className:"dwkitadmin-toolbar"},this.renderImportResult(),V.a.createElement("div",{className:"dwkitadmin-toolbarfilter"},V.a.createElement(w.Form,null,V.a.createElement(w.Form.Group,{widths:"equal"},V.a.createElement(w.Form.Input,{name:"filter",label:DWKitAdminLang.field.name,value:this.state.filter.filter,onChange:this.handleFilterChange.bind(this)}),V.a.createElement(w.Button,{className:"buttontype2",content:DWKitAdminLang.button.search,onClick:this.onSearch.bind(this)})))),V.a.createElement(w.Button,{className:"buttontype1",onClick:function(){e.props.parent.openpage(e.panelindex,"new")}},DWKitAdminLang.button.create),V.a.createElement(w.Button,{className:"buttontype2",onClick:function(){t.setState({confirmdeleteshow:!0})}},DWKitAdminLang.button.delete),n&&V.a.createElement(w.Button,{onClick:this.showconfirmimport},DWKitAdminLang.button.importFromAd),V.a.createElement("span",null,DWKitAdminLang.msg.totalcount," ",t.state.rowsCount))}},{key:"renderConfirmModals",value:function(){return V.a.createElement(w.Confirm,{open:this.state.confirmimportshow,dimmer:"blurring",content:DWKitAdminLang.user.confirmimport,onCancel:this.hideconfirmdimport,onConfirm:this.confirmimport})}},{key:"renderImportResult",value:function(){if(!this.state.importResult)return null;function e(e){return isNaN(e)?e:V.a.createElement("b",null,e)}var t=this.state.importResult.GroupResult,n=this.state.importResult.UserResult;return V.a.createElement(w.Message,{onDismiss:this.clearImportResult},V.a.createElement(w.Message.Header,null,DWKitAdminLang.user.adimportresultheader),V.a.createElement(w.Message.List,null,t&&V.a.createElement(w.Message.Item,null,DWKitAdminLang.user.groupimportresultmsg(t.returned,t.added,t.deleted).map(e)),t&&0<t.duplicateNames.length&&V.a.createElement(w.Message.Item,null,DWKitAdminLang.user.groupswithduplicatenamesmsg,t.duplicateNames.map(function(e,t){return[0<t&&", ",V.a.createElement("b",null,e)]})),n&&V.a.createElement(w.Message.Item,null,DWKitAdminLang.user.userimportresultmsg(n.returned,n.added,n.updated,n.locked).map(e)),n&&0<n.duplicateCredentials.length&&V.a.createElement(w.Message.Item,null,DWKitAdminLang.user.userswithduplicateloginmsg,n.duplicateCredentials.map(function(e,t){return[0<t&&", ",V.a.createElement("b",null,e)]}))))}},{key:"handleFilterChange",value:function(e,t){var n=t.name,t=t.value;this.state.filter[n]=t,this.forceUpdate()}},{key:"onSearch",value:function(){this.grid.refresh()}},{key:"validate",value:function(){var e=!0,t=this.state.editrow,n=DWKitAdminLang.msg.fieldrequired;return t.__error={name:t.name?void 0:n},e&void 0===t.__error.name}},{key:"applyeditrow",value:function(){for(var e=this.state.editrow[this.idfield],t=-1,n=this.props.data[this.dataindex],r=0;r<n.length;r++)if(e===n[r][this.idfield]){t=r;break}this.state.editrow.password=void 0,0<=t?this.props.data[this.dataindex][t]=this.state.editrow:this.props.data[this.dataindex].unshift(this.state.editrow)}},{key:"getAdditionalDataForControl",value:function(e,t,n){var r=t.startIndex,o=t.pageSize,a=(t.filters,t.sort),i=this;(t=new Array).push({name:"operation",value:"users"}),t.push({name:"suboperation",value:"loadlist"}),t.push({name:"skip",value:r}),t.push({name:"take",value:o}),t.push({name:"sort",value:a}),null!=i.state.filter.filter&&""!=i.state.filter.filter&&t.push({name:"filter",value:i.state.filter.filter}),$.ajax({url:i.props.apiUrl,data:t,async:!0,type:"post",success:function(e){e.success?(n({sIndex:r,pSize:o,rowsCount:e.item.count,items:e.item.users}),i.setState({rowsCount:e.item.count})):alertify.error(e.message)}})}},{key:"getEditRow",value:function(){var e=this.props.id;if("new"===e){var t=this.createNewObject(),n=this.props.data.settings.find(function(e){return"RTL"==e.name});return n&&n.value&&(t.isRTL=!0),t}if((t=new Array).push({name:"operation",value:"users"}),t.push({name:"suboperation",value:"load"}),t.push({name:"id",value:e}),(t=$.ajax({url:this.props.apiUrl,data:t,async:!1,type:"post"}).responseJSON).success)return null==t.item?(alertify.error(DWKitAdminLang.msg.objectnotfound),this.back(),{}):t.item;alert(t.message)}},{key:"recalcSizeParams",value:function(){var e;this._isMounted&&(e=$(window).height(),this.setState({gridHeight:e-280-this.props.deltaHeight}))}}]),a}();function So(e){return(So="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(e){return _typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof2(e)})(e)}function Ao(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xo(e,t){return(xo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Po(e){return(Po=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Do=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xo(e,t)}(o,V.a.Component);var n,r,t=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Po(n),t=r?(t=Po(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==So(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function o(e){return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),t.call(this,e)}return Ao(o.prototype,[{key:"handleChange",value:function(e,t,n){n.name;for(var r=n.value,o=(n.checked,this.props.value),a=!1,i=0;i<o.length;i++)if(o[i].id==e){o[i].accessType=r,a=!0;break}a||this.props.value.push({id:e,accessType:r}),this.props.parent.setUpdatedState(this.props.parent.props.data),this.forceUpdate()}},{key:"setAccessType",value:function(e,t){if(e&&e.children){for(var n=this.props.value,r=0;r<e.children.length;r++){for(var o=!1,a=0;a<n.length;a++)n[a].id==e.children[r].id&&(n[a].accessType=t,o=!0);o||n.push({id:e.children[r].id,accessType:t})}this.props.parent.setUpdatedState(this.props.parent.props.data),this.forceUpdate()}}},{key:"render",value:function(){for(var e=[],t=this.props.items,n=0;n<t.length;n++){var r=(a=t[n]).name;a.code!==a.name&&(r+=" ("+a.code+")");var o="rolegroup_"+a.id,a=V.a.createElement(w.Form.Group,{key:o,widths:"16",className:"dwkit-formadmin-item"},V.a.createElement("div",{className:"field"},V.a.createElement(w.Form.Input,{key:"groupName",value:r,readOnly:!0}),V.a.createElement("div",null,V.a.createElement("a",{onClick:this.setAccessType.bind(this,a,0)},DWKitAdminLang.role.resetbutton),"  ",V.a.createElement("a",{onClick:this.setAccessType.bind(this,a,1)},DWKitAdminLang.role.allowbutton),"  ",V.a.createElement("a",{onClick:this.setAccessType.bind(this,a,2)},DWKitAdminLang.role.denybutton))),V.a.createElement("div",null,this.renderChildren(a,this.props.value)));e.push(a)}return V.a.createElement("div",null,e)}},{key:"renderChildren",value:function(e,t){for(var n=[],r=0;r<e.children.length;r++){var o=(l=e.children[r]).name;l.Code!=l.name&&(o+=" ("+l.code+")");var a="roleperm_"+l.id,i=this.getAccessType(l.id,t),l=V.a.createElement("div",{key:a+"_div"},V.a.createElement(w.Form.Group,{key:"group",className:"dwkit-formadmin-rolepersmissionsgroup"},V.a.createElement("div",{key:"c1",className:"field"},V.a.createElement("label",{key:"divlabel"},o),V.a.createElement(w.Form.Group,{key:"divgroup",widths:"equal"},V.a.createElement(w.Form.Radio,{key:"type0",name:a+"_type",label:DWKitAdminLang.role.inheritedtype,value:0,checked:0==i,onChange:this.handleChange.bind(this,l.id)}),V.a.createElement(w.Form.Radio,{key:"type1",name:a+"_type",label:DWKitAdminLang.role.allowtype,value:1,checked:1==i,onChange:this.handleChange.bind(this,l.id)}),V.a.createElement(w.Form.Radio,{key:"type2",name:a+"_type",label:DWKitAdminLang.role.denytype,value:2,checked:2==i,onChange:this.handleChange.bind(this,l.id)})))));n.push(l)}return n}},{key:"getAccessType",value:function(e,t){var n=0;if(null==t)return n;for(var r=0;r<t.length;r++)if(t[r].id==e){n=t[r].accessType;break}return n}}]),o}();function Lo(e){return(Lo="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(e){return _typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof2(e)})(e)}function jo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ro(e,t){return(Ro=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Fo(e){return(Fo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var To=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ro(e,t)}(o,b.a);var n,r,t=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Fo(n),t=r?(t=Fo(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Lo(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function o(e){return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),(e=t.call(this,e)).state={},e}return jo(o.prototype,[{key:"validate",value:function(){return this.props.parent.validate()}},{key:"render",value:function(){this.validate();var e=this.props.data;null==e.permissions&&(e.permissions=[]);var t=this.props.onSave.bind(this.props.parent),n=this.props.onCancel.bind(this.props.parent);return V.a.createElement("div",{className:"dwkit-formadmin-formedit"},V.a.createElement(w.Breadcrumb,null,V.a.createElement(w.Breadcrumb.Section,{onClick:this.props.parent.back.bind(this.props.parent),link:!0},DWKitAdminLang.role.title),V.a.createElement(w.Breadcrumb.Divider,null),V.a.createElement(w.Breadcrumb.Section,{active:!0},this.props.data.name)),V.a.createElement("div",{className:"dwkitadmin-toolbar-editform"},V.a.createElement(w.Button,{className:"buttontype1",onClick:t},DWKitAdminLang.button.save),V.a.createElement(w.Button,{className:"buttontype2",onClick:n},DWKitAdminLang.button.cancel)),V.a.createElement("h1",null,this.props.parent.title),V.a.createElement(w.Form,null,V.a.createElement(w.Form.Input,{name:"code",label:DWKitAdminLang.field.code,error:Boolean(e.__error.code),value:e.code,onChange:this.handleChange.bind(this,e)}),V.a.createElement(w.Form.Input,{name:"name",label:DWKitAdminLang.field.name,error:Boolean(e.__error.name),value:e.name,onChange:this.handleChange.bind(this,e)}),V.a.createElement("h1",null,"Permissions"),V.a.createElement(Do,{items:this.props.metadata.permissions,value:e.permissions,parent:this})))}},{key:"handleChange",value:function(e,t,n){var r=n.name,o=n.value,a=n.checked,n=e[r];e[r]=null==o?a:o,"code"==r&&(n!=e.name&&null!=e.name||(e.name=e.code)),this.setUpdatedState(this.props.data),this.forceUpdate()}}]),o}();function No(e){return(No="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(e){return _typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof2(e)})(e)}function Mo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Io(e,t){return(Io=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Bo(e){return(Bo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Wo=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Io(e,t)}(o,K.a);var n,r,t=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Bo(n),t=r?(t=Bo(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==No(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function o(e){return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),(e=t.call(this,e)).dataindex="roles",e.panelindex="roles",e.defaultNamePrefix="role",e.idfield="id",e.editform=To,e.title=DWKitAdminLang.role.title,e.titleGetter=function(e){return e.role.title},e.datatype="roles",e}return Mo(o.prototype,[{key:"gridColumns",value:function(){return[{key:"code",name:DWKitAdminLang.column.code,resizable:!0},{key:"name",name:DWKitAdminLang.column.name,resizable:!0}]}},{key:"validate",value:function(){var e=!0,t=this.state.editrow,n=DWKitAdminLang.msg.fieldrequired;return t.__error={name:null==t.name||""==t.name?n:void 0,code:null==t.code||""==t.code?n:void 0},e&(null==t.__error.name&&null==t.__error.code)}}]),o}();function Uo(e){return(Uo="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(e){return _typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof2(e)})(e)}function Ko(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zo(e,t,n){return(zo="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){if(e=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=qo(e)););return e}(e,t))return(t=Object.getOwnPropertyDescriptor(e,t)).get?t.get.call(n):t.value})(e,t,n||e)}function Go(e,t){return(Go=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function qo(e){return(qo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ho=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Go(e,t)}(o,K.a);var n,r,t=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=qo(n),t=r?(t=qo(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Uo(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function o(e){return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),(e=t.call(this,e)).state.openmodal=!1,e}return Ko(o.prototype,[{key:"back",value:function(){this.state.openmodal=!1,zo(qo(o.prototype),"back",this).call(this)}},{key:"render",value:function(){return this.state.editrowid!=this.props.id&&this.loadeditrow(),V.a.createElement("div",null,this.renderMainForm(),this.renderEditFormModal())}},{key:"renderEditFormModal",value:function(){return null!=this.props.id&&(this.state.openmodal=!0),V.a.createElement(w.Modal,{dimmer:"inverted",open:this.state.openmodal,onClose:this.onModalFormClose.bind(this)},V.a.createElement(w.Modal.Content,null,V.a.createElement(w.Modal.Description,null,this.renderEditForm())),V.a.createElement(w.Modal.Actions,null,V.a.createElement(w.Button,{className:"buttontype1",onClick:this.onModalFormSave.bind(this)},DWKitAdminLang.button.save),V.a.createElement(w.Button,{className:"buttontype2",onClick:this.onModalFormClose.bind(this)},DWKitAdminLang.button.close)))}},{key:"onModalFormSave",value:function(){var t;this.validate()?null!=(t=this).state.editrow.__state?(t.state.editrow.__type=this.datatype,this.ChangeData([t.state.editrow],function(e){t.ResetSystemProps(t.state.editrow),t.applyeditrow(),t.grid.refresh(),t.back()})):this.onModalFormClose():alertify.error(DWKitAdminLang.msg.checkerrorsonform)}},{key:"onModalFormClose",value:function(){this.back()}}]),o}();function Yo(e){return(Yo="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(e){return _typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof2(e)})(e)}function Jo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qo(e,t){return(Qo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $o(e){return($o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Xo=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qo(e,t)}(o,b.a);var n,r,t=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=$o(n),t=r?(t=$o(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Yo(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function o(e){return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),(e=t.call(this,e)).state={},e}return Jo(o.prototype,[{key:"validate",value:function(){return this.props.parent.validate()}},{key:"render",value:function(){this.validate();for(var e=[],t=0;t<this.props.metadata.roles.length;t++){var n=this.props.metadata.roles;e.push({text:n[t].name,value:n[t].id})}var r=null==this.props.data?[]:this.props.data;return V.a.createElement(w.Form,null,V.a.createElement(w.Form.Input,{name:"name",label:DWKitAdminLang.field.name,error:Boolean(r.__error.name),value:r.name,onChange:this.handleChange.bind(this,r)}),V.a.createElement(w.Form.Dropdown,{label:DWKitAdminLang.group.rolesfield,name:"roles",error:Boolean(r.__error.roles),multiple:!0,search:!0,selection:!0,options:e,value:null==r.roles?[]:r.roles,onChange:this.handleChange.bind(this,r)}),V.a.createElement(w.Form.Checkbox,{name:"isSyncWithDomainGroup",label:DWKitAdminLang.group.syncwithdomainfield,checked:r.isSyncWithDomainGroup,onChange:this.handleChange.bind(this,r)}))}},{key:"handleChange",value:function(e,t,n){var r=n.name,o=n.value,n=n.checked;e[r]=null==o?n:o,this.setUpdatedState(this.props.data),this.forceUpdate()}}]),o}();function Zo(e){return(Zo="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(e){return _typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof2(e)})(e)}function ea(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ta(e,t){return(ta=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function na(e){return(na=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ra=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ta(e,t)}(o,Ho);var n,r,t=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=na(n),t=r?(t=na(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Zo(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function o(e){return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),(e=t.call(this,e)).dataindex="groups",e.panelindex="groups",e.idfield="id",e.editform=Xo,e.datatype="groups",e.title=DWKitAdminLang.group.title,e.titleGetter=function(e){return e.group.title},e}return ea(o.prototype,[{key:"gridColumns",value:function(){return[{key:"name",name:DWKitAdminLang.column.name,resizable:!0},{key:"isSyncWithDomainGroup",name:DWKitAdminLang.group.syncwithdomainfield,type:"checkbox",resizable:!0}]}},{key:"validate",value:function(){var e=!0,t=this.state.editrow,n=DWKitAdminLang.msg.fieldrequired;return t.__error={name:null==t.name||""==t.name?n:void 0},e&null==t.__error.name}}]),o}();function oa(e){return(oa="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(e){return _typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof2(e)})(e)}function aa(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function ia(r){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?aa(Object(o),!0).forEach(function(e){var t,n=r;e=o[t=e],t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):aa(Object(o)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))})}return r}function la(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sa(e,t){return(sa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ca(e){return(ca=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ua=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&sa(e,t)}(a,b.a);var n,r,o=(n=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=ca(n),t=r?(t=ca(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==oa(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function a(e){var t;return function(e){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this),(t=o.call(this,e)).datatype="permissions",t.state={},t.initData(e.data.permissions),t}return la(a.prototype,[{key:"initData",value:function(e){function t(e,t){return e.name>t.name?1:e.name<t.name?-1:0}(e=this.СloneObj(e)).forEach(function(e){null!=e.children&&(e.children=e.children.sort(t))}),e=e.sort(t),this.state.data=e}},{key:"render",value:function(){this.validate();for(var e=[],t=this.state.data,n=0;n<t.length;n++){var r=t[n];"deleted"!=r.__state&&(r=V.a.createElement("div",{key:"g_"+t[n].id,className:"dwkit-formadmin-item"},V.a.createElement(w.Form,{key:"form"},V.a.createElement(w.Form.Group,{key:"group"},V.a.createElement("div",{key:"div",className:"field",widths:"6"},V.a.createElement(w.Form.Input,{key:"code",name:"code",label:DWKitAdminLang.field.code,error:Boolean(r.__error.code),value:r.code,onChange:this.handleChange.bind(this,r)}),V.a.createElement(w.Form.Input,{key:"name",name:"name",label:DWKitAdminLang.field.name,error:Boolean(r.__error.name),value:r.name,onChange:this.handleChange.bind(this,r)}),V.a.createElement("div",{key:"buttons",style:{marginTop:"10px"}},V.a.createElement("a",{key:"btndelete",onClick:this.onDeleteGroup.bind(this,t[n].id)},DWKitAdminLang.permission.deletegroupbutton),"  ",V.a.createElement("a",{key:"btncreatepermission",onClick:this.onCreatePermission.bind(this,t[n].id)},DWKitAdminLang.permission.createpermissionbutton))),V.a.createElement("div",{key:"children",className:"field",widths:"10"},this.renderChildren(t[n]))))),e.push(r))}return V.a.createElement("div",null,V.a.createElement("h1",null,DWKitAdminLang.permission.managepermissionsfield),V.a.createElement("div",{className:"dwkitadmin-toolbar"},V.a.createElement(w.Button,{className:"buttontype1",onClick:this.onCreateGroup.bind(this)},DWKitAdminLang.permission.creategroupbutton),this.state.ischanged&&V.a.createElement(w.Button,{className:"buttontype1",onClick:this.onSave.bind(this)},DWKitAdminLang.button.save),this.state.ischanged&&V.a.createElement(w.Button,{className:"buttontype2",onClick:this.onCancel.bind(this)},DWKitAdminLang.button.cancel)),e)}},{key:"renderChildren",value:function(e){if(null!=e.children&&0!=e.children.length){for(var t=[],n=0;n<e.children.length;n++){var r=e.children[n],r=V.a.createElement(w.Form.Group,{key:"group_"+r.id,widths:"equal"},V.a.createElement(w.Form.Input,{key:"code",name:"code",label:DWKitAdminLang.field.code,error:Boolean(r.__error.code),value:r.code,onChange:this.handleChange.bind(this,r)}),V.a.createElement(w.Form.Input,{key:"name",name:"name",label:DWKitAdminLang.field.name,error:Boolean(r.__error.name),value:r.name,onChange:this.handleChange.bind(this,r)}),V.a.createElement(w.Image,{className:"dwkit-buttonimage",key:"btndelete",src:"/images/dwkit-delete.png",onClick:this.onDeletePermission.bind(this,e,r.id)}));t.push(r)}return t}}},{key:"handleChange",value:function(e,t,n){var r=n.name,o=n.value,n=(n.checked,e[r]);e[r]=o,"code"==r&&(n!=e.name&&null!=e.name||(e.name=e.code)),this.setUpdatedState(e),this.state.ischanged=!0,this.forceUpdate()}},{key:"validate",value:function(){var n=!0;return this.state.data.forEach(function(e){var t=DWKitAdminLang.msg.fieldrequired;e.__error={code:null==e.code||""==e.code?t:void 0,name:null==e.name||""==e.name?t:void 0},n&=null==e.__error.code&&null==e.__error.name,null!=e.children&&e.children.forEach(function(e){e.__error={code:null==e.code||""==e.code?t:void 0,name:null==e.name||""==e.name?t:void 0},n&=null==e.__error.code&&null==e.__error.name})}),n}},{key:"onSave",value:function(){var n,r=this;this.validate()?(n=[],this.state.data.forEach(function(e){var t;null!=e.__state?n.push(ia(ia({},e),{},{isGroup:!0,__type:r.datatype})):null!=e.children&&(t=!1,e.children.forEach(function(e){null!=e.__state&&(t=!0)}),t&&n.push(ia(ia({},e),{},{isGroup:!0,__state:"updated",__type:r.datatype})))}),this.ChangeData(n,function(e){r.ResetSystemProps(r.state.data),r.props.data.permissions=r.state.data,r.props.data.roles.forEach(function(e){e.permissions=e.permissions.filter(function(t){return r.props.data.permissions.some(function(e){return e.children.some(function(e){return e.id===t.id})})})}),r.onCancel()})):alertify.error(DWKitAdminLang.msg.checkerrorsonform)}},{key:"onCancel",value:function(){this.initData(this.props.data.permissions),this.state.ischanged=!1,this.forceUpdate()}},{key:"onCreateGroup",value:function(){this.state.data.unshift({id:this.NewGUID(),__state:"inserted"}),this.state.ischanged=!0,this.forceUpdate()}},{key:"onDeleteGroup",value:function(e){for(var t=this.state.data,n=void 0,r=0;r<t.length;r++)if(t[r].id==e){n=r;break}null!=n&&("inserted"==t[r].__state?t.splice(n,1):t[r].__state="deleted"),this.state.ischanged=!0,this.forceUpdate()}},{key:"onCreatePermission",value:function(e){for(var t=this.state.data,n=0;n<t.length;n++)if(t[n].id==e){null==t[n].children&&(t[n].children=[]),t[n].children.unshift({id:this.NewGUID(),__state:"inserted"});break}this.state.ischanged=!0,this.forceUpdate()}},{key:"onDeletePermission",value:function(e,t){this.state.data;for(var n=void 0,r=0;r<e.children.length;r++)if(e.children[r].id==t){n=r;break}null!=n&&(e.children.splice(n,1),void 0!==e.__state&&null!==e.__state||(e.__state="updated")),this.state.ischanged=!0,this.forceUpdate()}}]),a}();function pa(e){return(pa="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(e){return _typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof2(e)})(e)}function fa(){return(fa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function da(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ha(e,t){return(ha=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ma(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ya(e){return(ya=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ga=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ha(e,t)}(a,b.a);var n,r,o=(n=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=ya(n),t=r?(t=ya(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==pa(t)&&"function"!=typeof t?ma(e):t});function a(e){!function(e){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this);var t,e=(t=o.call(this,e)).getQueryString();t.state={apanel:null==e.apanel?"dashboard":e.apanel,aid:e.aid,isloadig:!0,bearerHeader:null};var n=ma(t);return window.onpopstate=function(e){var t=n.getQueryString();n.setState({apanel:null==t.apanel?"dashboard":t.apanel,aid:t.aid})},null==window.DWKitAdminLang&&(window.DWKitAdminLang=E),"cookies"!==t.props.authType?t.configureAuthAndLoad():t.load(),t.props.autocompleteHub&&t.setAutocompleteUpdate(),t}return da(a.prototype,[{key:"setAutocompleteUpdate",value:function(){WorkflowDesignerWindows.Autocompleter.initSignalRCore({url:this.props.autocompleteHub,connectionBuilder:new D.HubConnectionBuilder})}},{key:"configureAuthAndLoad",value:function(){var t=this,e=this.props.authServerHost||"".concat(window.location.protocol,"//").concat(window.location.host),e={client_id:"spa",redirect_uri:"".concat(window.location.protocol,"//").concat(window.location.host),response_type:"token id_token",scope:"openid profile IdentityServerApi",authority:e,silent_redirect_uri:"".concat(window.location.protocol,"//").concat(window.location.host,"/silentRenew.html"),automaticSilentRenew:!0,filterProtocolClaims:!0,loadUserInfo:!0,monitorSession:!0};if(this.userManager=new P.UserManager(e),this.userManager.events.addUserLoaded(function(){t.userManager.getUser().then(function(e){e&&!e.expired&&t.configureHeaders(e)})}),this.userManager.events.addUserSignedOut(function(){t.userManager.removeUser().then(function(){t.userManager.signinRedirect()})}),window.location.hash&&-1<window.location.hash.substring(1,window.location.hash.length-1).split("=").indexOf("id_token"))return this.getUserCallback(this.userManager.signinRedirectCallback()),void history.pushState(void 0,void 0,window.location.pathname);this.getUserCallback(this.userManager.getUser())}},{key:"getUserCallback",value:function(e){var t=this;e.then(function(e){return e&&!e.expired?(t.configureHeaders(e),Promise.resolve()):t.userManager.signinSilent()}).catch(function(){t.userManager.signinRedirect()}).then(function(){t.load()})}},{key:"configureHeaders",value:function(e){var t="Bearer "+e.access_token;$.ajaxSetup({beforeSend:function(e){e.setRequestHeader("Authorization",t)}}),this.bearerHeader=t}},{key:"load",value:function(n){var r=this,e=new Array;e.push({name:"operation",value:"load"}),$.ajax({url:r.props.apiUrl,data:e,async:!0,success:function(e){var t;e.success?r.setState({isloadig:!1,data:r.CorrectData(e.item)},n):(null==(t=e.message)&&(t=DWKitAdminLang.requesterror.configapi+": "+r.props.apiUrl+"!","string"==typeof e&&(console.error(DWKitAdminLang.requesterror.configapi+":",e),t+=" "+DWKitAdminLang.msg.lookdevconsole)),r.setState({progresserror:!0,progressmsg:t}))},error:function(e,t){r.processLoadError(e,t)}})}},{key:"processLoadError",value:function(e,t){t=this.getProcessLoadError(e,t),this.setState({progresserror:!0,progressmsg:t})}},{key:"CorrectData",value:function(e){return null==e.modules&&(e.modules=[]),null==e.dataModel&&(e.dataModel=[]),null==e.localization&&(e.localization=[]),null==e.mobileForms&&(e.mobileForms=[]),e}},{key:"handleErrEvent",value:function(e){this.props.eventerrfunc&&this.props.eventerrfunc(this,e)}},{key:"handleMenuItemClick",value:function(e,t){t=t.name,this.openpage(t,void 0)}},{key:"openpage",value:function(e,t,n,r){var o=window.location.href,o=this.updateQueryStringParameter(o,"apanel",e);o=this.updateQueryStringParameter(o,"aid",t),o=(o=(o=this.updateQueryStringParameter(o,"mode",r))&&"&"==o[o.length-1]?o.substring(0,o.length-1):o).replace("&&","&"),history.pushState(void 0,void 0,o),this.setState({apanel:e,aid:t,copyid:n,mode:r})}},{key:"render",value:function(){if(this.state.isloadig)return this.RenderLoading();var e=this.state.apanel,t={id:(t=this.getQueryString()).aid,copyid:this.state.copyid,data:this.state.data,mode:t.mode,apiUrl:this.props.apiUrl,deltaWidth:this.props.deltaWidth,deltaHeight:this.props.deltaHeight,controlActions:this.props.controlActions,controlMobileActions:this.props.controlMobileActions,parent:this},n="dashboard"===e?V.a.createElement(L.a,fa({},t,{themesFolder:this.props.themesFolder})):"resources"===e?V.a.createElement(U,t):"datamodel"===e?V.a.createElement(Le,t):"datasync"===e?V.a.createElement(Ue,t):"datasources"===e?V.a.createElement(Je,t):"codeactions"===e?V.a.createElement(dt,fa({},t,{autocomplete:!!this.props.autocompleteHub})):"workflow"===e?V.a.createElement(br,fa({},t,{workflowApi:this.props.workflowApi})):"businessflow"===e?V.a.createElement(Qr,fa({},t,{workflowApi:this.props.workflowApi})):"commandform"===e?V.a.createElement(lo,fa({},t,{workflowApi:this.props.workflowApi})):"forms"===e?V.a.createElement(mt.a,fa({},t,{externalControlList:this.props.externalControlList,externalControlRender:this.props.externalControlRender,externalControlsOnly:this.props.externalControlsOnly})):"mobileforms"===e?V.a.createElement(sr,fa({},t,{externalControlList:this.props.externalControlList,externalControlRender:this.props.externalControlRender,externalControlsOnly:this.props.externalControlsOnly})):"formdata"===e?V.a.createElement(_n,t):"actionhandlers"===e?V.a.createElement(Nn,t):"localization"===e?V.a.createElement(Hn,t):"users"===e?V.a.createElement(Oo,t):"groups"===e?V.a.createElement(ra,t):"roles"===e?V.a.createElement(Wo,t):"permissions"===e?V.a.createElement(ua,t):"modules"===e?V.a.createElement(ee,t):"workflowinstances"===e?V.a.createElement(Mr,fa({},t,{workflowApi:this.props.workflowApi})):V.a.createElement("div",null,"The unknown part of DWKIT. Please, send the isssue to us via ",V.a.createElement("a",{href:"https://dwkit.com/contacts/"},"dwkit.com contact form"),".");return null==(t=null==(t=this.getRefreshMessage())?this.getFormMappingMessage():t)&&(t=this.getCodeActionsMessage()),V.a.createElement("div",{className:"dwkit-formadmin-container"},V.a.createElement("div",{className:"dwkit-formadmin-header"},V.a.createElement("div",{className:"dwkit-formadmin-header-left"},V.a.createElement("img",{className:"dwkit-formadmin-header-logo",onClick:this.onApp.bind(this),src:"/images/logo.svg"})),V.a.createElement("div",{className:"dwkit-formadmin-header-center"},t,null==t&&V.a.createElement(g,{data:this.state.data,parent:this})),V.a.createElement("div",{className:"dwkit-formadmin-header-right"},V.a.createElement(w.Button,{name:"btnApp",className:"buttontype2",onClick:this.onApp.bind(this)},DWKitAdminLang.common.toolbarappbutton),V.a.createElement(x,{folder:this.props.localizationFolder,locale:this.props.locale,parent:this}))),V.a.createElement("div",{className:"dwkit-formadmin"},V.a.createElement("div",{className:"dwkit-formadmin-menu"},V.a.createElement(p,{parent:this,activeItem:e})),V.a.createElement("div",{className:"dwkit-formadmin-basecontent"},V.a.createElement("div",{className:"dwkit-formadmin-top"}),V.a.createElement("div",{className:"dwkit-formadmin-content"},n))))}},{key:"onApp",value:function(){null!=this.props.returnToAppUrl&&(window.location=this.props.returnToAppUrl)}},{key:"getCodeActionsMessage",value:function(){var e=void 0!==this.state.data.additionalParams&&void 0!==this.state.data.additionalParams.CodeActionErrors&&null!==this.state.data.additionalParams.CodeActionErrors&&0!==Object.getOwnPropertyNames(this.state.data.additionalParams.CodeActionErrors).length;if(!this.state.errorCodeActionsMessageHidden&&e){var t=this;return V.a.createElement("div",{style:{maxHeight:"45px",overflow:"hidden"}},V.a.createElement("div",{style:{float:"left",marginRight:"20px",color:"red"}},V.a.createElement("b",null,DWKitAdminLang.msg.serverglobalerror),V.a.createElement("br",null),V.a.createElement("span",null,DWKitAdminLang.msg.globalcodeactionshaveerrors)),V.a.createElement("div",null,V.a.createElement("button",{onClick:function(){t.state.errorCodeActionsMessageHidden=!0,t.forceUpdate()},className:"ui button secondary"},DWKitAdminLang.button.close)))}}},{key:"getFormMappingMessage",value:function(){var e=void 0!==this.state.data.additionalParams&&void 0!==this.state.data.additionalParams.FormMappingErrors&&null!==this.state.data.additionalParams.FormMappingErrors&&0<this.state.data.additionalParams.FormMappingErrors.length;if(!this.state.errorFormMappingMessageHidden&&e){var t=this,e=this.state.data.additionalParams.FormMappingErrors;return V.a.createElement("div",{style:{maxHeight:"45px",overflow:"hidden"}},V.a.createElement("div",{style:{float:"left",marginRight:"20px",color:"orange"}},V.a.createElement("b",null,DWKitAdminLang.msg.formmappingerror),V.a.createElement("br",null),V.a.createElement("span",null,e.join(", "))),V.a.createElement("div",null,V.a.createElement("a",{href:"?apanel=formdata",onClick:this.openFormMapping.bind(this),className:"ui button primary"},DWKitAdminLang.sidemenu.formdata),V.a.createElement("button",{onClick:function(){t.state.errorFormMappingMessageHidden=!0,t.forceUpdate()},className:"ui button secondary"},DWKitAdminLang.button.close)))}}},{key:"getRefreshMessage",value:function(){var e=this;if(this.state.showRefreshMessage)return V.a.createElement("div",{style:{maxHeight:"45px",overflow:"hidden"}},V.a.createElement("div",{style:{float:"left",marginRight:"20px",color:"orange"}},V.a.createElement("b",null,"Your configuration changed. Need to refresh page to apply these changes"),V.a.createElement("br",null)),V.a.createElement("div",null,V.a.createElement("button",{onClick:function(){e.setState({showRefreshMessage:!1}),window.location.reload(!1)},className:"ui button primary"},DWKitAdminLang.button.refresh)))}},{key:"openFormMapping",value:function(e){document.location.hash="",this.openpage("formdata",void 0),e.preventDefault()}}]),a}()},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var t=n(0),l=n.n(t),s=(n(4),n(1)),t=n(3),a=n.n(t),i=n(7),c=n(5),t=n(10),u=n.n(t);function p(e){return(p="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(e){return _typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof2(e)})(e)}function f(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function d(r){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?f(Object(o),!0).forEach(function(e){var t,n=r;e=o[t=e],t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):f(Object(o)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))})}return r}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var g=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(o,l.a.Component);var n,r,t=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=y(n),t=r?(t=y(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==p(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function o(e){return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),(e=t.call(this,e)).state={adaptiveViewType:"desktop",data:e.getObjToStorage("data"),errors:e.getObjToStorage("errors"),eventslog:""},e}return h(o.prototype,[{key:"setData",value:function(e){this.setState({data:a.a.stringify(e,null,4)})}},{key:"setModel",value:function(e){this.setState({model:e})}},{key:"render",value:function(){var e=this,t=[],n=void 0;try{t=a.a.parse(this.state.data),null==this.state.errors&&""!=this.state.errors||(n=a.a.parse(this.state.errors))}catch(e){}return l.a.createElement(u.a,{style:{display:"flex"},sizes:[75,25],onDrag:function(){return e.forceUpdate()}},l.a.createElement(s.Segment,{style:{overflow:"auto"}},l.a.createElement(c.DWKitForm,{model:this.props.model,data:t,errors:n,eventFunc:this.eventFunc.bind(this),dataChanged:this.formDataChaged.bind(this),getFormFunc:this.props.getFormFunc,getAdditionalDataForControl:this.props.getAdditionalDataForControl,externalControlList:this.props.externalControlList,externalControlRender:this.props.externalControlRender,adaptiveViewType:this.state.adaptiveViewType})),l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement(s.Checkbox,{style:{marginRight:"10px"},radio:!0,name:"adaptiveViewTypeDesktop",label:"Desktop",checked:"desktop"==this.state.adaptiveViewType,onChange:function(){e.setState({adaptiveViewType:"desktop"})}}),l.a.createElement(s.Checkbox,{radio:!0,name:"adaptiveViewTypeMobile",label:"Mobile",checked:"mobile"==this.state.adaptiveViewType,onChange:function(){e.setState({adaptiveViewType:"mobile"})}})),l.a.createElement("h3",null,"Data"),l.a.createElement(s.TextArea,{rows:12,wrap:"off",style:{width:"100%"},onChange:this.handleChange.bind(this),value:this.state.data}),l.a.createElement("h3",null,"Errors"),l.a.createElement(s.TextArea,{rows:4,wrap:"off",style:{width:"100%"},onChange:this.handleChangeErrors.bind(this),value:this.state.errors}),l.a.createElement("h3",null,"Events"),l.a.createElement(s.TextArea,{rows:12,wrap:"off",style:{width:"100%"},readOnly:!0,value:this.state.eventslog})))}},{key:"eventFunc",value:function(e){var t,n;"onChange"==e.eventName&&Array.isArray(e.actions)&&1==e.actions.length&&"checkConditions"==e.actions[0]||(e.syntheticEvent=void 0,e.component=void 0,e.controlRef=void 0,e.sourceEvent=void 0,n="",0<(t=this.state.eventslog).length&&(n="\n"),t=(new Date).toLocaleTimeString()+": "+a.a.stringify(d(d({},e),{},{e:void 0,sourceControlRef:void 0}))+n+t,this.setState({eventslog:t}))}},{key:"formDataChaged",value:function(e,t){t.key,t.value,e=a.a.stringify(e.state.data,null,4),this.saveObjToStorage("data",e),this.setState({data:e})}},{key:"handleChange",value:function(e,t){t=t.value,this.saveObjToStorage("data",t),this.setState({data:t})}},{key:"handleChangeErrors",value:function(e,t){t=t.value,this.saveObjToStorage("errors",t),this.setState({errors:t})}},{key:"saveObjToStorage",value:function(e,t){window.localStorage&&localStorage.setItem(this.props.name+"_"+e,t)}},{key:"getObjToStorage",value:function(e){return window.localStorage&&(e=localStorage.getItem(this.props.name+"_"+e))||"{\n\t\n}"}}]),o}(),b=n(2);function v(e){return(v="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(e){return _typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof2(e)})(e)}function V(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function w(r){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?V(Object(o),!0).forEach(function(e){var t,n=r;e=o[t=e],t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):V(Object(o)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))})}return r}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var C={icon:"browser"},O={icon:"server"},S={icon:"lightning"},A=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(o,b.a);var n,r,t=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=k(n),t=r?(t=k(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==v(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function o(e){return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),(e=t.call(this,e)).state={dropzoneactive:!0,actionHandlers:[],showbuilder:!0,forms:{}},e}return E(o.prototype,[{key:"componentDidMount",value:function(){this.state.id!==this.props.data.name&&this.loadform()}},{key:"loadform",value:function(){var n=this,t=!1;if(n.state.id=n.props.data.name,this.props.metadata.forms.forEach(function(e){e.name===n.props.data.name&&(t=!0)}),!t)return this.props.data.__state="inserted",void(null!=n.builder&&n.builder.create());var e=new Array;e.push({name:"operation",value:"loadform"}),e.push({name:"name",value:n.props.data.name}),$.ajax({url:n.props.apiUrl,data:e,async:!0,type:"post",success:function(e){var t;e.success?(t=JSON.parse(e.item.source),null!=n.builder&&n.builder.loadData(t),n.setState({actionHandlers:e.item.actionHandlers}),n.forceUpdate()):alertify.error(e.message)}})}},{key:"messageClose",value:function(){this.setState({message:void 0})}},{key:"getForm",value:function(e){if(this.state.forms[e])return this.state.forms[e];Pace.start();var t=new Array;t.push({name:"operation",value:"loadform"}),t.push({name:"name",value:e});var n=$.ajax({url:this.props.apiUrl,data:t,async:!1,type:"post"}).responseJSON;return Pace.stop(),t=void 0,n.success?null!=n.item&&null!=n.item.source?t=a.a.parse(n.item.source):alertify.error("Builder: Incorrect source of '"+e+"' form!"):alertify.error(n.message),this.state.forms[e]=t}},{key:"getFormList",value:function(){var t=[];return this.props.metadata.forms.forEach(function(e){t.push(e.name)}),t}},{key:"getTemplateList",value:function(){var t=this,n=[];return this.props.metadata.forms.forEach(function(e){e.isTemplate&&e.name!==t.props.data.name&&n.push(e.name)}),n}},{key:"getAdditionalDataForControl",value:function(e,t,n){var r=t.startIndex,o=t.pageSize,a=(t.filters,t.sort,t.model);if("dictionary"===e.props["data-buildertype"]||"treepicker"===e.props["data-buildertype"]){for(var i=[],l=0;l<3;l++){var s={};s.key=a+"_"+l,s.text=a+"_"+l,s.value=l,i.push(s)}n({items:i})}else{var c=[];if(Array.isArray(e.props.columns))for(var u=0;u<o;u++)!function(t){var n={};e.props.columns.forEach(function(e){n[e.key]=e.key+"_"+(Number(r)+Number(t))}),c.push(n)}(u);else c.push({}),c.push({}),c.push({}),c.push({}),c.push({});t=c.length,n({startIndex:r,pageSize:o,rowsCount:t,items:c})}}},{key:"render",value:function(){var e=this,t=[];function n(){e.setState({workflowopen:!1})}function r(){e.setState({securityopen:!1})}this.props.metadata.workflow.forEach(function(e){t.push({text:e.code,value:e.code})});var o=null!=this.state.message,a=this.state.showbuilder?"":"dwkit-formbuilder-selector-preview",i=this.state.isFullScreen?"dwkit-admin-formbuilder-container-fullscreen":"dwkit-admin-formbuilder-container";return l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement("div",{className:"dwkit-admin-formheader-breadcrumb"},l.a.createElement(s.Breadcrumb,null,l.a.createElement(s.Breadcrumb.Section,{onClick:this.props.parent.back.bind(this.props.parent),link:!0},DWKitAdminLang.form.title),l.a.createElement(s.Breadcrumb.Divider,null),l.a.createElement(s.Breadcrumb.Section,{active:!0},this.props.data.name),l.a.createElement(s.Breadcrumb.Divider,{icon:"right angle"}),l.a.createElement(s.Breadcrumb.Section,{href:"?apanel=formdata&aid="+this.state.id,onClick:this.openDataMap.bind(this)},DWKitAdminLang.form.datamap),l.a.createElement(s.Breadcrumb.Divider,null),l.a.createElement(s.Breadcrumb.Section,{href:"?apanel=actionhandlers&aid="+this.state.id,onClick:this.openActionHandlers.bind(this)},DWKitAdminLang.form.actionhandler),l.a.createElement(s.Breadcrumb.Divider,{icon:"right angle"}),l.a.createElement(s.Breadcrumb.Section,{href:"/form/"+this.props.id,target:"_blank"},DWKitAdminLang.form.open))),l.a.createElement("div",{className:"dwkit-admin-formheader-parameters"},l.a.createElement(s.Checkbox,{name:"isTemplate",label:DWKitAdminLang.form.template,checked:this.props.data.isTemplate,onChange:this.handleChange.bind(this)}))),l.a.createElement("div",{id:"formbuildercontainer",className:i},l.a.createElement("div",null,l.a.createElement("div",{className:"dwkit-admin-form-buttons"},l.a.createElement(s.Button,{className:"buttontype1",onClick:this.onSave.bind(this)},DWKitAdminLang.button.save),l.a.createElement(s.Button,{className:"buttontype2",onClick:this.onDownload.bind(this)},DWKitAdminLang.button.download),l.a.createElement(s.Button,{className:"buttontype2",onClick:this.onUpload.bind(this)},DWKitAdminLang.button.upload),l.a.createElement(s.Button,{className:"buttontype2",onClick:function(){e.setState({workflowopen:!0})}},DWKitAdminLang.button.workflow),l.a.createElement(s.Button,{className:"buttontype2",onClick:function(){e.setState({securityopen:!0})}},DWKitAdminLang.button.security),l.a.createElement("div",{style:{display:"inline",float:"right"}},l.a.createElement("div",{className:"dwkit-formbuilder-selector"},l.a.createElement("span",{className:a},DWKitAdminLang.form.viewer),l.a.createElement(s.Checkbox,{toggle:!0,name:"cbShowDropzones",label:DWKitAdminLang.form.builder,checked:this.state.showbuilder,onChange:this.handlePreviewClick.bind(this)})),l.a.createElement(s.Button,{className:"buttontype2",onClick:this.onFullscreen.bind(this)},DWKitAdminLang.form.fullscreenbutton),l.a.createElement(s.Button,{className:"buttontype2",disabled:!this.state.showbuilder,onClick:this.onClearForm.bind(this)},DWKitAdminLang.form.clearformbutton))),l.a.createElement("form",{action:"",id:"dwkitadmin-form-uploadform",method:"post",style:{display:"none"},encType:"multipart/form-data",onSubmit:this.onEmpty.bind(this)},l.a.createElement("input",{type:"file",name:"dwkitadmin-form-uploadfile",id:"dwkitadmin-form-uploadfile",onChange:this.onUpload_onchange.bind(this)})),this.renderBuilder(),this.renderViewer(),l.a.createElement(s.Modal,{dimmer:"blurring",open:o,onClose:this.messageClose.bind(this)},l.a.createElement(s.Modal.Header,null,DWKitAdminLang.form.messagetitle),l.a.createElement(s.Modal.Content,null,l.a.createElement("p",null,this.state.message)),l.a.createElement(s.Modal.Actions,null,l.a.createElement(s.Button,{icon:"check",content:DWKitAdminLang.button.ok,onClick:this.messageClose.bind(this)}))),l.a.createElement(s.Modal,{dimmer:"blurring",open:this.state.workflowopen,onClose:n},l.a.createElement(s.Modal.Header,null,DWKitAdminLang.form.workflowwindowtitle),l.a.createElement(s.Modal.Content,null,l.a.createElement("p",null,DWKitAdminLang.form.workflowinfoblock),l.a.createElement(s.Form.Dropdown,{label:DWKitAdminLang.form.workflowschemesfield,name:"schemes",multiple:!0,search:!0,selection:!0,options:t,value:null==this.props.data.schemes?[]:this.props.data.schemes,onChange:this.handleChange.bind(this)})),l.a.createElement(s.Modal.Actions,null,l.a.createElement(s.Button,{className:"buttontype1",content:DWKitAdminLang.button.apply,onClick:n}))),l.a.createElement(s.Modal,{dimmer:"blurring",open:this.state.securityopen,onClose:r},l.a.createElement(s.Modal.Header,null,DWKitAdminLang.form.securitywindowtitle),l.a.createElement(s.Modal.Content,null,l.a.createElement("p",null,DWKitAdminLang.form.securityinfoblock),l.a.createElement(s.Form.Input,{label:DWKitAdminLang.form.permissionsgroupfield,name:"securityGroup",value:this.props.data.securityGroup,onChange:this.handleChange.bind(this)})),l.a.createElement(s.Modal.Actions,null,l.a.createElement(s.Button,{className:"buttontype1",content:DWKitAdminLang.button.apply,onClick:r}))))))}},{key:"renderBuilder",value:function(){var e,t=this,n=[];this.state.actionHandlers&&(n=this.state.actionHandlers.map(function(e){return w(w({},S),{},{text:e})})),this.props.parent.props.controlActions&&(e=this.props.parent.props.controlActions.map(function(e){return"string"==typeof e?w(w({},C),{},{text:e}):e}),n=n.concat(e.filter(function(t){return n.every(function(e){return e.text!==t.text})}))),this.props.parent.props.data&&this.props.parent.props.data.codeActions&&(r=this.props.parent.props.data.codeActions.filter(function(e){return 1===e.type}),n=n.concat(r.filter(function(t){return n.every(function(e){return e.text!==t.name})}).map(function(e){return w(w({},O),{},{text:e.name})}))),n.sort(function(e,t){return e.text.localeCompare(t.text)});var r={};return this.state.showbuilder||(r.style={display:"none"}),l.a.createElement("div",r,l.a.createElement(c.DWKitFormBuilder,{formName:this.state.id,actions:n,getFormFunc:this.getForm.bind(this),getFormList:this.getFormList.bind(this),getAdditionalDataForControl:this.getAdditionalDataForControl.bind(this),ref:function(e){t.builder=e},localization:window.DWKitAdminLang.formbuilder,templates:this.getTemplateList(),externalControlList:this.props.externalControlList,externalControlRender:this.props.externalControlRender,externalControlsOnly:this.props.externalControlsOnly}))}},{key:"renderViewer",value:function(){var e={name:this.state.id};return this.state.showbuilder&&(e.style={display:"none"}),l.a.createElement("div",e,l.a.createElement(g,{name:this.state.id,model:this.state.viewerModel,getFormFunc:this.getForm.bind(this),getAdditionalDataForControl:this.getAdditionalDataForControl.bind(this),externalControlList:this.props.externalControlList,externalControlRender:this.props.externalControlRender}))}},{key:"openDataMap",value:function(e){this.props.parent.props.parent.openpage("formdata",this.state.id),e.preventDefault()}},{key:"openActionHandlers",value:function(e){this.props.parent.props.parent.openpage("actionhandlers",this.state.id),e.preventDefault()}},{key:"onClearForm",value:function(){this.builder.create()}},{key:"onSave",value:function(){var t=this;this.props.data.source=JSON.stringify(this.builder.getData()),t.setUpdatedState(this.props.data),this.props.data.__type=this.props.parent.datatype,this.ChangeData([this.props.data],function(e){t.props.data.__state,t.ResetSystemProps(t.props.data),t.props.parent.applyeditrow()})}},{key:"onDownload",value:function(){this.builder.download()}},{key:"onUpload",value:function(){$("#dwkitadmin-form-uploadfile").trigger("click")}},{key:"onUpload_onchange",value:function(){this.builder.upload($("#dwkitadmin-form-uploadfile")[0],function(){alertify.success(DWKitAdminLang.msg.fileupoaded)})}},{key:"onFullscreen",value:function(){this.setState({isFullScreen:!this.state.isFullScreen})}},{key:"handleShowDropzonesClick",value:function(e,t){t.name,t=t.checked,this.builder.setBuilderMode(t),this.setState({dropzoneactive:t})}},{key:"handlePreviewClick",value:function(e,t){t.name,t=t.checked,this.setState({showbuilder:t,viewerModel:t?[]:this.builder.getData()})}},{key:"handleChange",value:function(e,t){var n=t.name,r=t.value,t=t.checked;this.props.data[n]=void 0!==t?t:r,this.forceUpdate()}},{key:"onEmpty",value:function(){}}]),o}();function x(e){return(x="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(e){return _typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof2(e)})(e)}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function D(e,t){return(D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function L(e){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var r=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D(e,t)}(o,i.a);var n,r,t=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=L(n),t=r?(t=L(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==x(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function o(e){return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),(e=t.call(this,e)).editform=A,e.dataindex="forms",e.idfield="name",e.panelindex="forms",e.datatype="form",e.title=DWKitAdminLang.form.title,e.titleGetter=function(e){return e.form.title},e.ignoreidcase=!0,e}return P(o.prototype,[{key:"gridColumns",value:function(){return[{key:"name",name:DWKitAdminLang.column.name,resizable:!0},{key:"isTemplate",name:DWKitAdminLang.column.template,resizable:!0,type:"checkbox"}]}}]),o}()},function(Zt,en,e){var tn;
/*!
 * jQuery JavaScript Library v3.6.0
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2021-03-02T17:08Z
 */!function(e,t){"use strict";"object"==_typeof2(Zt.exports)?Zt.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(E,e){"use strict";function m(e){return null!=e&&e===e.window}var t=[],n=Object.getPrototypeOf,l=t.slice,y=t.flat?function(e){return t.flat.call(e)}:function(e){return t.concat.apply([],e)},s=t.push,o=t.indexOf,r={},a=r.toString,g=r.hasOwnProperty,i=g.toString,c=i.call(Object),b={},v=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item},_=E.document,u={type:!0,src:!0,nonce:!0,noModule:!0};function V(e,t,n){var r,o,a=(n=n||_).createElement("script");if(a.text=e,t)for(r in u)(o=t[r]||t.getAttribute&&t.getAttribute(r))&&a.setAttribute(r,o);n.head.appendChild(a).parentNode.removeChild(a)}function h(e){return null==e?e+"":"object"==_typeof2(e)||"function"==typeof e?r[a.call(e)]||"object":_typeof2(e)}var k=function e(t,n){return new e.fn.init(t,n)};function p(e){var t=!!e&&"length"in e&&e.length,n=h(e);return!v(e)&&!m(e)&&("array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e)}k.fn=k.prototype={jquery:"3.6.0",constructor:k,length:0,toArray:function(){return l.call(this)},get:function(e){return null==e?l.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){return(e=k.merge(this.constructor(),e)).prevObject=this,e},each:function(e){return k.each(this,e)},map:function(n){return this.pushStack(k.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return this.pushStack(l.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(k.grep(this,function(e,t){return(t+1)%2}))},odd:function(){return this.pushStack(k.grep(this,function(e,t){return t%2}))},eq:function(e){var t=this.length;return this.pushStack(0<=(e=+e+(e<0?t:0))&&e<t?[this[e]]:[])},end:function(){return this.prevObject||this.constructor()},push:s,sort:t.sort,splice:t.splice},k.extend=k.fn.extend=function(){var e,t,n,r,o,a=arguments[0]||{},i=1,l=arguments.length,s=!1;for("boolean"==typeof a&&(s=a,a=arguments[i]||{},i++),"object"==_typeof2(a)||v(a)||(a={}),i===l&&(a=this,i--);i<l;i++)if(null!=(e=arguments[i]))for(t in e)n=e[t],"__proto__"!==t&&a!==n&&(s&&n&&(k.isPlainObject(n)||(r=Array.isArray(n)))?(o=a[t],o=r&&!Array.isArray(o)?[]:r||k.isPlainObject(o)?o:{},r=!1,a[t]=k.extend(s,o,n)):void 0!==n&&(a[t]=n));return a},k.extend({expando:"jQuery"+("3.6.0"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){return!(!e||"[object Object]"!==a.call(e)||(e=n(e))&&("function"!=typeof(e=g.call(e,"constructor")&&e.constructor)||i.call(e)!==c))},isEmptyObject:function(e){for(var t in e)return!1;return!0},globalEval:function(e,t,n){V(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,r=0;if(p(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},makeArray:function(e,t){return t=t||[],null!=e&&(p(Object(e))?k.merge(t,"string"==typeof e?[e]:e):s.call(t,e)),t},inArray:function(e,t,n){return null==t?-1:o.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,o=e.length;r<n;r++)e[o++]=t[r];return e.length=o,e},grep:function(e,t,n){for(var r=[],o=0,a=e.length,i=!n;o<a;o++)!t(e[o],o)!=i&&r.push(e[o]);return r},map:function(e,t,n){var r,o,a=0,i=[];if(p(e))for(r=e.length;a<r;a++)null!=(o=t(e[a],a,n))&&i.push(o);else for(a in e)null!=(o=t(e[a],a,n))&&i.push(o);return y(i)},guid:1,support:b}),"function"==typeof Symbol&&(k.fn[Symbol.iterator]=t[Symbol.iterator]),k.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){r["[object "+t+"]"]=t.toLowerCase()});var f=
/*!
 * Sizzle CSS Selector Engine v2.3.6
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://js.foundation/
 *
 * Date: 2021-02-16
 */function(n){function p(e,t){return e="0x"+e.slice(1)-65536,t||(e<0?String.fromCharCode(65536+e):String.fromCharCode(e>>10|55296,1023&e|56320))}function r(){E()}var e,f,V,a,o,d,h,m,w,s,c,E,_,i,k,y,l,u,g,C="sizzle"+ +new Date,b=n.document,O=0,v=0,S=se(),A=se(),x=se(),P=se(),D=function(e,t){return e===t&&(c=!0),0},L={}.hasOwnProperty,t=[],j=t.pop,R=t.push,F=t.push,T=t.slice,N=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},M="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",I="[\\x20\\t\\r\\n\\f]",B="(?:\\\\[\\da-fA-F]{1,6}"+I+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",W="\\["+I+"*("+B+")(?:"+I+"*([*^$|!~]?=)"+I+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+B+"))|)"+I+"*\\]",U=":("+B+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+W+")*)|.*)\\)|)",K=new RegExp(I+"+","g"),z=new RegExp("^"+I+"+|((?:^|[^\\\\])(?:\\\\.)*)"+I+"+$","g"),G=new RegExp("^"+I+"*,"+I+"*"),q=new RegExp("^"+I+"*([>+~]|"+I+")"+I+"*"),H=new RegExp(I+"|>"),Y=new RegExp(U),J=new RegExp("^"+B+"$"),Q={ID:new RegExp("^#("+B+")"),CLASS:new RegExp("^\\.("+B+")"),TAG:new RegExp("^("+B+"|[*])"),ATTR:new RegExp("^"+W),PSEUDO:new RegExp("^"+U),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+I+"*(even|odd|(([+-]|)(\\d*)n|)"+I+"*(?:([+-]|)"+I+"*(\\d+)|))"+I+"*\\)|)","i"),bool:new RegExp("^(?:"+M+")$","i"),needsContext:new RegExp("^"+I+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+I+"*((?:-\\d)?\\d*)"+I+"*\\)|)(?=[^-]|$)","i")},$=/HTML$/i,X=/^(?:input|select|textarea|button)$/i,Z=/^h\d$/i,ee=/^[^{]+\{\s*\[native \w/,te=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ne=/[+~]/,re=new RegExp("\\\\[\\da-fA-F]{1,6}"+I+"?|\\\\([^\\r\\n\\f])","g"),oe=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ae=function(e,t){return t?"\0"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},ie=be(function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{F.apply(t=T.call(b.childNodes),b.childNodes),t[b.childNodes.length].nodeType}catch(e){F={apply:t.length?function(e,t){R.apply(e,T.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}function le(e,t,n,r){var o,a,i,l,s,c,u=t&&t.ownerDocument,p=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==p&&9!==p&&11!==p)return n;if(!r&&(E(t),t=t||_,k)){if(11!==p&&(l=te.exec(e)))if(c=l[1]){if(9===p){if(!(a=t.getElementById(c)))return n;if(a.id===c)return n.push(a),n}else if(u&&(a=u.getElementById(c))&&g(t,a)&&a.id===c)return n.push(a),n}else{if(l[2])return F.apply(n,t.getElementsByTagName(e)),n;if((c=l[3])&&f.getElementsByClassName&&t.getElementsByClassName)return F.apply(n,t.getElementsByClassName(c)),n}if(f.qsa&&!P[e+" "]&&(!y||!y.test(e))&&(1!==p||"object"!==t.nodeName.toLowerCase())){if(c=e,u=t,1===p&&(H.test(e)||q.test(e))){for((u=ne.test(e)&&me(t.parentNode)||t)===t&&f.scope||((i=t.getAttribute("id"))?i=i.replace(oe,ae):t.setAttribute("id",i=C)),o=(s=d(e)).length;o--;)s[o]=(i?"#"+i:":scope")+" "+ge(s[o]);c=s.join(",")}try{return F.apply(n,u.querySelectorAll(c)),n}catch(t){P(e,!0)}finally{i===C&&t.removeAttribute("id")}}}return m(e.replace(z,"$1"),t,n,r)}function se(){var n=[];function r(e,t){return n.push(e+" ")>V.cacheLength&&delete r[n.shift()],r[e+" "]=t}return r}function ce(e){return e[C]=!0,e}function ue(e){var t=_.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function pe(e,t){for(var n=e.split("|"),r=n.length;r--;)V.attrHandle[n[r]]=t}function fe(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function de(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&ie(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function he(i){return ce(function(a){return a=+a,ce(function(e,t){for(var n,r=i([],e.length,a),o=r.length;o--;)e[n=r[o]]&&(e[n]=!(t[n]=e[n]))})})}function me(e){return e&&void 0!==e.getElementsByTagName&&e}for(e in f=le.support={},o=le.isXML=function(e){var t=e&&e.namespaceURI,e=e&&(e.ownerDocument||e).documentElement;return!$.test(t||e&&e.nodeName||"HTML")},E=le.setDocument=function(e){var t;return(e=e?e.ownerDocument||e:b)!=_&&9===e.nodeType&&e.documentElement&&(i=(_=e).documentElement,k=!o(_),b!=_&&(t=_.defaultView)&&t.top!==t&&(t.addEventListener?t.addEventListener("unload",r,!1):t.attachEvent&&t.attachEvent("onunload",r)),f.scope=ue(function(e){return i.appendChild(e).appendChild(_.createElement("div")),void 0!==e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length}),f.attributes=ue(function(e){return e.className="i",!e.getAttribute("className")}),f.getElementsByTagName=ue(function(e){return e.appendChild(_.createComment("")),!e.getElementsByTagName("*").length}),f.getElementsByClassName=ee.test(_.getElementsByClassName),f.getById=ue(function(e){return i.appendChild(e).id=C,!_.getElementsByName||!_.getElementsByName(C).length}),f.getById?(V.filter.ID=function(e){var t=e.replace(re,p);return function(e){return e.getAttribute("id")===t}},V.find.ID=function(e,t){if(void 0!==t.getElementById&&k)return(e=t.getElementById(e))?[e]:[]}):(V.filter.ID=function(e){var t=e.replace(re,p);return function(e){return(e=void 0!==e.getAttributeNode&&e.getAttributeNode("id"))&&e.value===t}},V.find.ID=function(e,t){if(void 0!==t.getElementById&&k){var n,r,o,a=t.getElementById(e);if(a){if((n=a.getAttributeNode("id"))&&n.value===e)return[a];for(o=t.getElementsByName(e),r=0;a=o[r++];)if((n=a.getAttributeNode("id"))&&n.value===e)return[a]}return[]}}),V.find.TAG=f.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):f.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],o=0,a=t.getElementsByTagName(e);if("*"!==e)return a;for(;n=a[o++];)1===n.nodeType&&r.push(n);return r},V.find.CLASS=f.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&k)return t.getElementsByClassName(e)},l=[],y=[],(f.qsa=ee.test(_.querySelectorAll))&&(ue(function(e){var t;i.appendChild(e).innerHTML="<a id='"+C+"'></a><select id='"+C+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&y.push("[*^$]="+I+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||y.push("\\["+I+"*(?:value|"+M+")"),e.querySelectorAll("[id~="+C+"-]").length||y.push("~="),(t=_.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||y.push("\\["+I+"*name"+I+"*="+I+"*(?:''|\"\")"),e.querySelectorAll(":checked").length||y.push(":checked"),e.querySelectorAll("a#"+C+"+*").length||y.push(".#.+[+~]"),e.querySelectorAll("\\\f"),y.push("[\\r\\n\\f]")}),ue(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=_.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&y.push("name"+I+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&y.push(":enabled",":disabled"),i.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&y.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),y.push(",.*:")})),(f.matchesSelector=ee.test(u=i.matches||i.webkitMatchesSelector||i.mozMatchesSelector||i.oMatchesSelector||i.msMatchesSelector))&&ue(function(e){f.disconnectedMatch=u.call(e,"*"),u.call(e,"[s!='']:x"),l.push("!=",U)}),y=y.length&&new RegExp(y.join("|")),l=l.length&&new RegExp(l.join("|")),t=ee.test(i.compareDocumentPosition),g=t||ee.test(i.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e;return e===(t=t&&t.parentNode)||!(!t||1!==t.nodeType||!(n.contains?n.contains(t):e.compareDocumentPosition&&16&e.compareDocumentPosition(t)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},D=t?function(e,t){return e===t?(c=!0,0):(n=!e.compareDocumentPosition-!t.compareDocumentPosition)||(1&(n=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!f.sortDetached&&t.compareDocumentPosition(e)===n?e==_||e.ownerDocument==b&&g(b,e)?-1:t==_||t.ownerDocument==b&&g(b,t)?1:s?N(s,e)-N(s,t):0:4&n?-1:1);var n}:function(e,t){if(e===t)return c=!0,0;var n,r=0,o=e.parentNode,a=t.parentNode,i=[e],l=[t];if(!o||!a)return e==_?-1:t==_?1:o?-1:a?1:s?N(s,e)-N(s,t):0;if(o===a)return fe(e,t);for(n=e;n=n.parentNode;)i.unshift(n);for(n=t;n=n.parentNode;)l.unshift(n);for(;i[r]===l[r];)r++;return r?fe(i[r],l[r]):i[r]==b?-1:l[r]==b?1:0}),_},le.matches=function(e,t){return le(e,null,null,t)},le.matchesSelector=function(e,t){if(E(e),f.matchesSelector&&k&&!P[t+" "]&&(!l||!l.test(t))&&(!y||!y.test(t)))try{var n=u.call(e,t);if(n||f.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){P(t,!0)}return 0<le(t,_,null,[e]).length},le.contains=function(e,t){return(e.ownerDocument||e)!=_&&E(e),g(e,t)},le.attr=function(e,t){(e.ownerDocument||e)!=_&&E(e);var n=V.attrHandle[t.toLowerCase()];return void 0!==(n=n&&L.call(V.attrHandle,t.toLowerCase())?n(e,t,!k):void 0)?n:f.attributes||!k?e.getAttribute(t):(n=e.getAttributeNode(t))&&n.specified?n.value:null},le.escape=function(e){return(e+"").replace(oe,ae)},le.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},le.uniqueSort=function(e){var t,n=[],r=0,o=0;if(c=!f.detectDuplicates,s=!f.sortStable&&e.slice(0),e.sort(D),c){for(;t=e[o++];)t===e[o]&&(r=n.push(o));for(;r--;)e.splice(n[r],1)}return s=null,e},a=le.getText=function(e){var t,n="",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=a(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[r++];)n+=a(t);return n},(V=le.selectors={cacheLength:50,createPseudo:ce,match:Q,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(re,p),e[3]=(e[3]||e[4]||e[5]||"").replace(re,p),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||le.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&le.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return Q.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&Y.test(n)&&(t=d(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(re,p).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=S[e+" "];return t||(t=new RegExp("(^|"+I+")"+e+"("+I+"|$)"))&&S(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(t,n,r){return function(e){return null==(e=le.attr(e,t))?"!="===n:!n||(e+="","="===n?e===r:"!="===n?e!==r:"^="===n?r&&0===e.indexOf(r):"*="===n?r&&-1<e.indexOf(r):"$="===n?r&&e.slice(-r.length)===r:"~="===n?-1<(" "+e.replace(K," ")+" ").indexOf(r):"|="===n&&(e===r||e.slice(0,r.length+1)===r+"-"))}},CHILD:function(h,e,t,m,y){var g="nth"!==h.slice(0,3),b="last"!==h.slice(-4),v="of-type"===e;return 1===m&&0===y?function(e){return!!e.parentNode}:function(e,t,n){var r,o,a,i,l,s,c=g!=b?"nextSibling":"previousSibling",u=e.parentNode,p=v&&e.nodeName.toLowerCase(),f=!n&&!v,d=!1;if(u){if(g){for(;c;){for(i=e;i=i[c];)if(v?i.nodeName.toLowerCase()===p:1===i.nodeType)return!1;s=c="only"===h&&!s&&"nextSibling"}return!0}if(s=[b?u.firstChild:u.lastChild],b&&f){for(d=(l=(r=(o=(a=(i=u)[C]||(i[C]={}))[i.uniqueID]||(a[i.uniqueID]={}))[h]||[])[0]===O&&r[1])&&r[2],i=l&&u.childNodes[l];i=++l&&i&&i[c]||(d=l=0)||s.pop();)if(1===i.nodeType&&++d&&i===e){o[h]=[O,l,d];break}}else if(!1===(d=f?l=(r=(o=(a=(i=e)[C]||(i[C]={}))[i.uniqueID]||(a[i.uniqueID]={}))[h]||[])[0]===O&&r[1]:d))for(;(i=++l&&i&&i[c]||(d=l=0)||s.pop())&&((v?i.nodeName.toLowerCase()!==p:1!==i.nodeType)||!++d||(f&&((o=(a=i[C]||(i[C]={}))[i.uniqueID]||(a[i.uniqueID]={}))[h]=[O,d]),i!==e)););return(d-=y)===m||d%m==0&&0<=d/m}}},PSEUDO:function(e,a){var t,i=V.pseudos[e]||V.setFilters[e.toLowerCase()]||le.error("unsupported pseudo: "+e);return i[C]?i(a):1<i.length?(t=[e,e,"",a],V.setFilters.hasOwnProperty(e.toLowerCase())?ce(function(e,t){for(var n,r=i(e,a),o=r.length;o--;)e[n=N(e,r[o])]=!(t[n]=r[o])}):function(e){return i(e,0,t)}):i}},pseudos:{not:ce(function(e){var r=[],o=[],l=h(e.replace(z,"$1"));return l[C]?ce(function(e,t,n,r){for(var o,a=l(e,null,r,[]),i=e.length;i--;)(o=a[i])&&(e[i]=!(t[i]=o))}):function(e,t,n){return r[0]=e,l(r,null,n,o),r[0]=null,!o.pop()}}),has:ce(function(t){return function(e){return 0<le(t,e).length}}),contains:ce(function(t){return t=t.replace(re,p),function(e){return-1<(e.textContent||a(e)).indexOf(t)}}),lang:ce(function(n){return J.test(n||"")||le.error("unsupported lang: "+n),n=n.replace(re,p).toLowerCase(),function(e){var t;do{if(t=k?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=n.location&&n.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===i},focus:function(e){return e===_.activeElement&&(!_.hasFocus||_.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:de(!1),disabled:de(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!V.pseudos.empty(e)},header:function(e){return Z.test(e.nodeName)},input:function(e){return X.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(e=e.getAttribute("type"))||"text"===e.toLowerCase())},first:he(function(){return[0]}),last:he(function(e,t){return[t-1]}),eq:he(function(e,t,n){return[n<0?n+t:n]}),even:he(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:he(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:he(function(e,t,n){for(var r=n<0?n+t:t<n?t:n;0<=--r;)e.push(r);return e}),gt:he(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=V.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})V.pseudos[e]=function(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}(e);for(e in{submit:!0,reset:!0})V.pseudos[e]=function(n){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===n}}(e);function ye(){}function ge(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function be(i,e,t){var l=e.dir,s=e.next,c=s||l,u=t&&"parentNode"===c,p=v++;return e.first?function(e,t,n){for(;e=e[l];)if(1===e.nodeType||u)return i(e,t,n);return!1}:function(e,t,n){var r,o,a=[O,p];if(n){for(;e=e[l];)if((1===e.nodeType||u)&&i(e,t,n))return!0}else for(;e=e[l];)if(1===e.nodeType||u)if(r=(o=e[C]||(e[C]={}))[e.uniqueID]||(o[e.uniqueID]={}),s&&s===e.nodeName.toLowerCase())e=e[l]||e;else{if((o=r[c])&&o[0]===O&&o[1]===p)return a[2]=o[2];if((r[c]=a)[2]=i(e,t,n))return!0}return!1}}function ve(o){return 1<o.length?function(e,t,n){for(var r=o.length;r--;)if(!o[r](e,t,n))return!1;return!0}:o[0]}function Ve(e,t,n,r,o){for(var a,i=[],l=0,s=e.length,c=null!=t;l<s;l++)(a=e[l])&&(n&&!n(a,r,o)||(i.push(a),c&&t.push(l)));return i}return ye.prototype=V.filters=V.pseudos,V.setFilters=new ye,d=le.tokenize=function(e,t){var n,r,o,a,i,l,s,c=A[e+" "];if(c)return t?0:c.slice(0);for(i=e,l=[],s=V.preFilter;i;){for(a in n&&!(r=G.exec(i))||(r&&(i=i.slice(r[0].length)||i),l.push(o=[])),n=!1,(r=q.exec(i))&&(n=r.shift(),o.push({value:n,type:r[0].replace(z," ")}),i=i.slice(n.length)),V.filter)!(r=Q[a].exec(i))||s[a]&&!(r=s[a](r))||(n=r.shift(),o.push({value:n,type:a,matches:r}),i=i.slice(n.length));if(!n)break}return t?i.length:i?le.error(e):A(e,l).slice(0)},h=le.compile=function(e,t){var n,y,g,b,v,r=[],o=[],a=x[e+" "];if(!a){for(n=(t=t||d(e)).length;n--;)((a=function e(t){for(var r,n,o,a=t.length,i=V.relative[t[0].type],l=i||V.relative[" "],s=i?1:0,c=be(function(e){return e===r},l,!0),u=be(function(e){return-1<N(r,e)},l,!0),p=[function(e,t,n){return n=!i&&(n||t!==w)||((r=t).nodeType?c:u)(e,t,n),r=null,n}];s<a;s++)if(n=V.relative[t[s].type])p=[be(ve(p),n)];else{if((n=V.filter[t[s].type].apply(null,t[s].matches))[C]){for(o=++s;o<a&&!V.relative[t[o].type];o++);return function e(d,h,m,y,g,t){return y&&!y[C]&&(y=e(y)),g&&!g[C]&&(g=e(g,t)),ce(function(e,t,n,r){var o,a,i,l=[],s=[],c=t.length,u=e||function(e,t,n){for(var r=0,o=t.length;r<o;r++)le(e,t[r],n);return n}(h||"*",n.nodeType?[n]:n,[]),p=!d||!e&&h?u:Ve(u,l,d,n,r),f=m?g||(e?d:c||y)?[]:t:p;if(m&&m(p,f,n,r),y)for(o=Ve(f,s),y(o,[],n,r),a=o.length;a--;)(i=o[a])&&(f[s[a]]=!(p[s[a]]=i));if(e){if(g||d){if(g){for(o=[],a=f.length;a--;)(i=f[a])&&o.push(p[a]=i);g(null,f=[],o,r)}for(a=f.length;a--;)(i=f[a])&&-1<(o=g?N(e,i):l[a])&&(e[o]=!(t[o]=i))}}else f=Ve(f===t?f.splice(c,f.length):f),g?g(null,t,f,r):F.apply(t,f)})}(1<s&&ve(p),1<s&&ge(t.slice(0,s-1).concat({value:" "===t[s-2].type?"*":""})).replace(z,"$1"),n,s<o&&e(t.slice(s,o)),o<a&&e(t=t.slice(o)),o<a&&ge(t))}p.push(n)}return ve(p)}(t[n]))[C]?r:o).push(a);(a=x(e,(y=o,b=0<(g=r).length,v=0<y.length,b?ce(i):i))).selector=e}function i(e,t,n,r,o){var a,i,l,s=0,c="0",u=e&&[],p=[],f=w,d=e||v&&V.find.TAG("*",o),h=O+=null==f?1:Math.random()||.1,m=d.length;for(o&&(w=t==_||t||o);c!==m&&null!=(a=d[c]);c++){if(v&&a){for(i=0,t||a.ownerDocument==_||(E(a),n=!k);l=y[i++];)if(l(a,t||_,n)){r.push(a);break}o&&(O=h)}b&&((a=!l&&a)&&s--,e&&u.push(a))}if(s+=c,b&&c!==s){for(i=0;l=g[i++];)l(u,p,t,n);if(e){if(0<s)for(;c--;)u[c]||p[c]||(p[c]=j.call(r));p=Ve(p)}F.apply(r,p),o&&!e&&0<p.length&&1<s+g.length&&le.uniqueSort(r)}return o&&(O=h,w=f),u}return a},m=le.select=function(e,t,n,r){var o,a,i,l,s,c="function"==typeof e&&e,u=!r&&d(e=c.selector||e);if(n=n||[],1===u.length){if(2<(a=u[0]=u[0].slice(0)).length&&"ID"===(i=a[0]).type&&9===t.nodeType&&k&&V.relative[a[1].type]){if(!(t=(V.find.ID(i.matches[0].replace(re,p),t)||[])[0]))return n;c&&(t=t.parentNode),e=e.slice(a.shift().value.length)}for(o=Q.needsContext.test(e)?0:a.length;o--&&(i=a[o],!V.relative[l=i.type]);)if((s=V.find[l])&&(r=s(i.matches[0].replace(re,p),ne.test(a[0].type)&&me(t.parentNode)||t))){if(a.splice(o,1),!(e=r.length&&ge(a)))return F.apply(n,r),n;break}}return(c||h(e,u))(r,t,!k,n,!t||ne.test(e)&&me(t.parentNode)||t),n},f.sortStable=C.split("").sort(D).join("")===C,f.detectDuplicates=!!c,E(),f.sortDetached=ue(function(e){return 1&e.compareDocumentPosition(_.createElement("fieldset"))}),ue(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||pe("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),f.attributes&&ue(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||pe("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),ue(function(e){return null==e.getAttribute("disabled")})||pe(M,function(e,t,n){if(!n)return!0===e[t]?t.toLowerCase():(t=e.getAttributeNode(t))&&t.specified?t.value:null}),le}(E);function d(e,t,n){for(var r=[],o=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(o&&k(e).is(n))break;r.push(e)}return r}function w(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}k.find=f,k.expr=f.selectors,k.expr[":"]=k.expr.pseudos,k.uniqueSort=k.unique=f.uniqueSort,k.text=f.getText,k.isXMLDoc=f.isXML,k.contains=f.contains,k.escapeSelector=f.escape;var C=k.expr.match.needsContext;function O(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var S=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function A(e,n,r){return v(n)?k.grep(e,function(e,t){return!!n.call(e,t,e)!==r}):n.nodeType?k.grep(e,function(e){return e===n!==r}):"string"!=typeof n?k.grep(e,function(e){return-1<o.call(n,e)!==r}):k.filter(n,e,r)}k.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?k.find.matchesSelector(r,e)?[r]:[]:k.find.matches(e,k.grep(t,function(e){return 1===e.nodeType}))},k.fn.extend({find:function(e){var t,n,r=this.length,o=this;if("string"!=typeof e)return this.pushStack(k(e).filter(function(){for(t=0;t<r;t++)if(k.contains(o[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)k.find(e,o[t],n);return 1<r?k.uniqueSort(n):n},filter:function(e){return this.pushStack(A(this,e||[],!1))},not:function(e){return this.pushStack(A(this,e||[],!0))},is:function(e){return!!A(this,"string"==typeof e&&C.test(e)?k(e):e||[],!1).length}});var x=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(k.fn.init=function(e,t,n){if(!e)return this;if(n=n||P,"string"!=typeof e)return e.nodeType?(this[0]=e,this.length=1,this):v(e)?void 0!==n.ready?n.ready(e):e(k):k.makeArray(e,this);if(!(r="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:x.exec(e))||!r[1]&&t)return(!t||t.jquery?t||n:this.constructor(t)).find(e);if(r[1]){if(t=t instanceof k?t[0]:t,k.merge(this,k.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:_,!0)),S.test(r[1])&&k.isPlainObject(t))for(var r in t)v(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(e=_.getElementById(r[2]))&&(this[0]=e,this.length=1),this}).prototype=k.fn;var P=k(_),D=/^(?:parents|prev(?:Until|All))/,L={children:!0,contents:!0,next:!0,prev:!0};function j(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}k.fn.extend({has:function(e){var t=k(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(k.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,o=this.length,a=[],i="string"!=typeof e&&k(e);if(!C.test(e))for(;r<o;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(i?-1<i.index(n):1===n.nodeType&&k.find.matchesSelector(n,e))){a.push(n);break}return this.pushStack(1<a.length?k.uniqueSort(a):a)},index:function(e){return e?"string"==typeof e?o.call(k(e),this[0]):o.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(k.uniqueSort(k.merge(this.get(),k(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),k.each({parent:function(e){return(e=e.parentNode)&&11!==e.nodeType?e:null},parents:function(e){return d(e,"parentNode")},parentsUntil:function(e,t,n){return d(e,"parentNode",n)},next:function(e){return j(e,"nextSibling")},prev:function(e){return j(e,"previousSibling")},nextAll:function(e){return d(e,"nextSibling")},prevAll:function(e){return d(e,"previousSibling")},nextUntil:function(e,t,n){return d(e,"nextSibling",n)},prevUntil:function(e,t,n){return d(e,"previousSibling",n)},siblings:function(e){return w((e.parentNode||{}).firstChild,e)},children:function(e){return w(e.firstChild)},contents:function(e){return null!=e.contentDocument&&n(e.contentDocument)?e.contentDocument:(O(e,"template")&&(e=e.content||e),k.merge([],e.childNodes))}},function(r,o){k.fn[r]=function(e,t){var n=k.map(this,o,e);return(t="Until"!==r.slice(-5)?e:t)&&"string"==typeof t&&(n=k.filter(t,n)),1<this.length&&(L[r]||k.uniqueSort(n),D.test(r)&&n.reverse()),this.pushStack(n)}});var R=/[^\x20\t\r\n\f]+/g;function F(e){return e}function T(e){throw e}function N(e,t,n,r){var o;try{e&&v(o=e.promise)?o.call(e).done(t).fail(n):e&&v(o=e.then)?o.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}k.Callbacks=function(r){var n;function o(){for(i=i||r.once,t=a=!0;s.length;c=-1)for(e=s.shift();++c<l.length;)!1===l[c].apply(e[0],e[1])&&r.stopOnFalse&&(c=l.length,e=!1);r.memory||(e=!1),a=!1,i&&(l=e?[]:"")}r="string"==typeof r?(n={},k.each(r.match(R)||[],function(e,t){n[t]=!0}),n):k.extend({},r);var a,e,t,i,l=[],s=[],c=-1,u={add:function(){return l&&(e&&!a&&(c=l.length-1,s.push(e)),function n(e){k.each(e,function(e,t){v(t)?r.unique&&u.has(t)||l.push(t):t&&t.length&&"string"!==h(t)&&n(t)})}(arguments),e&&!a&&o()),this},remove:function(){return k.each(arguments,function(e,t){for(var n;-1<(n=k.inArray(t,l,n));)l.splice(n,1),n<=c&&c--}),this},has:function(e){return e?-1<k.inArray(e,l):0<l.length},empty:function(){return l=l&&[],this},disable:function(){return i=s=[],l=e="",this},disabled:function(){return!l},lock:function(){return i=s=[],e||a||(l=e=""),this},locked:function(){return!!i},fireWith:function(e,t){return i||(t=[e,(t=t||[]).slice?t.slice():t],s.push(t),a||o()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!t}};return u},k.extend({Deferred:function(e){var a=[["notify","progress",k.Callbacks("memory"),k.Callbacks("memory"),2],["resolve","done",k.Callbacks("once memory"),k.Callbacks("once memory"),0,"resolved"],["reject","fail",k.Callbacks("once memory"),k.Callbacks("once memory"),1,"rejected"]],o="pending",i={state:function(){return o},always:function(){return l.done(arguments).fail(arguments),this},catch:function(e){return i.then(null,e)},pipe:function(){var o=arguments;return k.Deferred(function(r){k.each(a,function(e,t){var n=v(o[t[4]])&&o[t[4]];l[t[1]](function(){var e=n&&n.apply(this,arguments);e&&v(e.promise)?e.promise().progress(r.notify).done(r.resolve).fail(r.reject):r[t[0]+"With"](this,n?[e]:arguments)})}),o=null}).promise()},then:function(t,n,r){var s=0;function c(o,a,i,l){return function(){function e(){var e,t;if(!(o<s)){if((e=i.apply(n,r))===a.promise())throw new TypeError("Thenable self-resolution");t=e&&("object"==_typeof2(e)||"function"==typeof e)&&e.then,v(t)?l?t.call(e,c(s,a,F,l),c(s,a,T,l)):(s++,t.call(e,c(s,a,F,l),c(s,a,T,l),c(s,a,F,a.notifyWith))):(i!==F&&(n=void 0,r=[e]),(l||a.resolveWith)(n,r))}}var n=this,r=arguments,t=l?e:function(){try{e()}catch(e){k.Deferred.exceptionHook&&k.Deferred.exceptionHook(e,t.stackTrace),s<=o+1&&(i!==T&&(n=void 0,r=[e]),a.rejectWith(n,r))}};o?t():(k.Deferred.getStackHook&&(t.stackTrace=k.Deferred.getStackHook()),E.setTimeout(t))}}return k.Deferred(function(e){a[0][3].add(c(0,e,v(r)?r:F,e.notifyWith)),a[1][3].add(c(0,e,v(t)?t:F)),a[2][3].add(c(0,e,v(n)?n:T))}).promise()},promise:function(e){return null!=e?k.extend(e,i):i}},l={};return k.each(a,function(e,t){var n=t[2],r=t[5];i[t[1]]=n.add,r&&n.add(function(){o=r},a[3-e][2].disable,a[3-e][3].disable,a[0][2].lock,a[0][3].lock),n.add(t[3].fire),l[t[0]]=function(){return l[t[0]+"With"](this===l?void 0:this,arguments),this},l[t[0]+"With"]=n.fireWith}),i.promise(l),e&&e.call(l,l),l},when:function(e){function t(t){return function(e){o[t]=this,a[t]=1<arguments.length?l.call(arguments):e,--n||i.resolveWith(o,a)}}var n=arguments.length,r=n,o=Array(r),a=l.call(arguments),i=k.Deferred();if(n<=1&&(N(e,i.done(t(r)).resolve,i.reject,!n),"pending"===i.state()||v(a[r]&&a[r].then)))return i.then();for(;r--;)N(a[r],t(r),i.reject);return i.promise()}});var M=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;k.Deferred.exceptionHook=function(e,t){E.console&&E.console.warn&&e&&M.test(e.name)&&E.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},k.readyException=function(e){E.setTimeout(function(){throw e})};var I=k.Deferred();function B(){_.removeEventListener("DOMContentLoaded",B),E.removeEventListener("load",B),k.ready()}k.fn.ready=function(e){return I.then(e).catch(function(e){k.readyException(e)}),this},k.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--k.readyWait:k.isReady)||(k.isReady=!0)!==e&&0<--k.readyWait||I.resolveWith(_,[k])}}),k.ready.then=I.then,"complete"===_.readyState||"loading"!==_.readyState&&!_.documentElement.doScroll?E.setTimeout(k.ready):(_.addEventListener("DOMContentLoaded",B),E.addEventListener("load",B));function W(e,t,n,r,o,a,i){var l=0,s=e.length,c=null==n;if("object"===h(n))for(l in o=!0,n)W(e,t,l,n[l],!0,a,i);else if(void 0!==r&&(o=!0,v(r)||(i=!0),t=c?i?(t.call(e,r),null):(c=t,function(e,t,n){return c.call(k(e),n)}):t))for(;l<s;l++)t(e[l],n,i?r:r.call(e[l],l,t(e[l],n)));return o?e:c?t.call(e):s?t(e[0],n):a}var U=/^-ms-/,K=/-([a-z])/g;function z(e,t){return t.toUpperCase()}function G(e){return e.replace(U,"ms-").replace(K,z)}function q(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType}function H(){this.expando=k.expando+H.uid++}H.uid=1,H.prototype={cache:function(e){var t=e[this.expando];return t||(t={},q(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,o=this.cache(e);if("string"==typeof t)o[G(t)]=n;else for(r in t)o[G(r)]=t[r];return o},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][G(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(G):(t=G(t))in r?[t]:t.match(R)||[]).length;for(;n--;)delete r[t[n]]}void 0!==t&&!k.isEmptyObject(r)||(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){return void 0!==(e=e[this.expando])&&!k.isEmptyObject(e)}};var Y=new H,J=new H,Q=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,$=/[A-Z]/g;function X(e,t,n){var r,o;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace($,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n="true"===(o=n)||"false"!==o&&("null"===o?null:o===+o+""?+o:Q.test(o)?JSON.parse(o):o)}catch(e){}J.set(e,t,n)}else n=void 0;return n}k.extend({hasData:function(e){return J.hasData(e)||Y.hasData(e)},data:function(e,t,n){return J.access(e,t,n)},removeData:function(e,t){J.remove(e,t)},_data:function(e,t,n){return Y.access(e,t,n)},_removeData:function(e,t){Y.remove(e,t)}}),k.fn.extend({data:function(n,e){var t,r,o,a=this[0],i=a&&a.attributes;if(void 0!==n)return"object"==_typeof2(n)?this.each(function(){J.set(this,n)}):W(this,function(e){var t;return a&&void 0===e?void 0!==(t=J.get(a,n))||void 0!==(t=X(a,n))?t:void 0:void this.each(function(){J.set(this,n,e)})},null,e,1<arguments.length,null,!0);if(this.length&&(o=J.get(a),1===a.nodeType&&!Y.get(a,"hasDataAttrs"))){for(t=i.length;t--;)i[t]&&0===(r=i[t].name).indexOf("data-")&&(r=G(r.slice(5)),X(a,r,o[r]));Y.set(a,"hasDataAttrs",!0)}return o},removeData:function(e){return this.each(function(){J.remove(this,e)})}}),k.extend({queue:function(e,t,n){var r;if(e)return r=Y.get(e,t=(t||"fx")+"queue"),n&&(!r||Array.isArray(n)?r=Y.access(e,t,k.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){var n=k.queue(e,t=t||"fx"),r=n.length,o=n.shift(),a=k._queueHooks(e,t);"inprogress"===o&&(o=n.shift(),r--),o&&("fx"===t&&n.unshift("inprogress"),delete a.stop,o.call(e,function(){k.dequeue(e,t)},a)),!r&&a&&a.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Y.get(e,n)||Y.access(e,n,{empty:k.Callbacks("once memory").add(function(){Y.remove(e,[t+"queue",n])})})}}),k.fn.extend({queue:function(t,n){var e=2;return"string"!=typeof t&&(n=t,t="fx",e--),arguments.length<e?k.queue(this[0],t):void 0===n?this:this.each(function(){var e=k.queue(this,t,n);k._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&k.dequeue(this,t)})},dequeue:function(e){return this.each(function(){k.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){function n(){--o||a.resolveWith(i,[i])}var r,o=1,a=k.Deferred(),i=this,l=this.length;for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";l--;)(r=Y.get(i[l],e+"queueHooks"))&&r.empty&&(o++,r.empty.add(n));return n(),a.promise(t)}});var Z=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ee=new RegExp("^(?:([+-])=|)("+Z+")([a-z%]*)$","i"),te=["Top","Right","Bottom","Left"],ne=_.documentElement,re=function(e){return k.contains(e.ownerDocument,e)},oe={composed:!0};ne.getRootNode&&(re=function(e){return k.contains(e.ownerDocument,e)||e.getRootNode(oe)===e.ownerDocument});function ae(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&re(e)&&"none"===k.css(e,"display")}function ie(e,t,n,r){var o,a,i=20,l=r?function(){return r.cur()}:function(){return k.css(e,t,"")},s=l(),c=n&&n[3]||(k.cssNumber[t]?"":"px"),u=e.nodeType&&(k.cssNumber[t]||"px"!==c&&+s)&&ee.exec(k.css(e,t));if(u&&u[3]!==c){for(c=c||u[3],u=+(s/=2)||1;i--;)k.style(e,t,u+c),(1-a)*(1-(a=l()/s||.5))<=0&&(i=0),u/=a;k.style(e,t,(u*=2)+c),n=n||[]}return n&&(u=+u||+s||0,o=n[1]?u+(n[1]+1)*n[2]:+n[2],r&&(r.unit=c,r.start=u,r.end=o)),o}var le={};function se(e,t){for(var n,r,o,a,i,l=[],s=0,c=e.length;s<c;s++)(r=e[s]).style&&(n=r.style.display,t?("none"===n&&(l[s]=Y.get(r,"display")||null,l[s]||(r.style.display="")),""===r.style.display&&ae(r)&&(l[s]=(a=void 0,a=(o=r).ownerDocument,i=o.nodeName,(o=le[i])||(a=a.body.appendChild(a.createElement(i)),o=k.css(a,"display"),a.parentNode.removeChild(a),le[i]=o="none"===o?"block":o)))):"none"!==n&&(l[s]="none",Y.set(r,"display",n)));for(s=0;s<c;s++)null!=l[s]&&(e[s].style.display=l[s]);return e}k.fn.extend({show:function(){return se(this,!0)},hide:function(){return se(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){ae(this)?k(this).show():k(this).hide()})}});var ce=/^(?:checkbox|radio)$/i,ue=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,pe=/^$|^module$|\/(?:java|ecma)script/i,fe=_.createDocumentFragment().appendChild(_.createElement("div"));(f=_.createElement("input")).setAttribute("type","radio"),f.setAttribute("checked","checked"),f.setAttribute("name","t"),fe.appendChild(f),b.checkClone=fe.cloneNode(!0).cloneNode(!0).lastChild.checked,fe.innerHTML="<textarea>x</textarea>",b.noCloneChecked=!!fe.cloneNode(!0).lastChild.defaultValue,fe.innerHTML="<option></option>",b.option=!!fe.lastChild;var de={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function he(e,t){var n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&O(e,t)?k.merge([e],n):n}function me(e,t){for(var n=0,r=e.length;n<r;n++)Y.set(e[n],"globalEval",!t||Y.get(t[n],"globalEval"))}de.tbody=de.tfoot=de.colgroup=de.caption=de.thead,de.th=de.td,b.option||(de.optgroup=de.option=[1,"<select multiple='multiple'>","</select>"]);var ye=/<|&#?\w+;/;function ge(e,t,n,r,o){for(var a,i,l,s,c,u=t.createDocumentFragment(),p=[],f=0,d=e.length;f<d;f++)if((a=e[f])||0===a)if("object"===h(a))k.merge(p,a.nodeType?[a]:a);else if(ye.test(a)){for(i=i||u.appendChild(t.createElement("div")),l=(ue.exec(a)||["",""])[1].toLowerCase(),l=de[l]||de._default,i.innerHTML=l[1]+k.htmlPrefilter(a)+l[2],c=l[0];c--;)i=i.lastChild;k.merge(p,i.childNodes),(i=u.firstChild).textContent=""}else p.push(t.createTextNode(a));for(u.textContent="",f=0;a=p[f++];)if(r&&-1<k.inArray(a,r))o&&o.push(a);else if(s=re(a),i=he(u.appendChild(a),"script"),s&&me(i),n)for(c=0;a=i[c++];)pe.test(a.type||"")&&n.push(a);return u}var be=/^([^.]*)(?:\.(.+)|)/;function ve(){return!0}function Ve(){return!1}function we(e,t){return e===function(){try{return _.activeElement}catch(e){}}()==("focus"===t)}function Ee(e,t,n,r,o,a){var i,l;if("object"==_typeof2(t)){for(l in"string"!=typeof n&&(r=r||n,n=void 0),t)Ee(e,l,n,r,t[l],a);return e}if(null==r&&null==o?(o=n,r=n=void 0):null==o&&("string"==typeof n?(o=r,r=void 0):(o=r,r=n,n=void 0)),!1===o)o=Ve;else if(!o)return e;return 1===a&&(i=o,(o=function(e){return k().off(e),i.apply(this,arguments)}).guid=i.guid||(i.guid=k.guid++)),e.each(function(){k.event.add(this,t,o,r,n)})}function _e(e,o,a){a?(Y.set(e,o,!1),k.event.add(e,o,{namespace:!1,handler:function(e){var t,n,r=Y.get(this,o);if(1&e.isTrigger&&this[o]){if(r.length)(k.event.special[o]||{}).delegateType&&e.stopPropagation();else if(r=l.call(arguments),Y.set(this,o,r),t=a(this,o),this[o](),r!==(n=Y.get(this,o))||t?Y.set(this,o,!1):n={},r!==n)return e.stopImmediatePropagation(),e.preventDefault(),n&&n.value}else r.length&&(Y.set(this,o,{value:k.event.trigger(k.extend(r[0],k.Event.prototype),r.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===Y.get(e,o)&&k.event.add(e,o,ve)}k.event={global:{},add:function(t,e,n,r,o){var a,i,l,s,c,u,p,f,d,h=Y.get(t);if(q(t))for(n.handler&&(n=(a=n).handler,o=a.selector),o&&k.find.matchesSelector(ne,o),n.guid||(n.guid=k.guid++),(l=h.events)||(l=h.events=Object.create(null)),(i=h.handle)||(i=h.handle=function(e){return void 0!==k&&k.event.triggered!==e.type?k.event.dispatch.apply(t,arguments):void 0}),s=(e=(e||"").match(R)||[""]).length;s--;)p=d=(c=be.exec(e[s])||[])[1],f=(c[2]||"").split(".").sort(),p&&(u=k.event.special[p]||{},p=(o?u.delegateType:u.bindType)||p,u=k.event.special[p]||{},c=k.extend({type:p,origType:d,data:r,handler:n,guid:n.guid,selector:o,needsContext:o&&k.expr.match.needsContext.test(o),namespace:f.join(".")},a),(d=l[p])||((d=l[p]=[]).delegateCount=0,u.setup&&!1!==u.setup.call(t,r,f,i)||t.addEventListener&&t.addEventListener(p,i)),u.add&&(u.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),o?d.splice(d.delegateCount++,0,c):d.push(c),k.event.global[p]=!0)},remove:function(e,t,n,r,o){var a,i,l,s,c,u,p,f,d,h,m,y=Y.hasData(e)&&Y.get(e);if(y&&(s=y.events)){for(c=(t=(t||"").match(R)||[""]).length;c--;)if(d=m=(l=be.exec(t[c])||[])[1],h=(l[2]||"").split(".").sort(),d){for(p=k.event.special[d]||{},f=s[d=(r?p.delegateType:p.bindType)||d]||[],l=l[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),i=a=f.length;a--;)u=f[a],!o&&m!==u.origType||n&&n.guid!==u.guid||l&&!l.test(u.namespace)||r&&r!==u.selector&&("**"!==r||!u.selector)||(f.splice(a,1),u.selector&&f.delegateCount--,p.remove&&p.remove.call(e,u));i&&!f.length&&(p.teardown&&!1!==p.teardown.call(e,h,y.handle)||k.removeEvent(e,d,y.handle),delete s[d])}else for(d in s)k.event.remove(e,d+t[c],n,r,!0);k.isEmptyObject(s)&&Y.remove(e,"handle events")}},dispatch:function(e){var t,n,r,o,a,i=new Array(arguments.length),l=k.event.fix(e),s=(Y.get(this,"events")||Object.create(null))[l.type]||[],e=k.event.special[l.type]||{};for(i[0]=l,t=1;t<arguments.length;t++)i[t]=arguments[t];if(l.delegateTarget=this,!e.preDispatch||!1!==e.preDispatch.call(this,l)){for(a=k.event.handlers.call(this,l,s),t=0;(r=a[t++])&&!l.isPropagationStopped();)for(l.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!l.isImmediatePropagationStopped();)l.rnamespace&&!1!==o.namespace&&!l.rnamespace.test(o.namespace)||(l.handleObj=o,l.data=o.data,void 0!==(o=((k.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,i))&&!1===(l.result=o)&&(l.preventDefault(),l.stopPropagation()));return e.postDispatch&&e.postDispatch.call(this,l),l.result}},handlers:function(e,t){var n,r,o,a,i,l=[],s=t.delegateCount,c=e.target;if(s&&c.nodeType&&!("click"===e.type&&1<=e.button))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||!0!==c.disabled)){for(a=[],i={},n=0;n<s;n++)void 0===i[o=(r=t[n]).selector+" "]&&(i[o]=r.needsContext?-1<k(o,this).index(c):k.find(o,this,null,[c]).length),i[o]&&a.push(r);a.length&&l.push({elem:c,handlers:a})}return c=this,s<t.length&&l.push({elem:c,handlers:t.slice(s)}),l},addProp:function(t,e){Object.defineProperty(k.Event.prototype,t,{enumerable:!0,configurable:!0,get:v(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(e){return e[k.expando]?e:new k.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){return ce.test((e=this||e).type)&&e.click&&O(e,"input")&&_e(e,"click",ve),!1},trigger:function(e){return ce.test((e=this||e).type)&&e.click&&O(e,"input")&&_e(e,"click"),!0},_default:function(e){return e=e.target,ce.test(e.type)&&e.click&&O(e,"input")&&Y.get(e,"click")||O(e,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},k.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},k.Event=function(e,t){if(!(this instanceof k.Event))return new k.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?ve:Ve,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&k.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[k.expando]=!0},k.Event.prototype={constructor:k.Event,isDefaultPrevented:Ve,isPropagationStopped:Ve,isImmediatePropagationStopped:Ve,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=ve,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=ve,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=ve,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},k.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},k.event.addProp),k.each({focus:"focusin",blur:"focusout"},function(e,t){k.event.special[e]={setup:function(){return _e(this,e,we),!1},trigger:function(){return _e(this,e),!0},_default:function(){return!0},delegateType:t}}),k.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,o){k.event.special[e]={delegateType:o,bindType:o,handle:function(e){var t,n=e.relatedTarget,r=e.handleObj;return n&&(n===this||k.contains(this,n))||(e.type=r.origType,t=r.handler.apply(this,arguments),e.type=o),t}}}),k.fn.extend({on:function(e,t,n,r){return Ee(this,e,t,n,r)},one:function(e,t,n,r){return Ee(this,e,t,n,r,1)},off:function(e,t,n){var r,o;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,k(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"!=_typeof2(e))return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Ve),this.each(function(){k.event.remove(this,e,n,t)});for(o in e)this.off(o,t,e[o]);return this}});var ke=/<script|<style|<link/i,Ce=/checked\s*(?:[^=]|=\s*.checked.)/i,Oe=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Se(e,t){return O(e,"table")&&O(11!==t.nodeType?t:t.firstChild,"tr")&&k(e).children("tbody")[0]||e}function Ae(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function xe(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Pe(e,t){var n,r,o,a;if(1===t.nodeType){if(Y.hasData(e)&&(a=Y.get(e).events))for(o in Y.remove(t,"handle events"),a)for(n=0,r=a[o].length;n<r;n++)k.event.add(t,o,a[o][n]);J.hasData(e)&&(e=J.access(e),e=k.extend({},e),J.set(t,e))}}function De(n,r,o,a){r=y(r);var e,t,i,l,s,c,u=0,p=n.length,f=p-1,d=r[0],h=v(d);if(h||1<p&&"string"==typeof d&&!b.checkClone&&Ce.test(d))return n.each(function(e){var t=n.eq(e);h&&(r[0]=d.call(this,e,t.html())),De(t,r,o,a)});if(p&&(t=(e=ge(r,n[0].ownerDocument,!1,n,a)).firstChild,1===e.childNodes.length&&(e=t),t||a)){for(l=(i=k.map(he(e,"script"),Ae)).length;u<p;u++)s=e,u!==f&&(s=k.clone(s,!0,!0),l&&k.merge(i,he(s,"script"))),o.call(n[u],s,u);if(l)for(c=i[i.length-1].ownerDocument,k.map(i,xe),u=0;u<l;u++)s=i[u],pe.test(s.type||"")&&!Y.access(s,"globalEval")&&k.contains(c,s)&&(s.src&&"module"!==(s.type||"").toLowerCase()?k._evalUrl&&!s.noModule&&k._evalUrl(s.src,{nonce:s.nonce||s.getAttribute("nonce")},c):V(s.textContent.replace(Oe,""),s,c))}return n}function Le(e,t,n){for(var r,o=t?k.filter(t,e):e,a=0;null!=(r=o[a]);a++)n||1!==r.nodeType||k.cleanData(he(r)),r.parentNode&&(n&&re(r)&&me(he(r,"script")),r.parentNode.removeChild(r));return e}function je(e,t,n){var r,o={};for(r in t)o[r]=e.style[r],e.style[r]=t[r];for(r in n=n.call(e),t)e.style[r]=o[r];return n}k.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var r,o,a,i,l,s,c,u=e.cloneNode(!0),p=re(e);if(!(b.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||k.isXMLDoc(e)))for(i=he(u),r=0,o=(a=he(e)).length;r<o;r++)l=a[r],"input"===(c=(s=i[r]).nodeName.toLowerCase())&&ce.test(l.type)?s.checked=l.checked:"input"!==c&&"textarea"!==c||(s.defaultValue=l.defaultValue);if(t)if(n)for(a=a||he(e),i=i||he(u),r=0,o=a.length;r<o;r++)Pe(a[r],i[r]);else Pe(e,u);return 0<(i=he(u,"script")).length&&me(i,!p&&he(e,"script")),u},cleanData:function(e){for(var t,n,r,o=k.event.special,a=0;void 0!==(n=e[a]);a++)if(q(n)){if(t=n[Y.expando]){if(t.events)for(r in t.events)o[r]?k.event.remove(n,r):k.removeEvent(n,r,t.handle);n[Y.expando]=void 0}n[J.expando]&&(n[J.expando]=void 0)}}}),k.fn.extend({detach:function(e){return Le(this,e,!0)},remove:function(e){return Le(this,e)},text:function(e){return W(this,function(e){return void 0===e?k.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return De(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Se(this,e).appendChild(e)})},prepend:function(){return De(this,arguments,function(e){var t;1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(t=Se(this,e)).insertBefore(e,t.firstChild)})},before:function(){return De(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return De(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(k.cleanData(he(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return k.clone(this,e,t)})},html:function(e){return W(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!ke.test(e)&&!de[(ue.exec(e)||["",""])[1].toLowerCase()]){e=k.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(k.cleanData(he(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var n=[];return De(this,arguments,function(e){var t=this.parentNode;k.inArray(this,n)<0&&(k.cleanData(he(this)),t&&t.replaceChild(e,this))},n)}}),k.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,i){k.fn[e]=function(e){for(var t,n=[],r=k(e),o=r.length-1,a=0;a<=o;a++)t=a===o?this:this.clone(!0),k(r[a])[i](t),s.apply(n,t.get());return this.pushStack(n)}});var Re,Fe,Te,Ne,Me,Ie,Be,We,Ue=new RegExp("^("+Z+")(?!px)[a-z%]+$","i"),Ke=function(e){var t=e.ownerDocument.defaultView;return(t=t&&t.opener?t:E).getComputedStyle(e)},ze=new RegExp(te.join("|"),"i");function Ge(){var e;We&&(Be.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",We.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ne.appendChild(Be).appendChild(We),e=E.getComputedStyle(We),Re="1%"!==e.top,Ie=12===qe(e.marginLeft),We.style.right="60%",Ne=36===qe(e.right),Fe=36===qe(e.width),We.style.position="absolute",Te=12===qe(We.offsetWidth/3),ne.removeChild(Be),We=null)}function qe(e){return Math.round(parseFloat(e))}function He(e,t,n){var r,o,a=e.style;return(n=n||Ke(e))&&(""!==(o=n.getPropertyValue(t)||n[t])||re(e)||(o=k.style(e,t)),!b.pixelBoxStyles()&&Ue.test(o)&&ze.test(t)&&(r=a.width,e=a.minWidth,t=a.maxWidth,a.minWidth=a.maxWidth=a.width=o,o=n.width,a.width=r,a.minWidth=e,a.maxWidth=t)),void 0!==o?o+"":o}function Ye(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}Be=_.createElement("div"),(We=_.createElement("div")).style&&(We.style.backgroundClip="content-box",We.cloneNode(!0).style.backgroundClip="",b.clearCloneStyle="content-box"===We.style.backgroundClip,k.extend(b,{boxSizingReliable:function(){return Ge(),Fe},pixelBoxStyles:function(){return Ge(),Ne},pixelPosition:function(){return Ge(),Re},reliableMarginLeft:function(){return Ge(),Ie},scrollboxSize:function(){return Ge(),Te},reliableTrDimensions:function(){var e,t,n;return null==Me&&(e=_.createElement("table"),t=_.createElement("tr"),n=_.createElement("div"),e.style.cssText="position:absolute;left:-11111px;border-collapse:separate",t.style.cssText="border:1px solid",t.style.height="1px",n.style.height="9px",n.style.display="block",ne.appendChild(e).appendChild(t).appendChild(n),n=E.getComputedStyle(t),Me=parseInt(n.height,10)+parseInt(n.borderTopWidth,10)+parseInt(n.borderBottomWidth,10)===t.offsetHeight,ne.removeChild(e)),Me}}));var Je=["Webkit","Moz","ms"],Qe=_.createElement("div").style,$e={};function Xe(e){return k.cssProps[e]||$e[e]||(e in Qe?e:$e[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),n=Je.length;n--;)if((e=Je[n]+t)in Qe)return e}(e)||e)}var Ze=/^(none|table(?!-c[ea]).+)/,et=/^--/,tt={position:"absolute",visibility:"hidden",display:"block"},nt={letterSpacing:"0",fontWeight:"400"};function rt(e,t,n){var r=ee.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function ot(e,t,n,r,o,a){var i="width"===t?1:0,l=0,s=0;if(n===(r?"border":"content"))return 0;for(;i<4;i+=2)"margin"===n&&(s+=k.css(e,n+te[i],!0,o)),r?("content"===n&&(s-=k.css(e,"padding"+te[i],!0,o)),"margin"!==n&&(s-=k.css(e,"border"+te[i]+"Width",!0,o))):(s+=k.css(e,"padding"+te[i],!0,o),"padding"!==n?s+=k.css(e,"border"+te[i]+"Width",!0,o):l+=k.css(e,"border"+te[i]+"Width",!0,o));return!r&&0<=a&&(s+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-a-s-l-.5))||0),s}function at(e,t,n){var r=Ke(e),o=(!b.boxSizingReliable()||n)&&"border-box"===k.css(e,"boxSizing",!1,r),a=o,i=He(e,t,r),l="offset"+t[0].toUpperCase()+t.slice(1);if(Ue.test(i)){if(!n)return i;i="auto"}return(!b.boxSizingReliable()&&o||!b.reliableTrDimensions()&&O(e,"tr")||"auto"===i||!parseFloat(i)&&"inline"===k.css(e,"display",!1,r))&&e.getClientRects().length&&(o="border-box"===k.css(e,"boxSizing",!1,r),(a=l in e)&&(i=e[l])),(i=parseFloat(i)||0)+ot(e,t,n||(o?"border":"content"),a,r,i)+"px"}function it(e,t,n,r,o){return new it.prototype.init(e,t,n,r,o)}k.extend({cssHooks:{opacity:{get:function(e,t){if(t)return""===(e=He(e,"opacity"))?"1":e}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,a,i,l=G(t),s=et.test(t),c=e.style;if(s||(t=Xe(l)),i=k.cssHooks[t]||k.cssHooks[l],void 0===n)return i&&"get"in i&&void 0!==(o=i.get(e,!1,r))?o:c[t];"string"===(a=_typeof2(n))&&(o=ee.exec(n))&&o[1]&&(n=ie(e,t,o),a="number"),null!=n&&n==n&&("number"!==a||s||(n+=o&&o[3]||(k.cssNumber[l]?"":"px")),b.clearCloneStyle||""!==n||0!==t.indexOf("background")||(c[t]="inherit"),i&&"set"in i&&void 0===(n=i.set(e,n,r))||(s?c.setProperty(t,n):c[t]=n))}},css:function(e,t,n,r){var o,a=G(t);return et.test(t)||(t=Xe(a)),"normal"===(o=void 0===(o=(a=k.cssHooks[t]||k.cssHooks[a])&&"get"in a?a.get(e,!0,n):o)?He(e,t,r):o)&&t in nt&&(o=nt[t]),""===n||n?(t=parseFloat(o),!0===n||isFinite(t)?t||0:o):o}}),k.each(["height","width"],function(e,l){k.cssHooks[l]={get:function(e,t,n){if(t)return!Ze.test(k.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?at(e,l,n):je(e,tt,function(){return at(e,l,n)})},set:function(e,t,n){var r,o=Ke(e),a=!b.scrollboxSize()&&"absolute"===o.position,i=(a||n)&&"border-box"===k.css(e,"boxSizing",!1,o),n=n?ot(e,l,n,i,o):0;return i&&a&&(n-=Math.ceil(e["offset"+l[0].toUpperCase()+l.slice(1)]-parseFloat(o[l])-ot(e,l,"border",!1,o)-.5)),n&&(r=ee.exec(t))&&"px"!==(r[3]||"px")&&(e.style[l]=t,t=k.css(e,l)),rt(0,t,n)}}}),k.cssHooks.marginLeft=Ye(b.reliableMarginLeft,function(e,t){if(t)return(parseFloat(He(e,"marginLeft"))||e.getBoundingClientRect().left-je(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),k.each({margin:"",padding:"",border:"Width"},function(o,a){k.cssHooks[o+a]={expand:function(e){for(var t=0,n={},r="string"==typeof e?e.split(" "):[e];t<4;t++)n[o+te[t]+a]=r[t]||r[t-2]||r[0];return n}},"margin"!==o&&(k.cssHooks[o+a].set=rt)}),k.fn.extend({css:function(e,t){return W(this,function(e,t,n){var r,o,a={},i=0;if(Array.isArray(t)){for(r=Ke(e),o=t.length;i<o;i++)a[t[i]]=k.css(e,t[i],!1,r);return a}return void 0!==n?k.style(e,t,n):k.css(e,t)},e,t,1<arguments.length)}}),(k.Tween=it).prototype={constructor:it,init:function(e,t,n,r,o,a){this.elem=e,this.prop=n,this.easing=o||k.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=a||(k.cssNumber[n]?"":"px")},cur:function(){var e=it.propHooks[this.prop];return(e&&e.get?e:it.propHooks._default).get(this)},run:function(e){var t,n=it.propHooks[this.prop];return this.options.duration?this.pos=t=k.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),(n&&n.set?n:it.propHooks._default).set(this),this}},it.prototype.init.prototype=it.prototype,it.propHooks={_default:{get:function(e){return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(e=k.css(e.elem,e.prop,""))&&"auto"!==e?e:0},set:function(e){k.fx.step[e.prop]?k.fx.step[e.prop](e):1!==e.elem.nodeType||!k.cssHooks[e.prop]&&null==e.elem.style[Xe(e.prop)]?e.elem[e.prop]=e.now:k.style(e.elem,e.prop,e.now+e.unit)}}},it.propHooks.scrollTop=it.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},k.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},k.fx=it.prototype.init,k.fx.step={};var lt,st,ct=/^(?:toggle|show|hide)$/,ut=/queueHooks$/;function pt(){st&&(!1===_.hidden&&E.requestAnimationFrame?E.requestAnimationFrame(pt):E.setTimeout(pt,k.fx.interval),k.fx.tick())}function ft(){return E.setTimeout(function(){lt=void 0}),lt=Date.now()}function dt(e,t){var n,r=0,o={height:e};for(t=t?1:0;r<4;r+=2-t)o["margin"+(n=te[r])]=o["padding"+n]=e;return t&&(o.opacity=o.width=e),o}function ht(e,t,n){for(var r,o=(mt.tweeners[t]||[]).concat(mt.tweeners["*"]),a=0,i=o.length;a<i;a++)if(r=o[a].call(n,t,e))return r}function mt(o,e,t){var n,a,r=0,i=mt.prefilters.length,l=k.Deferred().always(function(){delete s.elem}),s=function(){if(a)return!1;for(var e=lt||ft(),t=1-((e=Math.max(0,c.startTime+c.duration-e))/c.duration||0),n=0,r=c.tweens.length;n<r;n++)c.tweens[n].run(t);return l.notifyWith(o,[c,t,e]),t<1&&r?e:(r||l.notifyWith(o,[c,1,0]),l.resolveWith(o,[c]),!1)},c=l.promise({elem:o,props:k.extend({},e),opts:k.extend(!0,{specialEasing:{},easing:k.easing._default},t),originalProperties:e,originalOptions:t,startTime:lt||ft(),duration:t.duration,tweens:[],createTween:function(e,t){return e=k.Tween(o,c.opts,e,t,c.opts.specialEasing[e]||c.opts.easing),c.tweens.push(e),e},stop:function(e){var t=0,n=e?c.tweens.length:0;if(a)return this;for(a=!0;t<n;t++)c.tweens[t].run(1);return e?(l.notifyWith(o,[c,1,0]),l.resolveWith(o,[c,e])):l.rejectWith(o,[c,e]),this}}),u=c.props;for(function(e,t){var n,r,o,a,i;for(n in e)if(o=t[r=G(n)],a=e[n],Array.isArray(a)&&(o=a[1],a=e[n]=a[0]),n!==r&&(e[r]=a,delete e[n]),(i=k.cssHooks[r])&&"expand"in i)for(n in a=i.expand(a),delete e[r],a)n in e||(e[n]=a[n],t[n]=o);else t[r]=o}(u,c.opts.specialEasing);r<i;r++)if(n=mt.prefilters[r].call(c,o,u,c.opts))return v(n.stop)&&(k._queueHooks(c.elem,c.opts.queue).stop=n.stop.bind(n)),n;return k.map(u,ht,c),v(c.opts.start)&&c.opts.start.call(o,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),k.fx.timer(k.extend(s,{elem:o,anim:c,queue:c.opts.queue})),c}k.Animation=k.extend(mt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return ie(n.elem,e,ee.exec(t),n),n}]},tweener:function(e,t){for(var n,r=0,o=(e=v(e)?(t=e,["*"]):e.match(R)).length;r<o;r++)n=e[r],mt.tweeners[n]=mt.tweeners[n]||[],mt.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,o,a,i,l,s,c,u="width"in t||"height"in t,p=this,f={},d=e.style,h=e.nodeType&&ae(e),m=Y.get(e,"fxshow");for(r in n.queue||(null==(i=k._queueHooks(e,"fx")).unqueued&&(i.unqueued=0,l=i.empty.fire,i.empty.fire=function(){i.unqueued||l()}),i.unqueued++,p.always(function(){p.always(function(){i.unqueued--,k.queue(e,"fx").length||i.empty.fire()})})),t)if(o=t[r],ct.test(o)){if(delete t[r],a=a||"toggle"===o,o===(h?"hide":"show")){if("show"!==o||!m||void 0===m[r])continue;h=!0}f[r]=m&&m[r]||k.style(e,r)}if((s=!k.isEmptyObject(t))||!k.isEmptyObject(f))for(r in u&&1===e.nodeType&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],null==(c=m&&m.display)&&(c=Y.get(e,"display")),"none"===(u=k.css(e,"display"))&&(c?u=c:(se([e],!0),c=e.style.display||c,u=k.css(e,"display"),se([e]))),("inline"===u||"inline-block"===u&&null!=c)&&"none"===k.css(e,"float")&&(s||(p.done(function(){d.display=c}),null==c&&(u=d.display,c="none"===u?"":u)),d.display="inline-block")),n.overflow&&(d.overflow="hidden",p.always(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]})),s=!1,f)s||(m?"hidden"in m&&(h=m.hidden):m=Y.access(e,"fxshow",{display:c}),a&&(m.hidden=!h),h&&se([e],!0),p.done(function(){for(r in h||se([e]),Y.remove(e,"fxshow"),f)k.style(e,r,f[r])})),s=ht(h?m[r]:0,r,p),r in m||(m[r]=s.start,h&&(s.end=s.start,s.start=0))}],prefilter:function(e,t){t?mt.prefilters.unshift(e):mt.prefilters.push(e)}}),k.speed=function(e,t,n){var r=e&&"object"==_typeof2(e)?k.extend({},e):{complete:n||!n&&t||v(e)&&e,duration:e,easing:n&&t||t&&!v(t)&&t};return k.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in k.fx.speeds?r.duration=k.fx.speeds[r.duration]:r.duration=k.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){v(r.old)&&r.old.call(this),r.queue&&k.dequeue(this,r.queue)},r},k.fn.extend({fadeTo:function(e,t,n,r){return this.filter(ae).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(t,e,n,r){var o=k.isEmptyObject(t),a=k.speed(e,n,r);return(r=function(){var e=mt(this,k.extend({},t),a);(o||Y.get(this,"finish"))&&e.stop(!0)}).finish=r,o||!1===a.queue?this.each(r):this.queue(a.queue,r)},stop:function(o,e,a){function i(e){var t=e.stop;delete e.stop,t(a)}return"string"!=typeof o&&(a=e,e=o,o=void 0),e&&this.queue(o||"fx",[]),this.each(function(){var e=!0,t=null!=o&&o+"queueHooks",n=k.timers,r=Y.get(this);if(t)r[t]&&r[t].stop&&i(r[t]);else for(t in r)r[t]&&r[t].stop&&ut.test(t)&&i(r[t]);for(t=n.length;t--;)n[t].elem!==this||null!=o&&n[t].queue!==o||(n[t].anim.stop(a),e=!1,n.splice(t,1));!e&&a||k.dequeue(this,o)})},finish:function(i){return!1!==i&&(i=i||"fx"),this.each(function(){var e,t=Y.get(this),n=t[i+"queue"],r=t[i+"queueHooks"],o=k.timers,a=n?n.length:0;for(t.finish=!0,k.queue(this,i,[]),r&&r.stop&&r.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===i&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<a;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete t.finish})}}),k.each(["toggle","show","hide"],function(e,r){var o=k.fn[r];k.fn[r]=function(e,t,n){return null==e||"boolean"==typeof e?o.apply(this,arguments):this.animate(dt(r,!0),e,t,n)}}),k.each({slideDown:dt("show"),slideUp:dt("hide"),slideToggle:dt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,r){k.fn[e]=function(e,t,n){return this.animate(r,e,t,n)}}),k.timers=[],k.fx.tick=function(){var e,t=0,n=k.timers;for(lt=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||k.fx.stop(),lt=void 0},k.fx.timer=function(e){k.timers.push(e),k.fx.start()},k.fx.interval=13,k.fx.start=function(){st||(st=!0,pt())},k.fx.stop=function(){st=null},k.fx.speeds={slow:600,fast:200,_default:400},k.fn.delay=function(r,e){return r=k.fx&&k.fx.speeds[r]||r,this.queue(e=e||"fx",function(e,t){var n=E.setTimeout(e,r);t.stop=function(){E.clearTimeout(n)}})},fe=_.createElement("input"),Z=_.createElement("select").appendChild(_.createElement("option")),fe.type="checkbox",b.checkOn=""!==fe.value,b.optSelected=Z.selected,(fe=_.createElement("input")).value="t",fe.type="radio",b.radioValue="t"===fe.value;var yt,gt=k.expr.attrHandle;k.fn.extend({attr:function(e,t){return W(this,k.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){k.removeAttr(this,e)})}}),k.extend({attr:function(e,t,n){var r,o,a=e.nodeType;if(3!==a&&8!==a&&2!==a)return void 0===e.getAttribute?k.prop(e,t,n):(1===a&&k.isXMLDoc(e)||(o=k.attrHooks[t.toLowerCase()]||(k.expr.match.bool.test(t)?yt:void 0)),void 0!==n?null===n?void k.removeAttr(e,t):o&&"set"in o&&void 0!==(r=o.set(e,n,t))?r:(e.setAttribute(t,n+""),n):o&&"get"in o&&null!==(r=o.get(e,t))||null!=(r=k.find.attr(e,t))?r:void 0)},attrHooks:{type:{set:function(e,t){if(!b.radioValue&&"radio"===t&&O(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,o=t&&t.match(R);if(o&&1===e.nodeType)for(;n=o[r++];)e.removeAttribute(n)}}),yt={set:function(e,t,n){return!1===t?k.removeAttr(e,n):e.setAttribute(n,n),n}},k.each(k.expr.match.bool.source.match(/\w+/g),function(e,t){var i=gt[t]||k.find.attr;gt[t]=function(e,t,n){var r,o,a=t.toLowerCase();return n||(o=gt[a],gt[a]=r,r=null!=i(e,t,n)?a:null,gt[a]=o),r}});var bt=/^(?:input|select|textarea|button)$/i,vt=/^(?:a|area)$/i;function Vt(e){return(e.match(R)||[]).join(" ")}function wt(e){return e.getAttribute&&e.getAttribute("class")||""}function Et(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(R)||[]}k.fn.extend({prop:function(e,t){return W(this,k.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[k.propFix[e]||e]})}}),k.extend({prop:function(e,t,n){var r,o,a=e.nodeType;if(3!==a&&8!==a&&2!==a)return 1===a&&k.isXMLDoc(e)||(t=k.propFix[t]||t,o=k.propHooks[t]),void 0!==n?o&&"set"in o&&void 0!==(r=o.set(e,n,t))?r:e[t]=n:o&&"get"in o&&null!==(r=o.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=k.find.attr(e,"tabindex");return t?parseInt(t,10):bt.test(e.nodeName)||vt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),b.optSelected||(k.propHooks.selected={get:function(e){return(e=e.parentNode)&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(e){(e=e.parentNode)&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),k.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){k.propFix[this.toLowerCase()]=this}),k.fn.extend({addClass:function(t){var e,n,r,o,a,i,l=0;if(v(t))return this.each(function(e){k(this).addClass(t.call(this,e,wt(this)))});if((e=Et(t)).length)for(;n=this[l++];)if(i=wt(n),r=1===n.nodeType&&" "+Vt(i)+" "){for(a=0;o=e[a++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");i!==(i=Vt(r))&&n.setAttribute("class",i)}return this},removeClass:function(t){var e,n,r,o,a,i,l=0;if(v(t))return this.each(function(e){k(this).removeClass(t.call(this,e,wt(this)))});if(!arguments.length)return this.attr("class","");if((e=Et(t)).length)for(;n=this[l++];)if(i=wt(n),r=1===n.nodeType&&" "+Vt(i)+" "){for(a=0;o=e[a++];)for(;-1<r.indexOf(" "+o+" ");)r=r.replace(" "+o+" "," ");i!==(i=Vt(r))&&n.setAttribute("class",i)}return this},toggleClass:function(o,t){var a=_typeof2(o),i="string"==a||Array.isArray(o);return"boolean"==typeof t&&i?t?this.addClass(o):this.removeClass(o):v(o)?this.each(function(e){k(this).toggleClass(o.call(this,e,wt(this),t),t)}):this.each(function(){var e,t,n,r;if(i)for(t=0,n=k(this),r=Et(o);e=r[t++];)n.hasClass(e)?n.removeClass(e):n.addClass(e);else void 0!==o&&"boolean"!=a||((e=wt(this))&&Y.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",!e&&!1!==o&&Y.get(this,"__className__")||""))})},hasClass:function(e){for(var t,n=0,r=" "+e+" ";t=this[n++];)if(1===t.nodeType&&-1<(" "+Vt(wt(t))+" ").indexOf(r))return!0;return!1}});var _t=/\r/g;function kt(e){e.stopPropagation()}k.fn.extend({val:function(t){var n,e,r,o=this[0];return arguments.length?(r=v(t),this.each(function(e){1===this.nodeType&&(null==(e=r?t.call(this,e,k(this).val()):t)?e="":"number"==typeof e?e+="":Array.isArray(e)&&(e=k.map(e,function(e){return null==e?"":e+""})),(n=k.valHooks[this.type]||k.valHooks[this.nodeName.toLowerCase()])&&"set"in n&&void 0!==n.set(this,e,"value")||(this.value=e))})):o?(n=k.valHooks[o.type]||k.valHooks[o.nodeName.toLowerCase()])&&"get"in n&&void 0!==(e=n.get(o,"value"))?e:"string"==typeof(e=o.value)?e.replace(_t,""):null==e?"":e:void 0}}),k.extend({valHooks:{option:{get:function(e){var t=k.find.attr(e,"value");return null!=t?t:Vt(k.text(e))}},select:{get:function(e){for(var t,n=e.options,r=e.selectedIndex,o="select-one"===e.type,a=o?null:[],i=o?r+1:n.length,l=r<0?i:o?r:0;l<i;l++)if(((t=n[l]).selected||l===r)&&!t.disabled&&(!t.parentNode.disabled||!O(t.parentNode,"optgroup"))){if(t=k(t).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var n,r,o=e.options,a=k.makeArray(t),i=o.length;i--;)((r=o[i]).selected=-1<k.inArray(k.valHooks.option.get(r),a))&&(n=!0);return n||(e.selectedIndex=-1),a}}}}),k.each(["radio","checkbox"],function(){k.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=-1<k.inArray(k(e).val(),t)}},b.checkOn||(k.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),b.focusin="onfocusin"in E;var Ct=/^(?:focusinfocus|focusoutblur)$/;k.extend(k.event,{trigger:function(e,t,n,r){var o,a,i,l,s,c,u,p=[n||_],f=g.call(e,"type")?e.type:e,d=g.call(e,"namespace")?e.namespace.split("."):[],h=u=a=n=n||_;if(3!==n.nodeType&&8!==n.nodeType&&!Ct.test(f+k.event.triggered)&&(-1<f.indexOf(".")&&(f=(d=f.split(".")).shift(),d.sort()),l=f.indexOf(":")<0&&"on"+f,(e=e[k.expando]?e:new k.Event(f,"object"==_typeof2(e)&&e)).isTrigger=r?2:3,e.namespace=d.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:k.makeArray(t,[e]),c=k.event.special[f]||{},r||!c.trigger||!1!==c.trigger.apply(n,t))){if(!r&&!c.noBubble&&!m(n)){for(i=c.delegateType||f,Ct.test(i+f)||(h=h.parentNode);h;h=h.parentNode)p.push(h),a=h;a===(n.ownerDocument||_)&&p.push(a.defaultView||a.parentWindow||E)}for(o=0;(h=p[o++])&&!e.isPropagationStopped();)u=h,e.type=1<o?i:c.bindType||f,(s=(Y.get(h,"events")||Object.create(null))[e.type]&&Y.get(h,"handle"))&&s.apply(h,t),(s=l&&h[l])&&s.apply&&q(h)&&(e.result=s.apply(h,t),!1===e.result&&e.preventDefault());return e.type=f,r||e.isDefaultPrevented()||c._default&&!1!==c._default.apply(p.pop(),t)||!q(n)||l&&v(n[f])&&!m(n)&&((a=n[l])&&(n[l]=null),k.event.triggered=f,e.isPropagationStopped()&&u.addEventListener(f,kt),n[f](),e.isPropagationStopped()&&u.removeEventListener(f,kt),k.event.triggered=void 0,a&&(n[l]=a)),e.result}},simulate:function(e,t,n){e=k.extend(new k.Event,n,{type:e,isSimulated:!0}),k.event.trigger(e,null,t)}}),k.fn.extend({trigger:function(e,t){return this.each(function(){k.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return k.event.trigger(e,t,n,!0)}}),b.focusin||k.each({focus:"focusin",blur:"focusout"},function(n,r){function o(e){k.event.simulate(r,e.target,k.event.fix(e))}k.event.special[r]={setup:function(){var e=this.ownerDocument||this.document||this,t=Y.access(e,r);t||e.addEventListener(n,o,!0),Y.access(e,r,(t||0)+1)},teardown:function(){var e=this.ownerDocument||this.document||this,t=Y.access(e,r)-1;t?Y.access(e,r,t):(e.removeEventListener(n,o,!0),Y.remove(e,r))}}});var Ot=E.location,St={guid:Date.now()},At=/\?/;k.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{t=(new E.DOMParser).parseFromString(e,"text/xml")}catch(e){}return n=t&&t.getElementsByTagName("parsererror")[0],t&&!n||k.error("Invalid XML: "+(n?k.map(n.childNodes,function(e){return e.textContent}).join("\n"):e)),t};var xt=/\[\]$/,Pt=/\r?\n/g,Dt=/^(?:submit|button|image|reset|file)$/i,Lt=/^(?:input|select|textarea|keygen)/i;k.param=function(e,t){function n(e,t){t=v(t)?t():t,o[o.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==t?"":t)}var r,o=[];if(null==e)return"";if(Array.isArray(e)||e.jquery&&!k.isPlainObject(e))k.each(e,function(){n(this.name,this.value)});else for(r in e)!function n(r,e,o,a){if(Array.isArray(e))k.each(e,function(e,t){o||xt.test(r)?a(r,t):n(r+"["+("object"==_typeof2(t)&&null!=t?e:"")+"]",t,o,a)});else if(o||"object"!==h(e))a(r,e);else for(var t in e)n(r+"["+t+"]",e[t],o,a)}(r,e[r],t,n);return o.join("&")},k.fn.extend({serialize:function(){return k.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=k.prop(this,"elements");return e?k.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!k(this).is(":disabled")&&Lt.test(this.nodeName)&&!Dt.test(e)&&(this.checked||!ce.test(e))}).map(function(e,t){var n=k(this).val();return null==n?null:Array.isArray(n)?k.map(n,function(e){return{name:t.name,value:e.replace(Pt,"\r\n")}}):{name:t.name,value:n.replace(Pt,"\r\n")}}).get()}});var jt=/%20/g,Rt=/#.*$/,Ft=/([?&])_=[^&]*/,Tt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Nt=/^(?:GET|HEAD)$/,Mt=/^\/\//,It={},Bt={},Wt="*/".concat("*"),Ut=_.createElement("a");function Kt(a){return function(e,t){"string"!=typeof e&&(t=e,e="*");var n,r=0,o=e.toLowerCase().match(R)||[];if(v(t))for(;n=o[r++];)"+"===n[0]?(n=n.slice(1)||"*",(a[n]=a[n]||[]).unshift(t)):(a[n]=a[n]||[]).push(t)}}function zt(t,r,o,a){var i={},l=t===Bt;function s(e){var n;return i[e]=!0,k.each(t[e]||[],function(e,t){return"string"!=typeof(t=t(r,o,a))||l||i[t]?l?!(n=t):void 0:(r.dataTypes.unshift(t),s(t),!1)}),n}return s(r.dataTypes[0])||!i["*"]&&s("*")}function Gt(e,t){var n,r,o=k.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((o[n]?e:r=r||{})[n]=t[n]);return r&&k.extend(!0,e,r),e}Ut.href=Ot.href,k.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ot.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Ot.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Wt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":k.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Gt(Gt(e,k.ajaxSettings),t):Gt(k.ajaxSettings,e)},ajaxPrefilter:Kt(It),ajaxTransport:Kt(Bt),ajax:function(e,t){"object"==_typeof2(e)&&(t=e,e=void 0);var s,c,u,n,p,f,d,r,o,h=k.ajaxSetup({},t=t||{}),m=h.context||h,y=h.context&&(m.nodeType||m.jquery)?k(m):k.event,g=k.Deferred(),b=k.Callbacks("once memory"),v=h.statusCode||{},a={},i={},l="canceled",V={readyState:0,getResponseHeader:function(e){var t;if(f){if(!n)for(n={};t=Tt.exec(u);)n[t[1].toLowerCase()+" "]=(n[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=n[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return f?u:null},setRequestHeader:function(e,t){return null==f&&(e=i[e.toLowerCase()]=i[e.toLowerCase()]||e,a[e]=t),this},overrideMimeType:function(e){return null==f&&(h.mimeType=e),this},statusCode:function(e){if(e)if(f)V.always(e[V.status]);else for(var t in e)v[t]=[v[t],e[t]];return this},abort:function(e){return e=e||l,s&&s.abort(e),w(0,e),this}};if(g.promise(V),h.url=((e||h.url||Ot.href)+"").replace(Mt,Ot.protocol+"//"),h.type=t.method||t.type||h.method||h.type,h.dataTypes=(h.dataType||"*").toLowerCase().match(R)||[""],null==h.crossDomain){o=_.createElement("a");try{o.href=h.url,o.href=o.href,h.crossDomain=Ut.protocol+"//"+Ut.host!=o.protocol+"//"+o.host}catch(e){h.crossDomain=!0}}if(h.data&&h.processData&&"string"!=typeof h.data&&(h.data=k.param(h.data,h.traditional)),zt(It,h,t,V),f)return V;for(r in(d=k.event&&h.global)&&0==k.active++&&k.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!Nt.test(h.type),c=h.url.replace(Rt,""),h.hasContent?h.data&&h.processData&&0===(h.contentType||"").indexOf("application/x-www-form-urlencoded")&&(h.data=h.data.replace(jt,"+")):(o=h.url.slice(c.length),h.data&&(h.processData||"string"==typeof h.data)&&(c+=(At.test(c)?"&":"?")+h.data,delete h.data),!1===h.cache&&(c=c.replace(Ft,"$1"),o=(At.test(c)?"&":"?")+"_="+St.guid+++o),h.url=c+o),h.ifModified&&(k.lastModified[c]&&V.setRequestHeader("If-Modified-Since",k.lastModified[c]),k.etag[c]&&V.setRequestHeader("If-None-Match",k.etag[c])),(h.data&&h.hasContent&&!1!==h.contentType||t.contentType)&&V.setRequestHeader("Content-Type",h.contentType),V.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+Wt+"; q=0.01":""):h.accepts["*"]),h.headers)V.setRequestHeader(r,h.headers[r]);if(h.beforeSend&&(!1===h.beforeSend.call(m,V,h)||f))return V.abort();if(l="abort",b.add(h.complete),V.done(h.success),V.fail(h.error),s=zt(Bt,h,t,V)){if(V.readyState=1,d&&y.trigger("ajaxSend",[V,h]),f)return V;h.async&&0<h.timeout&&(p=E.setTimeout(function(){V.abort("timeout")},h.timeout));try{f=!1,s.send(a,w)}catch(e){if(f)throw e;w(-1,e)}}else w(-1,"No Transport");function w(e,t,n,r){var o,a,i,l=t;f||(f=!0,p&&E.clearTimeout(p),s=void 0,u=r||"",V.readyState=0<e?4:0,r=200<=e&&e<300||304===e,n&&(i=function(e,t,n){for(var r,o,a,i,l=e.contents,s=e.dataTypes;"*"===s[0];)s.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(o in l)if(l[o]&&l[o].test(r)){s.unshift(o);break}if(s[0]in n)a=s[0];else{for(o in n){if(!s[0]||e.converters[o+" "+s[0]]){a=o;break}i=i||o}a=a||i}if(a)return a!==s[0]&&s.unshift(a),n[a]}(h,V,n)),!r&&-1<k.inArray("script",h.dataTypes)&&k.inArray("json",h.dataTypes)<0&&(h.converters["text script"]=function(){}),i=function(e,t,n,r){var o,a,i,l,s,c={},u=e.dataTypes.slice();if(u[1])for(i in e.converters)c[i.toLowerCase()]=e.converters[i];for(a=u.shift();a;)if(e.responseFields[a]&&(n[e.responseFields[a]]=t),!s&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),s=a,a=u.shift())if("*"===a)a=s;else if("*"!==s&&s!==a){if(!(i=c[s+" "+a]||c["* "+a]))for(o in c)if((l=o.split(" "))[1]===a&&(i=c[s+" "+l[0]]||c["* "+l[0]])){!0===i?i=c[o]:!0!==c[o]&&(a=l[0],u.unshift(l[1]));break}if(!0!==i)if(i&&e.throws)t=i(t);else try{t=i(t)}catch(e){return{state:"parsererror",error:i?e:"No conversion from "+s+" to "+a}}}return{state:"success",data:t}}(h,i,V,r),r?(h.ifModified&&((n=V.getResponseHeader("Last-Modified"))&&(k.lastModified[c]=n),(n=V.getResponseHeader("etag"))&&(k.etag[c]=n)),204===e||"HEAD"===h.type?l="nocontent":304===e?l="notmodified":(l=i.state,o=i.data,r=!(a=i.error))):(a=l,!e&&l||(l="error",e<0&&(e=0))),V.status=e,V.statusText=(t||l)+"",r?g.resolveWith(m,[o,l,V]):g.rejectWith(m,[V,l,a]),V.statusCode(v),v=void 0,d&&y.trigger(r?"ajaxSuccess":"ajaxError",[V,h,r?o:a]),b.fireWith(m,[V,l]),d&&(y.trigger("ajaxComplete",[V,h]),--k.active||k.event.trigger("ajaxStop")))}return V},getJSON:function(e,t,n){return k.get(e,t,n,"json")},getScript:function(e,t){return k.get(e,void 0,t,"script")}}),k.each(["get","post"],function(e,o){k[o]=function(e,t,n,r){return v(t)&&(r=r||n,n=t,t=void 0),k.ajax(k.extend({url:e,type:o,dataType:r,data:t,success:n},k.isPlainObject(e)&&e))}}),k.ajaxPrefilter(function(e){for(var t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")}),k._evalUrl=function(e,t,n){return k.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){k.globalEval(e,t,n)}})},k.fn.extend({wrapAll:function(e){return this[0]&&(v(e)&&(e=e.call(this[0])),e=k(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(n){return v(n)?this.each(function(e){k(this).wrapInner(n.call(this,e))}):this.each(function(){var e=k(this),t=e.contents();t.length?t.wrapAll(n):e.append(n)})},wrap:function(t){var n=v(t);return this.each(function(e){k(this).wrapAll(n?t.call(this,e):t)})},unwrap:function(e){return this.parent(e).not("body").each(function(){k(this).replaceWith(this.childNodes)}),this}}),k.expr.pseudos.hidden=function(e){return!k.expr.pseudos.visible(e)},k.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},k.ajaxSettings.xhr=function(){try{return new E.XMLHttpRequest}catch(e){}};var qt={0:200,1223:204},Ht=k.ajaxSettings.xhr();b.cors=!!Ht&&"withCredentials"in Ht,b.ajax=Ht=!!Ht,k.ajaxTransport(function(o){var a,i;if(b.cors||Ht&&!o.crossDomain)return{send:function(e,t){var n,r=o.xhr();if(r.open(o.type,o.url,o.async,o.username,o.password),o.xhrFields)for(n in o.xhrFields)r[n]=o.xhrFields[n];for(n in o.mimeType&&r.overrideMimeType&&r.overrideMimeType(o.mimeType),o.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)r.setRequestHeader(n,e[n]);a=function(e){return function(){a&&(a=i=r.onload=r.onerror=r.onabort=r.ontimeout=r.onreadystatechange=null,"abort"===e?r.abort():"error"===e?"number"!=typeof r.status?t(0,"error"):t(r.status,r.statusText):t(qt[r.status]||r.status,r.statusText,"text"!==(r.responseType||"text")||"string"!=typeof r.responseText?{binary:r.response}:{text:r.responseText},r.getAllResponseHeaders()))}},r.onload=a(),i=r.onerror=r.ontimeout=a("error"),void 0!==r.onabort?r.onabort=i:r.onreadystatechange=function(){4===r.readyState&&E.setTimeout(function(){a&&i()})},a=a("abort");try{r.send(o.hasContent&&o.data||null)}catch(e){if(a)throw e}},abort:function(){a&&a()}}}),k.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),k.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return k.globalEval(e),e}}}),k.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),k.ajaxTransport("script",function(n){var r,o;if(n.crossDomain||n.scriptAttrs)return{send:function(e,t){r=k("<script>").attr(n.scriptAttrs||{}).prop({charset:n.scriptCharset,src:n.url}).on("load error",o=function(e){r.remove(),o=null,e&&t("error"===e.type?404:200,e.type)}),_.head.appendChild(r[0])},abort:function(){o&&o()}}});var fe,Yt=[],Jt=/(=)\?(?=&|$)|\?\?/;k.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Yt.pop()||k.expando+"_"+St.guid++;return this[e]=!0,e}}),k.ajaxPrefilter("json jsonp",function(e,t,n){var r,o,a,i=!1!==e.jsonp&&(Jt.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Jt.test(e.data)&&"data");if(i||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=v(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,i?e[i]=e[i].replace(Jt,"$1"+r):!1!==e.jsonp&&(e.url+=(At.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return a||k.error(r+" was not called"),a[0]},e.dataTypes[0]="json",o=E[r],E[r]=function(){a=arguments},n.always(function(){void 0===o?k(E).removeProp(r):E[r]=o,e[r]&&(e.jsonpCallback=t.jsonpCallback,Yt.push(r)),a&&v(o)&&o(a[0]),a=o=void 0}),"script"}),b.createHTMLDocument=((fe=_.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===fe.childNodes.length),k.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(b.createHTMLDocument?((r=(t=_.implementation.createHTMLDocument("")).createElement("base")).href=_.location.href,t.head.appendChild(r)):t=_),r=!n&&[],(n=S.exec(e))?[t.createElement(n[1])]:(n=ge([e],t,r),r&&r.length&&k(r).remove(),k.merge([],n.childNodes)));var r},k.fn.load=function(e,t,n){var r,o,a,i=this,l=e.indexOf(" ");return-1<l&&(r=Vt(e.slice(l)),e=e.slice(0,l)),v(t)?(n=t,t=void 0):t&&"object"==_typeof2(t)&&(o="POST"),0<i.length&&k.ajax({url:e,type:o||"GET",dataType:"html",data:t}).done(function(e){a=arguments,i.html(r?k("<div>").append(k.parseHTML(e)).find(r):e)}).always(n&&function(e,t){i.each(function(){n.apply(this,a||[e.responseText,t,e])})}),this},k.expr.pseudos.animated=function(t){return k.grep(k.timers,function(e){return t===e.elem}).length},k.offset={setOffset:function(e,t,n){var r,o,a,i,l=k.css(e,"position"),s=k(e),c={};"static"===l&&(e.style.position="relative"),a=s.offset(),r=k.css(e,"top"),i=k.css(e,"left"),i=("absolute"===l||"fixed"===l)&&-1<(r+i).indexOf("auto")?(o=(l=s.position()).top,l.left):(o=parseFloat(r)||0,parseFloat(i)||0),null!=(t=v(t)?t.call(e,n,k.extend({},a)):t).top&&(c.top=t.top-a.top+o),null!=t.left&&(c.left=t.left-a.left+i),"using"in t?t.using.call(e,c):s.css(c)}},k.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){k.offset.setOffset(this,t,e)});var e,n=this[0];return n?n.getClientRects().length?(e=n.getBoundingClientRect(),n=n.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],o={top:0,left:0};if("fixed"===k.css(r,"position"))t=r.getBoundingClientRect();else{for(t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===k.css(e,"position");)e=e.parentNode;e&&e!==r&&1===e.nodeType&&((o=k(e).offset()).top+=k.css(e,"borderTopWidth",!0),o.left+=k.css(e,"borderLeftWidth",!0))}return{top:t.top-o.top-k.css(r,"marginTop",!0),left:t.left-o.left-k.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===k.css(e,"position");)e=e.offsetParent;return e||ne})}}),k.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,o){var a="pageYOffset"===o;k.fn[t]=function(e){return W(this,function(e,t,n){var r;return m(e)?r=e:9===e.nodeType&&(r=e.defaultView),void 0===n?r?r[o]:e[t]:void(r?r.scrollTo(a?r.pageXOffset:n,a?n:r.pageYOffset):e[t]=n)},t,e,arguments.length)}}),k.each(["top","left"],function(e,n){k.cssHooks[n]=Ye(b.pixelPosition,function(e,t){if(t)return t=He(e,n),Ue.test(t)?k(e).position()[n]+"px":t})}),k.each({Height:"height",Width:"width"},function(i,l){k.each({padding:"inner"+i,content:l,"":"outer"+i},function(r,a){k.fn[a]=function(e,t){var n=arguments.length&&(r||"boolean"!=typeof e),o=r||(!0===e||!0===t?"margin":"border");return W(this,function(e,t,n){var r;return m(e)?0===a.indexOf("outer")?e["inner"+i]:e.document.documentElement["client"+i]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+i],r["scroll"+i],e.body["offset"+i],r["offset"+i],r["client"+i])):void 0===n?k.css(e,t,o):k.style(e,t,n,o)},l,n?e:void 0,n)}})}),k.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){k.fn[t]=function(e){return this.on(t,e)}}),k.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),k.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,n){k.fn[n]=function(e,t){return 0<arguments.length?this.on(n,null,e,t):this.trigger(n)}});var Qt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;k.proxy=function(e,t){var n,r;if("string"==typeof t&&(r=e[t],t=e,e=r),v(e))return n=l.call(arguments,2),(r=function(){return e.apply(t||this,n.concat(l.call(arguments)))}).guid=e.guid=e.guid||k.guid++,r},k.holdReady=function(e){e?k.readyWait++:k.ready(!0)},k.isArray=Array.isArray,k.parseJSON=JSON.parse,k.nodeName=O,k.isFunction=v,k.isWindow=m,k.camelCase=G,k.type=h,k.now=Date.now,k.isNumeric=function(e){var t=k.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},k.trim=function(e){return null==e?"":(e+"").replace(Qt,"")},void 0===(tn=function(){return k}.apply(en,[]))||(Zt.exports=tn);var $t=E.jQuery,Xt=E.$;return k.noConflict=function(e){return E.$===k&&(E.$=Xt),e&&E.jQuery===k&&(E.jQuery=$t),k},void 0===e&&(E.jQuery=E.$=k),k})},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE__14__},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE__15__},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE__16__},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE__17__},function(t,e,n){!function(C){var e=function(){"use strict";function v(e,t){return null!=t&&e instanceof t}var V,w,E;try{V=Map}catch(e){V=function(){}}try{w=Set}catch(e){w=function(){}}try{E=Promise}catch(e){E=function(){}}function _(e,d,t,h,m){"object"==_typeof2(d)&&(t=d.depth,h=d.prototype,m=d.includeNonEnumerable,d=d.circular);var y=[],g=[],b=void 0!==C;return void 0===d&&(d=!0),function r(e,o){if(null===e)return null;if(0===o)return e;var n,t,a;if("object"!=_typeof2(e))return e;if(v(e,V))n=new V;else if(v(e,w))n=new w;else if(v(e,E))n=new E(function(t,n){e.then(function(e){t(r(e,o-1))},function(e){n(r(e,o-1))})});else if(_.__isArray(e))n=[];else if(_.__isRegExp(e))n=new RegExp(e.source,k(e)),e.lastIndex&&(n.lastIndex=e.lastIndex);else if(_.__isDate(e))n=new Date(e.getTime());else{if(b&&C.isBuffer(e))return n=C.allocUnsafe?C.allocUnsafe(e.length):new C(e.length),e.copy(n),n;v(e,Error)?n=Object.create(e):void 0===h?(t=Object.getPrototypeOf(e),n=Object.create(t)):(n=Object.create(h),t=h)}if(d){var i=y.indexOf(e);if(-1!=i)return g[i];y.push(e),g.push(n)}for(s in v(e,V)&&e.forEach(function(e,t){t=r(t,o-1),e=r(e,o-1),n.set(t,e)}),v(e,w)&&e.forEach(function(e){e=r(e,o-1),n.add(e)}),e)(a=t?Object.getOwnPropertyDescriptor(t,s):a)&&null==a.set||(n[s]=r(e[s],o-1));if(Object.getOwnPropertySymbols)for(var l=Object.getOwnPropertySymbols(e),s=0;s<l.length;s++){var c=l[s];(p=Object.getOwnPropertyDescriptor(e,c))&&!p.enumerable&&!m||(n[c]=r(e[c],o-1),p.enumerable||Object.defineProperty(n,c,{enumerable:!1}))}if(m)for(var u=Object.getOwnPropertyNames(e),s=0;s<u.length;s++){var p,f=u[s];(p=Object.getOwnPropertyDescriptor(e,f))&&p.enumerable||(n[f]=r(e[f],o-1),Object.defineProperty(n,f,{enumerable:!1}))}return n}(e,t=void 0===t?1/0:t)}function t(e){return Object.prototype.toString.call(e)}function k(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}return _.clonePrototype=function(e){return null===e?null:(t.prototype=e,new t);function t(){}},_.__objToStr=t,_.__isDate=function(e){return"object"==_typeof2(e)&&"[object Date]"===t(e)},_.__isArray=function(e){return"object"==_typeof2(e)&&"[object Array]"===t(e)},_.__isRegExp=function(e){return"object"==_typeof2(e)&&"[object RegExp]"===t(e)},_.__getRegExpFlags=k,_}();t.exports&&(t.exports=e)}.call(this,n(19).Buffer)},function(e,D,L){"use strict";!function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */var o=L(40),a=L(41),i=L(42);function n(){return p.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function l(e,t){if(n()<t)throw new RangeError("Invalid typed array length");return p.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=p.prototype:(e=null===e?new p(t):e).length=t,e}function p(e,t,n){if(!(p.TYPED_ARRAY_SUPPORT||this instanceof p))return new p(e,t,n);if("number"!=typeof e)return r(this,e,t,n);if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return c(this,e)}function r(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),p.TYPED_ARRAY_SUPPORT?(e=t).__proto__=p.prototype:e=u(e,t),e}(e,t,n,r):"string"==typeof t?function(e,t,n){if(!p.isEncoding(n="string"!=typeof n||""===n?"utf8":n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|d(t,n);return e=(n=(e=l(e,r)).write(t,n))!==r?e.slice(0,n):e}(e,t,n):function(e,t){if(p.isBuffer(t)){var n=0|f(t.length);return 0===(e=l(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(n=t.length)!=n?l(e,0):u(e,t);if("Buffer"===t.type&&i(t.data))return u(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function s(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function c(e,t){if(s(t),e=l(e,t<0?0:0|f(t)),!p.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function u(e,t){var n=t.length<0?0:0|f(t.length);e=l(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function f(e){if(e>=n())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n().toString(16)+" bytes");return 0|e}function d(e,t){if(p.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;var n=(e="string"!=typeof e?""+e:e).length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return A(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return x(e).length;default:if(r)return A(e).length;t=(""+t).toLowerCase(),r=!0}}function t(e,i,l){var t,n,r=!1;if((i=void 0===i||i<0?0:i)>this.length)return"";if((l=void 0===l||l>this.length?this.length:l)<=0)return"";if((l>>>=0)<=(i>>>=0))return"";for(e=e||"utf8";;)switch(e){case"hex":return function(e,t){var n=e.length;(!l||l<0||n<l)&&(t=n);for(var r,o="",a=!i||i<0?0:i;a<t;++a)o+=(r=e[a])<16?"0"+r.toString(16):r.toString(16);return o}(this,l);case"utf8":case"utf-8":return b(this,i,l);case"ascii":return function(e,t,n){var r="";n=Math.min(e.length,l);for(var o=t;o<n;++o)r+=String.fromCharCode(127&e[o]);return r}(this,i);case"latin1":case"binary":return function(e,t,n){var r="";n=Math.min(e.length,l);for(var o=t;o<n;++o)r+=String.fromCharCode(e[o]);return r}(this,i);case"base64":return n=l,0===(t=i)&&n===this.length?o.fromByteArray(this):o.fromByteArray(this.slice(t,n));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(e){for(var t=e.slice(i,l),n="",r=0;r<t.length;r+=2)n+=String.fromCharCode(t[r]+256*t[r+1]);return n}(this);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function h(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function m(e,t,n,r,o){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):2147483647<n?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,(n=(n=isNaN(n)?o?0:e.length-1:n)<0?e.length+n:n)>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof t&&(t=p.from(t,r)),p.isBuffer(t))return 0===t.length?-1:y(e,t,n,r,o);if("number"==typeof t)return t&=255,p.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?(o?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call(e,t,n):y(e,[t],n,r,o);throw new TypeError("val must be string, number or Buffer")}function y(e,t,n,r,o){var a=1,i=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;i/=a=2,l/=2,n/=2}function s(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(o)for(var c=-1,u=n;u<i;u++)if(s(e,u)===s(t,-1===c?0:u-c)){if(u-(c=-1===c?u:c)+1===l)return c*a}else-1!==c&&(u-=u-c),c=-1;else for(u=n=i<n+l?i-l:n;0<=u;u--){for(var p=!0,f=0;f<l;f++)if(s(e,u+f)!==s(t,f)){p=!1;break}if(p)return u}return-1}function g(e,t,n,r){return P(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function b(e,t,n){n=Math.min(e.length,n);for(var r=[],o=t;o<n;){var a,i,l,s,c=e[o],u=null,p=239<c?4:223<c?3:191<c?2:1;if(o+p<=n)switch(p){case 1:c<128&&(u=c);break;case 2:128==(192&(a=e[o+1]))&&127<(s=(31&c)<<6|63&a)&&(u=s);break;case 3:a=e[o+1],i=e[o+2],128==(192&a)&&128==(192&i)&&2047<(s=(15&c)<<12|(63&a)<<6|63&i)&&(s<55296||57343<s)&&(u=s);break;case 4:a=e[o+1],i=e[o+2],l=e[o+3],128==(192&a)&&128==(192&i)&&128==(192&l)&&65535<(s=(15&c)<<18|(63&a)<<12|(63&i)<<6|63&l)&&s<1114112&&(u=s)}null===u?(u=65533,p=1):65535<u&&(u-=65536,r.push(u>>>10&1023|55296),u=56320|1023&u),r.push(u),o+=p}return function(e){var t=e.length;if(t<=v)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=v));return n}(r)}D.Buffer=p,D.SlowBuffer=function(e){return p.alloc(+(e=+e!=e?0:e))},D.INSPECT_MAX_BYTES=50,p.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),D.kMaxLength=n(),p.poolSize=8192,p._augment=function(e){return e.__proto__=p.prototype,e},p.from=function(e,t,n){return r(null,e,t,n)},p.TYPED_ARRAY_SUPPORT&&(p.prototype.__proto__=Uint8Array.prototype,p.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&p[Symbol.species]===p&&Object.defineProperty(p,Symbol.species,{value:null,configurable:!0})),p.alloc=function(e,t,n){return r=null,s(e),e<=0||void 0===t?l(r,e):"string"==typeof n?l(r,e).fill(t,n):l(r,e).fill(t);var r},p.allocUnsafe=function(e){return c(null,e)},p.allocUnsafeSlow=function(e){return c(null,e)},p.isBuffer=function(e){return!(null==e||!e._isBuffer)},p.compare=function(e,t){if(!p.isBuffer(e)||!p.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,o=0,a=Math.min(n,r);o<a;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0},p.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},p.concat=function(e,t){if(!i(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return p.alloc(0);if(void 0===t)for(o=t=0;o<e.length;++o)t+=e[o].length;for(var n=p.allocUnsafe(t),r=0,o=0;o<e.length;++o){var a=e[o];if(!p.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,r),r+=a.length}return n},p.byteLength=d,p.prototype._isBuffer=!0,p.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)h(this,t,t+1);return this},p.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)h(this,t,t+3),h(this,t+1,t+2);return this},p.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)h(this,t,t+7),h(this,t+1,t+6),h(this,t+2,t+5),h(this,t+3,t+4);return this},p.prototype.toString=function(){var e=0|this.length;return 0==e?"":0===arguments.length?b(this,0,e):t.apply(this,arguments)},p.prototype.equals=function(e){if(!p.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===p.compare(this,e)},p.prototype.inspect=function(){var e="",t=D.INSPECT_MAX_BYTES;return 0<this.length&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},p.prototype.compare=function(e,t,n,r,o){if(!p.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),(t=void 0===t?0:t)<0||n>e.length||r<0||o>this.length)throw new RangeError("out of range index");if(o<=r&&n<=t)return 0;if(o<=r)return-1;if(n<=t)return 1;if(this===e)return 0;for(var a=(o>>>=0)-(r>>>=0),i=(n>>>=0)-(t>>>=0),l=Math.min(a,i),s=this.slice(r,o),c=e.slice(t,n),u=0;u<l;++u)if(s[u]!==c[u]){a=s[u],i=c[u];break}return a<i?-1:i<a?1:0},p.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},p.prototype.indexOf=function(e,t,n){return m(this,e,t,n,!0)},p.prototype.lastIndexOf=function(e,t,n){return m(this,e,t,n,!1)},p.prototype.write=function(e,l,t,n){if(void 0===l)n="utf8",t=this.length,l=0;else if(void 0===t&&"string"==typeof l)n=l,t=this.length,l=0;else{if(!isFinite(l))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");l|=0,isFinite(t)?(t|=0,void 0===n&&(n="utf8")):(n=t,t=void 0)}var r=this.length-l;if((void 0===t||r<t)&&(t=r),0<e.length&&(t<0||l<0)||l>this.length)throw new RangeError("Attempt to write outside buffer bounds");n=n||"utf8";for(var o,a,i,s,c,u,p=!1;;)switch(n){case"hex":return function(e,t,n,r){n=Number(l)||0;var o=e.length-n;if((!r||o<(r=Number(r)))&&(r=o),(o=t.length)%2!=0)throw new TypeError("Invalid hex string");o/2<r&&(r=o/2);for(var a=0;a<r;++a){var i=parseInt(t.substr(2*a,2),16);if(isNaN(i))return a;e[n+a]=i}return a}(this,e,0,t);case"utf8":case"utf-8":return i=t,P(A(e,(o=this).length-(a=l)),o,a,i);case"ascii":return g(this,e,l,t);case"latin1":case"binary":return g(this,e,l,t);case"base64":return o=this,a=l,i=t,P(x(e),o,a,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return c=l,u=t,P(function(e,t){for(var n,r,o=[],a=0;a<e.length&&!((t-=2)<0);++a)n=(r=e.charCodeAt(a))>>8,o.push(r%=256),o.push(n);return o}(e,(s=this).length-c),s,c,u);default:if(p)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),p=!0}},p.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var v=4096;function V(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(n<e+t)throw new RangeError("Trying to access beyond buffer length")}function w(e,t,n,r,o,a){if(!p.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(o<t||t<a)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function E(e,t,n,r){t<0&&(t=65535+t+1);for(var o=0,a=Math.min(e.length-n,2);o<a;++o)e[n+o]=(t&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function _(e,t,n,r){t<0&&(t=4294967295+t+1);for(var o=0,a=Math.min(e.length-n,4);o<a;++o)e[n+o]=t>>>8*(r?o:3-o)&255}function k(e,t,n,r){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function C(e,t,n,r,o){return o||k(e,0,n,4),a.write(e,t,n,r,23,4),n+4}function O(e,t,n,r,o){return o||k(e,0,n,8),a.write(e,t,n,r,52,8),n+8}p.prototype.slice=function(e,t){var n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):n<e&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):n<t&&(t=n),t<e&&(t=e),p.TYPED_ARRAY_SUPPORT)(o=this.subarray(e,t)).__proto__=p.prototype;else for(var r=t-e,o=new p(r,void 0),a=0;a<r;++a)o[a]=this[a+e];return o},p.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||V(e,t,this.length);for(var r=this[e],o=1,a=0;++a<t&&(o*=256);)r+=this[e+a]*o;return r},p.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||V(e,t,this.length);for(var r=this[e+--t],o=1;0<t&&(o*=256);)r+=this[e+--t]*o;return r},p.prototype.readUInt8=function(e,t){return t||V(e,1,this.length),this[e]},p.prototype.readUInt16LE=function(e,t){return t||V(e,2,this.length),this[e]|this[e+1]<<8},p.prototype.readUInt16BE=function(e,t){return t||V(e,2,this.length),this[e]<<8|this[e+1]},p.prototype.readUInt32LE=function(e,t){return t||V(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},p.prototype.readUInt32BE=function(e,t){return t||V(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},p.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||V(e,t,this.length);for(var r=this[e],o=1,a=0;++a<t&&(o*=256);)r+=this[e+a]*o;return(o*=128)<=r&&(r-=Math.pow(2,8*t)),r},p.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||V(e,t,this.length);for(var r=t,o=1,a=this[e+--r];0<r&&(o*=256);)a+=this[e+--r]*o;return(o*=128)<=a&&(a-=Math.pow(2,8*t)),a},p.prototype.readInt8=function(e,t){return t||V(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},p.prototype.readInt16LE=function(e,t){return t||V(e,2,this.length),32768&(e=this[e]|this[e+1]<<8)?4294901760|e:e},p.prototype.readInt16BE=function(e,t){return t||V(e,2,this.length),32768&(e=this[e+1]|this[e]<<8)?4294901760|e:e},p.prototype.readInt32LE=function(e,t){return t||V(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},p.prototype.readInt32BE=function(e,t){return t||V(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},p.prototype.readFloatLE=function(e,t){return t||V(e,4,this.length),a.read(this,e,!0,23,4)},p.prototype.readFloatBE=function(e,t){return t||V(e,4,this.length),a.read(this,e,!1,23,4)},p.prototype.readDoubleLE=function(e,t){return t||V(e,8,this.length),a.read(this,e,!0,52,8)},p.prototype.readDoubleBE=function(e,t){return t||V(e,8,this.length),a.read(this,e,!1,52,8)},p.prototype.writeUIntLE=function(e,t,n,r){e=+e,t|=0,n|=0,r||w(this,e,t,n,Math.pow(2,8*n)-1,0);var o=1,a=0;for(this[t]=255&e;++a<n&&(o*=256);)this[t+a]=e/o&255;return t+n},p.prototype.writeUIntBE=function(e,t,n,r){e=+e,t|=0,n|=0,r||w(this,e,t,n,Math.pow(2,8*n)-1,0);var o=n-1,a=1;for(this[t+o]=255&e;0<=--o&&(a*=256);)this[t+o]=e/a&255;return t+n},p.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||w(this,e,t,1,255,0),p.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},p.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||w(this,e,t,2,65535,0),p.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):E(this,e,t,!0),t+2},p.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||w(this,e,t,2,65535,0),p.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):E(this,e,t,!1),t+2},p.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||w(this,e,t,4,4294967295,0),p.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):_(this,e,t,!0),t+4},p.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||w(this,e,t,4,4294967295,0),p.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):_(this,e,t,!1),t+4},p.prototype.writeIntLE=function(e,t,n,r){e=+e,t|=0,r||w(this,e,t,n,(r=Math.pow(2,8*n-1))-1,-r);var o=0,a=1,i=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===i&&0!==this[t+o-1]&&(i=1),this[t+o]=(e/a>>0)-i&255;return t+n},p.prototype.writeIntBE=function(e,t,n,r){e=+e,t|=0,r||w(this,e,t,n,(r=Math.pow(2,8*n-1))-1,-r);var o=n-1,a=1,i=0;for(this[t+o]=255&e;0<=--o&&(a*=256);)e<0&&0===i&&0!==this[t+o+1]&&(i=1),this[t+o]=(e/a>>0)-i&255;return t+n},p.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||w(this,e,t,1,127,-128),p.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&(e=e<0?255+e+1:e),t+1},p.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||w(this,e,t,2,32767,-32768),p.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):E(this,e,t,!0),t+2},p.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||w(this,e,t,2,32767,-32768),p.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):E(this,e,t,!1),t+2},p.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||w(this,e,t,4,2147483647,-2147483648),p.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):_(this,e,t,!0),t+4},p.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||w(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),p.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):_(this,e,t,!1),t+4},p.prototype.writeFloatLE=function(e,t,n){return C(this,e,t,!0,n)},p.prototype.writeFloatBE=function(e,t,n){return C(this,e,t,!1,n)},p.prototype.writeDoubleLE=function(e,t,n){return O(this,e,t,!0,n)},p.prototype.writeDoubleBE=function(e,t,n){return O(this,e,t,!1,n)},p.prototype.copy=function(e,t,n,r){if(n=n||0,r||0===r||(r=this.length),t>=e.length&&(t=e.length),(r=0<r&&r<n?n:r)===n)return 0;if(0===e.length||0===this.length)return 0;if((t=t||0)<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length);var o,a=(r=e.length-t<r-n?e.length-t+n:r)-n;if(this===e&&n<t&&t<r)for(o=a-1;0<=o;--o)e[o+t]=this[o+n];else if(a<1e3||!p.TYPED_ARRAY_SUPPORT)for(o=0;o<a;++o)e[o+t]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+a),t);return a},p.prototype.fill=function(e,t,n,r){if("string"==typeof e){var o;if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1!==e.length||(o=e.charCodeAt(0))<256&&(e=o),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!p.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;if(t>>>=0,n=void 0===n?this.length:n>>>0,"number"==typeof(e=e||0))for(l=t;l<n;++l)this[l]=e;else for(var a=p.isBuffer(e)?e:A(new p(e,r).toString()),i=a.length,l=0;l<n-t;++l)this[l+t]=a[l%i];return this};var S=/[^+\/0-9A-Za-z-_]/g;function A(e,t){var n;t=t||1/0;for(var r=e.length,o=null,a=[],i=0;i<r;++i){if(55295<(n=e.charCodeAt(i))&&n<57344){if(!o){if(56319<n){-1<(t-=3)&&a.push(239,191,189);continue}if(i+1===r){-1<(t-=3)&&a.push(239,191,189);continue}o=n;continue}if(n<56320){-1<(t-=3)&&a.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&-1<(t-=3)&&a.push(239,191,189);if(o=null,n<128){if(--t<0)break;a.push(n)}else if(n<2048){if((t-=2)<0)break;a.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;a.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return a}function x(e){return o.toByteArray(function(e){var t;if((e=((t=e).trim?t.trim():t.replace(/^\s+|\s+$/g,"")).replace(S,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function P(e,t,n,r){for(var o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}}.call(this,L(39))},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE__20__},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE__21__},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE__22__},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE__23__},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE__24__},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE__25__},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE__26__},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE__27__},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE__28__},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE__29__},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE__30__},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE__31__},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return Dashboard});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1),semantic_ui_react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__),_basecomponent__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2),_settings__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(33),_license__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(34),_integration__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(35),_plugins__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(36),_form_form__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(12),_admin__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(11);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(e){return _typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof2(e)})(e)}function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ownKeys(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(n),!0).forEach(function(e){_defineProperty(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(n){var r=_isNativeReflectConstruct();return function(){var e,t=_getPrototypeOf(n);return _possibleConstructorReturn(this,r?(e=_getPrototypeOf(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Dashboard=function(_BaseComponent){_inherits(Dashboard,_BaseComponent);var _super=_createSuper(Dashboard);function Dashboard(e){var t;return _classCallCheck(this,Dashboard),(t=_super.call(this,e)).datatype="appsettings",t.state={exportSettings:{includeForms:!0,includeLocalizations:!0,includeMobileForms:!0,includeWorkflows:!0,includeMetadata:!0,includeSecurity:{value:!1,withPasswordHash:!1},includeAppSettings:!0},importSettings:{replaceConfiguration:!1,includeForms:!0,includeLocalizations:!0,includeMobileForms:!0,includeWorkflows:!0,includeMetadata:!0,includeSecurity:!0,includeAppSettings:!0}},t.initData(e.data.appSettings),t.state.mdSettings=e.data.settings||[],t}return _createClass(Dashboard,[{key:"componentDidMount",value:function(){var t=this,e=[];e.push({name:"operation",value:"getdevelopermodevalue"}),this.sendRequest(this.props.apiUrl,e,function(e){e.success?t.setState({developerMode:e.result.developerMode}):(alertify.error(e.message),console.log(e.message))}.bind(this))}},{key:"onRequestRenewLicense",value:function(){window.open("https://dwkit.com/contacts/")}},{key:"initData",value:function(e){e=(e=this.СloneObj(e)).sort(function(e,t){return e.order!=t.order?e.order-t.order:e.groupName>t.groupName?1:e.groupName<t.groupName?-1:e.name>t.name?1:e.name<t.name?-1:0}),this.state.data=e}},{key:"onResetAppCache",value:function(){var e=new Array;e.push({name:"operation",value:"resetappcache"}),$.ajax({url:this.props.apiUrl,data:e,async:!0,type:"post",success:function(e){e.success?alertify.success(DWKitAdminLang.msg.appcachereseted):alertify.error(e.message)}})}},{key:"sendRequest",value:function(e,t,n,r){var o=this;$.ajax(_objectSpread({url:e,data:t,type:"post",success:function(e){return n(e)},error:function(e,t){t=o.props.parent.getProcessLoadError(e,t),alertify.error(DWKitAdminLang.dashboard.internalerror+t),console.log(DWKitAdminLang.dashboard.internalerror+t)}},r))}},{key:"createUrl",value:function(e){var t=this.props.parent.props.apiUrl,n="?";return 0<=t.indexOf("?")&&(n="&"),t+(n+"operation=")+e}},{key:"downloadBlob",value:function(e,t){if(t===[]||!Array.isArray(t))throw new Error(DWKitAdminLang.dashboard.paramsrequired);var n=[];t.forEach(function(e){var t=$('<input type="hidden" />');t.attr("name",e.name),t.attr("value",e.value),n.push(t)});var r=$('<form action="'.concat(e,'" method="post"></form>'));function o(e){return e.headers.get("content-disposition")&&e.headers.get("content-disposition").split(";").find(function(e){return e.includes("filename=")}).replace("filename=","").trim()||""}r.append(n),t=this.props.parent.bearerHeader,fetch(e,{method:"post",headers:{Authorization:t},body:new FormData(r[0])}).then(function(r){if(!r.ok)throw new Error(DWKitAdminLang.dashboard.configerror);if(""==o(r))throw new Error(DWKitAdminLang.dashboard.configerror);r.blob().then(function(e){var t=e,n=o(r);(e=document.createElement("a")).href=window.URL.createObjectURL(new Blob([t])),e.download=n,e.click(),e.remove()})}).catch(function(e){alertify.error(e),console.log(e)})}},{key:"onDownloadConfiguration",value:function(){var e=[];e.push({name:"operation",value:"downloadconfiguration"}),e.push({name:"data",value:JSON.stringify(this.state.exportSettings)}),this.downloadBlob(this.props.apiUrl,e),this.setState({isShowExportModal:!1})}},{key:"onUploadConfiguration",value:function(){$("#upload-configuration").trigger("click")}},{key:"uploadConfiguration",value:function(e){var n=this,t=new FormData($("#upload-configuration-form")[0]),r=JSON.stringify(this.state.importSettings);t.append("settings",r),this.sendRequest(this.createUrl("uploadconfiguration"),t,function(e){var t;e.success?(e.result.warning?(t=DWKitAdminLang.dashboard.configof+e.result.successUpdated+DWKitAdminLang.dashboard.successupdated+DWKitAdminLang.dashboard.withproblems+e.result.failUpdated.join("\n")+"\n".concat(DWKitAdminLang.dashboard.moreinfoconsole),alertify.success(DWKitAdminLang.dashboard.prevconfigcreated),alertify.error(t),console.log(t)):(alertify.success(DWKitAdminLang.dashboard.prevconfigcreated),alertify.success(DWKitAdminLang.dashboard.configof+e.result.successUpdated+DWKitAdminLang.dashboard.successupdated)),n.props.parent.setState({showRefreshMessage:!0})):(alertify.error(e.message),console.log(e.message))},{processData:!1,contentType:!1}),this.setState({isShowImportModal:!1})}},{key:"onChangeDeveloperMode",value:function(e,t){var n=this,r=(t.name,t.value,[]),t={developerMode:t.checked};r.push({name:"operation",value:"changedevelopermode"}),r.push({name:"data",value:JSON.stringify(t)}),this.sendRequest(this.props.apiUrl,r,function(e){e.success?(e.result.developerMode?(alertify.success(DWKitAdminLang.dashboard.devmodeon),alertify.success(DWKitAdminLang.dashboard.securitysaved)):(alertify.success(DWKitAdminLang.dashboard.devmodeoff),alertify.success(DWKitAdminLang.dashboard.securityremoved)),n.setState({developerMode:e.result.developerMode})):(alertify.error(e.message),console.log(e.message))}.bind(this),{processData:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8"})}},{key:"setExportSettings",value:function(e,t){var n=t.name,r=t.value,o=t.checked;if("selectAll"===n)for(var a in s=this.state.exportSettings)s.hasOwnProperty(a)&&(s[a].hasOwnProperty("value")?s[a].value=Boolean(o||r):s[a]=Boolean(o||r));else{var i,l,s,c=this.state.exportSettings;0<=n.indexOf(".")?(i=n.substring(0,n.indexOf(".")),l=n.substring(n.indexOf(".")+1,n.length),c.hasOwnProperty(i)&&c[i].hasOwnProperty(l)&&(t=_objectSpread({},c[i]),s=_defineProperty({},i,_objectSpread(_objectSpread({},t),{},_defineProperty({},l,Boolean(o||r)))))):s=c[n]&&c[n].hasOwnProperty("value")?(c=_objectSpread({},c[n]),_defineProperty({},n,_objectSpread(_objectSpread({},c),{},{value:Boolean(o||r)}))):_defineProperty({},n,Boolean(o||r))}n=_objectSpread(_objectSpread({},this.state.exportSettings),s),this.setState(_objectSpread(_objectSpread({},this.state),{},{exportSettings:n}))}},{key:"getExportSettings",value:function getExportSettings(name,e){return eval("this.state.exportSettings.".concat(name))}},{key:"setImportSettings",value:function(e,t){var n,r=t.name,o=t.value,a=t.checked;if("selectAll"===r)for(var i in n=this.state.importSettings)n.hasOwnProperty(i)&&"replaceConfiguration"!==i&&(n[i]=Boolean(a||o));else n=_defineProperty({},r,Boolean(a||o));r=_objectSpread(_objectSpread({},this.state.importSettings),n),this.setState(_objectSpread(_objectSpread({},this.state),{},{importSettings:r}))}},{key:"getImportSettings",value:function getImportSettings(name,e){return eval("this.state.importSettings.".concat(name))}},{key:"getSelectAllCheckboxValue",value:function getSelectAllCheckboxValue(configType){var configSettings=eval("this.state.".concat(configType.toLowerCase(),"Settings")),checkedAttributes=0,attributesCount=0,setting;for(setting in configSettings)configSettings.hasOwnProperty(setting)&&"replaceConfiguration"!==setting&&(attributesCount++,configSettings[setting]&&configSettings[setting].hasOwnProperty("value")&&configSettings[setting].value&&checkedAttributes++,!0===configSettings[setting]&&checkedAttributes++);return 0===checkedAttributes?0:attributesCount===checkedAttributes?1:2}},{key:"renderSelectAllCheckbox",value:function renderSelectAllCheckbox(configType){var selectAllCheckboxState=this.getSelectAllCheckboxValue(configType),selectAllCheckboxProps,selectAllCheckboxOnChange=eval("this.set".concat(configType,"Settings.bind(this)"));switch(selectAllCheckboxState){case 0:selectAllCheckboxProps={checked:!1,key:"allSelected"};break;case 1:selectAllCheckboxProps={checked:!0,key:"allDeselected"};break;case 2:selectAllCheckboxProps={defaultIndeterminate:!0,key:"indeterminated"}}return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__.Checkbox,_extends({className:"dwkit-formadmin-configurationitem-selectall",name:"selectAll",label:DWKitAdminLang.dashboard.selectall,onChange:selectAllCheckboxOnChange},selectAllCheckboxProps))}},{key:"renderImportModal",value:function(){var e=this;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__.Modal,{dimmer:"blurring",open:this.state.isShowImportModal,onClose:function(){return e.setState({isShowImportModal:!1})}},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__.Modal.Header,null,DWKitAdminLang.dashboard.importsettings),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__.Modal.Content,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__.Checkbox,{toggle:!0,name:"replaceConfiguration",label:DWKitAdminLang.dashboard.fullreplaceconfig,checked:this.getImportSettings("replaceConfiguration"),onChange:this.setImportSettings.bind(this)}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__.Card,{fluid:!0},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__.Card.Content,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__.Card.Header,null,DWKitAdminLang.dashboard.selecttoapply)),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__.Card.Content,null,this.renderSelectAllCheckbox("Import")),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__.Checkbox,{className:"dwkit-formadmin-configurationitem",name:"includeForms",label:DWKitAdminLang.dashboard.forms,checked:this.getImportSettings("includeForms"),onChange:this.setImportSettings.bind(this)}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__.Checkbox,{className:"dwkit-formadmin-configurationitem",name:"includeLocalizations",label:DWKitAdminLang.dashboard.localization,checked:this.getImportSettings("includeLocalizations"),onChange:this.setImportSettings.bind(this)}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__.Checkbox,{className:"dwkit-formadmin-configurationitem",name:"includeMobileForms",label:DWKitAdminLang.dashboard.mobileforms,checked:this.getImportSettings("includeMobileForms"),onChange:this.setImportSettings.bind(this)}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__.Checkbox,{className:"dwkit-formadmin-configurationitem",name:"includeWorkflows",label:DWKitAdminLang.dashboard.workflow,checked:this.getImportSettings("includeWorkflows"),onChange:this.setImportSettings.bind(this)}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__.Checkbox,{className:"dwkit-formadmin-configurationitem",name:"includeMetadata",label:DWKitAdminLang.dashboard.metadata,checked:this.getImportSettings("includeMetadata"),onChange:this.setImportSettings.bind(this)}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__.Checkbox,{className:"dwkit-formadmin-configurationitem",name:"includeSecurity",label:DWKitAdminLang.dashboard.security,checked:this.getImportSettings("includeSecurity"),onChange:this.setImportSettings.bind(this)}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__.Checkbox,{className:"dwkit-formadmin-configurationitem",name:"includeAppSettings",label:DWKitAdminLang.dashboard.appsettings,checked:this.getImportSettings("includeAppSettings"),onChange:this.setImportSettings.bind(this)}))),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__.Modal.Actions,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__.Button,{className:"buttontype1",content:DWKitAdminLang.dashboard.upload,onClick:this.onUploadConfiguration.bind(this)}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__.Button,{content:DWKitAdminLang.dashboard.cancel,className:"buttontype2",onClick:function(){return e.setState({isShowImportModal:!1})}})))}},{key:"renderExportModal",value:function(){var e=this;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__.Modal,{dimmer:"blurring",open:this.state.isShowExportModal,onClose:function(){return e.setState({isShowExportModal:!1})}},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__.Modal.Header,null,DWKitAdminLang.dashboard.exportsettings),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__.Modal.Content,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__.Card,{fluid:!0},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__.Card.Content,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__.Card.Header,null,DWKitAdminLang.dashboard.selecttodownload)),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__.Card.Content,null,this.renderSelectAllCheckbox("Export")),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__.Checkbox,{className:"dwkit-formadmin-configurationitem",name:"includeForms",label:DWKitAdminLang.dashboard.forms,checked:this.getExportSettings("includeForms"),onChange:this.setExportSettings.bind(this)}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__.Checkbox,{className:"dwkit-formadmin-configurationitem",name:"includeLocalizations",label:DWKitAdminLang.dashboard.localization,checked:this.getExportSettings("includeLocalizations"),onChange:this.setExportSettings.bind(this)}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__.Checkbox,{className:"dwkit-formadmin-configurationitem",name:"includeMobileForms",label:DWKitAdminLang.dashboard.mobileforms,checked:this.getExportSettings("includeMobileForms"),onChange:this.setExportSettings.bind(this)}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__.Checkbox,{className:"dwkit-formadmin-configurationitem",name:"includeWorkflows",label:DWKitAdminLang.dashboard.workflow,checked:this.getExportSettings("includeWorkflows"),onChange:this.setExportSettings.bind(this)}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__.Checkbox,{className:"dwkit-formadmin-configurationitem",name:"includeMetadata",label:DWKitAdminLang.dashboard.metadata,checked:this.getExportSettings("includeMetadata"),onChange:this.setExportSettings.bind(this)}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__.Checkbox,{className:"dwkit-formadmin-configurationitem",name:"includeSecurity",label:DWKitAdminLang.dashboard.security,checked:this.getExportSettings("includeSecurity.value"),onChange:this.setExportSettings.bind(this)}),this.getExportSettings("includeSecurity.value")&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__.Checkbox,{className:"dwkit-formadmin-configurationsubitem",name:"includeSecurity.withPasswordHash",label:DWKitAdminLang.dashboard.addpasswordhash,checked:this.getExportSettings("includeSecurity.withPasswordHash"),onChange:this.setExportSettings.bind(this)}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__.Checkbox,{className:"dwkit-formadmin-configurationitem",name:"includeAppSettings",label:DWKitAdminLang.dashboard.appsettings,checked:this.getExportSettings("includeAppSettings"),onChange:this.setExportSettings.bind(this)}))),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__.Modal.Actions,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__.Button,{className:"buttontype1",content:DWKitAdminLang.dashboard.download,onClick:this.onDownloadConfiguration.bind(this)}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__.Button,{content:DWKitAdminLang.dashboard.cancel,className:"buttontype2",onClick:function(){return e.setState({isShowExportModal:!1})}})))}},{key:"render",value:function(){var e=this,t=[];t.push({menuItem:DWKitAdminLang.dashboard.license,pane:{key:"license",className:"top",content:react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_license__WEBPACK_IMPORTED_MODULE_4__.a,{data:this.props.data.licenseInfo,metadata:this.props.data,parent:this.props.parent})}}),t.push({menuItem:DWKitAdminLang.dashboard.settings,pane:{key:"settings",className:"top",content:react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_settings__WEBPACK_IMPORTED_MODULE_3__.a,{data:this.state.data,mdSettings:this.state.mdSettings,metadata:this.props.data,parent:this,apiUrl:this.props.parent.props.apiUrl,themesFolder:this.props.themesFolder})}}),t.push({menuItem:DWKitAdminLang.dashboard.plugins,pane:{key:"plugins",className:"top",content:react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_plugins__WEBPACK_IMPORTED_MODULE_6__.a,{data:this.props.data.plugins,metadata:this.props.data,parent:this.props.parent,apiUrl:this.props.parent.props.apiUrl})}}),t.push({menuItem:DWKitAdminLang.dashboard.integrationapi,pane:{key:"ingeration",className:"top",content:react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_integration__WEBPACK_IMPORTED_MODULE_5__.a,{metadata:this.props.data,parent:this.props.parent,apiUrl:this.props.parent.props.apiUrl})}});var n=this.getSettings("ApplicationName",this.props.data.appSettings),r=this.getSettings("ApplicationDesc",this.props.data.appSettings);return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,n&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__.Header,{as:"h1"},n.value,r&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__.Header.Subheader,null,r.value)),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"dwkitadmin-toolbar"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__.Button,{className:"buttontype1",onClick:function(){return e.setState({isShowExportModal:!0})}},DWKitAdminLang.dashboard.exportsettings),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__.Button,{className:"buttontype2",onClick:function(){return e.setState({isShowImportModal:!0})}},DWKitAdminLang.dashboard.importsettings),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__.Checkbox,{toggle:!0,style:{marginLeft:"25px"},label:DWKitAdminLang.dashboard.developermode,checked:this.state.developerMode,onChange:this.onChangeDeveloperMode.bind(this)})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__.Tab,{menu:{secondary:!0,pointing:!0},renderActiveOnly:!1,panes:t}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("form",{isaction:"",id:"upload-configuration-form",method:"post",style:{display:"none"},enctype:"multipart/form-data",onsubmit:"tmp()"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input",{id:"upload-configuration",name:"upload-configuration",type:"file",onChange:this.uploadConfiguration.bind(this),accept:".zip"})),this.renderExportModal(),this.renderImportModal())}},{key:"onSave",value:function(){var t=this,n=[];this.state.data.forEach(function(e){null!=e.__state&&n.push(_objectSpread(_objectSpread({},e),{},{__type:t.datatype}))}),this.state.mdSettings.forEach(function(e){null!=e.__state&&n.push(_objectSpread(_objectSpread({},e),{},{__type:"settings"}))}),this.ChangeData(n,function(){t.ResetSystemProps(t.state.mdSettings),t.props.data.settings=t.state.mdSettings,t.forceUpdate()})}},{key:"onCancel",value:function(){this.initData(this.props.data.appSettings),this.state.mdSettings=this.props.data.settings,this.forceUpdate()}},{key:"getSettings",value:function(t,e){if(Array.isArray(e)){var n=void 0;return e.forEach(function(e){e&&e.name==t&&(n=e)}),n}}}]),Dashboard}(_basecomponent__WEBPACK_IMPORTED_MODULE_2__.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var t=n(0),a=n.n(t),i=n(2),l=n(1),s=n(5);function c(e){return(c="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(e){return _typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof2(e)})(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var r=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(o,i.a);var n,r,t=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=f(n),t=r?(t=f(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==c(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function o(e){return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),(e=t.call(this,e)).datatype="settings",e.state=e.getStateFromPros(),e.state.sequencesReadOnly=!0,e.initThemeOptions(),e}return u(o.prototype,[{key:"getStateFromPros",value:function(){var e=this.СloneObj(this.props.mdSettings),t=this.checkSettings("DefaultForm",e),n=this.checkSettings("DefaultMobileForm",e),r=this.checkSettings("RTL",e);""!=r.value&&"string"==typeof r.value&&(r.value=this.stringToBoolean(r.value));var o=void 0;this.props.themesFolder&&(o=this.checkSettings("DefaultTheme",e));var a=this.props.metadata.appSettings,i=this.getSettings("ApplicationName",a),l=this.getSettings("ApplicationDesc",a),s=[];return a.forEach(function(e){"DataSequence"==e.groupName&&s.push({name:e.name,value:e.value})}),{array:e,defaultform:t?t.value:"",defaultmobileform:n?n.value:"",defaulttheme:o?o.value:"",rtl:!!r&&r.value,applicationName:i?i.value:"",applicationDesc:l?l.value:"",sequences:s}}},{key:"onChange",value:function(e,t){var n=t.name,r=t.checked,t=t.value;this.state[n]=void 0===r?t:r,this.forceUpdate()}},{key:"render",value:function(){var e=this,t=DWKitAdminLang.settings,n=[{key:"name",name:t.name,control:"input"},{key:"value",name:t.value,control:"input"}];return a.a.createElement(l.Form,null,a.a.createElement(l.Form.Field,null,a.a.createElement("a",{className:"buttontype1",onClick:this.props.parent.onResetAppCache.bind(this)},DWKitAdminLang.button.resetappcache)),a.a.createElement(l.Form.Input,{key:"applicationName",label:t.name,name:"applicationName",value:this.state.applicationName,onChange:this.onChange.bind(this)}),a.a.createElement(l.Form.Input,{key:"applicationDesc",label:t.description,name:"applicationDesc",value:this.state.applicationDesc,onChange:this.onChange.bind(this)}),a.a.createElement(l.Form.Input,{key:"defaultform",label:t.defaultform,name:"defaultform",list:"formslist",value:this.state.defaultform,onChange:this.onChange.bind(this)}),this.renderFormsList("formslist"),a.a.createElement(l.Form.Input,{key:"defaultmobileform",label:t.defaultmobileform,name:"defaultmobileform",list:"mobileformslist",value:this.state.defaultmobileform,onChange:this.onChange.bind(this)}),this.renderFormsList("mobileformslist",!0),a.a.createElement(l.Form.Dropdown,{selection:!0,key:"defaulttheme",name:"defaulttheme",label:t.defaulttheme,options:this.state.themeOptions,value:this.state.defaulttheme,onChange:this.onChange.bind(this)}),a.a.createElement(l.Form.Checkbox,{key:"rtl",label:t.defaultrtl,name:"rtl",checked:this.state.rtl,onChange:this.onChange.bind(this)}),a.a.createElement(l.Form.Field,null,a.a.createElement("label",null,t.datasequences,this.state.sequencesReadOnly&&a.a.createElement("a",{onClick:function(){e.setState({sequencesReadOnly:!1})}},t.unlock)),a.a.createElement(s.SemanticCollectionEditor,{readOnly:this.state.sequencesReadOnly,columns:n,name:"sequences",value:this.state.sequences,draggable:!1,onChange:this.onChange.bind(this)})),a.a.createElement("div",{className:"dwkitadmin-toolbar-editform"},a.a.createElement(l.Button,{className:"buttontype1",onClick:this.onSave.bind(this)},DWKitAdminLang.button.save),a.a.createElement(l.Button,{className:"buttontype2",onClick:this.onCancel.bind(this)},DWKitAdminLang.button.cancel)))}},{key:"onSave",value:function(){var r=this.state.array;this.setSettings("DefaultForm",this.state.defaultform,r),this.setSettings("DefaultMobileForm",this.state.defaultmobileform,r),this.setSettings("RTL",this.state.rtl,r),this.setSettings("DefaultTheme",this.state.defaulttheme,r);var e=this.generateCustomSettings("ApplicationName","appsettings",this.props.metadata.appSettings);e.value!==this.state.applicationName&&(e.value=this.state.applicationName,this.setUpdatedState(e),r.push(e)),(e=this.generateCustomSettings("ApplicationDesc","appsettings",this.props.metadata.appSettings)).value!==this.state.applicationDesc&&(e.value=this.state.applicationDesc,this.setUpdatedState(e),r.push(e));var o=this;Array.isArray(this.state.sequences)&&this.state.sequences.forEach(function(e){var t=o.generateCustomSettings(e.name,"appsettings",o.props.metadata.appSettings,"DataSequence");t.value!==e.value&&(t.value=e.value,o.setUpdatedState(t),r.push(t))}),o.props.metadata.appSettings.forEach(function(t){var n,e;"DataSequence"==t.groupName&&(n=!1,Array.isArray(o.state.sequences)&&o.state.sequences.forEach(function(e){t.name===e.name&&(n=!0)}),n||((e=o.СloneObj(t)).__type="appsettings",e.__state="deleted",r.push(e)))}),(o=this).ChangeData(r,function(e){o.props.parent.props.parent.load(),o.forceUpdate()})}},{key:"generateCustomSettings",value:function(e,t,n,r){return(n=(n=this.getSettings(e,n))?this.СloneObj(n):{name:e,paramName:e,__state:"inserted",groupName:r}).__type=t,n}},{key:"onCancel",value:function(){var e=this.getStateFromPros();this.setState(e)}},{key:"checkSettings",value:function(t,e){var n=void 0;return e.forEach(function(e){e&&e.name==t&&(n=e)}),null==n&&e.push(n={name:t,value:"",__state:"inserted"}),n}},{key:"setSettings",value:function(t,e,n){var r=void 0;return n.forEach(function(e){e&&e.name==t&&(r=e)}),null==r?n.push(r={name:t,value:e,__state:"inserted"}):r.value!=e&&(r.value=e,this.setUpdatedState(r)),r.__type=this.datatype,r}},{key:"getSettings",value:function(t,e){var n=void 0;return e.forEach(function(e){e&&e.name==t&&(n=e)}),n}},{key:"renderFormsList",value:function(e,t){var t=t?this.props.metadata.mobileForms:this.props.metadata.forms,n=[];return Array.isArray(t)&&t.forEach(function(e){n.push(a.a.createElement("option",{key:e.name,value:e.name}))}),a.a.createElement("datalist",{key:e,id:e},n)}},{key:"initThemeOptions",value:function(){var r,e=this.props.themesFolder;null!=e&&(r=this,fetch(e+"theme_manifest.json").then(function(e){return e.json()}).then(function(e){var t=[],n=0;t.push({key:n,value:"",text:""}),n++,e.themes.forEach(function(e){t.push({key:n,value:e.name,text:e.title}),n++}),r.state.themeOptions=t,r.forceUpdate()}))}},{key:"stringToBoolean",value:function(e){switch(e.toLowerCase().trim()){case"true":case"yes":case"1":return!0;case"false":case"no":case"0":case null:return!1;default:return Boolean(e)}}}]),o}()},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var t=n(0),c=n.n(t),t=n(4),t=n(3),i=n(2),u=n(1);function l(e){return(l="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(e){return _typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof2(e)})(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var r=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(a,i.a);var n,r,o=(n=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=d(n),t=r?(t=d(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==l(t)&&"function"!=typeof t?f(e):t});function a(e){var t,n,r;return function(e){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this),t=o.call(this,e),r=function(e){var t=this.props.parent.props.apiUrl,n="?";return 0<=t.indexOf("?")&&(n="&"),t+(n+"operation=")+e},(e="createurl")in(n=f(t))?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,t}return s(a.prototype,[{key:"render",value:function(){var e,t=this.props.data,n=[];for(e in t.limits){var r="-1"==t.limits[e]?"∞":t.limits[e],o=void 0,a=void 0;"Users"==e?(a=void 0!==this.props.metadata.additionalParams&&null!==this.props.metadata.additionalParams?this.props.metadata.additionalParams.UsersCount:0,o=DWKitAdminLang.license.users):"Workflow"==e?(a=this.props.metadata.workflow.length,o=DWKitAdminLang.license.workflow):"Forms"==e?(a=this.props.metadata.forms.length,o=DWKitAdminLang.license.forms):"Instances"==e?o=DWKitAdminLang.license.instances:"Threads"==e&&(o=DWKitAdminLang.license.threads);var i=!1;null!=a&&(i=Boolean(r<a),r=a+" / "+r),n.push(c.a.createElement(u.Form.Input,{style:{width:"100px"},key:e,label:o,error:i,readOnly:!0,value:r}))}var l=[];t.holder.includes("_Trial")&&l.push(c.a.createElement("b",{key:"trialmsg"},"This is a trial version of DWKit. Don't forget to purchase the commercial license via ",c.a.createElement("a",{href:"https://dwkit.com"},"web-site"),"."));var s=DWKitAdminLang.license.uploadlicenseorcreatenew;return l.push(c.a.createElement("br",{key:"br"})),l.push(c.a.createElement("span",{key:"purchasemsg"},s.youcan," ",c.a.createElement("a",{onClick:this.onUpload.bind(this)},s.uploadalicense)," ",s.orcreate," ",c.a.createElement("a",{href:"https://dwkit.com/contacts/"},s.requestnewlicense),".")),c.a.createElement("div",null,c.a.createElement(u.Form,null,c.a.createElement(u.Form.Input,{label:DWKitAdminLang.license.licenseholder,readOnly:!0,value:t.holder}),c.a.createElement(u.Form.Group,{widths:"equal"},null!=t.licenseExpiry&&c.a.createElement(u.Form.Input,{label:DWKitAdminLang.license.expipedlabel,readOnly:!0,value:t.licenseExpiry}),null!=t.releaseExpiry&&c.a.createElement(u.Form.Input,{label:DWKitAdminLang.license.freeupdatedatalabel,readOnly:!0,value:t.releaseExpiry}),c.a.createElement(u.Form.Input,{label:DWKitAdminLang.license.licensechecktype,readOnly:!0,value:t.licenseCheckType})),c.a.createElement(u.Form.Field,null,l),c.a.createElement(u.Form.Group,null,n)),c.a.createElement("form",{is:!0,action:"",id:"dwkitadmin-license-uploadform",method:"post",style:{display:"none"},enctype:"multipart/form-data",onsubmit:"tmp()"},c.a.createElement("input",{type:"file",name:"dwkitadmin-license-uploadfile",id:"dwkitadmin-license-uploadfile",onChange:this.onUpload_onchange.bind(this)})))}},{key:"onUpload",value:function(){$("#dwkitadmin-license-uploadfile").trigger("click")}},{key:"onUpload_onchange",value:function(){this.uploadLicense($("#dwkitadmin-license-uploadform")[0],function(e){e.success?(alertify.success("The file is uploaded!"),location.reload()):alertify.error(e.message)})}},{key:"uploadLicense",value:function(e,t){$.ajax({type:"POST",url:this.createurl("uploadlicense"),data:new FormData(e),processData:!1,contentType:!1,success:function(e){t(e)}})}}]),a}()},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var t=n(0),a=n.n(t),t=n(4),t=n(3),i=n(2),l=n(1);function s(e){return(s="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(e){return _typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof2(e)})(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var r=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(o,i.a);var n,r,t=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=p(n),t=r?(t=p(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==s(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function o(e){return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),(e=t.call(this,e)).datatype="appsettings",e.state=e.getStateFromPros(),e}return c(o.prototype,[{key:"render",value:function(){var e=DWKitAdminLang.integration.accessTokenInfo;return a.a.createElement("div",null,this.state.accessToken&&a.a.createElement(l.Message,{info:!0,content:e}),a.a.createElement(l.Form,{style:{width:"500px"}},a.a.createElement(l.Form.Input,{action:{icon:"copy",content:DWKitAdminLang.button.copy,onClick:this.onCopyControl.bind(this)},name:"accessToken",label:a.a.createElement("label",null,DWKitAdminLang.integration.accessToken," ",a.a.createElement("a",{onClick:this.onGenerate.bind(this)},DWKitAdminLang.integration.generate)),value:this.state.accessToken,onChange:this.onChange.bind(this)}),a.a.createElement(l.Form.Field,null,a.a.createElement("span",null,DWKitAdminLang.dashboard.integrationapiswagger," "),a.a.createElement("a",{className:"ui button",target:"_blank",href:"/swagger"},DWKitAdminLang.button.download)),a.a.createElement("div",{className:"dwkitadmin-toolbar-editform"},a.a.createElement(l.Button,{className:"buttontype1",onClick:this.onSave.bind(this)},DWKitAdminLang.button.save),a.a.createElement(l.Button,{className:"buttontype2",onClick:this.onCancel.bind(this)},DWKitAdminLang.button.cancel))))}},{key:"onChange",value:function(e,t){var n=t.name,t=t.value;this.state[n]=t,this.forceUpdate()}},{key:"onGenerate",value:function(){this.setState({accessToken:this.makeid(128)})}},{key:"getStateFromPros",value:function(){var e=this.props.metadata.appSettings;return{accessToken:(e=this.getSettings("IntegrationApiKey",e))?e.value:""}}},{key:"onSave",value:function(){var e=this.props.metadata.appSettings;(e=(e=this.getSettings("IntegrationApiKey",e))?this.СloneObj(e):{name:"IntegrationApiKey",paramName:"IntegrationApiKey",__state:"inserted"}).value=this.state.accessToken,e.__type=this.datatype,this.setUpdatedState(e);var t=this;this.ChangeData([e],function(e){t.props.parent.load(),t.forceUpdate()})}},{key:"onCancel",value:function(){var e=this.getStateFromPros();this.setState(e)}},{key:"getSettings",value:function(t,e){var n=void 0;return e.forEach(function(e){e&&e.name==t&&(n=e)}),n}},{key:"onCopyControl",value:function(){this.copyToClipboard(this.state.accessToken)}},{key:"makeid",value:function(e){for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=n.length,o=0;o<e;o++)t+=n.charAt(Math.floor(Math.random()*r));return t}}]),o}()},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var t=n(0),i=n.n(t),a=n(2),l=n(1),s=n(8),c=n(5);function u(e){return(u="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(e){return _typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof2(e)})(e)}function p(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function f(r){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?p(Object(o),!0).forEach(function(e){var t,n=r;e=o[t=e],t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):p(Object(o)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))})}return r}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var r=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(o,a.a);var n,r,t=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=m(n),t=r?(t=m(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==u(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function o(e){return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),(e=t.call(this,e)).datatype="plugins",e.state=e.getStateFromPros(),e}return d(o.prototype,[{key:"onSave",value:function(){var t=this.СloneObj(this.state.BasicPlugin);this.state.BasicPlugin.pluginSettings.RequestHeaders&&(t.pluginSettings.RequestHeaders={},this.state.BasicPlugin.pluginSettings.RequestHeaders.forEach(function(e){e.name&&(t.pluginSettings.RequestHeaders[e.name]=e.value||"")})),t.pluginSettings&&Array.isArray(t.pluginSettings.DeleteCascadeList)&&t.pluginSettings.DeleteCascadeList.forEach(function(e){e.__id&&delete e.__id});var e=this.СloneObj(this.state.WorkflowPlugin),n=this.СloneObj(this.state.NotificationPlugin);n.pluginSettings&&Array.isArray(n.pluginSettings.ObjectCountList)&&n.pluginSettings.ObjectCountList.forEach(function(e){e.__id&&delete e.__id});var r=this;this.ChangeData([t,e,n],function(e){r.props.parent.load(),r.forceUpdate()})}},{key:"onCancel",value:function(){this.setState(this.getStateFromPros())}},{key:"getStateFromPros",value:function(){var n=f(f({},e={enabled:!1,__type:this.datatype,__state:"inserted"}),{},{name:"BasicPlugin",pluginSettings:{MailServerPort:25,MailServerSsl:!0}}),r=f(f({},e),{},{name:"WorkflowPlugin",pluginSettings:{}}),o=f(f({},e),{},{name:"NotificationPlugin",pluginSettings:{}}),e=this.props.data;return Array.isArray(e)&&e.forEach(function(e){if(e.name==n.name){if(delete n.__state,n.enabled=e.enabled,e.pluginSettings)for(t in e.pluginSettings)if("RequestHeaders"==t)for(var t in n.pluginSettings.RequestHeaders=[],e.pluginSettings.RequestHeaders)n.pluginSettings.RequestHeaders.push({name:t,value:e.pluginSettings.RequestHeaders[t]});else n.pluginSettings[t]=e.pluginSettings[t]}else if(e.name==r.name){if(delete r.__state,r.enabled=e.enabled,e.pluginSettings)for(t in e.pluginSettings)r.pluginSettings[t]=e.pluginSettings[t]}else if(e.name==o.name&&(delete r.__state,o.enabled=e.enabled,e.pluginSettings))for(t in e.pluginSettings)o.pluginSettings[t]=e.pluginSettings[t]}),{BasicPlugin:n,WorkflowPlugin:r,NotificationPlugin:o}}},{key:"render",value:function(){var e=this.state.BasicPlugin,t=this.state.WorkflowPlugin,n=this.state.NotificationPlugin;return i.a.createElement(l.Form,null,i.a.createElement(l.Form.Checkbox,{toggle:!0,name:"enabled",label:DWKitAdminLang.plugins.basicplugin.header,checked:e.enabled,onChange:this.onChange.bind(this,"BasicPlugin")}),e.enabled&&this.renderBasicPlugin(e,"BasicPlugin"),i.a.createElement(l.Form.Checkbox,{toggle:!0,name:"enabled",label:DWKitAdminLang.plugins.workflowplugin.header,checked:t.enabled,onChange:this.onChange.bind(this,"WorkflowPlugin")}),t.enabled&&this.renderWorkflowPlugin(t,"WorkflowPlugin"),i.a.createElement(l.Form.Checkbox,{toggle:!0,name:"enabled",label:DWKitAdminLang.plugins.notificationplugin.header,checked:n.enabled,onChange:this.onChange.bind(this,"NotificationPlugin")}),n.enabled&&this.renderNotificationPlugin(n,"NotificationPlugin"),i.a.createElement(l.Form.Field,{className:"dwkitadmin-toolbar-editform"},i.a.createElement(l.Button,{className:"buttontype1",onClick:this.onSave.bind(this)},DWKitAdminLang.button.save),i.a.createElement(l.Button,{className:"buttontype2",onClick:this.onCancel.bind(this)},DWKitAdminLang.button.cancel)))}},{key:"onChange",value:function(e,t,n){var r=n.name,o=n.value,n=n.checked;this.state[e][r]=null==o?n:o,this.setUpdatedState(this.state[e]),this.forceUpdate()}},{key:"onChangeParameter",value:function(e,t,n){var r=n.name,o=n.value,n=n.checked;this.state[e].pluginSettings[r]=null==o?n:o,this.setUpdatedState(this.state[e]),this.forceUpdate()}},{key:"renderBasicPlugin",value:function(e,t){var n=DWKitAdminLang.plugins.basicplugin,r=[{key:"name",name:n.name,control:"input"},{key:"value",name:n.value,control:"input"}],o=[];this.props.metadata.dataModel.forEach(function(e){o.push({text:e.name,value:e.name})});var a=[{key:"ParentDataModel",name:n.parentmodel,control:"dropdown",options:o},{key:"ChildDataModel",name:n.childmodel,control:"dropdown",options:o},{key:"RefColumn",name:n.customrefcolumn,control:"input"}],e=e.pluginSettings;return i.a.createElement(l.Segment,null,i.a.createElement(l.Form.Group,null,i.a.createElement(l.Form.Input,{name:"MailServer",label:n.mailserver,value:e.MailServer,onChange:this.onChangeParameter.bind(this,t)}),i.a.createElement(l.Form.Input,{name:"MailServerPort",label:n.port,type:"number",value:e.MailServerPort,onChange:this.onChangeParameter.bind(this,t)}),i.a.createElement(l.Form.Checkbox,{name:"MailServerSsl",label:"SSL",checked:e.MailServerSsl,onChange:this.onChangeParameter.bind(this,t)})),i.a.createElement(l.Form.Group,null,i.a.createElement(l.Form.Input,{name:"MailServerLogin",label:n.login,value:e.MailServerLogin,onChange:this.onChangeParameter.bind(this,t)}),i.a.createElement(l.Form.Input,{name:"MailServerPass",label:n.password,type:"password",value:e.MailServerPass,onChange:this.onChangeParameter.bind(this,t)}),i.a.createElement(l.Form.Input,{name:"MailServerFrom",label:n.fromaddress,value:e.MailServerFrom,onChange:this.onChangeParameter.bind(this,t)})),i.a.createElement("h3",null,"Cascade Deletion"),i.a.createElement(c.SemanticCollectionEditor,{columns:a,name:"DeleteCascadeList",value:e.DeleteCascadeList,draggable:!0,onChange:this.onChangeParameter.bind(this,t)}),i.a.createElement("h3",null,"HTTP RequestHeaders"),i.a.createElement(c.SemanticCollectionEditor,{columns:r,name:"RequestHeaders",value:e.RequestHeaders,draggable:!1,onChange:this.onChangeParameter.bind(this,t)}))}},{key:"renderWorkflowPlugin",value:function(e,t){var n=e.pluginSettings,e=DWKitAdminLang.plugins.workflowplugin,r=[];return this.props.metadata.dataModel.forEach(function(e){r.push({text:e.name,value:e.name})}),i.a.createElement(l.Segment,null,i.a.createElement(l.Form,null,i.a.createElement(l.Form.Checkbox,{name:"EnableInboxOutbox",label:e.inoutboxfeature,checked:n.EnableInboxOutbox,onChange:this.onChangeParameter.bind(this,t)}),i.a.createElement(l.Form.Group,null,i.a.createElement(l.Form.Input,{name:"EntityStateColumn",label:e.statecolumn,value:n.EntityStateColumn,onChange:this.onChangeParameter.bind(this,t)}),i.a.createElement(l.Form.Input,{name:"EntityLocalizedStateColumn",label:e.localizedstatecolumn,value:n.EntityLocalizedStateColumn,onChange:this.onChangeParameter.bind(this,t)})),i.a.createElement(l.Form.Checkbox,{name:"EnableDeleteWorkflow",label:e.deleteworkflow,checked:n.EnableDeleteWorkflow,onChange:this.onChangeParameter.bind(this,t)}),n.EnableDeleteWorkflow&&i.a.createElement(l.Form.Dropdown,{selection:!0,multiple:!0,search:!0,options:r,name:"DeleteWorkflowDataModels",label:e.datamodelsforcontrolling,value:n.DeleteWorkflowDataModels,onChange:this.onChangeParameter.bind(this,t)}),i.a.createElement(l.Form.Checkbox,{name:"EnableTransitionHistory",label:e.enabletranshist,checked:n.EnableTransitionHistory,onChange:this.onChangeParameter.bind(this,t)}),n.EnableTransitionHistory&&i.a.createElement(l.Form.Input,{name:"TransitionHistoryModel",label:e.datamodelforstoring,value:n.TransitionHistoryModel,onChange:this.onChangeParameter.bind(this,t)})))}},{key:"renderNotificationPlugin",value:function(e,t){var n=[];this.props.metadata.dataModel.forEach(function(e){n.push({text:e.name,value:e.name})});var r=[];r.push({text:"",value:""}),this.props.metadata.codeActions.forEach(function(e){0==e.type&&r.push({text:e.name,value:e.name})});var o=DWKitAdminLang.plugins.notificationplugin,a=[{key:"Name",name:o.name,control:"input"},{key:"DataModel",name:o.datamodel,control:"dropdown",options:n},{key:"Filter",name:o.filter,control:"dropdown",options:r},{key:"Parameter",name:o.parameter,control:"custom",customControl:s.a,customControlGetPropsFunc:this.actionParameterGetProps.bind(this)}],e=e.pluginSettings;return i.a.createElement(l.Segment,null,i.a.createElement(l.Form,null,i.a.createElement("h3",null,o.objectcounts," ",i.a.createElement(l.Icon,{style:{cursor:"pointer"},onClick:function(){return window.open("https://dwkit.com/documentation/dwkit-solution/signalr/#main-operations")},name:"info"})),i.a.createElement(c.SemanticCollectionEditor,{columns:a,name:"ObjectCountList",value:e.ObjectCountList,draggable:!1,onChange:this.onChangeParameter.bind(this,t)})))}},{key:"actionParameterGetProps",value:function(t){var n=[];return this.props.metadata.dataModel.forEach(function(e){e.name==t.DataModel&&e.attributes.forEach(function(e){n.push(e.name)})}),{suggestions:n.map(function(e){return{caption:e,value:'"'+e+'"',meta:"DataModel Column"}})}}}]),o}()},function(e,t,n){"use strict";n.r(t),n=n(11),t.default=n.a},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){var n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==("undefined"==typeof window?"undefined":_typeof2(window))&&(n=window)}e.exports=n},function(e,t,n){"use strict";t.byteLength=function(e){var t=u(e);return 3*((e=t[0])+(t=t[1]))/4-t},t.toByteArray=function(e){for(var t,n=(r=u(e))[0],r=r[1],o=new c(3*(n+r)/4-r),a=0,i=0<r?n-4:n,l=0;l<i;l+=4)t=s[e.charCodeAt(l)]<<18|s[e.charCodeAt(l+1)]<<12|s[e.charCodeAt(l+2)]<<6|s[e.charCodeAt(l+3)],o[a++]=t>>16&255,o[a++]=t>>8&255,o[a++]=255&t;return 2===r&&(t=s[e.charCodeAt(l)]<<2|s[e.charCodeAt(l+1)]>>4,o[a++]=255&t),1===r&&(t=s[e.charCodeAt(l)]<<10|s[e.charCodeAt(l+1)]<<4|s[e.charCodeAt(l+2)]>>2,o[a++]=t>>8&255,o[a++]=255&t),o},t.fromByteArray=function(e){for(var t,n=e.length,r=n%3,o=[],a=0,i=n-r;a<i;a+=16383)o.push(function(e,t){for(var n,r=[],o=a;o<t;o+=3)n=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),r.push(l[n>>18&63]+l[n>>12&63]+l[n>>6&63]+l[63&n]);return r.join("")}(e,i<a+16383?i:a+16383));return 1==r?(t=e[n-1],o.push(l[t>>2]+l[t<<4&63]+"==")):2==r&&(t=(e[n-2]<<8)+e[n-1],o.push(l[t>>10]+l[t>>4&63]+l[t<<2&63]+"=")),o.join("")};for(var l=[],s=[],c="undefined"!=typeof Uint8Array?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,a=r.length;o<a;++o)l[o]=r[o],s[r.charCodeAt(o)]=o;function u(e){var t=e.length;if(0<t%4)throw new Error("Invalid string. Length must be a multiple of 4");return[e=-1===(e=e.indexOf("="))?t:e,e===t?0:4-e%4]}s["-".charCodeAt(0)]=62,s["_".charCodeAt(0)]=63},function(e,t){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */t.read=function(e,t,n,r,o){var a,i,l=8*o-r-1,s=(1<<l)-1,c=s>>1,u=-7,p=n?o-1:0,f=n?-1:1,n=e[t+p];for(p+=f,a=n&(1<<-u)-1,n>>=-u,u+=l;0<u;a=256*a+e[t+p],p+=f,u-=8);for(i=a&(1<<-u)-1,a>>=-u,u+=r;0<u;i=256*i+e[t+p],p+=f,u-=8);if(0===a)a=1-c;else{if(a===s)return i?NaN:1/0*(n?-1:1);i+=Math.pow(2,r),a-=c}return(n?-1:1)*i*Math.pow(2,a-r)},t.write=function(e,t,n,r,o,a){var i,l,s=8*a-o-1,c=(1<<s)-1,u=c>>1,p=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:a-1,d=r?1:-1,a=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(l=isNaN(t)?1:0,i=c):(i=Math.floor(Math.log(t)/Math.LN2),t*(r=Math.pow(2,-i))<1&&(i--,r*=2),2<=(t+=1<=i+u?p/r:p*Math.pow(2,1-u))*r&&(i++,r/=2),c<=i+u?(l=0,i=c):1<=i+u?(l=(t*r-1)*Math.pow(2,o),i+=u):(l=t*Math.pow(2,u-1)*Math.pow(2,o),i=0));8<=o;e[n+f]=255&l,f+=d,l/=256,o-=8);for(i=i<<o|l,s+=o;0<s;e[n+f]=255&i,f+=d,i/=256,s-=8);e[n+f-d]|=128*a}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}}],f={},g.m=d,g.c=f,g.d=function(e,t,n){g.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},g.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},g.t=function(t,e){if(1&e&&(t=g(t)),8&e)return t;if(4&e&&"object"==_typeof2(t)&&t&&t.__esModule)return t;var n=Object.create(null);if(g.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)g.d(n,r,function(e){return t[e]}.bind(null,r));return n},g.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return g.d(t,"a",t),t},g.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},g.p="",g(g.s=37);function g(e){if(f[e])return f[e].exports;var t=f[e]={i:e,l:!1,exports:{}};return d[e].call(t.exports,t,t.exports,g),t.l=!0,t.exports}var d,f},"object"==_typeof2(exports)&&"object"==_typeof2(module)?module.exports=IA(__webpack_require__(53),__webpack_require__(133),__webpack_require__(134),__webpack_require__(68),__webpack_require__(135),__webpack_require__(136),__webpack_require__(137),__webpack_require__(138),__webpack_require__(139),__webpack_require__(140),__webpack_require__(141),__webpack_require__(142),__webpack_require__(143),__webpack_require__(144),__webpack_require__(145),__webpack_require__(146),__webpack_require__(147),__webpack_require__(148),__webpack_require__(149),__webpack_require__(150),__webpack_require__(151),__webpack_require__(152)):(__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(53),__webpack_require__(133),__webpack_require__(134),__webpack_require__(68),__webpack_require__(135),__webpack_require__(136),__webpack_require__(137),__webpack_require__(138),__webpack_require__(139),__webpack_require__(140),__webpack_require__(141),__webpack_require__(142),__webpack_require__(143),__webpack_require__(144),__webpack_require__(145),__webpack_require__(146),__webpack_require__(147),__webpack_require__(148),__webpack_require__(149),__webpack_require__(150),__webpack_require__(151),__webpack_require__(152)],void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=IA)?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}.call(this,__webpack_require__(357)(module))},function(e,t,n){n(155),e.exports=n(358)},function(e,t,n){"use strict";!function(e){if(n(156),n(353),n(354),e._babelPolyfill)throw new Error("only one instance of babel-polyfill is allowed");e._babelPolyfill=!0;function t(e,t,n){e[t]||Object.defineProperty(e,t,{writable:!0,configurable:!0,value:n})}t(String.prototype,"padLeft","".padStart),t(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach(function(e){[][e]&&t(Array,e,Function.call.bind([][e]))})}.call(this,n(96))},function(e,t,n){n(157),n(160),n(161),n(162),n(163),n(164),n(165),n(166),n(167),n(168),n(169),n(170),n(171),n(172),n(173),n(174),n(175),n(176),n(177),n(178),n(179),n(180),n(181),n(182),n(183),n(184),n(185),n(186),n(187),n(188),n(189),n(190),n(191),n(192),n(193),n(194),n(195),n(196),n(197),n(198),n(199),n(200),n(201),n(202),n(203),n(204),n(205),n(206),n(207),n(208),n(209),n(210),n(211),n(212),n(213),n(214),n(215),n(216),n(217),n(218),n(219),n(220),n(221),n(222),n(223),n(224),n(225),n(226),n(227),n(228),n(229),n(230),n(231),n(232),n(233),n(234),n(235),n(237),n(238),n(240),n(241),n(242),n(243),n(244),n(245),n(246),n(248),n(249),n(250),n(251),n(252),n(253),n(254),n(255),n(256),n(257),n(258),n(259),n(260),n(89),n(261),n(116),n(262),n(117),n(263),n(264),n(265),n(266),n(267),n(120),n(122),n(123),n(268),n(269),n(270),n(271),n(272),n(273),n(274),n(275),n(276),n(277),n(278),n(279),n(280),n(281),n(282),n(283),n(284),n(285),n(286),n(287),n(288),n(289),n(290),n(291),n(292),n(293),n(294),n(295),n(296),n(297),n(298),n(299),n(300),n(301),n(302),n(303),n(304),n(305),n(306),n(307),n(308),n(309),n(310),n(311),n(312),n(313),n(314),n(315),n(316),n(317),n(318),n(319),n(320),n(321),n(322),n(323),n(324),n(325),n(326),n(327),n(328),n(329),n(330),n(331),n(332),n(333),n(334),n(335),n(336),n(337),n(338),n(339),n(340),n(341),n(342),n(343),n(344),n(345),n(346),n(347),n(348),n(349),n(350),n(351),n(352),e.exports=n(19)},function(e,t,n){"use strict";function r(e){var t=G[e]=A(N[B]);return t._k=e,t}function o(e,t){E(e);for(var n,r=V(t=C(t)),o=0,a=r.length;o<a;)Z(e,n=r[o++],t[n]);return e}function a(e){var t=K.call(this,e=O(e,!0));return!(this===H&&s(G,e)&&!s(q,e))&&(!(t||!s(this,e)||!s(G,e)||s(this,W)&&this[W][e])||t)}function i(e,t){if(e=C(e),t=O(t,!0),e!==H||!s(G,t)||s(q,t)){var n=R(e,t);return!n||!s(G,t)||s(e,W)&&e[W][t]||(n.enumerable=!0),n}}var l=n(2),s=n(15),c=n(8),u=n(0),p=n(13),f=n(31).KEY,d=n(3),h=n(48),m=n(44),y=n(34),g=n(5),b=n(98),v=n(70),V=n(159),w=n(56),E=n(1),_=n(4),k=n(10),C=n(16),O=n(24),S=n(33),A=n(37),x=n(101),P=n(17),D=n(55),L=n(9),j=n(35),R=P.f,F=L.f,T=x.f,N=l.Symbol,M=l.JSON,I=M&&M.stringify,B="prototype",W=g("_hidden"),U=g("toPrimitive"),K={}.propertyIsEnumerable,z=h("symbol-registry"),G=h("symbols"),q=h("op-symbols"),H=Object[B],Y="function"==typeof N&&!!D.f,J=l.QObject,Q=!J||!J[B]||!J[B].findChild,$=c&&d(function(){return 7!=A(F({},"a",{get:function(){return F(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=R(H,t);r&&delete H[t],F(e,t,n),r&&e!==H&&F(H,t,r)}:F,X=Y&&"symbol"==typeof N.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof N},Z=function(e,t,n){return e===H&&Z(q,t,n),E(e),t=O(t,!0),E(n),s(G,t)?(n.enumerable?(s(e,W)&&e[W][t]&&(e[W][t]=!1),n=A(n,{enumerable:S(0,!1)})):(s(e,W)||F(e,W,S(1,{})),e[W][t]=!0),$(e,t,n)):F(e,t,n)},h=function(e){for(var t,n=T(C(e)),r=[],o=0;n.length>o;)s(G,t=n[o++])||t==W||t==f||r.push(t);return r},J=function(e){for(var t,n=e===H,r=T(n?q:C(e)),o=[],a=0;r.length>a;)!s(G,t=r[a++])||n&&!s(H,t)||o.push(G[t]);return o};Y||(p((N=function(){if(this instanceof N)throw TypeError("Symbol is not a constructor!");var t=y(0<arguments.length?arguments[0]:void 0),n=function(e){this===H&&n.call(q,e),s(this,W)&&s(this[W],t)&&(this[W][t]=!1),$(this,t,S(1,e))};return c&&Q&&$(H,t,{configurable:!0,set:n}),r(t)})[B],"toString",function(){return this._k}),P.f=i,L.f=Z,n(38).f=x.f=h,n(50).f=a,D.f=J,c&&!n(30)&&p(H,"propertyIsEnumerable",a,!0),b.f=function(e){return r(g(e))}),u(u.G+u.W+u.F*!Y,{Symbol:N});for(var ee="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),te=0;ee.length>te;)g(ee[te++]);for(var ne=j(g.store),re=0;ne.length>re;)v(ne[re++]);u(u.S+u.F*!Y,"Symbol",{for:function(e){return s(z,e+="")?z[e]:z[e]=N(e)},keyFor:function(e){if(!X(e))throw TypeError(e+" is not a symbol!");for(var t in z)if(z[t]===e)return t},useSetter:function(){Q=!0},useSimple:function(){Q=!1}}),u(u.S+u.F*!Y,"Object",{create:function(e,t){return void 0===t?A(e):o(A(e),t)},defineProperty:Z,defineProperties:o,getOwnPropertyDescriptor:i,getOwnPropertyNames:h,getOwnPropertySymbols:J});J=d(function(){D.f(1)});u(u.S+u.F*J,"Object",{getOwnPropertySymbols:function(e){return D.f(k(e))}}),M&&u(u.S+u.F*(!Y||d(function(){var e=N();return"[null]"!=I([e])||"{}"!=I({a:e})||"{}"!=I(Object(e))})),"JSON",{stringify:function(e){for(var t,n,r=[e],o=1;o<arguments.length;)r.push(arguments[o++]);if(n=t=r[1],(_(t)||void 0!==e)&&!X(e))return w(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!X(t))return t}),r[1]=t,I.apply(M,r)}}),N[B][U]||n(12)(N[B],U,N[B].valueOf),m(N,"Symbol"),m(Math,"Math",!0),m(l.JSON,"JSON",!0)},function(e,t,n){e.exports=n(48)("native-function-to-string",Function.toString)},function(e,t,n){var l=n(35),s=n(55),c=n(50);e.exports=function(e){var t=l(e),n=s.f;if(n)for(var r,o=n(e),a=c.f,i=0;o.length>i;)a.call(e,r=o[i++])&&t.push(r);return t}},function(e,t,n){var r=n(0);r(r.S,"Object",{create:n(37)})},function(e,t,n){var r=n(0);r(r.S+r.F*!n(8),"Object",{defineProperty:n(9).f})},function(e,t,n){var r=n(0);r(r.S+r.F*!n(8),"Object",{defineProperties:n(100)})},function(e,t,n){var r=n(16),o=n(17).f;n(26)("getOwnPropertyDescriptor",function(){return function(e,t){return o(r(e),t)}})},function(e,t,n){var r=n(10),o=n(18);n(26)("getPrototypeOf",function(){return function(e){return o(r(e))}})},function(e,t,n){var r=n(10),o=n(35);n(26)("keys",function(){return function(e){return o(r(e))}})},function(e,t,n){n(26)("getOwnPropertyNames",function(){return n(101).f})},function(e,t,n){var r=n(4),o=n(31).onFreeze;n(26)("freeze",function(t){return function(e){return t&&r(e)?t(o(e)):e}})},function(e,t,n){var r=n(4),o=n(31).onFreeze;n(26)("seal",function(t){return function(e){return t&&r(e)?t(o(e)):e}})},function(e,t,n){var r=n(4),o=n(31).onFreeze;n(26)("preventExtensions",function(t){return function(e){return t&&r(e)?t(o(e)):e}})},function(e,t,n){var r=n(4);n(26)("isFrozen",function(t){return function(e){return!r(e)||!!t&&t(e)}})},function(e,t,n){var r=n(4);n(26)("isSealed",function(t){return function(e){return!r(e)||!!t&&t(e)}})},function(e,t,n){var r=n(4);n(26)("isExtensible",function(t){return function(e){return!!r(e)&&(!t||t(e))}})},function(e,t,n){var r=n(0);r(r.S+r.F,"Object",{assign:n(102)})},function(e,t,n){var r=n(0);r(r.S,"Object",{is:n(103)})},function(e,t,n){var r=n(0);r(r.S,"Object",{setPrototypeOf:n(74).set})},function(e,t,n){"use strict";var r=n(45),o={};o[n(5)("toStringTag")]="z",o+""!="[object z]"&&n(13)(Object.prototype,"toString",function(){return"[object "+r(this)+"]"},!0)},function(e,t,n){var r=n(0);r(r.P,"Function",{bind:n(104)})},function(e,t,n){var r=n(9).f,o=Function.prototype,a=/^\s*function ([^ (]*)/;"name"in o||n(8)&&r(o,"name",{configurable:!0,get:function(){try{return(""+this).match(a)[1]}catch(e){return""}}})},function(e,t,n){"use strict";var r=n(4),o=n(18),a=n(5)("hasInstance"),i=Function.prototype;a in i||n(9).f(i,a,{value:function(e){if("function"!=typeof this||!r(e))return!1;if(!r(this.prototype))return e instanceof this;for(;e=o(e);)if(this.prototype===e)return!0;return!1}})},function(e,t,n){var r=n(0),n=n(106);r(r.G+r.F*(parseInt!=n),{parseInt:n})},function(e,t,n){var r=n(0),n=n(107);r(r.G+r.F*(parseFloat!=n),{parseFloat:n})},function(e,t,n){"use strict";function r(e){if("string"==typeof(t=c(e,!1))&&2<t.length){var t,n,r,o=(t=b?t.trim():d(t,3)).charCodeAt(0);if(43===o||45===o){if(88===(e=t.charCodeAt(2))||120===e)return NaN}else if(48===o){switch(t.charCodeAt(1)){case 66:case 98:n=2,r=49;break;case 79:case 111:n=8,r=55;break;default:return+t}for(var a,i=t.slice(2),l=0,s=i.length;l<s;l++)if((a=i.charCodeAt(l))<48||r<a)return NaN;return parseInt(i,n)}}return+t}var o=n(2),a=n(15),i=n(21),l=n(76),c=n(24),s=n(3),u=n(38).f,p=n(17).f,f=n(9).f,d=n(46).trim,h="Number",m=V=o[h],y=V.prototype,g=i(n(37)(y))==h,b="trim"in String.prototype;if(!V(" 0o1")||!V("0b1")||V("+0x1")){for(var v,V=function(e){var e=arguments.length<1?0:e,t=this;return t instanceof V&&(g?s(function(){y.valueOf.call(t)}):i(t)!=h)?l(new m(r(e)),t,V):r(e)},w=n(8)?u(m):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),E=0;w.length>E;E++)a(m,v=w[E])&&!a(V,v)&&f(V,v,p(m,v));(V.prototype=y).constructor=V,n(13)(o,h,V)}},function(e,t,n){"use strict";function i(e,t){for(var n=-1,r=t;++n<6;)r+=e*f[n],f[n]=r%1e7,r=a(r/1e7)}function l(e){for(var t=6,n=0;0<=--t;)n+=f[t],f[t]=a(n/e),n=n%e*1e7}function s(){for(var e,t=6,n="";0<=--t;)""===n&&0!==t&&0===f[t]||(e=String(f[t]),n=""===n?e:n+p.call("0",7-e.length)+e);return n}var r=n(0),c=n(22),u=n(108),p=n(77),o=1..toFixed,a=Math.floor,f=[0,0,0,0,0,0],d="Number.toFixed: incorrect invocation!",h=function(e,t,n){return 0===t?n:t%2==1?h(e,t-1,n*e):h(e*e,t/2,n)};r(r.P+r.F*(!!o&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==0xde0b6b3a7640080.toFixed(0))||!n(3)(function(){o.call({})})),"Number",{toFixed:function(e){var t,n,r=u(this,d),o=c(e),a="",e="0";if(o<0||20<o)throw RangeError(d);if(r!=r)return"NaN";if(r<=-1e21||1e21<=r)return String(r);if(r<0&&(a="-",r=-r),1e-21<r)if(r=(n=function(e){for(var t=0,n=e;4096<=n;)t+=12,n/=4096;for(;2<=n;)t+=1,n/=2;return t}(r*h(2,69,1))-69)<0?r*h(2,-n,1):r/h(2,n,1),r*=4503599627370496,0<(n=52-n)){for(i(0,r),t=o;7<=t;)i(1e7,0),t-=7;for(i(h(10,t,1),0),t=n-1;23<=t;)l(1<<23),t-=23;l(1<<t),i(1,1),l(2),e=s()}else i(0,r),i(1<<-n,0),e=s()+p.call("0",o);return e=0<o?a+((n=e.length)<=o?"0."+p.call("0",o-n)+e:e.slice(0,n-o)+"."+e.slice(n-o)):a+e}})},function(e,t,n){"use strict";var r=n(0),o=n(3),a=n(108),i=1..toPrecision;r(r.P+r.F*(o(function(){return"1"!==i.call(1,void 0)})||!o(function(){i.call({})})),"Number",{toPrecision:function(e){var t=a(this,"Number#toPrecision: incorrect invocation!");return void 0===e?i.call(t):i.call(t,e)}})},function(e,t,n){n=n(0);n(n.S,"Number",{EPSILON:Math.pow(2,-52)})},function(e,t,n){var r=n(0),o=n(2).isFinite;r(r.S,"Number",{isFinite:function(e){return"number"==typeof e&&o(e)}})},function(e,t,n){var r=n(0);r(r.S,"Number",{isInteger:n(109)})},function(e,t,n){n=n(0);n(n.S,"Number",{isNaN:function(e){return e!=e}})},function(e,t,n){var r=n(0),o=n(109),a=Math.abs;r(r.S,"Number",{isSafeInteger:function(e){return o(e)&&a(e)<=9007199254740991}})},function(e,t,n){n=n(0);n(n.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(e,t,n){n=n(0);n(n.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(e,t,n){var r=n(0),n=n(107);r(r.S+r.F*(Number.parseFloat!=n),"Number",{parseFloat:n})},function(e,t,n){var r=n(0),n=n(106);r(r.S+r.F*(Number.parseInt!=n),"Number",{parseInt:n})},function(e,t,n){var r=n(0),o=n(110),a=Math.sqrt,n=Math.acosh;r(r.S+r.F*!(n&&710==Math.floor(n(Number.MAX_VALUE))&&n(1/0)==1/0),"Math",{acosh:function(e){return(e=+e)<1?NaN:94906265.62425156<e?Math.log(e)+Math.LN2:o(e-1+a(e-1)*a(e+1))}})},function(e,t,n){var r=n(0),n=Math.asinh;r(r.S+r.F*!(n&&0<1/n(0)),"Math",{asinh:function e(t){return isFinite(t=+t)&&0!=t?t<0?-e(-t):Math.log(t+Math.sqrt(t*t+1)):t}})},function(e,t,n){var r=n(0),n=Math.atanh;r(r.S+r.F*!(n&&1/n(-0)<0),"Math",{atanh:function(e){return 0==(e=+e)?e:Math.log((1+e)/(1-e))/2}})},function(e,t,n){var r=n(0),o=n(78);r(r.S,"Math",{cbrt:function(e){return o(e=+e)*Math.pow(Math.abs(e),1/3)}})},function(e,t,n){n=n(0);n(n.S,"Math",{clz32:function(e){return(e>>>=0)?31-Math.floor(Math.log(e+.5)*Math.LOG2E):32}})},function(e,t,n){var n=n(0),r=Math.exp;n(n.S,"Math",{cosh:function(e){return(r(e=+e)+r(-e))/2}})},function(e,t,n){var r=n(0),n=n(79);r(r.S+r.F*(n!=Math.expm1),"Math",{expm1:n})},function(e,t,n){var r=n(0);r(r.S,"Math",{fround:n(111)})},function(e,t,n){var n=n(0),s=Math.abs;n(n.S,"Math",{hypot:function(e,t){for(var n,r,o=0,a=0,i=arguments.length,l=0;a<i;)l<(n=s(arguments[a++]))?(o=o*(r=l/n)*r+1,l=n):o+=0<n?(r=n/l)*r:n;return l===1/0?1/0:l*Math.sqrt(o)}})},function(e,t,n){var r=n(0),o=Math.imul;r(r.S+r.F*n(3)(function(){return-5!=o(4294967295,5)||2!=o.length}),"Math",{imul:function(e,t){var n=+e,r=+t,e=65535&n,t=65535&r;return 0|e*t+((65535&n>>>16)*t+e*(65535&r>>>16)<<16>>>0)}})},function(e,t,n){n=n(0);n(n.S,"Math",{log10:function(e){return Math.log(e)*Math.LOG10E}})},function(e,t,n){var r=n(0);r(r.S,"Math",{log1p:n(110)})},function(e,t,n){n=n(0);n(n.S,"Math",{log2:function(e){return Math.log(e)/Math.LN2}})},function(e,t,n){var r=n(0);r(r.S,"Math",{sign:n(78)})},function(e,t,n){var r=n(0),o=n(79),a=Math.exp;r(r.S+r.F*n(3)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(e){return Math.abs(e=+e)<1?(o(e)-o(-e))/2:(a(e-1)-a(-e-1))*(Math.E/2)}})},function(e,t,n){var r=n(0),o=n(79),a=Math.exp;r(r.S,"Math",{tanh:function(e){var t=o(e=+e),n=o(-e);return t==1/0?1:n==1/0?-1:(t-n)/(a(e)+a(-e))}})},function(e,t,n){n=n(0);n(n.S,"Math",{trunc:function(e){return(0<e?Math.floor:Math.ceil)(e)}})},function(e,t,n){var r=n(0),a=n(36),i=String.fromCharCode,n=String.fromCodePoint;r(r.S+r.F*(!!n&&1!=n.length),"String",{fromCodePoint:function(e){for(var t,n=[],r=arguments.length,o=0;o<r;){if(t=+arguments[o++],a(t,1114111)!==t)throw RangeError(t+" is not a valid code point");n.push(t<65536?i(t):i(55296+((t-=65536)>>10),t%1024+56320))}return n.join("")}})},function(e,t,n){var r=n(0),i=n(16),l=n(6);r(r.S,"String",{raw:function(e){for(var t=i(e.raw),n=l(t.length),r=arguments.length,o=[],a=0;a<n;)o.push(String(t[a++])),a<r&&o.push(String(arguments[a]));return o.join("")}})},function(e,t,n){"use strict";n(46)("trim",function(e){return function(){return e(this,3)}})},function(e,t,n){"use strict";var r=n(57)(!0);n(80)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e=this._t,t=this._i;return t>=e.length?{value:void 0,done:!0}:(t=r(e,t),this._i+=t.length,{value:t,done:!1})})},function(e,t,n){"use strict";var r=n(0),o=n(57)(!1);r(r.P,"String",{codePointAt:function(e){return o(this,e)}})},function(e,t,n){"use strict";var r=n(0),o=n(6),a=n(82),i="endsWith",l=""[i];r(r.P+r.F*n(83)(i),"String",{endsWith:function(e){var t=a(this,e,i),n=1<arguments.length?arguments[1]:void 0,r=o(t.length),r=void 0===n?r:Math.min(o(n),r),e=String(e);return l?l.call(t,e,r):t.slice(r-e.length,r)===e}})},function(e,t,n){"use strict";var r=n(0),o=n(82);r(r.P+r.F*n(83)("includes"),"String",{includes:function(e){return!!~o(this,e,"includes").indexOf(e,1<arguments.length?arguments[1]:void 0)}})},function(e,t,n){var r=n(0);r(r.P,"String",{repeat:n(77)})},function(e,t,n){"use strict";var r=n(0),o=n(6),a=n(82),i="startsWith",l=""[i];r(r.P+r.F*n(83)(i),"String",{startsWith:function(e){var t=a(this,e,i),n=o(Math.min(1<arguments.length?arguments[1]:void 0,t.length)),e=String(e);return l?l.call(t,e,n):t.slice(n,n+e.length)===e}})},function(e,t,n){"use strict";n(14)("anchor",function(t){return function(e){return t(this,"a","name",e)}})},function(e,t,n){"use strict";n(14)("big",function(e){return function(){return e(this,"big","","")}})},function(e,t,n){"use strict";n(14)("blink",function(e){return function(){return e(this,"blink","","")}})},function(e,t,n){"use strict";n(14)("bold",function(e){return function(){return e(this,"b","","")}})},function(e,t,n){"use strict";n(14)("fixed",function(e){return function(){return e(this,"tt","","")}})},function(e,t,n){"use strict";n(14)("fontcolor",function(t){return function(e){return t(this,"font","color",e)}})},function(e,t,n){"use strict";n(14)("fontsize",function(t){return function(e){return t(this,"font","size",e)}})},function(e,t,n){"use strict";n(14)("italics",function(e){return function(){return e(this,"i","","")}})},function(e,t,n){"use strict";n(14)("link",function(t){return function(e){return t(this,"a","href",e)}})},function(e,t,n){"use strict";n(14)("small",function(e){return function(){return e(this,"small","","")}})},function(e,t,n){"use strict";n(14)("strike",function(e){return function(){return e(this,"strike","","")}})},function(e,t,n){"use strict";n(14)("sub",function(e){return function(){return e(this,"sub","","")}})},function(e,t,n){"use strict";n(14)("sup",function(e){return function(){return e(this,"sup","","")}})},function(e,t,n){n=n(0);n(n.S,"Date",{now:function(){return(new Date).getTime()}})},function(e,t,n){"use strict";var r=n(0),o=n(10),a=n(24);r(r.P+r.F*n(3)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(e){var t=o(this),n=a(t);return"number"!=typeof n||isFinite(n)?t.toISOString():null}})},function(e,t,n){var r=n(0),n=n(236);r(r.P+r.F*(Date.prototype.toISOString!==n),"Date",{toISOString:n})},function(e,t,n){"use strict";function r(e){return 9<e?e:"0"+e}var n=n(3),o=Date.prototype.getTime,a=Date.prototype.toISOString;e.exports=n(function(){return"0385-07-25T07:06:39.999Z"!=a.call(new Date(-5e13-1))})||!n(function(){a.call(new Date(NaN))})?function(){if(!isFinite(o.call(this)))throw RangeError("Invalid time value");var e=this.getUTCFullYear(),t=this.getUTCMilliseconds(),n=e<0?"-":9999<e?"+":"";return n+("00000"+Math.abs(e)).slice(n?-6:-4)+"-"+r(this.getUTCMonth()+1)+"-"+r(this.getUTCDate())+"T"+r(this.getUTCHours())+":"+r(this.getUTCMinutes())+":"+r(this.getUTCSeconds())+"."+(99<t?t:"0"+r(t))+"Z"}:a},function(e,t,n){var r=Date.prototype,o="Invalid Date",a=r.toString,i=r.getTime;new Date(NaN)+""!=o&&n(13)(r,"toString",function(){var e=i.call(this);return e==e?a.call(this):o})},function(e,t,n){var r=n(5)("toPrimitive"),o=Date.prototype;r in o||n(12)(o,r,n(239))},function(e,t,n){"use strict";var r=n(1),o=n(24);e.exports=function(e){if("string"!==e&&"number"!==e&&"default"!==e)throw TypeError("Incorrect hint");return o(r(this),"number"!=e)}},function(e,t,n){var r=n(0);r(r.S,"Array",{isArray:n(56)})},function(e,t,n){"use strict";var p=n(20),r=n(0),f=n(10),d=n(112),h=n(84),m=n(6),y=n(85),g=n(86);r(r.S+r.F*!n(59)(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,r,o,a=f(e),i="function"==typeof this?this:Array,l=arguments.length,s=1<l?arguments[1]:void 0,c=void 0!==s,u=0,e=g(a);if(c&&(s=p(s,2<l?arguments[2]:void 0,2)),null==e||i==Array&&h(e))for(n=new i(t=m(a.length));u<t;u++)y(n,u,c?s(a[u],u):a[u]);else for(o=e.call(a),n=new i;!(r=o.next()).done;u++)y(n,u,c?d(o,s,[r.value,u],!0):r.value);return n.length=u,n}})},function(e,t,n){"use strict";var r=n(0),o=n(85);r(r.S+r.F*n(3)(function(){function e(){}return!(Array.of.call(e)instanceof e)}),"Array",{of:function(){for(var e=0,t=arguments.length,n=new("function"==typeof this?this:Array)(t);e<t;)o(n,e,arguments[e++]);return n.length=t,n}})},function(e,t,n){"use strict";var r=n(0),o=n(16),a=[].join;r(r.P+r.F*(n(49)!=Object||!n(23)(a)),"Array",{join:function(e){return a.call(o(this),void 0===e?",":e)}})},function(e,t,n){"use strict";var r=n(0),o=n(73),s=n(21),c=n(36),u=n(6),p=[].slice;r(r.P+r.F*n(3)(function(){o&&p.call(o)}),"Array",{slice:function(e,t){var n=u(this.length),r=s(this);if(t=void 0===t?n:t,"Array"==r)return p.call(this,e,t);for(var o=c(e,n),n=c(t,n),a=u(n-o),i=new Array(a),l=0;l<a;l++)i[l]="String"==r?this.charAt(o+l):this[o+l];return i}})},function(e,t,n){"use strict";var r=n(0),o=n(11),a=n(10),i=n(3),l=[].sort,s=[1,2,3];r(r.P+r.F*(i(function(){s.sort(void 0)})||!i(function(){s.sort(null)})||!n(23)(l)),"Array",{sort:function(e){return void 0===e?l.call(a(this)):l.call(a(this),o(e))}})},function(e,t,n){"use strict";var r=n(0),o=n(27)(0),n=n(23)([].forEach,!0);r(r.P+r.F*!n,"Array",{forEach:function(e){return o(this,e,arguments[1])}})},function(e,t,n){var r=n(4),o=n(56),a=n(5)("species");e.exports=function(e){var t;return o(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!o(t.prototype)||(t=void 0),r(t)&&null===(t=t[a])&&(t=void 0)),void 0===t?Array:t}},function(e,t,n){"use strict";var r=n(0),o=n(27)(1);r(r.P+r.F*!n(23)([].map,!0),"Array",{map:function(e){return o(this,e,arguments[1])}})},function(e,t,n){"use strict";var r=n(0),o=n(27)(2);r(r.P+r.F*!n(23)([].filter,!0),"Array",{filter:function(e){return o(this,e,arguments[1])}})},function(e,t,n){"use strict";var r=n(0),o=n(27)(3);r(r.P+r.F*!n(23)([].some,!0),"Array",{some:function(e){return o(this,e,arguments[1])}})},function(e,t,n){"use strict";var r=n(0),o=n(27)(4);r(r.P+r.F*!n(23)([].every,!0),"Array",{every:function(e){return o(this,e,arguments[1])}})},function(e,t,n){"use strict";var r=n(0),o=n(113);r(r.P+r.F*!n(23)([].reduce,!0),"Array",{reduce:function(e){return o(this,e,arguments.length,arguments[1],!1)}})},function(e,t,n){"use strict";var r=n(0),o=n(113);r(r.P+r.F*!n(23)([].reduceRight,!0),"Array",{reduceRight:function(e){return o(this,e,arguments.length,arguments[1],!0)}})},function(e,t,n){"use strict";var r=n(0),o=n(54)(!1),a=[].indexOf,i=!!a&&1/[1].indexOf(1,-0)<0;r(r.P+r.F*(i||!n(23)(a)),"Array",{indexOf:function(e){return i?a.apply(this,arguments)||0:o(this,e,arguments[1])}})},function(e,t,n){"use strict";var r=n(0),o=n(16),a=n(22),i=n(6),l=[].lastIndexOf,s=!!l&&1/[1].lastIndexOf(1,-0)<0;r(r.P+r.F*(s||!n(23)(l)),"Array",{lastIndexOf:function(e){if(s)return l.apply(this,arguments)||0;var t=o(this),n=i(t.length),r=n-1;for((r=1<arguments.length?Math.min(r,a(arguments[1])):r)<0&&(r=n+r);0<=r;r--)if(r in t&&t[r]===e)return r||0;return-1}})},function(e,t,n){var r=n(0);r(r.P,"Array",{copyWithin:n(114)}),n(32)("copyWithin")},function(e,t,n){var r=n(0);r(r.P,"Array",{fill:n(88)}),n(32)("fill")},function(e,t,n){"use strict";var r=n(0),o=n(27)(5),a=!0;"find"in[]&&Array(1).find(function(){a=!1}),r(r.P+r.F*a,"Array",{find:function(e){return o(this,e,1<arguments.length?arguments[1]:void 0)}}),n(32)("find")},function(e,t,n){"use strict";var r=n(0),o=n(27)(6),a="findIndex",i=!0;a in[]&&Array(1)[a](function(){i=!1}),r(r.P+r.F*i,"Array",{findIndex:function(e){return o(this,e,1<arguments.length?arguments[1]:void 0)}}),n(32)(a)},function(e,t,n){n(39)("Array")},function(e,t,n){var r=n(2),a=n(76),o=n(9).f,i=n(38).f,l=n(58),s=n(51),c=h=r.RegExp,u=h.prototype,p=/a/g,f=/a/g,d=new h(p)!==p;if(n(8)&&(!d||n(3)(function(){return f[n(5)("match")]=!1,h(p)!=p||h(f)==f||"/a/i"!=h(p,"i")}))){for(var h=function(e,t){var n=this instanceof h,r=l(e),o=void 0===t;return!n&&r&&e.constructor===h&&o?e:a(d?new c(r&&!o?e.source:e,t):c((r=e instanceof h)?e.source:e,r&&o?s.call(e):t),n?this:u,h)},m=i(c),y=0;m.length>y;)!function(t){t in h||o(h,t,{configurable:!0,get:function(){return c[t]},set:function(e){c[t]=e}})}(m[y++]);(u.constructor=h).prototype=u,n(13)(r,"RegExp",h)}n(39)("RegExp")},function(e,t,n){"use strict";n(117);function r(e){n(13)(RegExp.prototype,l,e,!0)}var o=n(1),a=n(51),i=n(8),l="toString",s=/./[l];n(3)(function(){return"/a/b"!=s.call({source:"a",flags:"b"})})?r(function(){var e=o(this);return"/".concat(e.source,"/","flags"in e?e.flags:!i&&e instanceof RegExp?a.call(e):void 0)}):s.name!=l&&r(function(){return s.call(this)})},function(e,t,n){"use strict";var u=n(1),p=n(6),f=n(91),d=n(60);n(61)("match",1,function(r,o,s,c){return[function(e){var t=r(this),n=null==e?void 0:e[o];return void 0!==n?n.call(e,t):new RegExp(e)[o](String(t))},function(e){var t=c(s,e,this);if(t.done)return t.value;var n=u(e),r=String(this);if(!n.global)return d(n,r);for(var o=n.unicode,a=[],i=n.lastIndex=0;null!==(l=d(n,r));){var l=String(l[0]);""===(a[i]=l)&&(n.lastIndex=f(r,p(n.lastIndex),o)),i++}return 0===i?null:a}]})},function(e,t,n){"use strict";var E=n(1),_=n(10),k=n(6),C=n(22),O=n(91),S=n(60),A=Math.max,x=Math.min,P=Math.floor,D=/\$([$&`']|\d\d?|<[^>]*>)/g,L=/\$([$&`']|\d\d?)/g;n(61)("replace",2,function(o,a,V,w){return[function(e,t){var n=o(this),r=null==e?void 0:e[a];return void 0!==r?r.call(e,n,t):V.call(String(n),e,t)},function(e,t){var n=w(V,e,this,t);if(n.done)return n.value;var r=E(e),o=String(this),a="function"==typeof t;a||(t=String(t));var i,l=r.global;l&&(i=r.unicode,r.lastIndex=0);for(var s=[];;){var c=S(r,o);if(null===c)break;if(s.push(c),!l)break;""===String(c[0])&&(r.lastIndex=O(o,k(r.lastIndex),i))}for(var u,p="",f=0,d=0;d<s.length;d++){for(var c=s[d],h=String(c[0]),m=A(x(C(c.index),o.length),0),y=[],g=1;g<c.length;g++)y.push(void 0===(u=c[g])?u:String(u));var b,v=c.groups,v=a?(b=[h].concat(y,m,o),void 0!==v&&b.push(v),String(t.apply(void 0,b))):function(a,i,l,s,c,e){var u=l+a.length,p=s.length,t=L;void 0!==c&&(c=_(c),t=D);return V.call(e,t,function(e,t){var n;switch(t.charAt(0)){case"$":return"$";case"&":return a;case"`":return i.slice(0,l);case"'":return i.slice(u);case"<":n=c[t.slice(1,-1)];break;default:var r=+t;if(0==r)return e;if(p<r){var o=P(r/10);return 0===o?e:o<=p?void 0===s[o-1]?t.charAt(1):s[o-1]+t.charAt(1):e}n=s[r-1]}return void 0===n?"":n})}(h,o,m,y,v,t);f<=m&&(p+=o.slice(f,m)+v,f=m+h.length)}return p+o.slice(f)}]})},function(e,t,n){"use strict";var l=n(1),s=n(103),c=n(60);n(61)("search",1,function(r,o,a,i){return[function(e){var t=r(this),n=null==e?void 0:e[o];return void 0!==n?n.call(e,t):new RegExp(e)[o](String(t))},function(e){var t=i(a,e,this);if(t.done)return t.value;var n=l(e),t=String(this),e=n.lastIndex;s(e,0)||(n.lastIndex=0);t=c(n,t);return s(n.lastIndex,e)||(n.lastIndex=e),null===t?-1:t.index}]})},function(e,t,n){"use strict";var p=n(58),g=n(1),b=n(52),v=n(91),V=n(6),w=n(60),f=n(90),r=n(3),E=Math.min,d=[].push,i="split",_="length",k="lastIndex",C=4294967295,O=!r(function(){RegExp(C,"y")});n(61)("split",2,function(o,a,h,m){var y="c"=="abbc"[i](/(b)*/)[1]||4!="test"[i](/(?:)/,-1)[_]||2!="ab"[i](/(?:ab)*/)[_]||4!="."[i](/(.?)(.?)/)[_]||1<"."[i](/()()/)[_]||""[i](/.?/)[_]?function(e,t){var n=String(this);if(void 0===e&&0===t)return[];if(!p(e))return h.call(n,e,t);for(var r,o,a,i=[],l=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),s=0,c=void 0===t?C:t>>>0,u=new RegExp(e.source,l+"g");(r=f.call(u,n))&&!(s<(o=u[k])&&(i.push(n.slice(s,r.index)),1<r[_]&&r.index<n[_]&&d.apply(i,r.slice(1)),a=r[0][_],s=o,i[_]>=c));)u[k]===r.index&&u[k]++;return s===n[_]?!a&&u.test("")||i.push(""):i.push(n.slice(s)),i[_]>c?i.slice(0,c):i}:"0"[i](void 0,0)[_]?function(e,t){return void 0===e&&0===t?[]:h.call(this,e,t)}:h;return[function(e,t){var n=o(this),r=null==e?void 0:e[a];return void 0!==r?r.call(e,n,t):y.call(String(n),e,t)},function(e,t){var n=m(y,e,this,t,y!==h);if(n.done)return n.value;var r=g(e),o=String(this),n=b(r,RegExp),a=r.unicode,e=(r.ignoreCase?"i":"")+(r.multiline?"m":"")+(r.unicode?"u":"")+(O?"y":"g"),i=new n(O?r:"^(?:"+r.source+")",e),l=void 0===t?C:t>>>0;if(0==l)return[];if(0===o.length)return null===w(i,o)?[o]:[];for(var s=0,c=0,u=[];c<o.length;){i.lastIndex=O?c:0;var p,f=w(i,O?o:o.slice(c));if(null===f||(p=E(V(i.lastIndex+(O?0:c)),o.length))===s)c=v(o,c,a);else{if(u.push(o.slice(s,c)),u.length===l)return u;for(var d=1;d<=f.length-1;d++)if(u.push(f[d]),u.length===l)return u;c=s=p}}return u.push(o.slice(s)),u}]})},function(e,t,n){"use strict";function r(){}function p(e){var t;return!(!y(e)||"function"!=typeof(t=e.then))&&t}function o(u,t){var n;u._n||(u._n=!0,n=u._c,E(function(){for(var s=u._v,c=1==u._s,e=0;n.length>e;)!function(e){var t,n,r,o=c?e.ok:e.fail,a=e.resolve,i=e.reject,l=e.domain;try{o?(c||(2==u._h&&N(u),u._h=1),!0===o?t=s:(l&&l.enter(),t=o(s),l&&(l.exit(),r=!0)),t===e.promise?i(A("Promise-chain cycle")):(n=p(t))?n.call(t,a,i):a(t)):i(s)}catch(e){l&&!r&&l.exit(),i(e)}}(n[e++]);u._c=[],u._n=!1,t&&!u._h&&F(u)}))}function a(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),o(t,!0))}var i,l,s,c,u=n(30),f=n(2),d=n(20),h=n(45),m=n(0),y=n(4),g=n(11),b=n(40),v=n(41),V=n(52),w=n(92).set,E=n(93)(),_=n(94),k=n(118),C=n(62),O=n(119),S="Promise",A=f.TypeError,x=f.process,P=x&&x.versions,D=P&&P.v8||"",L=f[S],j="process"==h(x),R=l=_.f,h=!!function(){try{var e=L.resolve(1),t=(e.constructor={})[n(5)("species")]=function(e){e(r,r)};return(j||"function"==typeof PromiseRejectionEvent)&&e.then(r)instanceof t&&0!==D.indexOf("6.6")&&-1===C.indexOf("Chrome/66")}catch(e){}}(),F=function(o){w.call(f,function(){var e,t,n=o._v,r=T(o);if(r&&(e=k(function(){j?x.emit("unhandledRejection",n,o):(t=f.onunhandledrejection)?t({promise:o,reason:n}):(t=f.console)&&t.error&&t.error("Unhandled promise rejection",n)}),o._h=j||T(o)?2:1),o._a=void 0,r&&e.e)throw e.v})},T=function(e){return 1!==e._h&&0===(e._a||e._c).length},N=function(t){w.call(f,function(){var e;j?x.emit("rejectionHandled",t):(e=f.onrejectionhandled)&&e({promise:t,reason:t._v})})},M=function(e){var n,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===e)throw A("Promise can't be resolved itself");(n=p(e))?E(function(){var t={_w:r,_d:!1};try{n.call(e,d(M,t,1),d(a,t,1))}catch(e){a.call(t,e)}}):(r._v=e,r._s=1,o(r,!1))}catch(e){a.call({_w:r,_d:!1},e)}}};h||(L=function(e){b(this,L,S,"_h"),g(e),i.call(this);try{e(d(M,this,1),d(a,this,1))}catch(e){a.call(this,e)}},(i=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(42)(L.prototype,{then:function(e,t){var n=R(V(this,L));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=j?x.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&o(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),s=function(){var e=new i;this.promise=e,this.resolve=d(M,e,1),this.reject=d(a,e,1)},_.f=R=function(e){return e===L||e===c?new s:l(e)}),m(m.G+m.W+m.F*!h,{Promise:L}),n(44)(L,S),n(39)(S),c=n(19)[S],m(m.S+m.F*!h,S,{reject:function(e){var t=R(this);return(0,t.reject)(e),t.promise}}),m(m.S+m.F*(u||!h),S,{resolve:function(e){return O(u&&this===c?L:this,e)}}),m(m.S+m.F*!(h&&n(59)(function(e){L.all(e).catch(r)})),S,{all:function(e){var i=this,t=R(i),l=t.resolve,s=t.reject,n=k(function(){var r=[],o=0,a=1;v(e,!1,function(e){var t=o++,n=!1;r.push(void 0),a++,i.resolve(e).then(function(e){n||(n=!0,r[t]=e,--a||l(r))},s)}),--a||l(r)});return n.e&&s(n.v),t.promise},race:function(e){var t=this,n=R(t),r=n.reject,o=k(function(){v(e,!1,function(e){t.resolve(e).then(n.resolve,r)})});return o.e&&r(o.v),n.promise}})},function(e,t,n){"use strict";var r=n(124),o=n(43);n(63)("WeakSet",function(e){return function(){return e(this,0<arguments.length?arguments[0]:void 0)}},{add:function(e){return r.def(o(this,"WeakSet"),e,!0)}},r,!1,!0)},function(e,t,n){"use strict";var r=n(0),o=n(64),a=n(95),s=n(1),c=n(36),u=n(6),i=n(4),l=n(2).ArrayBuffer,p=n(52),f=a.ArrayBuffer,d=a.DataView,h=o.ABV&&l.isView,m=f.prototype.slice,y=o.VIEW,a="ArrayBuffer";r(r.G+r.W+r.F*(l!==f),{ArrayBuffer:f}),r(r.S+r.F*!o.CONSTR,a,{isView:function(e){return h&&h(e)||i(e)&&y in e}}),r(r.P+r.U+r.F*n(3)(function(){return!new f(2).slice(1,void 0).byteLength}),a,{slice:function(e,t){if(void 0!==m&&void 0===t)return m.call(s(this),e);for(var n=s(this).byteLength,r=c(e,n),o=c(void 0===t?n:t,n),n=new(p(this,f))(u(o-r)),a=new d(this),i=new d(n),l=0;r<o;)i.setUint8(l++,a.getUint8(r++));return n}}),n(39)(a)},function(e,t,n){var r=n(0);r(r.G+r.W+r.F*!n(64).ABV,{DataView:n(95).DataView})},function(e,t,n){n(28)("Int8",1,function(r){return function(e,t,n){return r(this,e,t,n)}})},function(e,t,n){n(28)("Uint8",1,function(r){return function(e,t,n){return r(this,e,t,n)}})},function(e,t,n){n(28)("Uint8",1,function(r){return function(e,t,n){return r(this,e,t,n)}},!0)},function(e,t,n){n(28)("Int16",2,function(r){return function(e,t,n){return r(this,e,t,n)}})},function(e,t,n){n(28)("Uint16",2,function(r){return function(e,t,n){return r(this,e,t,n)}})},function(e,t,n){n(28)("Int32",4,function(r){return function(e,t,n){return r(this,e,t,n)}})},function(e,t,n){n(28)("Uint32",4,function(r){return function(e,t,n){return r(this,e,t,n)}})},function(e,t,n){n(28)("Float32",4,function(r){return function(e,t,n){return r(this,e,t,n)}})},function(e,t,n){n(28)("Float64",8,function(r){return function(e,t,n){return r(this,e,t,n)}})},function(e,t,n){var r=n(0),o=n(11),a=n(1),i=(n(2).Reflect||{}).apply,l=Function.apply;r(r.S+r.F*!n(3)(function(){i(function(){})}),"Reflect",{apply:function(e,t,n){e=o(e),n=a(n);return i?i(e,t,n):l.call(e,t,n)}})},function(e,t,n){var r=n(0),o=n(37),a=n(11),i=n(1),l=n(4),s=n(3),c=n(104),u=(n(2).Reflect||{}).construct,p=s(function(){function e(){}return!(u(function(){},[],e)instanceof e)}),f=!s(function(){u(function(){})});r(r.S+r.F*(p||f),"Reflect",{construct:function(e,t){a(e),i(t);var n=arguments.length<3?e:a(arguments[2]);if(f&&!p)return u(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return r.push.apply(r,t),new(c.apply(e,r))}r=n.prototype,n=o(l(r)?r:Object.prototype),r=Function.apply.call(e,n,t);return l(r)?r:n}})},function(e,t,n){var r=n(9),o=n(0),a=n(1),i=n(24);o(o.S+o.F*n(3)(function(){Reflect.defineProperty(r.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(e,t,n){a(e),t=i(t,!0),a(n);try{return r.f(e,t,n),!0}catch(e){return!1}}})},function(e,t,n){var r=n(0),o=n(17).f,a=n(1);r(r.S,"Reflect",{deleteProperty:function(e,t){var n=o(a(e),t);return!(n&&!n.configurable)&&delete e[t]}})},function(e,t,n){"use strict";function r(e){this._t=a(e),this._i=0;var t,n=this._k=[];for(t in e)n.push(t)}var o=n(0),a=n(1);n(81)(r,"Object",function(){var e,t=this._k;do{if(this._i>=t.length)return{value:void 0,done:!0}}while(!((e=t[this._i++])in this._t));return{value:e,done:!1}}),o(o.S,"Reflect",{enumerate:function(e){return new r(e)}})},function(e,t,n){var a=n(17),i=n(18),l=n(15),r=n(0),s=n(4),c=n(1);r(r.S,"Reflect",{get:function e(t,n){var r,o=arguments.length<3?t:arguments[2];return c(t)===o?t[n]:(r=a.f(t,n))?l(r,"value")?r.value:void 0!==r.get?r.get.call(o):void 0:s(r=i(t))?e(r,n,o):void 0}})},function(e,t,n){var r=n(17),o=n(0),a=n(1);o(o.S,"Reflect",{getOwnPropertyDescriptor:function(e,t){return r.f(a(e),t)}})},function(e,t,n){var r=n(0),o=n(18),a=n(1);r(r.S,"Reflect",{getPrototypeOf:function(e){return o(a(e))}})},function(e,t,n){n=n(0);n(n.S,"Reflect",{has:function(e,t){return t in e}})},function(e,t,n){var r=n(0),o=n(1),a=Object.isExtensible;r(r.S,"Reflect",{isExtensible:function(e){return o(e),!a||a(e)}})},function(e,t,n){var r=n(0);r(r.S,"Reflect",{ownKeys:n(126)})},function(e,t,n){var r=n(0),o=n(1),a=Object.preventExtensions;r(r.S,"Reflect",{preventExtensions:function(e){o(e);try{return a&&a(e),!0}catch(e){return!1}}})},function(e,t,n){var l=n(9),s=n(17),c=n(18),u=n(15),r=n(0),p=n(33),f=n(1),d=n(4);r(r.S,"Reflect",{set:function e(t,n,r){var o,a=arguments.length<4?t:arguments[3],i=s.f(f(t),n);if(!i){if(d(o=c(t)))return e(o,n,r,a);i=p(0)}if(u(i,"value")){if(!1===i.writable||!d(a))return!1;if(o=s.f(a,n)){if(o.get||o.set||!1===o.writable)return!1;o.value=r,l.f(a,n,o)}else l.f(a,n,p(0,r));return!0}return void 0!==i.set&&(i.set.call(a,r),!0)}})},function(e,t,n){var r=n(0),o=n(74);o&&r(r.S,"Reflect",{setPrototypeOf:function(e,t){o.check(e,t);try{return o.set(e,t),!0}catch(e){return!1}}})},function(e,t,n){"use strict";var r=n(0),o=n(54)(!0);r(r.P,"Array",{includes:function(e){return o(this,e,1<arguments.length?arguments[1]:void 0)}}),n(32)("includes")},function(e,t,n){"use strict";var r=n(0),o=n(127),a=n(10),i=n(6),l=n(11),s=n(87);r(r.P,"Array",{flatMap:function(e){var t,n,r=a(this);return l(e),t=i(r.length),n=s(r,0),o(n,r,r,t,0,1,e,arguments[1]),n}}),n(32)("flatMap")},function(e,t,n){"use strict";var r=n(0),o=n(127),a=n(10),i=n(6),l=n(22),s=n(87);r(r.P,"Array",{flatten:function(){var e=arguments[0],t=a(this),n=i(t.length),r=s(t,0);return o(r,t,t,n,0,void 0===e?1:l(e)),r}}),n(32)("flatten")},function(e,t,n){"use strict";var r=n(0),o=n(57)(!0),n=n(3)(function(){return"𠮷"!=="𠮷".at(0)});r(r.P+r.F*n,"String",{at:function(e){return o(this,e)}})},function(e,t,n){"use strict";var r=n(0),o=n(128),n=n(62),n=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(n);r(r.P+r.F*n,"String",{padStart:function(e){return o(this,e,1<arguments.length?arguments[1]:void 0,!0)}})},function(e,t,n){"use strict";var r=n(0),o=n(128),n=n(62),n=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(n);r(r.P+r.F*n,"String",{padEnd:function(e){return o(this,e,1<arguments.length?arguments[1]:void 0,!1)}})},function(e,t,n){"use strict";n(46)("trimLeft",function(e){return function(){return e(this,1)}},"trimStart")},function(e,t,n){"use strict";n(46)("trimRight",function(e){return function(){return e(this,2)}},"trimEnd")},function(e,t,n){"use strict";function r(e,t){this._r=e,this._s=t}var o=n(0),a=n(25),i=n(6),l=n(58),s=n(51),c=RegExp.prototype;n(81)(r,"RegExp String",function(){var e=this._r.exec(this._s);return{value:e,done:null===e}}),o(o.P,"String",{matchAll:function(e){if(a(this),!l(e))throw TypeError(e+" is not a regexp!");var t=String(this),n="flags"in c?String(e.flags):s.call(e),n=new RegExp(e.source,~n.indexOf("g")?n:"g"+n);return n.lastIndex=i(e.lastIndex),new r(n,t)}})},function(e,t,n){n(70)("asyncIterator")},function(e,t,n){n(70)("observable")},function(e,t,n){var r=n(0),s=n(126),c=n(16),u=n(17),p=n(85);r(r.S,"Object",{getOwnPropertyDescriptors:function(e){for(var t,n,r=c(e),o=u.f,a=s(r),i={},l=0;a.length>l;)void 0!==(n=o(r,t=a[l++]))&&p(i,t,n);return i}})},function(e,t,n){var r=n(0),o=n(129)(!1);r(r.S,"Object",{values:function(e){return o(e)}})},function(e,t,n){var r=n(0),o=n(129)(!0);r(r.S,"Object",{entries:function(e){return o(e)}})},function(e,t,n){"use strict";var r=n(0),o=n(10),a=n(11),i=n(9);n(8)&&r(r.P+n(65),"Object",{__defineGetter__:function(e,t){i.f(o(this),e,{get:a(t),enumerable:!0,configurable:!0})}})},function(e,t,n){"use strict";var r=n(0),o=n(10),a=n(11),i=n(9);n(8)&&r(r.P+n(65),"Object",{__defineSetter__:function(e,t){i.f(o(this),e,{set:a(t),enumerable:!0,configurable:!0})}})},function(e,t,n){"use strict";var r=n(0),o=n(10),a=n(24),i=n(18),l=n(17).f;n(8)&&r(r.P+n(65),"Object",{__lookupGetter__:function(e){var t,n=o(this),r=a(e,!0);do{if(t=l(n,r))return t.get}while(n=i(n))}})},function(e,t,n){"use strict";var r=n(0),o=n(10),a=n(24),i=n(18),l=n(17).f;n(8)&&r(r.P+n(65),"Object",{__lookupSetter__:function(e){var t,n=o(this),r=a(e,!0);do{if(t=l(n,r))return t.set}while(n=i(n))}})},function(e,t,n){var r=n(0);r(r.P+r.R,"Map",{toJSON:n(130)("Map")})},function(e,t,n){var r=n(0);r(r.P+r.R,"Set",{toJSON:n(130)("Set")})},function(e,t,n){n(66)("Map")},function(e,t,n){n(66)("Set")},function(e,t,n){n(66)("WeakMap")},function(e,t,n){n(66)("WeakSet")},function(e,t,n){n(67)("Map")},function(e,t,n){n(67)("Set")},function(e,t,n){n(67)("WeakMap")},function(e,t,n){n(67)("WeakSet")},function(e,t,n){var r=n(0);r(r.G,{global:n(2)})},function(e,t,n){var r=n(0);r(r.S,"System",{global:n(2)})},function(e,t,n){var r=n(0),o=n(21);r(r.S,"Error",{isError:function(e){return"Error"===o(e)}})},function(e,t,n){n=n(0);n(n.S,"Math",{clamp:function(e,t,n){return Math.min(n,Math.max(t,e))}})},function(e,t,n){n=n(0);n(n.S,"Math",{DEG_PER_RAD:Math.PI/180})},function(e,t,n){var n=n(0),r=180/Math.PI;n(n.S,"Math",{degrees:function(e){return e*r}})},function(e,t,n){var r=n(0),a=n(132),i=n(111);r(r.S,"Math",{fscale:function(e,t,n,r,o){return i(a(e,t,n,r,o))}})},function(e,t,n){n=n(0);n(n.S,"Math",{iaddh:function(e,t,n,r){e>>>=0,n>>>=0;return(t>>>0)+(r>>>0)+((e&n|(e|n)&~(e+n>>>0))>>>31)|0}})},function(e,t,n){n=n(0);n(n.S,"Math",{isubh:function(e,t,n,r){e>>>=0,n>>>=0;return(t>>>0)-(r>>>0)-((~e&n|~(e^n)&e-n>>>0)>>>31)|0}})},function(e,t,n){n=n(0);n(n.S,"Math",{imulh:function(e,t){var n=+e,r=+t,e=65535&n,t=65535&r,n=n>>16,r=r>>16,t=(n*t>>>0)+(e*t>>>16);return n*r+(t>>16)+((e*r>>>0)+(65535&t)>>16)}})},function(e,t,n){n=n(0);n(n.S,"Math",{RAD_PER_DEG:180/Math.PI})},function(e,t,n){var n=n(0),r=Math.PI/180;n(n.S,"Math",{radians:function(e){return e*r}})},function(e,t,n){var r=n(0);r(r.S,"Math",{scale:n(132)})},function(e,t,n){n=n(0);n(n.S,"Math",{umulh:function(e,t){var n=+e,r=+t,e=65535&n,t=65535&r,n=n>>>16,r=r>>>16,t=(n*t>>>0)+(e*t>>>16);return n*r+(t>>>16)+((e*r>>>0)+(65535&t)>>>16)}})},function(e,t,n){n=n(0);n(n.S,"Math",{signbit:function(e){return(e=+e)!=e?e:0==e?1/e==1/0:0<e}})},function(e,t,n){"use strict";var r=n(0),o=n(19),a=n(2),i=n(52),l=n(119);r(r.P+r.R,"Promise",{finally:function(t){var n=i(this,o.Promise||a.Promise),e="function"==typeof t;return this.then(e?function(e){return l(n,t()).then(function(){return e})}:t,e?function(e){return l(n,t()).then(function(){throw e})}:t)}})},function(e,t,n){"use strict";var r=n(0),o=n(94),a=n(118);r(r.S,"Promise",{try:function(e){var t=o.f(this),e=a(e);return(e.e?t.reject:t.resolve)(e.v),t.promise}})},function(e,t,n){var r=n(29),o=n(1),a=r.key,i=r.set;r.exp({defineMetadata:function(e,t,n,r){i(e,t,o(n),a(r))}})},function(e,t,n){var r=n(29),o=n(1),a=r.key,i=r.map,l=r.store;r.exp({deleteMetadata:function(e,t){var n=arguments.length<3?void 0:a(arguments[2]),r=i(o(t),n,!1);if(void 0===r||!r.delete(e))return!1;if(r.size)return!0;r=l.get(t);return r.delete(n),!!r.size||l.delete(t)}})},function(e,t,n){var r=n(29),o=n(1),a=n(18),i=r.has,l=r.get,s=r.key,c=function(e,t,n){if(i(e,t,n))return l(e,t,n);t=a(t);return null!==t?c(e,t,n):void 0};r.exp({getMetadata:function(e,t){return c(e,o(t),arguments.length<3?void 0:s(arguments[2]))}})},function(e,t,n){var r=n(122),o=n(131),a=n(29),i=n(1),l=n(18),s=a.keys,c=a.key,u=function(e,t){var n=s(e,t),e=l(e);if(null===e)return n;t=u(e,t);return t.length?n.length?o(new r(n.concat(t))):t:n};a.exp({getMetadataKeys:function(e){return u(i(e),arguments.length<2?void 0:c(arguments[1]))}})},function(e,t,n){var r=n(29),o=n(1),a=r.get,i=r.key;r.exp({getOwnMetadata:function(e,t){return a(e,o(t),arguments.length<3?void 0:i(arguments[2]))}})},function(e,t,n){var r=n(29),o=n(1),a=r.keys,i=r.key;r.exp({getOwnMetadataKeys:function(e){return a(o(e),arguments.length<2?void 0:i(arguments[1]))}})},function(e,t,n){var r=n(29),o=n(1),a=n(18),i=r.has,l=r.key,s=function(e,t,n){if(i(e,t,n))return!0;t=a(t);return null!==t&&s(e,t,n)};r.exp({hasMetadata:function(e,t){return s(e,o(t),arguments.length<3?void 0:l(arguments[2]))}})},function(e,t,n){var r=n(29),o=n(1),a=r.has,i=r.key;r.exp({hasOwnMetadata:function(e,t){return a(e,o(t),arguments.length<3?void 0:i(arguments[2]))}})},function(e,t,n){var r=n(29),o=n(1),a=n(11),i=r.key,l=r.set;r.exp({metadata:function(n,r){return function(e,t){l(n,r,(void 0!==t?o:a)(e),i(t))}}})},function(e,t,n){var r=n(0),o=n(93)(),a=n(2).process,i="process"==n(21)(a);r(r.G,{asap:function(e){var t=i&&a.domain;o(t?t.bind(e):e)}})},function(e,t,n){"use strict";function o(e){return null==e?void 0:d(e)}function a(e){var t=e._c;t&&(e._c=void 0,t())}function i(e){return void 0===e._o}function l(e){i(e)||(e._o=void 0,a(e))}function r(t,e){h(t),this._c=void 0,this._o=t,t=new V(this);try{var n=e(t),r=n;null!=n&&("function"==typeof n.unsubscribe?n=function(){r.unsubscribe()}:d(n),this._c=n)}catch(e){return void t.error(e)}i(this)&&a(this)}var s=n(0),c=n(2),u=n(19),p=n(93)(),f=n(5)("observable"),d=n(11),h=n(1),m=n(40),y=n(42),g=n(12),b=n(41),v=b.RETURN;r.prototype=y({},{unsubscribe:function(){l(this)}});var V=function(e){this._s=e};V.prototype=y({},{next:function(e){var t=this._s;if(!i(t)){var n=t._o;try{var r=o(n.next);if(r)return r.call(n,e)}catch(e){try{l(t)}finally{throw e}}}},error:function(e){var t=this._s;if(i(t))throw e;var n=t._o;t._o=void 0;try{var r=o(n.error);if(!r)throw e;e=r.call(n,e)}catch(e){try{a(t)}finally{throw e}}return a(t),e},complete:function(e){var t=this._s;if(!i(t)){var n=t._o;t._o=void 0;try{var r=o(n.complete);e=r?r.call(n,e):void 0}catch(e){try{a(t)}finally{throw e}}return a(t),e}}});var w=function(e){m(this,w,"Observable","_f")._f=d(e)};y(w.prototype,{subscribe:function(e){return new r(e,this._f)},forEach:function(r){var o=this;return new(u.Promise||c.Promise)(function(e,t){d(r);var n=o.subscribe({next:function(e){try{return r(e)}catch(e){t(e),n.unsubscribe()}},error:t,complete:e})})}}),y(w,{from:function(e){var t="function"==typeof this?this:w,n=o(h(e)[f]);if(n){var r=h(n.call(e));return r.constructor===t?r:new t(function(e){return r.subscribe(e)})}return new t(function(t){var n=!1;return p(function(){if(!n){try{if(b(e,!1,function(e){if(t.next(e),n)return v})===v)return}catch(e){if(n)throw e;return void t.error(e)}t.complete()}}),function(){n=!0}})},of:function(){for(var e=0,t=arguments.length,r=new Array(t);e<t;)r[e]=arguments[e++];return new("function"==typeof this?this:w)(function(t){var n=!1;return p(function(){if(!n){for(var e=0;e<r.length;++e)if(t.next(r[e]),n)return;t.complete()}}),function(){n=!0}})}}),g(w.prototype,f,function(){return this}),s(s.G,{Observable:w}),n(39)("Observable")},function(e,t,n){var r=n(2),o=n(0),a=n(62),i=[].slice,n=/MSIE .\./.test(a),a=function(o){return function(e,t){var n=2<arguments.length,r=n&&i.call(arguments,2);return o(n?function(){("function"==typeof e?e:Function(e)).apply(this,r)}:e,t)}};o(o.G+o.B+o.F*n,{setTimeout:a(r.setTimeout),setInterval:a(r.setInterval)})},function(e,t,n){var r=n(0),n=n(92);r(r.G+r.B,{setImmediate:n.set,clearImmediate:n.clear})},function(e,t,n){for(var r=n(89),o=n(35),a=n(13),i=n(2),l=n(12),s=n(47),n=n(5),c=n("iterator"),u=n("toStringTag"),p=s.Array,f={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},d=o(f),h=0;h<d.length;h++){var m,y=d[h],g=f[y],b=i[y],v=b&&b.prototype;if(v&&(v[c]||l(v,c,p),v[u]||l(v,u,y),s[y]=p,g))for(m in r)v[m]||a(v,m,r[m],!0)}},function(A,e,t){!function(e){!function(e){"use strict";var s,c,u,p,f,d,t,n=Object.prototype,h=n.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag",l="object"==typeof A,m=e.regeneratorRuntime;function y(e,t,n,r){var o,a,i,l,t=t&&t.prototype instanceof b?t:b,t=Object.create(t.prototype),r=new C(r||[]);return t._invoke=(o=e,a=n,i=r,l=c,function(e,t){if(l===p)throw new Error("Generator is already running");if(l===f){if("throw"===e)throw t;return S()}for(i.method=e,i.arg=t;;){var n=i.delegate;if(n){var r=function e(t,n){var r=t.iterator[n.method];if(r===s){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=s,e(t,n),"throw"===n.method))return d;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var r=g(r,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,d;r=r.arg;if(!r)return n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,d;{if(!r.done)return r;n[t.resultName]=r.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=s)}n.delegate=null;return d}(n,i);if(r){if(r===d)continue;return r}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(l===c)throw l=f,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);l=p;r=g(o,a,i);if("normal"===r.type){if(l=i.done?f:u,r.arg!==d)return{value:r.arg,done:i.done}}else"throw"===r.type&&(l=f,i.method="throw",i.arg=r.arg)}}),t}function g(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function b(){}function v(){}function V(){}function w(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function E(a){function i(e,t,n,r){e=g(a[e],a,t);if("throw"!==e.type){var o=e.arg,t=o.value;return t&&"object"==typeof t&&h.call(t,"__await")?Promise.resolve(t.__await).then(function(e){i("next",e,n,r)},function(e){i("throw",e,n,r)}):Promise.resolve(t).then(function(e){o.value=e,n(o)},r)}r(e.arg)}var t;"object"==typeof e.process&&e.process.domain&&(i=e.process.domain.bind(i)),this._invoke=function(n,r){function e(){return new Promise(function(e,t){i(n,r,e,t)})}return t=t?t.then(e,e):e()}}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function O(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,e=function e(){for(;++n<t.length;)if(h.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=s,e.done=!0,e};return e.next=e}}return{next:S}}function S(){return{value:s,done:!0}}m?l&&(A.exports=m):((m=e.regeneratorRuntime=l?A.exports:{}).wrap=y,c="suspendedStart",u="suspendedYield",p="executing",f="completed",d={},(r={})[o]=function(){return this},(l=(l=Object.getPrototypeOf)&&l(l(O([]))))&&l!==n&&h.call(l,o)&&(r=l),t=V.prototype=b.prototype=Object.create(r),(v.prototype=t.constructor=V).constructor=v,V[i]=v.displayName="GeneratorFunction",m.isGeneratorFunction=function(e){e="function"==typeof e&&e.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},m.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,V):(e.__proto__=V,i in e||(e[i]="GeneratorFunction")),e.prototype=Object.create(t),e},m.awrap=function(e){return{__await:e}},w(E.prototype),E.prototype[a]=function(){return this},m.AsyncIterator=E,m.async=function(e,t,n,r){var o=new E(y(e,t,n,r));return m.isGeneratorFunction(t)?o:o.next().then(function(e){return e.done?e.value:o.next()})},w(t),t[i]="Generator",t[o]=function(){return this},t.toString=function(){return"[object Generator]"},m.keys=function(n){var e,r=[];for(e in n)r.push(e);return r.reverse(),function e(){for(;r.length;){var t=r.pop();if(t in n)return e.value=t,e.done=!1,e}return e.done=!0,e}},m.values=O,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=s,this.done=!1,this.delegate=null,this.method="next",this.arg=s,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&h.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=s)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function e(e,t){return a.type="throw",a.arg=n,r.next=e,t&&(r.method="next",r.arg=s),!!t}for(var t=this.tryEntries.length-1;0<=t;--t){var o=this.tryEntries[t],a=o.completion;if("root"===o.tryLoc)return e("end");if(o.tryLoc<=this.prev){var i=h.call(o,"catchLoc"),l=h.call(o,"finallyLoc");if(i&&l){if(this.prev<o.catchLoc)return e(o.catchLoc,!0);if(this.prev<o.finallyLoc)return e(o.finallyLoc)}else if(i){if(this.prev<o.catchLoc)return e(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return e(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&h.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}var a=(o=o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc?null:o)?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r,o=n.completion;return"throw"===o.type&&(r=o.arg,k(n)),r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=s),d}})}("object"==typeof e?e:"object"==typeof window?window:"object"==typeof self?self:this)}.call(this,t(96))},function(e,t,n){n(355),e.exports=n(19).RegExp.escape},function(e,t,n){var r=n(0),o=n(356)(/[\\^$*+?.()|[\]{}]/g,"\\$&");r(r.S,"RegExp",{escape:function(e){return o(e)}})},function(e,t){e.exports=function(t,n){var r=n===Object(n)?function(e){return n[e]}:n;return function(e){return String(e).replace(t,r)}}},function(e,t,n){e.exports=n(7)(76)},function(e,t,n){"use strict";n.r(t);var r=n(53),o=n.n(r),t=n(68),r=n(153),r=n.n(r);Object(t.render)(o.a.createElement(r.a,{apiUrl:"/configapi",workflowApi:"/workflow/designerapi",imageFolder:"/images/",localizationFolder:"/localization/",autocompleteHub:"/hubs/autocomplete",themesFolder:"/themes/",deltaWidth:0,deltaHeight:0,controlActions:["validate","save","delete","apply","exit","redirect","setFilter","applyFilter","gridCreate","gridEdit","gridCopy","gridDelete","gridRefresh","gridExport","workflowExecuteCommand","workflowSetState","workflowSelectScheme","workflowShowCommandForm","workflowContinueExecution","workflowCancelExecution","refresh","confirm","createElement","deleteElement","changeModel","reload","copy","loadRecord","setFields","print"],controlMobileActions:["navigate"],returnToAppUrl:"/",externalControlList:[],externalControlRender:function(e,t,n){}}),document.getElementById("content"))}]);