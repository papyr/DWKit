!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("semantic-ui-react"),require("json5"),require("react-dom"),require("react-dropzone-component"),require("react-split"),require("draft-js"),require("moment"),require("react-fast-compare"),require("uuid"),require("react-data-grid"),require("reflux"),require("react-number-format"),require("draft-convert"),require("react-grid-layout"),require("numeral"),require("react-datepicker"),require("react-slick"),require("deepmerge"),require("isomorphic-fetch"),require("oidc-client"),require("@aspnet/signalr")):"function"==typeof define&&define.amd?define(["react","semantic-ui-react","json5","react-dom","react-dropzone-component","react-split","draft-js","moment","react-fast-compare","uuid","react-data-grid","reflux","react-number-format","draft-convert","react-grid-layout","numeral","react-datepicker","react-slick","deepmerge","isomorphic-fetch","oidc-client","@aspnet/signalr"],t):"object"==typeof exports?exports["optimajet-admin"]=t(require("react"),require("semantic-ui-react"),require("json5"),require("react-dom"),require("react-dropzone-component"),require("react-split"),require("draft-js"),require("moment"),require("react-fast-compare"),require("uuid"),require("react-data-grid"),require("reflux"),require("react-number-format"),require("draft-convert"),require("react-grid-layout"),require("numeral"),require("react-datepicker"),require("react-slick"),require("deepmerge"),require("isomorphic-fetch"),require("oidc-client"),require("@aspnet/signalr")):e["optimajet-admin"]=t(e.react,e["semantic-ui-react"],e.json5,e["react-dom"],e["react-dropzone-component"],e["react-split"],e["draft-js"],e.moment,e["react-fast-compare"],e.uuid,e["react-data-grid"],e.reflux,e["react-number-format"],e["draft-convert"],e["react-grid-layout"],e.numeral,e["react-datepicker"],e["react-slick"],e.deepmerge,e["isomorphic-fetch"],e["oidc-client"],e["@aspnet/signalr"])}(window,function(__WEBPACK_EXTERNAL_MODULE__0__,__WEBPACK_EXTERNAL_MODULE__1__,__WEBPACK_EXTERNAL_MODULE__3__,__WEBPACK_EXTERNAL_MODULE__4__,__WEBPACK_EXTERNAL_MODULE__9__,__WEBPACK_EXTERNAL_MODULE__10__,__WEBPACK_EXTERNAL_MODULE__14__,__WEBPACK_EXTERNAL_MODULE__15__,__WEBPACK_EXTERNAL_MODULE__16__,__WEBPACK_EXTERNAL_MODULE__17__,__WEBPACK_EXTERNAL_MODULE__20__,__WEBPACK_EXTERNAL_MODULE__21__,__WEBPACK_EXTERNAL_MODULE__22__,__WEBPACK_EXTERNAL_MODULE__23__,__WEBPACK_EXTERNAL_MODULE__24__,__WEBPACK_EXTERNAL_MODULE__25__,__WEBPACK_EXTERNAL_MODULE__26__,__WEBPACK_EXTERNAL_MODULE__27__,__WEBPACK_EXTERNAL_MODULE__28__,__WEBPACK_EXTERNAL_MODULE__29__,__WEBPACK_EXTERNAL_MODULE__30__,__WEBPACK_EXTERNAL_MODULE__31__){return d=[function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE__0__},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE__1__},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var t=n(0),a=n.n(t),t=n(4),i=n(1);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function c(r){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?s(Object(o),!0).forEach(function(e){var t,n;t=r,e=o[n=e],n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):s(Object(o)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))})}return r}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=o(n);return e=r?(e=o(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==l(e)&&"function"!=typeof e?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var r=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(o,a.a.Component);var e,t,n,r=d(o);function o(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),r.call(this,e)}return e=o,(t=[{key:"GuidEmpty",value:function(){return"00000000-0000-0000-0000-000000000000"}},{key:"setUpdatedState",value:function(e){null==e.__state&&(e.__state="updated")}},{key:"onSave",value:function(){var t=this,n=[];this.state.data.forEach(function(e){null!=e.__state&&n.push(c(c({},e),{},{__type:t.datatype}))}),this.ChangeData(n)}},{key:"ChangeData",value:function(e,t){var n=new Array;n.push({name:"operation",value:"change"}),n.push({name:"items",value:JSON.stringify(e)}),$.ajax({url:this.props.apiUrl,data:n,async:!0,type:"post",success:function(e){e.success?(alertify.success(DWKitAdminLang.msg.saveok),t&&t(e)):alertify.error(e.message)}})}},{key:"СloneObj",value:function(e){if(null==e||"object"!=l(e))return e;var t,n=e.constructor();for(t in e)e.hasOwnProperty(t)&&(n[t]=this.СloneObj(e[t]));return n}},{key:"ResetSystemProps",value:function(e){if(Array.isArray(e))for(var t=0;t<e.length;t++)"deleted"==e[t].__state?(e.splice(t,1),t--):this.ResetSystemProps(e[t]);if("object"==l(e))for(var n in e)"__state"!=n&&"__type"!=n&&"__error"!=n||(e[n]=void 0)}},{key:"NewGUID",value:function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}},{key:"updateQueryStringParameter",value:function(e,t,n){var r=new RegExp("([?&])"+t+"=.*?(&|#|$)","i");if(void 0===n){if(e.match(r)){var o=e.replace(r,"$1$2");return o="&"==o[o.length-1]?o.substring(0,o.length-1):o}return e}if(e.match(r))return e.replace(r,"$1"+t+"="+n+"$2");o="";-1!==e.indexOf("#")&&(o=e.replace(/.*#/,"#"),e=e.replace(/#.*/,""));r=-1!==e.indexOf("?")?"&":"?";return e+r+t+"="+n+o}},{key:"getQueryString",value:function(){for(var e={},t=window.location.search.substring(1).split("&"),n=0;n<t.length;n++){var r,o=t[n].split("=");void 0===e[o[0]]?e[o[0]]=o[1]:"string"==typeof e[o[0]]?(r=[e[o[0]],o[1]],e[o[0]]=r):e[o[0]].push(o[1])}return e}},{key:"getProcessLoadError",value:function(e,t){return 0===e.status?DWKitAdminLang.requesterror.status0:404==e.status?DWKitAdminLang.requesterror.status404:500==e.status?DWKitAdminLang.requesterror.status500:"parsererror"===t?DWKitAdminLang.requesterror.parsererror:"timeout"===t?DWKitAdminLang.requesterror.timeout:"abort"===t?DWKitAdminLang.requesterror.abort:DWKitAdminLang.requesterror.uncaught+"\n"+e.responseText}},{key:"RenderLoading",value:function(){var e=this;return Boolean(this.state.progresserror)||(null==this.state.progresspercent&&(this.state.progresspercent=0),this.state.progresspercent<100?setTimeout(function(){e.setState({progresspercent:e.state.progresspercent+1})},250):(this.state.progresserror=!0,this.state.progressmsg=DWKitAdminLang.msg.checkerrors)),a.a.createElement("div",{className:"dwkit-formadmin-loadingscreen"},a.a.createElement("img",{className:"dwkit-formadmin-loadingscreen-logo",src:"/images/logo.svg"}),a.a.createElement("p",null,this.state.progressmsg),a.a.createElement("div",{className:"dwkit-formadmin-loadingscreen-progressbar"},a.a.createElement(i.Progress,{percent:this.state.progresspercent,error:Boolean(this.state.progresserror),indicating:!0})))}},{key:"copyToClipboard",value:function(e){var t=document.createElement("textarea");t.value=e,t.setAttribute("readonly",""),t.style.position="absolute",t.style.left="-9999px",document.body.appendChild(t);e=0<document.getSelection().rangeCount&&document.getSelection().getRangeAt(0);t.select(),document.execCommand("copy"),document.body.removeChild(t),e&&(document.getSelection().removeAllRanges(),document.getSelection().addRange(e)),alertify.success(DWKitAdminLang.msg.copied)}}])&&u(e.prototype,t),n&&u(e,n),o}()},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE__3__},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE__4__},function(e,r,o){!function(e){var t,n;function sd(e){return(sd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}window,n=function(n,r,o,a,i,l,s,c,u,p,d,f,m,h,y,b,g,v,V,w){return C={},E.m=k=[function(e,t){e.exports=n},function(e,t){e.exports=r},function(e,t){e.exports=o},function(e,t){e.exports=a},function(e,t){function o(e){return(o="function"==typeof Symbol&&"symbol"==sd(Symbol.iterator)?function(e){return sd(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":sd(e)})(e)}e.exports={initDefaultState:function e(t){var n=t.model,r=t.data;if(Array.isArray(n)&&void 0!==r)for(var o=0;o<n.length;o++){var a=n[o].propertyName||n[o].key;if(n[o].defaultValue&&!r[a]&&(r[a]=n[o].defaultValue),Array.isArray(n[o].children)&&e({model:n[o].children,data:r}),void 0!==n[o].placeholders)for(var i in n[o].placeholders)e({model:n[o].placeholders[i],data:r});"customblock"===n[o]["data-buildertype"]&&"source"===n[o].sourceType&&null!=n[o].source&&e({model:JSON5.parse(n[o].source),data:r})}},initDefaultStateFormUrl:function(e){void 0===e&&(e={});var t,t=null==(t=new RegExp("[?&]defaultvalues=([^&#]*)").exec(window.location.href))?null:decodeURI(t[1])||0;if(t){var n=void 0;try{n=JSON5.parse(t)}catch(e){}if(n&&"object"===o(n))for(var r in n)void 0!==n[r]&&(e[r]=n[r])}return e},validate:function(e){for(var t,n,r,o=e.data,a=!0,i={},l=function r(e){var o=[];return e.forEach(function(e){var t;if((!0===e["other-required"]||void 0!==e["other-customValidation"]&&""!==e["other-customValidation"])&&o.push(e),void 0!==e.children&&0<e.children.length&&(t=r(e.children),o=o.concat(t)),void 0!==e.placeholders)for(var n in e.placeholders)n=r(e.placeholders[n]),o=o.concat(n);"customblock"===e["data-buildertype"]&&"source"===e.sourceType&&null!=e.source&&(t=JSON5.parse(e.source),t=r(t),o=o.concat(t))}),o}(e.model),s=0;s<l.length;s++){var c=l[s].propertyName||l[s].key,u=(t=l[s],n=o?o[c]:void 0,r=o,!(u=u=void 0)===t["other-required"]&&(null==n||""===n||"collectioneditor"===t["data-buildertype"]&&Array.isArray(n)&&0===n.length)?u="This field is required!":void 0!==t["other-customValidation"]&&""!==t["other-customValidation"]&&(t="return "+t["other-customValidation"],"boolean"==typeof(r=new Function("value, data",t)(n,r))?!1===r&&(u=!0):u=r),u);u&&(i[c]=u,a=!1)}return{valid:a,errors:i}},checkConditions:function e(t){var n=t.model,r=t.data,o={hideControls:[],readOnlyControls:[]};if(!n||!r)return o;for(var a=0;a<n.length;a++){var i,l=n[a]["other-visibleConition"];if(void 0!==l&&""!==l&&(new Function("data","return "+l)(r)||o.hideControls.push(n[a].key)),void 0!==(l=n[a]["other-readOnlyConition"])&&""!==l&&new Function("data","return "+l)(r)&&o.readOnlyControls.push(n[a].key),Array.isArray(n[a].children)&&(i=e({model:n[a].children,data:r}),o={hideControls:o.hideControls.concat(i.hideControls),readOnlyControls:o.readOnlyControls.concat(i.readOnlyControls)}),void 0!==n[a].placeholders)for(var s in n[a].placeholders)s=e({model:n[a].placeholders[s],data:r}),o={hideControls:o.hideControls.concat(s.hideControls),readOnlyControls:o.readOnlyControls.concat(s.readOnlyControls)};"customblock"===n[a]["data-buildertype"]&&"source"===n[a].sourceType&&null!=n[a].source&&(i=e({model:JSON5.parse(n[a].source),data:r}),o={hideControls:o.hideControls.concat(i.hideControls),readOnlyControls:o.readOnlyControls.concat(i.readOnlyControls)})}return o},updateEventsFormat:function(r){return r.updated||(Object.keys(r).forEach(function(e){var t,n=r[e];((t=n).actions||n.parameters||n.targets)&&(t={actions:n.actions||[],parameters:n.parameters||[],targets:n.targets||[]},r[e]={active:n.active||!1,triggers:n.actions?[t]:void 0})}),r.updated=!0),r}}},function(e,t){e.exports=i},function(e,t){e.exports=l},function(e,t){e.exports=s},function(e,t){e.exports=c},function(e,t){e.exports=u},function(e,t){e.exports=p},function(e,t,n){n(24),e.exports=self.fetch.bind(self)},function(e,t){e.exports=d},function(e,t,n){var r,o,a;function i(e){if(a[e])return a[e].exports;var t=a[e]={i:e,l:!1,exports:{}};return o[e].call(t.exports,t,t.exports,i),t.l=!0,t.exports}e.exports=(r=n(0),a={},i.m=o=[function(e,t){e.exports=r},function(e,t,n){e.exports=n(7)()},function(e,t,n){function r(e){if(a[e])return a[e].exports;var t=a[e]={i:e,l:!1,exports:{}};return o[e].call(t.exports,t,t.exports,r),t.l=!0,t.exports}var o,a;e.exports=(a={},r.m=o=[function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"e",function(){return o}),n.d(t,"a",function(){return a}),n.d(t,"f",function(){return i}),n.d(t,"c",function(){return l}),n.d(t,"b",function(){return s}),n.d(t,"d",function(){return c});var o=["user","environment"],a={USER:"user",ENVIRONMENT:"environment"},i=["jpg","png"],l={PNG:"png",JPG:"jpg"},s=(r(t={},"jpg","image/jpeg"),r(t,"png","image/png"),t),c={audio:!1,video:!0}},function(e,t,n){e.exports=n(2)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"FACING_MODES",function(){return a}),n.d(t,"IMAGE_TYPES",function(){return l});var i=n(3),r=n(5),o=i.a.IMAGE_TYPES.PNG,n=(c(s.prototype,[{key:"_getStreamDevice",value:function(r,o){var a=this;return new Promise(function(t,n){var e=i.a.getIdealConstraints(r,o);a.mediaDevices.getUserMedia(e).then(function(e){a._gotStream(e),t(e)}).catch(function(e){n(e)})})}},{key:"_getStreamDeviceMaxResolution",value:function(r){var o=this,e=i.a.getMaxResolutionConstraints(r,this.numberOfMaxResolutionTry);return null!=e?new Promise(function(t,n){o.mediaDevices.getUserMedia(e).then(function(e){o._gotStream(e),t(e)}).catch(function(e){setTimeout(function(){o.numberOfMaxResolutionTry+=1,o._getStreamDeviceMaxResolution(r).catch(function(){n(e)})},20)})}):this._getStreamDevice(r,{})}},{key:"_setVideoSrc",value:function(e){"srcObject"in this.videoElement?this.videoElement.srcObject=e:(e=this.windowURL.createObjectURL(e),this.videoElement.src=e)}},{key:"_setSettings",value:function(e){this.settings=null,0<(e=e&&e.getTracks?e.getTracks():[]).length&&e[0].getSettings&&(this.settings=e[0].getSettings())}},{key:"_gotStream",value:function(e){this.stream=e,this._setSettings(e),this._setVideoSrc(e)}},{key:"getCameraSettings",value:function(){return this.settings}},{key:"startCamera",value:function(e,t){var n=this;return this.stopCamera().then(function(){}).catch(function(){}).then(function(){return n._getStreamDevice(e,t)})}},{key:"startCameraMaxResolution",value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return this.stopCamera().then(function(){}).catch(function(){}).then(function(){return e._getStreamDeviceMaxResolution(t)})}},{key:"getDataUri",value:function(e){return e={sizeFactor:void 0===e.sizeFactor?r.c:e.sizeFactor,imageType:void 0===e.imageType?o:e.imageType,imageCompression:void 0===e.imageCompression?r.a:e.imageCompression,isImageMirror:void 0===e.isImageMirror?r.b:e.isImageMirror},i.a.getDataUri(this.videoElement,e)}},{key:"stopCamera",value:function(){var n=this;return new Promise(function(e,t){n.stream&&(n.stream.getTracks().forEach(function(e){e.stop()}),n.videoElement.src="",n.stream=null,n._setSettings(null),e()),t(Error("no stream to stop!"))})}}]),s),a=i.a.FACING_MODES,l=i.a.IMAGE_TYPES;function s(e){(function(e){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")})(this),this.videoElement=e,this.stream=null,this.numberOfMaxResolutionTry=1,this.settings=null,this.windowURL=i.a.getWindowURL(),this.mediaDevices=i.a.getNavigatorMediaDevices()}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}t.default=n},function(e,t,n){"use strict";var s=n(4),o=n(0),n=(a(r,[{key:"getDataUri",value:function(e,t){var n=t.sizeFactor,r=t.imageType,o=t.imageCompression,a=t.isImageMirror,i=e.videoWidth,l=e.videoHeight,i=(t=Object(s.b)(i,l,n)).imageWidth,l=t.imageHeight;return(n=document.createElement("canvas")).width=i,n.height=l,t=n.getContext("2d"),a&&t.setTransform(-1,0,0,1,n.width,0),t.drawImage(e,0,0,i,l),Object(s.a)(n,r,o)}},{key:"getWindowURL",value:function(){return window.URL||window.webkitURL||window.mozURL||window.msURL}},{key:"getNavigatorMediaDevices",value:function(){var r,e=null,t=!(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia),n=!(!navigator.mozGetUserMedia&&!navigator.webkitGetUserMedia);return t?e=navigator.mediaDevices:n&&(r=navigator.mozGetUserMedia||navigator.webkitGetUserMedia,n={getUserMedia:function(n){return new Promise(function(e,t){r.call(navigator,n,e,t)})}},e=Object.assign(r,n)),e}},{key:"isSupportedFacingMode",value:function(){return r.getNavigatorMediaDevices().getSupportedConstraints().facingMode}},{key:"getIdealConstraints",value:function(e,t){var n={audio:!1,video:{}};if(Object(s.c)(e,t))return o.d;var r=navigator.mediaDevices.getSupportedConstraints();return r.width&&r.height&&r.facingMode?(e&&o.e.includes(e)&&(n.video.facingMode=e),t&&t.width&&(n.video.width=t.width),t&&t.height&&(n.video.height=t.height),n):(console.error("Constraint width height or facingMode not supported!"),o.d)}},{key:"getMaxResolutionConstraints",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n=r.getIdealConstraints(e);return t>=(e=[{width:{min:640},ideal:{facingMode:e=n.video.facingMode}},{width:{min:800},ideal:{facingMode:e}},{width:{min:900},ideal:{facingMode:e}},{width:{min:1024},ideal:{facingMode:e}},{width:{min:1080},ideal:{facingMode:e}},{width:{min:1280},ideal:{facingMode:e}},{width:{min:1920},ideal:{facingMode:e}},{width:{min:2560},ideal:{facingMode:e}},{width:{min:3840},ideal:{facingMode:e}}]).length?null:(t=e.slice(0,-t),n.video.advanced=t,n)}},{key:"FACING_MODES",get:function(){return o.a}},{key:"IMAGE_TYPES",get:function(){return o.c}}]),r);function r(){!function(e){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}t.a=n},function(e,t,n){"use strict";function r(e,t){var n={};try{(function(e){if(!(0<=t&&t<=1))throw new Error(t+" is invalid imageCompression, choose between: [0, 1]");if(!o.f.includes(e))throw new Error(e+" is invalid imageType, choose between: "+o.f.join(", "))})(e),n.imageType=e,n.imageCompression=t}catch(e){console.error(e),console.error("default value of "+o.c.PNG+" is used"),n.imageType=o.c.PNG,n.imageCompression=null}return n}t.b=function(e,t,n){return{imageWidth:n=e*parseFloat(n),imageHeight:t/(e/n)}},t.a=function(e,t,n){return r(t,n).imageType===o.c.JPG?n?e.toDataURL(o.b[o.c.JPG],n):e.toDataURL(o.b[o.c.JPG]):e.toDataURL(o.b[t])},t.c=function(e,t){return!(e||t&&!function(e){if("object"===(void 0===e?"undefined":a(e)))for(var t in e)if(e.hasOwnProperty(t))return;return 1}(t))};var o=n(0),a="function"==typeof Symbol&&"symbol"==sd(Symbol.iterator)?function(e){return sd(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":sd(e)}},function(e,t,n){"use strict";n.d(t,"c",function(){return r}),n.d(t,"a",function(){return o}),n.d(t,"b",function(){return a});var r=1,o=null,a=!1}],r.c=a,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=1))},function(e,t,n){e.exports=n(4)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5);n.d(t,"Camera",function(){return r.c}),n.d(t,"FACING_MODES",function(){return r.a}),n.d(t,"IMAGE_TYPES",function(){return r.b}),t.default=r.c},function(e,t,n){"use strict";var r=n(6);n.d(t,"a",function(){return r.a}),n.d(t,"b",function(){return r.b}),t.c=r.c},function(e,t,n){"use strict";function r(n){var e=Object(h.useState)(""),t=(s=E(e,2))[0],r=s[1],o=Object(h.useState)(!0),a=(u=E(o,2))[0],i=u[1],l=Object(h.useState)(""),s=(e=E(l,2))[0],c=e[1],o=Object(h.useRef)(null),u=Object(b.a)(o,n.idealFacingMode,n.idealResolution,n.isMaxResolution),p=(l=E(u,4))[0],d=l[1],f=l[2],m=l[3];return Object(h.useEffect)(function(){p?"function"==typeof n.onCameraStart&&n.onCameraStart(p):"function"==typeof n.onCameraStop&&n.onCameraStop()},[p]),Object(h.useEffect)(function(){d&&(c(d.name+" "+d.message),"function"==typeof n.onCameraError&&n.onCameraError(d))},[d]),Object(h.useEffect)(function(){f&&Object(w.d)(f.message)},[f]),e=Object(w.b)(a,n.isImageMirror),u=Object(w.a)(!a),l=n.isFullscreen?"react-html5-camera-photo-fullscreen":"",y.a.createElement("div",{className:"react-html5-camera-photo "+l},y.a.createElement(V.a,{cssClass:"display-error",isDisplayError:n.isDisplayStartCameraError,errorMsg:s}),y.a.createElement(v.a,{isShowWhiteFlash:!a}),y.a.createElement("img",{style:u,alt:"camera",src:t}),y.a.createElement("video",{style:e,ref:o,autoPlay:!0,muted:"muted",playsInline:!0}),y.a.createElement(g.a,{isClicked:!a,onClick:function(){var e={sizeFactor:n.sizeFactor,imageType:n.imageType,imageCompression:n.imageCompression,isImageMirror:n.isImageMirror},t=m(e);n.isSilentMode||Object(w.c)(),"function"==typeof n.onTakePhoto&&n.onTakePhoto(t),r(t),i(!1),k&&clearTimeout(k),k=setTimeout(function(){i(!0),"function"==typeof n.onTakePhotoAnimationDone&&n.onTakePhotoAnimationDone(t)},900)}}))}var h=n(0),y=n.n(h),o=n(1),a=n.n(o),i=n(2),b=(n.n(i),n(9)),g=n(13),v=n(15),V=n(17),w=n(19),o=n(21);n.n(o),n.o(i,"FACING_MODES")&&n.d(t,"a",function(){return i.FACING_MODES}),n.o(i,"IMAGE_TYPES")&&n.d(t,"b",function(){return i.IMAGE_TYPES});function E(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&l.return&&l.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}var k=null;(t.c=r).propTypes={onTakePhoto:a.a.func,onTakePhotoAnimationDone:a.a.func,onCameraError:a.a.func,idealFacingMode:a.a.string,idealResolution:a.a.object,imageType:a.a.string,isImageMirror:a.a.bool,isSilentMode:a.a.bool,isDisplayStartCameraError:a.a.bool,imageCompression:a.a.number,isMaxResolution:a.a.bool,isFullscreen:a.a.bool,sizeFactor:a.a.number,onCameraStart:a.a.func,onCameraStop:a.a.func},r.defaultProps={isImageMirror:!0,isDisplayStartCameraError:!0}},function(e,t,n){"use strict";function r(){}function o(){}var i=n(8);o.resetWarningCache=r,e.exports=function(){function e(e,t,n,r,o,a){if(a!==i)throw(a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")).name="Invariant Violation",a}function t(){return e}var n={array:e.isRequired=e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:r};return n.PropTypes=n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";function p(e){return function(){var l=e.apply(this,arguments);return new Promise(function(a,i){return function t(e,n){try{var r=l[e](n),o=r.value}catch(e){return void i(e)}if(!r.done)return Promise.resolve(o).then(function(e){t("next",e)},function(e){t("throw",e)});a(o)}("next")})}}t.a=function(r,o,a,i){var e=Object(f.useState)(null),l=(n=h(e,2))[0],s=n[1],t=Object(f.useState)(null),n=(e=h(t,2))[0],c=e[1],t=Object(f.useState)(null),t=(e=h(t,2))[0],u=e[1];return Object(f.useEffect)(function(){r&&r.current&&(y=new m.a(r.current))},[r]),Object(f.useEffect)(function(){var e,t,n=(e=p(d.a.mark(function e(){var t;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(b=!0,e.prev=1,t=null,i)return e.next=6,y.startCameraMaxResolution(o);e.next=9;break;case 6:t=e.sent,e.next=12;break;case 9:return e.next=11,y.startCamera(o,a);case 11:t=e.sent;case 12:s(t),c(null),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),c(e.t0);case 19:case"end":return e.stop()}},e,this,[[1,16]])})),function(){return e.apply(this,arguments)});if(l)return t=p(d.a.mark(function e(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,b)return b=!1,e.next=5,y.stopCamera();e.next=5;break;case 5:r&&r.current&&(s(null),u(null)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),u(e.t0);case 11:case"end":return e.stop()}},e,this,[[0,8]])})),function(){return t.apply(this,arguments)};n()},[r,l,o,a,i]),[l,n,t,function(e){return y.getDataUri(e)}]};var t=n(10),d=n.n(t),f=n(0),t=(n.n(f),n(2)),m=n.n(t),h=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&l.return&&l.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},y=null,b=!1},function(e,t,n){e.exports=n(11)},function(e,t,n){var r=function(){return this}()||Function("return this")(),o=r.regeneratorRuntime&&0<=Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime"),a=o&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,e.exports=n(12),o)r.regeneratorRuntime=a;else try{delete r.regeneratorRuntime}catch(e){r.regeneratorRuntime=void 0}},function(S,e){!function(e){"use strict";function a(e,t,n,r){var o,a,i,l,t=t&&t.prototype instanceof c?t:c,t=Object.create(t.prototype),r=new u(r||[]);return t._invoke=(o=e,a=n,i=r,l=w,function(e,t){if(l===k)throw new Error("Generator is already running");if(l===C){if("throw"===e)throw t;return d()}for(i.method=e,i.arg=t;;){var n=i.delegate;if(n){var r=function e(t,n){var r=t.iterator[n.method];if(r!==f)return"throw"===(r=s(r,t.iterator,n.arg)).type?(n.method="throw",n.arg=r.arg,n.delegate=null,_):(r=r.arg)?r.done?(n[t.resultName]=r.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=f),n.delegate=null,_):r:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,_);if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=f,e(t,n),"throw"===n.method))return _;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return _}(n,i);if(r){if(r===_)continue;return r}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(l===w)throw l=C,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);if(l=k,"normal"===(r=s(o,a,i)).type){if(l=i.done?C:E,r.arg===_)continue;return{value:r.arg,done:i.done}}"throw"===r.type&&(l=C,i.method="throw",i.arg=r.arg)}}),t}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function c(){}function t(){}function n(){}function r(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function i(i){var t;this._invoke=function(n,r){function e(){return new Promise(function(e,t){!function t(e,n,r,o){if("throw"!==(e=s(i[e],i,n)).type){var a=e.arg;return(n=a.value)&&"object"==sd(n)&&h.call(n,"__await")?Promise.resolve(n.__await).then(function(e){t("next",e,r,o)},function(e){t("throw",e,r,o)}):Promise.resolve(n).then(function(e){a.value=e,r(a)},o)}o(e.arg)}(n,r,e,t)})}return t=t?t.then(e,e):e()}}function o(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function l(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function u(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(o,this),this.reset(!0)}function p(t){if(t){if(e=t[y])return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var e,n=-1;return(e=function e(){for(;++n<t.length;)if(h.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=f,e.done=!0,e}).next=e}}return{next:d}}function d(){return{value:f,done:!0}}var f,m=Object.prototype,h=m.hasOwnProperty,y=(v="function"==typeof Symbol?Symbol:{}).iterator||"@@iterator",b=v.asyncIterator||"@@asyncIterator",g=v.toStringTag||"@@toStringTag",v="object"==sd(S),V=e.regeneratorRuntime;if(V)return v&&(S.exports=V);(V=e.regeneratorRuntime=v?S.exports:{}).wrap=a;var w="suspendedStart",E="suspendedYield",k="executing",C="completed",_={};(e={})[y]=function(){return this},(v=(v=Object.getPrototypeOf)&&v(v(p([]))))&&v!==m&&h.call(v,y)&&(e=v);var O=n.prototype=c.prototype=Object.create(e);(t.prototype=O.constructor=n).constructor=t,n[g]=t.displayName="GeneratorFunction",V.isGeneratorFunction=function(e){return!!(e="function"==typeof e&&e.constructor)&&(e===t||"GeneratorFunction"===(e.displayName||e.name))},V.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,n):(e.__proto__=n,g in e||(e[g]="GeneratorFunction")),e.prototype=Object.create(O),e},V.awrap=function(e){return{__await:e}},r(i.prototype),i.prototype[b]=function(){return this},V.AsyncIterator=i,V.async=function(e,t,n,r){var o=new i(a(e,t,n,r));return V.isGeneratorFunction(t)?o:o.next().then(function(e){return e.done?e.value:o.next()})},r(O),O[g]="Generator",O[y]=function(){return this},O.toString=function(){return"[object Generator]"},V.keys=function(n){var e,r=[];for(e in n)r.push(e);return r.reverse(),function e(){for(;r.length;){var t=r.pop();if(t in n)return e.value=t,e.done=!1,e}return e.done=!0,e}},V.values=p,u.prototype={constructor:u,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=f,this.done=!1,this.delegate=null,this.method="next",this.arg=f,this.tryEntries.forEach(l),!e)for(var t in this)"t"===t.charAt(0)&&h.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=f)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(n){function e(e,t){return a.type="throw",a.arg=n,r.next=e,t&&(r.method="next",r.arg=f),!!t}if(this.done)throw n;for(var r=this,t=this.tryEntries.length-1;0<=t;--t){var o=this.tryEntries[t],a=o.completion;if("root"===o.tryLoc)return e("end");if(o.tryLoc<=this.prev){var i=h.call(o,"catchLoc"),l=h.call(o,"finallyLoc");if(i&&l){if(this.prev<o.catchLoc)return e(o.catchLoc,!0);if(this.prev<o.finallyLoc)return e(o.finallyLoc)}else if(i){if(this.prev<o.catchLoc)return e(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return e(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&h.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}var a=(o=o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc?null:o)?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,_):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),_},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),l(n),_}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r,o=n.completion;return"throw"===o.type&&(r=o.arg,l(n)),r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:p(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=f),_}}}(function(){return this}()||Function("return this")())},function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(1),r=n.n(a),a=n(14);(a=(n.n(a),function(e){var t=e.onClick,n=e.isClicked;return o.a.createElement("div",{id:"container-circles"},o.a.createElement("div",{id:"outer-circle",onClick:function(e){n||t()}},o.a.createElement("div",{id:"inner-circle",className:n?"is-clicked":""})))})).propTypes={onClick:r.a.func.isRequired,isClicked:r.a.bool.isRequired},t.a=a},function(e,t){},function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(1),r=n.n(a),a=n(16);(a=(n.n(a),function(e){return e=e.isShowWhiteFlash,o.a.createElement("div",{id:"white-flash",className:(e?"do-transition":"")+" normal"})})).propTypes={isShowWhiteFlash:r.a.bool.isRequired},t.a=a},function(e,t){},function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(1),r=n.n(a),a=n(18);(a=(n.n(a),function(e){var t=e.isDisplayError,n=e.errorMsg,r=e.cssClass;return e=n,t&&e&&0<e.length?(console.log("cssClass",r),o.a.createElement("div",{className:r,id:"display-error"},o.a.createElement("h1",null,"Camera error: ",n))):null})).propTypes={isDisplayError:r.a.bool,errorMsg:r.a.string,cssClass:r.a.string},t.a=a},function(e,t){},function(e,t,n){"use strict";function r(e){return e?{display:"inline-block"}:{display:"none"}}t.a=r,t.b=function(e,t){return Object.assign({},t?{transform:"rotateY(180deg)"}:{transform:"none"},r(e))},t.c=function(){new Audio("data:audio/mp3;base64,"+o.a.base64).play()},t.d=function(e){console.info("react-html5-camera-photo info:",e)};var t=n(20),o=n.n(t)},function(e,t){e.exports={base64:"SUQzBAAAAAAASVRQRTEAAAAcAAADU291bmRKYXkuY29tIFNvdW5kIEVmZmVjdHMAVFNTRQAAAA8AAANMYXZmNTcuNzIuMTAxAAAAAAAAAAAAAAD/+1QAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABJbmZvAAAADwAAAB0AACxAAA0NDRUVFR4eHh4nJycvLy8vODg4QUFBQUlJSVJSUlJbW1tjY2NsbGxsdXV1fX19fYaGho+Pj4+Xl5egoKCgqampsbGxurq6usPDw8vLy8vU1NTd3d3d5eXl7u7u7vf39////wAAAABMYXZjNTcuOTMAAAAAAAAAAAAAAAAkAkAAAAAAAAAsQC+b5ZH/+5RkAA/wAABpAAAACAAADSAAAAEAAAGkAAAAIAAANIAAAAR4RBEitS0FLUmhcO1TSK1JoJrUtC4dpmkUlLQTQUtC4dpqkUkVoJoJpxcO01KKSK1JoJoRcO01i0kUlLGJkCdw7Skpaho4aHGJkCZkO0pIrDBxw0OGHoEzD3aUkVhg4wMHDD0E4tjjUkUgw8YPDhloJxbSaSRSGhxg8YpaCcW00kRSRWpNBOxZ/1VVFlv/9LLLqu//VVVUW//WWWWXd/6VVVVd/+qsssGH/ZZZVVUDt+1VVlli1dIxZZVUDI0RhaqqyzX9GLLLKq/+QtVVGgCAACMZAAY0NkBDHeIlc0SIVc0Kpu8Sudc0SucfQq+iRCd4hOlc0SubvEJ3NHiE76FErnCr13iE74d4hO8Q0SuaJUSuaJXKvEJ330Su8Q0KuaFUJ3iVzcWaJQ7wWYBHSMAgAD4xjjeYxjZ35znnO/zkJOfqQhKnO6B88jTnnOd0IRjhwUZTnO85///znkD/+5Rkrg7gAABpAAAACAAADSAAAAEQ2Y50IITAARuAEEgQjXnhDgIHCKc53IHxdyEbnOehCEkJ+pCelSMp4gHBRQ4HG5CSE8hJCN/U7oIBwONJAAAAABzNHNlZ0RgQYz9Z7iGTHEB/80BaFYCuiQxoNtAsgAYQaVXEGCOw1eAQwscAnqCA4wbgC2AfcLWgsjQU2SxNkDIOQcAICYDsC/QfJunpFwYwiBPhc4QIMLhqQFyQQMafSYToaBt4ucd4uQQUAgwyMNQQuQItic+ghuLAQdlkELTqJsxICMaQ4UERZT0KbbSURTRUOZYcwcwY5MiwoENUDJjGFslwwOn609SlqYXIK0HgXO8XPcbKThcIPIuUVoQiSyXYhB9OtX////+MF0v////zWIAICAEKgAB/mXJmPHgWEBgPOgZOlaYsIFBP+AQ4QLHrqkMPcPAKKBZ7ZFyAhl8AcIGyALmsoLqwDiCwCxhv4aX8i47Q9MOXKIXAEgKFDAxNenFnkHFkEQb/+5RE9QADBV+6LQRgAltMZtWglABa0gEKuaiAC3vAoeM1MAAWYQILzHIICTw5nW7RcBUEpjnkHEoDmA3lH0Xw/cQVFJCxdNqCh2E2Xy+dJs3JsiossdgrUcoTkRIc5t++OWO8ToPJNi5D0XIXSYEJxaidDVAy5PlocIZPW62fVpyLigBQBAHrIuVrJOFrg5pLCcSAkokPocwjSNHPHN0//////////+QhCj7qaGYVYmpqaAAAGq7AwgBlh8VBaQtGWez8jOC40Cs8QWdoEoqxgWS1OGgVhKDhH+mSYIkesyxKFQLAOJPHUkiRlkHQGoXY9YwWxnKGEht1WcAxxbxjowl8ZZOpjMoTFYLhMp1UWNzTcRKlEThVyzRJ9C5JpucTzZNnKasIvafZ4+7b8Nv83+Mazrf1JvUKBJrxNz2pLmfWWKB/Cz8x/7RM5/1Ce/+L76+P5VVv//Of/6N7Pce0F4fxJEPU6bWE3FR6oN5kpCbjkeTdixgeMWuvWJWbPnn/+5RkagAFn1nIzmXgAoEqWPDHsABTQW8/uPeACTkOaPcYsABbsyzEjbu+fchSvlqOGJ9HCWDt1LSxKyl8Ukl5ZzCMTzuj69ziub5eq/GI1/jU05e/Vyef+sLP2UOTjPezyH/2pWN3Kd+UX7tbbLmTSNimTrrEzKqWI82ZXEVz/f+APYQWsTYAFgsDYkDgbEotLbToGU/zJZiBhooccZojHRxKjGTDmIYgELVTQ6I2QqDhXYc7gxAUg/WKLpvmqB/Aa3CjVqNWDqJq6FkPVCvUdaazrdNQLVgv4+X93OD48uq7h+33naGTRWem5b5x8/PzbP34OY+8UeZuq839/vV6xL5/9b/XgaviJ9X39eff////zE3/////R5XdMx9Zlv5kMT+fb+7lKgBsvQwB1JIZFR4wVnWT2FlJ/9ydOZTEtzzjSMAwIrF0HW4nk9iLot6Z7fXzZ9ce865weBD+l9AJVqCZJWiEQsTcMVtf+2qtxuAtqJsBk0mAUCkVg8GmyjH/+5RkCQADSzRfbjFgBDyCa4/GlACMzGFh/PMACSAXa/+SUACjoDx0SmqACERx/bjtG4yJBsfEURAKyS7HTNFQ7ithQtedceTij5ucmkWN8luex6UdfP/y85Ma9PZExfX7fX5N6mDZIDUU5B4GFjoqoho+gmvcXDwfOFEQBAJAImIAIgAEBgoCAACgBWBb6r87R1ptBJTt9CIxPHoSUlxjgK9m/SEj3c159dg8LocfP5dBMH0/+r8bNvCqREJgBAo3AsBPzmJsdpUPjpXS9g9FMzKZrbNwgKTOuEDqnHmTRomLkbR2pd3RDi2Tznwzv//7otGijIoTEh2G3Q46FAgGDpWjmXd5f7f/7jYhgVdpAWecCrcCQt2IrHuQFiFFHxnaDIwAAJAFyyJGMwQlgONtlkI6kliXEWGr3/aI4kBnKOqNM539ilaUrLMZH/lUzP+ubGjlo8qZtgiBDTywUCohJd1f/r7rKml6giMBAAJEqYxixGCLCoy4k/LilUWoA4T/+5RkDIIDKhvW+ekyIkcDiu8kYoQMtHVX56UMiSmMKrj0jJnnxKuJignB5BdoZW+9uSWOWnCfrsssUm7dsQBie/NwY8W5Mcwd2coQYLGa4lTralcVA1UmoIyYTV/+2yAhmrb2/n/usGNZ7WlQTff6IlqcUUhEAJEqA8DKDVVREeIr8esjOrIUkuirufCdazjA811RD9N4LbvbaQCrw4dHvhMDz5A2w6KgoASjBS/Z+oFXtQIWF1JaIlkIxIAVMLauzmL6Rl2Q88yap03k8jXbwTjyBATEib0nyZFm3bJLlisBM01260qLqxtjRyN3m+oeF0gaslaUUUQ+FPb3T5AmE9qgnWRkokRC7/ODQPHdJPvq//9E2/SxEVK8v8htbsiCAAAgWWvTAjwQFpoiNLhYgE54RXwYLM+nGalvD2YxIJBjCwcqYng0c1/O3ts1SX8vgE9ZFUddfs8VPyCUwUA1wwzDBe2/+arbfpkEAAkBTABB0BwGgTAGdBCwAkBHJh7/+5RkDAADMxjUaYxJwkuiap8xIygM4G9Tp5kQmQkTrXzAmmOsHqFdAdFFCiEr5yxbLwZtWEEdVovOs23MAvAStVLKV8IXKgKrT8ncmLedi7bB/cA3VbAaKlqOq5/HaA4InbPz5nmuucADoe6xcBNt7tSPMuqIZAAAJBShDfodhw8JW8ZZJHhUwH3Fw7/DalLuM1CoAAQXCh4QvMhMrHIu0JKhUHpigUiESAQcKQCBYuIlFAIIUGgiPNQr+3/qOciRRBARJTh8shKgNIuRVKUxSdti8UYsSmgfCmU53r4EGDk9h+UaQORLKigsxpCqsGqz2zQThjt29fjfjzCmksKQOfPf4ErnOwvcZIT9DQVP/9TFYZiYuyTT96/zSiWVZKgcauvX/Fd2hVVUNhuyQBJGdRxhU4uKqjyBE8rLjlmFbTMFLMEjhIDHv6NmRNmf/x/F/5cxOiRvEoLByWYmOhp3cSRgUq/7/qoYV0MBAAAAIAdHYSUB4FLQkP5cCxrCATz/+5RkDAADcxrQ+e8ackTCep8wwjpL4TlL56RsgQ2T6HjEiTjmdytbVp+p2hSvFX/J3siqX5Wp2r5mJhZB/SmifjK/QQ4ShGCxzKeZDGcp/kktH8kDWWOSZDARPRv7gK6He3vFplnf/ISQ4UblSirr/7W5uvEVbi7d/41VMOCGZhBRugHYuN2QEgAmo6plMR15BTDpS6GyW+h+zjhlE8LMf//ITt//LrTQsNbb/J9Zyp169ismbG93VWFmoE0ymLyzqiiAgAXG5uD/P1BnCX472hAoSyXQ5JvjJEp2tNIkZx/G6bBA1KGgQYzpIzGm5IWHFI3Mrnvebeakn//f8j/pWaH1rsSqWc2dp0jnbn3/7JmdV7+rm4jPHhXFE1r0tJiYoAAAAigB0SlA5VjmyuiQgE4EkySaHa9QarZQzE+i/c44HSRySJ4CDjRhoytL7p/+PEeSed2CYQgcEgTaIoDtrrpKeaNEABAKbd2LYYyuPAvgvmUzBhOEiQkCUASwM4n/+5RkDwACrRjR+eZCQEOC2f4x5jYL0TlD56RriN8N7HyXiJ54Gw8X6M1cW+MDfWrsKucJQ0gMq/komUNiAq4FSIwOpfEowi0zG6KleQCSwEHCweBskbbnvsRfcri9EggAAUkBeGC1nNGwSq4XGArmaGnlPGbIccshyzql3zEm2iXAZItfIUAwLCoVDYKxffIQWDp2wsVDAJDsKevOnvQcxkqRgBAKSS4GO+X2ZRCBlqF/QtpvneXKjA4qgriVakmnNLSUvMmiVGtept5SCQ5tDuocjzRsk/bPpezir/nVJu2kc4xlwvbaEtJd6zQ6R3eZfPv/ZJ9m7oiBSzn3SsPUuzAigOuJgJs0MnJOxdG1Hos5k5GjucbkewcqlX//d9egcowOwg72yIVFgeHHACCQIp/9PT01NnhGAQAAAknKA6Tbgw7HGWOAnUc4qlQxWxVTQozhF1NqtN4r5ZNzwrSNPp7VsAAhMNBEATOaL/+InKoczbIhOQm8yucxCbkEwBj/+5RkJQACy03O+eEWUj8Cqd0kI2JK7FM957BJCP8LZrDEjRj7MQQulP8iNv1ZQ4OWjvqHfxoAAAVtoBJyKgSboha50SOlHFNhEvo0yk1IDQILHJd8pzLwyCCFsP8b6IUbJYLXxxLBnDxp1STleWZlv/9Kz3aKJGABkluAYT6bKlJ0SsMEFQhDZNG46mJhXjMyWnaEijV2W3UQQjhJ2y0PbgCxKEv/f+ooiGu9UlKa1tKv4sNhxYveU5D+e9J/2/3u9i4YA5osaQqZV7oIAAVOEC1I9By09EwqKkMtLA2RufTbvi1rZ3AWUsGCwYCCGdpMJPBVQLQqxvFCAWEaRqjziYSr/tU5CgK2lSZ5l0MQIByXbAOUTklQFwOgfB8rh4B4jOlhhg7ZuucQTkGoy6+ZAqKKQ6gWMbPkZmZ9al/+kwJlkVSkI3uaVC2PdDdkO2QyMxaaVttL+yKt1NKxBTFCCAVrowyW2stA1KFv0hbLb65ETygHpTFEK1a04Ng4gIb/+5RkOwAC0k7O+YMUUj6BiiwFgg3KmJ8zphhtQRKNZGBmJRA3zVydPlFXGVS////puxqodg5reZNm7/MndWf/JPWm/zFfXM98bBIBmkEAqijiJIAzdzxAOh6LS9CEgB3NmijZQuE95VFuWutlsK2FVMstBJuVY76LLWembjBBYkSAGFCwCSE1Ppa8UNIPf/rQVegNg4JAcJFg6bBbQAIAMCuSFKdNYIqoIFhkZHZCSAvBs6hSPpInc9z4qA4OHAHPHf+l0aFJ/6EAAV2ArBonPBCu1MQoShTe7XNf9XsZ9qpd+AAP+gZLrd1p3akdlU8FYXUqpYXEkAAVGvN3ewT7cvODAwWv/t31+k+EtuUdesnV7G0KUzixLoR06olmbZdiqiqzv7N7ttT6aftruhpizihYWJqUcutcZKiaIBXJKbYkBix6RiszxMK5sJ3Ztcpka/ndJlS85HzhllK4TzomBkODyvw6MKWqB1yAbBMTKNvY95k+RrRGFkLBABAgI4n/+5RkT4QSok5JyeYT4kUDee0Z40mKUJ8YyLypwOeOZChhDhBy6cO3WizCTU0ThVTKhLA6LJCj9VhvNbUxMr572iZ6pVQhrx7L5n3lEWWQSMJMsqkMdU/2ogTDpQ1LUgDmIw0+xSPp8q74NAETGx7fpCHkBgwgHtJJbfdIBQ2Ei9iiS4Fg8HgwECBAIpSoj4KVspVh+KNAkISWq9gdCp655vAt6qxRINC8/20T9M/zI5/3sr5eevDsXTYoZDpVDe4LaAc3X7C+k/mRXV/V5vK5X/MCgvHUGw6tbfym3UZ9VRnJVEgkcSR3dZmtOt37p7dv6f/T6V/5QuVKCHLFJbd+mxP/FHcjQI+/uXECJ7zhGKxohM9ZXlY1KlYdgNDNEOUMYLMaFMiPhVqvdmtZbF0KohuyOtfX+j/+n/xVc7/7fut6xwOQ9a6vx5ougb49A6BJJiQoymSK5RLTnwaC0KFVw9GzUl1d/2ZWq5kZlbpVkQ4EZ1WpHor+uT365V/7vT//+5Rkao9yt1FEAeY+EEBoWIAk4pQJATkOBZhRAQuSIZBzCXDoq+3/8Y3/2M/FBCAObWqHRAAtBiifAQCA1BRpVb52s2S5LI2Dq/8pdzkc9Eo10eK9QbhdwiNCt85vHP1ouZJ3FHtp77tE/0fZHon7N6oJwACADvQx9SohjjDiuogvjxhWFb55pURta2RhcxRyGZ73J0P0VvoiQ4ZlVaNv1djz1ZmtRGX9aKt2/33+1vszag1xXTcAbOWQBd6nCJkAAAwE50ngeCHKFx4NgkajxyDQGDg8gbAB82lgNsldzF0/I1VXDWjZv6losVd/pjqv+mkYxQAgLAqKmFTMqgPTSAlvGL6vsVEwoP4QoNGxYoxifXxK5OK3E9Raod2Xk6CZV263XWvqrscMz9Fa3b0ATfVXh3tQen8E8aMctpDNFg+tKkvaxhtKRI5UCFQOo+ei5Y3ApV5GBuyyL3V5hL1tIrGwRIlHhIqrvQBtZxSWLjrVaqwMSGQ1hqCNaJDGiFH/+5RkhwBSYU3DQUYS4DThKHsAIgQHeGkNgIhqgQQJ4NQAjCJAlFF/+Pt02b8lSSXzdgtLH4ihpv64/LHJp/ekvx66X+Hd5lMVFew/KbF2/CeuO7/xf903H92Cr0eRG0lKHlls5APGEG0b1MrTN/Pxtf92++3b1/ZC7yOuo1L/fUJr99PmOau1+DczWWohH8L0eh/nWTbo8/OvyZ/ccZuEf/+Rn/l/L/M//+ZEqKpH+ZFToqJ+iqi+i/yoi+ip9yhgYMh27OZUWpgoIEd1ITFaxUllRQWcDAaskNCYwCgJAlEQaBsJgsBQSlREGgbCYLBUBAUSiINB2dKnUZK3kSJ1948Y9LNCn/I9c763Wf1AVct8rUxBTUUzLjk5LjVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+5REtg5yOQ+/ACAYIkLiWBAEIy5G6UjKQIBcAPWAH5ARjShVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVACCU025+ZGfywyOy3//ksyP+XMmstIyNWCggQNHI1ls////WWRyMmVgYME6GTLJZ///2WWxyNWWSoZGrWyzL/9WVqCBOhkyhgYMI6GrBQUqFpoVFP9bDILCzOLiv/rFRYk//qF+LCrDKm/4o2sVFtbP6hdmLCsyoXUxBTUUzLjk5LjVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+5Rkjg/ygl8ruCAaQiiABWAAAAAAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjk5LjVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+5RkUY/wAABpAAAACAAADSAAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjk5LjVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+5RkUY/wAABpAAAACAAADSAAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjk5LjVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+5RkUY/wAABpAAAACAAADSAAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjk5LjVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+5RkUY/wAABpAAAACAAADSAAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjk5LjVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+5RkUY/wAABpAAAACAAADSAAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjk5LjVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+5RkUY/wAABpAAAACAAADSAAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjk5LjVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+5RkUY/wAABpAAAACAAADSAAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjk5LjVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+5RkUY/wAABpAAAACAAADSAAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjk5LjVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+5RkUY/wAABpAAAACAAADSAAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjk5LjVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+5RkUY/wAABpAAAACAAADSAAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjk5LjVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+5RkUY/wAABpAAAACAAADSAAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjk5LjVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+5RkUY/wAABpAAAACAAADSAAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjk5LjVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+5RkUY/wAABpAAAACAAADSAAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVU="}},function(e,t){}],i.c=a,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=3))},function(e,t){e.exports=f},function(e,t){e.exports=m},function(e,t){e.exports=h},function(e,t){e.exports=y},function(e,t){e.exports=b},function(e,t){e.exports=g},function(e,t){e.exports=v},function(e,t){e.exports=V},function(e,t,n){var r,o,a,i,l,s;function c(e){if(s[e])return s[e].exports;var t=s[e]={exports:{},id:e,loaded:!1};return l[e].call(t.exports,t,t.exports,c),t.loaded=!0,t.exports}e.exports=(r=n(27),o=n(0),a=n(30),i=n(31),s={},c.m=l=[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=sd(t)&&"function"!=typeof t?e:t}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=function(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),e},l=r(n(1)),s=n(2),c=r(s),u=r(n(3)),p=r(n(4));function d(){var e,o;!function(e){if(!(e instanceof d))throw new TypeError("Cannot call a class as a function")}(this);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return e=o=a(this,(e=d.__proto__||Object.getPrototypeOf(d)).call.apply(e,[this].concat(n))),o._sigPad=null,o._excludeOurProps=function(){var e=o.props;return e.canvasProps,e.clearOnResize,function(e,t){var n,r={};for(n in e)0<=t.indexOf(n)||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}(e,["canvasProps","clearOnResize"])},o.getCanvas=function(){return o._canvas},o.getTrimmedCanvas=function(){var e=document.createElement("canvas");return e.width=o._canvas.width,e.height=o._canvas.height,e.getContext("2d").drawImage(o._canvas,0,0),(0,p.default)(e)},o.getSignaturePad=function(){return o._sigPad},o._checkClearOnResize=function(){o.props.clearOnResize&&o._resizeCanvas()},o._resizeCanvas=function(){var e,t=o.props.canvasProps||{},n=t.width,r=t.height;n&&r||(e=o._canvas,t=Math.max(window.devicePixelRatio||1,1),n||(e.width=e.offsetWidth*t),r||(e.height=e.offsetHeight*t),e.getContext("2d").scale(t,t),o.clear())},o.on=function(){return window.addEventListener("resize",o._checkClearOnResize),o._sigPad.on()},o.off=function(){return window.removeEventListener("resize",o._checkClearOnResize),o._sigPad.off()},o.clear=function(){return o._sigPad.clear()},o.isEmpty=function(){return o._sigPad.isEmpty()},o.fromDataURL=function(e,t){return o._sigPad.fromDataURL(e,t)},o.toDataURL=function(e,t){return o._sigPad.toDataURL(e,t)},o.fromData=function(e){return o._sigPad.fromData(e)},o.toData=function(){return o._sigPad.toData()},a(o,e)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(i=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+sd(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(d,s.Component),i(d,[{key:"componentDidMount",value:function(){this._sigPad=new u.default(this._canvas,this._excludeOurProps()),this._resizeCanvas(),this.on()}},{key:"componentWillUnmount",value:function(){this.off()}},{key:"componentDidUpdate",value:function(){Object.assign(this._sigPad,this._excludeOurProps())}},{key:"render",value:function(){var t=this,e=this.props.canvasProps;return c.default.createElement("canvas",o({ref:function(e){t._canvas=e}},e))}}]),d)).propTypes={velocityFilterWeight:l.default.number,minWidth:l.default.number,maxWidth:l.default.number,minDistance:l.default.number,dotSize:l.default.oneOfType([l.default.number,l.default.func]),penColor:l.default.string,throttle:l.default.number,onEnd:l.default.func,onBegin:l.default.func,canvasProps:l.default.object,clearOnResize:l.default.bool},i.defaultProps={clearOnResize:!0},t.default=i},function(e,t){e.exports=r},function(e,t){e.exports=o},function(e,t){e.exports=a},function(e,t){e.exports=i}],c.c=s,c.p="",c(0))},function(e,t){e.exports=w},function(e,t,n){"use strict";n.r(t),n.d(t,"Headers",function(){return u}),n.d(t,"Request",function(){return b}),n.d(t,"Response",function(){return v}),n.d(t,"DOMException",function(){return w}),n.d(t,"fetch",function(){return E});var r,o,l="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==l&&l,s={searchParams:"URLSearchParams"in l,iterable:"Symbol"in l&&"iterator"in Symbol,blob:"FileReader"in l&&"Blob"in l&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in l,arrayBuffer:"ArrayBuffer"in l};function a(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function c(e){return"string"!=typeof e?String(e):e}function i(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return s.iterable&&(e[Symbol.iterator]=function(){return e}),e}function u(t){this.map={},t instanceof u?t.forEach(function(e,t){this.append(t,e)},this):Array.isArray(t)?t.forEach(function(e){this.append(e[0],e[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function p(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function d(n){return new Promise(function(e,t){n.onload=function(){e(n.result)},n.onerror=function(){t(n.error)}})}function f(e){var t=new FileReader,n=d(t);return t.readAsArrayBuffer(e),n}function m(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function h(){return this.bodyUsed=!1,this._initBody=function(e){this.bodyUsed=this.bodyUsed,(this._bodyInit=e)?"string"==typeof e?this._bodyText=e:s.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:s.formData&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:s.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():s.arrayBuffer&&s.blob&&e&&DataView.prototype.isPrototypeOf(e)?(this._bodyArrayBuffer=m(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):s.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||o(e))?this._bodyArrayBuffer=m(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):s.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},s.blob&&(this.blob=function(){var e=p(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var e=p(this);return e||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}return this.blob().then(f)}),this.text=function(){var e,t,n=p(this);if(n)return n;if(this._bodyBlob)return e=this._bodyBlob,n=d(t=new FileReader),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},s.formData&&(this.formData=function(){return this.text().then(g)}),this.json=function(){return this.text().then(JSON.parse)},this}s.arrayBuffer&&(r=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],o=ArrayBuffer.isView||function(e){return e&&-1<r.indexOf(Object.prototype.toString.call(e))}),u.prototype.append=function(e,t){e=a(e),t=c(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},u.prototype.delete=function(e){delete this.map[a(e)]},u.prototype.get=function(e){return e=a(e),this.has(e)?this.map[e]:null},u.prototype.has=function(e){return this.map.hasOwnProperty(a(e))},u.prototype.set=function(e,t){this.map[a(e)]=c(t)},u.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},u.prototype.keys=function(){var n=[];return this.forEach(function(e,t){n.push(t)}),i(n)},u.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),i(t)},u.prototype.entries=function(){var n=[];return this.forEach(function(e,t){n.push([t,e])}),i(n)},s.iterable&&(u.prototype[Symbol.iterator]=u.prototype.entries);var y=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function b(e,t){if(!(this instanceof b))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var n,r=(t=t||{}).body;if(e instanceof b){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new u(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,r||null==e._bodyInit||(r=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new u(t.headers)),this.method=(e=(n=t.method||this.method||"GET").toUpperCase(),-1<y.indexOf(e)?e:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r),"GET"!==this.method&&"HEAD"!==this.method||"no-store"!==t.cache&&"no-cache"!==t.cache||((t=/([?&])_=[^&]*/).test(this.url)?this.url=this.url.replace(t,"$1_="+(new Date).getTime()):this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime())}function g(e){var n=new FormData;return e.trim().split("&").forEach(function(e){var t;e&&(e=(t=e.split("=")).shift().replace(/\+/g," "),t=t.join("=").replace(/\+/g," "),n.append(decodeURIComponent(e),decodeURIComponent(t)))}),n}function v(e,t){if(!(this instanceof v))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t=t||{},this.type="default",this.status=void 0===t.status?200:t.status,this.ok=200<=this.status&&this.status<300,this.statusText=void 0===t.statusText?"":""+t.statusText,this.headers=new u(t.headers),this.url=t.url||"",this._initBody(e)}b.prototype.clone=function(){return new b(this,{body:this._bodyInit})},h.call(b.prototype),h.call(v.prototype),v.prototype.clone=function(){return new v(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new u(this.headers),url:this.url})},v.error=function(){var e=new v(null,{status:0,statusText:""});return e.type="error",e};var V=[301,302,303,307,308];v.redirect=function(e,t){if(-1===V.indexOf(t))throw new RangeError("Invalid status code");return new v(null,{status:t,headers:{location:e}})};var w=l.DOMException;try{new w}catch(e){(w=function(e,t){this.message=e,this.name=t,e=Error(e),this.stack=e.stack}).prototype=Object.create(Error.prototype),w.prototype.constructor=w}function E(r,i){return new Promise(function(o,e){var t=new b(r,i);if(t.signal&&t.signal.aborted)return e(new w("Aborted","AbortError"));var a=new XMLHttpRequest;function n(){a.abort()}a.onload=function(){var e,n,t={status:a.status,statusText:a.statusText,headers:(e=a.getAllResponseHeaders()||"",n=new u,e.replace(/\r?\n[\t ]+/g," ").split("\r").map(function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e}).forEach(function(e){var t=e.split(":");(e=t.shift().trim())&&(t=t.join(":").trim(),n.append(e,t))}),n)};t.url="responseURL"in a?a.responseURL:t.headers.get("X-Request-URL");var r="response"in a?a.response:a.responseText;setTimeout(function(){o(new v(r,t))},0)},a.onerror=function(){setTimeout(function(){e(new TypeError("Network request failed"))},0)},a.ontimeout=function(){setTimeout(function(){e(new TypeError("Network request failed"))},0)},a.onabort=function(){setTimeout(function(){e(new w("Aborted","AbortError"))},0)},a.open(t.method,function(t){try{return""===t&&l.location.href?l.location.href:t}catch(e){return t}}(t.url),!0),"include"===t.credentials?a.withCredentials=!0:"omit"===t.credentials&&(a.withCredentials=!1),"responseType"in a&&(s.blob?a.responseType="blob":s.arrayBuffer&&t.headers.get("Content-Type")&&-1!==t.headers.get("Content-Type").indexOf("application/octet-stream")&&(a.responseType="arraybuffer")),!i||"object"!=sd(i.headers)||i.headers instanceof u?t.headers.forEach(function(e,t){a.setRequestHeader(t,e)}):Object.getOwnPropertyNames(i.headers).forEach(function(e){a.setRequestHeader(e,c(i.headers[e]))}),t.signal&&(t.signal.addEventListener("abort",n),a.onreadystatechange=function(){4===a.readyState&&t.signal.removeEventListener("abort",n)}),a.send(void 0===t._bodyInit?null:t._bodyInit)})}E.polyfill=!0,l.fetch||(l.fetch=E,l.Headers=u,l.Request=b,l.Response=v)},function(t,n,r){!function(y){var e;void 0===(e="function"==typeof(e=function(){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function e(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(n){var r=t();return function(){var e,t=a(n);return e=r?(e=a(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==sd(e)&&"function"!=typeof e?l(t):e}}function c(e,t,n){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){e=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=a(e)););return e}(e,t);if(e){t=Object.getOwnPropertyDescriptor(e,t);return t.get?t.get.call(n):t.value}})(e,t,n||e)}var n,u,p=(e(h,[{key:"addEventListener",value:function(e,t){e in this.listeners||(this.listeners[e]=[]),this.listeners[e].push(t)}},{key:"removeEventListener",value:function(e,t){if(e in this.listeners)for(var n=this.listeners[e],r=0,o=n.length;r<o;r++)if(n[r]===t)return void n.splice(r,1)}},{key:"dispatchEvent",value:function(t){var n=this;if(t.type in this.listeners){for(var e=this.listeners[t.type],r=0,o=e.length;r<o;r++)!function(e){setTimeout(function(){return e.call(n,t)})}(e[r]);return!t.defaultPrevented}}}]),h),d=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(n,p);var t=s(n);function n(){var e;return r(this,n),(e=t.call(this)).listeners||p.call(l(e)),Object.defineProperty(l(e),"aborted",{value:!1,writable:!0,configurable:!0}),Object.defineProperty(l(e),"onabort",{value:null,writable:!0,configurable:!0}),e}return e(n,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(e){"abort"===e.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,e)),c(a(n.prototype),"dispatchEvent",this).call(this,e)}}]),n}(),f=(e(m,[{key:"abort",value:function(){var t;try{t=new Event("abort")}catch(e){"undefined"!=typeof document?document.createEvent?(t=document.createEvent("Event")).initEvent("abort",!1,!1):(t=document.createEventObject()).type="abort":t={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(t)}},{key:"toString",value:function(){return"[object AbortController]"}}]),m);function m(){r(this,m),Object.defineProperty(this,"signal",{value:new d,writable:!0,configurable:!0})}function h(){r(this,h),Object.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}"undefined"!=typeof Symbol&&Symbol.toStringTag&&(f.prototype[Symbol.toStringTag]="AbortController",d.prototype[Symbol.toStringTag]="AbortSignal"),n="undefined"!=typeof self?self:y,((u=n).__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL?(console.log("__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL=true is set, will force install polyfill"),1):"function"==typeof u.Request&&!u.Request.prototype.hasOwnProperty("signal")||!u.AbortController)&&(n.AbortController=f,n.AbortSignal=d)})?e.call(n,r,n,t):e)||(t.exports=e)}.call(this,r(26))},function(e,t){var n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==("undefined"==typeof window?"undefined":sd(window))&&(n=window)}e.exports=n},function(e,t,n){e.exports=n(28)()},function(e,t,n){"use strict";var i=n(29);function r(){}function o(){}o.resetWarningCache=r,e.exports=function(){function e(e,t,n,r,o,a){if(a!==i)throw(a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")).name="Invariant Violation",a}function t(){return e}var n={array:e.isRequired=e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:r};return n.PropTypes=n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";
/*!
 * Signature Pad v2.3.2
 * https://github.com/szimek/signature_pad
 *
 * Copyright 2017 Szymon Nowak
 * Released under the MIT license
 *
 * The main idea and some parts of the code (e.g. drawing variable width Bézier curve) are taken from:
 * http://corner.squareup.com/2012/07/smoother-signatures.html
 *
 * Implementation of interpolation using cubic Bézier curves is taken from:
 * http://benknowscode.wordpress.com/2012/09/14/path-interpolation-using-cubic-bezier-and-control-point-estimation-in-javascript
 *
 * Algorithm for approximated length of a Bézier curve is taken from:
 * http://www.lemoda.net/maths/bezier-length/index.html
 *
 */function c(e,t,n){this.x=e,this.y=t,this.time=n||(new Date).getTime()}function r(e,t,n,r){this.startPoint=e,this.control1=t,this.control2=n,this.endPoint=r}function d(e,t){var n,r,o,a,i,l,s,c,u=this;function p(){c=!1===o.leading?0:Date.now(),s=null,l=n.apply(a,i),s||(a=i=null)}this.velocityFilterWeight=(t=t||{}).velocityFilterWeight||.7,this.minWidth=t.minWidth||.5,this.maxWidth=t.maxWidth||2.5,this.throttle="throttle"in t?t.throttle:16,this.minDistance="minDistance"in t?t.minDistance:5,this.throttle?this._strokeMoveUpdate=(n=d.prototype._strokeUpdate,r=this.throttle,s=null,c=0,o={},function(){var e=Date.now(),t=r-(e-(c=!c&&!1===o.leading?e:c));return a=this,i=arguments,t<=0||r<t?(s&&(clearTimeout(s),s=null),c=e,l=n.apply(a,i),s||(a=i=null)):s||!1===o.trailing||(s=setTimeout(p,t)),l}):this._strokeMoveUpdate=d.prototype._strokeUpdate,this.dotSize=t.dotSize||function(){return(this.minWidth+this.maxWidth)/2},this.penColor=t.penColor||"black",this.backgroundColor=t.backgroundColor||"rgba(0,0,0,0)",this.onBegin=t.onBegin,this.onEnd=t.onEnd,this._canvas=e,this._ctx=e.getContext("2d"),this.clear(),this._handleMouseDown=function(e){1===e.which&&(u._mouseButtonDown=!0,u._strokeBegin(e))},this._handleMouseMove=function(e){u._mouseButtonDown&&u._strokeMoveUpdate(e)},this._handleMouseUp=function(e){1===e.which&&u._mouseButtonDown&&(u._mouseButtonDown=!1,u._strokeEnd(e))},this._handleTouchStart=function(e){1===e.targetTouches.length&&(e=e.changedTouches[0],u._strokeBegin(e))},this._handleTouchMove=function(e){e.preventDefault(),e=e.targetTouches[0],u._strokeMoveUpdate(e)},this._handleTouchEnd=function(e){e.target===u._canvas&&(e.preventDefault(),u._strokeEnd(e))},this.on()}n.r(t),c.prototype.velocityFrom=function(e){return this.time!==e.time?this.distanceTo(e)/(this.time-e.time):1},c.prototype.distanceTo=function(e){return Math.sqrt(Math.pow(this.x-e.x,2)+Math.pow(this.y-e.y,2))},c.prototype.equals=function(e){return this.x===e.x&&this.y===e.y&&this.time===e.time},r.prototype.length=function(){for(var e=0,t=void 0,n=void 0,r=0;r<=10;r+=1){var o,a=r/10,i=this._point(a,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),l=this._point(a,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);0<r&&(o=i-t,a=l-n,e+=Math.sqrt(o*o+a*a)),t=i,n=l}return e},r.prototype._point=function(e,t,n,r,o){return t*(1-e)*(1-e)*(1-e)+3*n*(1-e)*(1-e)*e+3*r*(1-e)*e*e+o*e*e*e},d.prototype.clear=function(){var e=this._ctx,t=this._canvas;e.fillStyle=this.backgroundColor,e.clearRect(0,0,t.width,t.height),e.fillRect(0,0,t.width,t.height),this._data=[],this._reset(),this._isEmpty=!0},d.prototype.fromDataURL=function(e){var t=this,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=new Image,o=n.ratio||window.devicePixelRatio||1,a=n.width||this._canvas.width/o,i=n.height||this._canvas.height/o;this._reset(),r.src=e,r.onload=function(){t._ctx.drawImage(r,0,0,a,i)},this._isEmpty=!1},d.prototype.toDataURL=function(e){var t;if("image/svg+xml"===e)return this._toSVG();for(var n=arguments.length,r=Array(1<n?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return(t=this._canvas).toDataURL.apply(t,[e].concat(r))},d.prototype.on=function(){this._handleMouseEvents(),this._handleTouchEvents()},d.prototype.off=function(){this._canvas.removeEventListener("mousedown",this._handleMouseDown),this._canvas.removeEventListener("mousemove",this._handleMouseMove),document.removeEventListener("mouseup",this._handleMouseUp),this._canvas.removeEventListener("touchstart",this._handleTouchStart),this._canvas.removeEventListener("touchmove",this._handleTouchMove),this._canvas.removeEventListener("touchend",this._handleTouchEnd)},d.prototype.isEmpty=function(){return this._isEmpty},d.prototype._strokeBegin=function(e){this._data.push([]),this._reset(),this._strokeUpdate(e),"function"==typeof this.onBegin&&this.onBegin(e)},d.prototype._strokeUpdate=function(e){var t=e.clientX,n=e.clientY,e=this._createPoint(t,n),t=(n=(t=this._data[this._data.length-1])&&t[t.length-1])&&e.distanceTo(n)<this.minDistance;n&&t||(t=(n=this._addPoint(e)).curve,n=n.widths,t&&n&&this._drawCurve(t,n.start,n.end),this._data[this._data.length-1].push({x:e.x,y:e.y,time:e.time,color:this.penColor}))},d.prototype._strokeEnd=function(e){var t,n=2<this.points.length,r=this.points[0];!n&&r&&this._drawDot(r),r&&(n=(t=this._data[this._data.length-1])[t.length-1],r.equals(n)||t.push({x:r.x,y:r.y,time:r.time,color:this.penColor})),"function"==typeof this.onEnd&&this.onEnd(e)},d.prototype._handleMouseEvents=function(){this._mouseButtonDown=!1,this._canvas.addEventListener("mousedown",this._handleMouseDown),this._canvas.addEventListener("mousemove",this._handleMouseMove),document.addEventListener("mouseup",this._handleMouseUp)},d.prototype._handleTouchEvents=function(){this._canvas.style.msTouchAction="none",this._canvas.style.touchAction="none",this._canvas.addEventListener("touchstart",this._handleTouchStart),this._canvas.addEventListener("touchmove",this._handleTouchMove),this._canvas.addEventListener("touchend",this._handleTouchEnd)},d.prototype._reset=function(){this.points=[],this._lastVelocity=0,this._lastWidth=(this.minWidth+this.maxWidth)/2,this._ctx.fillStyle=this.penColor},d.prototype._createPoint=function(e,t,n){var r=this._canvas.getBoundingClientRect();return new c(e-r.left,t-r.top,n||(new Date).getTime())},d.prototype._addPoint=function(e){var t=this.points;if(t.push(e),2<t.length){3===t.length&&t.unshift(t[0]);var n=this._calculateCurveControlPoints(t[0],t[1],t[2]).c2,e=this._calculateCurveControlPoints(t[1],t[2],t[3]).c1,n=new r(t[1],n,e,t[2]),e=this._calculateCurveWidths(n);return t.shift(),{curve:n,widths:e}}return{}},d.prototype._calculateCurveControlPoints=function(e,t,n){var r=e.x-t.x,o=e.y-t.y,a=t.x-n.x,i=t.y-n.y,l=(e.x+t.x)/2,s=(e.y+t.y)/2,e=(t.x+n.x)/2,n=(t.y+n.y)/2,o=Math.sqrt(r*r+o*o),i=Math.sqrt(a*a+i*i);return{c1:new c(l+(i=t.x-(e+(l-e)*(o=i/(o+i)))),s+(o=t.y-(n+(s-n)*o))),c2:new c(e+i,n+o)}},d.prototype._calculateCurveWidths=function(e){var t=e.startPoint,n=e.endPoint,e={start:null,end:null},n=this.velocityFilterWeight*n.velocityFrom(t)+(1-this.velocityFilterWeight)*this._lastVelocity,t=this._strokeWidth(n);return e.start=this._lastWidth,e.end=t,this._lastVelocity=n,this._lastWidth=t,e},d.prototype._strokeWidth=function(e){return Math.max(this.maxWidth/(e+1),this.minWidth)},d.prototype._drawPoint=function(e,t,n){var r=this._ctx;r.moveTo(e,t),r.arc(e,t,n,0,2*Math.PI,!1),this._isEmpty=!1},d.prototype._drawCurve=function(e,t,n){var r=this._ctx,o=n-t,a=Math.floor(e.length());r.beginPath();for(var i=0;i<a;i+=1){var l=i/a,s=l*l,c=s*l,u=1-l,p=u*u,d=p*u,f=d*e.startPoint.x;f+=3*p*l*e.control1.x,f+=3*u*s*e.control2.x,f+=c*e.endPoint.x,d*=e.startPoint.y,d+=3*p*l*e.control1.y,d+=3*u*s*e.control2.y,d+=c*e.endPoint.y,this._drawPoint(f,d,t+c*o)}r.closePath(),r.fill()},d.prototype._drawDot=function(e){var t=this._ctx,n="function"==typeof this.dotSize?this.dotSize():this.dotSize;t.beginPath(),this._drawPoint(e.x,e.y,n),t.closePath(),t.fill()},d.prototype._fromData=function(e,t,n){for(var r=0;r<e.length;r+=1){var o=e[r];if(1<o.length)for(var a=0;a<o.length;a+=1){var i=o[a],l=new c(i.x,i.y,i.time),s=i.color;0===a?(this.penColor=s,this._reset(),this._addPoint(l)):a!==o.length-1&&(l=(i=this._addPoint(l)).curve,i=i.widths,l&&i&&t(l,i,s))}else this._reset(),n(o[0])}},d.prototype._toSVG=function(){var r=this,e=this._data,t=this._canvas,n=Math.max(window.devicePixelRatio||1,1),o=t.width/n,n=t.height/n,a=document.createElementNS("http://www.w3.org/2000/svg","svg");if(a.setAttributeNS(null,"width",t.width),a.setAttributeNS(null,"height",t.height),this._fromData(e,function(e,t,n){var r=document.createElement("path");isNaN(e.control1.x)||isNaN(e.control1.y)||isNaN(e.control2.x)||isNaN(e.control2.y)||(e="M "+e.startPoint.x.toFixed(3)+","+e.startPoint.y.toFixed(3)+" C "+e.control1.x.toFixed(3)+","+e.control1.y.toFixed(3)+" "+e.control2.x.toFixed(3)+","+e.control2.y.toFixed(3)+" "+e.endPoint.x.toFixed(3)+","+e.endPoint.y.toFixed(3),r.setAttribute("d",e),r.setAttribute("stroke-width",(2.25*t.end).toFixed(3)),r.setAttribute("stroke",n),r.setAttribute("fill","none"),r.setAttribute("stroke-linecap","round"),a.appendChild(r))},function(e){var t=document.createElement("circle"),n="function"==typeof r.dotSize?r.dotSize():r.dotSize;t.setAttribute("r",n),t.setAttribute("cx",e.x),t.setAttribute("cy",e.y),t.setAttribute("fill",e.color),a.appendChild(t)}),o='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 '+o+" "+n+'" width="'+o+'" height="'+n+'">',void 0===(n=a.innerHTML)){var i=document.createElement("dummy"),l=a.childNodes;i.innerHTML="";for(var s=0;s<l.length;s+=1)i.appendChild(l[s].cloneNode(!0));n=i.innerHTML}return"data:image/svg+xml;base64,"+btoa(o+n+"</svg>")},d.prototype.fromData=function(e){var n=this;this.clear(),this._fromData(e,function(e,t){return n._drawCurve(e,t.start,t.end)},function(e){return n._drawDot(e)}),this._data=e},d.prototype.toData=function(){return this._data},t.default=d},function(e,t,n){function r(e){if(a[e])return a[e].exports;var t=a[e]={exports:{},id:e,loaded:!1};return o[e].call(t.exports,t,t.exports,r),t.loaded=!0,t.exports}var o,a;e.exports=(a={},r.m=o=[function(e,t){"use strict";function l(e,t,n,r){return r[4*(n*t+e)],r[4*(n*t+e)+1],r[4*(n*t+e)+2],r[4*(n*t+e)+3]}function s(e,t,n,r){for(var o=e?1:-1,a=e?0:n-1;e?a<n:-1<a;a+=o)for(var i=0;i<t;i++)if(l(i,a,t,r))return a;return null}function c(e,t,n,r){for(var o=e?1:-1,a=e?0:t-1;e?a<t:-1<a;a+=o)for(var i=0;i<n;i++)if(l(a,i,t,r))return a;return null}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.getContext("2d"),n=e.width,r=e.height,o=s(!0,n,r,l=t.getImageData(0,0,n,r).data),a=s(!1,n,r,l),i=c(!0,n,r,l),l=c(!1,n,r,l)-i+1,o=t.getImageData(i,o,l,a=a-o+1);return e.width=l,e.height=a,t.clearRect(0,0,l,a),t.putImageData(o,0,0),e}}],r.c=a,r.p="",r(0))},function(e,t,n){"use strict";n.r(t),n.d(t,"DWKitFormBuilder",function(){return Ip}),n.d(t,"DWKitForm",function(){return Hp}),n.d(t,"DWKitFormViewer",function(){return Zp}),n.d(t,"BaseEditControl",function(){return pi}),n.d(t,"SemanticCollectionEditor",function(){return rd}),n.d(t,"SemanticGridView",function(){return ld}),n.d(t,"isDefined",function(){return me}),n.d(t,"isNotEmptyString",function(){return he}),n.d(t,"isUndefined",function(){return fe});var c=n(0),U=n.n(c);function o(e){return(o="function"==typeof Symbol&&"symbol"==sd(Symbol.iterator)?function(e){return sd(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":sd(e)})(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d=n(8),l=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(s,c.Component);var n,r,l=(n=s,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=p(n),t=r?(t=p(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==o(t)&&"function"!=typeof t?u(e):t});function s(){var n;!function(e){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this);for(var e,t,r,o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return r=function(e,t){n.props.handleChange(n.props.row,e,t)},(t="handleChange")in(e=u(n=l.call.apply(l,[this].concat(a))))?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,n}return a(s.prototype,[{key:"shouldComponentUpdate",value:function(e){return!d(this.props,e)}}]),s}();function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=(r(m.prototype,[{key:"register",value:function(e,t){if(s.map[e])throw new Error("Component "+e+" already registered!");s.map[e]=t}},{key:"draw",value:function(e,t){var n=s.map[e];return n?n(t):(n=s.map["null-control"])({"data-buildertype":e,text:"".concat(e," is unsupported")})}}]),new m),f=s.register,K=s.draw;function m(){var e;!function(e){if(!(e instanceof m))throw new TypeError("Cannot call a class as a function")}(this),e={},"map"in this?Object.defineProperty(this,"map",{value:e,enumerable:!0,configurable:!0,writable:!0}):this.map=e}function h(e){return(h="function"==typeof Symbol&&"symbol"==sd(Symbol.iterator)?function(e){return sd(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":sd(e)})(e)}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var T=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(t,l);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=g(n),t=r?(t=g(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==h(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return y(t.prototype,[{key:"render",value:function(){return K("collection-checkbox",{me:this,props:this.props})}}]),t}();function v(e){return(v="function"==typeof Symbol&&"symbol"==sd(Symbol.iterator)?function(e){return sd(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":sd(e)})(e)}function V(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var F=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(a,c.Component);var n,r,o=(n=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=k(n),t=r?(t=k(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==v(t)&&"function"!=typeof t?E(e):t});function a(){var r;!function(e){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return C(E(r=o.call.apply(o,[this].concat(t))),"handleEvent",function(e){e.parameters||(e.parameters={}),e.parameters.row||(e.parameters.row=r.props.row),"onChange"===e.eventName?r.props.handleChange(r.props.row,e.syntheticEvent,e):r.props.handleEvent(e)}),C(E(r),"getAdditionalDataForControl",function(e,t,n){return(t=t||{}).row||(t.row=r.props.row),r.props.getAdditionalDataForControl(e,t,n)}),r}return V(a.prototype,[{key:"render",value:function(){return K("collection-custom-control",{getAdditionalDataForControl:this.getAdditionalDataForControl,handleEvent:this.handleEvent,props:this.props})}}]),a}();function _(e){return(_="function"==typeof Symbol&&"symbol"==sd(Symbol.iterator)?function(e){return sd(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":sd(e)})(e)}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var N=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(t,l);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=A(n),t=r?(t=A(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==_(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return O(t.prototype,[{key:"render",value:function(){return K("collection-date-time",{me:this,props:this.props})}}]),t}();function D(e){return(D="function"==typeof Symbol&&"symbol"==sd(Symbol.iterator)?function(e){return sd(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":sd(e)})(e)}function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function L(e){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var I=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(t,l);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=L(n),t=r?(t=L(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==D(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return x(t.prototype,[{key:"render",value:function(){return K("collection-dropdown",{me:this,props:this.props})}}]),t}();function R(e){return(R="function"==typeof Symbol&&"symbol"==sd(Symbol.iterator)?function(e){return sd(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":sd(e)})(e)}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function M(e,t){return(M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function B(e){return(B=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var W=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M(e,t)}(t,l);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=B(n),t=r?(t=B(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==R(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return j(t.prototype,[{key:"render",value:function(){return K("collection-input",{me:this,props:this.props})}}]),t}();function z(e){return(z="function"==typeof Symbol&&"symbol"==sd(Symbol.iterator)?function(e){return sd(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":sd(e)})(e)}function q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function G(e,t){return(G=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function H(e){return(H=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Q=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&G(e,t)}(t,l);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=H(n),t=r?(t=H(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==z(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return q(t.prototype,[{key:"render",value:function(){return K("collection-upload",{me:this,props:this.props})}}]),t}();function J(e){return(J="function"==typeof Symbol&&"symbol"==sd(Symbol.iterator)?function(e){return sd(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":sd(e)})(e)}function Y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function X(e,t){return(X=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Z(e){return(Z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ee=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&X(e,t)}(t,l);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Z(n),t=r?(t=Z(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==J(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return Y(t.prototype,[{key:"render",value:function(){return K("collection-camera",{me:this,props:this.props})}}]),t}();function te(e){return(te="function"==typeof Symbol&&"symbol"==sd(Symbol.iterator)?function(e){return sd(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":sd(e)})(e)}function ne(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function re(e,t){return(re=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function oe(e){return(oe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ae=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&re(e,t)}(t,l);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=oe(n),t=r?(t=oe(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==te(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return ne(t.prototype,[{key:"render",value:function(){return K("collection-signature",{me:this,props:this.props})}}]),t}();function ie(e){return(ie="function"==typeof Symbol&&"symbol"==sd(Symbol.iterator)?function(e){return sd(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":sd(e)})(e)}function le(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function se(e,t){return(se=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ce(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ue(e){return(ue=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var de=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&se(e,t)}(a,c.Component);var n,r,o=(n=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=ue(n),t=r?(t=ue(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==ie(t)&&"function"!=typeof t?ce(e):t});function a(){var r;!function(e){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return pe(ce(r=o.call.apply(o,[this].concat(t))),"onUpload",function(e,t){var n=ce(r),e={name:e.name,token:t.result.properties.Token,success:t.success,properties:t.result.properties};t.success?n.props.onChange&&n.props.onChange(null,{name:n.props.name,propertyName:n.props.propertyName,value:t.result.properties.Token,parameters:e}):n.props.onUploadFail&&n.props.onUploadFail(null,{name:n.props.name,propertyName:n.props.propertyName,message:t.result.message,details:t.result.details,success:!1})}),pe(ce(r),"onClear",function(e){var t=ce(r);t.props.onChange&&t.props.onChange(null,{name:t.props.name,propertyName:t.props.propertyName,value:null})}),r}return le(a.prototype,[{key:"render",value:function(){var e=this.onClear,t=this.onUpload;return K("camera",{handleChange:this.handleChange,me:this,onClear:e,onUpload:t,props:this.props,state:this.state})}}]),a}();function fe(e){return void 0===e}function me(e){return!fe(e)&&null!==e}function he(e){return me(e)&&""!==e}function ye(e){return(ye="function"==typeof Symbol&&"symbol"==sd(Symbol.iterator)?function(e){return sd(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":sd(e)})(e)}function be(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ge(e,t){return(ge=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ve(e){return(ve=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ve=n(8),we=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ge(e,t)}(o,c.Component);var n,r,t=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=ve(n),t=r?(t=ve(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==ye(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function o(e){return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),(e=t.call(this,e)).state={},e}return be(o.prototype,[{key:"componentDidMount",value:function(){this.redrawChart()}},{key:"shouldComponentUpdate",value:function(e){return!Ve(this.props,e)}},{key:"componentDidUpdate",value:function(){this.redrawChart()}},{key:"componentWillUnmount",value:function(){me(this.state.chart)&&this.state.chart.destroy()}},{key:"redrawChart",value:function(){return K("chart-view-redraw-chart",{chartData:this.getChartData(),divId:this.getDivId(),props:this.props,state:this.state})}},{key:"getDivId",value:function(){return"dwkit-chart-"+this.props.name}},{key:"getChartData",value:function(){var e=[];try{e="string"==typeof this.props.value?JSON.parse(this.props.value):this.props.value}catch(e){console.log("Can't parse to JSON",this.props.value,this)}if(this.props.datasetCustom){var t=this,n=[];return{labels:n=me(t.props.dataLabels)?t.props.dataLabels.split(","):n,datasets:[{label:t.props.datasetLabel,steppedLine:t.props.datasetSteppedLine,borderColor:t.props.datasetBorderColor,backgroundColor:t.props.datasetBackgroundColor,fill:t.props.datasetFill,borderWidth:t.props.datasetBorderWidth,data:e}]}}return this.copyObj(e)}},{key:"copyObj",value:function(e){if(null==e||"object"!=ye(e))return e;var t,n=e.constructor();for(t in e)e.hasOwnProperty(t)&&(n[t]=this.copyObj(e[t]));return n}},{key:"render",value:function(){return K("chart-view",{divId:this.getDivId(),props:this.props,state:this.state})}}]),o}(),Ee=n(2),ke=n.n(Ee),Ce=n(9),_e=n.n(Ce);function Oe(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function Se(e){return(Se="function"==typeof Symbol&&"symbol"==sd(Symbol.iterator)?function(e){return sd(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":sd(e)})(e)}function Ae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function De(e,t){return(De=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function xe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pe(e){return(Pe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Le(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Re=n(8),je=n(10),Te=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&De(e,t)}(a,c.Component);var e,t,n,r,o=(n=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Pe(n),t=r?(t=Pe(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Se(t)&&"function"!=typeof t?xe(e):t});function a(e){var u;return function(e){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this),Le(xe(u=o.call(this,e)),"btnAdd",function(){var e=fe(u.props.defaultrow)?{}:u.props.defaultrow;e.__id="CLIENT_"+_e.a.v1(),u.fillDefaultValues(e,u.props.columns,u.props.placeholders),u.state.data.push(e),u.props.handleEvent&&u.props.handleEvent({key:u.props.name,propertyName:u.props.propertyName,eventName:"onAdd",parameters:{rowIdx:u.state.data.length-1,row:e}}),u.sendChangesToParent()}),Le(xe(u),"handleChange",function(e,t,n){var r=n.name,o=n.propertyName,a=n.value,i=n.checked,l=n.additionalValues;if(u.props.handleEvent||u.props.onChange){var s=o||r;if(fe(a)&&me(i)?e[s]=i:e[s]=a,"object"==Se(l))for(var c in l)e[s+"_"+c]=l[c];u.sendChangesToParent(),t&&t.preventDefault?t.preventDefault():u.forceUpdate()}}),u.state={expanded:{},data:[]},u}return t=[{key:"getDerivedStateFromProps",value:function(e,t){var n=null;return Re(t.originalValue,e.value)||((n={}).originalValue=je(e.value),e=null==e.value?[]:e.value,Array.isArray(e)?(n.data=je(e),n.stringmode=!1):(n.data=e.length?ke.a.parse(e):[],n.stringmode=!0)),n}}],Ae((e=a).prototype,[{key:"applyCollapseAll",value:function(e){for(var t in e)fe(this.state.expanded[t])&&(this.state.expanded[t]=!1)}},{key:"getFilteredItems",value:function(e,t){return void 0===e?[]:void 0!==t?e.filter(function(e){return t.IsRowMatched(e)}):e}},{key:"btnDelete",value:function(e,t){var n;(this.props.handleEvent||this.props.onChange)&&(n=(t=void 0===t?this.state.data:t)[e],t.splice(e,1),this.props.handleEvent&&this.props.handleEvent({key:this.props.name,propertyName:this.props.propertyName,eventName:"onDelete",parameters:{rowIdx:e,row:n}}),this.sendChangesToParent())}},{key:"btnAddChild",value:function(e,t){var n=(t=void 0===t?fe(this.state.data)?[]:this.state.data:t)[e];(e=fe(this.props.defaultrow)?{}:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Oe(Object(n),!0).forEach(function(e){Le(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Oe(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},this.props.defaultrow)).__id="CLIENT_"+_e.a.v1(),this.fillDefaultValues(e,this.props.columns,this.props.placeholders),this.props.parentIdField?(e[this.props.parentIdField]=n[this.props.idField]||n.__id,t.push(e)):(Array.isArray(n[this.props.childrenField])||(n[this.props.childrenField]=[]),n[this.props.childrenField].push(e)),this.props.handleEvent&&this.props.handleEvent({key:this.props.name,propertyName:this.props.propertyName,eventName:"onAddChild",parameters:{rowIdx:t.length-1,row:e}}),this.sendChangesToParent()}},{key:"fillDefaultValues",value:function(e,t,n){if(t&&n)for(var r=0;r<t.length;r++){var o=void 0,a=n[o="object"===Se(t[r])?t[r].key:t[r]];Array.isArray(a)&&0<a.length&&(a=a[0])&&(a.propertyName&&(o=a.propertyName),a.defaultValue&&(e[o]=a.defaultValue))}}},{key:"copyForParentId",value:function(t,n,e){var r=this,o=je(n);return o.__id="CLIENT_"+_e.a.v1(),delete o[this.props.idField],o[this.props.parentIdField]=e,t.filter(function(e){return e[r.props.parentIdField]===(n[r.props.idField]||n.__id)}).forEach(function(e){return r.copyForParentId(t,e,o.__id)}),t.push(o),o}},{key:"resetIdsRecursive",value:function(e){var t=this;e.__id="CLIENT_"+_e.a.v1(),delete e[this.props.idField],Array.isArray(e[this.props.childrenField])&&e[this.props.childrenField].forEach(function(e){return t.resetIdsRecursive(e)})}},{key:"btnCopy",value:function(e,t){var n,e=(t=t||this.state.data)[e];this.props.parentIdField&&e.hasOwnProperty(this.props.parentIdField)?n=this.copyForParentId(t,e,e[this.props.parentIdField]):(n=je(e),this.resetIdsRecursive(n),t.push(n)),this.props.handleEvent&&this.props.handleEvent({key:this.props.name,propertyName:this.props.propertyName,eventName:"onCopy",parameters:{rowIdx:t.length-1,row:n}}),this.sendChangesToParent()}},{key:"onExpand",value:function(e,t){this.state.expanded[e]=t,this.forceUpdate()}},{key:"onDragOver",value:function(e){e.preventDefault()}},{key:"onDragStart",value:function(e,t,n){n.dataTransfer.setData("index",e);var r=n.target;(r=(r=r&&r.parentElement)&&r.parentElement)&&n.dataTransfer.setDragImage($(n.target).parent().parent()[0],0,0),this.state.dragElementIndex=e,this.state.dragRows=t}},{key:"onDragEnd",value:function(e,t){this.state.dragElementIndex=void 0,this.state.dragRows=void 0}},{key:"onDrop",value:function(e,t,n){var r=this.state.dragElementIndex,o=this.state.dragRows,e=e,t=t;return me(r)&&(e!==r&&(void 0!==this.props.parentIdField&&""!==this.props.parentIdField&&(o[r][this.props.parentIdField]=t[e][this.props.parentIdField]),t.splice(e,0,o.splice(r,1)[0]),this.sendChangesToParent()),n.preventDefault()),!1}},{key:"sendChangesToParent",value:function(){var e=this.state.data,e=this.state.stringmode?e.length?ke.a.stringify(e):[]:e;this.props.buildermode||(this.props.onChange?this.props.onChange(null,{name:this.props.name,propertyName:this.props.propertyName,value:e}):this.props.handleEvent({syntheticEvent:null,key:this.props.name,eventName:"onChange",name:this.props.name,value:e,propertyName:this.props.propertyName}))}},{key:"render",value:function(){return K("collection-editor",{applyCollapseAll:this.applyCollapseAll,btnAdd:this.btnAdd,btnAddChild:this.btnAddChild,btnCopy:this.btnCopy,btnDelete:this.btnDelete,getFilteredItems:this.getFilteredItems,handleChange:this.handleChange,me:this,onExpand:this.onExpand,onDragStart:this.onDragStart,onDragEnd:this.onDragEnd,onDragOver:this.onDragOver,onDrop:this.onDrop,props:this.props,state:this.state})}}]),Ae(e,t),a}();function Fe(e){return(Fe="function"==typeof Symbol&&"symbol"==sd(Symbol.iterator)?function(e){return sd(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":sd(e)})(e)}function Ne(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ie(e,t){return(Ie=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Me(e){return(Me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Be=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ie(e,t)}(o,c.Component);var n,r,t=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Me(n),t=r?(t=Me(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Fe(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function o(e){return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),(e=t.call(this,e)).state={},e}return Ne(o.prototype,[{key:"render",value:function(){return K("container",{props:this.props})}}]),o}(),We=n(6),Ue=n.n(We);function Ke(e){return window.DWKitLang&&window.DWKitLang.common&&window.DWKitLang.common.dateFormat?window.DWKitLang.common.dateFormat:e}function ze(e){return window.DWKitLang&&window.DWKitLang.common&&window.DWKitLang.common.timeFormat?window.DWKitLang.common.timeFormat:e}function qe(){if(window.DWKitFormSettings)return window.DWKitFormSettings.externalControlList}function Ge(){if(window.DWKitAdminLang&&window.DWKitAdminLang.workflowbar)return window.DWKitAdminLang.workflowbar}function He(e){return(He="function"==typeof Symbol&&"symbol"==sd(Symbol.iterator)?function(e){return sd(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":sd(e)})(e)}function Qe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Je(e,t){return(Je=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ye(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $e(e){return($e=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Xe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ze=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Je(e,t)}(o,c.Component);var n,r,t=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=$e(n),t=r?(t=$e(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==He(t)&&"function"!=typeof t?Ye(e):t});function o(e){var n;return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),Xe(Ye(n=t.call(this,e)),"handleChangeRaw",function(e){e=Ue()(e.target.value,n.state.dateFormat),n.onChange(e)}),Xe(Ye(n),"onChange",function(e){var t;n.props.readOnly||me(n.props.onChange)&&((t=null)!=e&&me(e)&&(t="date"===n.props.type?e.format("YYYY-MM-DD"):e.toJSON()),n.props.onChange(null,{propertyName:n.props.propertyName,name:n.props.name,value:t}))}),n.state={},n}return Qe(o.prototype,[{key:"render",value:function(){var e=this.props.type,t=this.props.value?Ue()(this.props.value):void 0;t&&!t.isValid()&&(t=void 0);var n={style:this.props.style,className:this.props.className,onBlur:this.props.onBlur,onClick:this.props.onClick,onFocus:this.props.onFocus,onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave},r={};return"date"===e?r.dateFormat=Ke("DD.MM.YYYY"):"time"===e?(r.showTimeSelect=!0,r.showTimeSelectOnly=!0,r.timeIntervals=10,r.dateFormat=ze(),r.dateFormat||(r.dateFormat="HH:mm",r.timeFormat="HH:mm")):"datetime"===e&&(r.showTimeSelect=!0,Ke()?r.dateFormat=Ke()+" "+ze("HH:ss"):(r.dateFormat="DD.MM.YYYY HH:mm",r.timeFormat="HH:mm")),this.state.dateFormat=r.dateFormat,K("date-picker",{controlProps:n,date:t,datePickerProps:r,handleChangeRaw:this.handleChangeRaw,onChange:this.onChange,state:this.state,placeholder:this.placeholder,props:this.props})}}]),o}();function et(e){return(et="function"==typeof Symbol&&"symbol"==sd(Symbol.iterator)?function(e){return sd(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":sd(e)})(e)}function tt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nt(e,t){return(nt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function rt(e){return(rt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ot=n(8),at=n(10),it=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nt(e,t)}(a,c.Component);var e,t,n,r,o=(n=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=rt(n),t=r?(t=rt(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==et(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function a(e){var t;return function(e){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this),(t=o.call(this,e)).state={options:[],value:t.props.value},t.pageSize=e.pageSize,t.pageSize||(t.pageSize=100),t}return t=[{key:"getDerivedStateFromProps",value:function(e,t){return e.dataModel!==t.dataModel?{getAdditionalDataForControl:e.getAdditionalDataForControl,dataModel:e.dataModel,needFetch:!0,needValueFetch:!0,filters:e.filters}:e.paging&&e.value!==t.value&&void 0!==e.value?{needValueFetch:!0,value:e.value}:e.filters!=t.filters?{needFetch:!0,filters:e.filters}:null}}],tt((e=a).prototype,[{key:"componentDidMount",value:function(){this.GetAdditionalData()}},{key:"shouldComponentUpdate",value:function(e,t){return!ot(this.state,t)||!ot(this.props,e)}},{key:"componentDidUpdate",value:function(e,t){this.GetAdditionalData()}},{key:"GetAdditionalData",value:function(){var n,e,r=this;void 0===this.state.dataModel?void 0!==console&&!0===this.props.buildermode&&console.log("Dictionary: Set DataModel label!"):void 0===this.state.getAdditionalDataForControl?void 0!==console&&!0===this.props.buildermode&&console.log("Dictionary: For paging on server need to set getAdditionalDataForControl func!"):this.state.needFetch?(e={model:(n=this).state.dataModel,filters:this.state.filters},this.props.paging&&(e.startIndex=0,e.pageSize=this.pageSize),this.state.isFetching=!0,this.state.needFetch=!1,this.state.getAdditionalDataForControl(this,e,function(e){var t=e.items,e=e.rowsCount;n.setData({items:t,rowsCount:e,page:0},!0),r.state.needValueFetch&&(r.state.needValueFetch=!1,r.loadCurrentValue())})):this.state.needValueFetch&&(this.state.needValueFetch=!1,this.loadCurrentValue())}},{key:"render",value:function(){var e,t=this,n={};for(e in this.props)"parentIsForm"!==e&&"getAdditionalDataForControl"!==e&&"dataModel"!==e&&"clearable"!==e&&"columns"!==e&&"paging"!==e&&"pageSize"!==e&&"handleEvent"!==e&&"propertyName"!==e&&"textAsValue"!==e&&(n[e]=this.props[e]);return this.props.readOnly&&(n.disabled=!0),n.options=this.state.options,n.onChange=this.onChange.bind(this),this.props.paging&&(n.onSearchChange=this.handleSearchChange.bind(this),n.onClose=this.onClose.bind(this),null!=this.state.open&&(this.state.open?n.open=!0:(n.open=!1,this.state.open=void 0,setTimeout(function(){t.forceUpdate()})))),n.multiple&&(void 0!==n.value&&null!==n.value||(n.value=[]),Array.isArray(n.value)||(n.value=this.getArrayValues(n.value))),n.loading=this.state.isFetching,n.searchQuery=this.state.searchQuery,K("dictionary",{propsControl:n,props:this.props})}},{key:"onChange",value:function(e,t){var n,r=this,o=(t.name,t.value),t=!1;this.props.multiple?Array.isArray(o)&&(n=!1,o.forEach(function(e){"string"==typeof e&&0===e.lastIndexOf("__load",0)&&(n=!0)}),n&&(t=!0)):"string"==typeof o&&0===o.lastIndexOf("__load",0)&&(t=!0),t?(this.state.open=!0,this.setState({isFetching:!0}),this.loadNextPage(),o=this.props.value):me(this.state.open)&&(this.state.open=!1);var a=null;this.props.textAsValue||(Array.isArray(o)?(a=new Array,o.forEach(function(t){var e;"string"!=typeof t||0!==t.lastIndexOf("__load",0)||0<(e=r.state.options.filter(function(e){return e.key===t})).length&&a.push(e[0].values)})):0<(t=this.state.options.filter(function(e){return e.key===o})).length?a=t[0].values:(t=this.getCollumnsForFilter())&&(a={},t.split(",").forEach(function(e){a[e]=null}))),this.props.handleEvent&&this.props.handleEvent({syntheticEvent:e,key:this.props.name,eventName:"onChange",name:this.props.name,propertyName:this.props.propertyName,value:o,additionalValues:a})}},{key:"onClose",value:function(){1!=this.state.open&&this.state.searchQuery?(this.state.isFetching=!0,this.state.searchQuery="",this.state.lastLoadPage=-1,this.loadNextPage(!0)):!1===this.state.open&&this.forceUpdate()}},{key:"handleSearchChange",value:function(e,t){var n=t.searchQuery,r=this;r.searchTimeout&&clearTimeout(r.searchTimeout),r.searchTimeout=setTimeout(function(){r.searchTimeout=void 0,r.setState({isFetching:!0,searchQuery:n,lastLoadPage:-1}),r.loadNextPage(!0)},100)}},{key:"loadNextPage",value:function(n){var r=this,e={model:this.state.dataModel},o=this.state.lastLoadPage+1;r.state.searchQuery&&(e.filters=[{column:this.getCollumnsForFilter(),term:"like",value:r.state.searchQuery}]),e.startIndex=o*this.pageSize,e.pageSize=this.pageSize,this.state.getAdditionalDataForControl(this,e,function(e){var t=e.items,e=e.rowsCount;r.setData({items:t,rowsCount:e,page:o},n),n&&r.loadCurrentValue()})}},{key:"setData",value:function(e,t){var n,r=e.items,o=e.rowsCount,e=e.page;if(t){if(o>(n=at(r)).length&&(u=(null!=this.state.searchQuery?this.state.searchQuery:"")+"...",n.push({key:"__load",value:"__load",text:u})),this.props.clearable&&!this.props.multiple&&n.unshift({key:"__reset",value:"",text:"   "}),this.props.multiple)for(var a=this.getArrayValues(this.props.value),i=0;i<a.length;i++)for(var l=a[i],s=0;s<this.state.options.length;s++){var c=this.state.options[s];l==c.value&&n.unshift(c)}}else{var u=void 0;0<(n=this.state.options).length&&"__load"===n[n.length-1].key&&((u=n.pop()).value="__load_"+e);for(var p=0;p<r.length;p++){for(var d=r[p],f=0;f<n.length;f++)if(n[f].key===d.key){n.splice(f,1);break}n.push(d)}void 0!==u&&o>n.length&&n.push(u)}this.props.textAsValue&&n.forEach(function(e){"__load"!=e.key&&(e.value=e.text)}),this.setState({needFetch:!1,options:n,rowsCount:o,isFetching:!1,lastLoadPage:e}),this.props.handleEvent&&this.props.handleEvent({syntheticEvent:void 0,key:this.props.name,eventName:"onDataReceived",name:this.props.name,propertyName:this.props.propertyName,value:this.props.value,parameters:{options:n}})}},{key:"getArrayValues",value:function(e){var t,e=e;if(!Array.isArray(e)){try{t=JSON.parse(e)}catch(e){}e=t=Array.isArray(t)?t:[e]}return e}},{key:"loadCurrentValue",value:function(){var t=this;if(this.props.value)if(this.props.multiple){for(var n,e=this.getArrayValues(this.props.value),r=[],o=0;o<e.length;o++){for(var a=e[o],i=!1,l=0;l<this.state.options.length;l++)if(this.state.options[l].value==a){i=!0;break}i||r.push(a)}0<r.length&&(this.props.textAsValue?(n=this.state.options,r.forEach(function(e){n.push({value:e,text:e})})):((s={model:this.state.dataModel}).filters=[{column:"__id",term:"in",value:r}],this.state.isFetching=!0,this.state.getAdditionalDataForControl(this,s,function(e){e=e.items,t.addAdditionalOptions(e)})))}else{for(var s,c=!1,u=0;u<this.state.options.length;u++)if(this.state.options[u].value==this.props.value){c=!0;break}c||(this.props.textAsValue?this.state.options.push({value:t.props.value,text:t.props.value}):((s={model:this.state.dataModel}).filters=[{column:"__id",term:"=",value:t.props.value}],this.state.isFetching=!0,this.state.getAdditionalDataForControl(this,s,function(e){e=e.items,t.addAdditionalOptions(e)})))}}},{key:"addAdditionalOptions",value:function(e){if(this.state.isFetching=!1,Array.isArray(e)&&e.length){for(var t=this.state.options,n=e.length-1;0<=n;n--){for(var r=!1,o=0;o<t.length;o++)if(t[o].key==e[n].key){r=!0;break}r||t.unshift(e[n])}this.forceUpdate()}}},{key:"getCollumnsForFilter",value:function(){if(this.props.columns){var e=new RegExp(" asc","gi"),t=this.props.columns.replace(e,""),e=new RegExp(" desc","gi"),t=t.replace(e,"");return e=new RegExp(" ","gi"),t.replace(e,"")}}}]),tt(e,t),a}();function lt(e){return(lt="function"==typeof Symbol&&"symbol"==sd(Symbol.iterator)?function(e){return sd(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":sd(e)})(e)}function st(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ct(e,t){return(ct=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ut(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pt(e){return(pt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function dt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ft=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ct(e,t)}(o,c.Component);var n,r,t=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=pt(n),t=r?(t=pt(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==lt(t)&&"function"!=typeof t?ut(e):t});function o(e){var n;return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),dt(ut(n=t.call(this,e)),"onChange",function(e,t){t.name,t=t.value,1!=n.state.opendialog?me(n.props.handleEvent)&&n.props.handleEvent({e:e,key:n.props.name,propertyName:n.props.propertyName,eventName:"onItemClick",parameters:{target:t}}):n.state.opendialog=!1}),dt(ut(n),"onMouseDown",function(e){n.state.opendialog=!Boolean(n.state.opendialog)}),n.state={},n}return st(o.prototype,[{key:"render",value:function(){var e,r={};for(e in this.props)"imageUrl"!==e&&"defaultValue"!==e&&"value"!==e&&"handleEvent"!==e&&"items"!==e&&"propertyName"!==e&&(r[e]=this.props[e]);return r.options=[],this.props.items.forEach(function(e){var t=!1;if(void 0!==e.visibleCondition&&null!==e.visibleCondition&&""!==e.visibleCondition){var n="return "+e.visibleCondition;try{new Function("",n)()||(t=!0)}catch(e){}}t||r.options.push({value:e.target,text:e.title,target:e.target})}),r.value="",r.onChange=this.onChange,K("dropdown-trigger",{controlProps:r,onMouseDown:this.onMouseDown,props:this.props})}}]),o}();function mt(e){return(mt="function"==typeof Symbol&&"symbol"==sd(Symbol.iterator)?function(e){return sd(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":sd(e)})(e)}function ht(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yt(e,t){return(yt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function bt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gt(e){return(gt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var vt=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yt(e,t)}(a,c.Component);var n,r,o=(n=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=gt(n),t=r?(t=gt(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==mt(t)&&"function"!=typeof t?bt(e):t});function a(e){var i,t,n,r;return function(e){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this),r=function(e,t){var n,r=i.props.additionalParams.handleEvent,o=i.props.onSuccess,a=i.props.onFail;(r||o||a)&&(t.success?(n={name:e.name,size:e.size,token:t.result.properties.Token,success:t.success,properties:t.result.properties},o?o(i.props.name,i.props.propertyName,n):r&&r({key:i.props.name,eventName:"success",name:i.props.name,propertyName:i.props.propertyName,value:t.message,parameters:n})):(t={name:e.name,size:e.size,message:t.message,success:t.success,details:t.details},a?a(i.props.name,i.props.propertyName,t):r&&r({key:i.props.name,eventName:"fail",name:i.props.name,propertyName:i.props.propertyName,parameters:t})),i.props.addRemoveLinks&&setTimeout(function(){e._removeLink.click()},500))},(n="fileUploadSuccess")in(t=bt(i=o.call(this,e)))?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,i.state={commands:e.commands,states:e.states},i}return ht(a.prototype,[{key:"componentDidMount",value:function(){this.isMount=!0}},{key:"componentWillUnmount",value:function(){this.isMount=!1}},{key:"render",value:function(){var e=this.props.additionalParams.parentItem,t=void 0;this.props.iconFiletypes&&(o=this.props.iconFiletypes.split(","),Array.isArray(o)&&0<o.length&&(t=[],o.forEach(function(e){t.push(e.trim())})));var n={addRemoveLinks:this.props.addRemoveLinks,autoProcessQueue:this.props.autoProcessQueue&&me(this.props.postUrl)},r={iconFiletypes:t,showFiletypeIcon:this.props.showFiletypeIcon,postUrl:fe(this.props.postUrl)?"no-url":this.props.postUrl},o={success:this.fileUploadSuccess};return K("dropzone",{componentConfig:r,djsConfig:n,eventHandlers:o,isForm:this.isForm(e),props:this.props})}},{key:"isForm",value:function(e){return e&&("form"===e["data-buildertype"]||"formgroup"===e["data-buildertype"])}},{key:"getEvents",value:function(){return["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","removedfile","thumbnail","error","processing","uploadprogress","sending","success","complete","canceled","maxfilesreached","maxfilesexceeded","processingmultiple","sendingmultiple","successmultiple","completemultiple","canceledmultiple","totaluploadprogress","reset","queuecompleted"]}}]),a}();function Vt(e){return(Vt="function"==typeof Symbol&&"symbol"==sd(Symbol.iterator)?function(e){return sd(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":sd(e)})(e)}function wt(e){return function(e){if(Array.isArray(e))return Et(e)}(e)||function(){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}()||function(e){if(e){if("string"==typeof e)return Et(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Et(e,void 0):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Et(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function kt(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function Ct(r){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?kt(Object(o),!0).forEach(function(e){var t,n=r;e=o[t=e],t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):kt(Object(o)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))})}return r}function _t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ot(e,t){return(Ot=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function St(e){return(St=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var At=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ot(e,t)}(o,c.Component);var n,r,t=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=St(n),t=r?(t=St(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Vt(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function o(e){var n;return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),(n=t.call(this,e)).state={},n.props.events.forEach(function(e){var t=n.props.data[e]||{triggers:[]};(fe(t)||t.actions||t.parameters||t.targets||fe(t.triggers[0]))&&(t=n.props.data[e]={active:t.active||!1,triggers:[{actions:t.actions||[],parameters:t.parameters||[{name:"",value:""}],targets:t.targets||[]}]},n.handleChange(e,{},{name:"triggers",checked:t.active||!1,value:t.triggers}))}),n}return _t(o.prototype,[{key:"render",value:function(){var r=[];Array.isArray(this.props.actions)&&this.props.actions.forEach(function(e){"string"==typeof e?r.push({text:e,value:e}):r.push(Ct(Ct({},e),{},{value:e.text}))});var n=this.props.data,e=this.props.events,o=wt(this.props.targets);return e.forEach(function(e){var t;me(n)&&(t=n[e])&&t.triggers&&Array.isArray(t.triggers)&&t.triggers.forEach(function(e){e.actions&&e.actions.forEach(function(e){for(var t=!1,n=0;n<r.length;n++)if(e==r[n].value){t=!0;break}t||r.push({text:e,value:e})}),e.targets&&e.targets.forEach(function(e){for(var t=!1,n=0;n<o.length;n++)if(e===o[n].value){t=!0;break}t||o.push({text:e,value:e})})})}),K("events-editor",{actionOptions:[].concat(r),targetOptions:wt(o),items:this.items,me:this,props:this.props})}},{key:"initNewTrigger",value:function(e){var t=this.props.data;t&&(t[e]||(t[e]={}),fe((t=t[e]).triggers)&&(t.triggers=[]),t.triggers.push({actions:[],targets:[],parameters:[{name:"",value:""}]}),this.handleChange(e,{},{name:"triggers",checked:t.active||!1,value:t.triggers}))}},{key:"handleChange",value:function(e,t,n){var r=n.name,o=n.value,a=n.checked;fe(n=this.props.data[e])&&(this.props.data[e]=n={triggers:[]}),fe(o)&&me(a)?n[r]=a:n[r]=o,me(this.props.onChange)&&this.props.onChange(t,{name:this.props.name,value:this.props.data})}},{key:"actionsOnAddItem",value:function(e,t){t=t.value,me(this.props.onAdditionActions)&&this.props.onAdditionActions(e,{value:t})}}]),o}();function Dt(e){return(Dt="function"==typeof Symbol&&"symbol"==sd(Symbol.iterator)?function(e){return sd(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":sd(e)})(e)}function xt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Pt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Lt(e,t){return(Lt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Rt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jt(e){return(jt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Tt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ft=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Lt(e,t)}(a,c.Component);var n,r,o=(n=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=jt(n),t=r?(t=jt(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Dt(t)&&"function"!=typeof t?Rt(e):t});function a(){var r;!function(e){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Tt(Rt(r=o.call.apply(o,[this].concat(t))),"onDropzoneUploadSuccess",function(e,t,n){r.onFileUploaded(n)}),Tt(Rt(r),"onDropzoneUploadFail",function(e,t,n){r.onFail(n)}),Tt(Rt(r),"onCollectionEditorChange",function(e){var t=e.eventName,n=e.parameters,e=e.value;"onDelete"===t&&r.props.additionalParams.handleEvent({key:r.props.name,propertyName:r.props.propertyName,eventName:t,parameters:n}),"onChange"===t&&r.props.additionalParams.handleEvent({syntheticEvent:null,key:r.props.name,eventName:t,name:r.props.name,value:e,propertyName:r.props.propertyName})}),Tt(Rt(r),"onUploadChange",function(e,t){t=t.parameters,r.onFileUploaded(t)}),Tt(Rt(r),"onUploadFail",function(e,t){r.onFail(t)}),Tt(Rt(r),"nameGetter",function(e){return e[r.props.columns.find(function(e){return"Name"===e.property}).field]}),Tt(Rt(r),"contentTypeGetter",function(e){return e[r.props.columns.find(function(e){return"ContentType"===e.property}).field]}),r}return Pt(a.prototype,[{key:"onFileUploaded",value:function(e){var t,n=this.props.value?function(e){if(Array.isArray(e))return xt(e)}(t=this.props.value)||function(){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}()||function(e){if(e){if("string"==typeof e)return xt(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?xt(e,void 0):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}():[],r=e.properties,o={__id:"CLIENT_"+_e.a.v1()};this.props.columns.filter(function(e){return e.field}).forEach(function(e){o[e.field]=r[e.property]}),n.push(o),this.props.additionalParams.handleEvent({syntheticEvent:null,key:this.props.name,eventName:"onChange",name:this.props.name,value:n,propertyName:this.props.propertyName}),this.props.additionalParams.handleEvent({syntheticEvent:null,key:this.props.name,eventName:"onUploadSuccess",name:this.props.name,parameters:e,propertyName:this.props.propertyName})}},{key:"onFail",value:function(e){this.props.additionalParams.handleEvent({syntheticEvent:null,key:this.props.name,eventName:"onUploadFail",name:this.props.name,parameters:e,propertyName:this.props.propertyName})}},{key:"render",value:function(){var n=this,r=[];this.props.columns.filter(function(e){return e.showcolumn}).forEach(function(e){var t={key:e.field,name:e.title,control:e.control};"Token"===e.property&&(t.additionalData={customNameGetter:n.nameGetter,customContentTypeGetter:n.contentTypeGetter}),r.push(t)});var e={readOnly:this.props.readOnly,value:this.props.value,idField:this.props.idField,downloadUrl:this.props.downloadUrl,columns:r,handleEvent:this.onCollectionEditorChange};return K("files",{editorProps:e,onDropzoneUploadSuccess:this.onDropzoneUploadSuccess,onDropzoneUploadFail:this.onDropzoneUploadFail,onUploadChange:this.onUploadChange,onUploadFail:this.onUploadFail,props:this.props})}}]),a}();function Nt(e){return(Nt="function"==typeof Symbol&&"symbol"==sd(Symbol.iterator)?function(e){return sd(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":sd(e)})(e)}function It(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Mt(e,t){return(Mt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Bt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Wt(e){return(Wt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ut=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Mt(e,t)}(a,c.Component);var n,r,o=(n=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Wt(n),t=r?(t=Wt(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Nt(t)&&"function"!=typeof t?Bt(e):t});function a(e){var n,t,r;return function(e){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this),n=o.call(this,e),r=function(e){var t;n.props.buildermode?(t=n.props["data-panes"],Array.isArray(t)&&t.forEach(function(t){e.forEach(function(e){t.psid==e.i&&(t.x=e.x,t.y=e.y,t.w=e.w,t.h=e.h)})})):(n.props.draggable||n.props.resizable)&&n.setCookie(window.location.pathname+"_"+n.props.name,JSON.stringify(e)),me(n.props.handleEvent)&&n.props.handleEvent({undefined:void 0,key:n.props.name,eventName:"onLayoutChange",parameters:{layout:e}})},(e="onLayoutChange")in(t=Bt(n))?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,n.state={},n}return It(a.prototype,[{key:"render",value:function(){return K("grid-layout",{getCookie:this.getCookie,setCookie:this.setCookie,me:this,onLayoutChange:this.onLayoutChange,props:this.props})}},{key:"getCookie",value:function(e){return(e=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)")))?decodeURIComponent(e[1]):void 0}},{key:"setCookie",value:function(e,t,n){var r,o=(n=n||{}).expires;"number"==typeof o&&o&&((r=new Date).setTime(r.getTime()+1e3*o),o=n.expires=r),o&&o.toUTCString&&(n.expires=o.toUTCString());var a,i=e+"="+(t=encodeURIComponent(t));for(a in n){i+="; "+a;var l=n[a];!0!==l&&(i+="="+l)}document.cookie=i}}]),a}();function Kt(e){return(Kt="function"==typeof Symbol&&"symbol"==sd(Symbol.iterator)?function(e){return sd(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":sd(e)})(e)}function zt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gt(e,t,n){return t&&qt(e.prototype,t),n&&qt(e,n),e}var Ht=(Gt(Yt,null,[{key:"Greater",get:function(){return">"}},{key:"Less",get:function(){return">"}},{key:"Equal",get:function(){return"="}},{key:"GreaterOrEqual",get:function(){return">="}},{key:"LessOrEqual",get:function(){return"<="}},{key:"NotEqual",get:function(){return"!="}},{key:"Like",get:function(){return"like"}},{key:"StartsWith",get:function(){return"like*"}},{key:"EndsWith",get:function(){return"*like"}},{key:"IsGreater",value:function(e){return e===Yt.Greater}},{key:"IsLess",value:function(e){return e===Yt.Less}},{key:"IsEqual",value:function(e){return e===Yt.Equal}},{key:"IsGreaterOrEqual",value:function(e){return e===Yt.GreaterOrEqual}},{key:"IsLessOrEqual",value:function(e){return e===Yt.LessOrEqual}},{key:"IsNotEqual",value:function(e){return e===Yt.NotEqual}},{key:"IsLike",value:function(e){return e.toLowerCase()===Yt.Like||"*like*"===e.toLowerCase()}},{key:"IsStartsWith",value:function(e){return e.toLowerCase()===Yt.StartsWith}},{key:"IsEndsWith",value:function(e){return e.toLowerCase()===Yt.EndsWith}},{key:"Evaluate",value:function(e,t,n){if(Yt.IsGreater(n))return Yt.compareWithTypeCheck(e,t,function(e,t){return t<e});if(Yt.IsLess(n))return Yt.compareWithTypeCheck(e,t,function(e,t){return e<t});if(Yt.IsEqual(n))return Yt.compareWithTypeCheck(e,t,function(e,t){return e===t});if(Yt.IsGreaterOrEqual(n))return Yt.compareWithTypeCheck(e,t,function(e,t){return t<=e});if(Yt.IsLessOrEqual(n))return Yt.compareWithTypeCheck(e,t,function(e,t){return e<=t});if(Yt.IsNotEqual(n))return Yt.compareWithTypeCheck(e,t,function(e,t){return e!==t});if(Yt.IsLike(n))return Yt.likeCompare(e,t,function(e,t){return 0<=e.indexOf(t)});if(Yt.IsStartsWith(n))return Yt.likeCompare(e,t,function(e,t){return e.startsWith(t)});if(Yt.IsEndsWith(n))return Yt.likeCompare(e,t,function(e,t){return e.endsWith(t)});throw"Unknown term "+n}},{key:"likeCompare",value:function(e,t,n){return null===e&&null===t||void 0===e&&void 0===t||null!=e&&null!=t&&n(e.toString().toLowerCase(),t.toString().toLowerCase())}},{key:"compareWithTypeCheck",value:function(e,t,n){return null===e&&null===t||void 0===e&&void 0===t||null!=e&&null!=t&&(e instanceof Date&&"string"==typeof t?n(e.getTime(),new Date(t).getTime()):"string"==typeof e&&t instanceof Date?n(new Date(e).getTime(),t.getTime()):e instanceof Date&&t instanceof Date?n(e.getTime(),t.getTime()):Kt(e)===Kt(t)?n(e,t):n(e,"number"==typeof e&&"string"==typeof t?parseFloat(t):"string"==typeof e&&"number"==typeof t?t.toString():t))}}]),Yt),Qt=(Gt(Jt,[{key:"AddFilter",value:function(e){var n,t,r,o=this,a=e.names,i=e.expected,l=e.term,s=e.id;a.length<1||(n=1===a.length?a[0]:a.sort().join(","),this._innerFilter.hasOwnProperty(n)?t=this._innerFilter[n]:((t=this._innerFilter[n]={}).funcs=[],t.items=[],t.test=function(t){return o._innerFilter[n].funcs.every(function(e){return e(t)})}),r=function(e,t){var n=Object.keys(e).find(function(e){return e.toString().toLowerCase()===t.toLowerCase()});return void 0!==n&&Ht.Evaluate(e[n],i,l)},e=1===a.length?function(e){return r(e,a[0])}:function(t){return a.some(function(e){return r(t,e)})},t.funcs.push(e),t.items.push({expected:i,term:l,id:s}))}},{key:"RemoveFilter",value:function(e){var t,n,r,o=this,a=e.name,i=e.id;void 0!==a&&(n=Array.isArray(a)?(t=1===a.length?a[0]:a.sort().join(","),a):[t=a]),void 0!==a&&void 0===i?delete this._innerFilter[t]:void 0===a&&void 0===i?this._innerFilter={}:(r=function(e,t,n){var r;!o._innerFilter.hasOwnProperty(e)||(r=o._innerFilter[e].items.filter(function(e){return e.id!==n})).length<o._innerFilter[e].items.length&&(delete o._innerFilter[e],r.forEach(function(e){o.AddFilter({names:t,expected:e.expected,term:e.term,id:e.id})}))},void 0!==a&&void 0!==i?r(t,n,i):Object.keys(this._innerFilter).forEach(function(e){r(e,e.split(","),i)}))}},{key:"IsRowMatched",value:function(e){var t=Object.keys(this._innerFilter);if(t.length<=0)return!0;for(var n=0;n<t.length;n++)if(!this._innerFilter[t[n]].test(e))return!1;return!0}},{key:"GetFilterAsObjects",value:function(){var e=this;if(void 0===this._innerFilter)return[];var n=[];return Object.keys(this._innerFilter).forEach(function(t){e._innerFilter[t].items.forEach(function(e){n.push({column:t,value:e.expected,term:e.term})})}),n}}]),Jt);function Jt(e,n){var r=this;if(zt(this,Jt),this._innerFilter={},void 0!==e&&Array.isArray(e)){if(void 0===n||!Array.isArray(n))throw"columns must be array";e.forEach(function(e){var t;void 0!==e&&(t="*"===e.column?n:e.column.split(",").map(function(e){return e.trim()}),r.AddFilter({names:t,expected:e.value,term:e.term}))})}}function Yt(){zt(this,Yt)}function $t(e){return($t="function"==typeof Symbol&&"symbol"==sd(Symbol.iterator)?function(e){return sd(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":sd(e)})(e)}function Xt(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function Zt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function en(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tn(e,t,n){return t&&en(e.prototype,t),n&&en(e,n),e}function nn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rn(e,t)}function rn(e,t){return(rn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function on(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e=an(n),t=r?(t=an(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==$t(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t}}function an(e){return(an=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ln=function(){nn(t,c.Component);var e=on(t);function t(){return Zt(this,t),e.apply(this,arguments)}return tn(t,[{key:"render",value:function(){return K("checkbox-formatter",{props:this.props})}}]),t}(),sn=function(){nn(t,c.Component);var e=on(t);function t(){return Zt(this,t),e.apply(this,arguments)}return tn(t,[{key:"render",value:function(){return K("number-formatter",{props:this.props})}}]),t}(),cn=function(){nn(t,c.Component);var e=on(t);function t(){return Zt(this,t),e.apply(this,arguments)}return tn(t,[{key:"render",value:function(){var e,t=Ue()(this.props.value),n="";return t.isValid()&&(e=Ke("L"),n=t.format(e)),K("date-formatter",{props:this.props,strValue:n})}}]),t}(),un=function(){nn(t,c.Component);var e=on(t);function t(){return Zt(this,t),e.apply(this,arguments)}return tn(t,[{key:"render",value:function(){var e,t,n,r=Ue()(this.props.value),o="";return r.isValid()&&(n="DD.MM.YYYY HH:mm",(e=Ke())&&(t=ze("HH:mm"),n="".concat(e," ").concat(t)),o=r.format(n)),K("datetime-formatter",{props:this.props,strValue:o})}}]),t}(),pn=function(){nn(t,c.Component);var e=on(t);function t(){return Zt(this,t),e.apply(this,arguments)}return tn(t,[{key:"render",value:function(){var e,t=Ue()(this.props.value),n="";return t.isValid()&&(e=me(window.DWKitLang)&&me(window.DWKitLang.common)&&me(window.DWKitLang.common.timeFormat)?window.DWKitLang.common.timeFormat:"HH:mm",n=t.format(e)),K("time-formatter",{props:this.props,strValue:n})}}]),t}(),dn=function(){nn(i,c.Component);var n=on(i);function i(e){var t;Zt(this,i),(t=n.call(this,e)).state={items:[],sort:"",defaultSort:e.defaultSort,filter:e.filter,pageSize:20,selectedIndexes:[],rowsCount:i.staticIsServerMode(e)?void 0:0};try{t.state.isrtl="rtl"==getComputedStyle(document.getElementsByTagName("html")[0]).direction}catch(e){}return t}return tn(i,[{key:"isEditFormModal",value:function(){return"modal"===this.props.editFormShowType}},{key:"isEditFormSidebar",value:function(){return"sidebar"===this.props.editFormShowType}},{key:"isServerMode",value:function(){return i.staticIsServerMode(this.props)}},{key:"refresh",value:function(){var e;this.isServerMode()?this.setState({items:[],selectedIndexes:[],rowsCount:void 0}):(e=Array.isArray(this.props.value)?i.staticGetSortedAndFilteredItems(this.props.value,this.state.filter,this.state.sort,this.props.defaultSort):[],this.setState({items:e,rowsCount:e.length,selectedIndexes:[],originalItems:this.props.value}))}},{key:"resetSelection",value:function(){this.setState({selectedIndexes:[]})}},{key:"render",value:function(){return K("grid-view",{gridColumns:this.getColumns(),gridProps:this.getGridPropsByPagerType(this.props.pagerType),me:this,onRowsSelected:this.onRowsSelected.bind(this),onRowsDeselected:this.onRowsDeselected.bind(this),selectBy:{indexes:this.state.selectedIndexes},gridRowGetter:this.gridRowGetter.bind(this),gridOnRowClick:this.gridOnRowClick.bind(this),handleGridSort:this.handleGridSort.bind(this),state:this.state,props:this.props})}},{key:"getColumns",value:function(){var r=this,e=void 0===this.props.columns?[]:Array.isArray(this.props.columns)?this.props.columns:JSON.parse(this.props.columns);return e.forEach(function(n){null!==n.width&&""!==n.width&&void 0!==n.width&&(n.width=Number(n.width)),!1!==n.sortable&&(n.sortable=!r.props.disableSort),n.filterable=Boolean(r.props.filterRow),n.resizable=Boolean(n.resizable),"number"===n.type?n.formatter=sn:"checkbox"===n.type?n.formatter=ln:"date"===n.type?n.formatter=cn:"time"===n.type?n.formatter=pn:"datetime"===n.type?n.formatter=un:"custom"===n.type&&(n.getRowMetaData=function(e){return e},n.formatter=function(e){if(fe(n.customFormatter)||"function"!=typeof n.customFormatter){if(r.props.placeholders&&Array.isArray(r.props.placeholders[n.key])&&0<r.props.placeholders[n.key].length){var t=r.props.placeholders[n.key][0];return void 0!==t.propertyName&&""!==t.propertyName||(t.propertyName=n.key),U.a.createElement(F,{key:n.key+"_"+e.dependentValues.__id,model:t,parent:r,row:e.dependentValues,errorOnRow:{},name:r.props.name,buildermode:r.props.buildermode,handleChange:function(){},handleEvent:r.props.handleEvent,getAdditionalDataForControl:r.props.getAdditionalDataForControl,readOnly:r.props.readOnly,uploadUrl:r.props.uploadUrl,downloadUrl:r.props.downloadUrl,data:r.props.data,adaptiveViewType:r.props.adaptiveViewType,controlBarParams:r.props.controlBarParams,createControl:r.props.createControl})}return r.props.buildermode?r.props.createBuilderDropzone(r.props.name,r.props.name,void 0,n.key,n.key):""}return n.customFormatter({row:e.dependentValues,value:e.value,column:n})})}),this.state.isrtl?e.reverse():e}},{key:"getGridPropsByPagerType",value:function(){var e,t={};return"server"===this.props.pagerType&&((e=parseInt(this.props.pageSize))&&(this.state.pageSize=e),t.rowRenderer=U.a.createElement(fn,{error:this.props.error}),fe(this.state.rowsCount)&&(this.state.rowsCount=1)),t}},{key:"getSeletedRowKeys",value:function(){var n=this,r=[];return this.state.selectedIndexes.forEach(function(e){var t;void 0!==(e=n.gridRowGetter(e))&&null!=(t=null==(t=null!==n.props.rowKey&&void 0!==n.props.rowKey&&e.hasOwnProperty(n.props.rowKey)?e[n.props.rowKey]:t)||fe(t)?e.__id:t)&&r.push(t)}),r}},{key:"gridRowGetter",value:function(e){if(!(e<0)){var t,n=this.props.pagerType;return"server"===n&&void 0===this.state.items[e]&&(t=this.state.pageSize,this.loadPage(e,t)),"server"===n?this.state.items[e]:function(r){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?Xt(Object(o),!0).forEach(function(e){var t,n=r;e=o[t=e],t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):Xt(Object(o)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))})}return r}({},this.state.items[e])}}},{key:"getSort",value:function(){var e=this.state.sort;return""===e&&void 0!==this.props.defaultSort?this.props.defaultSort:e}},{key:"getFilters",value:function(){return void 0!==this.state.filter?this.state.filter.GetFilterAsObjects():[]}},{key:"loadPage",value:function(e,t){for(var n,i=this,r=0;r<t;r++)this.state.items[r+e]={__loading:!0};void 0===this.props.getAdditionalDataForControl?void 0!==console&&console.log("GridView: For paging on server need to set getAdditionalDataForControl func!"):(n=this.getSort(),this.props.getAdditionalDataForControl(this,{startIndex:e,pageSize:t,filters:this.getFilters(),sort:n},function(e){var t=e.sIndex,n=e.pSize,r=e.rowsCount,o=e.items;if(void 0===r||void 0===o)i.state.rowsCount=0,i.setState({rowsCount:0,items:[]});else{i.state.rowsCount=r;for(var a=0;a<n;a++)a<o.length?i.state.items[t+a]=o[a]:i.state.items[t+a]=void 0;i.forceUpdate()}}))}},{key:"gridOnRowClick",value:function(e,t){var n;void 0!==t&&(n=Date.now(),void 0!==this.rowClickTime&&this.rowClickTime.rowIdx===e&&n-this.rowClickTime.time<=1e3?(this.rowClickTime=void 0,this.onRowDblClick(e,t)):(this.rowClickTime={rowIdx:e,time:n},void 0!==this.props.handleEvent&&this.props.handleEvent({key:this.props.name,propertyName:this.props.propertyName,eventName:"onRowClick",parameters:{rowIdx:e,row:t}})))}},{key:"onRowDblClick",value:function(e,t){void 0!==this.props.handleEvent&&this.props.handleEvent({key:this.props.name,propertyName:this.props.propertyName,eventName:"onRowDblClick",parameters:{rowIdx:e,row:t}})}},{key:"onRowsSelected",value:function(e){this.state.selectedIndexes=this.state.selectedIndexes.concat(e.map(function(e){return e.rowIdx})),void 0!==this.props.handleEvent&&this.props.handleEvent({key:this.props.name,eventName:"onSelectionChanged",propertyName:this.props.propertyName,parameters:{selectedIndexes:this.state.selectedIndexes}}),this.forceUpdate()}},{key:"onRowsDeselected",value:function(e){var t=e.map(function(e){return e.rowIdx});this.state.selectedIndexes=this.state.selectedIndexes.filter(function(e){return-1===t.indexOf(e)}),void 0!==this.props.handleEvent&&this.props.handleEvent({key:this.props.name,eventName:"onSelectionChanged",propertyName:this.props.propertyName,parameters:{selectedIndexes:this.state.selectedIndexes}}),this.forceUpdate()}},{key:"handleGridSort",value:function(e,t){var n={};n.sort="NONE"===t?"":e+" "+t,t=this.props.pagerType,n.items="server"===t?[]:i.staticGetSortedAndFilteredItems(this.props.value,this.state.filter,n.sort,this.props.defaultSort),n.selectedIndexes=[],this.setState(n)}},{key:"handleFilterChange",value:function(e){var t={},n=e.column.key,r="columnfilter_"+n;t.filter=void 0!==this.state.filter?this.state.filter:new Qt([],this.props.columns.map(function(e){return e.key})),t.filter.RemoveFilter({name:n,id:r}),""!==e.filterTerm&&t.filter.AddFilter({names:[n],expected:e.filterTerm,term:Ht.Like,id:r}),i.staticIsServerMode(this.props)?(t.items=[],t.selectedIndexes=[],t.rowsCount=void 0):(t.items=i.staticGetSortedAndFilteredItems(this.props.value,t.filter,this.state.sort,this.props.defaultSort),t.selectedIndexes=[],t.rowsCount=t.items.length),this.setState(t)}},{key:"onClearFilters",value:function(){this.setState({filter:this.props.filter})}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"componentDidMount",value:function(){this._isMounted=!0,this.recalcSizeParams()}},{key:"recalcSizeParams",value:function(){var e;this._isMounted&&this.props.autoHeight&&(e=window.innerHeight,this.setState({gridHeight:e-this.props.deltaHeight}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n,r=null,o=t.filter,a=e.filter;return JSON.stringify(o)!==JSON.stringify(a)?(r={filter:e.filter},i.staticIsServerMode(e)?(r.items=[],r.selectedIndexes=t.selectedIndexes,r.rowsCount=void 0):(n=Array.isArray(e.value)?i.staticGetSortedAndFilteredItems(e.value,e.filter,t.sort,e.defaultSort):[],r.items=n,r.selectedIndexes=t.selectedIndexes,r.rowsCount=n.length)):i.staticIsServerMode(e)||t.originalItems===e.value||(r={},n=Array.isArray(e.value)?i.staticGetSortedAndFilteredItems(e.value,t.filter,t.sort,e.defaultSort):[],r.items=n,r.rowsCount=n.length,r.selectedIndexes=t.selectedIndexes,r.originalItems=e.value),r}},{key:"staticIsServerMode",value:function(e){return"server"===e.pagerType}},{key:"staticGetSortedAndFilteredItems",value:function(e,t,n,r){var o=[];if(void 0===e)return o;if(o=void 0!==t?e.filter(function(e){return t.IsRowMatched(e)}):e,"NONE"===(e=n)||""===n){if(void 0===r)return o;e=r}var r=e.indexOf(" "),a=e.substring(0,r),i=e.substring(r+1,e.length);return o.slice(0).sort(function(e,t){return(e=void 0!==e[a]&&null!==e[a]&&void 0!==e[a].toLowerCase?e[a].toLowerCase():e[a])===(t=void 0!==t[a]&&null!==t[a]&&void 0!==t[a].toLowerCase?t[a].toLowerCase():t[a])?0:null==e?1:null==t?-1:"ASC"===i?t<e?1:-1:"DESC"===i?e<t?1:-1:void 0})}}]),i}(),fn=function(){nn(t,c.Component);var e=on(t);function t(){return Zt(this,t),e.apply(this,arguments)}return tn(t,[{key:"setScrollLeft",value:function(e){this.row.setScrollLeft(e)}},{key:"getClassName",value:function(){var t=this;return this.props.row.__loading?"dwkit-gridview-rowloading":void 0!==this.props.row.__id&&null!==this.props.row.__id&&void 0!==this.props.error&&null!==this.props.error&&Array.isArray(this.props.error)&&void 0!==this.props.error.find(function(e){return e.__id===t.props.row.__id})?"dwkit-gridview-rowerror":""}},{key:"render",value:function(){return K("row-loading-renderer",{className:this.getClassName(),me:this,props:this.props,row:this.row})}}]),t}();function mn(e){return(mn="function"==typeof Symbol&&"symbol"==sd(Symbol.iterator)?function(e){return sd(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":sd(e)})(e)}function hn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yn(e,t){return(yn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function bn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gn(e){return(gn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var vn=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yn(e,t)}(i,c.Component);var e,t,n,r,a=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=gn(n),t=r?(t=gn(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==mn(t)&&"function"!=typeof t?bn(e):t});function i(e){var n,t,r,o;return function(e){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this),o=function(e,t){t=t.name,me(n.props.handleEvent)&&0!=n.props.handleEvent({e:e,key:n.props.name,eventName:"onItemClick",parameters:{target:t}})&&n.setState({activeitem:t})},(r="handleItemClick")in(t=bn(n=a.call(this,e)))?Object.defineProperty(t,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[r]=o,n.state={},me(e.value)?n.state.activeitem=e.value:null!=e.activeitem&&(n.state.activeitem=e.activeitem),n}return t=[{key:"getDerivedStateFromProps",value:function(e,t){return t.activeitem!==e.value?{activeitem:e.value}:null}}],hn((e=i).prototype,[{key:"handleItemClick2",value:function(e,t){this.handleItemClick(t,e),t.preventDefault()}},{key:"render",value:function(){var e=this.props["data-items"];return fe(e)||""==e?e=[]:Array.isArray(e)||(e=ke.a.parse(e)),K("menu-group",{handleItemClick:this.handleItemClick,handleItemClick2:this.handleItemClick2,items:e,me:this,props:this.props,state:this.state})}}]),hn(e,t),i}();function Vn(e){return(Vn="function"==typeof Symbol&&"symbol"==sd(Symbol.iterator)?function(e){return sd(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":sd(e)})(e)}function wn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function En(e,t){return(En=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function kn(e){return(kn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Cn=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&En(e,t)}(t,c.Component);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=kn(n),t=r?(t=kn(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Vn(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return wn(t.prototype,[{key:"render",value:function(){var e,t={};for(e in this.props)"additionalParams"!==e&&"items"!==e&&"propertyName"!==e&&(t[e]=this.props[e]);var n=this.props.additionalParams.model,r=this.props.additionalParams.parentItem,o=this.props.additionalParams.handleEvent;return t.defaultValue=n.defaultvalue,t.size=n.size,he(n.label)&&(t.label=n.label),t.labelPosition=n.labelPosition,t.type=n.type,t.disabled=n.disabled,t.transparent=n.transparent,t.fluid=n.fluid,t.readOnly=n.readOnly||this.props.readOnly,t.placeholder=n.placeholder,null==t.value&&(t.value=""),t.error=Boolean(this.props.error),t.format=n.format||void 0,t.mask=n.mask||void 0,t.onValueChange=function(e){o({key:t.name,propertyName:t.propertyName,eventName:"onChange",name:t.name,value:Number(e.value)})},K("number-format",{isForm:this.isForm(r),props:this.props,propsControl:t})}},{key:"isForm",value:function(e){return null!=e&&("form"===e["data-buildertype"]||"formgroup"===e["data-buildertype"])}}]),t}();function _n(e){return(_n="function"==typeof Symbol&&"symbol"==sd(Symbol.iterator)?function(e){return sd(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":sd(e)})(e)}function On(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Sn(e,t){return(Sn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function An(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Dn(e){return(Dn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var xn=n(8),Pn=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Sn(e,t)}(s,c.Component);var n,r,l=(n=s,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Dn(n),t=r?(t=Dn(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==_n(t)&&"function"!=typeof t?An(e):t});function s(){var r;!function(e){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this);for(var e,t,n,o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=function(e,t){var n=t.name,t=t.value;r.props.onChange?r.props.onChange(e,{name:r.props.name,propertyName:r.props.propertyName,value:t}):r.props.handleEvent?r.props.handleEvent({syntheticEvent:e,key:r.props.name,eventName:"onChange",name:n,value:t,propertyName:r.props.propertyName}):console.error("Set onChange property for RadioGroup!")},(t="onChange")in(e=An(r=l.call.apply(l,[this].concat(a))))?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,r}return On(s.prototype,[{key:"shouldComponentUpdate",value:function(e){return!xn(this.props,e)}},{key:"render",value:function(){return K("radio-group",{props:this.props,onChange:this.onChange.bind(this)})}}]),s}();function Ln(e){return(Ln="function"==typeof Symbol&&"symbol"==sd(Symbol.iterator)?function(e){return sd(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":sd(e)})(e)}function Rn(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function jn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Tn(e,t){return(Tn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Fn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Nn(e){return(Nn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function In(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Mn=n(8),Bn=n(10),Wn=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Tn(e,t)}(s,c.Component);var e,t,n,r,o=(n=s,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Nn(n),t=r?(t=Nn(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Ln(t)&&"function"!=typeof t?Fn(e):t});function s(e){var l;return function(e){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this),In(Fn(l=o.call(this,e)),"handleChange",function(e,t,n){var r=n.name,o=n.propertyName,a=n.value,i=n.checked,n=n.parameters;(l.props.controlProps.handleEvent||l.props.controlProps.buildermode)&&(void 0===o&&(o=r),n&&void 0!==n.index&&((r=l.state.items)[n.index]=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Rn(Object(n),!0).forEach(function(e){In(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Rn(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},e),e=r[n.index]),fe(a)&&me(i)?e[o]=i:e[o]=a,l.isServerMode()?l.forceUpdate():(l.sendChangesToParent(),t&&t.preventDefault?t.preventDefault():l.forceUpdate()))}),In(Fn(l),"loadNextPage",function(){var e=l.state.pageSize,t=0;me(l.state.items)&&(t=l.state.items.length),l.loadPage(t,e)}),l.psTemplate="template",l.state={items:[],sort:"",filter:e.filter,firstLoad:!e.controlProps.buildermode&&s.staticIsServerMode(e),pageSize:e.pageSize||20},l}return t=[{key:"getDerivedStateFromProps",value:function(e,t){var n,r={needUpdate:!1};return Mn(t.filter,e.filter)?s.staticIsServerMode(e)||Mn(t.originalItems,e.value)||(n=s.staticGetSortedAndFilteredItems(e.value,t.filter,t.sort,e.defaultSort),r.items=n,r.rowsCount=n.length,r.selectedIndexes=[],r.originalItems=s.copyObj(e.value),r.needUpdate=!0):(r.filter=e.filter,r.needUpdate=!0,s.staticIsServerMode(e)?(r.items=[],r.firstLoad=!0,r.rowsCount=void 0):(e=s.staticGetSortedAndFilteredItems(e.value,e.filter,t.sort,e.defaultSort),r.items=e,r.selectedIndexes=[],r.rowsCount=e.length)),r}},{key:"staticIsServerMode",value:function(e){return e.pagerType&&"server"===e.pagerType.toLowerCase()}},{key:"staticCheckData",value:function(e){if(e=e||[],Array.isArray(e))e=Bn(e);else try{e=ke.a.parse(e)}catch(e){}return e}},{key:"staticGetSortedAndFilteredItems",value:function(e,t,n,r){var o=s.staticCheckData(e);if(void 0===o)return o;if(Array.isArray(o)&&0<o.length)for(var a in o)o[a].__originalIndex=a,a++;if(void 0!==t&&(o=o.filter(function(e){return t.IsRowMatched(e)})),"NONE"===(e=n)||""===n){if(void 0===r)return o;e=r}var r=e.indexOf(" "),i=e.substring(0,r),l=e.substring(r+1,e.length);return o.sort(function(e,t){return(e=void 0!==e[i]&&null!==e[i]&&void 0!==e[i].toLowerCase?e[i].toLowerCase():e[i])===(t=void 0!==t[i]&&null!==t[i]&&void 0!==t[i].toLowerCase?t[i].toLowerCase():t[i])?0:null==e?1:null==t?-1:"ASC"===l?t<e?1:-1:"DESC"===l?e<t?1:-1:void 0})}},{key:"copyObj",value:function(e){if(null==e||"object"!=Ln(e))return e;var t,n=e.constructor();for(t in e)e.hasOwnProperty(t)&&(n[t]=this.copyObj(e[t]));return n}}],jn((e=s).prototype,[{key:"shouldComponentUpdate",value:function(e,t){return!!t.needUpdate||!Mn(this.props,e)}},{key:"render",value:function(){return K("repeater",{isServerMode:this.isServerMode(),loadNextPage:this.loadNextPage,me:this,props:this.props,psTemplate:this.psTemplate,state:this.state,handleChange:this.handleChange})}},{key:"sendChangesToParent",value:function(){var e=s.copyObj(this.state.items);if(Array.isArray(e)&&0<e.length)for(var t in e)delete e[t].__originalIndex;var n="string"==typeof this.props.value?ke.a.stringify(e):e;this.props.controlProps.buildermode?this.props.value=n:this.props.controlProps.handleEvent({syntheticEvent:null,key:this.props.name,propertyName:this.props.propertyName,eventName:"onChange",name:this.name,value:n})}},{key:"loadPage",value:function(o,e){var t,a=this;this.props.controlProps&&void 0!==this.props.controlProps.getAdditionalDataForControl?(""===(t=this.state.sort)&&void 0!==this.props.defaultSort&&(t=this.props.defaultSort),this.state.loading=!0,this.forceUpdate(),this.props.controlProps.getAdditionalDataForControl(this,{startIndex:o,pageSize:e,filters:void 0!==this.state.filter?this.state.filter.GetFilterAsObjects():[],sort:t},function(e){e.sIndex,e.pageSize;var t=e.rowsCount,n=e.items;if(void 0!==t&&void 0!==n&&(a.state.rowsCount=t,a.state.items.length==o))for(var r=0;r<n.length;r++)a.state.items.push(n[r]);a.state.loading=!1,a.forceUpdate()})):void 0!==console&&console.log("Repeater: For paging on server need to set getAdditionalDataForControl func!")}},{key:"isServerMode",value:function(){return s.staticIsServerMode(this.props)}}]),jn(e,t),s}();function Un(e){return(Un="function"==typeof Symbol&&"symbol"==sd(Symbol.iterator)?function(e){return sd(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":sd(e)})(e)}function Kn(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function zn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Kn(Object(n),!0).forEach(function(e){Jn(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Kn(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function qn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gn(e,t){return(Gn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Hn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qn(e){return(Qn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Jn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Yn=n(8),$n=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Gn(e,t)}(a,c.Component);var n,r,o=(n=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Qn(n),t=r?(t=Qn(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Un(t)&&"function"!=typeof t?Hn(e):t});function a(){var r;!function(e){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Jn(Hn(r=o.call.apply(o,[this].concat(t))),"handleEvent",function(e){e.parameters||(e.parameters={}),e.parameters.row||(e.parameters.row=r.props.item),"onChange"===e.eventName?(e.parameters.index||(e.parameters.index=r.props.index),r.props.handleChange(r.props.item,e.syntheticEvent,e)):(e.parameters.index||(r.props.item&&r.props.item.__originalIndex?e.parameters.index=r.props.item.__originalIndex:e.parameters.index=r.props.index),r.props.controlProps.handleEvent(e))}),Jn(Hn(r),"getAdditionalDataForControl",function(e,t,n){return(t=t||{}).row||(t.row=r.props.item),r.props.controlProps.getAdditionalDataForControl(e,t,n)}),r}return qn(a.prototype,[{key:"shouldComponentUpdate",value:function(e){return!Yn(this.props,e)}},{key:"render",value:function(){var e=this.props.controlProps.createBuilderDropzone,t=this.props.model,n=this.props.index+"_",r=this.props.psTemplate,o=this.props.controlProps.createControls(this.props.parent,zn(zn({},this.props.controlProps),{},{model:t,parentPlaceholder:r,data:this.props.item,errors:this.props.errors,needCheckReplace:!this.props.controlProps.buildermode,formData:this.props.data,parentItem:this.props.parentItem,handleEvent:this.handleEvent,getAdditionalDataForControl:this.getAdditionalDataForControl}));return this.props.includeDropzone&&e&&(0<o.length&&0<t.length&&o.unshift(e(n+"repeter_dropzone_header",this.props.parentItem.key,void 0,void 0,r)),o.push(e(n+"repeter_dropzone_footer",this.props.parentItem.key,t[t.length-1].key,void 0,r))),o}}]),a}(),Xn=n(11),Zn=n.n(Xn);function er(e){return(er="function"==typeof Symbol&&"symbol"==sd(Symbol.iterator)?function(e){return sd(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":sd(e)})(e)}function tr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nr(e,t){return(nr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function rr(e){return(rr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var or=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nr(e,t)}(o,c.Component);var n,r,t=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=rr(n),t=r?(t=rr(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==er(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function o(e){return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),(e=t.call(this,e)).state={value:""},e}return tr(o.prototype,[{key:"render",value:function(){var e,t={};for(e in this.props)"value"!==e&&"handleEvent"!==e&&(t[e]=this.props[e]);return K("search",{controlProps:t,handleResultSelect:this.handleResultSelect.bind(this),handleSearchChange:this.handleSearchChange.bind(this),state:this.state})}},{key:"resetSearch",value:function(){this.setState({isLoading:!1,results:[]})}},{key:"handleResultSelect",value:function(e,t){t=t.result,me(this.props.handleEvent)&&this.props.handleEvent({key:this.props.name,propertyName:this.props.propertyName,eventName:"onSelect",parameters:t})}},{key:"handleSearchChange",value:function(e,t){var t=t.value,n=this;n.setState({isLoading:!0,value:t}),setTimeout(function(){return null===n.state.value||void 0===n.state.value||n.state.value.length<2?n.resetSearch():void n.search(n.state.value)},200)}},{key:"search",value:function(e){var t=this,n=this.props.url;n+=this.props.url.includes("?")?"&":"?",n+="term="+e,Zn()(n,{credentials:"same-origin"}).then(function(e){return e.json()}).then(function(e){t.setState({isLoading:!1,results:e})}).catch(function(e){fe(console)?alert(e):console.error(e)})}}]),o}();function ar(e){return(ar="function"==typeof Symbol&&"symbol"==sd(Symbol.iterator)?function(e){return sd(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":sd(e)})(e)}function ir(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function lr(r){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?ir(Object(o),!0).forEach(function(e){var t,n=r;e=o[t=e],t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):ir(Object(o)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))})}return r}function sr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cr(e,t){return(cr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ur(e){return(ur=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var pr=n(10),dr=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&cr(e,t)}(o,c.Component);var n,r,t=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=ur(n),t=r?(t=ur(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==ar(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function o(e){return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),(e=t.call(this,e)).state={},e}return sr(o.prototype,[{key:"render",value:function(){var e,r=this,a=this,i={};for(e in this.props)"additionalParams"!==e&&"items"!==e&&"propertyName"!==e&&(i[e]=this.props[e]);var t,n,o=this.props.additionalParams.model,l=this.props.additionalParams.data,s=this.props.additionalParams.errors,c=this.props.additionalParams.children,u=this.props.additionalParams.parentItem,p=this.props.additionalParams.handleEvent,d=o["data-buildertype"];if("header"===d)t=K(d,{props:this.props,propsControl:i,model:o});else if("button"===d)i.floated=o.floated,i.size=""!==o.size?o.size:null,i.content=this.props.content,i.basic=o.basic,i.circular=o.circular,i.compact=o.compact,i.disabled=o.disabled,i.fluid=o.fluid,i.primary=o.primary,i.secondary=o.secondary,i.link=o.link,o.icon&&(i.icon=o.icon),void 0!==p&&(n=i.onClick,i.onClick=function(e){n&&n(e),e.currentTarget&&e.currentTarget.classList&&e.currentTarget.classList.add("loading");var t=p({syntheticEvent:e,key:i.name,eventName:"onClick"});return e.currentTarget&&e.currentTarget.classList&&e.currentTarget.classList.remove("loading"),t}),t=K(d,{propsControl:i,isForm:this.isForm(u)});else if("label"===d)t=K(d,{props:this.props,propsControl:i,model:o});else if("message"===d)t=K(d,{props:this.props,propsControl:i,model:o});else if("input"===d)i.defaultValue=o.defaultvalue,i.size=o.size,he(o.label)&&(i.label=o.label),i.keyboardType=o.keyboardType,i.labelPosition=o.labelPosition,i.placeholder=o.placeholder,i.type=o.type,i.disabled=o.disabled,i.transparent=o.transparent,i.fluid=o.fluid,i.readOnly=o.readOnly||this.props.readOnly,null!=p&&(i.onChange=function(e,t){var n=t.name,r=t.value,o=r;"number"===i.type&&(""==o?o=void 0:"string"!=typeof o||"."!=(t=o[o.length-1])&&","!=t&&(o=Number(o),Number.isNaN(o)&&(o=r))),p({syntheticEvent:e,key:i.name,propertyName:a.props.propertyName,eventName:"onChange",name:n,value:o})}),null==i.value&&(i.value=""),i.error=Boolean(this.props.error),t=K(d,{isForm:this.isForm(u),props:this.props,propsControl:i});else if("textarea"===d)delete i.autoHeight,i.placeholder=o.placeholder,i.keyboardType=o.keyboardType,i.rows=null!==o.rows&&void 0!==o.rows?Number(o.rows):void 0,void 0!==o.label&&""!==o.label&&(i.label=o.label),i.readOnly=o.readOnly||this.props.readOnly,null!==p&&(i.onChange=function(e,t){var n=t.name,t=t.value;p({syntheticEvent:e,key:i.name,propertyName:a.props.propertyName,eventName:"onChange",name:n,value:t})}),null==i.value&&(i.value=""),t=K(d,{isForm:this.isForm(u),props:this.props,propsControl:i});else if("checkbox"===d)void 0!==o.label&&""!==o.label&&(i.label=o.label),i.placeholder=o.placeholder,i.type=o.type,i.disabled=o.disabled,i.fitted=o.fitted,i.indeterminate=o.indeterminate,i.readOnly=o.readOnly||this.props.readOnly,i.slider=o.slider,i.toggle=o.toggle,null!==p&&(i.onChange=function(e,t){var n=t.name,t=t.checked;p({syntheticEvent:e,key:i.name,propertyName:a.props.propertyName,eventName:"onChange",name:n,value:t})}),void 0!==l&&("boolean"==typeof variable?i.checked=l[i.name]:"true"===l[i.name]||"1"===l[i.name]?i.checked=!0:"false"===l[i.name]||"0"===l[i.name]?i.checked=!1:i.checked=Boolean(l[i.name])),s&&me(s[o.key])&&1==Boolean(s[o.key])&&(he(i.className)?i.className+=" error":i.className="error"),t=K(d,{isForm:this.isForm(u),propsControl:i});else if("dropdown"===d){var f,l=[];if(void 0!==o["data-elements"]&&(l=Array.isArray(o["data-elements"])?o["data-elements"]:ke.a.parse(o["data-elements"])),void 0!==o.label&&""!==o.label&&(i.label=o.label),o.clearable&&!o.multiple&&(l=pr(l)).unshift({key:"__reset",value:"",text:"   "}),i.defaultValue=o.defaultvalue,i.placeholder=o.placeholder,i.options=l,i.fluid=o.fluid,i.selection=o.selection,i.multiple=o.multiple,i.search=o.search,i.disabled=o.disabled||o.readOnly||this.props.readOnly,s&&void 0!==s[o.key]&&(i.error=Boolean(i.error)),null!==p&&(i.onChange=function(e,t){var n=t.name,t=t.value;p({syntheticEvent:e,key:i.name,propertyName:a.props.propertyName,eventName:"onChange",name:n,value:t})}),i.allowAdditions=o.allowAddItems,i.allowAdditions&&(i.onAddItem=function(e,t){var n=t.value,t=pr(i.value);Array.isArray(t)?t.includes(n)||t.push(n):t=[n],i.onChange(e,{name:i.name,value:t})}),i.multiple){if(void 0!==i.value&&null!==i.value||(i.value=[]),!Array.isArray(i.value)){try{f=ke.a.parse(i.value)}catch(e){}Array.isArray(f)||(f=[i.value]),i.value=f}i.allowAdditions&&this.dropdownCheckAdditional(i.value,i.options)}t=K(d,{isForm:this.isForm(u),props:this.props,propsControl:i})}else if("statistic"===d)u=[],void 0!==o["data-elements"]&&(u=Array.isArray(o["data-elements"])?o["data-elements"]:ke.a.parse(o["data-elements"])),t=K(d,{items:u,model:o,propsControl:i});else if("image"===d)t=K(d,{me:a,model:o,props:this.props,propsControl:i});else if("form"===d)t=K(d,{propsControl:i,children:c,model:o});else if("formgroup"===d)t=K(d,{propsControl:i,widths:o.widths,widthsCustom:o.widthsCustom,children:c,orientation:o.orientation});else if("breadcrumb"===d){var m=[];if(Array.isArray(this.props.items))for(var h=0;h<this.props.items.length;h++)!function(e){var t=r.props.items[e],n={key:e};n.active=t.active,n.href=t.url,null!==p&&(n.onClick=function(e){p({syntheticEvent:e,key:i.name,eventName:"onItemClick",parameters:{target:t.url}}),e.preventDefault()}),m.push({childProps:lr({},n),text:me(t.text)?t.text:"<not set>"}),e<r.props.items.length-1&&(e={key:e+"_d"},""!==t.divider&&(e.icon=t.divider),m.push({dividerProps:lr({},e),isDivider:!0}))}(h);t=K(d,{children:m,propsControl:i})}else t=K("unknown",{props:this.props,type:d});return t}},{key:"isForm",value:function(e){return null!=e&&("form"===e["data-buildertype"]||"formgroup"===e["data-buildertype"])}},{key:"dropdownCheckAdditional",value:function(e,r){Array.isArray(e)&&e.forEach(function(e){for(var t=!1,n=0;n<r.length;n++)if(e===r[n].value){t=!0;break}0==t&&r.push({value:e,text:e})})}}]),o}();function fr(e){return(fr="function"==typeof Symbol&&"symbol"==sd(Symbol.iterator)?function(e){return sd(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":sd(e)})(e)}function mr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hr(e,t){return(hr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function yr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function br(e){return(br=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function gr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var vr=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&hr(e,t)}(a,c.Component);var n,r,o=(n=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=br(n),t=r?(t=br(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==fr(t)&&"function"!=typeof t?yr(e):t});function a(){var r;!function(e){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return gr(yr(r=o.call.apply(o,[this].concat(t))),"onUpload",function(e,t){var n=yr(r),e={name:e.name,token:t.result.properties.Token,success:t.success,properties:t.result.properties};t.success?n.props.onChange&&n.props.onChange(null,{name:n.props.name,propertyName:n.props.propertyName,value:t.result.properties.Token,parameters:e}):n.props.onUploadFail&&n.props.onUploadFail(null,{name:n.props.name,propertyName:n.props.propertyName,message:t.result.message,details:t.result.details,success:!1})}),gr(yr(r),"onClear",function(e){var t=yr(r);t.props.onChange&&t.props.onChange(null,{name:t.props.name,propertyName:t.props.propertyName,value:null})}),r}return mr(a.prototype,[{key:"render",value:function(){var e=this.onClear,t=this.onUpload;return K("signature",{handleChange:this.handleChange,me:this,onClear:e,onUpload:t,props:this.props,state:this.state})}}]),a}();function Vr(e){return(Vr="function"==typeof Symbol&&"symbol"==sd(Symbol.iterator)?function(e){return sd(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":sd(e)})(e)}function wr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Er(e,t){return(Er=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function kr(e){return(kr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Cr=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Er(e,t)}(o,c.Component);var n,r,t=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=kr(n),t=r?(t=kr(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Vr(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function o(e){return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),(e=t.call(this,e)).state={},e}return wr(o.prototype,[{key:"render",value:function(){var e={name:this.props.name,className:this.props["style-customcss"],style:this.props.style,"data-buildertype":this.props["data-buildertype"]};return K("static-content",{props:this.props,spanProps:e})}}]),o}();function _r(e){return(_r="function"==typeof Symbol&&"symbol"==sd(Symbol.iterator)?function(e){return sd(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":sd(e)})(e)}function Or(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Sr(e,t){return(Sr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ar(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Dr(e){return(Dr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var xr=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Sr(e,t)}(i,c.Component);var e,t,n,r,a=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Dr(n),t=r?(t=Dr(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==_r(t)&&"function"!=typeof t?Ar(e):t});function i(e){var n,t,r,o;return function(e){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this),o=function(e,t){t=t.activeIndex,n.props.buildermode&&n.forceUpdate(),window&&window.document&&setTimeout(function(){var e=window.document.createEvent("UIEvents");e.initUIEvent("resize",!0,!1,window,0),window.dispatchEvent(e)},50),me(n.props.handleEvent)&&n.props.handleEvent({e:e,key:n.props.name,eventName:"onTabChange",parameters:{targetIndex:t,pane:n.props["data-panes"][t]}})},(r="onTabChange")in(t=Ar(n=a.call(this,e)))?Object.defineProperty(t,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[r]=o,n.state={},me(e.value)?n.state.activeitem=e.value:null!=e.activeitem&&(n.state.activeitem=e.activeitem),n}return t=[{key:"getDerivedStateFromProps",value:function(e,t){return t.activeitem!==e.value?{activeitem:e.value}:null}}],Or((e=i).prototype,[{key:"render",value:function(){var e=this.getPanes(this.props["data-panes"]);return K("tab-group",{onTabChange:this.onTabChange,panes:e,props:this.props})}},{key:"getPanes",value:function(e){var t=[];if(Array.isArray(e))for(var n=0;n<e.length;n++){var r=e[n];if(void 0!==r.visibleCondition&&null!==r.visibleCondition&&""!==r.visibleCondition){var o="return "+r.visibleCondition;try{if(!new Function("data",o)(this.props.data))continue}catch(e){}}t.push({menuItem:r.title,pane:{key:r.psid,className:"top",content:this.renderPanel(r)}})}return t}},{key:"renderPanel",value:function(e){var t,n,r=void 0;return me(this.props.placeholders)&&Array.isArray(this.props.placeholders[e.psid])&&0<this.props.placeholders[e.psid].length?(t=this.props.placeholders[e.psid])&&(r=this.props.createControls(this,{model:t,parentPlaceholder:e.psid,data:this.props.data,formData:this.props.data,errors:this.props.errors,buildermode:this.props.buildermode,parentItem:this.props.model,children:this.props.children,handleEvent:this.props.handleEvent,readOnlyControls:this.props.readOnlyControls,hideControls:this.props.hideControls,getFormFunc:this.props.getFormFunc,getAdditionalDataForControl:this.props.getAdditionalDataForControl,readOnly:this.props.readOnly,disableRefs:this.props.disableRefs,uploadUrl:this.props.uploadUrl,downloadUrl:this.props.downloadUrl,extendedData:this.props.extendedData,controlsToReplace:this.props.controlsToReplace,needCheckReplace:this.props.needCheckReplace,eventOnEdit:this.props.eventOnEdit,eventOnDelete:this.props.eventOnDelete,eventOnCopy:this.props.eventOnCopy,externalControlRender:this.props.externalControlRender,externalControlList:this.props.externalControlList,adaptiveViewType:this.props.adaptiveViewType}),n=e.psid,this.props.buildermode&&this.props.createBuilderDropzone&&(0<r.length&&0<t.length&&r.unshift(this.props.createBuilderDropzone(n+"tab_dropzone_header",this.props.name,void 0,e.title,e.psid)),r.push(this.props.createBuilderDropzone(n+"tab_dropzone_footer",this.props.name,t[t.length-1].key,e.title,e.psid)))):this.props.buildermode&&this.props.createBuilderDropzone&&(r=this.props.createBuilderDropzone("tab_dropzone_footer",this.props.name,void 0,e.title,e.psid)),r}}]),Or(e,t),i}();function Pr(e){return(Pr="function"==typeof Symbol&&"symbol"==sd(Symbol.iterator)?function(e){return sd(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":sd(e)})(e)}function Lr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Rr(e,t){return(Rr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function jr(e){return(jr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Tr=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Rr(e,t)}(o,c.Component);var n,r,t=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=jr(n),t=r?(t=jr(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Pr(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function o(e){return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),(e=t.call(this,e)).state={},e}return Lr(o.prototype,[{key:"render",value:function(){var e=this.getPanels(this.props.panels);return K("accordion",{panels:e,props:this.props})}},{key:"getPanels",value:function(e){var t=[];if(Array.isArray(e))for(var n=0;n<e.length;n++){var r=e[n];if(void 0!==r.visibleCondition&&null!==r.visibleCondition&&""!==r.visibleCondition){var o="return "+r.visibleCondition;try{if(!new Function("data",o)(this.props.data))continue}catch(e){}}t.push({key:r.psid,title:r.title,content:{content:this.renderPanel(r)}})}return t}},{key:"renderPanel",value:function(e){var t,n,r=void 0;return me(this.props.placeholders)&&Array.isArray(this.props.placeholders[e.psid])&&0<this.props.placeholders[e.psid].length?(t=this.props.placeholders[e.psid])&&(r=this.props.createControls(this,{model:t,parentPlaceholder:e.psid,data:this.props.data,formData:this.props.data,errors:this.props.errors,buildermode:this.props.buildermode,parentItem:this.props.model,children:this.props.children,handleEvent:this.props.handleEvent,readOnlyControls:this.props.readOnlyControls,hideControls:this.props.hideControls,getFormFunc:this.props.getFormFunc,getAdditionalDataForControl:this.props.getAdditionalDataForControl,readOnly:this.props.readOnly,disableRefs:this.props.disableRefs,uploadUrl:this.props.uploadUrl,downloadUrl:this.props.downloadUrl,extendedData:this.props.extendedData,controlsToReplace:this.props.controlsToReplace,needCheckReplace:this.props.needCheckReplace,eventOnEdit:this.props.eventOnEdit,eventOnDelete:this.props.eventOnDelete,eventOnCopy:this.props.eventOnCopy,externalControlRender:this.props.externalControlRender,externalControlList:this.props.externalControlList,adaptiveViewType:this.props.adaptiveViewType}),n=e.psid,this.props.buildermode&&this.props.createBuilderDropzone&&(0<r.length&&0<t.length&&r.unshift(this.props.createBuilderDropzone(n+"tab_dropzone_header",this.props.name,void 0,e.title,e.psid)),r.push(this.props.createBuilderDropzone(n+"tab_dropzone_footer",this.props.name,t[t.length-1].key,e.title,e.psid)))):this.props.buildermode&&this.props.createBuilderDropzone&&(r=this.props.createBuilderDropzone("tab_dropzone_footer",this.props.name,void 0,e.title,e.psid)),r}}]),o}();function Fr(e){return(Fr="function"==typeof Symbol&&"symbol"==sd(Symbol.iterator)?function(e){return sd(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":sd(e)})(e)}function Nr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ir(e,t){return(Ir=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Mr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Br(e){return(Br=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Wr=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ir(e,t)}(a,c.Component);var e,t,n,r,o=(n=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Br(n),t=r?(t=Br(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Fr(t)&&"function"!=typeof t?Mr(e):t});function a(e){var t,n,r;return function(e){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this),t=o.call(this,e),r=function(e){null!=t.props.handleEvent&&t.props.handleEvent({syntheticEvent:e,key:t.props.name,propertyName:t.props.propertyName,eventName:"onClick"})},(e="onClick")in(n=Mr(t))?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,t.state={},t}return t=[{key:"copyObj",value:function(e){if(null==e||"object"!=Fr(e))return e;var t,n=e.constructor();for(t in e)e.hasOwnProperty(t)&&(n[t]=this.copyObj(e[t]));return n}}],Nr((e=a).prototype,[{key:"render",value:function(){var e={className:this.props.className,style:this.props.style};return this.props.activeEvent&&(e.onClick=this.onClick.bind(this)),K("card",{props:this.props,propsControls:e,me:this})}},{key:"renderPanel",value:function(e){var t,n,r=void 0;return null!=this.props.placeholders&&Array.isArray(this.props.placeholders[e])&&0<this.props.placeholders[e].length?(t=this.props.placeholders[e])&&(r=this.props.createControls(this,{model:t,parentPlaceholder:e,data:this.props.data,formData:this.props.data,errors:this.props.errors,buildermode:this.props.buildermode,parentItem:this.props.model,children:this.props.children,handleEvent:this.props.handleEvent,hideControls:this.props.hideControls,readOnlyControls:this.props.readOnlyControls,getFormFunc:this.props.getFormFunc,getAdditionalDataForControl:this.props.getAdditionalDataForControl,readOnly:this.props.readOnly,disableRefs:this.props.disableRefs,uploadUrl:this.props.uploadUrl,downloadUrl:this.props.downloadUrl,extendedData:this.props.extendedData,controlsToReplace:this.props.controlsToReplace,needCheckReplace:this.props.needCheckReplace,eventOnEdit:this.props.eventOnEdit,eventOnDelete:this.props.eventOnDelete,eventOnCopy:this.props.eventOnCopy,externalControlRender:this.props.externalControlRender,externalControlList:this.props.externalControlList,adaptiveViewType:this.props.adaptiveViewType}),n=e,this.props.buildermode&&this.props.createBuilderDropzone&&(0<r.length&&0<t.length&&r.unshift(this.props.createBuilderDropzone(n+"tab_dropzone_header",this.props.name,void 0,e,e)),r.push(this.props.createBuilderDropzone(n+"tab_dropzone_footer",this.props.name,t[t.length-1].key,e,e)))):this.props.buildermode&&this.props.createBuilderDropzone&&(r=this.props.createBuilderDropzone("tab_dropzone_footer",this.props.name,void 0,e,e)),r}}]),Nr(e,t),a}();function Ur(e){return(Ur="function"==typeof Symbol&&"symbol"==sd(Symbol.iterator)?function(e){return sd(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":sd(e)})(e)}function Kr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zr(e,t){return(zr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function qr(e){return(qr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Gr=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zr(e,t)}(t,c.Component);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=qr(n),t=r?(t=qr(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Ur(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return Kr(t.prototype,[{key:"componentDidMount",value:function(){this.props.onMount(this)}},{key:"render",value:function(){return K("tree-picker-header",{props:this.props})}}]),t}();function Hr(e){return(Hr="function"==typeof Symbol&&"symbol"==sd(Symbol.iterator)?function(e){return sd(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":sd(e)})(e)}function Qr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Jr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Yr(e,t){return(Yr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xr(e){return(Xr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Zr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var eo=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Yr(e,t)}(a,c.Component);var n,r,o=(n=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Xr(n),t=r?(t=Xr(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Hr(t)&&"function"!=typeof t?$r(e):t});function a(){var i;!function(e){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Zr($r(i=o.call.apply(o,[this].concat(t))),"onChange",function(t){var e,n=$r(i),r=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e){if(e){if("string"==typeof e)return Qr(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Qr(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return{s:t=function(){},n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,i=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){i=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(i)throw o}}}}(t.target.files);try{for(r.s();!(e=r.n()).done;){var o=e.value,a=new FormData;a.append(n.props.name,o),window.$.ajax({url:n.props.uploadUrl,type:"POST",processData:!1,contentType:!1,dataType:"json",data:a,success:function(e){e.success?n.props.onChange&&n.props.onChange(t,{name:n.props.name,propertyName:n.props.propertyName,value:e.result.properties.Token,parameters:{success:!0,properties:e.result.properties}}):n.props.onUploadFail&&n.props.onUploadFail(t,{name:n.props.name,propertyName:n.props.propertyName,message:e.message,details:e.details,success:!1})}})}}catch(e){r.e(e)}finally{r.f()}}),Zr($r(i),"onClear",function(){i.props.onChange&&i.props.onChange(void 0,{name:i.props.name,propertyName:i.props.propertyName,value:null})}),i}return Jr(a.prototype,[{key:"getCustomFileName",value:function(){return this.props.additionalData&&this.props.additionalDataContext&&this.props.additionalData.customNameGetter?this.props.additionalData.customNameGetter(this.props.additionalDataContext):null}},{key:"getCustomContentType",value:function(){return this.props.additionalData&&this.props.additionalDataContext&&this.props.additionalData.customContentTypeGetter?this.props.additionalData.customContentTypeGetter(this.props.additionalDataContext):null}},{key:"render",value:function(){return K("upload",{getCustomContentType:this.getCustomContentType,getCustomFileName:this.getCustomFileName,me:this,onChange:this.onChange,onClear:this.onClear,props:this.props})}}]),a}();function to(e){return(to="function"==typeof Symbol&&"symbol"==sd(Symbol.iterator)?function(e){return sd(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":sd(e)})(e)}function no(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ro(e,t){return(ro=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function oo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ao(e){return(ao=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function io(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var lo=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ro(e,t)}(o,c.Component);var n,r,t=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=ao(n),t=r?(t=ao(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==to(t)&&"function"!=typeof t?oo(e):t});function o(e){var r;return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),io(oo(r=t.call(this,e)),"selectWorkflowScheme",function(e,t){t=t.value,r.props.handleEvent({key:r.props.name,eventName:"onSchemeSelected",parameters:{scheme:t}})}),io(oo(r),"handleChanged",function(e,t){var n=t.name,t=t.value;r.setState(io({},n,t))}),r.state={commands:e.commands,states:e.states,processExists:e.processExists},r.checkGetAdditionalDataForControl(),r}return no(o.prototype,[{key:"componentDidMount",value:function(){this.isMount=!0}},{key:"componentWillUnmount",value:function(){this.isMount=!1}},{key:"checkGetAdditionalDataForControl",value:function(){var o=this;this.props.getAdditionalDataForControl||this.props.commands||this.props.states?this.props.getAdditionalDataForControl(this,{loadParameters:!this.props.blockLoadParameters},function(e){var t=e.commands,n=e.states,r=e.processExists,e=e.processParameters;o.setState({commands:t,states:n,processExists:r}),o.props.handleEvent&&o.props.handleEvent({key:o.props.name,eventName:"onReceivedCommands",parameters:{commands:t,states:n,processParameters:e}}),o.isMount&&o.forceUpdate()}):console&&console.log("WorkflowBar: This control requires getAdditionalDataForControl or commands and states not undefined parameters!")}},{key:"onCommand",value:function(e,t){me(this.props.handleEvent)&&(t.currentTarget&&t.currentTarget.classList&&t.currentTarget.classList.add("loading"),this.props.handleEvent({key:this.props.name,eventName:"onCommandClick",parameters:{command:e}}),t.currentTarget&&t.currentTarget.classList&&t.currentTarget.classList.remove("loading"))}},{key:"onSetState",value:function(e){if(me(this.props.handleEvent)){e.currentTarget&&e.currentTarget.classList&&e.currentTarget.classList.add("loading");for(var t=(me(this.state.states)?this.state:this.props).states,n=void 0,r=0;r<t.length;r++)if(t[r].value==this.state.setstate){n=t[r];break}this.props.handleEvent({key:this.props.name,eventName:"onSetStateClick",parameters:{state:n}}),e.currentTarget&&e.currentTarget.classList&&e.currentTarget.classList.remove("loading")}}},{key:"render",value:function(){return K("workflow-bar",{handleChanged:this.handleChanged.bind(this),me:this,props:this.props,selectWorkflowScheme:this.selectWorkflowScheme.bind(this),state:this.state,onCommand:this.onCommand.bind(this),onSetState:this.onSetState.bind(this)})}}]),o}(),so=n(14),co=n.n(so).a.createActions(["add","showEditForm","remove","saveData","save","move","insert"]),uo=n(18),po=n.n(uo);function fo(e){return(fo="function"==typeof Symbol&&"symbol"==sd(Symbol.iterator)?function(e){return sd(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":sd(e)})(e)}function mo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ho(e,t){return(ho=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function yo(e){return(yo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var bo=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ho(e,t)}(o,c.Component);var n,r,t=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=yo(n),t=r?(t=yo(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==fo(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function o(e){return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),(e=t.call(this,e)).state={},e.controlRef=U.a.createRef(),e.barRef=U.a.createRef(),e}return mo(o.prototype,[{key:"render",value:function(){return K("control-bar",{props:this.props,onCopyControl:this.onCopyControl.bind(this,this.props.model),me:this})}},{key:"onCopyControl",value:function(e,t){var n=ke.a.stringify(e);(e=document.createElement("textarea")).value=n,e.setAttribute("readonly",""),e.style.position="absolute",e.style.left="-9999px",document.body.appendChild(e),n=0<document.getSelection().rangeCount&&document.getSelection().getRangeAt(0),e.select(),document.execCommand("copy"),document.body.removeChild(e),n&&(document.getSelection().removeAllRanges(),document.getSelection().addRange(n))}},{key:"componentDidMount",value:function(){this.updateBarPosition&&(window.addEventListener("resize",this.updateBarPosition),this.updateBarPosition())}},{key:"componentDidUpdate",value:function(){this.updateBarPosition&&this.updateBarPosition()}},{key:"componentWillUnmount",value:function(){this.updateBarPosition&&window.removeEventListener("resize",this.updateBarPosition)}}]),o}();function go(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function vo(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?go(Object(n),!0).forEach(function(e){ko(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):go(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function Vo(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e){if(e){if("string"==typeof e)return wo(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?wo(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return{s:t=function(){},n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,i=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){i=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(i)throw o}}}}function wo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Eo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ko(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Co=(wc=[{key:"isAdaptiveRender",value:function(e,t){return!e["style-adaptive"]||null==t||""===t||!e["style-renderwhen"]||t===e["style-renderwhen"]}},{key:"isForm",value:function(e){return null!=e&&("form"===e["data-buildertype"]||"formgroup"===e["data-buildertype"])}},{key:"getFormattedDate",value:function(e,t){if(null==t)return"";var n,r=void 0,o=e.indexOf(":");return 0<o?(n=e.substring(0,o),r=e.substring(o+1,e.length)):n=e,null==(e=t[n])&&(e=""),me(r)&&("number"==typeof e?e=po()(e).format(r):(t=Ue()(e)).isValid()&&(e="local"===r?(n=Ke("L"),t.format(n)):t.format(r))),e}},{key:"getStyle",value:function(e,t,n){var r={};return e["style-marginTop"]&&(r.marginTop=e["style-marginTop"]),e["style-marginBottom"]&&(r.marginBottom=e["style-marginBottom"]),e["style-marginLeft"]&&(r.marginLeft=e["style-marginLeft"]),e["style-marginRight"]&&(r.marginRight=e["style-marginRight"]),e["style-width"]&&(r.width=e["style-width"]),e["style-height"]&&(r.height=e["style-height"]),void 0!==e["style-float"]&&(r.float=e["style-float"]),void 0!==e["style-display"]&&(r.display=e["style-display"]),e["style-hidden"]&&(t?r.opacity=.2:r.display="none"),void 0!==e["style-source"]&&_o.getCustomStyle(e["style-source"],r),void 0!==e["style-font-size"]&&(r.fontSize=e["style-font-size"]),e["style-adaptive"]&&void 0!==e["style-mobilesource"]&&"mobile"===n&&_o.getCustomStyle(e["style-mobilesource"],r),r}},{key:"getCustomStyle",value:function(e,n){e.split(";").forEach(function(e){var t=e.split(":");2===t.length&&(e=t[0].replace(/^\s+|\s+$/g,""),n[e]=t[1].replace(/^\s+|\s+$/g,""))})}},{key:"getClassName",value:function(e,t){var n=e["style-customcss"];return t&&me(_o.containers["data-buildertype"])&&(n=(null==n?"":n+" ")+"dwkit-formbuilder-item-container"),1==e["other-required"]&&(t="dwkit-required-field",n=null==n||""==n?t:n+t),1==e["style-hiddeninprint"]?(null==n?"":n+" ")+"dwkit-notprint":n}},{key:"fillDefaultValues",value:function(e,t){for(var n in t)void 0===e[n]&&(e[n]=t[n]);return e}},{key:"createBuilderDropzone",value:function(t,n,r,e,o){var a="";return K("builder-dropzone",{key:t,elementToInsert:n,elementAfter:r,onChangeDZ:function(e,t){t.name,t=t.value,a=t},onClosePopup:function(){try{var e=ke.a.parse(a);co.insert(e,t,n,r,o)}catch(e){}},placeholderKey:o,text:"DROP ZONE"})}}],Eo((yc=_o).prototype,[{key:"isContainer",value:function(e){return me(_o.containers[e])}},{key:"getItems",value:function(){return this.items}},{key:"setItems",value:function(e){this.items=e||[]}},{key:"getControlInfoByType",value:function(e,t){var n,r=Vo(this.items);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(o.key===e)return o}}catch(e){r.e(e)}finally{r.f()}if(t=t||qe()){var a,i=Vo(t);try{for(i.s();!(a=i.n()).done;){var l=a.value;if(l.key===e)return l}}catch(e){i.e(e)}finally{i.f()}}}},{key:"getControlByType",value:function(e,t){return(t=this.getControlInfoByType(e,t))?t.control:null}},{key:"getEditControlByType",value:function(e,t){return(t=this.getControlInfoByType(e,t))?t.editControl:null}},{key:"createControls",value:function(e,t){var n=t.model,r=t.data,o=t.errors,a=t.eventOnEdit,i=t.eventOnDelete,l=t.eventOnCopy,s=t.handleEvent,c=t.parentItem,u=t.getFormFunc,p=t.getAdditionalDataForControl,d=t.buildermode,f=t.hideControls,m=t.readOnlyControls,h=t.readOnly,y=t.disableRefs,b=t.uploadUrl,g=t.downloadUrl,v=t.extendedData,V=t.controlsToReplace,w=t.needCheckReplace,E=t.parentPlaceholder,k=t.formItem,C=t.externalControlRender,_=t.externalControlList,O=t.adaptiveViewType,S=t.formData,A=[];if(null==n)return A;for(var D=0;D<n.length;D++)if(!(Array.isArray(f)&&f.includes(n[D].key)||!d&&!_o.isAdaptiveRender(n[D],O))){var x=void 0,P=n[D]["data-buildertype"];if("customcontrol"===P)if(void 0===n[D].type||""===n[D].type)x=K("empty",{key:n[D].key,text:"Fill Type property for rendering the control."});else{var L=vo(vo({},void 0===n[D].props?{}:ke.a.parse(n[D].props)),{},(ko(I={key:n[D].key,name:n[D].key,className:n[D]["style-customcss"]},"className",_o.getClassName(n[D],d)),ko(I,"style",_o.getStyle(n[D],d,O)),ko(I,"data-buildertype",n[D]["data-buildertype"]),ko(I,"getAdditionalDataForControl",p),ko(I,"uploadUrl",b),ko(I,"downloadUrl",g),I));(h||Array.isArray(m)&&m.includes(L.key))&&(L.readOnly=!0);var R=n[D].children;if(void 0!==n[D].children)try{R=ke.a.parse(n[D].children)}catch(e){}x=void 0===R||Array.isArray(R)&&0===R.length?U.a.createElement(n[D].type,L):U.a.createElement(n[D].type,L,R)}else if("customblock"===P){var j=[],T=!1,F=!1,N=!1,I=n[D],L=E,R=k;if("form"===n[D].sourceType||void 0===n[D].sourceType)if(void 0!==n[D].children&&""!==n[D].children)j=n[D].children;else{if(void 0===u){console.error('Error: "getFormFunc" parameter is undefined!. Please, set "getFormFunc" parameter for DWKitBuilder or DWKitForm!');continue}void 0!==n[D].formname&&""!==n[D].formname?j=u(n[D].formname):T=!0}else if("placeholder"===n[D].sourceType)N=F=void 0!==a,I=c,void 0===L&&(L=n[D].key),void 0!==(R=void 0===R?c:R)&&void 0!==R.placeholders&&void 0!==R.placeholders[n[D].key]&&(j=R.placeholders[n[D].key]);else if(void 0!==n[D].source&&""!==n[D].source)try{j=ke.a.parse(n[D].source)}catch(e){T=!0}else T=!0;x=T?K("empty",{key:n[D].key,text:"Set a form name or source in properties."}):(M=this.createControls(e,{model:j,data:r,errors:o,buildermode:F,eventOnEdit:a,eventOnDelete:i,eventOnCopy:l,parentItem:I,handleEvent:s,getFormFunc:u,getAdditionalDataForControl:p,hideControls:f,readOnlyControls:m,readOnly:h,disableRefs:y,uploadUrl:b,downloadUrl:g,controlsToReplace:V,needCheckReplace:w,parentPlaceholder:L,formItem:R,extendedData:v,externalControlRender:C,externalControlList:_,adaptiveViewType:O,formData:S}),B={key:n[D].key,name:n[D].key,className:_o.getClassName(n[D],d),style:_o.getStyle(n[D],d,O),"data-buildertype":n[D]["data-buildertype"]},N&&(0<(M=void 0===M?[]:M).length&&(N=_o.createBuilderDropzone(n[D].key+"_dropzone_footer",void 0===R?void 0:R.key,M[M.length-1].key,n[D].key,n[D].key),M.push(N)),R=_o.createBuilderDropzone(n[D].key+"_dropzone_header",void 0===R?void 0:R.key,void 0,n[D].key,n[D].key),M.unshift(R)),U.a.createElement(this.getPlatformContainerControl(),B,M))}else var M,B,W=this.getControlByType(P,_),x=null===W?K("null-control",{key:n[D].key,text:"".concat(P," is unsupported")}):this.isContainer(P)?(fe(B=k)&&me(c)&&"form"===c.sourceType&&(B=c),(M=void 0)!==n[D].readOnly&&(M=n[D].readOnly),(h||Array.isArray(m)&&m.includes(n[D].key))&&(M=!0),P=d&&("formgroup"===n[D]["data-buildertype"]&&"grouped"!==n[D].orientation||"container"===n[D]["data-buildertype"]&&"flex"===n[D]["style-display"]),M=this.createControls(e,{model:n[D].children,data:r,errors:o,buildermode:d,eventOnEdit:a,eventOnDelete:i,eventOnCopy:l,parentItem:n[D],handleEvent:s,getFormFunc:u,getAdditionalDataForControl:p,hideControls:f,readOnlyControls:m,readOnly:M,disableRefs:y,uploadUrl:b,downloadUrl:g,controlsToReplace:V,needCheckReplace:w,parentPlaceholder:void 0,formItem:B,extendedData:v,externalControlRender:C,externalControlList:_,adaptiveViewType:O,formData:S}),d&&(0<M.length&&(B=P?"...":"... "+n[D].key+" down ...",B=_o.createBuilderDropzone(n[D].key+"-dropzone_footer",n[D].key,void 0,B),M.push(B)),P=P?"...":"... "+n[D].key+" up ...",P=_o.createBuilderDropzone(n[D].key+"-dropzone_header",n[D].key,void 0,P),M.unshift(P)),this.createControl(e,W,{model:n[D],data:r,errors:o,parentItem:c,buildermode:d,children:M,handleEvent:s,getFormFunc:u,getAdditionalDataForControl:p,hideControls:f,readOnlyControls:m,readOnly:h,disableRefs:y,uploadUrl:b,downloadUrl:g,extendedData:v,parentPlaceholder:E,controlsToReplace:V,needCheckReplace:w,eventOnEdit:a,eventOnDelete:i,eventOnCopy:l,externalControlRender:C,externalControlList:_,adaptiveViewType:O,formData:S})):this.createControl(e,W,{model:n[D],data:r,errors:o,parentItem:c,buildermode:d,handleEvent:s,getFormFunc:u,getAdditionalDataForControl:p,hideControls:f,readOnlyControls:m,readOnly:h,disableRefs:y,uploadUrl:b,downloadUrl:g,extendedData:v,parentPlaceholder:E,controlsToReplace:V,needCheckReplace:w,eventOnEdit:a,eventOnDelete:i,eventOnCopy:l,externalControlRender:C,externalControlList:_,adaptiveViewType:O,formData:S});d?(0<D&&D<n.length&&(W=_o.createBuilderDropzone(n[D].key+"-dropzone_bw",void 0===c?void 0:c.key,n[D].key,"...",E),A.push(W)),A.push(U.a.createElement(bo,{key:x.key+"_controlbar",control:x,text:n[D]["data-buildertype"],model:n[D],parent:e,onDelete:i,onEdit:a,onCopy:l,isGroup:"formgroup"===n[D]["data-buildertype"]}))):A.push(x)}return A}},{key:"createControl",value:function(e,t,n){throw n.model,n.data,n.errors,n.parentItem,n.buildermode,n.children,n.handleEvent,n.getAdditionalDataForControl,n.getFormFunc,n.hideControls,n.readOnlyControls,n.readOnly,n.disableRefs,n.uploadUrl,n.downloadUrl,n.extendedData,n.controlsToReplace,n.needCheckReplace,n.eventOnEdit,n.eventOnDelete,n.eventOnCopy,n.externalControlRender,n.externalControlList,n.adaptiveViewType,n.formData,new Error("You must implement this method in subclass")}},{key:"setCreateControlsProps",value:function(e,t){Object.assign(e,t),e.buildermode&&(e.createBuilderDropzone=_o.createBuilderDropzone),e.createControls=this.createControls.bind(this)}},{key:"getPlatformContainerControl",value:function(){}}]),Eo(yc,wc),_o);function _o(){!function(e){if(!(e instanceof _o))throw new TypeError("Cannot call a class as a function")}(this),ko(this,"items",[])}function Oo(e){return(Oo="function"==typeof Symbol&&"symbol"==sd(Symbol.iterator)?function(e){return sd(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":sd(e)})(e)}ko(Co,"containers",{form:"",formgroup:"",grid:"",gridcolumn:"",container:"",div:"",repeater:""});var So,Ao=n(14).createStore({init:function(){this.listenTo(co.add,this.add),this.listenTo(co.move,this.move),this.listenTo(co.remove,this.remove),this.listenTo(co.save,this.save),this.listenTo(co.saveData,this._updateOrder),this.listenTo(co.insert,this.insert),So=[]},move:function(e,t){var n,r,o,a,i,l,s;null!=t&&(n=this.findItemByKey(e,So),r=this._excludeItemByKey(e,So),t.attributes.name&&"dropzone_footer"===t.attributes.name.value?r.push(n):t.attributes.name&&"dropzone_header"===t.attributes.name.value?r.unshift(n):null!=t.attributes.elementtoinsert?null!=(o=null!=(a=t.attributes.elementtoinsert)?this.findItemByKey(a.value,r):o)?(i=(i=void 0)===(e=t.attributes.placeholderkey)?(null==o.children&&(o.children=[]),o.children):(void 0===o.placeholders&&(o.placeholders={}),null==o.placeholders[e.value]&&(o.placeholders[e.value]=[]),o.placeholders[e.value]),null!=t.attributes.name&&t.attributes.name.value.includes("dropzone_footer")?i.push(n):null!=t.attributes.name&&t.attributes.name.value.includes("dropzone_header")?i.unshift(n):null!=(s=t.attributes.elementafter)&&(e=this.findItemByKey(s.value,i),i.splice(i.indexOf(e),0,n))):console.error("ERROR: element is not found",a,n,t):null!=t.attributes.elementafter&&(null!=(l=null!=(s=t.attributes.elementafter)?this.findItemByKey(s.value,r):l)?r.splice(r.indexOf(l),0,n):console.error("ERROR: element is not found",s,n,t)),this.setData(r))},insert:function(e,t,n,r,o){var a,i,l;e&&(this.makeUniqueKeys(e,this.getAllKeys(a=So)),"dropzone_footer"===t?a.push(e):"dropzone_header"===t?a.unshift(e):n?null!=(l=this.findItemByKey(n,a))?(i=(i=void 0)===o?(null==l.children&&(l.children=[]),l.children):(void 0===l.placeholders&&(l.placeholders={}),null==l.placeholders[o.value]&&(l.placeholders[o.value]=[]),l.placeholders[o.value]),t&&t.includes("dropzone_footer")?i.push(e):t&&t.includes("dropzone_header")?i.unshift(e):null!=r&&(t=this.findItemByKey(r,i),i.splice(i.indexOf(t),0,e))):console.error("ERROR: element is not found",l,e,n):null!=r&&(null!=(n=this.findItemByKey(r,a))?a.splice(a.indexOf(n),0,e):console.error("ERROR: element is not found",r,e)),this.setData(a))},_excludeItemByKey:function(e,t){for(var n=[],r=0;r<t.length;r++)if(t[r].key!=e&&(n.push(t[r]),t[r].children&&(n[n.length-1].children=this._excludeItemByKey(e,t[r].children)),null!=t[r].placeholders))for(var o in t[r].placeholders)Array.isArray(t[r].placeholders[o])&&(n[n.length-1].placeholders[o]=this._excludeItemByKey(e,t[r].placeholders[o]));return n},add:function(e,t){var n,r,o,a,i,l,s,c=Co.fillDefaultValues({key:this.getDefaultKey(e.key),"data-buildertype":void 0!==e.builderType?e.builderType:e.key},e.defaultValues);null==t?0<So.length&&"form"===So[So.length-1]["data-buildertype"]?(null==(o=So[So.length-1]).children&&(o.children=[]),o.children.push(c)):So.push(c):t.attributes.name&&"dropzone_footer"===t.attributes.name.value?So.push(c):t.attributes.name&&"dropzone_header"===t.attributes.name.value?So.unshift(c):null!=t.attributes.elementtoinsert?null!=(n=null!=(r=t.attributes.elementtoinsert)?this.findItemByKey(r.value,So):n)?(i=(i=void 0)===(o=t.attributes.placeholderkey)?(null==n.children&&(n.children=[]),n.children):(void 0===n.placeholders&&(n.placeholders={}),null==n.placeholders[o.value]&&(n.placeholders[o.value]=[]),n.placeholders[o.value]),null!=t.attributes.name&&t.attributes.name.value.includes("dropzone_footer")?i.push(c):null!=t.attributes.name&&t.attributes.name.value.includes("dropzone_header")?i.unshift(c):(null!=(s=t.attributes.elementafter)&&(a=this.findItemByKey(s.value,i)),i.splice(i.indexOf(a),0,c))):console.error("ERROR: element is not found",r,e,t):null!=t.attributes.elementafter&&(null!=(l=null!=(s=t.attributes.elementafter)?this.findItemByKey(s.value,So):l)?So.splice(So.indexOf(l),0,c):console.error("ERROR: element is not found",s,t)),this.trigger(So)},remove:function(e){this.removeItemByKey(e.key,So),this.trigger(So)},copy:function(e){var t=this.copyObj(e);this.insertAfterKey(t,e.key,So),this.makeUniqueKeys(t),this.trigger(So)},getData:function(){return So},setData:function(e){So=e,this.trigger(So)},_updateOrder:function(e){So=e,this.trigger(So)},getDefaultKey:function(e){for(var t=1,n=e+"_"+t,r=this.getAllKeys(So),o=0;o<r.length;o++)r[o]==(n=e+"_"+t)&&(t++,o=-1);return n},getAllKeys:function(e){var t=[];if(null!=e)for(var n=0;n<e.length;n++){var r=e[n];if(t.push(r.key),null!=r.children)var o=this.getAllKeys(r.children),t=t.concat(o);else if(null!=r.placeholders)for(var a in r.placeholders)Array.isArray(r.placeholders[a])&&(a=this.getAllKeys(r.placeholders[a]),t=t.concat(a))}return t},getByKey:function(e){return this.findItemByKey(e,So)},findItemByKey:function(e,t){for(var n=0;n<t.length;n++){var r,o=t[n];if(o.key==e)return o;if(null!=o.children){if(null!=(r=this.findItemByKey(e,o.children)))return r}else if(null!=o.placeholders)for(var a in o.placeholders)if(Array.isArray(o.placeholders[a])&&null!=(r=this.findItemByKey(e,o.placeholders[a])))return r}},insertAfterKey:function(e,t,n){for(var r=0;r<n.length;r++){var o=n[r];if(o.key==t)return n.splice(r+1,0,e),!0;if(void 0!==o.children&&this.insertAfterKey(e,t,o.children))return!0;if(void 0!==o.placeholders)for(var a in o.placeholders)if(Array.isArray(o.placeholders[a])&&this.insertAfterKey(e,t,o.placeholders[a]))return!0}},updateItemByKey:function(e,t){var n,r=this.getByKey(e);for(n in t)r[n]=t[n];e!=t.key&&this.replaceDepensKeys(e,t.key),this.trigger(So)},replaceDepensKeys:function(e,t,n){null==n&&(n=So);for(var r=0;r<n.length;r++){var o=n[r];if(Array.isArray(o["events-onclick-targets"]))for(var a=o["events-onclick-targets"],i=0;i<a.length;i++)a[i]==e&&(a[i]=t);if(null!=o.children&&this.replaceDepensKeys(e,t,o.children),void 0!==o.placeholders)for(var l in o.placeholders)Array.isArray(o.placeholders[l])&&this.replaceDepensKeys(e,t,o.placeholders[l])}},removeItemByKey:function(e,t){for(var n=0;n<t.length;n++){var r=t[n];if(r.key==e){t.splice(n,1);break}if(null!=r.children&&this.removeItemByKey(e,r.children),void 0!==r.placeholders)for(var o in r.placeholders)Array.isArray(r.placeholders[o])&&this.removeItemByKey(e,r.placeholders[o])}},copyObj:function(e){if(null==e||"object"!==Oo(e))return e;var t,n=e.constructor();for(t in e)e.hasOwnProperty(t)&&(n[t]=this.copyObj(e[t]));return n},makeUniqueKeys:function(e,t){var n=this,r=e["data-buildertype"];if(r&&e.key&&(!t||t&&t.includes(e.key))&&(e.key=this.getDefaultKey(r)),Array.isArray(e.children)&&e.children.forEach(function(e){n.makeUniqueKeys(e,t)}),void 0!==e.placeholders)for(var o in e.placeholders)Array.isArray(e.placeholders[o])&&e.placeholders[o].forEach(function(e){n.makeUniqueKeys(e,t)})}}),Do={clearbutton:"Clear",uploadbutton:"Upload",downloadbutton:"Download",toolbar:{sepContainers:"Containers",container:"Container",form:"Form",formgroup:"Form Group",menu:"Menu",workflowbar:"Workflow bar",customblock:"Custom block",sepCollection:"Collections",gridview:"GridView",collectioneditor:"Collection Editor",camera:"Camera",sepControls:"Controls",header:"Header",input:"Input",textarea:"TextArea",dictionary:"Dictionary",dropdown:"Dropdown",checkbox:"CheckBox",radiogroup:"Radio group",button:"Button",label:"Label",message:"Message",image:"Image",statistic:"Statistic",customcontrol:"Custom control",staticcontent:"Static Content",dropdowntrigger:"Dropdown trigger",sepCharts:"Charts",barchart:"Bar",linechart:"Line",scatterchart:"Scatter",doughnutchart:"Doughnut",piechart:"Pie",radarchart:"Radar",signaturecanvas:"Signature"},preview:{dropzonetext:"DROP ZONE"},editforms:{base:{generaltab:"General",styletab:"Style",eventstab:"Events",othertab:"Other",widthfield:"Width",heightfield:"Height",margintopfield:"Margin Top",marginbottomfield:"Margin Bottom",marginleftfield:"Margin Left",marginrightfield:"Margin Right",customcssclassfield:"Custom CSS class",stylefield:"Style",hiddenfield:"Hidden",hiddeninprintfield:"Hidden in Print mode",controlhasnoeventsmsg:"This control has no events.",eventsinfomsg:"These flags enable processing from this element.",requiredfield:"Required",defaultvaluefield:"Default value",customvalidationfield:"Custom Validation",visibleconditionfield:"Visible condition",readonlyconditionfield:"ReadOnly condition",savebutton:"Save",cancelbutton:"Cancel",okbutton:"OK",closebutton:"Close",sizedefault:"Default",sizemini:"Mini",sizetiny:"Tiny",sizesmall:"Small",sizemedium:"Medium",sizelarge:"Large",sizebig:"Big",sizehuge:"Huge",sizemassive:"Massive",attachednone:"None",attachedtop:"Top",attachedbottom:"Bottom",attachedtopright:"Top right",attachedtopleft:"Top left",attachedbottomleft:"Bottom left",attachedbottomright:"Bottom right",labeldefault:"Default",labelleft:"Left",labelright:"Right",labelleftcorner:"Left corner",labelrightcorner:"Right corner",closewithoutsavequestion:"Close without save?",questiontitle:"Question",onchangetimeout:"onChange timeout"},headerform:{namefield:"Name",sizefield:"Size",contentfield:"Content",textalignfield:"Text Align",textalignleft:"Left",textaligncenter:"Center",textalignright:"Right",subheaderfield:"Subheader"},buttonform:{namefield:"Name",typefield:"Type",typenonefield:"None",typesubmitfield:"Submit",sizefield:"Size",contentfield:"Content",optionsfield:"Options",basicfield:"Basic",circularfield:"Circular",compactfield:"Compact",disabledfield:"Disabled",fluidfield:"Fluid",linkfield:"Link",invertedfield:"Inverted",loadingfield:"Loading",primaryfield:"Primary",secondaryfield:"Secondary",togglefield:"Toggle",floatedfield:"Floated",floateddefaultfield:"Default",floatedleftfield:"Left",floatedrightfield:"Right"},labelform:{namefield:"Name",attachedfield:"Attached",contentfield:"Content",sizefield:"Size",optionsfield:"Options",basicfield:"Basic",circularfield:"Circular",cornerfield:"Corner",floatingfield:"Floating",horizontalfield:"Horizontal",pointingfield:"Pointing"},staticcontentform:{namefield:"Name",fontsizefield:"Font size",contentfield:"Content",allowhtmlfield:"Allow HTML"},messageform:{namefield:"Name",headerfield:"Header",optionsfield:"Options",compactfield:"Compact",errorfield:"Error",floatingfield:"Floating",infofield:"Info",negativefield:"Negative",positivefield:"Positive",successfield:"Success",warningfield:"Warning",contentfield:"Content",sizefield:"Size"},inputform:{namefield:"Name",labelfield:"Label",typefield:"Type",typetext:"Text",typenumber:"Number",typedate:"Date",typetime:"Time",typedatetime:"Date & Time",typepasswod:"Password",labelpositionfield:"Label position",optionsfield:"Options",loadingfield:"Loading",invertedfield:"Inverted",errorfield:"Error",disabledfield:"Disabled",transparentfield:"Transparent",fluidfield:"Fluid",readonlyfield:"Read only",placeholderfield:"Placeholder",sizefield:"Size",dateformatfield:"Date Format"},textareaform:{namefield:"Name",labelfield:"Label",rowsfield:"Rows",optionsfield:"Options",placeholderfield:"Placeholder",readonlyfield:"Read only"},checkboxform:{namefield:"Name",labelfield:"Label",optionsfield:"Options",fittedfield:"Fitted",indeterminatefield:"Indeterminate",readonlyfield:"ReadOnly",disabledfield:"Disabled",sliderfield:"Slider",togglefield:"Toggle"},dropdownform:{namefield:"Name",labelfield:"Label",datafield:"Data",datakeycolumn:"Key",datavaluecolumn:"Value",datatextcolumn:"Text",optionsfield:"Options",loadingfield:"Loading",errorfield:"Error",disabledfield:"Disabled",fluidfield:"Fluid",multiplefield:"Multiple",searchfield:"Search",selectionfield:"Selection",readonlyfield:"Read only",clearablefield:"Clearable",allowAddItemsfield:"Allow add items"},dictionaryform:{namefield:"Name",labelfield:"Label",datamodelfield:"Data model",placeholderfield:"Placeholder",columnsfield:"Columns (Name ASC, Email)",optionsfield:"Options",loadingfield:"Loading",errorfield:"Error",disabledfield:"Disabled",fluidfield:"Fluid",multiplefield:"Multiple",searchfield:"Search",selectionfield:"Selection",readonlyfield:"Read only",clearablefield:"Clearable",pagingfield:"Server pagination",pagesizefield:"Page Size",parentidfield:"Parent Field",textfield:"Text expression",textasvaluefield:"Text as Value",textasvalueinfofield:"The Text will be binded to a property directly"},radiogroupform:{namefield:"Name",labelfield:"Label",datafield:"Data",datakeycolumn:"Key",datavaluecolumn:"Value",datatextcolumn:"Text",groupdirectfield:"Group direction",directionhorizontalfield:"Horizontal",directionverticalfield:"Vertical",readonlyfield:"Read only"},form:{namefield:"Name",sizefield:"Size",optionsfield:"Options",loadingfield:"Loading",errorfield:"Error",invertedfield:"Inverted",replyfield:"Reply",successfield:"Success",warningfield:"Warning"},formgroupform:{namefield:"Name",widthsfield:"Widths",widthsdefaultfield:"Default",widthsequalfield:"Equal",widthscustomfield:"Custom (1 - 16)",typefield:"Type",orientationcolumnsfield:"Columns",orientationrowsfield:"Rows",orientationfieldfield:"Field"},containerform:{namefield:"Name",floatfield:"Float",floatnonefield:"None",floatleftfield:"Left",floatrightfield:"Right",flexbaselinefield:"Baseline",flexstretchfield:"Stretch",flexcenterfield:"Center",flexstartfield:"Start",flexendfield:"End",flexspacearoundfield:"Space Around",flexspacebetweenfield:"Space Between",displayhorizontalalignfield:"Horizontal Align",displayverticalalignfield:"Vertical Align",childrenviewfield:"Children Container View",childrenviewnonefield:"None",childrenviewrowsfield:"Rows",childrenviewcolumnsfield:"Columns",childrenviewcolumnswrapfield:"Columns Wrap",childrenstylefield:"Children Container Style"},repeaterform:{namefield:"Name",sliderfield:"Slider",itemvisibleconditionfield:"Item Visible Condition",defaultsortfield:"Default sort",pagertypefield:"Pagination type",pagesizefield:"Page size",loadbuttonlabelfield:"Load Button Label",norecordslabelfield:"No Record Button Label",childrenviewfield:"Children Container View",childrenviewnonefield:"None",childrenviewrowsfield:"Rows",childrenviewcolumnsfield:"Columns",childrenviewcolumnswrapfield:"Columns Wrap",childrenstylefield:"Children Container Style"},imageform:{namefield:"Name",srcfield:"Src",hreffield:"Href",optionsfield:"Options",avatarfield:"Avatar",borderedfield:"Bordered",centeredfield:"Centered",disabledfield:"Disabled",inlinefield:"Inline",spacedfield:"Spaced",floatedfield:"Floated",floatedleftfield:"Left",floatedrightfield:"Right",verticalalignfield:"Vertical align",verticalaligntopfield:"Top",verticalalignmiddlefield:"Middle",verticalalignbottomfield:"Bottom"},statisticform:{namefield:"Name",optionsfield:"Options",floatedfield:"Floated",horizontalfield:"Horizontal",datafield:"Data",sizefield:"Size"},gridform:{namefield:"Name",optionsfield:"Options",multiselectfield:"Multiselect",filterrowfield:"Filter row",disablesortfield:"Disable sorting",editformfield:"Edit form",editformshowtypefield:"Edit form show type",editformsidebardirectionfield:"Sidebar comes from",editformtypedefaultfield:"Default",editformtypemodalfield:"Modal",editformtypesidebarfield:"Sidebar",columnsfield:"Columns",keycolumn:"Key",namecolumn:"Name",typecolumn:"Type",widthcolumn:"Width",resizablecolumn:"Resizable",rowkeyfield:"Row key",pagertypefield:"Pagination type",pagertypenonefield:"None",pagertypeserverfield:"Server",pagesizefield:"Page size",defaultsortfield:"Default sort",rowheightfield:"Row height",minheightfield:"Min height",autoheightfield:"Auto Height",offsetfield:"OffSet",editType:"Edit type",editflowfield:"Edit flow",editformsidebarderectionleftfield:"Left",editformsidebarderectionrightfield:"Right",editformsidebarderectionbottomfield:"Bottom"},collectioneditorform:{namefield:"Name",idfield:"Id field",optionsfield:"Options",readonlyfield:"ReadOnly",draggablefield:"Draggable",hierarchicalfield:"Hierarchical",collapseallfield:"Collapse all",parentidfield:"ParentId field",columnsfield:"Columns",keycolumn:"Key",namecolumn:"Name",controlcolumn:"Control",widthcolumn:"Width",disableAdd:"Disable Add",disableDelete:"Disable Delete",childrenField:"Children field"},customform:{namefield:"Name",typefield:"Control type",propsfield:"Props",childrenfield:"Children"},customblockform:{namefield:"Name",sourcetypefield:"Source type",sourcetypeformfield:"Form name",sourcetypejsonfield:"JSON source",formnamefield:"Form name",sourcefield:"JSON source",placeholderfield:"Placeholder"},menuform:{namefield:"Name",activeitemfield:"Active Item",itemsfield:"Items",itemstargetcolumn:"Target",itemstitlecolumn:"Title",optionsfield:"Options",pointingfield:"Pointing",secondaryfield:"Secondary",tabularfield:"Tabular",fluidfield:"Fluid",verticalfield:"Vertical",linkfield:"Link",visibleConditioncolumn:"Visible Condition"},dropdowntriggerform:{namefield:"Name",defaultvaluefield:"Default Value",itemsfield:"Items",itemstargetcolumn:"Target",itemstitlecolumn:"Title",itemsvisibleconditioncolumn:"Visible Condition",imageurlfield:"ImageUrl"},chartform:{namefield:"Name",titlefield:"Title",titlesizefield:"Title size",legendpositionfield:"Legend position",responsivefield:"Responsive",datasetcustomfield:"Dataset custom",datalabelsplaceholder:"Q1, Q2, Q3, Q4",datalabelsfield:"Data labels",datasetlabelfield:"Dataset Label",datasetbackgroundcolorfield:"Dataset BackgroundColor"},workflowform:{namefield:"Name",setstatebuttonfield:"Set state button",blocksetstatefield:"Block SetState",blockloadparametersfield:"Block load parameters",blockselectschemefield:"Block select scheme",selectschemedropdownfield:"Select scheme dropdown"},uploadform:{namefield:"Name",iconFiletypes:"Icon file types",customPostUrl:"Custom post url",showFiletypeIcon:"Show file type icon",autoProcessQueue:"Auto process queue",addRemoveLinks:"Add remove links",multile:"Multiple file upload"},breadcrumbform:{namefield:"Name",itemsfield:"Items",itemstextcolumn:"Text",itemsurlcolumn:"Url",itemsactivecolumn:"Active",itemsiconcolumn:"Divider Icon"},searchform:{namefield:"Name",urlfield:"Url",categoryfield:"Enable Categories"},treepickerform:{namefield:"Name",labelfield:"Label",datamodelfield:"Data model",columnsfield:"Columns (Name ASC, Email)",optionsfield:"Options",errorfield:"Error",disabledfield:"Disabled",fluidfield:"Fluid",multiplefield:"Multiple",selectionfield:"Selection",readonlyfield:"Read only",clearablefield:"Clearable",pagingfield:"Server pagination",pagesizefield:"Page Size",parentidfield:"Parent Field",buttoncssclass:"Custom CSS class for Button",buttonstyle:"Button style",modalcssclass:"Custom CSS class for modal",modalstyle:"Modal style",textfield:"Text expression"},filecontrolform:{namefield:"Name",iconFiletypes:"Icon file types",customPostUrl:"Custom post url",showFiletypeIcon:"Show file type icon",autoProcessQueue:"Auto process queue",readonlyfield:"Read only",usedropzonefield:"Use dropzone",propertiesfield:"File properties",titlecolumn:"Column title",showpropertycolumn:"Show property",idfield:"Id field",fieldcolumn:"Table field",propertycolumn:"File property"},cardform:{namefield:"Name",headerfield:"Header",subheaderfield:"Subheader",imgurl:"Image URL"}}};function xo(e){return(xo="function"==typeof Symbol&&"symbol"==sd(Symbol.iterator)?function(e){return sd(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":sd(e)})(e)}function Po(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Lo(e,t){return(Lo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ro(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jo(e){return(jo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var To=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Lo(e,t)}(i,c.Component);var n,r,a=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=jo(n),t=r?(t=jo(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==xo(t)&&"function"!=typeof t?Ro(e):t});function i(e){var t,n,r,o;return function(e){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this),o=function(e){e.clientY<150&&t.scroll(-10),e.clientY>window.innerHeight-150&&t.scroll(10)},(r="onDragOver")in(n=Ro(t=a.call(this,e)))?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,t.state={apiurl:e.apiurl,imagefolder:e.imagefolder,dropzoneContext:{visible:!0}},t}return Po(i.prototype,[{key:"exists",value:function(e){return Ao.exists(e)}},{key:"setBuilderMode",value:function(e){this.setState({dropzoneContext:{visible:e}})}},{key:"create",value:function(){Ao.setData([]),this.setBuilderMode(!0)}},{key:"loadData",value:function(e){Ao.setData(e),this.setBuilderMode(!0)}},{key:"getData",value:function(){return Ao.getData()}},{key:"load",value:function(e){var t=this.props.getFormFunc(e);Ao.setData(t),this.setState({code:e}),this.setBuilderMode(!0)}},{key:"download",value:function(){var e=(this.props.formName||"form")+".json",t=Ao.getData(),n=JSON.stringify(t,null,2),t=new Blob([n],{type:"octet/stream"}),n=window.URL.createObjectURL(t);void 0!==window.navigator.msSaveBlob?window.navigator.msSaveBlob(t,e):((t=document.createElement("a")).setAttribute("href",n),t.setAttribute("download",e),document.body.appendChild(t),t.click())}},{key:"upload",value:function(e,t){var n=e.files[0];(e=new FileReader).onload=function(e){e=JSON.parse(e.target.result),Ao.setData(e),t&&t(e)},e.readAsText(n)}},{key:"onChooseFileUpload",value:function(){document.getElementById("builderUploadFile").click()}},{key:"onChangeFileUpload",value:function(){document.getElementById("builderUploadSubmit").click()}},{key:"onUpload",value:function(e){e.preventDefault(),this.upload(document.getElementById("builderUploadFile"))}},{key:"onDownload",value:function(e){this.download()}},{key:"scroll",value:function(e){window.scrollTo(null,window.scrollY+e),window.stop||setTimeout(function(){window.scroll(e)},20)}},{key:"render",value:function(){return null}},{key:"getCurrentLocalization",value:function(){return me(this.props.localization)?this.props.localization:Do}}]),i}();function Fo(n,r,e,t,o){var a=2<arguments.length&&void 0!==e?e:null;return((3<arguments.length&&void 0!==t?t:null)||Zn.a)(n,4<arguments.length&&void 0!==o?o:null).then(function(e){var t=e.json();return e.ok?t.then(r):a?t.then(a):void console.log(error+" url: "+n)}).catch(function(e){return a?a(e):void console.log(e+" url: "+n)})}function No(e){return(No="function"==typeof Symbol&&"symbol"==sd(Symbol.iterator)?function(e){return sd(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":sd(e)})(e)}function Io(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function Mo(r){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?Io(Object(o),!0).forEach(function(e){var t,n=r;e=o[t=e],t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):Io(Object(o)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))})}return r}function Bo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wo(e,t){return(Wo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Uo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ko(e){return(Ko=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var zo=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wo(e,t)}(i,c.Component);var n,r,a=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Ko(n),t=r?(t=Ko(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==No(t)&&"function"!=typeof t?Uo(e):t});function i(e){var t;!function(e){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this),(t=a.call(this,e)).state={adaptiveViewType:"desktop",model:me(e.model)?e.model:[],data:me(e.data)?e.data:"{}",errors:me(e.errors)?e.errors:"{}",eventslog:""};var o=Uo(t);return me(e.modelurl)&&Fo(e.modelurl,function(e){o.setState({model:e})},null,t.props.fetchFunc),me(e.dataurl)&&Fo(e.dataurl,function(e){var t=e;try{var n,r=ke.a.parse(o.state.data);for(n in r)null==t[n]&&(t[n]=r[n])}catch(e){}o.setState({data:ke.a.stringify(t,null,4)})},null,t.props.fetchFunc),t}return Bo(i.prototype,[{key:"setData",value:function(e){this.setState({data:ke.a.stringify(e,null,4)})}},{key:"getAdditionalDataForControl",value:function(r,e,d){var f=e.startIndex,m=e.pageSize,h=e.filters;e.sort,e.model,"dictionary"===r.props["data-buildertype"]?setTimeout(function(){for(var e=[],t=0;t<500;t++){var n={};n.key="Test_"+t,n.text="Test_"+t,n.value=t,e.push(n)}var r=[],o=e.length;if(Array.isArray(h)&&0<h.length){var a=h[0];if("="===a.term)for(var i=0;i<e.length;i++)e[i].value==a.value&&r.push(e[i]);else if("in"===a.term){for(var l=0;l<e.length;l++)for(var s=0;s<a.value.length;s++)if(e[l].value==a.value[s]){r.push(e[l]);break}}else if("like"===a.term){for(var c=0,u=0;u<e.length;u++)e[u].text.includes(a.value)&&(++c<f||r.length<=m&&r.push(e[u]));return void d({items:r,rowsCount:c})}d({items:r,rowsCount:r.length})}else if(fe(f)||fe(m))d({items:e,rowsCount:o});else{for(var p=0;p<m;p++)r.push(e[f+p]);d({items:r,rowsCount:o})}},100):"dictionarytree"===r.props["data-buildertype"]?setTimeout(function(){for(var e=[],t=0;t<10;t++){var n={};n.key="Test_"+t,n.text="Test_"+t,n.value=t,n.children=[];for(var r=0;r<10;r++){var o={};o.key=n.key+"_"+r,o.text=n.key+"_"+r,o.value=r,n.children.push(o)}e.push(n)}d({items:e,rowsCount:e.length})}):"workflowbar"===r.props["data-buildertype"]?d({commands:[{value:"approve",type:"1",text:"Approve"},{value:"back",type:"2",text:"Back"}],states:[{value:"draft",text:"Draft"},{value:"state1",text:"State 1"},{value:"state2",text:"State 2"},{value:"final",text:"Final"}]}):setTimeout(function(){for(var e=[],t=0;t<m;t++)!function(t){var n={};fe(r.props.columns)?(n.col1="col1_"+(Number(f)+Number(t)),n.col2="col2_"+(Number(f)+Number(t)),n.col3="col3_"+(Number(f)+Number(t))):r.props.columns.forEach(function(e){n[e.key]=e.key+"_"+(Number(f)+Number(t))}),e.push(n)}(t);d({startIndex:f,pageSize:m,rowsCount:100,items:e})},100)}},{key:"eventFunc",value:function(e){e.syntheticEvent=void 0,e.component=void 0,e.controlRef=void 0,e.sourceEvent=void 0;var t=this.state.eventslog,n="";0<t.length&&(n="\n"),t=(new Date).toLocaleTimeString()+": "+ke.a.stringify(Mo(Mo({},e),{},{e:void 0,sourceControlRef:void 0}))+n+t,this.setState({eventslog:t}),e.actions.includes("initSystem")&&e.parameters&&e.parameters.initialData&&this.setState({data:ke.a.stringify(e.parameters.initialData,null,4)})}},{key:"getModel",value:function(){return this.state.model}},{key:"setModel",value:function(e){this.setState({model:e})}},{key:"formDataChaged",value:function(e,t){t.key,t.value,this.setState({data:ke.a.stringify(e.state.data,null,4)})}},{key:"handleChange",value:function(e,t){t=t.value,this.setState({data:t})}},{key:"handleChangeErrors",value:function(e,t){t=t.value,this.setState({errors:t})}},{key:"handleChangeModel",value:function(e,t){t=t.value,this.setState({model:t})}}]),i}();function qo(e){return(qo="function"==typeof Symbol&&"symbol"==sd(Symbol.iterator)?function(e){return sd(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":sd(e)})(e)}function Go(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ho(e,t){return(Ho=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Qo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Jo(e){return(Jo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Yo=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ho(e,t)}(o,c.Component);var n,r,t=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Jo(n),t=r?(t=Jo(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==qo(t)&&"function"!=typeof t?Qo(e):t});function o(e){return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),(e=t.call(this,e)).state={data:[],editElement:null},Ao.listen(e.dataChanged.bind(Qo(e))),e}return Go(o.prototype,[{key:"dataChanged",value:function(e){this.setState({data:e,editElement:null})}},{key:"_onEdit",value:function(e){co.showEditForm(e.key)}},{key:"_onCopy",value:function(e){Ao.copy(e)}},{key:"_onDestroy",value:function(e){Ao.remove(e)}},{key:"_handleEvent",value:function(e){}},{key:"getPreview",value:function(){function e(e,t){return Co.createBuilderDropzone(e,void 0,void 0,t)}var t=this.props.dwKitControls.createControls(this,{model:this.state.data,data:void 0,buildermode:this.props.buildermode,eventOnEdit:this._onEdit,eventOnDelete:this._onDestroy,eventOnCopy:this._onCopy,parentItem:void 0,handleEvent:this._handleEvent,getFormFunc:this.props.getFormFunc,getFormFist:this.props.getFormFist,getAdditionalDataForControl:this.props.getAdditionalDataForControl,disableRefs:!0,downloadUrl:this.props.downloadUrl,uploadUrl:this.props.uploadUrl,controlsToReplace:[],needCheckReplace:!1,externalControlRender:this.props.externalControlRender,externalControlList:this.props.externalControlList}),n=void 0;return{dropzoneHeader:e("dropzone_header",n=me(this.props.localization)&&me(this.props.localization.preview)?this.props.localization.preview.dropzonetext:n),dropzoneFooter:0<t.length?e("dropzone_footer",n):null,items:t}}}]),o}();function $o(e){return($o="function"==typeof Symbol&&"symbol"==sd(Symbol.iterator)?function(e){return sd(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":sd(e)})(e)}function Xo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Zo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ea(e,t){return(ea=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ta(e){return(ta=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var na=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ea(e,t)}(a,c.Component);var e,t,n,r,o=(n=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=ta(n),t=r?(t=ta(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==$o(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function a(e){return function(e){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this),(e=o.call(this,e)).state={},e}return t=[{key:"getDerivedStateFromProps",value:function(r,e){var t=r.externalControlsOnly;!0!==t&&!1!==t&&(t=function(){if(window.DWKitFormSettings)return window.DWKitFormSettings.externalControlsOnly}());var n,o=[];return t||(n=r.dwKitControls.getItems(),o=function(e){if(Array.isArray(e))return Xo(e)}(n)||function(){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}()||function(e){if(e){if("string"==typeof e)return Xo(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Xo(e,void 0):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),Array.isArray(r.templates)&&0<r.templates.length&&(o.push({key:"sepTemplates",title:"Templates",isseparate:!0,defaultopen:!1}),r.templates.forEach(function(e){o.push({key:e,builderType:"customblock",title:e,control:void 0,editControl:r.editControl,defaultValues:{formname:e,sourceType:"form"}})})),t=r.externalControlList||qe(),function(e){if(r.localization)for(var t=r.localization,n=0;n<e.length;n++)me(t[e[n].key])&&(e[n].title=t[e[n].key])}(o=t?o.concat(t):o),{items:o}}}],Zo((e=a).prototype,[{key:"onDoubleClick",value:function(e){co.add(e)}},{key:"onExpand",value:function(e,t){e.isexpanded=t,this.setCookie("toolbar_"+e.key,t),this.forceUpdate()}},{key:"getCookie",value:function(e){return(e=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)")))?decodeURIComponent(e[1]):void 0}},{key:"setCookie",value:function(e,t,n){var r,o=(n=n||{}).expires;"number"==typeof o&&o&&((r=new Date).setTime(r.getTime()+1e3*o),o=n.expires=r),o&&o.toUTCString&&(n.expires=o.toUTCString());var a,i=e+"="+(t=encodeURIComponent(t));for(a in n){i+="; "+a;var l=n[a];!0!==l&&(i+="="+l)}document.cookie=i}}]),Zo(e,t),a}();function ra(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var oa=(ra(sa.prototype,[{key:"registerItems",value:function(e){oa.items=e}},{key:"getItems",value:function(){return oa.items}}]),new sa),aa=oa.registerItems,ia=oa.getItems,la=U.a.createContext({visible:!1});function sa(){var e;!function(e){if(!(e instanceof sa))throw new TypeError("Cannot call a class as a function")}(this),e=[],"items"in this?Object.defineProperty(this,"items",{value:e,enumerable:!0,configurable:!0,writable:!0}):this.items=e}var ca=function t(){!function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this)};function ua(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Fc=/{\S[A-z,0-9,_,-,.,:, ,/]+?}/gm,(Pc="regexForReplace")in(Oc=ca)?Object.defineProperty(Oc,Pc,{value:Fc,enumerable:!0,configurable:!0,writable:!0}):Oc[Pc]=Fc;var pa={},da=(Gc=ma,$c=[{key:"Set",value:function(e,t,n){pa.hasOwnProperty(e)&&clearTimeout(pa[e]),pa[e]=setTimeout(t,n)}},{key:"Clear",value:function(e){pa.hasOwnProperty(e)&&(clearTimeout(pa[e]),delete pa[e])}}],(Wc=null)&&ua(Gc.prototype,Wc),ua(Gc,$c),ma),fa=n(4);function ma(){!function(e){if(!(e instanceof ma))throw new TypeError("Cannot call a class as a function")}(this)}function ha(e){return(ha="function"==typeof Symbol&&"symbol"==sd(Symbol.iterator)?function(e){return sd(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":sd(e)})(e)}function ya(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function ba(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ya(Object(n),!0).forEach(function(e){Ea(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ya(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function ga(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function va(e,t){return(va=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Va(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wa(e){return(wa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ea(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(25);var ka=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&va(e,t)}(a,c.Component);var e,t,n,r,o=(n=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=wa(n),t=r?(t=wa(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==ha(t)&&"function"!=typeof t?Va(e):t});function a(e){var d;return function(e){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this),Ea(Va(d=o.call(this,e)),"_asyncGetData",null),Ea(Va(d),"_asyncGetModel",null),Ea(Va(d),"handleEvent",function(e){e.e;var o,a,i=e.key,t=e.propertyName,l=e.eventName,s=e.parameters,n=e.name,c=e.value,r=e.additionalValues,u=Va(d),p="onChange"===l;p&&(d.props.onlyExternalDataChanged||(void 0===d.state.data&&(d.state.data={}),(e=d.state.data)[t||i]=c,d.setState({data:e})),void 0!==d.props.dataChanged&&d.props.dataChanged(Va(d),{key:i,propertyName:t,value:c,additionalValues:r}),d.onConditions(i,l,s,n,c)),void 0===d.props.eventFunc||void 0!==(o=d.findModelItembyKey(i))&&void 0!==o.events&&void 0!==o.events[l]&&o.events[l].active&&(o.events=Object(fa.updateEventsFormat)(o.events),n=o.events[l],a=ba({},s),Array.isArray(n.triggers)&&0<n.triggers.length&&n.triggers.forEach(function(t){Array.isArray(t.parameters)&&0<t.parameters.length&&t.parameters.forEach(function(e){"string"==typeof e.value?a[e.name]=e.value.replace(ca.regexForReplace,function(e){return u.applySubstitution(e,s?s.row:void 0,u.state.data)}):a[e.name]=e.value});var n=u.findRefs(i),r=c,e=Array.isArray(t.targets)&&0<t.targets.length?function(){return t.targets.forEach(function(e){u.props.eventFunc({key:e,sourceControlRef:n,sourceControlValue:r,controlRef:u.findRefs(e),formName:u.props.formName,component:u,eventName:l,actions:t.actions,parameters:a})})}:function(){return u.props.eventFunc({key:i,sourceControlRef:n,sourceControlValue:r,controlRef:n,formName:u.props.formName,component:u,eventName:l,actions:t.actions,parameters:a})};!p||void 0===o.onChangeTimeout||""===o.onChangeTimeout||Number(o.onChangeTimeout)<1?e():da.Set(i,e,Number(o.onChangeTimeout))}))}),d.state={data:e.data,model:e.model,extendedData:e.extendedData,controlsToReplace:null,adaptiveViewType:d.getAdaptiveViewType()},d.checkLoadedState(d.state.data,d.state.model,!0),d.abortController=new AbortController,d.abortSignal=d.abortController.signal,d}return t=[{key:"getDerivedStateFromProps",value:function(e,t){var n,r={};if(e.adaptiveViewType&&t.adaptiveViewType!==e.adaptiveViewType&&(r.adaptiveViewType=e.adaptiveViewType),void 0!==e.modelurl&&""!==e.modelurl&&e.modelurl!==t.modelurl&&(r.modelurl=e.modelurl,r.needFetchModel=!0),void 0!==e.model&&e.model!==t.model&&(r.controlsToReplace=null,r.model=e.model),void 0!==e.dataurl&&""!==e.dataurl&&e.dataurl!==t.dataurl&&(r.dataurl=e.dataurl,r.needFetchData=!0),void 0!==e.data&&(r.data=e.data,e.autoCheckConditions&&t.enableCheckConditions&&(n=Object(fa.checkConditions)({data:r.data,model:r.model||t.model}),r.hideControls=n.hideControls,r.readOnlyControls=n.readOnlyControls),e.autoValidate))if((n=Object(fa.validate)({data:r.data,model:r.model||t.model})).valid)r.errors=void 0;else if(r.errors=n.errors,e.errors)for(var o in e.errors)r.errors[o]=e.errors[o];return e.objectId!==t.objectId&&(r.objectId=e.objectId,r.isLoaded=!1),r}}],ga((e=a).prototype,[{key:"createControls",value:function(){throw new Error("Function createControls must be implemented in ancestor!")}},{key:"componentDidMount",value:function(){this.PrepareState()}},{key:"componentDidUpdate",value:function(e,t){this.PrepareState()}},{key:"componentWillUnmount",value:function(){(this._asyncGetData||this._asyncGetModel)&&this.abortController.abort()}},{key:"PrepareState",value:function(){var t=this;this.state.needFetchModel&&(t.setState({needFetchModel:!1}),this._asyncGetModel=Fo(this.state.modelurl,function(e){t._asyncGetModel=null,t.modelChanged(e)},function(e){t._asyncGetModel=null,t.handleErrEvent(e)},this.props.fetchFunc,{signal:this.abortSignal})),this.state.needFetchData&&(t.setState({needFetchData:!1}),this._asyncGetData=Fo(this.state.modelurl,function(e){t._asyncGetData=null,t.dataChanged(e)},function(e){t._asyncGetData=null,t.handleErrEvent(e)},this.props.fetchFunc,{signal:this.abortSignal})),this.checkConditions(this.state.model),this.checkLoadedState(this.state.data,this.state.model)}},{key:"modelChanged",value:function(e){this.setState({model:e,controlsToReplace:null}),this.checkConditions(e)}},{key:"dataChanged",value:function(e){this.setState({data:e}),this.checkLoadedState(e,this.state.model)}},{key:"checkLoadedState",value:function(e,t,n){this.state.isLoaded||null==e||null==t||(n?this.state.isLoaded=!0:this.setState({isLoaded:!0}),e=ba({},e),Object(fa.initDefaultState)({model:t,data:e}),this.props.eventFunc({key:void 0,controlRef:this,formName:this.props.formName,component:this,eventName:"init",actions:["initSystem","init"],parameters:{initialData:e}}))}},{key:"findRefs",value:function(e,t){if(t=t||this.refs){var n=t[e];if(!n)for(var r in t)if(n=t[r].refs?this.findRefs(e,t[r].refs):n)break;return n}}},{key:"checkConditions",value:function(e,t){var n=!1;if(Array.isArray(e))for(var r=0;r<e.length;r++){if(void 0!==e[r]["other-visibleConition"]&&""!==e[r]["other-visibleConition"]||void 0!==e[r]["other-readOnlyConition"]&&""!==e[r]["other-readOnlyConition"])n=!0;else if(Array.isArray(e[r].children))n=this.checkConditions(e[r].children,!0);else if("object"==ha(e[r].placeholders))for(var o in e[r].placeholders)n=this.checkConditions(e[r].placeholders[o],!0);if(n)break}if(t)return n;this.state.enableCheckConditions=n}},{key:"onConditions",value:function(e,t,n,r,o){var a;this.state.enableCheckConditions&&(this.props.autoCheckConditions&&this.state.enableCheckConditions?(a=Object(fa.checkConditions)({data:this.state.data,model:this.state.model}),this.setState({hideControls:a.hideControls,readOnlyControls:a.readOnlyControls})):this.props.eventFunc({key:e,controlRef:this.findRefs(e),formName:this.props.formName,component:this,eventName:t,actions:["checkConditions"],parameters:n}))}},{key:"handleErrEvent",value:function(e){this.props.eventErrFunc&&this.props.eventErrFunc(this,e)}},{key:"findModelItembyKey",value:function(e,t){void 0===t&&(t=this.state.model);for(var n=0;n<t.length;n++){if(t[n].key===e)return t[n];if(void 0!==t[n].children){var r=this.findModelItembyKey(e,t[n].children);if(void 0!==r)return r}if(void 0!==t[n].placeholders)for(var o in t[n].placeholders)if(void 0!==(o=this.findModelItembyKey(e,t[n].placeholders[o])))return o;if("customblock"===t[n]["data-buildertype"]&&"source"===t[n].sourceType&&null!=t[n].source){var a=ke.a.parse(t[n].source);if(void 0!==(a=this.findModelItembyKey(e,a)))return a}if("customblock"===t[n]["data-buildertype"]&&"form"===t[n].sourceType&&void 0!==t[n].formname&&""!==t[n].formname&&(a=t[n].children||this.props.getFormFunc(t[n].formname),void 0!==(a=this.findModelItembyKey(e,a))))return a}}},{key:"getAdaptiveViewType",value:function(){return"mobile"}},{key:"handleResize",value:function(){var e=this.getAdaptiveViewType();this.state.adaptiveViewType!==e&&this.setState({adaptiveViewType:e})}},{key:"applySubstitution",value:function(e,t,n){var r=e;return null!=t&&"row."==e.slice(1,5)?null==(r=t[e.slice(5,e.length-1)])?"":r:null!=n&&null==(r=n[e.slice(1,e.length-1)])?"":r}}]),ga(e,t),a}();function Ca(e){return(Ca="function"==typeof Symbol&&"symbol"==sd(Symbol.iterator)?function(e){return sd(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":sd(e)})(e)}function _a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Oa(e,t){return(Oa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Sa(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Aa(e){return(Aa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Da=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Oa(e,t)}(o,c.Component);var n,r,t=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Aa(n),t=r?(t=Aa(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Ca(t)&&"function"!=typeof t?Sa(e):t});function o(e){return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),(e=t.call(this,e)).state={key:void 0,item:void 0,open:!1},Ao.listenTo(co.showEditForm,e.onShow.bind(Sa(e))),e}return _a(o.prototype,[{key:"handleChange",value:function(e,t){var n=t.name,r=t.value,t=t.checked,o=this.state.item;if(Object.assign({},o),fe(r)?o[n]=t:o[n]=r,"tab"===o["data-buildertype"]&&null!=o.placeholders||"collectioneditor"===o["data-buildertype"]&&null!=o.placeholders)for(var a in o.placeholders)!function(t){var n;Object.prototype.hasOwnProperty.call(o.placeholders,t)&&(n=!0,null!=o.panes&&o.panes.forEach(function(e){t===e.psid&&(n=!1)}),null!=o.columns&&o.columns.forEach(function(e){t===e.key&&"custom"===e.control&&(n=!1)}),n&&delete o.placeholders[t])}(a);this.setState({item:o})}},{key:"onShow",value:function(e){var t,n=Ao.getByKey(e),r={};for(t in n)"object"===Ca(n[t])?r[t]=JSON.parse(JSON.stringify(n[t])):r[t]=n[t];this.setState({key:e,item:r,open:!0})}},{key:"isChangedItem",value:function(){var e,t=Ao.getByKey(this.state.key),n=this.state.item;for(e in n)if(JSON.stringify(n[e])!==JSON.stringify(t[e])&&("events"!==e||!fe(n[e])&&"{}"!==JSON.stringify(n[e])||!fe(t[e])&&"{}"!==JSON.stringify(t[e])))return!0;return!1}},{key:"getControlsList",value:function(){return Ao.getAllKeys(Ao.getData())}},{key:"showConfirm",value:function(e,t){this.setState({confirm:!0,confirmtext:e,confirmHandle:t})}},{key:"onClose",value:function(){var e;this.isChangedItem()?(e="Close without save?",me(this.props.localization)&&(e=this.props.localization.base.closewithoutsavequestion),this.showConfirm(e,this.onCloseConfirmed.bind(this))):this.onCloseConfirmed()}},{key:"onSave",value:function(){Ao.updateItemByKey(this.state.key,this.state.item),this.onCloseConfirmed(),"gridlayout"===this.state.item["data-buildertype"]&&setTimeout(function(){var e;"function"==typeof Event?window.dispatchEvent(new Event("resize")):((e=window.document.createEvent("UIEvents")).initUIEvent("resize",!0,!1,window,0),window.dispatchEvent(e))},100)}},{key:"onCloseConfirmed",value:function(){this.setState({open:!1,confirm:!1})}},{key:"render",value:function(){var e=this;return K("edit-form",{confirmHandleCancel:function(){return e.setState({confirm:!1})},dwKitControls:this.props.dwKitControls,parent:this,props:this.props,onClose:this.onClose.bind(this),onSave:this.onSave.bind(this),state:this.state})}}]),o}();function xa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pa(e,t,n){void 0===t[e]&&(t[e]=[]),t[e].push(n)}var La=(xa(Ra.prototype,[{key:"toNested",value:function(e,t){for(var n,r,o,a=0,i=[],l={},s={},c=e.length;a<c;a++)n=(o=e[a])[this.config.id],r=o[this.config.parent],l[n]=o,r===t?i.push(o):void 0!==l[r]?Pa(this.config.children,l[r],o):Pa(r,s,o),this.config.options.deleteParent&&delete o[this.config.parent],void 0!==s[n]&&function(e,t,n){var r=n.length;for(void 0===t[e]&&(t[e]=[]);0<r--;)t[e].push(n.shift())}(this.config.children,o,s[n]);return i}}]),Ra);function Ra(e){!function(e){if(!(e instanceof Ra))throw new TypeError("Cannot call a class as a function")}(this),this.config=e=e||{},this.config.id=e.id||"id",this.config.parent=e.parent||"parent",this.config.children=e.children||"nodes",this.config.options=e.options||{deleteParent:!1}}function ja(e){return(ja="function"==typeof Symbol&&"symbol"==sd(Symbol.iterator)?function(e){return sd(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":sd(e)})(e)}function Ta(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fa(e,t,n){return(Fa="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){if(e=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ia(e)););return e}(e,t))return(t=Object.getOwnPropertyDescriptor(e,t)).get?t.get.call(n):t.value})(e,t,n||e)}function Na(e,t){return(Na=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ia(e){return(Ia=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ma=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Na(e,t)}(t,ka);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Ia(n),t=r?(t=Ia(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==ja(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return Ta(t.prototype,[{key:"componentDidMount",value:function(){Fa(Ia(t.prototype),"componentDidMount",this).call(this),window.addEventListener&&window.addEventListener("resize",this.handleResize.bind(this))}},{key:"componentWillUnmount",value:function(){Fa(Ia(t.prototype),"componentWillUnmount",this).call(this),window.removeEventListener&&window.removeEventListener("resize",this.handleResize.bind(this))}},{key:"getItemsForRender",value:function(){var e=[],t=!1;null!==this.state.model&&void 0!==this.state.model&&(e=null===this.state.controlsToReplace?[]:this.state.controlsToReplace,t=null===this.state.controlsToReplace);var n=this.createControls(this,{model:this.state.model,data:this.state.data,errors:this.state.errors||this.props.errors,handleEvent:this.handleEvent,getFormFunc:this.props.getFormFunc,getAdditionalDataForControl:this.props.getAdditionalDataForControl,hideControls:(this.props.autoCheckConditions?this.state:this.props).hideControls,readOnlyControls:(this.props.autoCheckConditions?this.state:this.props).readOnlyControls,readOnly:this.props.readOnly,uploadUrl:this.props.uploadUrl,downloadUrl:this.props.downloadUrl,extendedData:this.props.extendedData,controlsToReplace:e,needCheckReplace:t,externalControlRender:this.props.externalControlRender,externalControlList:this.props.externalControlList,adaptiveViewType:this.props.adaptiveViewType||this.state.adaptiveViewType});return t&&(this.state.controlsToReplace=e),n}},{key:"getAdaptiveViewType",value:function(){return window.matchMedia&&window.matchMedia("(max-width: 997px)").matches?"mobile":"desktop"}}]),t}(),Ba=n(1);function Wa(e){return(Wa="function"==typeof Symbol&&"symbol"==sd(Symbol.iterator)?function(e){return sd(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":sd(e)})(e)}function Ua(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ka(e,t){return(Ka=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function za(e){return(za=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var qa=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ka(e,t)}(t,Yo);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=za(n),t=r?(t=za(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Wa(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return Ua(t.prototype,[{key:"render",value:function(){var e=this.getPreview();return U.a.createElement("div",{className:"dwkit-formbuilder-preview"},e.dropzoneHeader,e.items,e.dropzoneFooter)}}]),t}(),Ga=n(3),Ha=n.n(Ga);function Qa(e){return(Qa="function"==typeof Symbol&&"symbol"==sd(Symbol.iterator)?function(e){return sd(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":sd(e)})(e)}function Ja(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function Ya(r){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?Ja(Object(o),!0).forEach(function(e){var t,n=r;e=o[t=e],t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):Ja(Object(o)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))})}return r}function $a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Za(e,t,n){return t&&Xa(e.prototype,t),n&&Xa(e,n),e}function ei(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ti(e,t)}function ti(e,t){return(ti=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ni(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e=ri(n),t=r?(t=ri(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Qa(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t}}function ri(e){return(ri=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var oi=function(){ei(n,U.a.Component);var t=ni(n);function n(e){return $a(this,n),(e=t.call(this,e)).state={value:""},e}return Za(n,[{key:"handleChange",value:function(e){e=e.toLowerCase(),this.setState({value:e}),this.props.handleChange&&this.props.handleChange(e)}},{key:"reset",value:function(){this.handleChange("")}},{key:"render",value:function(){var t=this;return U.a.createElement(Ba.Input,{onChange:function(e){return t.handleChange(e.target.value)},placeholder:"Search...",value:this.state.value,inverted:!0,transparent:!0,icon:this.state.value.length?U.a.createElement(Ba.Icon,{link:!0,name:"cancel",onClick:this.handleChange.bind(this,"")}):U.a.createElement(Ba.Icon,{name:"search"})})}}]),n}(),ai=function(){ei(n,na);var t=ni(n);function n(e){return $a(this,n),(e=t.call(this,e)).state=Ya(Ya({},e.state),{},{filtered:void 0}),e.searchForm=U.a.createRef(),e}return Za(n,[{key:"onDragStart",value:function(e,t){var n,r=".dwkit-formbuilder-zone";t.dataTransfer.setData("text",""),me(e.forContainerType)&&(t=e.forContainerType.split(","),n="",t.forEach(function(e){0<n.length&&(n+=","),n+="[data-buildertype='"+e+"'] > "+r}),r=n),Ha()(r).addClass("dwkit-formbuilder-zone-active").on("dragenter",this.onTargetDragEnter.bind(this,e,"dwkit-formbuilder-zone-select")).on("dragleave",this.onTargetDragLeave.bind(this,e,"dwkit-formbuilder-zone-select")).on("dragover",function(e){e.preventDefault()}).on("drop",this.onDrop.bind(this,e))}},{key:"onTargetDragEnter",value:function(e,t,n){Ha()(n.target).addClass(t)}},{key:"onTargetDragLeave",value:function(e,t,n){Ha()(n.target).removeClass(t)}},{key:"onDragEnd",value:function(e){this.stop=!1;var t=Ha()(".dwkit-formbuilder-zone");t.removeClass("dwkit-formbuilder-zone-active"),t.removeClass("dwkit-formbuilder-zone-select"),t.off()}},{key:"onDrop",value:function(e,t){return 0<(t=Ha()(t.target)).length&&co.add(e,t[0]),this.onDragEnd(e),!1}},{key:"handleSearchChange",value:function(t){this.setState({filtered:t?this.state.items.filter(function(e){return!e.isseparate&&e.title.toLowerCase().includes(t)}):void 0})}},{key:"render",value:function(){var o=this,a=this,i=!1,e=this.state.filtered||this.state.items;return U.a.createElement("div",{className:"dwkit-formbuilder-toolbox"},U.a.createElement(oi,{ref:this.searchForm,items:this.state.items,handleChange:this.handleSearchChange.bind(this)}),U.a.createElement("ul",null,this.state.filtered&&U.a.createElement("li",{className:"dwkit-formbuilder-toolbox-subheader"},"Search results:",!this.state.filtered.length&&U.a.createElement("div",{className:"dwkit-formbuilder-toolbox-search-nothing"},"Not found",U.a.createElement("br",null),U.a.createElement(Ba.Button,{basic:!0,fluid:!0,inverted:!0,onClick:function(){return o.searchForm.current.reset()}},"Reset"))),e.map(function(e){var t,n,r=e.title;return me(a.props.localization)&&me(a.props.localization[e.key])&&(r=a.props.localization[e.key]),e.isseparate?(fe(e.isexpanded)&&(n=a.getCookie("toolbar_"+e.key),e.isexpanded=me(n)?"true"===n:e.defaultopen),n=e.isexpanded?(i=!0,t=a.onExpand.bind(a,e,!1),"angle down"):(i=!1,t=a.onExpand.bind(a,e,!0),"angle right"),U.a.createElement("li",{draggable:"false",onClick:t,className:"dwkit-formbuilder-toolbox-subheader",key:e.key},r,U.a.createElement(Ba.Icon,{name:n}))):i||o.state.filtered?U.a.createElement("li",{draggable:"true",className:"dwkit-formbuilder-toolbox-control",key:e.key,onDragStart:o.onDragStart.bind(o,e),onDragEnd:o.onDragEnd.bind(o,e),onDoubleClick:o.onDoubleClick.bind(o,e)},U.a.createElement("div",{className:"dwkit-formbuilder-toolbox-control-text"},r)):void 0})))}}]),n}();function ii(e){return(ii="function"==typeof Symbol&&"symbol"==sd(Symbol.iterator)?function(e){return sd(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":sd(e)})(e)}function li(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function si(e,t){return(si=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ci(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ui(e){return(ui=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var pi=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&si(e,t)}(o,c.Component);var n,r,t=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=ui(n),t=r?(t=ui(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==ii(t)&&"function"!=typeof t?ci(e):t});function o(e){return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),(e=t.call(this,e)).state={activeItem:"general",defaultValuePreferInt:!1},e.menuItems=[{key:"general",name:"general",content:e.getLocalValue("generaltab","General"),active:!0,onClick:e.handleItemClick.bind(ci(e))},{key:"style",name:"style",content:e.getLocalValue("styletab","Style"),active:!1,onClick:e.handleItemClick.bind(ci(e))},{key:"events",name:"events",content:e.getLocalValue("eventstab","Events"),active:!1,onClick:e.handleItemClick.bind(ci(e))},{key:"tooltip",name:"tooltip",content:e.getLocalValue("tooltiptab","Tooltip"),active:!1,onClick:e.handleItemClick.bind(ci(e))},{key:"other",name:"other",content:e.getLocalValue("othertab","Other"),active:!1,onClick:e.handleItemClick.bind(ci(e))}],e}return li(o.prototype,[{key:"getLocalValue",value:function(e,t,n){var r=this.props.localization,n=me(n)?n:"base";return fe(r)||fe(r[n])||fe(r[n][e])?t:r[n][e]}},{key:"handleItemClick",value:function(e,t){t=t.name,this.setState({activeItem:t})}},{key:"getDescription",value:function(){var t=this.state.activeItem;return this.menuItems.forEach(function(e){e.active=e.name===t}),U.a.createElement(Ba.Modal.Description,null,U.a.createElement(Ba.Menu,{key:"descriptionMenu",pointing:!0,secondary:!0,items:this.menuItems}),this.getDetailDescription(t))}},{key:"getDetailDescription",value:function(e){var t;return"general"===e?t=this.getGeneralDescription():"style"===e?t=this.getStyleDescription():"events"===e?t=this.getEventsDescription():"tooltip"===e?t=this.getToolTipDescription():"other"===e&&(t=this.getOtherDescription()),t}},{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent);return U.a.createElement(Ba.Form,{key:"generalDescriptionForm"},U.a.createElement(Ba.Form.Input,{key:"name",label:"Name",name:"key",value:e.key,onChange:t}))}},{key:"getStyleDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent),n="/*** Example Code ***/\ncolor:red;\npaddingTop:5px;",r=[{text:this.getLocalValue("adaptivedefault","Any"),value:""},{text:this.getLocalValue("adaptivedesctop","Desktop"),value:"desktop"},{text:this.getLocalValue("adaptivemobile","Mobile"),value:"mobile"}];return U.a.createElement(Ba.Form,{key:"styleDescriptionForm"},U.a.createElement(Ba.Form.Group,{widths:"equal"},U.a.createElement(Ba.Form.Input,{name:"style-width",label:this.getLocalValue("widthfield","Width"),placeholder:"100px",value:e["style-width"],onChange:t}),U.a.createElement(Ba.Form.Input,{name:"style-height",label:this.getLocalValue("heightfield","Height"),placeholder:"100px",value:e["style-height"],onChange:t})),U.a.createElement(Ba.Form.Group,{widths:"equal"},U.a.createElement(Ba.Form.Input,{name:"style-marginTop",label:this.getLocalValue("margintopfield","Margin Top"),placeholder:"0px",value:e["style-marginTop"],onChange:t}),U.a.createElement(Ba.Form.Input,{name:"style-marginBottom",label:this.getLocalValue("marginbottomfield","Margin Bottom"),placeholder:"0px",value:e["style-marginBottom"],onChange:t}),U.a.createElement(Ba.Form.Input,{name:"style-marginLeft",label:this.getLocalValue("marginleftfield","Margin Left"),placeholder:"0px",value:e["style-marginLeft"],onChange:t}),U.a.createElement(Ba.Form.Input,{name:"style-marginRight",label:this.getLocalValue("marginrightfield","Margin Right"),placeholder:"0px",value:e["style-marginRight"],onChange:t})),U.a.createElement(Ba.Form.Input,{name:"style-customcss",label:this.getLocalValue("customcssclassfield","Custom CSS class"),placeholder:"dwkit-application-css (without '.')",value:e["style-customcss"],onChange:t}),U.a.createElement(Ba.Form.TextArea,{name:"style-source",label:this.getLocalValue("stylefield","Style"),placeholder:n,value:e["style-source"],onChange:t}),U.a.createElement(Ba.Form.Group,null,U.a.createElement(Ba.Form.Checkbox,{name:"style-hidden",label:this.getLocalValue("hiddenfield","Hidden"),checked:e["style-hidden"],onChange:t}),U.a.createElement(Ba.Form.Checkbox,{name:"style-hiddeninprint",label:this.getLocalValue("hiddeninprintfield","Hidden in Print mode"),checked:e["style-hiddeninprint"],onChange:t})),U.a.createElement(Ba.Form.Checkbox,{name:"style-adaptive",label:this.getLocalValue("adaptivefield","Adaptive Layout"),checked:e["style-adaptive"],onChange:t}),e["style-adaptive"]&&U.a.createElement(Ba.Form.Dropdown,{name:"style-renderwhen",selection:!0,fluid:!0,search:!0,options:r,placeholder:"Any",label:this.getLocalValue("style-renderwhenfield","Render when"),value:e["style-renderwhen"],onChange:t}),e["style-adaptive"]&&U.a.createElement(Ba.Form.TextArea,{name:"style-mobilesource",label:this.getLocalValue("mobilesourcefield","Mobile style"),placeholder:n,value:e["style-mobilesource"],onChange:t}))}},{key:"getEventsList",value:function(){return[]}},{key:"getEventsDescription",value:function(){var e=this.props.data;fe(e.events)&&(e.events={});var t,n=this.props.parent.handleChange.bind(this.props.parent),r=this.props.actions,o=this.getEventsList();if(Array.isArray(o)&&0!==o.length){for(var a=this.props.parent.getControlsList(),i=[],l=0;l<a.length;l++)e.key!==a[l]&&i.push({text:a[l],value:a[l]});t=U.a.createElement(At,{key:"events",name:"events",data:e.events,events:o,actions:r,targets:i,onAdditionActions:this.handleAdditionActions.bind(this),onChange:n})}else t=U.a.createElement(Ba.Message,{icon:!0},U.a.createElement(Ba.Icon,{name:"info"}),U.a.createElement(Ba.Message.Content,null,this.getLocalValue("controlhasnoeventsmsg","This control has no events.")));return r=null,o.includes("onChange")&&(r=U.a.createElement(Ba.Form.Input,{name:"onChangeTimeout",style:{width:100},placeholder:"0",type:"number",label:this.getLocalValue("onchangetimeout","onChange timeout"),value:e.onChangeTimeout,onChange:n})),U.a.createElement(Ba.Form,{key:"eventsDescriptionForm"},U.a.createElement(Ba.Message,{icon:!0},U.a.createElement(Ba.Icon,{name:"info"}),U.a.createElement(Ba.Message.Content,null,this.getLocalValue("eventsinfomsg","These flags enable processing from this element."))),r,t)}},{key:"getToolTipDescription",value:function(){var e=[{text:this.getLocalValue("tooltipdefault","Default"),value:""},{text:this.getLocalValue("tooltiptopcenter","Top Center"),value:"top center"},{text:this.getLocalValue("tooltiptopleft","Top Left"),value:"top left"},{text:this.getLocalValue("tooltiptopright","Top Right"),value:"top right"},{text:this.getLocalValue("tooltipbottomcenter","Bottom Center"),value:"bottom center"},{text:this.getLocalValue("tooltipbottomleft","Bottom Left"),value:"bottom left"},{text:this.getLocalValue("tooltipbottomright","Bottom right"),value:"bottom right"},{text:this.getLocalValue("tooltiprightright","Right Center"),value:"right center"},{text:this.getLocalValue("tooltipleftcenter","Left Center"),value:"left center"}],t=[{text:this.getLocalValue("tooltipdefault","Default"),value:""},{text:this.getLocalValue("tooltiphover","Hover"),value:"hover"},{text:this.getLocalValue("tooltipclick","Click"),value:"click"},{text:this.getLocalValue("tooltipfocus","Focus"),value:"focus"}],n=this.props.data,r=this.props.parent.handleChange.bind(this.props.parent),o=n["tooltip-enabled"]?U.a.createElement(Ba.Segment,{vertical:!0},U.a.createElement(Ba.Form.Checkbox,{name:"tooltip-enabled",label:this.getLocalValue("tooltipenabledfield","Enabled"),checked:n["tooltip-enabled"],onChange:r}),U.a.createElement(Ba.Form.Input,{name:"tooltip-header",label:this.getLocalValue("tooltipheaderfield","Tooltip Header"),value:n["tooltip-header"],onChange:r}),U.a.createElement(Ba.Form.Input,{name:"tooltip-content",label:this.getLocalValue("tooltipcontentfield","Tooltip Content"),value:n["tooltip-content"],onChange:r}),U.a.createElement(Ba.Form.Group,null,U.a.createElement(Ba.Form.Input,{name:"tooltip-classname",label:this.getLocalValue("tooltipclassnamefield","ClassName"),value:n["tooltip-classname"],onChange:r}),U.a.createElement(Ba.Form.Dropdown,{name:"tooltip-showtype",selection:!0,fluid:!0,search:!0,options:t,placeholder:"Default",label:this.getLocalValue("tooltipshowtypefield","Tooptip showing type"),value:n["tooltip-showtype"],onChange:r}),U.a.createElement(Ba.Form.Dropdown,{name:"tooltip-position",selection:!0,fluid:!0,search:!0,options:e,placeholder:"Default",label:this.getLocalValue("tooltippositionfield","Tooptip position"),value:n["tooltip-position"],onChange:r}))):U.a.createElement(Ba.Segment,{vertical:!0},U.a.createElement(Ba.Form.Checkbox,{name:"tooltip-enabled",label:this.getLocalValue("tooltipenabledfield","Enabled"),checked:n["tooltip-enabled"],onChange:r}));return U.a.createElement(Ba.Form,{key:"tooltipDescriptionForm"},U.a.createElement(Ba.Segment,{vertical:!0},U.a.createElement(Ba.Form.Group,null,U.a.createElement(Ba.Form.Checkbox,{name:"tooltip-errordisabled",label:this.getLocalValue("errortooltipdisabledfield","Disable error tooptip"),checked:n["tooltip-errordisabled"],onChange:r}),U.a.createElement(Ba.Form.Dropdown,{name:"tooltip-errorshowtype",selection:!0,fluid:!0,search:!0,options:t,placeholder:"Default",label:this.getLocalValue("tooltiperrorshowtypefield","Error tooptip showing type"),value:n["tooltip-errorshowtype"],onChange:r}),U.a.createElement(Ba.Form.Dropdown,{name:"tooltip-errorposition",selection:!0,fluid:!0,search:!0,options:e,placeholder:"Default",label:this.getLocalValue("errortooltippositionfield","Error tooptip position"),value:n["tooltip-errorposition"],onChange:r}))),o)}},{key:"getOtherDescription",value:function(){var e=this.props.data,r=this.props.parent.handleChange.bind(this.props.parent),t=this.state.defaultValuePreferInt?function(e,t){var n=t.name;(t=t.value)&&t.match&&t.match(/^-?\d+$/)&&(t=parseInt(t)),r(e,{name:n,value:t})}:r;return U.a.createElement(Ba.Form,{key:"otherDescriptionForm"},U.a.createElement(Ba.Form.Input,{name:"propertyName",label:this.getLocalValue("propertynamefield","Property Name"),value:e.propertyName,onChange:r}),U.a.createElement(Ba.Form.Checkbox,{name:"other-required",label:this.getLocalValue("requiredfield","Required"),checked:e["other-required"],onChange:r}),U.a.createElement(Ba.Form.Input,{name:"defaultValue",label:this.getLocalValue("defaultvaluefield","Default value"),value:e.defaultValue,onChange:t}),U.a.createElement(Ba.Form.TextArea,{name:"other-customValidation",label:this.getLocalValue("customvalidationfield","Custom Validation"),placeholder:"/*** Example Code ***/\nvalue > 10 ? true : 'Must be more 10'",value:e["other-customValidation"],onChange:r}),U.a.createElement(Ba.Form.TextArea,{name:"other-visibleConition",label:this.getLocalValue("visibleconditionfield","Visible condition"),placeholder:"/*** Example Code ***/\ndata.type == 1 ? true : false",value:e["other-visibleConition"],onChange:r}),U.a.createElement(Ba.Form.TextArea,{name:"other-readOnlyConition",label:this.getLocalValue("readonlyconditionfield","ReadOnly condition"),placeholder:"/*** Example Code ***/\ndata.type == 1 ? true : false",value:e["other-readOnlyConition"],onChange:r}))}},{key:"render",value:function(){return U.a.createElement(Ba.Modal,{dimmer:"inverted",open:this.props.open,onClose:this.props.onClose.bind(this.props.parent)},U.a.createElement(Ba.Modal.Content,null,U.a.createElement(Ba.Modal.Description,null,U.a.createElement(Ba.Label,{className:"dwkit-formbuilder-editform-controltype"},this.props.data["data-buildertype"]),this.getDescription())),U.a.createElement(Ba.Modal.Actions,null,U.a.createElement(Ba.Button,{className:"buttontype1",onClick:this.props.onSave.bind(this.props.parent)},this.getLocalValue("savebutton","Save")),U.a.createElement(Ba.Button,{className:"buttontype2",onClick:this.props.onClose.bind(this.props.parent)},this.getLocalValue("cancelbutton","Cancel"))))}},{key:"checkActionsList",value:function(e){for(var t=!1,n=0;n<this.props.actions.length;n++)if(this.props.actions[n]==e){t=!0;break}t||this.props.actions.push({text:e,value:e})}},{key:"handleAdditionActions",value:function(e,t){t=t.value,this.checkActionsList(t),this.forceUpdate()}}]),o}();function di(e){return(di="function"==typeof Symbol&&"symbol"==sd(Symbol.iterator)?function(e){return sd(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":sd(e)})(e)}function fi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mi(e,t){return(mi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function hi(e){return(hi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var yi=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mi(e,t)}(t,pi);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=hi(n),t=r?(t=hi(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==di(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return fi(t.prototype,[{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent);return U.a.createElement(Ba.Form,null,U.a.createElement(Ba.Form.Group,{widths:"equal"},U.a.createElement(Ba.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","customblockform"),value:e.key,onChange:t}),U.a.createElement("div",{className:"field"},U.a.createElement("label",null,this.getLocalValue("sourcetypefield","Source type","customblockform")),U.a.createElement(Ba.Form.Group,null,U.a.createElement(Ba.Form.Radio,{name:"sourceType",label:this.getLocalValue("sourcetypeformfield","Form name","customblockform"),value:"form",checked:void 0===e.sourceType||"form"==e.sourceType,onChange:t}),U.a.createElement(Ba.Form.Radio,{name:"sourceType",label:this.getLocalValue("sourcetypejsonfield","JSON source","customblockform"),value:"source",checked:"source"===e.sourceType,onChange:t}),U.a.createElement(Ba.Form.Radio,{name:"sourceType",label:this.getLocalValue("placeholderfield","Placeholder","customblockform"),value:"placeholder",checked:"placeholder"===e.sourceType,onChange:t})))),U.a.createElement(Ba.Form.Input,{name:"formname",label:this.getLocalValue("formnamefield","Form name","customblockform"),value:e.formname,onChange:t,disabled:me(e.sourceType)&&"form"!==e.sourceType}),U.a.createElement(Ba.Form.TextArea,{key:"source",label:this.getLocalValue("sourcefield","JSON source","customblockform"),name:"source",value:e.source,onChange:t,rows:10,disabled:"source"!==e.sourceType}))}}]),t}();function bi(e){return(bi="function"==typeof Symbol&&"symbol"==sd(Symbol.iterator)?function(e){return sd(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":sd(e)})(e)}function gi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vi(e,t){return(vi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Vi(e){return(Vi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var wi=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vi(e,t)}(t,To);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Vi(n),t=r?(t=Vi(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==bi(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return gi(t.prototype,[{key:"handleShowDropzonesClick",value:function(e,t){t.name,t=t.checked,this.setBuilderMode(t)}},{key:"getHeader",value:function(){var e=this.getCurrentLocalization(),t=[];this.props.extraHeaderButtons&&this.props.extraHeaderButtons.forEach(function(e){t.push(U.a.createElement(Ba.Button,{key:e.name,name:e.name,className:e.className,onClick:e.onClick},e.text))});var n=this.state.dropzoneContext.visible?"":"dwkit-formbuilder-selector-preview";return U.a.createElement("div",{className:"dwkit-formbuilder-header"},U.a.createElement("div",{className:"dwkit-formbuilder-header-left"},U.a.createElement("a",{target:"_blank",href:"https://formbuilder.dev"},U.a.createElement("img",{className:"dwkit-formbuilder-header-logo",src:"/images/logo.svg"}))),U.a.createElement("div",{className:"dwkit-formbuilder-header-center"},U.a.createElement(Ba.Button,{name:"btnEmpty",className:"buttontype2",onClick:this.create.bind(this)},e.clearbutton),U.a.createElement(Ba.Button,{name:"btnUpload",className:"buttontype2",onClick:this.onChooseFileUpload.bind(this)},e.uploadbutton),U.a.createElement(Ba.Button,{name:"btnDownload",className:"buttontype2",onClick:this.onDownload.bind(this)},e.downloadbutton),t),U.a.createElement("div",{className:"dwkit-formbuilder-header-right"},U.a.createElement("div",{className:"dwkit-formbuilder-selector"},U.a.createElement("span",{className:n},"Preview"),U.a.createElement(Ba.Checkbox,{toggle:!0,name:"cbShowDropzones",label:"Builder",checked:this.state.dropzoneContext.visible,onChange:this.handleShowDropzonesClick.bind(this)})),U.a.createElement("form",{action:"/",method:"post",id:"builderUploadForm",style:{display:"none"},onSubmit:this.onUpload.bind(this)},U.a.createElement("input",{type:"file",id:"builderUploadFile",onChange:this.onChangeFileUpload.bind(this)}),U.a.createElement("input",{type:"submit",id:"builderUploadSubmit"}))))}},{key:"render",value:function(){var e=this.getCurrentLocalization(),t="dwkit-formbuilder";return this.state.dropzoneContext.visible&&(t+=" dwkit-formbuilder-dropzoneactive"),e=U.a.createElement("div",{className:t,onDragOver:this.onDragOver},U.a.createElement("div",{className:"dwkit-formbuilder-content"},U.a.createElement(qa,{buildermode:this.state.dropzoneContext.visible,getFormFunc:this.props.getFormFunc,getFormFist:this.props.getFormFist,getAdditionalDataForControl:this.props.getAdditionalDataForControl,localization:e.preview,downloadUrl:this.props.downloadUrl,uploadUrl:this.props.uploadUrl,externalControlRender:this.props.externalControlRender,externalControlList:this.props.externalControlList,dwKitControls:this.dwKitControls}),U.a.createElement(Da,{actions:this.props.actions,localization:e.editforms,externalControlList:this.props.externalControlList,dwKitControls:this.dwKitControls})),U.a.createElement(ai,{localization:e.toolbar,templates:this.props.templates,externalControlList:this.props.externalControlList,externalControlsOnly:this.props.externalControlsOnly,dwKitControls:this.dwKitControls,editControl:yi})),e=this.props.showHeader?U.a.createElement("div",null,this.getHeader(),e):e,U.a.createElement(la.Provider,{value:this.state.dropzoneContext},e)}}]),t}(),Ei=n(7),ki=n.n(Ei);function Ci(e){return(Ci="function"==typeof Symbol&&"symbol"==sd(Symbol.iterator)?function(e){return sd(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":sd(e)})(e)}function _i(){return(_i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Oi(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e){if(e){if("string"==typeof e)return Si(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Si(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return{s:t=function(){},n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,i=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){i=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(i)throw o}}}}function Si(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ai(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Di(e,t){return(Di=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function xi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pi(e){return(Pi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Li(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ri=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Di(e,t)}(a,c.Component);var e,t,n,r,o=(n=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Pi(n),t=r?(t=Pi(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Ci(t)&&"function"!=typeof t?xi(e):t});function a(e){var r;return function(e){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this),Li(xi(r=o.call(this,e)),"onMount",function(e){r.modal=$(ki.a.findDOMNode(e)).parent(),r.count=$(".count",r.modal),r.tabs={tree:$(".tree-tab",r.modal),search:$(".search-tab",r.modal),picked:$(".picked-tab",r.modal)},$(".menu .tree",r.modal).on("click",function(){return r.showTree()}),$(".menu .picked",r.modal).on("click",function(){return r.showPicked()}),$(".search input",r.modal).on("keyup",function(e){return r.showSearch($(e.currentTarget).val())}),r.nodes.length&&(r.props.paging?r.loadCurrentValue():(r.updatePickedNodes(r.getPicked()),r.updatePickedCount()),r.initializeNodes(r.nodes))}),Li(xi(r),"pickSearch",function(){$(".search-tab .node:not(.picked) .name",r.modal).trigger("click")}),Li(xi(r),"unpickSearch",function(){$(".search-tab .node.picked .name",r.modal).trigger("click")}),Li(xi(r),"unpickPicked",function(){$(".picked-tab .node.picked .name",r.modal).trigger("click")}),Li(xi(r),"handleOpen",function(){r.state.visible||r.setState({visible:!0})}),Li(xi(r),"handleClose",function(){r.setState({visible:!1})}),Li(xi(r),"handleSave",function(){var e=r.props.multiple?r.picked.map(function(e){return e.id}):r.picked.length?r.picked[0].id:null,t=r.getAdditionalValues(e);r.onChange(e,t),r.setState({visible:!1})}),Li(xi(r),"onDropdownChange",function(e,t){var n=t.value,t=r.getAdditionalValues(n);r.onChange(n,t)}),r.state={visible:!1,value:r.props.value},r.converter=new La({children:r.props.childrenKey}),r}return t=[{key:"getDerivedStateFromProps",value:function(e,t){return e.dataModel!==t.dataModel?{getAdditionalDataForControl:e.getAdditionalDataForControl,dataModel:e.dataModel,needFetch:!0,needValueFetch:!0}:e.paging&&e.value!==t.value&&void 0!==e.value?{needValueFetch:!0,value:e.value}:null}}],Ai((e=a).prototype,[{key:"componentDidMount",value:function(){this.widget=$(ki.a.findDOMNode(this)),this.nodes=[],this.tabs={},this.picked=[],this.opened=[],this.checkFetch()}},{key:"componentDidUpdate",value:function(e,t){this.checkFetch()}},{key:"checkFetch",value:function(){this.state.needFetch?this.getAdditionalData(null):this.state.needValueFetch&&this.loadCurrentValue()}},{key:"getNodeById",value:function(t){var e=this.recursiveNodeSearch(this.nodes,function(e){return"".concat(e.id)==="".concat(t)});return e.length?e[0]:null}},{key:"getPicked",value:function(){var e=[];return this.props.multiple?this.getArrayValues(this.props.value):(this.props.value&&e.push(this.props.value),e)}},{key:"updatePickedNodes",value:function(e){if(e){this.picked=[];var t,n=Oi(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,o=this.recursiveNodeSearch(this.nodes,function(t){return function(e){return"".concat(e.id)==="".concat(t)}}(r));o.length&&this.picked.push(o[0])}}catch(e){n.e(e)}finally{n.f()}}}},{key:"initializeNodes",value:function(e){return e=this.renderTree(e,this.state.rowsCount,null,0,{height:"400px",overflowY:"scroll"}),this.tabs.tree.html(e),this.initializeNodeList(e)}},{key:"recursiveNodeSearch",value:function(e,t){var n=[];if(!Array.isArray(e))return n;for(var r=0,o=Array.from(e);r<o.length;r++){var a=o[r];t(a)&&n.push(a),a[this.props.childrenKey]&&a[this.props.childrenKey].length&&(n=n.concat(this.recursiveNodeSearch(a[this.props.childrenKey],t)))}return n}},{key:"renderTree",value:function(e,t,n,r,o){o=o||{};for(var a=$('<div class="ui tree-picker tree"></div>').css(o),i=0,l=e.length;i<l;i++){var s=e[i],c=this.opened.includes(s.id)?" opened":"";this.props.hidden(s)||(c=$('<div class="node'.concat(c,'" data-id="').concat(s.id,'" data-name="').concat(s.name,'">\n    <div class="head">\n        <i class="add circle icon"></i>\n        <i class="minus circle icon"></i>\n        <i class="radio icon"></i>\n        <a class="name">').concat(s.name,'</a>\n        <i class="checkmark icon"></i>\n    </div>\n    <div class="content').concat(c,'"></div>\n</div>')).appendTo(a),this.props.disabledClause(s)&&c.addClass("disabled"),s[this.props.childrenKey]&&s[this.props.childrenKey].length?$(".content",c).append(this.renderTree(s[this.props.childrenKey],s.rowsCount,s.id,0)):s.hasChild||c.addClass("childless"))}return this.props.paging&&e.length+r<t&&$('<div class="node pager" data-parent-id="'.concat(n,'" data-start-index="').concat(e.length+r,'">\n    <div class="head">\n        <a class="name">...</a>\n    </div>\n</div>')).appendTo(a),a}},{key:"initializeNodeList",value:function(e){var o=this;$(".node",e).each(function(e,t){var n=$(t),t=$(">.head",n),r=$(">.content",n);$(">.name",t).on("click",function(){n.hasClass("pager")?o.pagerClicked(n):o.nodeClicked(n)}),o.nodeIsPicked(n)&&n.addClass("picked"),n.hasClass("childless")||$(">.icon",t).on("click",function(){var t=o.getNodeById(o.getNodeId(n));!t||!t.hasChild||t[o.props.childrenKey]&&t[o.props.childrenKey].length?r.slideToggle():o.getAdditionalData(t.id,n),n.toggleClass("opened"),o.opened.includes(t.id)?o.opened=o.opened.filter(function(e){return e!==t.id}):o.opened.push(t.id)})})}},{key:"pagerClicked",value:function(e){this.getAdditionalData(e.data("parent-id"),e,e.data("start-index"))}},{key:"nodeClicked",value:function(e){if(!e.hasClass("disabled")){if(!this.props.multiple){if(this.picked.length&&this.props.clearable&&this.picked[0].id===this.getNodeId(e))return this.unpickNode(e);$(".node.picked",this.modal).removeClass("picked"),this.picked=[]}return e.toggleClass("picked"),e.hasClass("picked")?this.pickNode(e):this.unpickNode(e)}}},{key:"nodeIsPicked",value:function(t){var n=this;return this.picked.filter(function(e){return"".concat(e.id)===n.getNodeId(t)}).length}},{key:"updatePickedCount",value:function(){return this.picked.length?(this.count.closest(".item").addClass("highlighted"),this.count.html("("+this.picked.length+")")):(this.count.closest(".item").removeClass("highlighted"),this.count.html(""))}},{key:"getNodeId",value:function(e){return e.attr("data-id")}},{key:"pickNode",value:function(e){var t=this.getNodeId(e);return this.picked.push({id:t,name:e.attr("data-name")}),this.updatePickedCount(),$(".node[data-id="+t+"]",this.modal).addClass("picked")}},{key:"unpickNode",value:function(e){var t=this.getNodeId(e);return this.picked=this.picked.filter(function(e){return"".concat(e.id)!=="".concat(t)}),this.updatePickedCount(),$(".node[data-id="+t+"]",this.modal).removeClass("picked")}},{key:"showTree",value:function(){return $(".menu .item",this.modal).removeClass("active"),$(".menu .tree",this.modal).addClass("active"),this.tabs.tree.show(),this.tabs.search.hide(),this.tabs.picked.hide(),this.modal.attr("data-mode","tree")}},{key:"getColumnsForFilter",value:function(){var e=new RegExp(" asc","gi"),t=this.props.columns.replace(e,""),e=new RegExp(" desc","gi"),t=t.replace(e,"");return e=new RegExp(" ","gi"),t.replace(e,"")}},{key:"showSearch",value:function(t){var e,n,r=this;null!==t&&t.length>=this.props.minSearchQueryLength?this.props.paging?(e={model:this.state.dataModel,filters:[{column:this.getColumnsForFilter(),term:"like",value:t}]},this.setState({isFetching:!0},function(){r.state.getAdditionalDataForControl(r,e,function(e){e=e.items,r.setState({isFetching:!1}),r.renderSearchResults(e,t)})})):(n=this.recursiveNodeSearch(this.nodes,function(e){return e.name&&-1<e.name.toLowerCase().indexOf(t.toLowerCase())}),this.renderSearchResults(n,t)):this.showTree()}},{key:"renderSearchResults",value:function(e,n){e=this.renderList(e,{height:"400px",overflowY:"scroll"}),$(".menu .item",this.modal).removeClass("active"),this.tabs.search.show().html(e),this.tabs.tree.hide(),this.tabs.picked.hide(),this.modal.attr("data-mode","search"),this.initializeNodeList(e),$(".name",e).each(function(){var e=$(this).text(),t=RegExp("("+n+")","gi"),e=e.replace(t,"<strong class='search-query'>$1</strong>");$(this).html(e)})}},{key:"showPicked",value:function(){var e=this.renderList(this.picked,{height:"400px",overflowY:"scroll"});return $(".menu .item",this.modal).removeClass("active"),$(".menu .picked",this.modal).addClass("active"),this.tabs.picked.show().html(e),this.tabs.tree.hide(),this.tabs.search.hide(),this.modal.attr("data-mode","picked"),this.initializeNodeList(e)}},{key:"renderList",value:function(e,t){var n,r,o,a,i;for(t=t||{},n=$('<div class="ui tree-picker list"></div>').css(t),a=0,i=e.length;a<i;a++)r=e[a],this.props.hidden(r)||(o=$('<div class="node" data-id="'.concat(r.id,'" data-name="').concat(r.name,'">\n    <div class="head">\n        <a class="name">').concat(r.name,'</a>\n        <i class="checkmark icon"></i>\n    </div>\n    <div class="content"></div>\n</div>')).appendTo(n),this.props.disabledClause(r)&&o.addClass("disabled"));return n}},{key:"getAdditionalData",value:function(n,r){var e,o=this,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;this.state.dataModel?this.state.getAdditionalDataForControl?(e={model:this.state.dataModel},this.props.paging&&(e.startIndex=a,e.pageSize=this.props.pageSize),this.setState({isFetching:!0,needFetch:!1,parentIdToFetch:n},function(){o.state.getAdditionalDataForControl(o,e,function(e){var t=e.items,e=e.rowsCount,t=o.converter.toNested(t,n);o.setData({items:t,rowsCount:e,parentIdToFetch:n},!a),o.props.paging?(e=o.renderTree(t,e,n,a),o.initializeNodeList(e),a?r.replaceWith(e.children()):($(".content",r).append(e),$(">.content",r).slideToggle())):(o.updatePickedNodes(o.getPicked()),o.modal&&o.initializeNodes(o.nodes)),o.state.needValueFetch&&o.loadCurrentValue()})})):this.props.buildermode&&console.log("TreePicker: For paging on server need to set getAdditionalDataForControl func!"):this.props.buildermode&&console.log("TreePicker: Set DataModel label!")}},{key:"loadCurrentValue",value:function(){var t=this;if(this.picked=[],void 0!==this.props.value&&null!==this.props.value)if(this.props.multiple){for(var e,n=this.getArrayValues(this.props.value),r=[],o=0;o<n.length;o++){var a=n[o],i=this.getNodeById(a);i?this.picked.push(i):r.push(a)}0<r.length?((e={model:this.state.dataModel}).filters=[{column:"__id",term:"in",value:r}],this.setState({isFetching:!0},function(){t.state.getAdditionalDataForControl(t,e,function(e){e=e.items,t.addSelectedNodes(e)})})):this.modal&&this.updatePickedCount()}else{var l,s=this.getNodeById(this.props.value);s?(this.picked.push(s),this.modal&&this.updatePickedCount()):((l={model:this.state.dataModel}).filters=[{column:"__id",term:"=",value:this.props.value}],this.setState({isFetching:!0},function(){t.state.getAdditionalDataForControl(t,l,function(e){e=e.items,t.addSelectedNodes(e)})}))}this.state.needValueFetch&&this.setState({needValueFetch:!1})}},{key:"setData",value:function(e,t){var n=e.items,r=e.rowsCount,e=e.parentIdToFetch;t?e?(t=this.getNodeById(e))&&(t[this.props.childrenKey]=n,t.rowsCount=r):(this.nodes=n,this.setState({rowsCount:r})):e?(e=this.getNodeById(e))&&(e[this.props.childrenKey]=e[this.props.childrenKey].concat(n)):this.nodes=this.nodes.concat(n),this.setState({needFetch:!1,isFetching:!1})}},{key:"getArrayValues",value:function(e){var t;if(null==(e=e))return[];if(!Array.isArray(e)){try{t=JSON.parse(e)}catch(e){console.log(e)}e=t=Array.isArray(t)?t:[e]}return e}},{key:"addSelectedNodes",value:function(e){Array.isArray(e)&&e.length&&(this.picked=this.picked.concat(e),this.modal&&this.updatePickedCount(),this.setState({isFetching:!1}))}},{key:"getLocalized",value:function(e,t){return window.DWKitAdminLang&&window.DWKitAdminLang.treepicker?window.DWKitAdminLang.treepicker[e]:t}},{key:"onChange",value:function(e,t){this.props.handleEvent&&this.props.handleEvent({syntheticEvent:null,key:this.props.name,propertyName:this.props.propertyName,eventName:"onChange",name:this.props.name,value:e,additionalValues:t})}},{key:"getAdditionalValues",value:function(t){var n,r,e;return this.nodes.length&&(Array.isArray(t)?(n=t.map(function(e){return"".concat(e)}),r=this.recursiveNodeSearch(this.nodes,function(e){return n.includes("".concat(e.id))}).map(function(e){return e.values})):t?(e=this.recursiveNodeSearch(this.nodes,function(e){return"".concat(e.id)==="".concat(t)})).length&&(r=e[0].values):(e=this.getColumnsForFilter())&&(r={},e.split(",").forEach(function(e){r[e]=null}))),r}},{key:"triggerElement",value:function(){var e,t=this.props.value,n=[];if(this.props.multiple){this.props.value||(t=[]);var r,o=Oi(t=Array.isArray(this.props.value)?t:this.getArrayValues(this.props.value));try{for(o.s();!(r=o.n()).done;){var a=r.value,i=this.getNodeById(a);i&&n.push({value:i.id,text:i.name})}}catch(e){o.e(e)}finally{o.f()}}else!t||(e=this.getNodeById(t))&&n.push({value:e.id,text:e.name});return(t={fluid:this.props.fluid,disabled:this.props.disabled,multiple:this.props.multiple,value:t,className:this.props.className,options:n,selection:this.props.selection}).label=this.props.label,t.error=this.props.error,U.a.createElement(Ba.Form.Dropdown,_i({},t,{onClick:this.handleOpen,onChange:this.onDropdownChange}))}},{key:"render",value:function(){var e="tree-picker ".concat(this.props.modalCssClass);return U.a.createElement(Ba.Modal,{style:this.props.modalStyle,className:e,open:this.state.visible,trigger:this.triggerElement()},U.a.createElement(Gr,{name:this.props.label,onMount:this.onMount,selected:this.getLocalized("selected","Selected")}),U.a.createElement("div",{className:"ui search form"},U.a.createElement("div",{className:"field"},U.a.createElement("div",{className:"ui icon input"},U.a.createElement("input",{type:"text",placeholder:this.getLocalized("search","Search")}),U.a.createElement("i",{className:"search icon"})))),U.a.createElement(Ba.Modal.Content,null,U.a.createElement("div",{className:" active"},U.a.createElement("div",{className:"ui text loader"},this.getLocalized("loadingData","Loading data"))),U.a.createElement("div",{className:"tree-tab"},U.a.createElement("div",{style:{height:"400px"}})),U.a.createElement("div",{className:"search-tab"}),U.a.createElement("div",{className:"picked-tab"})),U.a.createElement(Ba.Modal.Actions,null,U.a.createElement(Ba.Button,{onClick:this.pickSearch,className:"pick-search"},U.a.createElement("i",{className:"checkmark icon"}),this.getLocalized("selectAll","Select all")),U.a.createElement(Ba.Button,{onClick:this.unpickSearch,className:"unpick-search"},U.a.createElement("i",{className:"remove icon"}),this.getLocalized("removeAll","Remove all")),U.a.createElement(Ba.Button,{onClick:this.unpickPicked,className:"unpick-picked"},U.a.createElement("i",{className:"remove icon"}),this.getLocalized("removeAll","Remove all")),U.a.createElement(Ba.Button,{onClick:this.handleSave,className:"blue"},this.getLocalized("ok","Ok")),U.a.createElement(Ba.Button,{onClick:this.handleClose},this.getLocalized("cancel","Cancel"))))}}]),Ai(e,t),a}();Li(Ri,"defaultProps",{hidden:function(e){return!1},disabledClause:function(e){return!1},childrenKey:"nodes",multiple:!1,minSearchQueryLength:3,pageSize:100});var ji=n(5),Ti=n(16);function Fi(e){return(Fi="function"==typeof Symbol&&"symbol"==sd(Symbol.iterator)?function(e){return sd(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":sd(e)})(e)}function Ni(){return(Ni=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Ii(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Bi(e,t,n){return t&&Mi(e.prototype,t),n&&Mi(e,n),e}function Wi(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ui(e,t)}function Ui(e,t){return(Ui=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ki(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e=qi(n),t=r?(t=qi(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Fi(t)&&"function"!=typeof t?zi(e):t}}function zi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qi(e){return(qi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Gi=function(){Wi(n,c.Component);var t=Ki(n);function n(e){return Ii(this,n),(e=t.call(this,e)).state={editorState:ji.EditorState.createEmpty()},e.handleKeyCommand=e._handleKeyCommand.bind(zi(e)),e.mapKeyToEditorCommand=e._mapKeyToEditorCommand.bind(zi(e)),e.toggleBlockType=e._toggleBlockType.bind(zi(e)),e.toggleInlineStyle=e._toggleInlineStyle.bind(zi(e)),e}return Bi(n,[{key:"render",value:function(){var e,n=this,r={},t={};for(e in this.props)"className"===e||"style"===e?t[e]=this.props[e]:r[e]=this.props[e];var o=this.props.additionalParams.model,a=this.props.additionalParams.handleEvent,i=this.props.additionalParams.parentItem;r.placeholder=o.placeholder,r.onChange=this.onChange=function(e){var t=e.getCurrentContent(),t=Object(Ti.convertToHTML)(t);n.setState({editorState:e,value:t}),a({key:r.name,propertyName:r.propertyName,eventName:"onChange",name:r.name,value:t})};var l="dwkit-richtextcontrol RichEditor-root";return t.className?t.className+=" "+l:t.className=l,l=U.a.createElement("div",t,!r.readOnly&&U.a.createElement($i,{editorState:this.state.editorState,onToggle:this.toggleBlockType}),!r.readOnly&&U.a.createElement(Zi,{editorState:this.state.editorState,onToggle:this.toggleInlineStyle}),U.a.createElement("div",{onClick:this.focus},U.a.createElement(ji.Editor,Ni({},r,{editorState:this.state.editorState,blockStyleFn:Qi,customStyleMap:Hi,handleKeyCommand:this.handleKeyCommand,keyBindingFn:this.mapKeyToEditorCommand,ref:"editor",spellCheck:!0})))),this.isForm(i)?U.a.createElement(Ba.Form.Field,null,U.a.createElement("label",null,o.label),l):l}},{key:"isForm",value:function(e){return null!=e&&("form"===e["data-buildertype"]||"formgroup"===e["data-buildertype"])}},{key:"_handleKeyCommand",value:function(e,t){return!!(e=ji.RichUtils.handleKeyCommand(t,e))&&(this.onChange(e),!0)}},{key:"_mapKeyToEditorCommand",value:function(e){if(9!==e.keyCode)return Object(ji.getDefaultKeyBinding)(e);(e=ji.RichUtils.onTab(e,this.state.editorState,4))!==this.state.editorState&&this.onChange(e)}},{key:"_toggleBlockType",value:function(e){this.onChange(ji.RichUtils.toggleBlockType(this.state.editorState,e))}},{key:"_toggleInlineStyle",value:function(e){this.onChange(ji.RichUtils.toggleInlineStyle(this.state.editorState,e))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(e.value===t.value)return null;t=ji.EditorState.createEmpty();try{var n=Object(Ti.convertFromHTML)(e.value),t=ji.EditorState.createWithContent(n)}catch(e){}return{value:e.value,editorState:t}}}]),n}(),Hi={CODE:{backgroundColor:"rgba(0, 0, 0, 0.05)",fontFamily:'"Inconsolata", "Menlo", "Consolas", monospace',fontSize:16,padding:2}};function Qi(e){return"blockquote"!==e.getType()?null:"RichEditor-blockquote"}var Ji=function(){Wi(n,U.a.Component);var e=Ki(n);function n(){var t;return Ii(this,n),(t=e.call(this)).onToggle=function(e){e.preventDefault(),t.props.onToggle(t.props.style)},t}return Bi(n,[{key:"render",value:function(){var e="RichEditor-styleButton";return this.props.active&&(e+=" RichEditor-activeButton"),U.a.createElement("span",{className:e,onMouseDown:this.onToggle},this.props.label)}}]),n}(),Yi=[{label:"H1",style:"header-one"},{label:"H2",style:"header-two"},{label:"UL",style:"unordered-list-item"},{label:"OL",style:"ordered-list-item"}],$i=function(t){var e=t.editorState,n=e.getSelection(),r=e.getCurrentContent().getBlockForKey(n.getStartKey()).getType();return U.a.createElement("div",{className:"RichEditor-controls"},Yi.map(function(e){return U.a.createElement(Ji,{key:e.label,active:e.style===r,label:e.label,onToggle:t.onToggle,style:e.style})}))},Xi=[{label:"Bold",style:"BOLD"},{label:"Italic",style:"ITALIC"},{label:"Underline",style:"UNDERLINE"},{label:"Code",style:"CODE"}],Zi=function(t){var n=t.editorState.getCurrentInlineStyle();return U.a.createElement("div",{className:"RichEditor-controls"},Xi.map(function(e){return U.a.createElement(Ji,{key:e.label,active:n.has(e.style),label:e.label,onToggle:t.onToggle,style:e.style})}))};function el(e){return(el="function"==typeof Symbol&&"symbol"==sd(Symbol.iterator)?function(e){return sd(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":sd(e)})(e)}function tl(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function nl(r){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?tl(Object(o),!0).forEach(function(e){var t,n=r;e=o[t=e],t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):tl(Object(o)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))})}return r}function rl(){return(rl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ol(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function al(e,t){return(al=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function il(e){return(il=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ll=n(10),sl=new(function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&al(e,t)}(t,Co);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=il(n),t=r?(t=il(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==el(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return ol(t.prototype,[{key:"createControl",value:function(e,t,n){var l=n.model,s=n.data,r=n.errors,o=n.parentItem,c=n.buildermode,a=n.children,i=n.handleEvent,u=n.getAdditionalDataForControl,p=n.getFormFunc,d=n.readOnlyControls,f=n.readOnly,m=n.disableRefs,h=n.uploadUrl,y=n.downloadUrl,b=n.extendedData,g=n.controlsToReplace,v=n.needCheckReplace,V=n.eventOnEdit,w=n.eventOnDelete,E=n.eventOnCopy,k=n.externalControlRender,C=n.externalControlList,_=n.adaptiveViewType,O=n.formData,S=n.hideControls,A=void 0,D={key:l.key,name:l.key,className:Co.getClassName(l,c),style:Co.getStyle(l,c,_),"data-buildertype":l["data-buildertype"],propertyName:l.propertyName||l.key};D.key||console.log(l);var x=D["data-buildertype"],P=v||g.includes(l.key);c&&this.isContainer(D["data-buildertype"])&&(D.className=(fe(D.className)?"":D.className+" ")+"dwkit-formbuilder-item-container"),m||(D.ref=l.key),void 0!==l.readOnly&&(D.readOnly=l.readOnly),(f||Array.isArray(d)&&d.includes(l.key))&&(D.readOnly=!0);var L,R=ca.regexForReplace,n=function r(e){if(!P||null==e||c)return e;function o(e){return null!=O?"row."===e.slice(1,5)?Co.getFormattedDate(e.slice(5,e.length-1),s):Co.getFormattedDate(e.slice(1,e.length-1),O):Co.getFormattedDate(e.slice(1,e.length-1),s)}if(Array.isArray(e)){var a=[],i=!1;return e.forEach(function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(void 0!==e[t]&&null!==e[t]&&"string"==typeof e[t]?(n[t]=e[t].replace(R,o),!i&&v&&n[t]!==e[t]&&(i=!0)):Array.isArray(e[t])?n[t]=r(e[t]):n[t]=e[t]);a.push(n)}),i&&g.push(l.key),a}if("string"!=typeof e)return e;var t=e.replace(R,o);return v&&e!==t&&g.push(l.key),t};if(void 0!==s&&(l.propertyName?D.value=s[l.propertyName]:D.value=s[D.key]),null!=r&&(l.propertyName?D.error=r[l.propertyName]:D.error=r[D.key]),t===dr)"header"===x?(D.content=n(l.content),D.subheader=n(l.subheader)):"label"===x?D.content=n(l.content):"message"===x?(D.content=n(l.content),D.header=n(l.header)):"image"===x?(D.src=n(l.src),D.href=n(l.href)):"breadcrumb"===x?D.items=n(l.items):"button"===x&&(D.content=n(l.content)),A=U.a.createElement(dr,rl({},D,{additionalParams:{model:l,data:s,errors:r,children:a,handleEvent:i,parentItem:o,uploadUrl:h,downloadUrl:y}}));else if(t===de)(D=nl(nl({},D),l)).uploadUrl=h,D.downloadUrl=y,null!=i&&(D.onChange=function(e,t){var n=t.name,r=t.value,t=t.parameters;i({syntheticEvent:e,key:D.name,propertyName:D.propertyName,eventName:"onChange",name:n,value:r,parameters:t})}),A=U.a.createElement(de,rl({},D,{additionalParams:{model:l,data:s,errors:r,children:a,handleEvent:i,parentItem:o}}));else if(t===vr)(D=nl(nl({},D),l)).uploadUrl=h,D.downloadUrl=y,null!=i&&(D.onChange=function(e,t){var n=t.name,r=t.value,t=t.parameters;i({syntheticEvent:e,key:D.name,propertyName:D.propertyName,eventName:"onChange",name:n,value:r,parameters:t})}),A=U.a.createElement(vr,rl({},D,{additionalParams:{model:l,data:s,errors:r,children:a,handleEvent:i,parentItem:o}}));else if(t===Cn)D.format=l.format,D.mask=l.mask,D.thousandSeparator=l.thousandSeparator,D.prefix=l.prefix,D.suffix=l.suffix,A=U.a.createElement(Cn,rl({},D,{additionalParams:{model:l,data:s,errors:r,children:a,handleEvent:i,parentItem:o,uploadUrl:h,downloadUrl:y}}));else if(t===it)D.label=l.label,D.defaultValue=l.defaultValue,D.placeholder=l.placeholder,D.disabled=l.disabled,D.fluid=l.fluid,D.selection=l.selection,D.multiple=l.multiple,D.search=l.search,D.dataModel=l.dataModel,D.clearable=l.clearable,D.columns=l.columns,D.paging=l.paging,D.pageSize=l.pageSize,D.getAdditionalDataForControl=u,D.filters=n(l.filters),D.textAsValue=l.textAsValue,l.text&&(D.textFunc=new Function("data","return ".concat(l.text,";"))),r&&void 0!==r[l.key]&&(D.error=r[l.key]),D.handleEvent=i,D.parentIsForm=Co.isForm(o),A=U.a.createElement(it,D);else if(t===ft)D.defaultValue=l.defaultValue,D.items=l.items,D.imageUrl=l.imageUrl,D.handleEvent=i,A=U.a.createElement(ft,D);else if(t===or)D.url=l.url,D.category=l.category,D.handleEvent=i,A=U.a.createElement(or,D);else if(t===Pn)x=[],void 0!==l["data-elements"]&&(x=Array.isArray(l["data-elements"])?l["data-elements"]:ke.a.parse(l["data-elements"])),D.handleEvent=i,r&&void 0!==r[l.key]&&(D.error=r[l.key]),A=U.a.createElement(Pn,rl({},D,{label:l.label,direction:l.direction,placeholder:l.placeholder,items:x}));else if(t===Te){if(D.columns=l.columns,D.draggable=l.draggable,D.hierarchical=l.hierarchical,D.parentIdField=l.parentIdField,D.idField=l.idField,D.childrenField=l.childrenField,D.collapseAll=l.collapseAll,D.disableAdd=l.disableAdd,D.disableCopy=l.disableCopy,D.disableDelete=l.disableDelete,D.placeholders=ll(l.placeholders),D.placeholders&&(D.data=s,D.adaptiveViewType=_,D.controlBarParams={adaptiveViewType:_,eventOnDelete:w,eventOnEdit:V,eventOnCopy:E,parentComponent:e},D.getAdditionalDataForControl=u,D.createControl=this.createCollectionEditorControl.bind(this)),D.handleEvent=i,D.downloadUrl=y,D.uploadUrl=h,c&&void 0===D.value&&void 0!==D.columns){for(D.buildermode=c,D.createBuilderDropzone=Co.createBuilderDropzone,D.value=[],N=0;N<5;N++)D.value.push({});if(Boolean(l.hierarchical)&&void 0!==l.parentIdField&&""!==l.parentIdField&&void 0!==l.idField&&""!==l.idField)for(N=1;N<5;N++){var j=D.value[N];void 0===j[l.idField]&&(j[l.idField]=N);for(var T=0;T<2;T++){var F={};F[l.parentIdField]=j[l.idField],D.value.push(F)}}}void 0!==b&&void 0!==b.filters&&void 0!==b.filters[D.key]&&(D.filter=new Qt(b.filters[D.key],D.columns.map(function(e){return e.key}))),A=U.a.createElement(Te,D)}else if(t===dn){if(D.columns=l.columns,D.multiselect=l.multiselect,D.rowKey=l.rowKey,D.editForm=l.editForm,D.editFlow=l.editFlow,D.editWorkflow=l.editWorkflow,D.editType=l.editType,D.pagerType=l.pagerType,D.pageSize=l.pageSize,D.rowHeight=l.rowHeight,D.headerRowHeight=l.headerRowHeight,D.minHeight=l.minHeight,D.autoHeight=l.autoHeight,D.offSet=l.offSet,D.disableSort=l.disableSort,D.resizeColumns=l.resizeColumns,D.editFormShowType=l.editFormShowType,D.sidebarDirection=l.sidebarDirection,D.getAdditionalDataForControl=u,D.handleEvent=i,D.defaultSort=l.defaultSort,D.uploadUrl=h,D.downloadUrl=y,r&&void 0!==r[l.key]&&(D.error=r[l.key]),c&&void 0===D.value){D.buildermode=c,D.createBuilderDropzone=Co.createBuilderDropzone,D.value=[];for(var N=0;N<30;N++)!function(){var t={};D.columns.forEach(function(e){t[e.key]=e.key+"_"+N}),D.value.push(t)}()}void 0!==b&&void 0!==b.filters&&void 0!==b.filters[D.key]&&(D.filter=new Qt(b.filters[D.key],D.columns.map(function(e){return e.key}))),D.placeholders=ll(l.placeholders),D.placeholders&&(D.data=s,D.adaptiveViewType=_,D.controlBarParams={adaptiveViewType:_,eventOnDelete:w,eventOnEdit:V,eventOnCopy:E,parentComponent:e},D.createControl=this.createCollectionEditorControl.bind(this)),A=U.a.createElement(dn,D)}else if(t===vn)D["data-items"]=n(l.items),D.pointing=l.pointing,D.secondary=l.secondary,D.tabular=l.tabular,D.fluid=l.fluid,D.vertical=l.vertical,D.activeitem=l.activeitem,D.link=l.link,D.handleEvent=i,A=U.a.createElement(vn,D);else if(t===xr)D["data-panes"]=l.panes,D.pointing=l.pointing,D.secondary=l.secondary,D.tabular=l.tabular,D.fluid=l.fluid,D.vertical=l.vertical,D.activeitem=l.activeitem,D.placeholders=l.placeholders,this.setCreateControlsProps(D,{data:s,buildermode:c,model:l,children:a,getFormFunc:p,getAdditionalDataForControl:u,disableRefs:m,uploadUrl:h,downloadUrl:y,extendedData:b,controlsToReplace:g,eventOnEdit:V,eventOnDelete:w,eventOnCopy:E,adaptiveViewType:_,handleEvent:i,externalControlList:C,externalControlRender:k,needCheckReplace:v,readOnly:f,readOnlyControls:d,hideControls:S,errors:r}),A=U.a.createElement(xr,D);else if(t===Tr)D.panels=l.panels,D.fluid=l.fluid,D.styled=l.styled,D.placeholders=l.placeholders,this.setCreateControlsProps(D,{data:s,buildermode:c,model:l,children:a,getFormFunc:p,getAdditionalDataForControl:u,disableRefs:m,uploadUrl:h,downloadUrl:y,extendedData:b,controlsToReplace:g,eventOnEdit:V,eventOnDelete:w,eventOnCopy:E,adaptiveViewType:_,handleEvent:i,externalControlList:C,externalControlRender:k,needCheckReplace:v,readOnly:f,readOnlyControls:d,hideControls:S,errors:r}),A=U.a.createElement(Tr,D);else if(t===Ut)D.draggable=l.draggable,D.resizable=l.resizable,D.scroll=l.scroll,D.cols=l.cols,D["data-panes"]=l.panes,D.placeholders=l.placeholders,this.setCreateControlsProps(D,{data:s,buildermode:c,model:l,children:a,getFormFunc:p,getAdditionalDataForControl:u,disableRefs:m,uploadUrl:h,downloadUrl:y,extendedData:b,controlsToReplace:g,eventOnEdit:V,eventOnDelete:w,eventOnCopy:E,adaptiveViewType:_,handleEvent:i,errors:r,readOnlyControls:d,readOnly:f,needCheckReplace:v}),A=U.a.createElement(Ut,D);else if(t===we)D.chartType=l.chartType,D.responsive=l.responsive,D.legendPosition=l.legendPosition,D.title=l.title,D.titleSize=l.titleSize,D.datasetCustom=l.datasetCustom,D.dataLabels=l.dataLabels,D.datasetLabel=l.datasetLabel,D.datasetSteppedLine=l.datasetSteppedLine,D.datasetBorderColor=l.datasetBorderColor,D.datasetFill=l.datasetFill,D.datasetBorderWidth=l.datasetBorderWidth,D.datasetBackgroundColor=l.datasetBackgroundColor,c?D.datasetCustom?D.value=[1,2,3,4,3,2,1]:(S="scatter"!==D.chartType?[6,23,15,3]:[{x:6,y:-12},{x:11,y:1},{x:24,y:5},{x:40,y:32}],D.value={labels:["Q1","Q2","Q3","Q4"],datasets:[{data:S}]}):void 0!==s&&(D.value=s[D.key]),A=U.a.createElement(we,D);else if(t===lo)D.blockSetState=l.blockSetState,D.blockCommands=l.blockCommands,D.setStateButton=l.setStateButton,D.handleEvent=i,D.getAdditionalDataForControl=u,D.blockLoadParameters=void 0===l.blockLoadParameters||l.blockLoadParameters,D.blockSelectScheme=l.blockSelectScheme,D.selectSchemeDropdown=l.selectSchemeDropdown,s&&(D.selectedScheme=s.__wf_selectedscheme),D.schemes=b&&b.schemes||[],r&&void 0!==r[l.key]&&(D.error=r[l.key]),c&&(D.commands=[{value:"approve",text:"Approve",type:1},{value:"back",text:"Back",type:2}],D.states=[{value:"draft",text:"Draft"},{value:"state1",text:"State 1"},{value:"state2",text:"State 2"},{value:"state3",text:"State 3"},{value:"finish",text:"Finish"}],D.schemes=[]),A=U.a.createElement(lo,D);else if(t===Be){if(D.style&&"flex"===l["style-display"]&&(l["style-display-horizontalalign"]&&(D.style.justifyContent=l["style-display-horizontalalign"]),l["style-display-verticalalign"]?D.style.alignItems=l["style-display-verticalalign"]:D.style.alignItems="baseline"),l.childrenView&&(D.className=(D.className?D.className+" ":"")+"dwkit-container-"+l.childrenView),o&&o["children-style-source"]){var I,M={};for(I in Co.getCustomStyle(o["children-style-source"],M),M)D.style[I]||(D.style[I]=M[I])}delete D.propertyName,A=U.a.createElement(Be,rl({},D,{children:a}))}else t===Wn?(D.slider=l.slider,D["item-visibleCondition"]=l["item-visibleCondition"],D.pageSize=l.pageSize,D.pagerType=l.pagerType,D.loadButtonLabel=l.loadButtonLabel,D.noRecordsLabel=l.noRecordsLabel,D.defaultSort=l.defaultSort,void 0!==b&&void 0!==b.filters&&void 0!==b.filters[D.key]&&(D.filter=new Qt(b.filters[D.key],["*"])),D.placeholders=ll(l.placeholders),D.controlProps={readOnly:"server"===l.pagerType||f},D.model=l,D.data=s,L=D.controlProps,this.setCreateControlsProps(L,{children:a,getAdditionalDataForControl:u,disableRefs:m,uploadUrl:h,downloadUrl:y,extendedData:b,controlsToReplace:g,eventOnEdit:V,eventOnDelete:w,eventOnCopy:E,adaptiveViewType:_,handleEvent:i,externalControlList:C,externalControlRender:k,readOnlyControls:d,buildermode:c}),l.childrenView&&(D.className=(D.className?D.className+" ":"")+"dwkit-container-"+l.childrenView),A=U.a.createElement(Wn,D)):t===Cr?(D.content=n(l.content),D.isHtml=l.isHtml,A=U.a.createElement(Cr,D)):t===vt?(D.iconFiletypes=l.iconFiletypes,D.postUrl=h,D.showFiletypeIcon=l.showFiletypeIcon,D.autoProcessQueue=l.autoProcessQueue,D.addRemoveLinks=l.addRemoveLinks,A=U.a.createElement(vt,rl({},D,{additionalParams:{model:l,data:s,errors:r,children:a,handleEvent:i,parentItem:o}}))):t===Ft?(D.iconFiletypes=l.iconFiletypes,D.showFiletypeIcon=l.showFiletypeIcon,D.autoProcessQueue=l.autoProcessQueue,D.useDropzone=l.useDropzone,D.columns=l.columns,D.idField=l.idField,D.useCamera=l.useCamera,D.multiple=l.multiple,D.postUrl=h,D.downloadUrl=y,A=U.a.createElement(Ft,rl({},D,{additionalParams:{model:l,data:s,errors:r,children:a,handleEvent:i,parentItem:o}}))):t===Ri?(D.label=l.label,D.defaultValue=l.defaultValue,D.placeholder=l.placeholder,D.selection=l.selection,D.multiple=l.multiple,D.search=l.search,D.dataModel=l.dataModel,D.clearable=l.clearable,D.columns=l.columns,D.paging=l.paging,D.pageSize=l.pageSize,D.parentIdField=l.parentIdField,D.getAdditionalDataForControl=u,D.modalCssClass=l["style-custommodalcss"],D.fluid=l.fluid,D.disabled=l.disabled,D.handleEvent=i,void 0!==l["style-modalsource"]&&(Co.getCustomStyle(l["style-modalsource"],L={}),D.modalStyle=L),r&&void 0!==r[l.key]&&(D.error=r[l.key]),l.text&&(D.textFunc=new Function("data","return ".concat(l.text,";"))),D.parentIsForm=Co.isForm(o),A=U.a.createElement(Ri,D)):t===Gi?A=U.a.createElement(Gi,rl({},D,{additionalParams:{model:l,data:s,errors:r,children:a,handleEvent:i,parentItem:o,uploadUrl:h,downloadUrl:y}})):t===Wr?(D.header=n(l.header),D.subheader=n(l.subheader),D.imgurl=n(l.imgurl),D.placeholders=l.placeholders,D.activeEvent=l.events&&l.events.onClick&&l.events.onClick.active,this.setCreateControlsProps(D,{data:s,buildermode:c,model:l,children:a,getFormFunc:p,getAdditionalDataForControl:u,disableRefs:m,uploadUrl:h,downloadUrl:y,extendedData:b,controlsToReplace:g,eventOnEdit:V,eventOnDelete:w,eventOnCopy:E,adaptiveViewType:_,handleEvent:i,externalControlList:C,externalControlRender:k,needCheckReplace:v,readOnly:f,readOnlyControls:d,errors:r}),A=U.a.createElement(Wr,D)):((k=k||function(){if(window.DWKitFormSettings)return window.DWKitFormSettings.externalControlRender}())&&(D.parentIsForm=Co.isForm(o),A=k(e,t,{model:l,data:s,errors:r,parentItem:o,buildermode:c,children:a,handleEvent:i,getAdditionalDataForControl:u,readOnlyControls:d,readOnly:f,disableRefs:m,uploadUrl:h,downloadUrl:y,extendedData:b,controlsToReplace:g,needCheckReplace:v,eventOnEdit:V,eventOnDelete:w,eventOnCopy:E,controlProps:D,replaceControlValue:n})),A||console.error("Control is unsupported!",t,l));if(!0===l["tooltip-errordisabled"]||!r||void 0===r[l.key]||"boolean"==typeof r[l.key]||Array.isArray(r[l.key]))return l["tooltip-enabled"]?(W=""==l["tooltip-showtype"]?void 0:l["tooltip-showtype"],B=""==l["tooltip-position"]?void 0:l["tooltip-position"],K("popup",{className:l["tooltip-classname"],content:l["tooltip-content"],header:l["tooltip-header"],key:l.key+"-tooltip",trigger:A,popupOn:B,popupPosition:W})):A;var B=""==l["tooltip-errorposition"]?void 0:l["tooltip-errorposition"],W=""==l["tooltip-errorshowtype"]?void 0:l["tooltip-errorshowtype"];return K("popup",{className:"dwkit-tooltiperror",content:r[l.key],key:l.key+"-error",trigger:A,popupOn:W,popupPosition:B})}},{key:"createCollectionEditorControl",value:function(e,t,n,r){if(a=this.getControlByType(t)){var o=this.createControl(e,a,nl(nl({},n),{},{needCheckReplace:!0})),a=[];return n.buildermode?(r=U.a.createElement(bo,{key:n.model.key+"_controlbar",model:n.model,parent:r.parentComponent,onDelete:r.eventOnDelete,onEdit:r.eventOnEdit,onCopy:r.eventOnCopy,control:o}),a.push(r),a):o}console.error("Control is unsupported!",t,e,n)}},{key:"getPlatformContainerControl",value:function(){return"div"}}]),t}());function cl(){return(cl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ul(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function pl(r){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?ul(Object(o),!0).forEach(function(e){var t,n=r;e=o[t=e],t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):ul(Object(o)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))})}return r}function dl(e){return(dl="function"==typeof Symbol&&"symbol"==sd(Symbol.iterator)?function(e){return sd(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":sd(e)})(e)}function fl(){return(fl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ml(){return(ml=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function hl(e){return!0===e?{}:{display:"none"}}function yl(e){return U.a.createElement(Ba.Dimmer,{active:!0,inverted:!0},U.a.createElement(Ba.Loader,e))}f("collection-checkbox",function(e){var t={};return e.props.errorFlag&&(t.className="error"),U.a.createElement(Ba.Checkbox,cl({},t,{name:e.props.colName,checked:e.props.checked,readOnly:e.props.readOnly,onChange:e.me.handleChange}))}),f("collection-custom-control",function(e){var t=e.props.model;return e.props.createControl(e.props.parent,t["data-buildertype"],{model:t,data:e.props.row,errors:e.props.errorOnRow,parentItem:e.props.name,buildermode:e.props.buildermode,handleEvent:e.handleEvent,getAdditionalDataForControl:e.getAdditionalDataForControl,readOnly:e.props.readOnly,uploadUrl:e.props.uploadUrl,downloadUrl:e.props.downloadUrl,controlsToReplace:[],formData:e.props.data,adaptiveViewType:e.props.adaptiveViewType},e.props.controlBarParams)}),f("collection-date-time",function(e){return U.a.createElement(Ze,{name:e.props.colName,error:e.props.errorFlag,value:e.props.value,readOnly:e.props.readOnly,onChange:e.me.handleChange,type:e.props.type,isForm:!0})}),f("collection-dropdown",function(e){return U.a.createElement(Ba.Dropdown,{name:e.props.colName,multiple:e.props.multiple,placeholder:e.props.placeholder,options:e.props.options,error:e.props.errorFlag,value:e.props.value,readOnly:e.props.readOnly,onChange:e.me.handleChange,selection:!0,fluid:!0,search:!0})}),f("collection-editor",function(j){var e=j.props.columns,t=j.props.value,n=j.props.error;return j.props.collapseAll&&Array.isArray(t)&&j.applyCollapseAll(t),e&&e.length?((t={style:j.props.style,className:j.props.className,onBlur:j.props.onBlur,onClick:j.props.onClick,onFocus:j.props.onFocus,onMouseEnter:j.props.onMouseEnter,onMouseLeave:j.props.onMouseLeave}).className?t.className+=" field":t.className="field",j.props.error&&"object"!==dl(j.props.error)&&(t.className+=" error"),t.className+=" dwkit-collectioneditor-control",U.a.createElement("div",t,U.a.createElement("label",null,j.props.label),U.a.createElement("table",{className:"dwkit-collectioneditor"},U.a.createElement("tbody",null,function(e){var l=[],s=0;e.forEach(function(e){var t,n,r,o,a=void 0;"object"===dl(e)?(t=e.key,n=e.name,r=e.width,Array.isArray(e.dataList)&&(a=e.dataList)):n=t=e,me(n)&&2<=n.length&&(n=n.charAt(0).toUpperCase()+n.slice(1));var i,e=void 0;me(a)&&null!=a&&(e=t+"_datalist",i=[],a.forEach(function(e){i.push(U.a.createElement("option",{key:e,value:e}))}),o=U.a.createElement("datalist",{key:e,id:e},i)),l.push(U.a.createElement("td",{key:s,style:pl({width:r},0==s?{display:"flex"}:{})},n,o)),s++});var t=!0!==j.props.disableAdd,n=!0!==j.props.disableCopy,e=!0!==j.props.disableDelete;return!j.props.readOnly&&(t||n||e)&&(n="Add",me(e=function(){if(window.DWKitAdminLang&&window.DWKitAdminLang.collectioneditor)return window.DWKitAdminLang.collectioneditor}())&&(n=e.add),l.push(U.a.createElement("td",{key:"btntd",className:"dwkit-collectioneditor-buttoncol"},t&&U.a.createElement("a",{key:"btnadd",className:"dwkit-btn",onClick:j.btnAdd},n)))),U.a.createElement("tr",{key:"headertr",className:"dwkit-collectioneditor-header"},l)}(e),function e(r,t,n,o,a,i){var l=j.me,s=[];if(null==t)return s;var c=t;fe(a)&&(a=0),void 0===i&&(i=""),j.props.filter&&(c=j.getFilteredItems(c,j.props.filter));for(var u=0;u<c.length;u++)if(void 0!==j.props.childrenField||!j.props.hierarchical||c[u][j.props.parentIdField]==o){var p,d=function(e,t){var n=!j.props.readOnly&&Boolean(j.props.draggable);if(n)return U.a.createElement("div",{draggable:n,onDragStart:j.onDragStart.bind(j.me,t,e),onDragEnd:j.onDragEnd.bind(j.me,t,e),onDragOver:j.onDragOver.bind(j.me),onDrop:j.onDrop.bind(j.me,t,e),key:"celldrag",className:"dwkit-collectioneditor-action"},U.a.createElement(Ba.Icon,{onClick:j.onExpand.bind(j.me,t,!1),name:"ellipsis vertical"}))}(c,u),f=void 0,m=void 0,h=c[u][j.props.idField]||c[u].__id||u;j.props.hierarchical&&(V=void 0,g=i+String(u+"_"),he(j.props.parentIdField)?he(p=c[u][j.props.idField]||c[u].__id)&&0<(m=e(r,t,n,p,a+1,g)).length&&(fe(p=j.state.expanded[i+u])||p?V=U.a.createElement("img",{onClick:j.onExpand.bind(j.me,i+u,!1),className:"dwkit-collectioneditor-imgbutton-collapse"}):(V=U.a.createElement("img",{onClick:j.onExpand.bind(j.me,i+u,!0),className:"dwkit-collectioneditor-imgbutton-expand"}),m=void 0)):Array.isArray(c[u][j.props.childrenField])&&0<c[u][j.props.childrenField].length?0<(m=e(r,c[u][j.props.childrenField],n,void 0,a+1,g)).length&&(fe(v=j.state.expanded[i+u])||v?V=U.a.createElement("img",{onClick:j.onExpand.bind(j.me,i+u,!1),className:"dwkit-collectioneditor-imgbutton-collapse"}):(V=U.a.createElement("img",{onClick:j.onExpand.bind(j.me,i+u,!0),className:"dwkit-collectioneditor-imgbutton-expand"}),m=void 0)):V=U.a.createElement("img",{style:{opacity:0},className:"dwkit-collectioneditor-imgbutton-collapse"}),f=U.a.createElement("div",{className:"dwkit-collectioneditor-action"},V));var y=[],b=void 0;Array.isArray(n)&&0<n.length&&(void 0!==n[0].__id&&null!==n[0].__id?function(){var t=c[u].__id;void 0!==t&&null!=t&&(b=n.find(function(e){return e.__id===t}))}():b=n[u]);for(var g,v,V,w=0;w<r.length;w++){var E=void 0,k=j.props.readOnly?"":"input",C=void 0,_=void 0,O=void 0;"object"===dl(r[w])?(E=r[w].key,k=r[w].control,_=r[w].customControl,Array.isArray(r[w].dataList)&&(C=E+"_datalist"),Array.isArray(r[w].options)&&(O=r[w].options)):E=r[w];var S=void 0;me(b)&&(S=Boolean(b[E]));var A={};0===w&&(d||j.props.hierarchical)&&(A.display="flex");var D,x,P,L,R=void 0;"checkbox"===k?R=U.a.createElement(T,{key:h+"_"+w,row:c[u],handleChange:j.handleChange,colName:E,checked:c[u][E],errorFlag:S,readOnly:j.props.readOnly}):"span"===k?(A.verticalAlign="middle",R=U.a.createElement("span",{key:h+"_"+w,name:E},c[u][E])):"number"===k?(D=null===c[u][E]||void 0===c[u][E]?"":c[u][E],D={name:E,type:"number",error:S,value:D,readOnly:j.props.readOnly},R=U.a.createElement(W,{key:h+"_"+w,row:c[u],inputProps:D,handleChange:j.handleChange})):"date"===k?(D=null===c[u][E]||void 0===c[u][E]?"":c[u][E],R=U.a.createElement(N,{key:h+"_"+w,row:c[u],colName:E,value:D,errorFlag:S,readOnly:j.props.readOnly,handleChange:j.handleChange,type:"date"})):"datetime"===k?(x=null===c[u][E]||void 0===c[u][E]?"":c[u][E],R=U.a.createElement(N,{key:h+"_"+w,row:c[u],colName:E,value:x,errorFlag:S,readOnly:j.props.readOnly,handleChange:j.handleChange,type:"datetime"})):"dropdown"===k?(x=null==c[u][E]?r[w].multiple?[]:"":c[u][E],R=U.a.createElement(I,{key:h+"_"+w,row:c[u],colName:E,multiple:r[w].multiple,placeholder:r[w].placeholder,errorFlag:S,value:x,options:O,readOnly:j.props.readOnly,handleChange:j.handleChange})):"file"===k||"file2"===k?(O=null===c[u][E]||void 0===c[u][E]?"":c[u][E],R=U.a.createElement(Q,{key:h+"_"+w,row:c[u],colName:E,errorFlag:S,value:O,readOnly:j.props.readOnly,handleChange:j.handleChange,downloadUrl:j.props.downloadUrl,uploadUrl:j.props.uploadUrl,control:k,additionalData:r[w].additionalData})):"camera"===k?(P=null===c[u][E]||void 0===c[u][E]?"":c[u][E],R=U.a.createElement(ee,{key:h+"_"+w,row:c[u],colName:E,errorFlag:S,value:P,readOnly:j.props.readOnly,handleChange:j.handleChange,downloadUrl:j.props.downloadUrl,uploadUrl:j.props.uploadUrl,control:k,additionalData:r[w].additionalData})):"signature"===k?(P=null===c[u][E]||void 0===c[u][E]?"":c[u][E],R=U.a.createElement(ae,{key:h+"_"+w,row:c[u],colName:E,errorFlag:S,value:P,readOnly:j.props.readOnly,handleChange:j.handleChange,downloadUrl:j.props.downloadUrl,uploadUrl:j.props.uploadUrl,control:k,additionalData:r[w].additionalData})):"custom"===k?_?function(){var e=c[u][E]||"",t={},n=pl(pl({},t=r[w].customControlGetPropsFunc?r[w].customControlGetPropsFunc(c[u]):t),{},{key:h+"_"+w,name:E,error:S,value:e,colName:E,row:c[u],readOnly:j.props.readOnly,onChange:function(e,t){l.handleChange(n.row,e,t)}});R=U.a.createElement(_,n)}():me(j.props.placeholders)&&Array.isArray(j.props.placeholders[E])&&0<j.props.placeholders[E].length?(k=j.props.placeholders[E][0])&&(L=c[u],void 0!==k.propertyName&&""!==k.propertyName||(k.propertyName=E),A.position="relative",R=U.a.createElement(F,{key:h+"_"+w,model:k,parent:j.me,row:L,errorOnRow:b,name:j.props.name,buildermode:j.props.buildermode,handleChange:j.handleChange,handleEvent:j.props.handleEvent,getAdditionalDataForControl:j.props.getAdditionalDataForControl,readOnly:j.props.readOnly,uploadUrl:j.props.uploadUrl,downloadUrl:j.props.downloadUrl,data:j.props.data,adaptiveViewType:j.props.adaptiveViewType,controlBarParams:j.props.controlBarParams,createControl:j.props.createControl})):j.props.buildermode&&j.props.createBuilderDropzone&&(R=j.props.createBuilderDropzone(j.props.name,j.props.name,void 0,E,E)):(L=null===c[u][E]||void 0===c[u][E]?"":c[u][E],L={name:E,list:C,error:S,value:L,readOnly:j.props.readOnly},R=U.a.createElement(W,{key:h+"_"+w,row:c[u],inputProps:L,handleChange:j.handleChange})),0===w?(a&&(A.paddingLeft=String(15*a+5)+"px"),y.push(U.a.createElement("td",{key:h+"_"+w+"td",style:A},f,d,R))):y.push(U.a.createElement("td",{key:h+"_"+w+"td",style:A},R))}j.props.readOnly||(g=!j.props.disableAdd,v=!j.props.disableCopy,V=!j.props.disableDelete,(g||v||V)&&(j.props.hierarchical?y.push(U.a.createElement("td",{key:"celldelete",className:"dwkit-collectioneditor-cellbtn"},U.a.createElement("div",{className:"field"},g&&U.a.createElement(Ba.Icon,{key:"addchild",onClick:j.btnAddChild.bind(j.me,u,c),link:!0,name:"add"}),v&&U.a.createElement(Ba.Icon,{key:"copy",onClick:j.btnCopy.bind(j.me,u,c),link:!0,name:"copy"}),V&&U.a.createElement(Ba.Icon,{key:"delete",onClick:j.btnDelete.bind(j.me,u,c),link:!0,name:"delete"})))):y.push(U.a.createElement("td",{key:"celldelete",className:"dwkit-collectioneditor-cellbtn"},U.a.createElement("div",{className:"field"},v&&U.a.createElement(Ba.Icon,{key:"copy",onClick:j.btnCopy.bind(j.me,u,void 0),link:!0,name:"copy"}),V&&U.a.createElement(Ba.Icon,{key:"delete",onClick:j.btnDelete.bind(j.me,u,void 0),link:!0,name:"delete"})))))),s.push(U.a.createElement("tr",{key:i+h,className:"dwkit-collectioneditor-row","data-rowindex":u},y)),s=s.concat(m)}return s}(e,j.state.data,n))))):U.a.createElement("div",null,"Fill columns property!")}),f("collection-input",function(e){return U.a.createElement(Ba.Input,fl({},e.props.inputProps,{onChange:e.me.handleChange}))}),f("collection-upload",function(e){return U.a.createElement(eo,{name:e.props.colName,error:e.props.errorFlag,value:e.props.value,readOnly:e.props.readOnly,onChange:e.me.handleChange,downloadUrl:e.props.downloadUrl,uploadUrl:e.props.uploadUrl,additionalData:e.props.additionalData,additionalDataContext:e.props.row,isForm:!0,hideClearButton:"file2"===e.props.control})}),f("collection-camera",function(e){return U.a.createElement(de,{name:e.props.colName,error:e.props.errorFlag,value:e.props.value,readOnly:e.props.readOnly,onChange:e.me.handleChange,downloadUrl:e.props.downloadUrl,uploadUrl:e.props.uploadUrl,additionalData:e.props.additionalData,additionalDataContext:e.props.row,compact:!0,showPreview:!0,hideClear:!0,fluid:!0,isForm:!0,compression:.75})}),f("collection-signature",function(e){return U.a.createElement(vr,{name:e.props.colName,error:e.props.errorFlag,value:e.props.value,readOnly:e.props.readOnly,onChange:e.me.handleChange,downloadUrl:e.props.downloadUrl,uploadUrl:e.props.uploadUrl,additionalData:e.props.additionalData,additionalDataContext:e.props.row,compact:!0,showPreview:!0,fluid:!0,isForm:!0})}),f("breadcrumb",function(e){for(var t=[],n=0;n<e.children.length;n++){var r=e.children[n];r.isDivider?t.push(U.a.createElement(Ba.Breadcrumb.Divider,r.dividerProps)):t.push(U.a.createElement(Ba.Breadcrumb.Section,r.childProps,r.text))}return U.a.createElement(Ba.Breadcrumb,ml({},e.propsControl,{children:t}))}),f("builder-dropzone",function(t){return U.a.createElement(la.Consumer,null,function(e){return e=e.visible,U.a.createElement(Ba.Popup,{trigger:U.a.createElement("div",{name:t.key,key:t.key,elementafter:t.elementAfter,elementtoinsert:t.elementToInsert,placeholderkey:t.placeholderKey,className:"dwkit-formbuilder-zone",style:hl(e)},t.text),onClose:t.onClosePopup,content:U.a.createElement(Ba.TextArea,{rows:"10",width:"200px",onChange:t.onChangeDZ,placeholder:"Insert a model control"}),on:"click"})})}),f("button",function(e){return e.propsControl.link?(e.propsControl.style.cursor="pointer",U.a.createElement("a",e.propsControl,e.propsControl.content)):e.propsControl.isForm?U.a.createElement(Ba.Form.Button,e.propsControl):U.a.createElement(Ba.Button,e.propsControl)});var bl=n(13),gl=function(e){return U.a.createElement("div",e,e.children,e.isLoading&&U.a.createElement(yl,null))};function vl(e){return(vl="function"==typeof Symbol&&"symbol"==sd(Symbol.iterator)?function(e){return sd(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":sd(e)})(e)}function Vl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wl(e,t){return(wl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function El(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kl(e){return(kl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Cl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _l="image/png",Ol="signature-image",Sl=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wl(e,t)}(o,U.a.Component);var n,r,t=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=kl(n),t=r?(t=kl(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==vl(t)&&"function"!=typeof t?El(e):t});function o(e){var a;return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),Cl(El(a=t.call(this,e)),"labels",function(){return a.props.compact?{}:{open:a.props.openLabel||"Open",clear:a.props.clearLabel||"Clear"}}),Cl(El(a),"load",function(r){var e=El(a).props,t=e.value,o=new XMLHttpRequest;o.open("POST",e.downloadUrl+t,!0),o.responseType="arraybuffer",o.onload=function(){var e=Ol,t=o.getResponseHeader("Content-Disposition");!t||-1===t.indexOf("attachment")||(n=/filename[^;=\n]*=((['"]).*?\2|[^;\n]*)/.exec(t))&&n[1]&&(e=n[1].replace(/['"]/g,""));var n=o.response;n.filename=e,n=URL.createObjectURL(new Blob([n],{type:_l})),a.setState({image:n,loading:!1}),r&&r(n)},o.send(null)}),Cl(El(a),"download",function(e){e.preventDefault(),a.load(function(e){var t=document.createElement("a");t.setAttribute("href",window.URL.createObjectURL(new Blob([e],{type:_l}))),t.setAttribute("download",e.filename||"unknown"),document.body.appendChild(t),t.onclick=function(){document.body.removeChild(t)},t.click()})}),Cl(El(a),"clear",function(){a.props.clear(),a.setState({image:null})}),Cl(El(a),"openFullscreen",function(){var e=El(a).state;e.image?window.open(e.image):a.load(function(e){window.open(e)})}),Cl(El(a),"preview",function(){var e=(t=El(a)).props,t=t.state;return e.showPreview&&U.a.createElement(gl,{isLoading:t.loading,className:"image-uploaded-preview"+(e.compact?" compact":""),onClick:a.openFullscreen},e.compact?U.a.createElement(Ba.Image,{rounded:!0,src:t.image,className:"compact-image-preview signature"}):U.a.createElement("img",{src:t.image,className:"image-preview"}))}),a.state={image:null,loading:!!e.showPreview},e.value&&e.showPreview&&a.load(),a}return Vl(o.prototype,[{key:"componentDidUpdate",value:function(e){var t=this.props;t.value!==e.value&&(t.value?t.showPreview&&this.load():this.setState({image:null}))}},{key:"render",value:function(){var e=this.props,t=(this.state,this.labels);return U.a.createElement("div",{style:{display:"flex",flexDirection:e.showPreview&&!e.compact?"column":"row"}},e.showPreview?this.preview():U.a.createElement(Ba.Button,{content:t().open,onClick:this.openFullscreen,icon:"zoom-in",fluid:!e.compact}),!e.hideClear&&U.a.createElement(Ba.Button,{onClick:this.clear,content:t().clear,icon:"cancel",fluid:!e.compact}))}}]),o}(),Al=function(e,t,n){var e=function(e){for(var t=atob(e.split(",")[1]),n=e.split(",")[0].split(":")[1].split(";")[0],e=new ArrayBuffer(t.length),r=new Uint8Array(e),o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return new Blob([e],{type:n})}(e),r=new FormData,e=new File([e],"file",{type:"image/jpeg"});r.append("data",e),r.append("name","photo"),window.$.ajax({url:t,type:"POST",processData:!1,contentType:!1,dataType:"json",data:r,success:function(e){n(r,e)}})};function Dl(e){return(Dl="function"==typeof Symbol&&"symbol"==sd(Symbol.iterator)?function(e){return sd(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":sd(e)})(e)}function xl(){return(xl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Pl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ll(e,t){return(Ll=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Rl(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jl(e){return(jl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Tl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Fl=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ll(e,t)}(o,U.a.Component);var n,r,t=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=jl(n),t=r?(t=jl(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Dl(t)&&"function"!=typeof t?Rl(e):t});function o(e){var r;return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),Tl(Rl(r=t.call(this,e)),"labels",function(){return{takeShot:r.props.compact?"":r.props.shotLabel||"Take shot",openImage:r.props.compact?"":r.props.openImageLabel||"Open image",reset:r.props.resetLabel||"Reset",upload:r.props.uploadLabel||"Upload",cancel:r.props.cancelLabel||"Cancel"}}),Tl(Rl(r),"showCameraModal",function(){r.setState({open:!0,dataUrl:null})}),Tl(Rl(r),"openImageDialog",function(){var n=document.createElement("input");n.setAttribute("type","file"),n.style.opacity=0,n.setAttribute("accept","image/*"),n.setAttribute("multiple",!1),document.body.appendChild(n),n.onchange=function(e){var e=e.target.files[0],t=new FileReader;t.onload=function(){r.upload(t.result)},t.readAsDataURL(e),document.body.removeChild(n)},n.click()}),Tl(Rl(r),"cancel",function(){r.setState({open:!1,dataUrl:null})}),Tl(Rl(r),"clear",function(){r.setState({dataUrl:null})}),Tl(Rl(r),"upload",function(e){var n=Rl(r).props;Al(r.state.dataUrl||e,n.uploadUrl,function(e,t){n.onUpload(e,t)}),r.setState({open:!1})}),Tl(Rl(r),"onTakePhoto",function(e){r.setState({dataUrl:e})}),r.state={open:!1,dataUrl:null},r}return Pl(o.prototype,[{key:"render",value:function(){var e=this.props,t=this.state,n=this.labels;return e.value?U.a.createElement(Sl,xl({},e,{clear:e.onClear})):U.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},U.a.createElement(Ba.Modal,{open:this.state.open},U.a.createElement(Ba.Modal.Content,null,t.dataUrl?U.a.createElement("div",{className:"react-html5-camera-photo"},U.a.createElement("img",{src:t.dataUrl,className:"image-preview"}),U.a.createElement(Ba.Button,{fluid:!0,content:n().reset,className:"ui button",onClick:this.clear,icon:"cancel"})):U.a.createElement(bl.Camera,{onTakePhotoAnimationDone:this.onTakePhoto,isFullscreen:!1,idealFacingMode:bl.FACING_MODES.ENVIRONMENT,imageType:bl.IMAGE_TYPES.JPG,imageCompression:parseFloat(e.compression)||1,isMaxResolution:!0,isImageMirror:!0})),U.a.createElement(Ba.Modal.Actions,null,U.a.createElement(Ba.Button,{className:"buttontype1",content:n().upload,src:t.dataUrl,download:!0,onClick:this.upload,icon:"check",disabled:!t.dataUrl}),U.a.createElement(Ba.Button,{className:"buttontype2",content:n().cancel,onClick:this.cancel}))),U.a.createElement(Ba.Button,{content:n().takeShot,basic:!0,fluid:!!e.compact,onClick:this.showCameraModal,icon:"photo"}),U.a.createElement(Ba.Button,{content:n().openImage,basic:!0,fluid:!!e.compact,onClick:this.openImageDialog,icon:"folder"}))}}]),o}();f("camera",function(e){var t=e.props,n=t.compact&&t.showPreview?{minWidth:160}:{};return U.a.createElement("div",{className:"field",style:n},e.props.label&&U.a.createElement("label",null,e.props.label),U.a.createElement(Fl,xl({},t,{onUpload:e.onUpload,onClear:e.onClear})))}),f("chart-view",function(e){var t=e.props.style,n=me(e.props.width)?e.props.width:"400px";me(t.width)&&(n=t.width);var r=me(e.props.height)?e.props.height:"300px";me(t.height)&&(r=t.height),e.state.width===n&&e.state.height===r||!me(e.state.chart)||(e.state.chart.destroy(),e.state.chart=void 0),e.state.width=n,e.state.height=r;var o="field";return me(e.props.className)&&(o+=" "+e.props.className),U.a.createElement("div",{className:o,style:t},U.a.createElement("canvas",{id:e.divId,width:n,height:r}))}),f("chart-view-redraw-chart",function(e){if(me(e.state.chart)&&(e.state.chart.destroy(),e.state.chart=void 0),fe(e.state.chart)){var t=document.getElementById(e.divId).getContext("2d"),n=e.chartData,r=void 0;if(me(n)&&Array.isArray(n.datasets)){var o=[];if(n.datasets.forEach(function(e){me(e.yAxisID)&&null!=e.yAxisID&&(o.includes(e.yAxisID)||o.push(e.yAxisID))}),0<o.length)for(var r=[],a=0;a<o.length;a++)a?r.push({type:"linear",display:!0,position:"right",id:o[a],gridLines:{drawOnChartArea:!1}}):r.push({type:"linear",display:!0,position:"left",id:o[a]})}n={type:e.props.chartType,data:n,options:{responsive:Boolean(e.props.responsive),legend:{position:e.props.legendPosition},title:{fontSize:fe(e.props.titleSize)?14:e.props.titleSize,display:he(e.props.title),text:e.props.title}}},me(r)&&(n.options.scales={yAxes:r}),e.state.chart=new Chart(t,n)}else e.state.chart.update()}),f("checkbox",function(e){return e.isForm?U.a.createElement(Ba.Form.Checkbox,e.propsControl):U.a.createElement(Ba.Checkbox,e.propsControl)}),f("container",function(e){return U.a.createElement("div",e.props)}),f("control-bar",function(i){function l(){var e=Ha()(".dwkit-formbuilder-zone");e.removeClass("dwkit-formbuilder-zone-active"),e.removeClass("dwkit-formbuilder-zone-select"),e.off()}return i.me.updateBarPosition=function(){var e,t,n,r;i.me.controlRef&&i.me.controlRef.current&&i.me.barRef&&i.me.barRef.current&&(r=ki.a.findDOMNode(i.me.controlRef.current),e=ki.a.findDOMNode(i.me.barRef.current),t=Ha()(r).position(),n=r.getBoundingClientRect(),r=e.getBoundingClientRect(),n=t.left+n.width-r.width,r=t.top-r.height/2,e.style.transform="translate3d("+(n=(n=n<15?15:n)<15?15:n)+"px, "+r+"px, 0)")},U.a.createElement(la.Consumer,null,function(e){return e=e.visible,e=U.a.createElement("div",{ref:i.me.barRef,className:"dwkit-formbuilder-item-toolbar-container",style:hl(e)},U.a.createElement("div",{key:"bar",className:"dwkit-formbuilder-item-toolbar-header",onMouseOver:function(e){var t=void 0;(t=i.me.controlRef.current?ki.a.findDOMNode(i.me.controlRef.current):t)&&Ha()(t).addClass("dwkit-formbuilder-item-selected")}.bind(i.me),onMouseLeave:function(e){var t=void 0;(t=i.me.controlRef.current?ki.a.findDOMNode(i.me.controlRef.current):t)&&Ha()(t).removeClass("dwkit-formbuilder-item-selected")}.bind(i.me)},U.a.createElement("div",{className:"dwkit-formbuilder-item-toolbar-header-buttons"},U.a.createElement("div",{className:"dwkit-formbuilder-item-toolbar-header-title",title:i.props.text,onDoubleClick:i.onCopyControl},i.props.model.key),U.a.createElement(Ba.Icon,{key:"move",draggable:!0,onDragStart:function(e,t){var n,r,o,a=".dwkit-formbuilder-zone";t.dataTransfer.setData("text",""),this.controlRef.current&&(r=(n=ki.a.findDOMNode(this.controlRef.current)).getBoundingClientRect(),t.dataTransfer.setDragImage(n,r.width/2,0)),me(e.forContainerType)&&(r=e.forContainerType.split(","),o="",r.forEach(function(e){0<o.length&&(o+=","),o+="[data-buildertype='"+e+"'] > "+a}),a=o),Ha()(a).addClass("dwkit-formbuilder-zone-active").on("dragenter",function(e,t,n){Ha()(n.target).addClass(t)}.bind(i.me,e,"dwkit-formbuilder-zone-select")).on("dragleave",function(e,t,n){Ha()(n.target).removeClass(t)}.bind(i.me,e,"dwkit-formbuilder-zone-select")).on("dragover",function(e){e.preventDefault()}).on("drop",function(e,t){return 0<(t=Ha()(t.target)).length&&co.move(e.key,t[0]),l(),!1}.bind(i.me,e))}.bind(i.me,i.props.model),onDragEnd:l.bind(i.me,i.props.model),link:!0,name:"move"}),U.a.createElement(Ba.Icon,{key:"edit",onClick:i.me.props.onEdit.bind(i.props.parent,i.props.model),link:!0,name:"edit"}),U.a.createElement(Ba.Icon,{key:"copy",onClick:i.me.props.onCopy.bind(i.props.parent,i.props.model),link:!0,name:"copy"}),U.a.createElement(Ba.Icon,{key:"delete",onClick:i.me.props.onDelete.bind(i.props.parent,i.props.model),link:!0,name:"delete"})))),[U.a.cloneElement(i.props.control,{ref:i.me.controlRef}),e]})});var Nl=n(19),Il=n.n(Nl);function Ml(){return(Ml=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Bl(){return(Bl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Wl(){return(Wl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}f("date-picker",function(e){var t=U.a.createElement(Il.a,Ml({},e.datePickerProps,{peekNextMonth:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",isClearable:!e.props.readOnly,placeholderText:e.placeholder,selected:e.date,onChange:e.onChange,onChangeRaw:e.handleChangeRaw}));return!e.props.labelPosition||e.props.isForm?(e.controlProps.className?e.controlProps.className+=" field":e.controlProps.className="field",e.props.error&&(e.controlProps.className+=" error"),e.props.readOnly&&(e.controlProps.className+=" datepicker-readonly"),U.a.createElement("div",e.controlProps,me(e.props.label)&&U.a.createElement("label",null,e.props.label),U.a.createElement("div",{"data-buildertype":e.props.type},t))):(e.controlProps.className?e.controlProps.className+=" ui fluid labeled input":e.controlProps.className="ui fluid labeled input",e.props.error&&(e.controlProps.className+=" error"),e.props.readOnly&&(e.controlProps.className+=" datepicker-readonly"),U.a.createElement("div",Ml({},e.controlProps,{"data-buildertype":e.props.type}),me(e.props.label)&&U.a.createElement("div",{className:"ui label label"},e.props.label),t))}),f("dictionary",function(e){return U.a.createElement(Ba.Form.Dropdown,Bl({},e.propsControl,{error:me(e.propsControl.error)}))}),f("dropdown",function(e){return U.a.createElement(Ba.Form.Dropdown,e.propsControl)}),f("dropdown-trigger",function(e){return e.controlProps.trigger=U.a.createElement("span",null,me(e.props.imageUrl)&&U.a.createElement(Ba.Image,{avatar:!0,src:e.props.imageUrl}),me(e.props.value)?e.props.value:e.props.defaultValue),U.a.createElement(Ba.Dropdown,Wl({},e.controlProps,{onMouseDown:e.onMouseDown}))});var Ul=n(20),Kl=n.n(Ul);function zl(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function ql(r){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?zl(Object(o),!0).forEach(function(e){var t,n=r;e=o[t=e],t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):zl(Object(o)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))})}return r}function Gl(){return(Gl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Hl(){return(Hl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Ql(){return(Ql=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}f("dropzone",function(e){var t=e.props.readOnly?U.a.createElement("div",null):U.a.createElement(Kl.a,{config:e.componentConfig,eventHandlers:e.eventHandlers,djsConfig:e.djsConfig});return e.isForm?U.a.createElement("div",{className:"field"},t):t}),f("edit-form",function(e){if(fe(e.state.item))return U.a.createElement("div",null);var t=e.dwKitControls.getEditControlByType(e.state.item["data-buildertype"],e.props.externalControlList);if(!t)return o="Close",me(e.props.localization)&&(o=e.props.localization.base.closebutton),U.a.createElement(Ba.Modal,{open:e.state.open,onClose:e.onClose},U.a.createElement(Ba.Modal.Header,null,"Error"),U.a.createElement(Ba.Modal.Content,null,U.a.createElement("p",null,"EditForm is not found for this control!")),U.a.createElement(Ba.Modal.Actions,null,U.a.createElement(Ba.Button,{onClick:e.onClose},o)));var n="OK",r="Cancel",o="Question";return me(e.props.localization)&&(n=e.props.localization.base.okbutton,r=e.props.localization.base.cancelbutton,o=e.props.localization.base.questiontitle),U.a.createElement("div",null,U.a.createElement(t,{key:"editform",data:e.state.item,parent:e.parent,open:e.state.open,onSave:e.onSave,onClose:e.onClose,actions:e.props.actions,className:"dwkit-formbuilder-editform",localization:e.props.localization}),U.a.createElement(Ba.Modal,{size:"small",open:e.state.confirm,dimmer:"inverted",onClose:e.confirmHandleCancel},U.a.createElement(Ba.Modal.Header,null,o),U.a.createElement(Ba.Modal.Content,null,U.a.createElement("p",null,e.state.confirmtext)),U.a.createElement(Ba.Modal.Actions,null,U.a.createElement(Ba.Button,{className:"buttontype1",onClick:e.state.confirmHandle},n),U.a.createElement(Ba.Button,{className:"buttontype2",onClick:e.confirmHandleCancel},r))))}),f("empty",function(e){return U.a.createElement("div",{className:"dwkit-formbuilder-empty",key:e.key},e.text)}),f("events-editor",function(o){var a=o.props.data,e=o.props.events,i=[];return e.forEach(function(e){var t=me(a)?a[e]:{},n={element:Ba.Form.Dropdown,props:{className:"dwkit-action-dropdown",multiple:!0,search:!0,selection:!0,allowAdditions:!0}},r={element:Te,props:{className:"parameters-editor",multiple:!0,search:!0,selection:!0,allowAdditions:!0}};i.push(U.a.createElement("div",{key:e+"_events"},U.a.createElement(Ba.Form.Checkbox,{className:t.active?"events-editor-checkbox":"",width:3,key:"active",label:e,name:"active",checked:t.active,onChange:o.me.handleChange.bind(o.me,e)}),U.a.createElement("div",{className:"events-editor-block",style:t.active?{}:{display:"none"}},U.a.createElement(Te,{draggable:!0,columns:[{key:"actions",name:"Actions",control:"custom",customControl:n.element,customControlGetPropsFunc:function(e){return ql({options:o.actionOptions,value:e.actions},n.props)}},{key:"parameters",name:"Parameters",control:"custom",customControl:r.element,customControlGetPropsFunc:function(e){return ql({value:e.parameters,columns:[{key:"name",name:"Name"},{key:"value",name:"Value"}]},r.props)}},{key:"targets",name:"Targets",control:"custom",customControl:n.element,customControlGetPropsFunc:function(e){return ql({options:o.targetOptions,value:e.targets},n.props)}}],name:"triggers",className:"events-editor",value:t.triggers,onChange:o.me.handleChange.bind(o.me,e)}),U.a.createElement(Ba.Button,{onClick:o.me.initNewTrigger.bind(o.me,e),basic:!0,size:"mini",style:{width:"calc(100% - 70px)",marginLeft:20,fontWeight:900,padding:4,fontSize:19}},"+"))))}),U.a.createElement("div",null,i)}),f("files",function(t){return U.a.createElement("div",null,U.a.createElement(Te,Gl({disableAdd:!0,disableCopy:!0},t.editorProps)),function(){if(t.props.readOnly)return null;if(t.props.useDropzone){var e={iconFiletypes:t.props.iconFiletypes,postUrl:t.props.postUrl,showFiletypeIcon:t.props.showFiletypeIcon,autoProcessQueue:t.props.autoProcessQueue,additionalParams:t.props.additionalParams,onSuccess:t.onDropzoneUploadSuccess,onFail:t.onDropzoneUploadFail};return U.a.createElement(vt,Gl({addRemoveLinks:!0},e))}return t.props.useCamera&&(t.editorProps.columns.find(function(e){return"file2"==e.control}).control="camera"),e={uploadUrl:t.props.postUrl,downloadUrl:t.props.downloadUrl,readOnly:t.props.readOnly,onlyImages:t.props.useCamera,multiple:t.props.multiple,onChange:t.onUploadChange,onUploadFail:t.onUploadFail},U.a.createElement(eo,Gl({isForm:!0},e))}())}),f("form",function(e){return U.a.createElement(Ba.Form,Hl({},e.propsControl,{children:e.children,size:e.model.size}))}),f("formgroup",function(e){var t=e.widths;return"custom"===t&&(t=e.widthsCustom),"grouped"==e.orientation&&(e.propsControl[e.orientation]=!0),"field"==e.orientation?U.a.createElement(Ba.Form.Field,Ql({},e.propsControl,{children:e.children})):U.a.createElement(Ba.Form.Group,Ql({},e.propsControl,{widths:t,children:e.children}))}),f("checkbox-formatter",function(e){return e=Boolean(e.props.value),U.a.createElement(Ba.Checkbox,{checked:e,disabled:!0})}),f("number-formatter",function(e){return e=e.props.value,U.a.createElement("span",{style:{textAlign:"right"}},U.a.createElement("div",{title:e},e))}),f("date-formatter",function(e){return U.a.createElement("span",{style:{textAlign:"right"}},U.a.createElement("div",{title:e.strValue},e.strValue))}),f("datetime-formatter",function(e){return U.a.createElement("span",{style:{textAlign:"right"}},U.a.createElement("div",{title:e.strValue},e.strValue))}),f("time-formatter",function(e){return U.a.createElement("span",{style:{textAlign:"right"}},U.a.createElement("div",{title:e.strValue},e.strValue))});var Jl=n(17),Yl=n.n(Jl);function $l(){return($l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Xl(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}var Zl=Object(Jl.WidthProvider)(Yl.a);f("grid-layout",function(l){var e=function(t){var o=l.me,a=[],i=void 0;if(!l.props.buildermode)try{i=JSON.parse(l.getCookie(window.location.pathname+"_"+l.props.name))}catch(e){}if(Array.isArray(t))for(var e=function(e){var n=t[e];if(void 0!==n.visibleCondition&&null!==n.visibleCondition&&""!==n.visibleCondition){e="return "+n.visibleCondition;try{if(!new Function("",e)())return"continue"}catch(e){}}var r=!1;me(i)&&i.forEach(function(e){var t;e.i==n.psid&&(r=!0,t=function(r){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?Xl(Object(o),!0).forEach(function(e){var t,n=r;e=o[t=e],t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):Xl(Object(o)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))})}return r}({},n),o.props.draggable&&(t.x=e.x,t.y=e.y),o.props.resizable&&(t.w=e.w,t.h=e.h),a.push(o.renderPanel(t)))}),r||a.push(function(e){var t,n=void 0;me(l.props.placeholders)&&Array.isArray(l.props.placeholders[e.psid])&&0<l.props.placeholders[e.psid].length?(r=l.props.placeholders[e.psid])&&(n=l.props.createControls(l.me,{model:r,parentPlaceholder:e.psid,buildermode:l.props.buildermode,data:l.props.data,errors:l.props.errors,parentItem:l.props.model,children:l.props.children,handleEvent:l.props.handleEvent,getFormFunc:l.props.getFormFunc,getAdditionalDataForControl:l.props.getAdditionalDataForControl,readOnlyControls:l.props.readOnlyControls,readOnly:l.props.readOnly,disableRefs:l.props.disableRefs,uploadUrl:l.props.uploadUrl,downloadUrl:l.props.downloadUrl,extendedData:l.props.extendedData,controlsToReplace:l.props.controlsToReplace,needCheckReplace:l.props.needCheckReplace,eventOnEdit:l.props.eventOnEdit,eventOnDelete:l.props.eventOnDelete,eventOnCopy:l.props.eventOnCopy,adaptiveViewType:l.props.adaptiveViewType}),t=e.psid,l.props.buildermode&&l.props.createBuilderDropzone&&(0<n.length&&0<r.length&&n.unshift(l.props.createBuilderDropzone(t+"layout_dropzone_header",l.props.name,void 0,e.title,e.psid)),n.push(l.props.createBuilderDropzone(t+"layout_dropzone_footer",l.props.name,r[r.length-1].key,e.title,e.psid)))):l.props.buildermode&&l.props.createBuilderDropzone&&(n=l.props.createBuilderDropzone("layout_dropzone_footer",l.props.name,void 0,e.title,e.psid));var r={x:me(e.x)?e.x:0,y:me(e.y)?e.y:0,w:me(e.w)?e.w:4,h:me(e.h)?e.h:4,i:e.psid};return U.a.createElement("div",{key:e.psid,className:e.cssclass,"data-grid":r},e.title&&U.a.createElement("div",{className:"react-grid-item-title"},e.title),n)}(n))},n=0;n<t.length;n++)e(n);return a}(l.props["data-panes"]),t={isDraggable:!0,isResizable:!0,cols:he(l.props.cols)?l.props.cols:12,rowHeight:30,containerPadding:[0,0],draggableCancel:"input,textarea"};l.props.buildermode||(t.isDraggable=l.props.draggable,t.isResizable=l.props.resizable);var n=l.props.className;return l.props.scroll&&(n="react-grid-scroll"),U.a.createElement("div",{className:n,style:l.props.style},U.a.createElement(Zl,$l({onLayoutChange:l.onLayoutChange},t),e))});var es=n(12),ts=n.n(es);function ns(){return(ns=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function rs(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function os(){return(os=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function as(){return(as=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function is(){return(is=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ls(){return(ls=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ss(){return(ss=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}f("grid-view",function(e){var t=e.props.className,n=function(r){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?rs(Object(o),!0).forEach(function(e){var t,n=r;e=o[t=e],t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):rs(Object(o)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))})}return r}({},e.props.style),r=e.gridProps;return r.columns=e.gridColumns,r.rowKey=e.props.rowKey,he(e.props.rowHeight)&&(r.rowHeight=Number(e.props.rowHeight)),e.props.headerRowHeight&&(r.headerRowHeight=e.props.headerRowHeight),e.props.autoHeight?(n.minHeight=e.props.minHeight,he(e.props.offSet)?n.height="calc(100vh - "+e.props.offSet+")":n.height="100vh",t=(fe(t)?"":t+" ")+"dwkit-gridview-autoHeight"):he(e.props.minHeight)&&(r.minHeight=e.props.minHeight),e.props.multiselect&&(r.rowSelection={onRowsSelected:e.onRowsSelected,onRowsDeselected:e.onRowsDeselected,selectBy:e.selectBy}),U.a.createElement("div",{key:e.props.name,name:e.props.name,className:t,style:n},U.a.createElement(ts.a,ns({key:"grid"},r,{rowsCount:e.state.rowsCount,rowGetter:e.gridRowGetter,onRowClick:e.gridOnRowClick,onGridSort:e.handleGridSort})))}),f("header",function(e){return U.a.createElement(Ba.Header,os({},e.propsControl,{textAlign:e.model.textAlign,size:e.model.size,content:e.props.content,subheader:e.props.subheader}))}),f("image",function(n){var e,t,r,o,a=n.props.src;return"string"==typeof n.props.value&&32==n.props.value.length&&(n.props.value==n.me.state.token?a=n.me.state.source:(t=function(e,t){n.me.setState({token:e,source:t})},r=(e=n).props.value,(o=new XMLHttpRequest).open("POST",e.me.props.additionalParams.downloadUrl+r,!0),o.responseType="blob",o.onload=function(){var e=new FileReader;e.onloadend=function(){t(r,this.result)},e.readAsDataURL(o.response)},o.send(null))),U.a.createElement(Ba.Image,as({},n.propsControl,{avatar:n.model.avatar,bordered:n.model.bordered,centered:n.model.centered,disabled:n.model.disabled,inline:n.model.inline,href:n.props.href,src:a,floated:n.model.floated,shape:n.model.shape,spaced:n.model.spaced,verticalAlign:n.model.verticalAlign,height:n.model.height,width:n.model.width}))}),f("input",function(e){return"file"===e.propsControl.type?(e.propsControl.isForm=!e.propsControl.labelPosition||e.isForm,U.a.createElement(eo,is({},e.propsControl,{downloadUrl:e.props.additionalParams.downloadUrl,uploadUrl:e.props.additionalParams.uploadUrl}))):"date"===e.propsControl.type||"time"===e.propsControl.type||"datetime"===e.propsControl.type?(e.propsControl.isForm=!e.propsControl.labelPosition||e.isForm,U.a.createElement(Ze,e.propsControl)):!e.propsControl.labelPosition||e.isForm?U.a.createElement(Ba.Form.Input,e.propsControl):U.a.createElement(Ba.Input,e.propsControl)}),f("label",function(e){return U.a.createElement(Ba.Label,ls({},e.propsControl,{size:e.model.size,content:e.props.content,attached:e.model.attached,basic:e.model.basic,circular:e.model.circular,corner:e.model.corner,floating:e.model.floating,pointing:e.model.pointing}))}),f("menu-group",function(s){var e,t=function e(t,n){var r=[];fe(n)&&(n="");for(var o=0;o<t.length;o++){var a=t[o];if(me(a.visibleCondition)&&null!==a.visibleCondition&&""!==a.visibleCondition){var i="return "+a.visibleCondition;try{if(!new Function("",i)())continue}catch(e){}}var l=String(n)+String(o),i=U.a.createElement("span",{dangerouslySetInnerHTML:{__html:a.title}});Array.isArray(a.children)&&0<a.children.length?r.push(U.a.createElement(Ba.Menu.Item,{key:l},U.a.createElement(Ba.Menu.Header,null,i),U.a.createElement(Ba.Menu.Menu,null,e(a.children,l+"_")))):(i=s.props.link?U.a.createElement("a",{style:{color:"inherit"},href:a.target,onClick:s.handleItemClick2.bind(s.me,{name:a.target})},i):i,s.props.link?r.push(U.a.createElement(Ba.Menu.Item,{key:l,name:a.target,active:s.state.activeitem===a.target},i)):r.push(U.a.createElement(Ba.Menu.Item,{key:l,name:a.target,active:s.state.activeitem===a.target,onClick:s.handleItemClick},i)))}return r}(s.items),n={};for(e in s.props)"data-items"!=e&&"activeItem"!=e&&"handleEvent"!=e&&"link"!=e&&(n[e]=s.props[e]);return U.a.createElement(Ba.Menu,n,t)}),f("message",function(e){return U.a.createElement(Ba.Message,ss({},e.propsControl,{floated:e.model.floated,size:e.model.size,content:e.props.content,compact:e.model.compact,error:e.model.error,floating:e.model.floating,info:e.model.info,negative:e.model.negative,positive:e.model.positive,success:e.model.success,warning:e.model.warning,header:e.props.header}))}),f("null-control",function(e){return U.a.createElement("div",{key:e.key},e.text)});var cs=n(15),us=n.n(cs);f("number-format",function(e){return e.propsControl.customInput=(!e.propsControl.labelPosition||e.isForm?Ba.Form:Ba).Input,U.a.createElement(us.a,e.propsControl)}),f("popup",function(e){return U.a.createElement(Ba.Popup,{key:e.key,trigger:e.trigger,on:e.popupOn,position:e.popupPosition,className:e.className,header:e.header,content:e.content})}),f("radio-group",function(n){var e=n.props.items.map(function(e){var t=e.key||e.value;return U.a.createElement(Ba.Form.Field,{key:t+"_formfield"},U.a.createElement(Ba.Form.Radio,{key:t,label:e.text,name:n.props.name+"_radioGroup",value:e.value,readOnly:n.props.readOnly,checked:n.props.value===e.value,onChange:n.onChange}))},n),t=(t=n.props.className)||"";return n.props.error&&(t+=" error"),"v"===n.props.direction?U.a.createElement("div",{className:t+=" ui form",style:n.props.style},U.a.createElement("label",null,n.props.label),U.a.createElement(Ba.Form,null,e)):U.a.createElement("div",{className:"ui form"},U.a.createElement("div",{className:t+=" field"},U.a.createElement("label",null,n.props.label),U.a.createElement("div",{style:n.props.style},U.a.createElement(Ba.Form.Group,{key:"group"},e))))});var ps=n(21),ds=n.n(ps);function fs(){return(fs=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ms(){return(ms=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}f("repeater",function(l){function e(e,t,n){var r,o=l.me,a=[],i=0;return Array.isArray(e)&&0<e.length?e.forEach(function(e){me(e=s(i,e,!i&&o.props.controlProps.buildermode))&&(n?a.push(U.a.createElement("div",{key:i},e)):a.push(e)),i++}):l.props.controlProps.buildermode?me(r=s(i,{},0===i))&&(n?a.push(U.a.createElement("div",null,r)):a.push(r)):!l.state.loading&&l.isServerMode&&(!fe(r=l.props.noRecordsLabel)&&""!=r||(r="No records. Refresh..."),r=U.a.createElement("div",{key:"norecords",className:"dwkit-repeater-norecords"},U.a.createElement(Ba.Button,{onClick:l.loadNextPage},r)),a.push(r)),!l.state.loading&&l.isServerMode&&t>e.length&&0<e.length&&(!fe(e=l.props.loadButtonLabel)&&""!=e||(e="Load more..."),e=U.a.createElement("div",{key:"loadmore",className:"dwkit-repeater-loadmore"},U.a.createElement(Ba.Button,{onClick:l.loadNextPage},e)),a.push(e)),a}function s(e,t,n){if(!l.props.controlProps.buildermode&&""!==l.props["item-visibleCondition"]&&void 0!==l.props["item-visibleCondition"]&&null!==l.props["item-visibleCondition"]){var r="return "+l.props["item-visibleCondition"];try{if(!new Function("data",r)(t))return}catch(e){return}}var o=void 0,a=l.props.controlProps.createBuilderDropzone;return me(l.props.placeholders)&&Array.isArray(l.props.placeholders[l.psTemplate])&&0<l.props.placeholders[l.psTemplate].length?me(r=l.props.placeholders[l.psTemplate])&&(o=U.a.createElement($n,{key:e,parent:l.me,model:r,psTemplate:l.psTemplate,item:t,controlProps:l.props.controlProps,includeDropzone:n,errors:Array.isArray(l.props.error)?l.props.error[e]:void 0,index:e,handleChange:l.handleChange,data:l.props.data,parentItem:l.props.model})):n&&a&&(o=a("repeater_dropzone_footer",l.props.model.key,void 0,void 0,l.psTemplate)),o}var t="dwkit-repeater";return l.props.className&&(t+=" "+l.props.className),l.isServerMode&&l.state.firstLoad?(l.state.firstLoad=!1,l.loadNextPage(),U.a.createElement("div",{className:t,style:l.props.style},l.state.loading&&U.a.createElement(Ba.Loader,{active:!0,inline:"centered"}))):l.props.slider&&0<l.state.items.length?U.a.createElement("div",{className:t,style:l.props.style},U.a.createElement(ds.a,{dots:!0,infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1},e(l.state.items,l.state.rowsCount,!0)),l.state.loading&&U.a.createElement(Ba.Loader,{active:!0,inline:"centered"})):U.a.createElement("div",{className:t,style:l.props.style},e(l.state.items,l.state.rowsCount),l.state.loading&&U.a.createElement(Ba.Loader,{active:!0,inline:"centered"}))}),f("row-loading-renderer",function(t){return U.a.createElement("div",{className:t.className},U.a.createElement(es.Row,fs({ref:function(e){return t.me.row=e}},t.props)))}),f("search",function(e){return U.a.createElement(Ba.Search,ms({},e.controlProps,{fluid:!0,loading:e.state.isLoading,onResultSelect:e.handleResultSelect,onSearchChange:e.handleSearchChange,results:e.state.results,value:e.state.value}))});var hs=n(22),ys=n.n(hs);function bs(e){return(bs="function"==typeof Symbol&&"symbol"==sd(Symbol.iterator)?function(e){return sd(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":sd(e)})(e)}function gs(){return(gs=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function vs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vs(e,t){return(Vs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ws(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Es(e){return(Es=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ks(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Cs=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Vs(e,t)}(a,U.a.Component);var n,r,o=(n=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Es(n),t=r?(t=Es(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==bs(t)&&"function"!=typeof t?ws(e):t});function a(e){var t;return function(e){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this),ks(ws(t=o.call(this,e)),"labels",function(){return{draw:t.props.compact?null:t.props.drawLabel||"Draw signature",clear:t.props.clearCanvasLabel||"Clear canvas",upload:t.props.uploadLabel||"Upload",cancel:t.props.cancelLabel||"Cancel"}}),ks(ws(t),"upload",function(){var n=ws(t).props,e=t.sigPad.current.getCanvas().toDataURL("image/png");Al(e,n.uploadUrl,function(e,t){n.onUpload(e,t)}),t.setState({open:!1})}),ks(ws(t),"onClear",function(){t.sigPad.current.clear()}),t.state={open:!1},t.sigPad=Object(c.createRef)(),t}return vs(a.prototype,[{key:"render",value:function(){var e=this,t=this.props,n=this.labels;return t.value?U.a.createElement(Sl,gs({},t,{clear:t.onClear})):U.a.createElement("div",null,U.a.createElement(Ba.Button,{content:n().draw,basic:!0,fluid:t.fluid,onClick:function(){return e.setState({open:!0})},icon:"signup"}),U.a.createElement(Ba.Modal,{open:e.state.open,style:{width:"max-content"}},U.a.createElement(Ba.Modal.Header,null,"Draw signature"),U.a.createElement(Ba.Modal.Content,null,U.a.createElement("div",{className:"signature-canvas-container"},U.a.createElement(ys.a,{ref:e.sigPad,canvasProps:{className:"canvas ui basic button"}}),U.a.createElement(Ba.Button,{fluid:!0,content:n().clear,className:"ui button",onClick:e.onClear,icon:"cancel"}))),U.a.createElement(Ba.Modal.Actions,null,U.a.createElement(Ba.Button,{className:"buttontype1",content:n().upload,download:!0,onClick:e.upload,icon:"check"}),U.a.createElement(Ba.Button,{className:"buttontype2",content:n().cancel,onClick:function(){return e.setState({open:!1})}}))))}}]),a}();function _s(){return(_s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Os(){return(Os=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Ss(){return(Ss=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function As(){return(As=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Ds(){return(Ds=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}f("signature",function(e){var t=e.props,n=t.compact&&t.showPreview?{minWidth:160}:{};return U.a.createElement("div",{className:"field",style:n},e.props.label&&U.a.createElement("label",null,e.props.label),U.a.createElement(Cs,gs({},t,{onUpload:e.onUpload,onClear:e.onClear})))}),f("statistic",function(e){return U.a.createElement(Ba.Statistic.Group,_s({},e.propsControl,{floated:e.model.floated,horizontal:e.model.horizontal,size:e.model.size,items:e.items}))}),f("static-content",function(e){if(e.props.isHtml)return U.a.createElement("span",Os({},e.spanProps,{dangerouslySetInnerHTML:{__html:e.props.content}}));var t=me(e.props.content)?e.props.content.replace("\n","<br/>"):void 0;return U.a.createElement("span",e.spanProps,t)}),f("style-button",function(e){var t="RichEditor-styleButton";return e.props.active&&(t+=" RichEditor-activeButton"),U.a.createElement("span",{className:t,onMouseDown:e.me.onToggle},e.props.label)}),f("tab-group",function(e){var t={};t.pointing=e.props.pointing,t.secondary=e.props.secondary,t.tabular=e.props.tabular,t.fluid=e.props.fluid,t.vertical=e.props.vertical;var n=e.props.className;return e.props.scroll&&(n="dwkit-tabgroup"),U.a.createElement("div",{className:n,style:e.props.style},U.a.createElement(Ba.Tab,{menu:t,panes:e.panes,renderActiveOnly:!1,onTabChange:e.onTabChange}))}),f("textarea",function(e){if(!e.propsControl.labelPosition||e.isForm)return U.a.createElement(Ba.Form.TextArea,e.propsControl);var t="ui labeled input";return e.propsControl.fluid&&(t+=" fluid"),e.propsControl.error&&(t+=" error"),he(e.props.className)&&(t+=" "+e.props.className),U.a.createElement("div",{className:t},e.propsControl.label&&U.a.createElement("div",{className:"ui label label"},e.propsControl.label),U.a.createElement(Ba.TextArea,e.propsControl))}),f("tree-picker-header",function(e){return U.a.createElement(Ba.Modal.Header,null,e.props.name,U.a.createElement("div",{className:"ui menu"},U.a.createElement(Ba.Item,{className:"active tree",as:"a"},U.a.createElement("i",{className:"list icon"})," Select"),U.a.createElement(Ba.Item,{className:"picked item",as:"a"},U.a.createElement("i",{className:"checkmark icon"})," ",e.props.selected," ",U.a.createElement("span",{className:"count"}))))}),f("tree-picker-trigger",function(e){return U.a.createElement(Ba.Form.Dropdown,Ss({},e.controlProps,{onClick:e.handleOpen,onChange:e.onDropdownChange}))}),f("unknown",function(e){return U.a.createElement("span",null,"Unknown type '",e.type,"' of '",e.props.name,"' element.")}),f("upload",function(a){var e,t,n=a.props.type,r=[],o=a.props.isForm,i=a.props.value;return me(i)&&null!=i&&""!=i?(e="Download",t="Clear",me(i=function(){if(window.DWKitAdminLang&&window.DWKitAdminLang.button)return window.DWKitAdminLang.button}())&&(e=i.download,t=i.clear),i=a.props.disabled||a.props.readOnly||a.props.hideClearButton,r.push(U.a.createElement("a",{key:"download",className:"ui button",target:"blank",onClick:function(e){e.preventDefault();var e=a.props.value,o=new XMLHttpRequest;o.open("POST",a.props.downloadUrl+e,!0),o.responseType="arraybuffer",o.onload=function(){var e,t=a.getCustomFileName();t||!(e=o.getResponseHeader("Content-Disposition"))||-1===e.indexOf("attachment")||(n=/filename[^;=\n]*=((['"]).*?\2|[^;\n]*)/.exec(e))&&n[1]&&(t=n[1].replace(/['"]/g,""));var n=(n=a.getCustomContentType())||o.getResponseHeader("Content-Type"),r=document.createElement("a");r.setAttribute("href",window.URL.createObjectURL(new Blob([o.response],{type:n}))),r.setAttribute("download",t||"unknown"),document.body.appendChild(r),r.onclick=function(){document.body.removeChild(r)},r.click()},o.send(null)},href:"#"},e)),i||(r.push(U.a.createElement("span",{key:"sparator"},"  ")),r.push(U.a.createElement("button",{key:"clear",className:"ui button",onClick:a.onClear},t)))):a.props.disabled||a.props.readOnly?r.push(U.a.createElement("span",null)):r.push(U.a.createElement("input",{key:"uploadcontrol",type:"file",multiple:a.props.multiple,accept:a.props.onlyImages?"image/*":void 0,name:a.props.name,onChange:a.onChange,value:""})),o?U.a.createElement("div",{className:"field"},me(a.props.label)&&U.a.createElement("label",null,a.props.label),U.a.createElement("div",{"data-buildertype":n},r)):(o="ui labeled input",a.props.fluid&&(o+=" fluid"),a.props.error&&(o+=" error"),he(a.props.className)&&(o+=" "+a.props.className),U.a.createElement("div",{className:o,"data-buildertype":n},a.props.label&&U.a.createElement("div",{className:"ui label label"},a.props.label),r))}),f("workflow-bar",function(o){var e="dwkit-workflowbar";o.props.className&&(e+=" "+o.props.className);var t=o.props.style,n=o.state.commands||o.props.commands;o.props.selectedScheme&&n&&(n=n.filter(function(e){return e.scheme===o.props.selectedScheme}));var r=o.state.states||o.props.states;return U.a.createElement("div",{className:e,style:t},U.a.createElement("div",{className:"dwkit-workflowbar-items"},function(){if(o.state.processExists||o.props.blockSelectScheme||o.props.schemes.length<=1)return null;var e,t="Select scheme";o.props.selectSchemeDropdown?t=o.props.selectSchemeDropdown:(e=Ge())&&e.selectscheme&&(t=e.startworkflow);var n=[];return n.push({value:null,text:""}),o.props.schemes.forEach(function(e){return n.push({value:e,text:e})}),U.a.createElement(Ba.Dropdown,{key:"setstate",name:"setstate",className:"setstate",options:n,placeholder:t,onChange:o.selectWorkflowScheme,selection:!0,search:!0,value:o.props.selectedScheme})}(),function(e){if(o.props.blockCommands)return null;if(!o.props.blockSelectScheme&&!o.props.selectedScheme&&1<o.props.schemes.length)return null;if(Array.isArray(e)&&0<e.length){var n=[];return e.forEach(function(e){var t={};1==e.type?t.primary=!0:2==e.type&&(t.secondary=!0),n.push(U.a.createElement(Ba.Button,As({},t,{key:e.value,onClick:o.onCommand.bind(o.me,e)}),e.text))}),n}}(n),function(e){if(!o.props.blockSetState&&Array.isArray(e)&&0<e.length){var t,n=fe(o.state.setstate)||""==o.state.setstate,r="Set state";return he(o.props.setStateButton)?r=o.props.setStateButton:(t=Ge())&&(r=t.setstate),[U.a.createElement(Ba.Dropdown,{key:"setstate",name:"setstate",className:"setstate",placeholder:"States",options:e,onChange:o.handleChanged,selection:!0,search:!0}),U.a.createElement(Ba.Button,{key:"btnsetstate",disabled:n,onClick:o.onSetState.bind(o.me)},r)]}}(r)))}),f("card",function(e){return U.a.createElement(Ba.Card,e.propsControls,e.props.imgurl&&U.a.createElement(Ba.Image,{src:e.props.imgurl,wrapped:!0,ui:!1}),U.a.createElement(Ba.Card.Content,null,e.props.header&&U.a.createElement(Ba.Card.Header,null,U.a.createElement("span",{dangerouslySetInnerHTML:{__html:e.props.header}})),e.props.subheader&&U.a.createElement(Ba.Card.Meta,null,U.a.createElement("span",{dangerouslySetInnerHTML:{__html:e.props.subheader}})),U.a.createElement(Ba.Card.Description,null,e.me.renderPanel("description"))),U.a.createElement(Ba.Card.Content,{extra:!0},e.me.renderPanel("extra")))}),f("accordion",function(e){var t={};t.fluid=e.props.fluid,t.styled=e.props.styled;var n=e.props.className;return U.a.createElement("div",{className:n,style:e.props.style},U.a.createElement(Ba.Accordion,Ds({},t,{panels:e.panels})))}),aa([{key:"sepContainers",title:"Containers",isseparate:!0,defaultopen:!0},{key:"container",title:"Container",control:Be},{key:"staticcontent",title:"Static Content",control:Cr,defaultValues:{content:"Text..."}},{key:"form",title:"Form",control:dr},{key:"formgroup",title:"Form Group",control:dr,defaultValues:{widths:"equal"}},{key:"card",title:"Card",control:Wr,defaultValues:{header:"Card",subheader:"Description"}},{key:"tab",title:"Tab",control:xr,defaultValues:{panes:[{title:"Tab 1",psid:"t1"},{title:"Tab 2",psid:"t2"},{title:"Tab 3",psid:"t3"}]}},{key:"accordion",title:"Accordion",control:Tr,defaultValues:{panels:[{title:"Panel 1",psid:"p1"},{title:"Panel 2",psid:"p2"},{title:"Panel 3",psid:"p3"}]}},{key:"customblock",title:"Custom block",control:void 0,defaultValues:{sourceType:"form"}},{key:"gridlayout",title:"Grid Layout",control:Ut,defaultValues:{draggable:!1,resizable:!1,panes:[{title:"Pane 1",psid:"p1",x:0,w:4},{title:"Pane 2",psid:"p2",x:4,w:4},{title:"Pane 3",psid:"p3",x:8,w:4}]}},{key:"sepCollection",title:"Collections",isseparate:!0},{key:"gridview",title:"GridView",control:dn,defaultValues:{columns:[{key:"id",name:"ID"},{key:"title",name:"Title"},{key:"count",name:"Count"}]}},{key:"collectioneditor",title:"Collection Editor",control:Te,defaultValues:{columns:[{key:"Id",name:"ID"},{key:"Title",name:"Title"},{key:"Count",name:"Count"}]}},{key:"repeater",title:"Repeater",control:Wn,defaultValues:{}},{key:"sepControls",title:"Controls",isseparate:!0},{key:"header",title:"Header",control:dr,defaultValues:{content:"Header",size:"medium"}},{key:"input",title:"Input",control:dr,defaultValues:{label:"Input",fluid:!0,onChangeTimeout:200}},{key:"numberformat",title:"Number Format",control:Cn,defaultValues:{label:"NumberFormat",fluid:!0,onChangeTimeout:200}},{key:"textarea",title:"TextArea",control:dr,defaultValues:{label:"TextArea",fluid:!0}},{key:"dictionary",title:"Dictionary",control:it,defaultValues:{label:"Dictionary",fluid:!0,selection:!0}},{key:"treepicker",title:"TreePicker",control:Ri,defaultValues:{label:"TreePicker",selection:!0,fluid:!0,parentIdField:"ParentId"}},{key:"dropdown",title:"Dropdown",control:dr,defaultValues:{label:"Dropdown",fluid:!0,selection:!0,"data-elements":[{value:1,text:"Item 1"},{value:2,text:"Item 2"},{value:3,text:"Item 3"}]}},{key:"checkbox",title:"CheckBox",control:dr,defaultValues:{label:"Checkbox"}},{key:"radiogroup",title:"Radio group",control:Pn,defaultValues:{label:"Radio","data-elements":[{value:1,text:"Item 1"},{value:2,text:"Item 2"},{value:3,text:"Item 3"}]}},{key:"button",title:"Button",control:dr,defaultValues:{content:"Button"}},{key:"label",title:"Label",control:dr,defaultValues:{content:"Label"}},{key:"message",title:"Message",control:dr,defaultValues:{header:"Message",content:"Description..."}},{key:"image",title:"Image",control:dr,defaultValues:{src:"/images/unknown.png"}},{key:"statistic",title:"Statistic",control:dr,defaultValues:{"data-elements":[{label:"Score",value:"22,1%"},{label:"Views",value:"30,000"},{label:"Points",value:"500"}]}},{key:"customcontrol",title:"Custom control",control:void 0,defaultValues:{props:"{  }"}},{key:"dropdowntrigger",title:"Dropdown trigger",control:ft,defaultValues:{defaultValue:"User",items:[{target:"#1",title:"Item 1"},{target:"#2",title:"Item 2"},{target:"#3",title:"Item 3"}]}},{key:"dropzonecontrol",title:"Dropzone",control:vt,defaultValues:{showFiletypeIcon:!1,autoProcessQueue:!0,addRemoveLinks:!0,multile:!0}},{key:"files",title:"Files",control:Ft,defaultValues:{idField:"Id",columns:[{title:"Name",field:"Name",property:"Name",showcolumn:!0},{title:"Length",field:"Length",property:"Length",showcolumn:!1,control:"span"},{title:"Content Type",field:"ContentType",property:"ContentType",showcolumn:!1},{title:"File",field:"Token",property:"Token",showcolumn:!0,control:"file2"}]}},{key:"signature",title:"Signature",control:vr,defaultValues:{showPreview:!0}},{key:"camera",title:"Camera",control:de,defaultValues:{showPreview:!0,compression:.75}},{key:"breadcrumb",title:"Breadcrumbs",control:dr,defaultValues:{items:[{text:"Home",url:"/"},{divider:"right angle",text:"Page1",url:"/page1"},{text:"Page2",active:!0}],events:{onItemClick:{active:!0,actions:["redirect"]}}}},{key:"search",title:"Search",control:or,defaultValues:{}},{key:"menu",title:"Menu",control:vn,defaultValues:{items:[{title:"Menu 1"},{title:"Menu 2"},{title:"Menu 3"}]}},{key:"workflowbar",title:"Workflow bar",control:lo,defaultValues:{blockSetState:!0,blockLoadParameters:!0,events:{onCommandClick:{active:!0,actions:["workflowExecuteCommand"]},onSetStateClick:{active:!0,actions:["workflowSetState"]},onSchemeSelected:{active:!0,actions:["workflowSelectScheme"]}}}},{key:"richtexteditor",title:"Rich Text Editor",control:Gi,defaultValues:{}},{key:"sepCharts",title:"Charts",isseparate:!0},{key:"barchart",title:"Bar",control:we,defaultValues:{chartType:"bar",datasetLabel:""}},{key:"linechart",title:"Line",control:we,defaultValues:{chartType:"line",datasetLabel:""}},{key:"scatterchart",title:"Scatter",control:we,defaultValues:{chartType:"scatter",datasetLabel:""}},{key:"doughnutchart",title:"Doughnut",control:we,defaultValues:{chartType:"doughnut",datasetLabel:""}},{key:"piechart",title:"Pie",control:we,defaultValues:{chartType:"pie",datasetLabel:""}},{key:"radarchart",title:"Radar",control:we,defaultValues:{chartType:"radar",datasetLabel:""}}]),sl.setItems(ia());var xs=sl;function Ps(e){return(Ps="function"==typeof Symbol&&"symbol"==sd(Symbol.iterator)?function(e){return sd(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":sd(e)})(e)}function Ls(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Rs(e,t){return(Rs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function js(e){return(js=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ts=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Rs(e,t)}(t,pi);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=js(n),t=r?(t=js(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Ps(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return Ls(t.prototype,[{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent),n=[{key:"text",name:this.getLocalValue("itemstextcolumn","Text","breadcrumbform")},{key:"url",name:this.getLocalValue("itemsurlcolumn","Url","breadcrumbform")},{key:"active",control:"checkbox",name:this.getLocalValue("itemsactivecolumn","Active","breadcrumbform")},{key:"divider",name:this.getLocalValue("itemsiconcolumn","Divider Icon","breadcrumbform"),dataList:["right angle","right chevron"]}];return U.a.createElement(Ba.Form,null,U.a.createElement(Ba.Form.Group,{widths:"equal"},U.a.createElement(Ba.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","breadcrumbform"),value:e.key,onChange:t})),U.a.createElement(Te,{key:"items",draggable:!0,columns:n,label:this.getLocalValue("itemsfield","Items","breadcrumbform"),name:"items",value:e.items,onChange:t}))}},{key:"getEventsList",value:function(){return["onItemClick"]}}]),t}();function Fs(e){return(Fs="function"==typeof Symbol&&"symbol"==sd(Symbol.iterator)?function(e){return sd(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":sd(e)})(e)}function Ns(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Is(e,t){return(Is=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ms(e){return(Ms=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Bs=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Is(e,t)}(t,pi);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Ms(n),t=r?(t=Ms(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Fs(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return Ns(t.prototype,[{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent),n=[{text:this.getLocalValue("sizedefault","Default"),value:""},{text:this.getLocalValue("sizemini","Mini"),value:"mini"},{text:this.getLocalValue("sizetiny","Tiny"),value:"tiny"},{text:this.getLocalValue("sizesmall","Small"),value:"small"},{text:this.getLocalValue("sizemedium","Medium"),value:"medium"},{text:this.getLocalValue("sizebig","Big"),value:"big"},{text:this.getLocalValue("sizelarge","Large"),value:"large"},{text:this.getLocalValue("sizehuge","Huge"),value:"huge"},{text:this.getLocalValue("sizemassive","Massive"),value:"massive"}];return U.a.createElement(Ba.Form,null,U.a.createElement(Ba.Form.Group,{widths:"equal"},U.a.createElement(Ba.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","buttonform"),value:e.key,onChange:t}),U.a.createElement(Ba.Form.Input,{name:"icon",label:this.getLocalValue("iconfield","Icon","buttonform"),value:e.icon,onChange:t,action:{icon:"help",onClick:function(e){window.open("https://react.semantic-ui.com/elements/icon/")}}})),U.a.createElement(Ba.Form.Group,{widths:"equal"},U.a.createElement(Ba.Form.Input,{name:"content",label:this.getLocalValue("contentfield","Content","buttonform"),value:e.content,onChange:t}),U.a.createElement(Ba.Form.Dropdown,{name:"size",selection:!0,fluid:!0,options:n,placeholder:"Default",label:this.getLocalValue("sizefield","Size","buttonform"),value:e.size,onChange:t})),U.a.createElement(Ba.Form.Group,{widths:"equal"},U.a.createElement("div",{className:"field"},U.a.createElement("label",null,this.getLocalValue("optionsfield","Options","buttonform")),U.a.createElement(Ba.Form.Group,null,U.a.createElement(Ba.Form.Checkbox,{name:"basic",label:this.getLocalValue("basicfield","Basic","buttonform"),checked:e.basic,onChange:t}),U.a.createElement(Ba.Form.Checkbox,{name:"circular",label:this.getLocalValue("circularfield","Circular","buttonform"),checked:e.circular,onChange:t}),U.a.createElement(Ba.Form.Checkbox,{name:"compact",label:this.getLocalValue("compactfield","Compact","buttonform"),checked:e.compact,onChange:t})),U.a.createElement(Ba.Form.Group,null,U.a.createElement(Ba.Form.Checkbox,{name:"disabled",label:this.getLocalValue("disabledfield","Disabled","buttonform"),checked:e.disabled,onChange:t}),U.a.createElement(Ba.Form.Checkbox,{name:"fluid",label:this.getLocalValue("fluidfield","Fluid","buttonform"),checked:e.fluid,onChange:t}),U.a.createElement(Ba.Form.Checkbox,{name:"link",label:this.getLocalValue("linkfield","Link","buttonform"),checked:e.link,onChange:t})),U.a.createElement(Ba.Form.Group,null,U.a.createElement(Ba.Form.Checkbox,{name:"primary",label:this.getLocalValue("primaryfield","Primary","buttonform"),checked:e.primary,onChange:t}),U.a.createElement(Ba.Form.Checkbox,{name:"secondary",label:this.getLocalValue("secondaryfield","Secondary","buttonform"),checked:e.secondary,onChange:t}))),U.a.createElement("div",{className:"field"},U.a.createElement("label",null,this.getLocalValue("floatedfield","Floated","buttonform")),U.a.createElement(Ba.Form.Group,null,U.a.createElement(Ba.Form.Radio,{name:"floated",label:this.getLocalValue("floateddefaultfield","Default","buttonform"),value:"",checked:void 0===e.floated||""===e.floated,onChange:t}),U.a.createElement(Ba.Form.Radio,{name:"floated",label:this.getLocalValue("floatedleftfield","Left","buttonform"),value:"left",checked:"left"===e.floated,onChange:t}),U.a.createElement(Ba.Form.Radio,{name:"floated",label:this.getLocalValue("floatedrightfield","Right","buttonform"),value:"right",checked:"right"===e.floated,onChange:t})))))}},{key:"getEventsList",value:function(){return["onClick"]}}]),t}();function Ws(e){return(Ws="function"==typeof Symbol&&"symbol"==sd(Symbol.iterator)?function(e){return sd(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":sd(e)})(e)}function Us(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ks(e,t){return(Ks=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function zs(e){return(zs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var qs=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ks(e,t)}(o,pi);var n,r,t=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=zs(n),t=r?(t=zs(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Ws(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function o(e){return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),t.call(this,e)}return Us(o.prototype,[{key:"getGeneralDescription",value:function(){var e=this.props.data,n=this.props.parent.handleChange.bind(this.props.parent);return U.a.createElement(Ba.Form,null,U.a.createElement(Ba.Form.Group,{widths:"equal"},U.a.createElement(Ba.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","containerform"),value:e.key,onChange:n}),U.a.createElement(Ba.Form.Input,{name:"label",label:this.getLocalValue("labelfield","Label","inputform"),value:e.label,onChange:n})),U.a.createElement(Ba.Form.Group,{widths:"equal"},U.a.createElement("div",{className:"field"},U.a.createElement("label",null,this.getLocalValue("optionsfield","Options","inputform")),U.a.createElement(Ba.Form.Group,{widths:"equal"},U.a.createElement(Ba.Form.Checkbox,{name:"showPreview",label:this.getLocalValue("showpreviewfield","Show preview","inputform"),checked:e.showPreview,onChange:n}),U.a.createElement(Ba.Form.Checkbox,{name:"compact",label:this.getLocalValue("compactfield","Compact","inputform"),checked:e.compact,onChange:n}))),U.a.createElement(Ba.Form.Input,{name:"compression",label:this.getLocalValue("compressionfield","Image compression from `0.0` to `1.0` (full quality)","inputform"),value:e.compression,onChange:function(e){var t=e.target.value;1<t&&(e.target.value=1),t<0&&(e.target.value=0),n(e,e.target)},type:"number",min:"0",max:"1.0",step:"0.05"})),U.a.createElement("div",{className:"field"},U.a.createElement("label",null,this.getLocalValue("labelsfield","Button labels","cameraform")),U.a.createElement(Ba.Divider,{fitted:!0}),U.a.createElement(Ba.Form.Group,{widths:"equal"},U.a.createElement(Ba.Form.Input,{name:"shotLabel",label:this.getLocalValue("shotLabelfield","Take shot","cameraform"),value:e.shotLabel,onChange:n}),U.a.createElement(Ba.Form.Input,{name:"openLabel",label:this.getLocalValue("openLabelfield","Open","cameraform"),value:e.openLabel,onChange:n}),U.a.createElement(Ba.Form.Input,{name:"openImageLabel",label:this.getLocalValue("openImageLabelField","Open image","cameraform"),value:e.openImageLabel,onChange:n})),U.a.createElement(Ba.Form.Group,{widths:"equal"},U.a.createElement(Ba.Form.Input,{name:"uploadLabel",label:this.getLocalValue("uploadLabelfield","Upload","cameraform"),value:e.uploadLabel,onChange:n}),U.a.createElement(Ba.Form.Input,{name:"cancelLabel",label:this.getLocalValue("cancelLabelfield","Cancel","cameraform"),value:e.cancelLabel,onChange:n}),U.a.createElement(Ba.Form.Input,{name:"resetLabel",label:this.getLocalValue("resetLabelfield","Reset","cameraform"),value:e.resetLabel,onChange:n}))))}},{key:"getEventsList",value:function(){return["onChange"]}}]),o}();function Gs(e){return(Gs="function"==typeof Symbol&&"symbol"==sd(Symbol.iterator)?function(e){return sd(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":sd(e)})(e)}function Hs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qs(e,t){return(Qs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Js(e){return(Js=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ys=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qs(e,t)}(t,pi);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Js(n),t=r?(t=Js(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Gs(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return Hs(t.prototype,[{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent),n=[{value:"",text:this.getLocalValue("legendpositiondefaultfield","Default","chartform")},{value:"top",text:this.getLocalValue("legendpositiontopfield","Top","chartform")},{value:"left",text:this.getLocalValue("legendpositionleftfield","Left","chartform")},{value:"bottom",text:this.getLocalValue("legendpositionbottomfield","Bottom","chartform")},{value:"right",text:this.getLocalValue("legendpositionrightfield","Right","chartform")}],r=""===e.datasetCustom||fe(e.datasetCustom);return U.a.createElement(Ba.Form,null,U.a.createElement(Ba.Form.Group,{widths:"equal"},U.a.createElement("div",{className:"field"},U.a.createElement(Ba.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","chartform"),value:e.key,onChange:t}),U.a.createElement(Ba.Form.Input,{name:"title",label:this.getLocalValue("titlefield","Title","chartform"),value:e.title,onChange:t}),U.a.createElement(Ba.Form.Input,{name:"titleSize",label:this.getLocalValue("titlesizefield","Title size","chartform"),value:e.titleSize,onChange:t}),U.a.createElement(Ba.Form.Dropdown,{name:"legendPosition",selection:!0,fluid:!0,label:this.getLocalValue("legendpositionfield","Legend position","chartform"),placeholder:n[0].text,options:n,value:e.legendPosition,onChange:t})),U.a.createElement("div",{className:"field"},U.a.createElement(Ba.Form.Checkbox,{name:"responsive",label:this.getLocalValue("responsivefield","Responsive","chartform"),checked:e.responsive,onChange:t}),U.a.createElement(Ba.Form.Checkbox,{name:"datasetCustom",label:this.getLocalValue("datasetcustomfield","Dataset custom","chartform"),checked:e.datasetCustom,onChange:t}),U.a.createElement(Ba.Form.Input,{name:"dataLabels",style:{paddingTop:"5px"},disabled:r,placeholder:this.getLocalValue("datalabelsplaceholder","Q1, Q2, Q3, Q4","chartform"),label:this.getLocalValue("datalabelsfield","Data labels","chartform"),value:e.dataLabels,onChange:t}),U.a.createElement(Ba.Form.Input,{name:"datasetLabel",disabled:r,label:this.getLocalValue("datasetlabelfield","Dataset Label","chartform"),value:e.datasetLabel,onChange:t}),U.a.createElement(Ba.Form.Input,{name:"datasetBackgroundColor",disabled:r,label:this.getLocalValue("datasetbackgroundcolorfield","Dataset BackgroundColor","chartform"),value:e.datasetBackgroundColor,onChange:t}))))}}]),t}();function $s(e){return($s="function"==typeof Symbol&&"symbol"==sd(Symbol.iterator)?function(e){return sd(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":sd(e)})(e)}function Xs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zs(e,t){return(Zs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ec(e){return(ec=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var tc=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Zs(e,t)}(t,pi);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=ec(n),t=r?(t=ec(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==$s(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return Xs(t.prototype,[{key:"getGeneralDescription",value:function(){var e=this.props.parent.handleChange.bind(this.props.parent),t=this.props.data;return U.a.createElement(Ba.Form,null,U.a.createElement(Ba.Form.Group,{widths:"equal"},U.a.createElement(Ba.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","checkboxform"),value:t.key,onChange:e}),U.a.createElement(Ba.Form.Input,{name:"label",label:this.getLocalValue("labelfield","Label","checkboxform"),value:t.label,onChange:e})),U.a.createElement(Ba.Form.Group,{widths:"2"},U.a.createElement("div",{className:"field"},U.a.createElement("label",null,this.getLocalValue("optionsfield","Options","checkboxform")),U.a.createElement(Ba.Form.Group,null,U.a.createElement(Ba.Form.Checkbox,{name:"fitted",label:this.getLocalValue("fittedfield","Fitted","checkboxform"),checked:t.fitted,onChange:e}),U.a.createElement(Ba.Form.Checkbox,{name:"indeterminate",label:this.getLocalValue("indeterminatefield","Indeterminate","checkboxform"),checked:t.indeterminate,onChange:e}),U.a.createElement(Ba.Form.Checkbox,{name:"readOnly",label:this.getLocalValue("readonlyfield","ReadOnly","checkboxform"),checked:t.readOnly,onChange:e})),U.a.createElement(Ba.Form.Group,null,U.a.createElement(Ba.Form.Checkbox,{name:"disabled",label:this.getLocalValue("disabledfield","Disabled","checkboxform"),checked:t.disabled,onChange:e}),U.a.createElement(Ba.Form.Checkbox,{name:"slider",label:this.getLocalValue("sliderfield","Slider","checkboxform"),checked:t.slider,onChange:e}),U.a.createElement(Ba.Form.Checkbox,{name:"toggle",label:this.getLocalValue("togglefield","Toggle","checkboxform"),checked:t.toggle,onChange:e})))))}},{key:"getEventsList",value:function(){return["onChange"]}}]),t}();function nc(e){return(nc="function"==typeof Symbol&&"symbol"==sd(Symbol.iterator)?function(e){return sd(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":sd(e)})(e)}function rc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function oc(e,t){return(oc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ac(e){return(ac=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ic=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oc(e,t)}(t,pi);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=ac(n),t=r?(t=ac(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==nc(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return rc(t.prototype,[{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent),n=[{key:"key",name:this.getLocalValue("keycolumn","Key","collectioneditorform")},{key:"name",name:this.getLocalValue("namecolumn","Name","collectioneditorform")},{key:"control",name:this.getLocalValue("controlcolumn","Control","collectioneditorform"),dataList:["input","checkbox","span","number","file","camera","signature","date","datetime","custom"]},{key:"width",name:this.getLocalValue("widthcolumn","Width","collectioneditorform")}];return U.a.createElement(Ba.Form,null,U.a.createElement(Ba.Form.Group,{widths:"equal"},U.a.createElement(Ba.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","collectioneditorform"),value:e.key,onChange:t}),U.a.createElement(Ba.Form.Input,{name:"idField",label:this.getLocalValue("idfield","Id field","collectioneditorform"),value:e.idField,onChange:t})),U.a.createElement(Ba.Form.Group,{widths:"equal"},U.a.createElement("div",{className:"field"},U.a.createElement("label",null,this.getLocalValue("optionsfield","Options","collectioneditorform")),U.a.createElement(Ba.Form.Group,null,U.a.createElement(Ba.Form.Checkbox,{name:"readOnly",label:this.getLocalValue("readonlyfield","ReadOnly","collectioneditorform"),checked:e.readOnly,onChange:t}),U.a.createElement(Ba.Form.Checkbox,{name:"draggable",label:this.getLocalValue("draggablefield","Draggable","collectioneditorform"),checked:e.draggable,onChange:t}),U.a.createElement(Ba.Form.Checkbox,{name:"hierarchical",label:this.getLocalValue("hierarchicalfield","Hierarchical","collectioneditorform"),checked:e.hierarchical,onChange:t})),U.a.createElement(Ba.Form.Group,null,U.a.createElement(Ba.Form.Checkbox,{name:"disableAdd",label:this.getLocalValue("disableAdd","Disable Add","collectioneditorform"),checked:e.disableAdd,onChange:t}),U.a.createElement(Ba.Form.Checkbox,{name:"disableCopy",label:this.getLocalValue("disableCopy","Disable Copy","collectioneditorform"),checked:e.disableCopy,onChange:t}),U.a.createElement(Ba.Form.Checkbox,{name:"disableDelete",label:this.getLocalValue("disableDelete","Disable Delete","collectioneditorform"),checked:e.disableDelete,onChange:t}),U.a.createElement(Ba.Form.Checkbox,{name:"collapseAll",label:this.getLocalValue("collapseallfield","Collapse all","collectioneditorform"),disabled:1!=e.hierarchical,checked:e.collapseAll,onChange:t}))),U.a.createElement("div",{className:"field"},U.a.createElement(Ba.Form.Input,{name:"parentIdField",label:this.getLocalValue("parentidfield","ParentId field","collectioneditorform"),disabled:!e.hierarchical||e.childrenField,value:e.parentIdField,onChange:t}),U.a.createElement(Ba.Form.Input,{name:"childrenField",label:this.getLocalValue("childrenField","Children field","collectioneditorform"),disabled:!e.hierarchical||e.parentIdField,value:e.childrenField,onChange:t}))),U.a.createElement(Te,{key:"columns",draggable:!0,columns:n,label:this.getLocalValue("columnsfield","Columns","collectioneditorform"),name:"columns",value:e.columns,height:"200px",onChange:t}))}},{key:"getEventsList",value:function(){return["onChange","onAdd","onDelete","onCopy"]}}]),t}();function lc(e){return(lc="function"==typeof Symbol&&"symbol"==sd(Symbol.iterator)?function(e){return sd(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":sd(e)})(e)}function sc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cc(e,t){return(cc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function uc(e){return(uc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var pc=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&cc(e,t)}(t,pi);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=uc(n),t=r?(t=uc(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==lc(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return sc(t.prototype,[{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent),n=[{text:this.getLocalValue("floatnonefield","None","containerform"),value:""},{text:this.getLocalValue("floatleftfield","Left","containerform"),value:"left"},{text:this.getLocalValue("floatrightfield","Right","containerform"),value:"right"},{text:this.getLocalValue("floatinheritfield","Inherit","containerform"),value:"inherit"},{text:this.getLocalValue("floatinitialfield","Initial","containerform"),value:"initial"}],r=[{text:this.getLocalValue("displaynotsetfield","(Not set)","containerform"),value:""},{text:this.getLocalValue("displayflexfield","Flex","containerform"),value:"flex"},{text:this.getLocalValue("displayblockfield","Block","containerform"),value:"block"},{text:this.getLocalValue("displayinlinefield","Inline","containerform"),value:"inline"},{text:this.getLocalValue("displayflowfield","Flow","containerform"),value:"flow"},{text:this.getLocalValue("displayflowrootfield","Flow-root","containerform"),value:"flow-root"},{text:this.getLocalValue("displaytablefield","Table","containerform"),value:"table"},{text:this.getLocalValue("displaygridfield","Grid","containerform"),value:"grid"},{text:this.getLocalValue("displaycontentsfield","Contents","containerform"),value:"contents"},{text:this.getLocalValue("displayinlineblockfield","Inline-block","containerform"),value:"inline-block"},{text:this.getLocalValue("displayinlinetablefield","Inline-table","containerform"),value:"inline-table"},{text:this.getLocalValue("displayinlineflexfield","Inline-flex","containerform"),value:"inline-flex"},{text:this.getLocalValue("displayinlinegridfield","Inline-grid","containerform"),value:"inline-grid"},{text:this.getLocalValue("displayinheritfield","Inherit","containerform"),value:"inherit"},{text:this.getLocalValue("displayinitialfield","Initial","containerform"),value:"initial"},{text:this.getLocalValue("displaynonefield","None","containerform"),value:"none"}],o=[{text:this.getLocalValue("displaynotsetfield","(Not set)","containerform"),value:""},{text:this.getLocalValue("flexbaselinefield","Baseline","containerform"),value:"baseline"},{text:this.getLocalValue("flexstretchfield","Stretch","containerform"),value:"stretch"},{text:this.getLocalValue("flexcenterfield","Center","containerform"),value:"center"},{text:this.getLocalValue("flexstartfield","Start","containerform"),value:"flex-start"},{text:this.getLocalValue("flexendfield","End","containerform"),value:"flex-end"},{text:this.getLocalValue("flexspacearoundfield","Space Around","containerform"),value:"space-around"},{text:this.getLocalValue("flexspacebetweenfield","Space Between","containerform"),value:"space-between"}];return U.a.createElement(Ba.Form,null,U.a.createElement(Ba.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","containerform"),value:e.key,onChange:t}),U.a.createElement(Ba.Form.Field,null,U.a.createElement("label",null,this.getLocalValue("childrenviewfield","Children Container View","containerform")),U.a.createElement(Ba.Form.Group,null,U.a.createElement(Ba.Form.Radio,{name:"childrenView",label:this.getLocalValue("childrenviewnonefield","None","containerform"),value:"",checked:!e.childrenView,onChange:t}),U.a.createElement(Ba.Form.Radio,{name:"childrenView",label:this.getLocalValue("childrenviewrowsfield","Rows","containerform"),value:"rows",checked:"rows"===e.childrenView,onChange:t}),U.a.createElement(Ba.Form.Radio,{name:"childrenView",label:this.getLocalValue("childrenviewcolumnsfield","Columns","containerform"),value:"columns",checked:"columns"===e.childrenView,onChange:t}),U.a.createElement(Ba.Form.Radio,{name:"childrenView",label:this.getLocalValue("childrenviewcolumnswrapfield","Columns Wrap","containerform"),value:"columnswrap",checked:"columnswrap"===e.childrenView,onChange:t}),e.childrenView&&U.a.createElement("div",{className:"dwkit-formbuilder-container-"+e.childrenView}))),e.childrenView&&U.a.createElement(Ba.Form.TextArea,{name:"children-style-source",placeholder:"/*** Example Code ***/\ncolor:red;\npaddingTop:5px;",label:this.getLocalValue("childrenstylefield","Children Container Style","containerform"),value:e["children-style-source"],onChange:t}),!e.childrenView&&U.a.createElement(Ba.Form.Group,{widths:"equal"},U.a.createElement(Ba.Form.Dropdown,{name:"style-display",selection:!0,search:!0,fluid:!0,options:r,placeholder:r[0].text,label:this.getLocalValue("displayfield","Display","containerform"),value:e["style-display"],onChange:t}),"flex"!==e["style-display"]&&U.a.createElement(Ba.Form.Dropdown,{name:"style-float",selection:!0,fluid:!0,options:n,placeholder:n[0].text,label:this.getLocalValue("floatfield","Float","containerform"),value:e["style-float"],onChange:t})),!e.childrenView&&"flex"===e["style-display"]&&U.a.createElement(Ba.Form.Group,{widths:"equal"},U.a.createElement(Ba.Form.Dropdown,{name:"style-display-horizontalalign",selection:!0,search:!0,fluid:!0,options:o,placeholder:o[0].text,label:this.getLocalValue("displayhorizontalalignfield","Horizontal Align","containerform"),value:e["style-display-horizontalalign"],onChange:t}),U.a.createElement(Ba.Form.Dropdown,{name:"style-display-verticalalign",selection:!0,search:!0,fluid:!0,options:o,placeholder:o[0].text,label:this.getLocalValue("displayverticalalignfield","Vertical Align","containerform"),value:e["style-display-verticalalign"],onChange:t})))}}]),t}();function dc(e){return(dc="function"==typeof Symbol&&"symbol"==sd(Symbol.iterator)?function(e){return sd(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":sd(e)})(e)}function fc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mc(e,t){return(mc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function hc(e){return(hc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var yc=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mc(e,t)}(t,pi);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=hc(n),t=r?(t=hc(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==dc(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return fc(t.prototype,[{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent);return U.a.createElement(Ba.Form,null,U.a.createElement(Ba.Form.Group,{widths:"equal"},U.a.createElement(Ba.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","customform"),value:e.key,onChange:t}),U.a.createElement(Ba.Form.Input,{name:"type",label:this.getLocalValue("typefield","Control type","customform"),value:e.type,onChange:t})),U.a.createElement(Ba.Form.Group,{widths:"equal"},U.a.createElement(Ba.Form.TextArea,{key:"props",label:this.getLocalValue("propsfield","Props","customform"),name:"props",value:e.props,onChange:t,rows:5}),U.a.createElement(Ba.Form.TextArea,{key:"children",label:this.getLocalValue("childrenfield","Children","customform"),name:"children",value:e.children,onChange:t,rows:5})))}}]),t}();function bc(e){return(bc="function"==typeof Symbol&&"symbol"==sd(Symbol.iterator)?function(e){return sd(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":sd(e)})(e)}function gc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vc(e,t){return(vc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Vc(e){return(Vc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var wc=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vc(e,t)}(t,pi);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Vc(n),t=r?(t=Vc(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==bc(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return gc(t.prototype,[{key:"getGeneralDescription",value:function(){var e=this,t=this.props.data,n=this.props.parent.handleChange.bind(this.props.parent),r='[{"column":"columnName","value":"columnValue","term":"="}]',o=U.a.createElement(Ba.Icon,{link:!0,onClick:function(){e.props.parent.handleChange.call(e.props.parent,void 0,{name:"filters",value:r})},name:"idea"});return U.a.createElement(Ba.Form,null,U.a.createElement(Ba.Form.Group,{widths:"equal"},U.a.createElement(Ba.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","dictionaryform"),value:t.key,onChange:n}),U.a.createElement(Ba.Form.Input,{name:"label",label:this.getLocalValue("labelfield","Label","dictionaryform"),value:t.label,onChange:n})),U.a.createElement(Ba.Form.Group,{widths:"equal"},U.a.createElement(Ba.Form.Input,{name:"dataModel",label:this.getLocalValue("datamodelfield","Data model","dictionaryform"),value:t.dataModel,onChange:n}),U.a.createElement(Ba.Form.Input,{name:"placeholder",label:this.getLocalValue("placeholderfield","Placeholder","dictionaryform"),value:t.placeholder,onChange:n})),U.a.createElement(Ba.Form.Group,{widths:"equal"},U.a.createElement("div",{className:"field"},U.a.createElement(Ba.Form.Input,{name:"columns",label:this.getLocalValue("columnsfield","Columns (Name ASC, Email)","dictionaryform"),value:t.columns,onChange:n}),U.a.createElement(Ba.Form.Input,{name:"text",label:this.getLocalValue("textfield","Text expression","dictionaryform"),value:t.text,onChange:n,placeholder:"data.Name + ' ' + data.Email"}),U.a.createElement(Ba.Form.Input,{name:"filters",label:U.a.createElement("label",null,this.getLocalValue("filtersfield","Filters","dictionaryform"),o),value:t.filters,onChange:n,placeholder:r}),U.a.createElement(Ba.Form.Input,{name:"pageSize",label:this.getLocalValue("pagesizefield","Page Size","dictionaryform"),disabled:!t.paging,value:t.pageSize,placeholder:"100",onChange:n})),U.a.createElement("div",{className:"field"},U.a.createElement("label",null,this.getLocalValue("optionsfield","Options","dictionaryform")),U.a.createElement(Ba.Form.Group,null,U.a.createElement(Ba.Form.Checkbox,{name:"paging",label:this.getLocalValue("pagingfield","Server pagination","dictionaryform"),checked:t.paging,onChange:n}),U.a.createElement(Ba.Form.Checkbox,{name:"search",label:this.getLocalValue("searchfield","Search","dictionaryform"),checked:t.search,onChange:n}),U.a.createElement(Ba.Form.Checkbox,{name:"multiple",label:this.getLocalValue("multiplefield","Multiple","dictionaryform"),checked:t.multiple,onChange:n})),U.a.createElement(Ba.Form.Group,null,U.a.createElement(Ba.Form.Checkbox,{name:"readOnly",label:this.getLocalValue("readonlyfield","Read only","dictionaryform"),checked:t.readOnly,onChange:n}),U.a.createElement(Ba.Form.Checkbox,{name:"disabled",label:this.getLocalValue("disabledfield","Disabled","dictionaryform"),checked:t.disabled,onChange:n}),U.a.createElement(Ba.Form.Checkbox,{name:"clearable",label:this.getLocalValue("clearablefield","Clearable","dictionaryform"),checked:t.clearable,onChange:n})),U.a.createElement(Ba.Form.Group,null,U.a.createElement(Ba.Form.Checkbox,{name:"selection",label:this.getLocalValue("selectionfield","Selection","dictionaryform"),checked:t.selection,onChange:n}),U.a.createElement(Ba.Form.Checkbox,{name:"fluid",label:this.getLocalValue("fluidfield","Fluid","dictionaryform"),checked:t.fluid,onChange:n}),U.a.createElement(Ba.Form.Checkbox,{name:"textAsValue",label:U.a.createElement(Ba.Popup,{content:this.getLocalValue("textasvalueinfofield","The Text will be binded to a property directly","dictionaryform"),trigger:U.a.createElement("label",null,this.getLocalValue("textasvaluefield","Text as Value","dictionaryform"))}),checked:t.textAsValue,onChange:n})))))}},{key:"getEventsList",value:function(){return["onChange","onDataReceived"]}}]),t}();function Ec(e){return(Ec="function"==typeof Symbol&&"symbol"==sd(Symbol.iterator)?function(e){return sd(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":sd(e)})(e)}function kc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Cc(e,t){return(Cc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _c(e){return(_c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Oc=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Cc(e,t)}(o,pi);var n,r,t=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=_c(n),t=r?(t=_c(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Ec(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function o(e){return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),(e=t.call(this,e)).state.defaultValuePreferInt=!0,e}return kc(o.prototype,[{key:"getGeneralDescription",value:function(){var e=this.props.data,r=this.props.parent.handleChange.bind(this.props.parent),t=[{key:"value",name:this.getLocalValue("datavaluecolumn","Value","dropdownform")},{key:"text",name:this.getLocalValue("datatextcolumn","Text","dropdownform")}];return U.a.createElement(Ba.Form,null,U.a.createElement(Ba.Form.Group,{widths:"equal"},U.a.createElement(Ba.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","dropdownform"),value:e.key,onChange:r}),U.a.createElement(Ba.Form.Input,{name:"label",label:this.getLocalValue("labelfield","Label","dropdownform"),value:e.label,onChange:r})),U.a.createElement(Ba.Form.Group,{widths:"equal"},U.a.createElement(Te,{key:"data-elements",draggable:!0,columns:t,label:this.getLocalValue("datafield","Data","dropdownform"),name:"data-elements",value:e["data-elements"],onChange:function(e,t){var n=t.name,t=t.value;Array.isArray(t)&&t.forEach(function(e){me(e.value)&&me(e.value.match)&&e.value.match(/^-?\d+$/)&&(e.value=parseInt(e.value))}),r(e,{name:n,value:t})}}),U.a.createElement("div",{className:"field"},U.a.createElement(Ba.Form.Input,{name:"placeholder",label:"Placeholder",value:e.placeholder,onChange:r}),U.a.createElement("div",{className:"field"},U.a.createElement("label",null,this.getLocalValue("optionsfield","Options","dropdownform")),U.a.createElement(Ba.Form.Group,null,U.a.createElement(Ba.Form.Checkbox,{name:"multiple",label:this.getLocalValue("multiplefield","Multiple","dropdownform"),checked:e.multiple,onChange:r}),U.a.createElement(Ba.Form.Checkbox,{name:"search",label:this.getLocalValue("searchfield","Search","dropdownform"),checked:e.search,onChange:r}),U.a.createElement(Ba.Form.Checkbox,{name:"allowAddItems",label:this.getLocalValue("allowAddItemsfield","Allow add items","dropdownform"),disabled:!(e.search&&e.multiple),checked:e.allowAddItems,onChange:r})),U.a.createElement(Ba.Form.Group,null,U.a.createElement(Ba.Form.Checkbox,{name:"clearable",label:this.getLocalValue("clearablefield","Clearable"),checked:e.clearable,onChange:r}),U.a.createElement(Ba.Form.Checkbox,{name:"disabled",label:this.getLocalValue("disabledfield","Disabled","dropdownform"),checked:e.disabled,onChange:r}),U.a.createElement(Ba.Form.Checkbox,{name:"fluid",label:this.getLocalValue("fluidfield","Fluid","dropdownform"),checked:e.fluid,onChange:r})),U.a.createElement(Ba.Form.Group,null,U.a.createElement(Ba.Form.Checkbox,{name:"selection",label:this.getLocalValue("selectionfield","Selection","dropdownform"),checked:e.selection,onChange:r}),U.a.createElement(Ba.Form.Checkbox,{name:"readOnly",label:this.getLocalValue("readonlyfield","Read only","dropdownform"),checked:e.readOnly,onChange:r}))))))}},{key:"getEventsList",value:function(){return["onClick","onChange"]}}]),o}();function Sc(e){return(Sc="function"==typeof Symbol&&"symbol"==sd(Symbol.iterator)?function(e){return sd(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":sd(e)})(e)}function Ac(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Dc(e,t){return(Dc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function xc(e){return(xc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Pc=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Dc(e,t)}(t,pi);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=xc(n),t=r?(t=xc(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Sc(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return Ac(t.prototype,[{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent),n=[{key:"target",name:this.getLocalValue("itemstargetcolumn","Target","dropdowntriggerform")},{key:"title",name:this.getLocalValue("itemstitlecolumn","Title","dropdowntriggerform")},{key:"visibleCondition",name:this.getLocalValue("itemsvisibleconditioncolumn","Visible Condition","dropdowntriggerform")}];return U.a.createElement(Ba.Form,null,U.a.createElement(Ba.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","dropdowntriggerform"),value:e.key,onChange:t}),U.a.createElement(Ba.Form.Input,{name:"defaultValue",label:this.getLocalValue("defaultvaluefield","Default Value","dropdowntriggerform"),value:fe(e.defaultValue)?"":e.defaultValue,onChange:t}),U.a.createElement(Ba.Form.Input,{name:"imageUrl",label:this.getLocalValue("imageurlfield","ImageUrl","dropdowntriggerform"),value:fe(e.imageUrl)?"":e.imageUrl,onChange:t}),U.a.createElement(Te,{key:"items",draggable:!0,columns:n,label:this.getLocalValue("itemsfield","Items","dropdowntriggerform"),name:"items",value:e.items,onChange:t}))}},{key:"getEventsList",value:function(){return["onItemClick"]}}]),t}();function Lc(e){return(Lc="function"==typeof Symbol&&"symbol"==sd(Symbol.iterator)?function(e){return sd(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":sd(e)})(e)}function Rc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jc(e,t){return(jc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Tc(e){return(Tc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Fc=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jc(e,t)}(t,pi);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Tc(n),t=r?(t=Tc(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Lc(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return Rc(t.prototype,[{key:"getGeneralDescription",value:function(){var e=this.props.parent.handleChange.bind(this.props.parent),t=this.props.data;return U.a.createElement(Ba.Form,null,U.a.createElement(Ba.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","uploadform"),value:t.key,onChange:e}),U.a.createElement(Ba.Form.Input,{name:"iconFiletypes",label:this.getLocalValue("iconFiletypes","Icon file types","uploadform"),placeholder:"*.png, *.jpg, *.gif",value:fe(t.iconFiletypes)?"":t.iconFiletypes,onChange:e}),U.a.createElement(Ba.Form.Group,null,U.a.createElement(Ba.Form.Checkbox,{name:"showFiletypeIcon",label:this.getLocalValue("showFiletypeIcon","Show file type icon","uploadform"),checked:t.showFiletypeIcon,onChange:e}),U.a.createElement(Ba.Form.Checkbox,{name:"autoProcessQueue",label:this.getLocalValue("autoProcessQueue","Auto process queue","uploadform"),checked:t.autoProcessQueue,onChange:e}),U.a.createElement(Ba.Form.Checkbox,{name:"addRemoveLinks",label:this.getLocalValue("addRemoveLinks","Add remove links","uploadform"),checked:t.addRemoveLinks,onChange:e})))}},{key:"getEventsList",value:function(){return["success","fail"]}}]),t}();function Nc(e){return(Nc="function"==typeof Symbol&&"symbol"==sd(Symbol.iterator)?function(e){return sd(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":sd(e)})(e)}function Ic(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Mc(e,t){return(Mc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Bc(e){return(Bc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Wc=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Mc(e,t)}(t,pi);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Bc(n),t=r?(t=Bc(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Nc(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return Ic(t.prototype,[{key:"getGeneralDescription",value:function(){var e=this.props.parent.handleChange.bind(this.props.parent),t=this.props.data,n=[{key:"property",name:this.getLocalValue("propertycolumn","File property","filecontrolform"),control:"span"},{key:"title",name:this.getLocalValue("titlecolumn","Column title","filecontrolform")},{key:"field",name:this.getLocalValue("fieldcolumn","Table field","filecontrolform")},{key:"showcolumn",name:this.getLocalValue("showpropertycolumn","Show property","filecontrolform"),control:"checkbox"}];return U.a.createElement(Ba.Form,null,U.a.createElement(Ba.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","filecontrolform"),value:t.key,onChange:e}),U.a.createElement(Ba.Form.Input,{name:"iconFiletypes",label:this.getLocalValue("iconFiletypes","Icon file types","filecontrolform"),placeholder:"*.png, *.jpg, *.gif",value:void 0===t.iconFiletypes?"":t.iconFiletypes,onChange:e}),U.a.createElement(Ba.Form.Group,null,U.a.createElement(Ba.Form.Checkbox,{name:"showFiletypeIcon",label:this.getLocalValue("showFiletypeIcon","Show file type icon","filecontrolform"),checked:t.showFiletypeIcon,onChange:e}),U.a.createElement(Ba.Form.Checkbox,{name:"autoProcessQueue",label:this.getLocalValue("autoProcessQueue","Auto process queue","filecontrolform"),checked:t.autoProcessQueue,onChange:e}),U.a.createElement(Ba.Form.Checkbox,{name:"readOnly",label:this.getLocalValue("readonlyfield","Read only","filecontrolform"),checked:t.readOnly,onChange:e}),U.a.createElement(Ba.Form.Checkbox,{name:"useDropzone",label:this.getLocalValue("usedropzonefield","Use dropzone","filecontrolform"),checked:t.useDropzone,onChange:e}),U.a.createElement(Ba.Form.Checkbox,{name:"useCamera",label:this.getLocalValue("usecamerafield","Show images preview","filecontrolform"),checked:t.useCamera,onChange:e}),U.a.createElement(Ba.Form.Checkbox,{name:"multiple",label:this.getLocalValue("multiplefield","Allow multiple choice","filecontrolform"),checked:t.multiple,onChange:e})),U.a.createElement(Ba.Form.Group,null,U.a.createElement(Ba.Form.Input,{name:"idField",label:this.getLocalValue("idfield","Id field","filecontrolform"),value:t.idField,onChange:e})),U.a.createElement(Te,{key:"columns",draggable:!0,disableAdd:!0,disableCopy:!0,disableDelete:!0,columns:n,label:this.getLocalValue("propertiesfield","File properties","filecontrolform"),name:"columns",value:t.columns,onChange:e}))}},{key:"getEventsList",value:function(){return["onChange","onDelete","onUploadSuccess","onUploadFail"]}}]),t}();function Uc(e){return(Uc="function"==typeof Symbol&&"symbol"==sd(Symbol.iterator)?function(e){return sd(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":sd(e)})(e)}function Kc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zc(e,t){return(zc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function qc(e){return(qc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Gc=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zc(e,t)}(t,pi);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=qc(n),t=r?(t=qc(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Uc(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return Kc(t.prototype,[{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent),n=[{text:this.getLocalValue("sizedefault","Default"),value:""},{text:this.getLocalValue("sizemini","Mini"),value:"mini"},{text:this.getLocalValue("sizetiny","Tiny"),value:"tiny"},{text:this.getLocalValue("sizesmall","Small"),value:"small"},{text:this.getLocalValue("sizemedium","Medium"),value:"medium"},{text:this.getLocalValue("sizelarge","Large"),value:"large"},{text:this.getLocalValue("sizehuge","Huge"),value:"huge"}];return U.a.createElement(Ba.Form,null,U.a.createElement(Ba.Form.Group,{widths:"equal"},U.a.createElement(Ba.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","form"),value:e.key,onChange:t}),U.a.createElement(Ba.Form.Dropdown,{name:"size",selection:!0,fluid:!0,options:n,placeholder:n[0].text,label:this.getLocalValue("sizefield","Size","form"),value:e.size,onChange:t})))}},{key:"getEventsList",value:function(){return["onSubmit"]}}]),t}();function Hc(e){return(Hc="function"==typeof Symbol&&"symbol"==sd(Symbol.iterator)?function(e){return sd(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":sd(e)})(e)}function Qc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Jc(e,t){return(Jc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Yc(e){return(Yc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var $c=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Jc(e,t)}(t,pi);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Yc(n),t=r?(t=Yc(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Hc(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return Qc(t.prototype,[{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent);return U.a.createElement(Ba.Form,null,U.a.createElement(Ba.Form.Group,{widths:"equal"},U.a.createElement(Ba.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","formgroupform"),value:e.key,onChange:t}),U.a.createElement("div",{className:"field"},U.a.createElement("label",null,this.getLocalValue("widthsfield","Widths","formgroupform")),U.a.createElement(Ba.Form.Group,null,U.a.createElement(Ba.Form.Radio,{name:"widths",label:this.getLocalValue("widthsequalfield","Equal","formgroupform"),value:"equal",checked:"equal"===e.widths,onChange:t}),U.a.createElement(Ba.Form.Radio,{name:"widths",label:this.getLocalValue("widthscustomfield","Custom (1 - 16)","formgroupform"),value:"custom",checked:"custom"===e.widths,onChange:t})))),U.a.createElement(Ba.Form.Group,{widths:"2"},U.a.createElement("div",{className:"field"},U.a.createElement("label",null,this.getLocalValue("typefield","Type","formgroupform")),U.a.createElement(Ba.Form.Group,{inline:!0},U.a.createElement(Ba.Form.Radio,{name:"orientation",label:this.getLocalValue("orientationcolumnsfield","Columns","formgroupform"),value:"inline",checked:void 0===e.orientation||"inline"===e.orientation,onChange:t}),U.a.createElement(Ba.Form.Radio,{name:"orientation",label:this.getLocalValue("orientationrowsfield","Rows","formgroupform"),value:"grouped",checked:"grouped"===e.orientation,onChange:t}),U.a.createElement(Ba.Form.Radio,{name:"orientation",label:this.getLocalValue("orientationfieldfield","Field","formgroupform"),value:"field",checked:"field"===e.orientation,onChange:t}))),U.a.createElement(Ba.Form.Input,{name:"widthsCustom",disabled:"custom"!==e.widths,placeholder:"2",value:e.widthsCustom,onChange:t})))}}]),t}();function Xc(e){return(Xc="function"==typeof Symbol&&"symbol"==sd(Symbol.iterator)?function(e){return sd(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":sd(e)})(e)}function Zc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function eu(e,t){return(eu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function tu(e){return(tu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function nu(e){return(nu="function"==typeof Symbol&&"symbol"==sd(Symbol.iterator)?function(e){return sd(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":sd(e)})(e)}function ru(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ou(e,t){return(ou=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function au(e){return(au=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function iu(e){return(iu="function"==typeof Symbol&&"symbol"==sd(Symbol.iterator)?function(e){return sd(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":sd(e)})(e)}function lu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function su(e,t){return(su=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function cu(e){return(cu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function uu(e){return(uu="function"==typeof Symbol&&"symbol"==sd(Symbol.iterator)?function(e){return sd(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":sd(e)})(e)}function pu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function du(e,t){return(du=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fu(e){return(fu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function mu(e){return(mu="function"==typeof Symbol&&"symbol"==sd(Symbol.iterator)?function(e){return sd(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":sd(e)})(e)}function hu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yu(e,t){return(yu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function bu(e){return(bu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function gu(e){return(gu="function"==typeof Symbol&&"symbol"==sd(Symbol.iterator)?function(e){return sd(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":sd(e)})(e)}function vu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vu(e,t){return(Vu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function wu(e){return(wu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Eu(e){return(Eu="function"==typeof Symbol&&"symbol"==sd(Symbol.iterator)?function(e){return sd(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":sd(e)})(e)}function ku(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Cu(e,t){return(Cu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _u(e){return(_u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ou(e){return(Ou="function"==typeof Symbol&&"symbol"==sd(Symbol.iterator)?function(e){return sd(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":sd(e)})(e)}function Su(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Au(e,t){return(Au=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Du(e){return(Du=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xu(e){return(xu="function"==typeof Symbol&&"symbol"==sd(Symbol.iterator)?function(e){return sd(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":sd(e)})(e)}function Pu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Lu(e,t){return(Lu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ru(e){return(Ru=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ju(e){return(ju="function"==typeof Symbol&&"symbol"==sd(Symbol.iterator)?function(e){return sd(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":sd(e)})(e)}function Tu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fu(e,t){return(Fu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Nu(e){return(Nu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Iu(e){return(Iu="function"==typeof Symbol&&"symbol"==sd(Symbol.iterator)?function(e){return sd(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":sd(e)})(e)}function Mu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Bu(e,t){return(Bu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Wu(e){return(Wu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Uu(e){return(Uu="function"==typeof Symbol&&"symbol"==sd(Symbol.iterator)?function(e){return sd(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":sd(e)})(e)}function Ku(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zu(e,t){return(zu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function qu(e){return(qu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Gu(e){return(Gu="function"==typeof Symbol&&"symbol"==sd(Symbol.iterator)?function(e){return sd(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":sd(e)})(e)}function Hu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qu(e,t){return(Qu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ju(e){return(Ju=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Yu(e){return(Yu="function"==typeof Symbol&&"symbol"==sd(Symbol.iterator)?function(e){return sd(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":sd(e)})(e)}function $u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xu(e,t){return(Xu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Zu(e){return(Zu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ep(e){return(ep="function"==typeof Symbol&&"symbol"==sd(Symbol.iterator)?function(e){return sd(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":sd(e)})(e)}function tp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function np(e,t){return(np=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function rp(e){return(rp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function op(e){return(op="function"==typeof Symbol&&"symbol"==sd(Symbol.iterator)?function(e){return sd(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":sd(e)})(e)}function ap(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ip(e,t){return(ip=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function lp(e){return(lp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function sp(e){return(sp="function"==typeof Symbol&&"symbol"==sd(Symbol.iterator)?function(e){return sd(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":sd(e)})(e)}function cp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function up(e,t){return(up=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function pp(e){return(pp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function dp(e){return(dp="function"==typeof Symbol&&"symbol"==sd(Symbol.iterator)?function(e){return sd(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":sd(e)})(e)}function fp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mp(e,t){return(mp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function hp(e){return(hp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function yp(e){return(yp="function"==typeof Symbol&&"symbol"==sd(Symbol.iterator)?function(e){return sd(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":sd(e)})(e)}function bp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gp(e,t){return(gp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function vp(e){return(vp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Vp(e){return(Vp="function"==typeof Symbol&&"symbol"==sd(Symbol.iterator)?function(e){return sd(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":sd(e)})(e)}function wp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ep(e,t){return(Ep=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function kp(e){return(kp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Cp(e){return(Cp="function"==typeof Symbol&&"symbol"==sd(Symbol.iterator)?function(e){return sd(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":sd(e)})(e)}function _p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Op(e,t){return(Op=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Sp(e){return(Sp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ap(e){return(Ap="function"==typeof Symbol&&"symbol"==sd(Symbol.iterator)?function(e){return sd(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":sd(e)})(e)}function Dp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xp(e,t){return(xp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Pp(e){return(Pp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Lp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&eu(e,t)}(t,pi);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=tu(n),t=r?(t=tu(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Xc(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return Zc(t.prototype,[{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent),n=[{value:"",text:this.getLocalValue("pagertypenonefield","None","gridform")},{value:"server",text:this.getLocalValue("pagertypeserverfield","Server","gridform")}],r=[{value:"",text:this.getLocalValue("editformtypedefaultfield","Default","gridform")},{value:"modal",text:this.getLocalValue("editformtypemodalfield","Modal","gridform")},{value:"sidebar",text:this.getLocalValue("editformtypesidebarfield","Sidebar","gridform")}],o=[{value:"right",text:this.getLocalValue("editformsidebarderectionrightfield","Right","gridform")},{value:"left",text:this.getLocalValue("editformsidebarderectionleftfield","Left","gridform")}],a=[{key:"key",name:this.getLocalValue("keycolumn","Key","gridform")},{key:"name",name:this.getLocalValue("namecolumn","Name","gridform")},{key:"type",name:this.getLocalValue("typecolumn","Type","gridform"),dataList:["","number","checkbox","date","datetime","time","custom"]},{key:"width",name:this.getLocalValue("widthcolumn","Width","gridform"),control:"number"},{key:"resizable",name:this.getLocalValue("resizablecolumn","Resizable","gridform"),control:"checkbox"}];return U.a.createElement(Ba.Form,null,U.a.createElement(Ba.Form.Group,{widths:"equal"},U.a.createElement(Ba.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","gridform"),value:e.key,onChange:t}),U.a.createElement("div",{className:"field"},U.a.createElement("label",null,this.getLocalValue("optionsfield","Options","gridform")),U.a.createElement(Ba.Form.Group,null,U.a.createElement(Ba.Form.Checkbox,{name:"multiselect",label:this.getLocalValue("multiselectfield","Multiselect","gridform"),checked:e.multiselect,onChange:t}),U.a.createElement(Ba.Form.Checkbox,{name:"disableSort",label:this.getLocalValue("disablesortfield","Disable sorting","gridform"),checked:e.disableSort,onChange:t})))),U.a.createElement(Ba.Form.Group,{widths:"equal"},U.a.createElement("div",{className:"field"},U.a.createElement(Ba.Form.Group,{widths:"equal"},U.a.createElement(Pn,{name:"editType",label:this.getLocalValue("edittypefield","Edit type","gridform"),items:[{key:"form",text:"Form",value:void 0},{key:"flow",text:"Flow",value:"flow"},{key:"workflow",text:"Workflow",value:"workflow"}],value:e.editType,onChange:t}),!e.editType&&U.a.createElement(Ba.Form.Input,{name:"editForm",label:this.getLocalValue("editformfield","Edit form","gridform"),disabled:1==e.inline,value:e.editForm,onChange:t}),"flow"===e.editType&&U.a.createElement(Ba.Form.Input,{name:"editFlow",label:this.getLocalValue("editflowfield","Edit flow","gridform"),disabled:1==e.inline,value:e.editFlow,onChange:t}),"workflow"===e.editType&&U.a.createElement(Ba.Form.Input,{name:"editWorkflow",label:this.getLocalValue("editworkflowfield","Edit workflow","gridform"),disabled:1==e.inline,value:e.editWorkflow,onChange:t})),U.a.createElement(Ba.Form.Input,{name:"rowKey",label:this.getLocalValue("rowkeyfield","Row key","gridform"),value:e.rowKey,onChange:t}),U.a.createElement(Ba.Form.Input,{name:"pageSize",label:this.getLocalValue("pagesizefield","Page size","gridform"),value:e.pageSize,onChange:t}),U.a.createElement(Ba.Form.Input,{name:"defaultSort",label:this.getLocalValue("defaultsortfield","Default sort","gridform"),placeholder:"Name ASC",value:e.defaultSort,onChange:t})),U.a.createElement("div",{className:"field"},U.a.createElement(Ba.Form.Dropdown,{name:"editFormShowType",selection:!0,fluid:!0,label:this.getLocalValue("editformshowtypefield","Edit form show type","gridform"),placeholder:r[0].text,options:r,value:e.editFormShowType,onChange:t}),U.a.createElement(Ba.Form.Dropdown,{name:"sidebarDirection",selection:!0,fluid:!0,label:this.getLocalValue("editformsidebardirectionfield","Sidebar direction","gridform"),placeholder:o[0].text,options:o,value:e.sidebarDirection,onChange:t,disabled:"sidebar"!==e.editFormShowType}),U.a.createElement(Ba.Form.Dropdown,{name:"pagerType",selection:!0,fluid:!0,label:this.getLocalValue("pagertypefield","Pagination type","gridform"),placeholder:"None",options:n,value:e.pagerType,onChange:t}),U.a.createElement(Ba.Form.Input,{name:"rowHeight",label:this.getLocalValue("rowheightfield","Row height","gridform"),value:e.rowHeight,onChange:t}),U.a.createElement(Ba.Form.Input,{name:"minHeight",label:this.getLocalValue("minheightfield","Min height","gridform"),value:e.minHeight,onChange:t}),U.a.createElement(Ba.Form.Group,{widths:"equal"},U.a.createElement(Ba.Form.Checkbox,{name:"autoHeight",label:this.getLocalValue("autoheightfield","Auto Height","gridform"),checked:Boolean(e.autoHeight),onChange:t}),U.a.createElement(Ba.Form.Input,{name:"offSet",label:this.getLocalValue("offsetfield","OffSet","gridform"),disabled:!Boolean(e.autoHeight),value:e.offSet,onChange:t})))),U.a.createElement("div",{className:"field"},U.a.createElement(Te,{key:"columns",draggable:!0,columns:a,label:this.getLocalValue("columnsfield","Columns","gridform"),name:"columns",value:e.columns,onChange:t})))}},{key:"getEventsList",value:function(){return["onRowClick","onRowDblClick","onSelectionChanged","onModalClosed"]}}]),t}(),Ee=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ou(e,t)}(t,pi);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=au(n),t=r?(t=au(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==nu(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return ru(t.prototype,[{key:"getGeneralDescription",value:function(){var e=this.props.data,r=this.props.parent.handleChange.bind(this.props.parent),t=[{key:"title",name:this.getLocalValue("itemstitlecolumn","Title","gridlayout")},{key:"cssclass",name:this.getLocalValue("cssclass","CSS Class","gridlayout")},{key:"visibleCondition",name:this.getLocalValue("visibleConditioncolumn","Visible Condition","gridlayout")}];return U.a.createElement(Ba.Form,null,U.a.createElement(Ba.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","gridlayout"),value:e.key,onChange:r}),U.a.createElement(Ba.Form.Group,null,U.a.createElement(Ba.Form.Input,{name:"cols",label:this.getLocalValue("colsfield","Columns","gridlayout"),placeholder:12,value:e.cols,onChange:r})),U.a.createElement("div",{className:"field"},U.a.createElement("label",null,this.getLocalValue("optionsfield","Options","gridlayout")),U.a.createElement(Ba.Form.Group,null,U.a.createElement(Ba.Form.Checkbox,{name:"draggable",label:this.getLocalValue("draggablefield","Draggable","gridlayout"),checked:e.draggable,onChange:r}),U.a.createElement(Ba.Form.Checkbox,{name:"resizable",label:this.getLocalValue("resizablefield","Resizable","gridlayout"),checked:e.resizable,onChange:r}),U.a.createElement(Ba.Form.Checkbox,{name:"scroll",label:this.getLocalValue("scrollfield","Scroll","gridlayout"),checked:e.scroll,onChange:r}))),U.a.createElement(Te,{key:"panes",draggable:!0,columns:t,label:this.getLocalValue("panesfield","Panes","tabform"),name:"panes",value:e.panes,onChange:function(e,t){var n=t.name,t=t.value;Array.isArray(t)&&t.forEach(function(e){fe(e.psid)&&(e.psid="id"+(new Date).getTime())}),r(e,{name:n,value:t})}}))}},{key:"getEventsList",value:function(){return["onLayoutChange"]}}]),t}(),Ce=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&su(e,t)}(t,pi);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=cu(n),t=r?(t=cu(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==iu(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return lu(t.prototype,[{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent),n=[{text:this.getLocalValue("sizedefault","Default"),value:""},{text:this.getLocalValue("sizemini","Mini"),value:"mini"},{text:this.getLocalValue("sizetiny","Tiny"),value:"tiny"},{text:this.getLocalValue("sizesmall","Small"),value:"small"},{text:this.getLocalValue("sizemedium","Medium"),value:"medium"},{text:this.getLocalValue("sizelarge","Large"),value:"large"},{text:this.getLocalValue("sizehuge","Huge"),value:"huge"}];return U.a.createElement(Ba.Form,null,U.a.createElement(Ba.Form.Group,{widths:"equal"},U.a.createElement(Ba.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","headerform"),value:e.key,onChange:t}),U.a.createElement(Ba.Form.Dropdown,{name:"size",selection:!0,fluid:!0,options:n,placeholder:"Default",label:this.getLocalValue("sizefield","Size","header"),value:e.size,onChange:t})),U.a.createElement(Ba.Form.Group,{widths:"equal"},U.a.createElement(Ba.Form.TextArea,{name:"content",label:this.getLocalValue("contentfield","Content","headerform"),value:e.content,onChange:t}),U.a.createElement("div",{className:"field"},U.a.createElement("label",null,this.getLocalValue("textalignfield","Text Align","headerform")),U.a.createElement(Ba.Form.Group,{widths:"equal"},U.a.createElement(Ba.Form.Radio,{name:"textAlign",label:this.getLocalValue("textalignleft","Left","headerform"),value:"left",checked:"left"===e.textAlign,onChange:t}),U.a.createElement(Ba.Form.Radio,{name:"textAlign",label:this.getLocalValue("textaligncenter","Center","headerform"),value:"center",checked:"center"===e.textAlign,onChange:t}),U.a.createElement(Ba.Form.Radio,{name:"textAlign",label:this.getLocalValue("textalignright","Right","headerform"),value:"right",checked:"right"===e.textAlign,onChange:t})))),U.a.createElement(Ba.Form.Input,{name:"subheader",label:this.getLocalValue("subheaderfield","Subheader","headerform"),value:e.subheader,onChange:t}))}}]),t}(),We=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&du(e,t)}(t,pi);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=fu(n),t=r?(t=fu(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==uu(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return pu(t.prototype,[{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent);return U.a.createElement(Ba.Form,null,U.a.createElement(Ba.Form.Group,{widths:"equal"},U.a.createElement("div",{className:"field"},U.a.createElement(Ba.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","imageform"),value:e.key,onChange:t}),U.a.createElement(Ba.Form.Input,{name:"src",label:this.getLocalValue("srcfield","Src","imageform"),value:e.src,onChange:t}),U.a.createElement(Ba.Form.Input,{name:"href",label:this.getLocalValue("hreffield","Href","imageform"),value:e.href,onChange:t})),U.a.createElement("div",{className:"field"},U.a.createElement("div",{className:"field"},U.a.createElement("label",null,this.getLocalValue("optionsfield","Options","imageform")),U.a.createElement(Ba.Form.Group,null,U.a.createElement(Ba.Form.Checkbox,{name:"avatar",label:this.getLocalValue("avatarfield","Avatar","imageform"),checked:e.avatar,onChange:t}),U.a.createElement(Ba.Form.Checkbox,{name:"bordered",label:this.getLocalValue("borderedfield","Bordered","imageform"),checked:e.bordered,onChange:t}),U.a.createElement(Ba.Form.Checkbox,{name:"centered",label:this.getLocalValue("centeredfield","Centered","imageform"),checked:e.centered,onChange:t})),U.a.createElement(Ba.Form.Group,null,U.a.createElement(Ba.Form.Checkbox,{name:"disabled",label:this.getLocalValue("disabledfield","Disabled","imageform"),checked:e.disabled,onChange:t}),U.a.createElement(Ba.Form.Checkbox,{name:"inline",label:this.getLocalValue("inlinefield","Inline","imageform"),checked:e.inline,onChange:t}),U.a.createElement(Ba.Form.Checkbox,{name:"spaced",label:this.getLocalValue("spacedfield","Spaced","imageform"),checked:e.spaced,onChange:t}))),U.a.createElement("div",{className:"field"},U.a.createElement("label",null,this.getLocalValue("floatedfield","Floated","imageform")),U.a.createElement(Ba.Form.Group,null,U.a.createElement(Ba.Form.Radio,{name:"floated",label:this.getLocalValue("floatedleftfield","Left","imageform"),value:"left",checked:"left"===e.floated||""===e.floated,onChange:t}),U.a.createElement(Ba.Form.Radio,{name:"floated",label:this.getLocalValue("floatedrightfield","Right","imageform"),value:"right",checked:"right"===e.floated,onChange:t})),U.a.createElement("label",null,this.getLocalValue("verticalalignfield","Vertical align","imageform")),U.a.createElement(Ba.Form.Group,null,U.a.createElement(Ba.Form.Radio,{name:"verticalAlign",label:this.getLocalValue("verticalaligntopfield","Top","imageform"),value:"top",checked:"top"===e.verticalAlign,onChange:t}),U.a.createElement(Ba.Form.Radio,{name:"verticalAlign",label:this.getLocalValue("verticalalignmiddlefield","Middle","imageform"),value:"middle",checked:"middle"===e.verticalAlign,onChange:t}),U.a.createElement(Ba.Form.Radio,{name:"verticalAlign",label:this.getLocalValue("verticalalignbottomfield","Bottom","imageform"),value:"bottom",checked:"bottom"===e.verticalAlign,onChange:t}))))))}}]),t}(),Xn=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yu(e,t)}(t,pi);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=bu(n),t=r?(t=bu(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==mu(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return hu(t.prototype,[{key:"getGeneralDescription",value:function(){var e=this.props.parent.handleChange.bind(this.props.parent),t=this.props.data,n=[{text:this.getLocalValue("sizedefault","Default"),value:""},{text:this.getLocalValue("sizemini","Mini"),value:"mini"},{text:this.getLocalValue("sizetiny","Tiny"),value:"tiny"},{text:this.getLocalValue("sizesmall","Small"),value:"small"},{text:this.getLocalValue("sizemedium","Medium"),value:"medium"},{text:this.getLocalValue("sizelarge","Large"),value:"large"},{text:this.getLocalValue("sizehuge","Huge"),value:"huge"},{text:this.getLocalValue("sizemassive","Massive"),value:"massive"}],r=[{text:this.getLocalValue("labeldefault","Default"),value:""},{text:this.getLocalValue("labelleft","Left"),value:"left"},{text:this.getLocalValue("labelright","Right"),value:"right"},{text:this.getLocalValue("labelleftcorner","Left corner"),value:"left corner"},{text:this.getLocalValue("labelrightcorner","Right corner"),value:"right corner"}];return U.a.createElement(Ba.Form,null,U.a.createElement(Ba.Form.Group,{widths:"equal"},U.a.createElement(Ba.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","inputform"),value:t.key,onChange:e}),U.a.createElement(Ba.Form.Input,{name:"label",label:this.getLocalValue("labelfield","Label","inputform"),value:t.label,onChange:e})),U.a.createElement(Ba.Form.Group,{widths:"equal"},U.a.createElement("div",{className:"field"},U.a.createElement("label",null,this.getLocalValue("typefield","Type","inputform")),U.a.createElement(Ba.Form.Group,{widths:"equal"},U.a.createElement(Ba.Form.Radio,{name:"type",label:this.getLocalValue("typetext","Text","inputform"),value:"text",checked:fe(t.type)||"text"===t.type,onChange:e}),U.a.createElement(Ba.Form.Radio,{name:"type",label:this.getLocalValue("typenumber","Number","inputform"),value:"number",checked:"number"===t.type,onChange:e}),U.a.createElement(Ba.Form.Radio,{name:"type",label:this.getLocalValue("typepasswod","Password","inputform"),value:"password",checked:"password"===t.type,onChange:e}),U.a.createElement(Ba.Form.Radio,{name:"type",label:this.getLocalValue("typefile","File","inputform"),value:"file",checked:"file"===t.type,onChange:e})),U.a.createElement(Ba.Form.Group,{widths:"equal"},U.a.createElement(Ba.Form.Radio,{name:"type",label:this.getLocalValue("typedate","Date","inputform"),value:"date",checked:"date"===t.type,onChange:e}),U.a.createElement(Ba.Form.Radio,{name:"type",label:this.getLocalValue("typetime","Time","inputform"),value:"time",checked:"time"===t.type,onChange:e}),U.a.createElement(Ba.Form.Radio,{name:"type",label:this.getLocalValue("typedatetime","Date & Time","inputform"),value:"datetime",checked:"datetime"===t.type,onChange:e}))),U.a.createElement("div",{className:"field"},U.a.createElement(Ba.Form.Dropdown,{name:"labelPosition",selection:!0,fluid:!0,placeholder:r[0].text,options:r,label:this.getLocalValue("labelpositionfield","Label position","inputform"),value:t.labelPosition,onChange:e}),U.a.createElement(Ba.Form.Input,{name:"placeholder",label:this.getLocalValue("placeholderfield","Placeholder","inputform"),value:t.placeholder,onChange:e}))),U.a.createElement(Ba.Form.Group,{widths:"equal"},U.a.createElement("div",{className:"field"},U.a.createElement("label",null,this.getLocalValue("optionsfield","Options","inputform")),U.a.createElement(Ba.Form.Group,{widths:"equal"},U.a.createElement(Ba.Form.Checkbox,{name:"disabled",label:this.getLocalValue("disabledfield","Disabled","inputform"),checked:t.disabled,onChange:e}),U.a.createElement(Ba.Form.Checkbox,{name:"transparent",label:this.getLocalValue("transparentfield","Transparent","inputform"),checked:t.transparent,onChange:e}),U.a.createElement(Ba.Form.Checkbox,{name:"fluid",label:this.getLocalValue("fluidfield","Fluid","inputform"),checked:t.fluid,onChange:e}),U.a.createElement(Ba.Form.Checkbox,{name:"readOnly",label:this.getLocalValue("readonlyfield","Read only","inputform"),checked:t.readOnly,onChange:e}))),U.a.createElement("div",{className:"field"},U.a.createElement(Ba.Form.Dropdown,{name:"size",selection:!0,fluid:!0,options:n,placeholder:n[0].text,label:this.getLocalValue("sizefield","Size","inputform"),value:t.size,onChange:e}))))}},{key:"getEventsList",value:function(){return["onChange"]}}]),t}(),so=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Vu(e,t)}(t,pi);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=wu(n),t=r?(t=wu(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==gu(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return vu(t.prototype,[{key:"getGeneralDescription",value:function(){var e=this.props.parent.handleChange.bind(this.props.parent),t=this.props.data,n=[{text:this.getLocalValue("sizedefault","Default"),value:""},{text:this.getLocalValue("sizemini","Mini"),value:"mini"},{text:this.getLocalValue("sizetiny","Tiny"),value:"tiny"},{text:this.getLocalValue("sizesmall","Small"),value:"small"},{text:this.getLocalValue("sizemedium","Medium"),value:"medium"},{text:this.getLocalValue("sizelarge","Large"),value:"large"},{text:this.getLocalValue("sizehuge","Huge"),value:"huge"}],r=[{text:this.getLocalValue("attachednone","None"),value:""},{text:this.getLocalValue("attachedtop","Top"),value:"top"},{text:this.getLocalValue("attachedbottom","Bottom"),value:"bottom"},{text:this.getLocalValue("attachedtopright","Top right"),value:"top right"},{text:this.getLocalValue("attachedtopleft","Top left"),value:"top left"},{text:this.getLocalValue("attachedbottomleft","Bottom left"),value:"bottom left"},{text:this.getLocalValue("attachedbottomright","Bottom right"),value:"bottom right"}];return U.a.createElement(Ba.Form,null,U.a.createElement(Ba.Form.Group,{widths:"equal"},U.a.createElement(Ba.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","labelform"),value:t.key,onChange:e}),U.a.createElement(Ba.Form.Dropdown,{name:"attached",selection:!0,fluid:!0,options:r,placeholder:r[0].text,label:this.getLocalValue("attachedfield","Attached","labelform"),value:t.attached,onChange:e})),U.a.createElement(Ba.Form.Group,{widths:"equal"},U.a.createElement("div",{className:"field"},U.a.createElement(Ba.Form.Input,{name:"content",label:this.getLocalValue("contentfield","Content","labelform"),value:t.content,onChange:e}),U.a.createElement(Ba.Form.Dropdown,{name:"size",selection:!0,fluid:!0,options:n,placeholder:"Default",label:this.getLocalValue("sizefield","Size","labelform"),value:t.size,onChange:e})),U.a.createElement("div",{className:"field"},U.a.createElement("label",null,this.getLocalValue("optionsfield","Options","labelform")),U.a.createElement(Ba.Form.Group,null,U.a.createElement(Ba.Form.Checkbox,{name:"basic",label:this.getLocalValue("basicfield","Basic","labelform"),checked:t.basic,onChange:e}),U.a.createElement(Ba.Form.Checkbox,{name:"circular",label:this.getLocalValue("circularfield","Circular","labelform"),checked:t.circular,onChange:e}),U.a.createElement(Ba.Form.Checkbox,{name:"corner",label:this.getLocalValue("cornerfield","Corner","labelform"),checked:t.corner,onChange:e})),U.a.createElement(Ba.Form.Group,null,U.a.createElement(Ba.Form.Checkbox,{name:"floating",label:this.getLocalValue("floatingfield","Floating","labelform"),checked:t.floating,onChange:e}),U.a.createElement(Ba.Form.Checkbox,{name:"pointing",label:this.getLocalValue("pointingfield","Pointing","labelform"),checked:t.pointing,onChange:e})))))}}]),t}(),uo=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Cu(e,t)}(t,pi);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=_u(n),t=r?(t=_u(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Eu(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return ku(t.prototype,[{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent),n=[{key:"target",name:this.getLocalValue("itemstargetcolumn","Target","menuform"),width:150},{key:"title",name:this.getLocalValue("itemstitlecolumn","Title","menuform")},{key:"visibleCondition",name:this.getLocalValue("visibleConditioncolumn","Visible Condition","menuform")}];return U.a.createElement(Ba.Form,null,U.a.createElement(Ba.Form.Group,{widths:"equal"},U.a.createElement(Ba.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","menuform"),value:e.key,onChange:t}),U.a.createElement(Ba.Form.Input,{name:"activeItem",label:this.getLocalValue("activeitemfield","Active Item","menuform"),value:e.activeItem,onChange:t})),U.a.createElement("div",{className:"field"},U.a.createElement("label",null,this.getLocalValue("optionsfield","Options","menuform")),U.a.createElement(Ba.Form.Group,null,U.a.createElement(Ba.Form.Checkbox,{name:"pointing",label:this.getLocalValue("pointingfield","Pointing","menuform"),checked:e.pointing,onChange:t}),U.a.createElement(Ba.Form.Checkbox,{name:"secondary",label:this.getLocalValue("secondaryfield","Secondary","menuform"),checked:e.secondary,onChange:t}),U.a.createElement(Ba.Form.Checkbox,{name:"tabular",label:this.getLocalValue("tabularfield","Tabular","menuform"),checked:e.tabular,onChange:t}),U.a.createElement(Ba.Form.Checkbox,{name:"fluid",label:this.getLocalValue("fluidfield","Fluid","menuform"),checked:e.fluid,onChange:t}),U.a.createElement(Ba.Form.Checkbox,{name:"vertical",label:this.getLocalValue("verticalfield","Vertical","menuform"),checked:e.vertical,onChange:t}),U.a.createElement(Ba.Form.Checkbox,{name:"link",label:this.getLocalValue("linkfield","Link","menuform"),checked:e.link,onChange:t}))),U.a.createElement(Te,{key:"items",draggable:!0,hierarchical:!0,childrenField:"children",columns:n,label:this.getLocalValue("itemsfield","Items","menuform"),name:"items",value:e.items,onChange:t}))}},{key:"getEventsList",value:function(){return["onItemClick"]}}]),t}(),Ga=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Au(e,t)}(t,pi);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Du(n),t=r?(t=Du(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Ou(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return Su(t.prototype,[{key:"getGeneralDescription",value:function(){var e=this.props.parent.handleChange.bind(this.props.parent),t=this.props.data,n=[{text:this.getLocalValue("sizedefault","Default"),value:""},{text:this.getLocalValue("sizemini","Mini"),value:"mini"},{text:this.getLocalValue("sizetiny","Tiny"),value:"tiny"},{text:this.getLocalValue("sizesmall","Small"),value:"small"},{text:this.getLocalValue("sizemedium","Medium"),value:"medium"},{text:this.getLocalValue("sizelarge","Large"),value:"large"},{text:this.getLocalValue("sizehuge","Huge"),value:"huge"}];return U.a.createElement(Ba.Form,null,U.a.createElement(Ba.Form.Group,{widths:"equal"},U.a.createElement("div",{className:"field"},U.a.createElement(Ba.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","messageform"),value:t.key,onChange:e}),U.a.createElement(Ba.Form.Input,{name:"header",label:this.getLocalValue("headerfield","Header","messageform"),value:t.header,onChange:e})),U.a.createElement("div",{className:"field"},U.a.createElement("label",null,this.getLocalValue("optionsfield","Options","messageform")),U.a.createElement(Ba.Form.Group,null,U.a.createElement(Ba.Form.Checkbox,{name:"compact",label:this.getLocalValue("compactfield","Compact","messageform"),checked:t.compact,onChange:e}),U.a.createElement(Ba.Form.Checkbox,{name:"error",label:this.getLocalValue("errorfield","Error","messageform"),checked:t.error,onChange:e}),U.a.createElement(Ba.Form.Checkbox,{name:"floating",label:this.getLocalValue("floatingfield","Floating","messageform"),checked:t.floating,onChange:e})),U.a.createElement(Ba.Form.Group,null,U.a.createElement(Ba.Form.Checkbox,{name:"info",label:this.getLocalValue("infofield","Info","messageform"),checked:t.info,onChange:e}),U.a.createElement(Ba.Form.Checkbox,{name:"negative",label:this.getLocalValue("negativefield","Negative","messageform"),checked:t.negative,onChange:e}),U.a.createElement(Ba.Form.Checkbox,{name:"positive",label:this.getLocalValue("positivefield","Positive","messageform"),checked:t.positive,onChange:e})),U.a.createElement(Ba.Form.Group,null,U.a.createElement(Ba.Form.Checkbox,{name:"success",label:this.getLocalValue("successfield","Success","messageform"),checked:t.success,onChange:e}),U.a.createElement(Ba.Form.Checkbox,{name:"warning",label:this.getLocalValue("warningfield","Warning","messageform"),checked:t.warning,onChange:e})))),U.a.createElement(Ba.Form.Group,{widths:"equal"},U.a.createElement(Ba.Form.TextArea,{name:"content",label:this.getLocalValue("contentfield","Content","messageform"),value:t.content,onChange:e}),U.a.createElement(Ba.Form.Dropdown,{name:"size",selection:!0,fluid:!0,options:n,placeholder:n[0].text,label:this.getLocalValue("sizefield","Size","messageform"),value:t.size,onChange:e})))}}]),t}(),Ei=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Lu(e,t)}(t,pi);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Ru(n),t=r?(t=Ru(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==xu(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return Pu(t.prototype,[{key:"getGeneralDescription",value:function(){var e=this.props.parent.handleChange.bind(this.props.parent),t=this.props.data;return U.a.createElement(Ba.Form,null,U.a.createElement(Ba.Form.Group,{widths:"equal"},U.a.createElement(Ba.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","inputform"),value:t.key,onChange:e}),U.a.createElement(Ba.Form.Input,{name:"label",label:this.getLocalValue("labelfield","Label","inputform"),value:t.label,onChange:e})),U.a.createElement(Ba.Form.Group,{widths:"equal"},U.a.createElement(Ba.Form.Input,{name:"format",label:this.getLocalValue("formatfield","Format","inputform"),value:t.format,onChange:e}),U.a.createElement(Ba.Form.Input,{name:"mask",disabled:!Boolean(t.format),label:this.getLocalValue("maskfield","Mask","inputform"),value:t.mask,onChange:e})),U.a.createElement(Ba.Form.Group,{widths:"equal"},U.a.createElement(Ba.Form.Input,{name:"prefix",disabled:Boolean(t.format),label:this.getLocalValue("prefixfield","Prefix","inputform"),value:t.prefix,onChange:e}),U.a.createElement(Ba.Form.Input,{name:"suffix",disabled:Boolean(t.format),label:this.getLocalValue("suffixfield","Suffix","inputform"),value:t.suffix,onChange:e})),U.a.createElement(Ba.Form.Group,{widths:"equal"},U.a.createElement(Ba.Form.Checkbox,{name:"thousandSeparator",label:this.getLocalValue("thousandSeparatorfield","Thousand Separator","inputform"),checked:t.thousandSeparator,onChange:e}),U.a.createElement(Ba.Form.Input,{name:"placeholder",label:this.getLocalValue("placeholderfield","Placeholder","inputform"),value:t.placeholder,onChange:e})),U.a.createElement(Ba.Form.Group,{widths:"equal"},U.a.createElement("div",{className:"field"},U.a.createElement("label",null,this.getLocalValue("optionsfield","Options","inputform")),U.a.createElement(Ba.Form.Group,{widths:"equal"},U.a.createElement(Ba.Form.Checkbox,{name:"disabled",label:this.getLocalValue("disabledfield","Disabled","inputform"),checked:t.disabled,onChange:e}),U.a.createElement(Ba.Form.Checkbox,{name:"transparent",label:this.getLocalValue("transparentfield","Transparent","inputform"),checked:t.transparent,onChange:e}),U.a.createElement(Ba.Form.Checkbox,{name:"fluid",label:this.getLocalValue("fluidfield","Fluid","inputform"),checked:t.fluid,onChange:e}),U.a.createElement(Ba.Form.Checkbox,{name:"readOnly",label:this.getLocalValue("readonlyfield","Read only","inputform"),checked:t.readOnly,onChange:e})))))}},{key:"getEventsList",value:function(){return["onChange"]}}]),t}(),Nl=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fu(e,t)}(t,pi);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Nu(n),t=r?(t=Nu(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==ju(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return Tu(t.prototype,[{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent),n=[{key:"value",name:this.getLocalValue("datavaluecolumn","Value","radiogroupform")},{key:"text",name:this.getLocalValue("datatextcolumn","Text","radiogroupform")}];return U.a.createElement(Ba.Form,null,U.a.createElement(Ba.Form.Group,{widths:"equal"},U.a.createElement(Ba.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","radiogroupform"),value:e.key,onChange:t}),U.a.createElement(Ba.Form.Input,{name:"label",label:this.getLocalValue("labelfield","Label","radiogroupform"),value:e.label,onChange:t})),U.a.createElement(Ba.Form.Group,{widths:"equal"},U.a.createElement(Te,{key:"data-elements",draggable:!0,columns:n,label:this.getLocalValue("datafield","Data","radiogroupform"),name:"data-elements",value:e["data-elements"],onChange:t}),U.a.createElement("div",{className:"field"},U.a.createElement("label",null,this.getLocalValue("groupdirectfield","Group direction","radiogroupform")),U.a.createElement(Ba.Form.Radio,{name:"direction",label:this.getLocalValue("directionhorizontalfield","Horizontal","radiogroupform"),value:"g",checked:void 0===e.direction||"g"===e.direction,onChange:t}),U.a.createElement(Ba.Form.Radio,{name:"direction",label:this.getLocalValue("directionverticalfield","Vertical","radiogroupform"),value:"v",checked:"v"===e.direction,onChange:t}),U.a.createElement(Ba.Form.Group,null,U.a.createElement(Ba.Form.Checkbox,{name:"readOnly",label:this.getLocalValue("readonlyfield","Read only","radiogroupform"),checked:e.readOnly,onChange:t})))))}},{key:"getEventsList",value:function(){return["onChange"]}}]),t}(),Ul=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Bu(e,t)}(t,pi);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Wu(n),t=r?(t=Wu(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Iu(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return Mu(t.prototype,[{key:"getGeneralDescription",value:function(){var e=this.props.parent.handleChange.bind(this.props.parent),t=this.props.data,n=[{value:"",text:this.getLocalValue("pagertypenonefield","None","repeaterform")},{value:"server",text:this.getLocalValue("pagertypeserverfield","Server","repeaterform")}];return U.a.createElement(Ba.Form,null,U.a.createElement(Ba.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","repeaterform"),value:t.key,onChange:e}),U.a.createElement(Ba.Form.Checkbox,{name:"slider",label:this.getLocalValue("sliderfield","Slider","repeaterform"),checked:t.slider,onChange:e}),U.a.createElement(Ba.Form.TextArea,{name:"item-visibleCondition",label:this.getLocalValue("itemvisibleconditionfield","Item Visible Condition","repeaterform"),placeholder:"data.Type == 1",value:t["item-visibleCondition"],onChange:e}),U.a.createElement(Ba.Form.Input,{name:"defaultSort",label:this.getLocalValue("defaultsortfield","Default sort","repeaterform"),placeholder:"Name ASC",value:t.defaultSort,onChange:e}),U.a.createElement(Ba.Form.Group,null,U.a.createElement(Ba.Form.Dropdown,{name:"pagerType",selection:!0,fluid:!0,label:this.getLocalValue("pagertypefield","Pagination type","repeaterform"),placeholder:"None",options:n,value:t.pagerType,onChange:e}),"server"==t.pagerType&&U.a.createElement(Ba.Form.Input,{name:"pageSize",placeholder:"20",label:this.getLocalValue("pagesizefield","Page size","repeaterform"),value:t.pageSize,onChange:e}),"server"==t.pagerType&&U.a.createElement(Ba.Form.Input,{name:"loadButtonLabel",label:this.getLocalValue("loadbuttonlabelfield","Load Button Label","repeaterform"),value:t.loadButtonLabel,onChange:e}),"server"==t.pagerType&&U.a.createElement(Ba.Form.Input,{name:"noRecordsLabel",label:this.getLocalValue("norecordslabelfield","No Record Button Label","repeaterform"),value:t.noRecordsLabel,onChange:e})),U.a.createElement(Ba.Form.Field,null,U.a.createElement("label",null,this.getLocalValue("childrenviewfield","Children Container View","repeaterform")),U.a.createElement(Ba.Form.Group,null,U.a.createElement(Ba.Form.Radio,{name:"childrenView",label:this.getLocalValue("childrenviewnonefield","None","repeaterform"),value:"",checked:!t.childrenView,onChange:e}),U.a.createElement(Ba.Form.Radio,{name:"childrenView",label:this.getLocalValue("childrenviewrowsfield","Rows","repeaterform"),value:"rows",checked:"rows"===t.childrenView,onChange:e}),U.a.createElement(Ba.Form.Radio,{name:"childrenView",label:this.getLocalValue("childrenviewcolumnsfield","Columns","repeaterform"),value:"columns",checked:"columns"===t.childrenView,onChange:e}),U.a.createElement(Ba.Form.Radio,{name:"childrenView",label:this.getLocalValue("childrenviewcolumnswrapfield","Columns Wrap","repeaterform"),value:"columnswrap",checked:"columnswrap"===t.childrenView,onChange:e}),t.childrenView&&U.a.createElement("div",{className:"dwkit-formbuilder-container-"+t.childrenView}))),t.childrenView&&U.a.createElement(Ba.Form.TextArea,{name:"children-style-source",placeholder:"/*** Example Code ***/\ncolor:red;\npaddingTop:5px;",label:this.getLocalValue("childrenstylefield","Children Container Style","repeaterform"),value:t["children-style-source"],onChange:e}))}}]),t}(),Jl=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zu(e,t)}(t,pi);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=qu(n),t=r?(t=qu(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Uu(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return Ku(t.prototype,[{key:"getGeneralDescription",value:function(){var e=this.props.parent.handleChange.bind(this.props.parent),t=this.props.data;return U.a.createElement(Ba.Form,null,U.a.createElement(Ba.Form.Group,{widths:"equal"},U.a.createElement(Ba.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","textareaform"),value:t.key,onChange:e}),U.a.createElement(Ba.Form.Input,{name:"label",label:this.getLocalValue("labelfield","Label","textareaform"),value:t.label,onChange:e})),U.a.createElement("label",null,this.getLocalValue("optionsfield","Options","textareaform")),U.a.createElement(Ba.Form.Group,{widths:"equal"},U.a.createElement(Ba.Form.Checkbox,{name:"readOnly",label:this.getLocalValue("readonlyfield","Read only","textareaform"),checked:t.readOnly,onChange:e})))}},{key:"getEventsList",value:function(){return["onChange"]}}]),t}(),Yl=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qu(e,t)}(t,pi);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Ju(n),t=r?(t=Ju(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Gu(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return Hu(t.prototype,[{key:"getGeneralDescription",value:function(){var e=this.props.parent.handleChange.bind(this.props.parent),t=this.props.data;return U.a.createElement(Ba.Form,null,U.a.createElement(Ba.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","searchform"),value:t.key,onChange:e}),U.a.createElement(Ba.Form.Input,{name:"url",label:this.getLocalValue("urlfield","Url","searchform"),value:t.url,onChange:e}),U.a.createElement(Ba.Form.Checkbox,{name:"category",label:this.getLocalValue("categoryfield","Enable Categories","searchform"),checked:Boolean(t.category),onChange:e}))}},{key:"getEventsList",value:function(){return["onSelect"]}}]),t}(),cs=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xu(e,t)}(o,pi);var n,r,t=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Zu(n),t=r?(t=Zu(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Yu(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function o(e){return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),t.call(this,e)}return $u(o.prototype,[{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent);return U.a.createElement(Ba.Form,null,U.a.createElement(Ba.Form.Group,{widths:"equal"},U.a.createElement(Ba.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","containerform"),value:e.key,onChange:t}),U.a.createElement(Ba.Form.Input,{name:"label",label:this.getLocalValue("labelfield","Label","inputform"),value:e.label,onChange:t})),U.a.createElement("div",{className:"field"},U.a.createElement("label",null,this.getLocalValue("optionsfield","Options","inputform")),U.a.createElement(Ba.Form.Group,{widths:"equal"},U.a.createElement(Ba.Form.Checkbox,{name:"showPreview",label:this.getLocalValue("showpreviewfield","Show preview","inputform"),checked:e.showPreview,onChange:t}),U.a.createElement(Ba.Form.Checkbox,{name:"compact",label:this.getLocalValue("compactfield","Compact","inputform"),checked:e.compact,onChange:t}))),U.a.createElement("div",{className:"field"},U.a.createElement("label",null,this.getLocalValue("labelsfield","Button labels","cameraform")),U.a.createElement(Ba.Divider,{fitted:!0,style:{marginBottom:10}}),U.a.createElement(Ba.Form.Group,{widths:"equal"},U.a.createElement(Ba.Form.Input,{name:"drawLabel",label:this.getLocalValue("drawLabelfield","Draw signature","signatureform"),value:e.drawLabel,onChange:t}),U.a.createElement(Ba.Form.Input,{name:"clearCanvasLabel",label:this.getLocalValue("clearCanvasLabelfield","Clear canvas","signatureform"),value:e.clearCanvasLabel,onChange:t}),U.a.createElement(Ba.Form.Input,{name:"uploadLabel",label:this.getLocalValue("uploadLabelfield","Upload","signatureform"),value:e.uploadLabel,onChange:t})),U.a.createElement(Ba.Form.Group,{widths:"equal"},U.a.createElement(Ba.Form.Input,{name:"openLabel",label:this.getLocalValue("openLabelfield","Open","cameraform"),value:e.openLabel,onChange:t}),U.a.createElement(Ba.Form.Input,{name:"clearLabel",label:this.getLocalValue("clearLabelfield","Clear","cameraform"),value:e.clearLabel,onChange:t}))))}},{key:"getEventsList",value:function(){return["onChange"]}}]),o}(),ps=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&np(e,t)}(t,pi);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=rp(n),t=r?(t=rp(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==ep(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return tp(t.prototype,[{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent),n=[{text:this.getLocalValue("sizedefault","Default"),value:""},{text:this.getLocalValue("sizemini","Mini"),value:"mini"},{text:this.getLocalValue("sizetiny","Tiny"),value:"tiny"},{text:this.getLocalValue("sizesmall","Small"),value:"small"},{text:this.getLocalValue("sizemedium","Medium"),value:"medium"},{text:this.getLocalValue("sizelarge","Large"),value:"large"},{text:this.getLocalValue("sizehuge","Huge"),value:"huge"}],r=[{key:"label",name:this.getLocalValue("datakeycolumn","Label","statisticform")},{key:"value",name:this.getLocalValue("datavaluecolumn","Value","statisticform")}];return U.a.createElement(Ba.Form,null,U.a.createElement(Ba.Form.Group,{widths:"equal"},U.a.createElement(Ba.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","statisticform"),value:e.key,onChange:t}),U.a.createElement("div",{className:"field"},U.a.createElement("label",null,this.getLocalValue("optionsfield","Options","statisticform")),U.a.createElement(Ba.Form.Group,null,U.a.createElement(Ba.Form.Checkbox,{name:"horizontal",label:this.getLocalValue("horizontalfield","Horizontal","statisticform"),checked:e.horizontal,onChange:t})))),U.a.createElement(Ba.Form.Group,{widths:"equal"},U.a.createElement(Te,{key:"data-elements",columns:r,label:this.getLocalValue("datafield","Data","statisticform"),name:"data-elements",value:e["data-elements"],onChange:t}),U.a.createElement(Ba.Form.Dropdown,{name:"size",selection:!0,fluid:!0,options:n,placeholder:n[0].text,label:this.getLocalValue("sizefield","Size","statisticform"),value:e.size,onChange:t})))}}]),t}(),hs=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ip(e,t)}(t,pi);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=lp(n),t=r?(t=lp(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==op(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return ap(t.prototype,[{key:"getGeneralDescription",value:function(){var e=this.props.parent.handleChange.bind(this.props.parent),t=this.props.data;return U.a.createElement(Ba.Form,null,U.a.createElement(Ba.Form.Group,{widths:"equal"},U.a.createElement(Ba.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","staticcontentform"),value:t.key,onChange:e}),U.a.createElement(Ba.Form.Input,{name:"style-font-size",placeholder:"20px",label:this.getLocalValue("fontsizefield","Font size","staticcontentform"),value:t["style-font-size"],onChange:e})),U.a.createElement(Ba.Form.Checkbox,{name:"isHtml",label:this.getLocalValue("allowhtmlfield","Allow HTML","staticcontentform"),checked:t.isHtml,onChange:e}),U.a.createElement(Ba.TextArea,{rows:6,name:"content",label:this.getLocalValue("contentfield","Content","staticcontentform"),value:t.content,onChange:e}))}}]),t}(),f=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&up(e,t)}(t,pi);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=pp(n),t=r?(t=pp(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==sp(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return cp(t.prototype,[{key:"getGeneralDescription",value:function(){var e=this.props.data,r=this.props.parent.handleChange.bind(this.props.parent),t=[{key:"title",name:this.getLocalValue("itemstitlecolumn","Title","tabform")},{key:"visibleCondition",name:this.getLocalValue("visibleConditioncolumn","Visible Condition","tabform")}];return U.a.createElement(Ba.Form,null,U.a.createElement(Ba.Form.Group,{widths:"equal"},U.a.createElement(Ba.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","tabform"),value:e.key,onChange:r}),U.a.createElement(Ba.Form.Input,{name:"activePane",label:this.getLocalValue("activepanefield","Active Pane","tabform"),value:e.activePane,onChange:r})),U.a.createElement("div",{className:"field"},U.a.createElement("label",null,this.getLocalValue("optionsfield","Options","menuform")),U.a.createElement(Ba.Form.Group,null,U.a.createElement(Ba.Form.Checkbox,{name:"pointing",label:this.getLocalValue("pointingfield","Pointing","tabform"),checked:e.pointing,onChange:r}),U.a.createElement(Ba.Form.Checkbox,{name:"secondary",label:this.getLocalValue("secondaryfield","Secondary","tabform"),checked:e.secondary,onChange:r}),U.a.createElement(Ba.Form.Checkbox,{name:"tabular",label:this.getLocalValue("tabularfield","Tabular","tabform"),checked:e.tabular,onChange:r}),U.a.createElement(Ba.Form.Checkbox,{name:"fluid",label:this.getLocalValue("fluidfield","Fluid","tabform"),checked:e.fluid,onChange:r}),U.a.createElement(Ba.Form.Checkbox,{name:"vertical",label:this.getLocalValue("verticalfield","Vertical","tabform"),checked:e.vertical,onChange:r}))),U.a.createElement(Te,{key:"panes",draggable:!0,columns:t,label:this.getLocalValue("panesfield","Panes","tabform"),name:"panes",value:e.panes,onChange:function(e,t){var n=t.name,t=t.value;Array.isArray(t)&&t.forEach(function(e){fe(e.psid)&&(e.psid="id"+(new Date).getTime())}),r(e,{name:n,value:t})}}))}},{key:"getEventsList",value:function(){return["onTabChange"]}}]),t}(),sl=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mp(e,t)}(t,pi);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=hp(n),t=r?(t=hp(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==dp(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return fp(t.prototype,[{key:"getGeneralDescription",value:function(){var e=this.props.data,r=this.props.parent.handleChange.bind(this.props.parent),t=[{key:"title",name:this.getLocalValue("itemstitlecolumn","Title","tabform")},{key:"visibleCondition",name:this.getLocalValue("visibleConditioncolumn","Visible Condition","tabform")}];return U.a.createElement(Ba.Form,null,U.a.createElement(Ba.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","tabform"),value:e.key,onChange:r}),U.a.createElement("div",{className:"field"},U.a.createElement("label",null,this.getLocalValue("optionsfield","Options","menuform")),U.a.createElement(Ba.Form.Group,null,U.a.createElement(Ba.Form.Checkbox,{name:"fluid",label:this.getLocalValue("fluidfield","Fluid","tabform"),checked:e.fluid,onChange:r}),U.a.createElement(Ba.Form.Checkbox,{name:"styled",label:this.getLocalValue("styledfield","Styled","tabform"),checked:e.styled,onChange:r}))),U.a.createElement(Te,{key:"panels",draggable:!0,columns:t,label:this.getLocalValue("panelsfield","Panels","tabform"),name:"panels",value:e.panels,onChange:function(e,t){var n=t.name,t=t.value;Array.isArray(t)&&t.forEach(function(e){fe(e.psid)&&(e.psid="id"+(new Date).getTime())}),r(e,{name:n,value:t})}}))}},{key:"getEventsList",value:function(){return[]}}]),t}();var Rp={container:pc,staticcontent:hs,form:Gc,formgroup:$c,tab:f,camera:qs,customblock:yi,gridlayout:Ee,gridview:t,collectioneditor:ic,repeater:Ul,header:Ce,input:Xn,numberformat:Ei,textarea:function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gp(e,t)}(t,pi);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=vp(n),t=r?(t=vp(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==yp(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return bp(t.prototype,[{key:"getGeneralDescription",value:function(){var e=this.props.parent.handleChange.bind(this.props.parent),t=this.props.data;return U.a.createElement(Ba.Form,null,U.a.createElement(Ba.Form.Group,{widths:"equal"},U.a.createElement(Ba.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","textareaform"),value:t.key,onChange:e}),U.a.createElement(Ba.Form.Input,{name:"label",label:this.getLocalValue("labelfield","Label","textareaform"),value:t.label,onChange:e})),U.a.createElement(Ba.Form.Group,{widths:"equal"},U.a.createElement(Ba.Form.Input,{name:"rows",placeholder:"3",type:"number",label:this.getLocalValue("rowsfield","Rows","textareaform"),value:t.rows,onChange:e}),U.a.createElement("div",{className:"field"},U.a.createElement(Ba.Form.Input,{name:"placeholder",label:this.getLocalValue("placeholderfield","Placeholder","textareaform"),value:t.placeholder,onChange:e}),U.a.createElement("label",null,this.getLocalValue("optionsfield","Options","textareaform")),U.a.createElement(Ba.Form.Group,{widths:"equal"},U.a.createElement(Ba.Form.Checkbox,{name:"readOnly",label:this.getLocalValue("readonlyfield","Read only","textareaform"),checked:t.readOnly,onChange:e})))))}},{key:"getEventsList",value:function(){return["onChange"]}}]),t}(),dictionary:wc,treepicker:function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ep(e,t)}(t,pi);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=kp(n),t=r?(t=kp(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Vp(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return wp(t.prototype,[{key:"getStyleDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent),n="/*** Example Code ***/\ncolor:red;\npaddingTop:5px;";return U.a.createElement(Ba.Form,{key:"styleDescriptionForm"},U.a.createElement(Ba.Form.Group,{widths:"equal"},U.a.createElement(Ba.Form.Input,{name:"style-width",label:this.getLocalValue("widthfield","Width"),placeholder:"100px",value:e["style-width"],onChange:t}),U.a.createElement(Ba.Form.Input,{name:"style-height",label:this.getLocalValue("heightfield","Height"),placeholder:"100px",value:e["style-height"],onChange:t})),U.a.createElement(Ba.Form.Group,{widths:"equal"},U.a.createElement(Ba.Form.Input,{name:"style-marginTop",label:this.getLocalValue("margintopfield","Margin Top"),placeholder:"0px",value:e["style-marginTop"],onChange:t}),U.a.createElement(Ba.Form.Input,{name:"style-marginBottom",label:this.getLocalValue("marginbottomfield","Margin Bottom"),placeholder:"0px",value:e["style-marginBottom"],onChange:t}),U.a.createElement(Ba.Form.Input,{name:"style-marginLeft",label:this.getLocalValue("marginleftfield","Margin Left"),placeholder:"0px",value:e["style-marginLeft"],onChange:t}),U.a.createElement(Ba.Form.Input,{name:"style-marginRight",label:this.getLocalValue("marginrightfield","Margin Right"),placeholder:"0px",value:e["style-marginRight"],onChange:t})),U.a.createElement(Ba.Form.Group,{widths:"equal"},U.a.createElement(Ba.Form.Input,{name:"style-customcss",label:this.getLocalValue("buttoncssclass","Custom CSS class for button","treepickerform"),placeholder:"dwkit-application-css (without '.')",value:e["style-customcss"],onChange:t}),U.a.createElement(Ba.Form.Input,{name:"style-custommodalcss",label:this.getLocalValue("modalcssclass","Custom CSS class for modal","treepickerform"),placeholder:"dwkit-application-css (without '.')",value:e["style-custommodalcss"],onChange:t})),U.a.createElement(Ba.Form.Group,{widths:"equal"},U.a.createElement(Ba.Form.TextArea,{name:"style-source",label:this.getLocalValue("buttonstyle","Button style","treepickerform"),placeholder:n,value:e["style-source"],onChange:t}),U.a.createElement(Ba.Form.TextArea,{name:"style-modalsource",label:this.getLocalValue("modalstyle","Modal style","treepickerform"),placeholder:n,value:e["style-modalsource"],onChange:t})),U.a.createElement(Ba.Form.Checkbox,{name:"style-hidden",label:this.getLocalValue("hiddenfield","Hidden"),checked:e["style-hidden"],onChange:t}))}},{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent);return U.a.createElement(Ba.Form,null,U.a.createElement(Ba.Form.Group,{widths:"equal"},U.a.createElement(Ba.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","treepickerform"),value:e.key,onChange:t}),U.a.createElement(Ba.Form.Input,{name:"label",label:this.getLocalValue("labelfield","Label","treepickerform"),value:e.label,onChange:t})),U.a.createElement(Ba.Form.Group,{widths:"equal"},U.a.createElement(Ba.Form.Input,{name:"dataModel",label:this.getLocalValue("datamodelfield","Data model","treepickerform"),value:e.dataModel,onChange:t}),U.a.createElement(Ba.Form.Input,{name:"parentIdField",label:this.getLocalValue("parentidfield","ParentId field","treepickerform"),value:e.parentIdField,onChange:t})),U.a.createElement(Ba.Form.Group,{widths:"equal"},U.a.createElement("div",{className:"field"},U.a.createElement(Ba.Form.Input,{name:"columns",label:this.getLocalValue("columnsfield","Columns (Name ASC, Email)","treepickerform"),value:e.columns,onChange:t}),U.a.createElement(Ba.Form.Input,{name:"text",label:this.getLocalValue("textfield","Text expression","treepickerform"),value:e.text,onChange:t,placeholder:"data.Name + ' ' + data.Email"})),U.a.createElement("div",{className:"field"},U.a.createElement(Ba.Form.Input,{name:"pageSize",label:this.getLocalValue("pagesizefield","Page Size","treepickerform"),disabled:!e.paging,value:e.pageSize,placeholder:"100",onChange:t}),U.a.createElement("label",null,this.getLocalValue("optionsfield","Options","treepickerform")),U.a.createElement(Ba.Form.Group,null,U.a.createElement(Ba.Form.Checkbox,{name:"paging",label:this.getLocalValue("pagingfield","Server pagination","treepickerform"),checked:e.paging,onChange:t}),U.a.createElement(Ba.Form.Checkbox,{name:"multiple",label:this.getLocalValue("multiplefield","Multiple","treepickerform"),checked:e.multiple,onChange:t}),U.a.createElement(Ba.Form.Checkbox,{name:"fluid",label:this.getLocalValue("fluidfield","Fluid","treepickerform"),checked:e.fluid,onChange:t}),U.a.createElement(Ba.Form.Checkbox,{name:"selection",label:this.getLocalValue("selectionfield","Selection","treepickerform"),checked:e.selection,onChange:t})),U.a.createElement(Ba.Form.Group,null,U.a.createElement(Ba.Form.Checkbox,{name:"readOnly",label:this.getLocalValue("readonlyfield","Read only","treepickerform"),checked:e.readOnly,onChange:t}),U.a.createElement(Ba.Form.Checkbox,{name:"disabled",label:this.getLocalValue("disabledfield","Disabled","treepickerform"),checked:e.disabled,onChange:t}),U.a.createElement(Ba.Form.Checkbox,{name:"clearable",label:this.getLocalValue("clearablefield","Clearable","treepickerform"),checked:e.clearable,onChange:t})))))}},{key:"getEventsList",value:function(){return["onChange"]}}]),t}(),dropdown:Oc,checkbox:tc,radiogroup:Nl,button:Bs,label:so,message:Ga,image:We,statistic:ps,customcontrol:yc,dropdowntrigger:Pc,dropzonecontrol:Fc,files:Wc,breadcrumb:Ts,search:Yl,menu:uo,workflowbar:function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Op(e,t)}(t,pi);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Sp(n),t=r?(t=Sp(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Cp(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return _p(t.prototype,[{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent);return U.a.createElement(Ba.Form,null,U.a.createElement(Ba.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","workflowform"),value:e.key,onChange:t}),U.a.createElement(Ba.Form.Input,{name:"setStateButton",label:this.getLocalValue("setstatebuttonfield","Set state button","workflowform"),value:e.setStateButton,onChange:t}),U.a.createElement(Ba.Form.Group,{horizontal:!0},U.a.createElement(Ba.Form.Checkbox,{name:"blockSetState",label:this.getLocalValue("blocksetstatefield","Block SetState","workflowform"),checked:Boolean(e.blockSetState),onChange:t}),U.a.createElement(Ba.Form.Checkbox,{name:"blockCommands",label:this.getLocalValue("blockcommandsfield","Block Commands","workflowform"),checked:Boolean(e.blockCommands),onChange:t}),U.a.createElement(Ba.Form.Checkbox,{name:"blockLoadParameters",label:this.getLocalValue("blockloadparametersfield","Block load parameters","workflowform"),checked:void 0===e.blockLoadParameters||e.blockLoadParameters,onChange:t}),U.a.createElement(Ba.Form.Checkbox,{name:"blockSelectScheme",label:this.getLocalValue("blockselectschemefield","Block select scheme","workflowform"),checked:e.blockSelectScheme,onChange:t})),U.a.createElement(Ba.Form.Input,{name:"selectSchemeDropdown",label:this.getLocalValue("selectschemedropdownfield","Select scheme dropdown","workflowform"),value:e.selectSchemeDropdown,onChange:t,disabled:e.blockSelectScheme}))}},{key:"getEventsList",value:function(){return["onCommandClick","onSetStateClick","onReceivedCommands","onSchemeSelected"]}}]),t}(),richtexteditor:Jl,barchart:Ys,linechart:Ys,scatterchart:Ys,doughnutchart:Ys,piechart:Ys,radarchart:Ys,card:function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xp(e,t)}(o,pi);var n,r,t=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Pp(n),t=r?(t=Pp(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Ap(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function o(e){return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),t.call(this,e)}return Dp(o.prototype,[{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent);return U.a.createElement(Ba.Form,null,U.a.createElement(Ba.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","cardform"),value:e.key,onChange:t}),U.a.createElement(Ba.Form.TextArea,{name:"header",label:this.getLocalValue("headerfield","Header","cardform"),value:e.header,onChange:t}),U.a.createElement(Ba.Form.TextArea,{name:"subheader",label:this.getLocalValue("subheaderfield","Subheader","cardform"),value:e.subheader,onChange:t}),U.a.createElement(Ba.Form.Input,{name:"imgurl",label:this.getLocalValue("imgurlfield","Image URL","cardform"),value:e.imgurl,onChange:t}))}},{key:"getEventsList",value:function(){return["onClick"]}}]),o}(),signature:cs,accordion:sl};!function(){var e,t=ia(),n=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e){if(e){if("string"==typeof e)return Lp(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Lp(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return{s:t=function(){},n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,i=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){i=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(i)throw o}}}}(t);try{for(n.s();!(e=n.n()).done;){var r=e.value,o=Rp[r.key];o&&(r.editControl=o)}}catch(e){n.e(e)}finally{n.f()}aa(t)}(),xs.setItems(ia());var jp=xs;function Tp(e){return(Tp="function"==typeof Symbol&&"symbol"==sd(Symbol.iterator)?function(e){return sd(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":sd(e)})(e)}function Fp(e,t){return(Fp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Np(e){return(Np=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ip=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fp(e,t)}(o,wi);var n,r,t=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Np(n),t=r?(t=Np(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Tp(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function o(e){return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),(e=t.call(this,e)).dwKitControls=jp,e}return o}();function Mp(e){return(Mp="function"==typeof Symbol&&"symbol"==sd(Symbol.iterator)?function(e){return sd(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":sd(e)})(e)}function Bp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wp(e,t){return(Wp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Up(e){return(Up=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Kp=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wp(e,t)}(o,Ma);var n,r,t=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Up(n),t=r?(t=Up(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Mp(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function o(e){return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),(e=t.call(this,e)).createControls=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return xs.createControls.apply(xs,t)},e}return Bp(o.prototype,[{key:"render",value:function(){var t=this,e="dwkit-form"+(void 0===this.props.className?"":" "+this.props.className),n=this.getItemsForRender();return U.a.createElement("div",{className:e,ref:function(e){t.currentElement=e}},n)}},{key:"print",value:function(e){if(this.currentElement){var t=this.currentElement.innerHTML,n=window.open("",this.props.formName,"toolbar=no,location=no,directories=no,status=no,scrollbars=yes,resizable=yes");e||(n.document.title=this.props.formName),n.document.title=e||"PrintForm",n.document.head.insertAdjacentHTML("beforeend","<style type='text/css'>body, html { height: auto!important; width:auto!important;} body{margin:10px!important;} .dwkit-notprint{display:none!important;}</style>");for(var r=document.getElementsByTagName("style"),o=0;o<r.length;o++){var a="<style>"+r[o].innerHTML+"</style>";n.document.head.insertAdjacentHTML("beforeend",a)}for(var i=document.getElementsByTagName("link"),o=0;o<i.length;o++){var l=i[o];"stylesheet"==l.rel&&(a='<link href="'+l.href+'" rel="stylesheet" type="text/css" />',n.document.head.insertAdjacentHTML("beforeend",a))}n.document.body.innerHTML=t;for(var s=n.document.getElementsByTagName("img"),o=0;o<s.length;o++){var c,u=s[o];u.src||!u.attributes.src||(c=u.attributes.src.value)&&1<c.length&&(u.src=location.origin+("/"!=c[0]?"/":"")+c)}n.focus(),setTimeout(function(){n.print()},1e3)}}}]),o}();function zp(e){return(zp="function"==typeof Symbol&&"symbol"==sd(Symbol.iterator)?function(e){return sd(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":sd(e)})(e)}function qp(e,t){return(qp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Gp(e){return(Gp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Hp=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qp(e,t)}(t,Kp);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Gp(n),t=r?(t=Gp(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==zp(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return t}(),sl=n(23),Qp=n.n(sl);function Jp(e){return(Jp="function"==typeof Symbol&&"symbol"==sd(Symbol.iterator)?function(e){return sd(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":sd(e)})(e)}function Yp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $p(e,t){return($p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Xp(e){return(Xp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Zp=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$p(e,t)}(t,zo);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Xp(n),t=r?(t=Xp(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Jp(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return Yp(t.prototype,[{key:"render",value:function(){var t=this,e=[],n=void 0;try{e=ke.a.parse(this.state.data),he(this.state.errors)&&(n=ke.a.parse(this.state.errors))}catch(e){}return U.a.createElement("div",{className:"dwkit-formviewer"},U.a.createElement(Qp.a,{style:{display:"flex"},sizes:[75,25],onDrag:function(){return t.forceUpdate()}},U.a.createElement(Ba.Segment,{style:{overflow:"auto"}},U.a.createElement("h1",null,"Form"),U.a.createElement(Kp,{model:this.state.model,data:e,errors:n,eventFunc:this.eventFunc.bind(this),eventErrFunc:this.props.eventErrProcess,getFormFunc:this.props.getFormFunc,dataChanged:this.formDataChaged.bind(this),getAdditionalDataForControl:this.getAdditionalDataForControl.bind(this),downloadUrl:this.props.downloadUrl,uploadUrl:this.props.uploadUrl,externalControlList:this.props.externalControlList,externalControlRender:this.props.externalControlRender,adaptiveViewType:this.state.adaptiveViewType,autoCheckConditions:!0,autoValidate:!0,ref:function(e){t.form=e}})),U.a.createElement("div",null,U.a.createElement("div",null,U.a.createElement(Ba.Checkbox,{style:{marginRight:"10px"},radio:!0,name:"adaptiveViewTypeDesktop",label:"Desktop",checked:"desktop"===this.state.adaptiveViewType,onChange:function(){t.setState({adaptiveViewType:"desktop"})}}),U.a.createElement(Ba.Checkbox,{radio:!0,name:"adaptiveViewTypeMobile",label:"Mobile",checked:"mobile"===this.state.adaptiveViewType,onChange:function(){t.setState({adaptiveViewType:"mobile"})}})),U.a.createElement("h1",null,"Data"),U.a.createElement(Ba.TextArea,{rows:12,onChange:this.handleChange.bind(this),value:this.state.data}),U.a.createElement("h1",null,"Errors"),U.a.createElement(Ba.TextArea,{rows:4,onChange:this.handleChangeErrors.bind(this),value:this.state.errors}),U.a.createElement("h1",null,"Model"),U.a.createElement(Ba.TextArea,{rows:4,value:ke.a.stringify(this.state.model,null,4)}))),U.a.createElement("div",{style:{clear:"both"}},U.a.createElement("h1",null,"Events"),U.a.createElement(Ba.TextArea,{rows:12,readOnly:!0,value:this.state.eventslog})))}},{key:"print",value:function(){this.form.print()}}]),t}();function ed(e){return(ed="function"==typeof Symbol&&"symbol"==sd(Symbol.iterator)?function(e){return sd(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":sd(e)})(e)}function td(e,t){return(td=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function nd(e){return(nd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var rd=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&td(e,t)}(t,Te);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=nd(n),t=r?(t=nd(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==ed(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return t}();function od(e){return(od="function"==typeof Symbol&&"symbol"==sd(Symbol.iterator)?function(e){return sd(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":sd(e)})(e)}function ad(e,t){return(ad=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function id(e){return(id=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ld=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ad(e,t)}(t,dn);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=id(n),t=r?(t=id(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==od(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return t}()}],E.c=C,E.d=function(e,t,n){E.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},E.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},E.t=function(t,e){if(1&e&&(t=E(t)),8&e)return t;if(4&e&&"object"==sd(t)&&t&&t.__esModule)return t;var n=Object.create(null);if(E.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)E.d(n,r,function(e){return t[e]}.bind(null,r));return n},E.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return E.d(t,"a",t),t},E.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},E.p="",E(E.s=32);function E(e){if(C[e])return C[e].exports;var t=C[e]={i:e,l:!1,exports:{}};return k[e].call(t.exports,t,t.exports,E),t.l=!0,t.exports}var k,C},"object"==sd(r)&&"object"==sd(e)?e.exports=n(o(0),o(1),o(3),o(13),o(14),o(15),o(4),o(16),o(17),o(18),o(20),o(21),o(22),o(23),o(24),o(25),o(26),o(9),o(27),o(10)):(t=[o(0),o(1),o(3),o(13),o(14),o(15),o(4),o(16),o(17),o(18),o(20),o(21),o(22),o(23),o(24),o(25),o(26),o(9),o(27),o(10)],void 0===(n="function"==typeof(n=n)?n.apply(r,t):n)||(e.exports=n))}.call(this,o(38)(e))},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var t=n(0),a=n.n(t),i=n(2),l=n(1),s=n(5);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function p(r){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?u(Object(o),!0).forEach(function(e){var t,n;t=r,e=o[n=e],n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):u(Object(o)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))})}return r}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=o(n);return e=r?(e=o(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==c(e)&&"function"!=typeof e?h(t):e}}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var r=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(o,i["a"]);var e,t,n,r=m(o);function o(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),null==(e=r.call(this,e)).idfield&&(e.idfield="id"),e.state={openmodal:!1};var t=h(e);return window.onresize=function(){t.recalcSizeParams()},e}return e=o,(t=[{key:"createNewObject",value:function(){var e={__state:"inserted"};return e[this.idfield]=this.NewGUID(),e}},{key:"showedit",value:function(e){this.state.editrowid=void 0,this.props.parent.openpage(this.panelindex,e[this.idfield])}},{key:"loadeditrow",value:function(){var e;this.state.editrowid=this.props.id,null!=this.props.id?(e=this.getEditRow(),this.state.editrow=this.СloneObj(e)):this.state.editrow=void 0}},{key:"applyeditrow",value:function(){for(var e=this.state.editrow[this.idfield],t=-1,n=this.props.data[this.dataindex],r=0;r<n.length;r++)if(e===n[r][this.idfield]){t=r;break}0<=t?this.props.data[this.dataindex][t]=this.state.editrow:this.props.data[this.dataindex].unshift(this.state.editrow)}},{key:"back",value:function(){this.props.parent.openpage(this.panelindex)}},{key:"getEditRow",value:function(){var e=this.props.id;if("new"===e){var t=this.createNewObject();if(void 0!==this.props.copyid)for(var n=this.props.data[this.dataindex],r=0;r<n.length;r++)if(n[r][this.idfield]===this.props.copyid){for(var o in n[r])void 0===t[o]&&(t[o]=n[r][o]);break}return t}for(var a=this.props.data[this.dataindex],i=0;i<a.length;i++)if(a[i][this.idfield]===e)return a[i];alertify.error(DWKitAdminLang.msg.objectnotfound)}},{key:"render",value:function(){return this.state.editrowid!=this.props.id&&this.loadeditrow(),a.a.createElement("div",null,null==this.props.id?this.renderMainForm():this.renderEditForm())}},{key:"validate",value:function(){return!0}},{key:"reload",value:function(){this.state={},this.forceUpdate()}},{key:"renderMainForm",value:function(){var t=this,e=this,n=(null==this.props.data[this.dataindex]||this.props.data[this.dataindex].length,this.gridColumns()),r="";return 0<n.length&&(r=n[0].key+" ASC"),a.a.createElement("div",null,a.a.createElement("h1",null,this.titleGetter?this.titleGetter(DWKitAdminLang):this.title),this.renderToolbar(),a.a.createElement(s.SemanticGridView,{key:"Formgrid",rowKey:this.idfield,rowHeight:40,columns:this.gridColumns(),defaultSort:r,minHeight:this.state.gridHeight,multiselect:!0,value:this.props.data[this.dataindex],handleEvent:this.gridHandleEvent.bind(this),ref:function(e){t.grid=e}}),a.a.createElement(l.Confirm,{open:this.state.confirmdeleteshow,dimmer:"blurring",content:DWKitAdminLang.msg.confirmdelete,onCancel:function(){e.setState({confirmdeleteshow:!1})},onConfirm:this.onDelete.bind(this)}))}},{key:"renderToolbar",value:function(){var e=this,t=this;return a.a.createElement("div",{className:"dwkitadmin-toolbar"},a.a.createElement(l.Button,{className:"buttontype1",onClick:function(){e.props.parent.openpage(e.panelindex,"new")}},DWKitAdminLang.button.create),a.a.createElement(l.Button,{className:"buttontype2",onClick:function(){t.setState({confirmdeleteshow:!0})}},DWKitAdminLang.button.delete))}},{key:"renderEditForm",value:function(){return a.a.createElement(this.editform,p(p({},this.props),{},{parent:this,data:this.state.editrow,ischanged:this.state.ischanged,metadata:this.props.data,handleChange:this.handleChange,onSave:this.onSave,onCancel:this.onCancel}))}},{key:"onSave",value:function(t){var n=this;this.validate()?null!=n.state.editrow.__state?(n.state.editrow.__type=this.datatype,this.ChangeData([n.state.editrow],function(e){n.ResetSystemProps(n.state.editrow),n.applyeditrow(),n.showedit(n.state.editrow),n.state.needGlobalReload&&(n.state.needGlobalReload=void 0,setTimeout(function(){n.props.parent.load(),Pace.stop()},100)),t&&t(e)})):alertify.success(DWKitAdminLang.msg.unchangedobject):alertify.error(DWKitAdminLang.msg.checkerrorsonform)}},{key:"onCancel",value:function(){var e=this.state.editrow;if(this.loadeditrow(),null!=e)for(var t in e)null==this.state.editrow[t]&&null!=e[t]&&"string"==c(e[t])&&(this.state.editrow[t]="");this.forceUpdate()}},{key:"getDefaultObjectCode",value:function(){for(var e=this.defaultNamePrefix,t=0;t<1e3;t++){var n=e+(0===t?"":"_"+t.toString());if(this.validateCode(n)){e=n;break}}return e}},{key:"validateCode",value:function(e){var t=!0,n=this.props.data[this.dataindex];if(null!=n)for(var r=0;r<n.length;r++)if(n[r][this.idfield]==e){t=!1;break}return t}},{key:"onDelete",value:function(){for(var e=this,t=[],n=[],r=this.grid.getSeletedRowKeys(),o=0;o<this.props.data[this.dataindex].length;o++){for(var a,i=this.props.data[this.dataindex][o],l=!1,s=0;s<r.length;s++)if(i[this.idfield]==r[s]){l=!0;break}l?((a=this.props.data[this.dataindex][o]).__type=this.datatype,a.__state="deleted",n.push(a)):t.push(this.props.data[this.dataindex][o])}e.setState({confirmdeleteshow:!1}),this.ChangeData(n,function(){e.props.data[e.dataindex]=t,e.grid.resetSelection(),e.forceUpdate()})}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"componentDidMount",value:function(){this._isMounted=!0,this.recalcSizeParams()}},{key:"recalcSizeParams",value:function(){var e;this._isMounted&&(e=$(window).height(),this.setState({gridHeight:e-210-this.props.deltaHeight}))}},{key:"gridColumns",value:function(){return[{key:"code",name:DWKitAdminLang.column.code,resizable:!0}]}},{key:"gridHandleEvent",value:function(e){var t=e.eventName,e=e.parameters;"onRowDblClick"===t&&this.showedit(e.row)}}])&&d(e.prototype,t),n&&d(e,n),o}()},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var t=n(0),a=n.n(t),t=n(4),i=(n(2),n(1)),t=n(3),l=n(6);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function c(r){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?s(Object(o),!0).forEach(function(e){var t,n;t=r,e=o[n=e],n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):s(Object(o)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))})}return r}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=f(n);return e=r?(e=f(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==o(e)&&"function"!=typeof e?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var r=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(o,l["a"]);var e,t,n,r=d(o);function o(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(e=r.call(this,e)).state.popup={show:!1},e}return e=o,(t=[{key:"renderToolbar",value:function(){var e,t,n,r=this,o=[];return this.hidebuttons||(e=function(){r.setState({popup:{show:!1}})},o.push(a.a.createElement(i.Button,{key:"btnCreate",className:"buttontype1",onClick:function(){r.setState({popup:{show:!0}})}},DWKitAdminLang.button.create)),o.push(a.a.createElement(i.Button,{key:"btnDelete",className:"buttontype2",onClick:function(){r.setState({confirmdeleteshow:!0})}},DWKitAdminLang.button.delete)),this.renderToolbarExtraButtons&&(t=this.renderToolbarExtraButtons(),Array.isArray(t)?t.forEach(function(e){o.push(e)}):o.push(t))),null!=this.state.popup.errors&&(n=a.a.createElement(i.Message,{negative:!0},a.a.createElement("p",null,this.state.popup.errors))),a.a.createElement("div",{className:"dwkitadmin-toolbar"},o,a.a.createElement(i.Modal,{dimmer:"blurring",open:this.state.popup.show},a.a.createElement(i.Modal.Header,null,DWKitAdminLang.modal.creatingheader),a.a.createElement(i.Modal.Content,null,a.a.createElement(i.Form,null,n,a.a.createElement(i.Form.Input,{key:"name",name:"newobjectname",label:DWKitAdminLang.field.name,required:!0,value:this.state.popup.name,onChange:this.handlePopupChange.bind(this),error:null!=this.state.popup.errors}))),a.a.createElement(i.Modal.Actions,null,a.a.createElement(i.Button,{className:"buttontype1",content:DWKitAdminLang.button.create,onClick:this.onCreate.bind(this)}),a.a.createElement(i.Button,{className:"buttontype2",content:DWKitAdminLang.button.cancel,onClick:e}))))}},{key:"handlePopupChange",value:function(e,t){t.name;var n=t.value;t.checked;this.setState({popup:c(c({},this.state.popup),{},{name:n})})}},{key:"onCreate",value:function(){var e=this.state.popup.name;""!=e&&null!=e?(this.setState({popup:{show:!1}}),this.props.parent.openpage(this.panelindex,e)):this.setState({popup:c(c({},this.state.popup),{},{errors:DWKitAdminLang.msg.fieldrequired})})}},{key:"getEditRow",value:function(){var e=this.ignoreidcase?this.props.id.toLowerCase():this.props.id,t=this.props.data[this.dataindex];if(Array.isArray(t))for(var n=0;n<t.length;n++)if((this.ignoreidcase?t[n][this.idfield].toLowerCase():t[n][this.idfield])===e)return t[n];var r={};return r[this.idfield]=this.props.id,r}}])&&u(e.prototype,t),n&&u(e,n),o}()},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var t=n(0),a=n.n(t),i=n(1),t=n(3),l=n.n(t);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=d(n);return e=r?(e=d(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==o(e)&&"function"!=typeof e?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var r=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(o,a.a.Component);var e,t,n,r=p(o);function o(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(e=r.call(this,e)).divId="dwkit-admin-actionparameter-editjson",e.serverVariables=["@OperationUserId","@OperationUserName","@CurrentUserId","@CurrentUserName","@DateTimeNow","@DateNow","@DefaultState","@DefaultStateName","@NextNumberId"],Array.isArray(e.props.extraServerVariables)&&(e.serverVariables=[].concat(e.serverVariables,e.props.extraServerVariables)),e.state={},e}return e=o,(t=[{key:"render",value:function(){var e=this;return a.a.createElement("div",{className:"field"},a.a.createElement(i.Form.Input,s({},this.props,{suggestions:void 0,icon:a.a.createElement(i.Icon,{name:"edit",onClick:this.showJSON.bind(this),link:!0})})),a.a.createElement(i.Modal,{dimmer:"inverted",open:this.state.showJSON,onClose:function(){return e.setState({showJSON:!1})}},a.a.createElement(i.Modal.Header,null,"JSON Editor"),a.a.createElement(i.Modal.Content,null,a.a.createElement("div",{id:"dwkit-admin-actionparameter-editjson",style:{height:"415px"}})),a.a.createElement(i.Modal.Actions,null,a.a.createElement(i.Button,{onClick:this.onFormat.bind(this)},DWKitAdminLang.button.format),a.a.createElement(i.Button,{className:"buttontype1",onClick:this.onSave.bind(this)},DWKitAdminLang.button.save),a.a.createElement(i.Button,{className:"buttontype2",onClick:function(){return e.setState({showJSON:!1})}},DWKitAdminLang.button.cancel))))}},{key:"showJSON",value:function(){this.setState({showJSON:!0});var e=this;setTimeout(function(){e.redrawEditor()},10)}},{key:"redrawEditor",value:function(){var i=this,e=ace.edit(this.divId);e.getSession().setMode("ace/mode/json"),e.setOptions({enableBasicAutocompletion:!0,enableLiveAutocompletion:!0}),e.completers=[{getCompletions:function(e,t,n,r,o){var a=i.serverVariables.map(function(e){return{caption:e,value:'"'+e+'"',meta:"DWKit Variable"}});o(null,a=Array.isArray(i.props.suggestions)&&0<i.props.suggestions.length?[].concat(a,i.props.suggestions):a)},getDocTooltip:function(e){}}],this.props.value?e.setValue(this.props.value,-1):(e.setValue("{\n\t\n}",-1),e.gotoLine(2,1)),e.focus()}},{key:"onSave",value:function(){var e=ace.edit(this.divId).getValue();this.props.onChange(void 0,{name:this.props.name,value:e}),this.setState({showJSON:!1})}},{key:"onFormat",value:function(){var e=ace.edit(this.divId),t=e.getValue();e.setValue(this.toPrettyJSON(t)),e.clearSelection()}},{key:"toPrettyJSON",value:function(t){try{return JSON.stringify(JSON.parse(t),null,"\t")}catch(e){try{return l.a.stringify(l.a.parse(t),null,"\t")}catch(e){return t}}}},{key:"getSearchPatterns",value:function(e,t){for(var n=[],r="",o=!1,a=t-1;0<=a;a--){var i=e.charAt(a);if(!this.alphaNumberDotAt(i))break;if("."===i){if(0<a){var l=e.charAt(a-1);if(!this.alphaNumberAt(l)){o=!0;break}}n.push(r),r=""}else r=i+r}return o&&0===n.length?null:(r&&(0<n.length||r.trim()!=r)&&n.push(r),n)}},{key:"alphaNumberDotAt",value:function(e){return"@"===e||this.alphaNumberDot(e)}},{key:"alphaNumberDot",value:function(e){return"."===e||this.alphaNumber(e)}},{key:"alphaNumberAt",value:function(e){return"@"===e||this.alphaNumber(e)}},{key:"alphaNumber",value:function(e){return e&&e.match(/^[0-9a-zA-Z]+$/)}}])&&c(e.prototype,t),n&&c(e,n),o}()},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE__9__},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE__10__},function(e,t,n){"use strict";n.d(t,"a",function(){return ui});var i=n(0),V=n.n(i),t=(n(4),n(3)),c=n.n(t),w=n(1);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=u(n);return e=r?(e=u(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==o(e)&&"function"!=typeof e?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(o,V.a.Component);var e,t,n,r=s(o);function o(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),r.call(this,e)}return e=o,(t=[{key:"handleItemClick",value:function(e,t){t=t.name;document.location.hash="",this.props.parent.handleMenuItemClick(e,{name:t}),e.preventDefault()}},{key:"render",value:function(){var e=this.props.activeItem;return V.a.createElement(w.Menu,{vertical:!0,size:"huge"},V.a.createElement(w.Menu.Item,{name:"dashboard",active:"dashboard"===e,href:"?apanel=dashboard",onClick:this.handleItemClick.bind(this).bind(this)},DWKitAdminLang.sidemenu.dashboard),V.a.createElement(w.Menu.Item,null,V.a.createElement(w.Menu.Header,null,DWKitAdminLang.sidemenu.data),V.a.createElement(w.Menu.Menu,null,V.a.createElement(w.Menu.Item,{name:"datamodel",active:"datamodel"===e,href:"?apanel=datamodel",onClick:this.handleItemClick.bind(this)},DWKitAdminLang.sidemenu.datamodel),V.a.createElement(w.Menu.Item,{name:"datasync",active:"datasync"===e,href:"?apanel=datasync",onClick:this.handleItemClick.bind(this)},DWKitAdminLang.sidemenu.datasync),V.a.createElement(w.Menu.Item,{name:"datasources",active:"datasources"===e,href:"?apanel=datasources",onClick:this.handleItemClick.bind(this)},DWKitAdminLang.sidemenu.datasources))),V.a.createElement(w.Menu.Item,{name:"codeactions",active:"codeactions"===e,href:"?apanel=codeactions",onClick:this.handleItemClick.bind(this)},DWKitAdminLang.sidemenu.codeactions),V.a.createElement(w.Menu.Item,null,V.a.createElement(w.Menu.Header,null,DWKitAdminLang.sidemenu.form),V.a.createElement(w.Menu.Menu,null,V.a.createElement(w.Menu.Item,{name:"forms",active:"forms"===e,href:"?apanel=forms",onClick:this.handleItemClick.bind(this)},DWKitAdminLang.sidemenu.forms),V.a.createElement(w.Menu.Item,{name:"formdata",active:"formdata"===e,href:"?apanel=formdata",onClick:this.handleItemClick.bind(this)},DWKitAdminLang.sidemenu.formdata),V.a.createElement(w.Menu.Item,{name:"actionhandlers",active:"actionhandlers"===e,href:"?apanel=actionhandlers",onClick:this.handleItemClick.bind(this)},DWKitAdminLang.sidemenu.actionhandlers),V.a.createElement(w.Menu.Item,{name:"mobileforms",active:"mobileforms"===e,href:"?apanel=mobileforms",onClick:this.handleItemClick.bind(this)},DWKitAdminLang.sidemenu.mobileforms),V.a.createElement(w.Menu.Item,{name:"localization",active:"localization"===e,href:"?apanel=localization",onClick:this.handleItemClick.bind(this)},DWKitAdminLang.sidemenu.localization))),V.a.createElement(w.Menu.Item,null,V.a.createElement(w.Menu.Header,null,DWKitAdminLang.sidemenu.workflow),V.a.createElement(w.Menu.Menu,null,V.a.createElement(w.Menu.Item,{name:"workflow",active:"workflow"===e,href:"?apanel=workflow",onClick:this.handleItemClick.bind(this)},DWKitAdminLang.sidemenu.schemes),V.a.createElement(w.Menu.Item,{name:"workflowinstances",active:"workflowinstances"===e,href:"?apanel=workflowinstances",onClick:this.handleItemClick.bind(this)},DWKitAdminLang.sidemenu.workflowinstances),V.a.createElement(w.Menu.Item,{name:"businessflow",active:"businessflow"===e,href:"?apanel=businessflow",onClick:this.handleItemClick.bind(this)},DWKitAdminLang.sidemenu.businessflow),V.a.createElement(w.Menu.Item,{name:"commandform",active:"commandform"===e,href:"?apanel=commandform",onClick:this.handleItemClick.bind(this)},DWKitAdminLang.sidemenu.commandform))),V.a.createElement(w.Menu.Item,null,V.a.createElement(w.Menu.Header,null,DWKitAdminLang.sidemenu.security),V.a.createElement(w.Menu.Menu,null,V.a.createElement(w.Menu.Item,{name:"users",active:"users"===e,href:"?apanel=users",onClick:this.handleItemClick.bind(this)},DWKitAdminLang.sidemenu.users),V.a.createElement(w.Menu.Item,{name:"groups",active:"groups"===e,href:"?apanel=groups",onClick:this.handleItemClick.bind(this)},DWKitAdminLang.sidemenu.groups),V.a.createElement(w.Menu.Item,{name:"roles",active:"roles"===e,href:"?apanel=roles",onClick:this.handleItemClick.bind(this)},DWKitAdminLang.sidemenu.roles),V.a.createElement(w.Menu.Item,{name:"permissions",active:"permissions"===e,href:"?apanel=permissions",onClick:this.handleItemClick.bind(this)},DWKitAdminLang.sidemenu.permissions))),V.a.createElement(w.Menu.Item,{name:"resources",active:"resources"===e,href:"?apanel=resources",onClick:this.handleItemClick.bind(this)},DWKitAdminLang.sidemenu.resourceEditor),V.a.createElement(w.Menu.Item,{href:"https://dwkit.com/contacts/",target:"_blank"},DWKitAdminLang.sidemenu.support))}}])&&a(e.prototype,t),n&&a(e,n),o}();function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=y(n);return e=r?(e=y(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==d(e)&&"function"!=typeof e?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function r(e,t){return t}function b(e,t){return E()(e,t,{arrayMerge:r})}var g=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(o,V.a.Component);var e,t,n,r=h(o);function o(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(e=r.call(this,e)).state={value:""},e}return e=o,(t=[{key:"resetSearch",value:function(){this.setState({isLoading:!1,results:[]})}},{key:"handleResultSelect",value:function(e,t){t=t.result;this.props.parent.openpage(t.panelindex,t.id)}},{key:"handleSearchChange",value:function(e,t){var t=t.value,n=this;""!=t?(this.setState({isLoading:!0,value:t}),setTimeout(function(){return n.state.value.length<1?n.resetSearch():void n.setState({isLoading:!1,results:n.search(n.state.value)})},500)):this.setState({isLoading:!1,value:t,results:[]})}},{key:"search",value:function(e){var t={};return this.addResult(t,e,DWKitAdminLang.searchbox.model,this.props.data.dataModel,"datamodel","id",["name","dbObjectName"]),this.addResult(t,e,DWKitAdminLang.searchbox.form,this.props.data.forms,"forms","name",["name"]),this.addResult(t,e,DWKitAdminLang.searchbox.formdata,this.props.data.forms,"formdata","name",["name"]),this.addResult(t,e,DWKitAdminLang.searchbox.actionhandler,this.props.data.forms,"actionhandlers","name",["name"]),this.addResult(t,e,DWKitAdminLang.searchbox.workflow,this.props.data.workflow,"workflow","code",["code"]),this.addResult(t,e,DWKitAdminLang.searchbox.user,this.props.data.users,"users","id",["name","domainLogin","login"]),this.addResult(t,e,DWKitAdminLang.searchbox.group,this.props.data.groups,"groups","id",["name"]),this.addResult(t,e,DWKitAdminLang.searchbox.role,this.props.data.roles,"roles","id",["code","name"]),this.addResult(t,e,DWKitAdminLang.searchbox.codeaction,this.props.data.codeActions,"codeactions","id",["name"]),t}},{key:"addResult",value:function(e,t,n,r,o,a,i){i=this.searchInArray(t,r,o,a,i);Array.isArray(i)&&0<i.length&&(e[n]={name:n,results:i})}},{key:"searchInArray",value:function(e,t,n,r,o){var a,i=[];for(a in t){for(var l=t[a],s=0;s<o.length;s++){var c=o[s];if(null!=l[c]&&0<=l[c].search(new RegExp(e,"i"))){i.push({title:l[c],panelindex:n,id:l[r]});break}}if(4<i.length){i.push({title:"...",panelindex:n});break}}return i}},{key:"render",value:function(){return V.a.createElement(w.Search,{category:!0,fluid:!0,loading:this.state.isLoading,onResultSelect:this.handleResultSelect.bind(this),onSearchChange:this.handleSearchChange.bind(this),results:this.state.results,value:this.state.value})}}])&&f(e.prototype,t),n&&f(e,n),o}(),v=n(2),t=n(28),E=n.n(t);function k(e){return void 0===e}function C(e){return!k(e)&&null!==e}var _={common:{toolbarappbutton:"App"},sidemenu:{dashboard:"Dashboard",modules:"Modules",data:"Data",datamodel:"Manage data model",datasync:"Sync with Database",codeactions:"Code Actions",form:"Form",forms:"Manage forms",mobileforms:"Manage mobile forms",formdata:"Mapping data model",actionhandlers:"Action Handlers",localization:"Localization",workflow:"Workflow",schemes:"Manage schemes",workflowinstances:"Manage instances",businessflow:"Business Flow",security:"Security",users:"Manage users",groups:"Manage groups",roles:"Manage roles",permissions:"Manage permissions",support:"Support",documentation:"Documentation",faq:"FAQs",emailsupport:"Email support",resourceEditor:"Resource Editor",commandform:"Command forms",datasources:"External Sources"},searchbox:{model:"Model",form:"Form",formdata:"Form data",actionhandler:"Action Handler",workflow:"Workflow",businessflow:"Business Flow",user:"User",group:"Group",role:"Role",codeaction:"CodeAction"},msg:{confirmdelete:"Are you sure you want to delete selected item(s)?",checkerrorsonform:"Check the form for errors",fieldrequired:"This field is required",objectnotfound:"The object has not been found",unchangedobject:"No need to save an unchanged object",saveok:"The changes have been saved",checkerrors:"Something went wrong; check the errors",lookdevconsole:"Look for details in the development console in your browser",appcachereseted:"The application cache has been reset",compileok:"Compilation succeeded",click:"Click",here:"here",fieldmustcontainlettersdigits:"This field must contain only letters and digits",needtoselectitems:"You need to select some items",fileupoaded:"The file has been uploaded",notavailableyet:"There are no available settings yet",moreinformation:"More information is available in the developer console",savedatasuccess:"The changes have been applied",notsupported:"Not supported",commandexecutioncompleted:"Command execution has been completed",newstateset:"The new state was set",commingsoon:"Coming soon",selectrowsfordelete:"Select rows for deletion",rowsdeleted:"Rows have been deleted",extensionscontainerfieldrequired:"Extensions container field is required!",needtoselectoneitem:"You need to select just one item",totalcount:"Total count:",serverglobalerror:"There was a global error in the server's operation, requiring your immediate attention",globalcodeactionshaveerrors:"Some of the Global Code Actions have compilation errors. You need to fix and recompile them in Code actions section.",formmappingerror:"The following forms have mismatch in data mapping:",recompiled:"Code actions have been recompiled",recompiledialog:"Code action was modified. Do you want to recompile?",copied:"Copied!",fieldduplicated:"This value is already defined"},requesterror:{status0:"Not connected.\n Verify Network.",status404:"Requested page not found. [404]",status500:"Internal Server Error [500].",parsererror:"Requested JSON parse failed.",timeout:"Time out error.",abort:"Ajax request aborted.",uncaught:"Uncaught error.",configapi:"Error requesting Config API"},button:{save:"Save",cancel:"Cancel",close:"Close",create:"Create",delete:"Delete",resetappcache:"Reset app cache",compile:"Compile",refresh:"Refresh",applyselectedchanges:"Apply selected changes",select:"Select",deselect:"Deselect",selectall:"Select all",deselectall:"Deselect all",download:"Download",upload:"Upload",workflow:"Workflow",security:"Security",ok:"OK",apply:"Apply",search:"Search",clear:"Clear",copy:"Copy",recompileAll:"Recompile all",yes:"Yes",no:"No",importFromAd:"Import from AD",format:"Format",showdata:"Show Data"},collectioneditor:{add:"Add",delete:"Delete",addchild:"Add child"},upload:{dropzoneText:"Drop files here to upload"},workflowbar:{setstate:"Set state",selectscheme:"Select scheme"},column:{code:"Code",name:"Name",type:"Type",template:"Template"},field:{code:"Code",name:"Name",type:"Type",comment:"Comment",attributes:"Attributes",triggers:"Triggers",action:"Action",parameter:"Parameter",changes:"Changes",readonly:"ReadOnly",loadstrategy:"Loading strategy",auto:"Auto",load:"Load",lazyload:"Lazy Load"},license:{expipedlabel:"License expired",freeupdatedatalabel:"Free update date",licensechecktype:"License check type",licenseholder:"License holder",uploadlicenseorcreatenew:{youcan:"You can",uploadalicense:"upload a license",orcreate:"or create",requestnewlicense:"request a new license"},instances:"Instances",threads:"Threads",users:"Users",forms:"Forms",workflow:"Workflow"},settings:{name:"Name",description:"Description",defaultform:"Default form",defaultmobileform:"Default mobile form",defaulttheme:"Default theme",defaultrtl:"Default RTL for new users",datasequences:"Data Sequences ",unlock:"Unlock",value:"Value"},plugins:{basicplugin:{header:"Basic Plugin",name:"Name",value:"Value",parentmodel:"Parent model",childmodel:"Child model",customrefcolumn:"Custom reference column",mailserver:"Mail Server",port:"Port",login:"Login",password:"Password",fromaddress:"From Address"},workflowplugin:{header:"Workflow Plugin",inoutboxfeature:"Inbox/Outbox feature",statecolumn:"State column in an Entity with workflow",localizedstatecolumn:"Localized State column in an Entity with workflow",deleteworkflow:"Delete workflow processes after an entity has been deleted",datamodelsforcontrolling:"Data models for controlling workflow deletion",enabletranshist:"Enable Transition History",datamodelforstoring:"Data models for storing transition history"},notificationplugin:{header:"Notification Plugin",objectcounts:"Object counts for app.extra values",name:"Name",datamodel:"DataModel",filter:"Filter",parameter:"Parameter"}},codeaction:{title:"Code actions",defineonservercolumn:"Defined on Server",defineonservermsg:"This object is defined on server. You can't edit it in the admin panel.",defineonserverblockdeletemsg:"One of the objects that is being deleted is defined on server. Your can't delete it in the admin panel.",usingsfield:"Usings",filter:"Filter",action:"Action",trigger:"Trigger",isasync:"IsAsync"},data:{title:"Data model",dbobjectfield:"DB Object",schemenamefield:"Scheme name",primarykeyfield:"Primary key",isdeletedfield:"Logical delete attribute",lockversionfield:"Optimistic lock attribute",refentityfield:"Reference entity",datatypefield:"Data type",optionsfield:"Options",nullablefield:"Nullable",virtualfield:"Virtual",extensionfield:"Extension",calculatefield:"Calculate",columnfield:"Column",reffield:"Reference",customDataSourcefield:"Custom Data Source",addattbutton:"Add an attribute",noattributesmsg:"This data model has no attributes.",forcreatetingattmsg:"for creating attributes.",notriggersmsg:"This object has no triggers.",forcreatetingtriggersmsg:"for creating triggers.",addtrigger:"Add a trigger",extensionscontainerfield:"Extensions container",showextensioncolumnsonly:"Show extension columns only",notsetprimarykeymsg:"There is not set the Primary Key field. Some of features for this data model will not work.",notfoundprimarykeymsg:"The Primary Key attribute is not found!",notfoundprimaryextcontmsg:"The Extensions container attribute is not found!",nameexistsmsg:"Data model with this name already exists",modefield:"Mode",standardmode:"Standard Mode",simplifiedmode:"Simplified Mode",workflowschemefield:"Workflow scheme"},datasync:{title:"Sync with Database",analysingmsg:"Click here for DB analysis...",noneedsyncmsg:"The data model and database are synchronized.",analysingagainmsg:"Analysing DB again.",changedtypefield:"Changed type",changestypenew:"New",changetypechanged:"Changed",changetypedeleted:"Deleted",showsystemtables:"Show system tables",chages:"Changes",searchanalyse:"Search & Analyse",searchInclude:"Search Include Pattern",searchExclude:"Search Exclude Pattern",searchTips:"You can use '*' for setting the pattern and commas(',') as dividers for your set of patterns.\nThis search is case-insensitive.\nAs an example 'doc', 'doc*,*group' or '*doc,user'."},form:{title:"Forms",datamap:"Data map",actionhandler:"Action Handler",preview:"Preview",builder:"Builder",viewer:"Viewer",clearformbutton:"Clear form",workflowschemesfield:"Workflow schemes",messagetitle:"Message",workflowwindowtitle:"Workflow",workflowinfoblock:"Here you can associate the form and one or more workflows.\nUse the Business flow object to map form with each workflow state.",securitywindowtitle:"Security",securityinfoblock:"Here you can associate the form and one group of permissions.\nMake sure that this group of permissions has View and Edit permissions and that you gave them access to the permissions.\nOtherwise, users will get the 'Access Denied' error when trying to open this form or change data",permissionsgroupfield:"Group of permissions",fullscreenbutton:"Fullscreen",template:"Template",open:"Open",modelwillbeoverwritten:"Data model bounded to this form will be overwritten",new:"New",existingwithcontrol:"Existing, with control",existingfromprevdatamodel:"From data model"},mobileform:{title:"Mobile forms",datamap:"Data map",actionhandler:"Action Handler",preview:"Preview",builder:"Builder",viewer:"Viewer",clearformbutton:"Clear form",workflowschemesfield:"Workflow schemes",messagetitle:"Message",workflowwindowtitle:"Workflow",workflowinfoblock:"Here you can associate the form and one or more workflows.\nUse the Business flow object to map form with each workflow state.",securitywindowtitle:"Security",securityinfoblock:"Here you can associate the form and one group of permissions.\nMake sure that this group of permissions has View and Edit permissions and that you gave them access to the permissions.\nOtherwise, users will get the 'Access Denied' error when trying to open this form or change data",permissionsgroupfield:"Group of permissions",fullscreenbutton:"Fullscreen",template:"Template",settings:"Settings",navigation:"Navigation",navigationtype:"Navigation Type",navigationtab:"Tab navigation",navigationdrawer:"Drawer navigation",navigationstack:"Stack navigation",defaultmobileform:"Default Mobile Form",namecol:"Name",titlecol:"Title",iconcol:"Icon",targetcol:"Target",menu:"Menu"},datamap:{title:"Mapping data model",builder:"Builder",actionhandler:"Action Handler",automappingbutton:"Auto mapping",resetmappingbutton:"Reset mapping",automappingcompleatemsg:"Auto mapping has been successful",nocontrolsonformmsg:"The form neither has any unattached controls nor uses auto mapping",dropzonemsg:"Drop controls here",moveitemsmsg:"Move items to data model fields.",placefortoncroltitle:"Control",loadfield:"Load",mainentityfield:"Main entity",entityfield:"Entity",mainentityps:"Select a data model",collectionentityfield:"Collection entity",collectionfilterfield:"Collection filter",dataSourceType:"Data source type",dataurlfield:"URL",actionfield:"Action",mismatchmodelmsg:"This form has mismatching in the data model. Check data mapping and click on Save button!",mainentitytriggers:"Main entity triggers",generatedatamodelbutton:"Generate data model",collections:"Collections",controls:"Controls",attributes:"Attributes",formanalyzereport:"Form analyze report",mainentitydatamodel:"Main entity data model",nullablefield:"Nullable",options:"Options",applyfield:"Apply",refentityfield:"Reference entity",warnings:"Warnings:",matertabletypeerrors:"Names of those controls match with predefined Master Table attributes, but their types are incompatible: ",matertabletypeerrorsadvice:". Either rename the controls or make sure that types are compatible.",collectiondatamodels:"Collection data models",referencedmodelnotfound:"Can't find referenced Data Model for those controls: ",checkvalidationerrors:"Please check validation errors before applying the report",nameexistsmsg:"Data model with this name already exists",duplicateNameInReport:"Duplicate data model names",nocontrolbounded:"No control was bounded to this collection. The collection will be fully loaded to clientside",propertynamepriority:"This control has a Property Name and it will have priority in data mapping",loadchildren:"Select all"},actionhandler:{title:"Action Handlers",datamap:"Data map",builder:"Builder",setdefaulttemplatebutton:"Set default template"},businessflow:{title:"Business flow",schemecolumn:"Scheme",defaultformcolumn:"DefaultForm",updatestatesbutton:"Update states",mappingfield:"Mapping",statescolumn:"States",rolescolumn:"Roles",formcolumn:"Form",anyroleitem:"Any role",anystateitem:"Any state",datefromcolumn:"Date From",datetocolumn:"Date To",nameexistsmsg:"Business flow with this name already exists"},commandform:{title:"Command form",nameexistsmsg:"Business flow with this name already exists",schemescolumn:"Schemes",mappingfield:"Mapping",formcolumn:"Form",commandscolumn:"Commands",maprequiredsmsg:"Please create the mapping",duplicatewildcardmappingmsg:"Duplicate '*' mapping",duplicatewildcardmappinginotherformmsg:function(e){return"Mapping '*' already exists in '"+e+"' command form"},duplicateonecommandmappingmsg:function(e){return"Duplicate single command mapping '"+e+"'"},duplicateonecommandmappinginotherformmsg:function(e,t){return"Single command mapping '"+e+"' already exists in '"+t+"' command form"},duplicatemulticommandmappingmsg:function(e){return"More than one multiple command mappings contain '"+e+"' command"},duplicatemulticommandmappinginotherformmsg:function(e,t){return"Multiple command mapping that contains '"+e+"' command already exists in '"+t+"' command form"},schemenotselectedmsg:function(e,t){return"Scheme '"+e+"' wasn't selected for this command form. Either remove '"+t+"' command or add this scheme."}},workflow:{title:"Workflow schemes",schemesaved:"The scheme has been saved",clearschemebutton:"Clear scheme",messagetitle:"Message"},workflowinstance:{title:"Manage instances",schemecolumn:"Scheme",statuscolumn:"Status",activitycolumn:"Activity",statecolumn:"State",setstatebutton:"Set state",setinstancestatusbutton:"Set instance status",activityfield:"Activity",statefield:"State",statechangedmsg:"Process state has been changed",instancestatuschangedmsg:"Instance status has been changed",copyprocessid:"Copy Process Id"},group:{title:"Manage groups",rolesfield:"Roles",syncwithdomainfield:"Sync with domain"},permission:{title:"Manage permissions",deletegroupbutton:"Delete group",createpermissionbutton:"Create a permission",creategroupbutton:"Create a group",managepermissionsfield:"Manage permissions"},role:{title:"Manage roles",resetbutton:"Reset",allowbutton:"Allow",denybutton:"Deny",inheritedtype:"Inherited",allowtype:"Allow",denytype:"Deny"},user:{title:"Manage users",emailfield:"Email",loginfield:"Login",lockedfield:"Locked",rtlfield:"RTL",domainloginfield:"Domain login",passwordfield:"Password",groupsfield:"Groups",rolesfield:"Roles",externalIdField:"ExternalId",localizationfield:"Localization",confirmimport:"Are you sure you want to import users from AD/LDAP?",importfinishedmsg:"Import finished",adimportresultheader:"AD/LDAP import result",groupimportresultmsg:function(e,t,n){return[e," group(s) were returned from the Directory. ",t," group(s) were added and ",n," group(s) were deleted."]},groupswithduplicatenamesmsg:"These group(s) weren't imported because group(s) with the same name already exist: ",userimportresultmsg:function(e,t,n,r){return[e," user(s) were returned from the Directory. ",t," user(s) were added, ",n," user(s) were updated and ",r," user(s) were locked."]},userswithduplicateloginmsg:"User(s) with these logins weren't imported because user(s) with same login(s) already exist: ",externallogins:"External logins"},localization:{title:"Localization",updatetemplatebutton:"Update template"},formbuilder:{clearbutton:"Clear",uploadbutton:"Upload",downloadbutton:"Download",toolbar:{sepContainers:"Containers",container:"Container",form:"Form",formgroup:"Form Group",menu:"Menu",workflowbar:"Workflow bar",customblock:"Custom block",sepCollection:"Collections",gridview:"GridView",collectioneditor:"Collection Editor",sepControls:"Controls",header:"Header",input:"Input",textarea:"TextArea",dictionary:"Dictionary",dropdown:"Dropdown",checkbox:"CheckBox",radiogroup:"Radio group",button:"Button",label:"Label",message:"Message",image:"Image",statistic:"Statistic",customcontrol:"Custom control",staticcontent:"Static Content",dropdowntrigger:"Dropdown trigger",sepCharts:"Charts",barchart:"Bar",linechart:"Line",scatterchart:"Scatter",doughnutchart:"Doughnut",piechart:"Pie",radarchart:"Radar"},preview:{dropzonetext:"Drag and drop a component..."},editforms:{base:{generaltab:"General",styletab:"Style",eventstab:"Events",othertab:"Other",widthfield:"Width",heightfield:"Height",margintopfield:"Margin Top",marginbottomfield:"Margin Bottom",marginleftfield:"Margin Left",marginrightfield:"Margin Right",customcssclassfield:"Custom CSS class",stylefield:"Style",hiddenfield:"Hidden",controlhasnoeventsmsg:"This control has no events.",eventsinfomsg:"These flags enable processing from this element.",requiredfield:"Required",defaultvaluefield:"Default value",customvalidationfield:"Custom Validation",visibleconditionfield:"Visible condition",readonlyconditionfield:"ReadOnly condition",savebutton:"Save",cancelbutton:"Cancel",okbutton:"OK",closebutton:"Close",sizedefault:"Default",sizemini:"Mini",sizetiny:"Tiny",sizesmall:"Small",sizemedium:"Medium",sizelarge:"Large",sizebig:"Big",sizehuge:"Huge",sizemassive:"Massive",attachednone:"None",attachedtop:"Top",attachedbottom:"Bottom",attachedtopright:"Top right",attachedtopleft:"Top left",attachedbottomleft:"Bottom left",attachedbottomright:"Bottom right",labeldefault:"Default",labelleft:"Left",labelright:"Right",labelleftcorner:"Left corner",labelrightcorner:"Right corner",closewithoutsavequestion:"Close without save?",questiontitle:"Question",onchangetimeout:"onChange timeout"},headerform:{namefield:"Name",sizefield:"Size",contentfield:"Content",textalignfield:"Text Align",textalignleft:"Left",textaligncenter:"Center",textalignright:"Right",subheaderfield:"Subheader"},buttonform:{namefield:"Name",typefield:"Type",typenonefield:"None",typesubmitfield:"Submit",sizefield:"Size",contentfield:"Content",optionsfield:"Options",basicfield:"Basic",circularfield:"Circular",compactfield:"Compact",disabledfield:"Disabled",fluidfield:"Fluid",invertedfield:"Inverted",loadingfield:"Loading",primaryfield:"Primary",secondaryfield:"Secondary",togglefield:"Toggle",floatedfield:"Floated",floateddefaultfield:"Default",floatedleftfield:"Left",floatedrightfield:"Right"},labelform:{namefield:"Name",attachedfield:"Attached",contentfield:"Content",sizefield:"Size",optionsfield:"Options",basicfield:"Basic",circularfield:"Circular",cornerfield:"Corner",floatingfield:"Floating",horizontalfield:"Horizontal",pointingfield:"Pointing"},staticcontentform:{namefield:"Name",fontsizefield:"Font size",contentfield:"Content",allowhtmlfield:"Allow HTML"},messageform:{namefield:"Name",headerfield:"Header",optionsfield:"Options",compactfield:"Compact",errorfield:"Error",floatingfield:"Floating",infofield:"Info",negativefield:"Negative",positivefield:"Positive",successfield:"Success",warningfield:"Warning",contentfield:"Content",sizefield:"Size"},inputform:{namefield:"Name",labelfield:"Label",typefield:"Type",typetext:"Text",typenumber:"Number",typedate:"Date",typetime:"Time",typedatetime:"Date & Time",typepasswod:"Password",labelpositionfield:"Label position",optionsfield:"Options",loadingfield:"Loading",invertedfield:"Inverted",errorfield:"Error",disabledfield:"Disabled",transparentfield:"Transparent",fluidfield:"Fluid",readonlyfield:"Read only",placeholderfield:"Placeholder",sizefield:"Size",dateformatfield:"Date Format"},textareaform:{namefield:"Name",labelfield:"Label",rowsfield:"Rows",optionsfield:"Options",placeholderfield:"Placeholder",autoheightfield:"Auto height",readonlyfield:"Read only"},checkboxform:{namefield:"Name",labelfield:"Label",optionsfield:"Options",fittedfield:"Fitted",indeterminatefield:"Indeterminate",readonlyfield:"ReadOnly",disabledfield:"Disabled",sliderfield:"Slider",togglefield:"Toggle"},dropdownform:{namefield:"Name",labelfield:"Label",datafield:"Data",datakeycolumn:"Key",datavaluecolumn:"Value",datatextcolumn:"Text",optionsfield:"Options",loadingfield:"Loading",errorfield:"Error",disabledfield:"Disabled",fluidfield:"Fluid",multiplefield:"Multiple",searchfield:"Search",selectionfield:"Selection",readonlyfield:"Read only",clearablefield:"Clearable",allowAddItemsfield:"Allow add items"},dictionaryform:{namefield:"Name",labelfield:"Label",datamodelfield:"Data model",placeholderfield:"Placeholder",columnsfield:"Columns (Name ASC, Email)",optionsfield:"Options",loadingfield:"Loading",errorfield:"Error",disabledfield:"Disabled",fluidfield:"Fluid",multiplefield:"Multiple",searchfield:"Search",selectionfield:"Selection",readonlyfield:"Read only",clearablefield:"Clearable"},radiogroupform:{namefield:"Name",labelfield:"Label",datafield:"Data",datakeycolumn:"Key",datavaluecolumn:"Value",datatextcolumn:"Text",groupdirectfield:"Group direct",directiongorizontalfield:"Gorizontal",directionverticalfield:"Vertical",readonlyfield:"Read only"},form:{namefield:"Name",sizefield:"Size",optionsfield:"Options",loadingfield:"Loading",errorfield:"Error",invertedfield:"Inverted",replyfield:"Reply",successfield:"Success",warningfield:"Warning"},formgroupform:{namefield:"Name",widthsfield:"Widths",widthsdefaultfield:"Default",widthsequalfield:"Equal",widthscustomfield:"Custom (1 - 16)",typefield:"Type",orientationcolumnsfield:"Columns",orientationrowsfield:"Rows"},containerform:{namefield:"Name",floatfield:"Float",floatnonefield:"None",floatleftfield:"Left",floatrightfield:"Right"},imageform:{namefield:"Name",srcfield:"Src",hreffield:"Href",optionsfield:"Options",avatarfield:"Avatar",borderedfield:"Bordered",centeredfield:"Centered",disabledfield:"Disabled",inlinefield:"Inline",spacedfield:"Spaced",floatedfield:"Floated",floatedleftfield:"Left",floatedrightfield:"Right",verticalalignfield:"Vertical align",verticalaligntopfield:"Top",verticalalignmiddlefield:"Middle",verticalalignbottomfield:"Bottom"},statisticform:{namefield:"Name",optionsfield:"Options",floatedfield:"Floated",horizontalfield:"Horizontal",datafield:"Data",sizefield:"Size"},gridform:{namefield:"Name",optionsfield:"Options",multiselectfield:"Multiselect",filterrowfield:"Filter row",disablesortfield:"Disable sorting",editformfield:"Edit form",editformshowtypefield:"Edit form show type",editformtypedefaultfield:"Default",editformtypemodalfield:"Modal",columnsfield:"Columns",keycolumn:"Key",namecolumn:"Name",typecolumn:"Type",widthcolumn:"Width",resizablecolumn:"Resizable",rowkeyfield:"Row key",pagertypefield:"Pagination type",pagertypenonefield:"None",pagertypeserverfield:"Server",pagesizefield:"Page size",defaultsortfield:"Default sort",rowheightfield:"Row height",minheightfield:"Min height",autoheightfield:"Auto Height",offsetfield:"OffSet",editType:"Edit type",editflowfield:"Edit flow",editworkflowfield:"Edit workflow"},collectioneditorform:{namefield:"Name",idfield:"Id field",optionsfield:"Options",readonlyfield:"ReadOnly",draggablefield:"Draggable",hierarchicalfield:"Hierarchical",collapseallfield:"Collapse all",parentidfield:"ParentId field",columnsfield:"Columns",keycolumn:"Key",namecolumn:"Name",controlcolumn:"Control",widthcolumn:"Width",disableAdd:"Disable Add",childrenField:"Children field"},customform:{namefield:"Name",typefield:"Type control",propsfield:"Props",childrenfield:"Children"},customblockform:{namefield:"Name",sourcetypefield:"Source type",sourcetypeformfield:"Form name",sourcetypejsonfield:"JSON source",formnamefield:"Form name",sourcefield:"JSON source",placeholderfield:"Placeholder"},menuform:{namefield:"Name",activeitemfield:"Active Item",itemsfield:"Items",itemstargetcolumn:"Target",itemstitlecolumn:"Title",optionsfield:"Options",pointingfield:"Pointing",secondaryfield:"Secondary",tabularfield:"Tabular",fluidfield:"Fluid",verticalfield:"Vertical",linkfield:"Link",visibleConditioncolumn:"Visible Condition"},dropdowntriggerform:{namefield:"Name",defaultvaluefield:"Default Value",itemsfield:"Items",itemstargetcolumn:"Target",itemstitlecolumn:"Title",itemsvisibleconditioncolumn:"Visible Condition",imageurlfield:"ImageUrl"},chartform:{namefield:"Name",titlefield:"Title",titlesizefield:"Title size",legendpositionfield:"Legend position",responsivefield:"Responsive",datasetcustomfield:"Dataset custom",datalabelsplaceholder:"Q1, Q2, Q3, Q4",datalabelsfield:"Data labels",datasetlabelfield:"Dataset Label",datasetbackgroundcolorfield:"Dataset BackgroundColor"},workflowform:{namefield:"Name",setstatebuttonfield:"Set state button",blocksetstatefield:"Block SetState"},uploadform:{namefield:"Name",iconFiletypes:"Icon file types",customPostUrl:"Custom post url",showFiletypeIcon:"Show file type icon",autoProcessQueue:"Auto process queue",addRemoveLinks:"Add remove links",multile:"Multiple file upload"},breadcrumbform:{namefield:"Name",itemsfield:"Items",itemstextcolumn:"Text",itemsurlcolumn:"Url",itemsactivecolumn:"Active",itemsiconcolumn:"Divider Icon"},searchform:{namefield:"Name",urlfield:"Url",categoryfield:"Enable Categories"},confirm:{title:"Confirm",text:"Please confirm the action",ok:"Ok",cancel:"Cancel"},treepicker:{ok:"Ok",cancel:"Cancel",search:"Search",selectAll:"Select all",removeAll:"Remove all",loadingData:"Loading data",selected:"Selected"}}},dashboard:{integrationapi:"Integration API",integrationapiswagger:"OpenAPI 2.0 (Swagger)integration API description:",settingsMain:"Main",exportsettings:"Download configuration",importsettings:"Upload configuration",developermode:"Developer Mode",license:"License",settings:"Settings",plugins:"Plugins",configerror:"Error while downloading configuration archive",paramsrequired:"Parameters are required!",internalerror:"Internal error: ",prevconfigcreated:"Previous configuration backup was successfully created",configof:"Configuration of ",successupdated:" successfully updated.",devmodeon:"Developer mode is turned on",devmodeoff:"Developer mode is turned off",securitysaved:"Security saved in file system",securityremoved:"Security removed from file system",fullreplaceconfig:"Remove current configuration before applying new one",selecttoapply:"Select configurations you want to apply:",selecttodownload:"Select configurations you want to download:",selectall:"Select all",forms:"Forms",localization:"Localization",mobileforms:"Mobile forms",workflow:"Workflow",metadata:"Metadata",security:"Security",appsettings:"App settings",upload:"Upload",download:"Download",cancel:"Cancel",addpasswordhash:"Add users' password hash",withproblems:"But there are problems: ",moreinfoconsole:"More information in developer console"},resourceeditor:{title:"Resource Editor",createfolder:"Create folder",createfile:"Create file",confirmdelete:"Are you sure you want to delete this folder or file?",foldercreated:"The folder has been created",folderdeleted:"The folder has been deleted",filecreated:"The file has been created",filedeleted:"The file has been deleted"},integration:{accessToken:"API Access Token",accessTokenInfo:"You should add 'token' parameter to each workflowapi request.",generate:"Generate"},datasources:{title:"Manage external data sources",name:"Name",connectionstring:"ConnectionString",create:"Create an external source",test:"Test",provider:"Provider",providerMSSQL:"MS SQL Server",providerOracle:"Oracle",providerPostgres:"Postgres",providerWebService:"Web Service",connectionString:"ConnectionString",connectionSuccess:"Connection successful"},modal:{creatingheader:"Creating",createaprocessheader:"Create a process"}};window.DWKitMergeLang=function(e){return b(_,e)};var t=n(29),O=n.n(t);function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function D(e,t){return(D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function x(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=P(n);return e=r?(e=P(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==S(e)&&"function"!=typeof e?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var L="dwkitadmin_locale",R=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D(e,t)}(o,V.a.Component);var e,t,n,r=x(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this,e)).state={},t.init(e.folder,e.locale),t}return e=o,(t=[{key:"render",value:function(){return Array.isArray(this.state.options)?V.a.createElement("div",{className:"localization"},V.a.createElement(w.Dropdown,{selection:!0,options:this.state.options,value:this.state.locale,onChange:this.onChange.bind(this)})):V.a.createElement("div",null)}},{key:"init",value:function(e,o){var a;null!=e&&(a=this,O()(e+"localization_manifest.json").then(function(e){return e.json()}).then(function(e){var t=[],n=0;e.langs.forEach(function(e){t.push({key:n,value:e.locale,flag:e.flag||e.locale,text:e.name}),n++});var r=o;null!=(r=null==r||""==r?a.getCookie(L):r)&&""!=r||(r="en"),a.state.options=t,a.state.langs=e.langs,a.registerLocale(r),a.forceUpdate()}))}},{key:"registerLocale",value:function(e){var t=this;if(null!=t.state.locale||"en"!=e){var n,r=t.state.langs,o=void 0;for(n in r)if(r[n].locale==e){o=r[n];break}null!=o&&(Array.isArray(o.scripts)&&o.scripts.forEach(function(e){t.loadScript(t.props.folder+e)}),t.setCookie(L,e))}t.setState({locale:e}),null!=t.props.parent&&setTimeout(function(){window.DWKitAdminLang=b(_,window.DWKitAdminLang),t.props.parent.forceUpdate();var e={command:"admin.changeLang",data:{lang:JSON.stringify(window.DWKitAdminLang)}};window.postMessage(e,window.location.href)},200)}},{key:"onChange",value:function(e,t){t.value!=this.state.locale&&this.registerLocale(t.value)}},{key:"getCookie",value:function(e){e=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return e?decodeURIComponent(e[1]):void 0}},{key:"setCookie",value:function(e,t,n){var r,o=(n=n||{}).expires;"number"==typeof o&&o&&((r=new Date).setTime(r.getTime()+1e3*o),o=n.expires=r),o&&o.toUTCString&&(n.expires=o.toUTCString());var a,i=e+"="+(t=encodeURIComponent(t));for(a in n){i+="; "+a;var l=n[a];!0!==l&&(i+="="+l)}document.cookie=i}},{key:"loadScript",value:function(e){var t=document.createElement("script");t.async=!1,t.src=e,document.getElementsByTagName("body")[0].appendChild(t)}}])&&A(e.prototype,t),n&&A(e,n),o}(),j=n(30),T=n(31),F=n(32),t=n(9),N=n.n(t);function I(e){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function M(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function B(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?M(Object(n),!0).forEach(function(e){G(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function W(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function U(e,t){return(U=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function K(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=q(n);return e=r?(e=q(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==I(e)&&"function"!=typeof e?z(t):e}}function z(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function q(e){return(q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function G(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var H=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&U(e,t)}(o,v["a"]);var e,t,n,r=K(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),G(z(t=r.call(this,e)),"getCurrentDir",function(){var e=void 0;return e=t.state.item?t.state.item.isDirectory?t.state.item:t.getParentDir(t.state.item):e}),t.state={popup:{show:!1}},t}return e=o,(t=[{key:"componentDidMount",value:function(){this.openPath(this.getCurrentPath())}},{key:"render",value:function(){var t=this,o=this;if(this.state.error)return V.a.createElement("div",null,this.state.errorMsg);var e=window.innerHeight-200;e<400&&(e=400);var n;null!=this.state.popup.errors&&(n=V.a.createElement(w.Message,{negative:!0},V.a.createElement("p",null,this.state.popup.errors)));var r,a,i=void 0;return null!=this.state.imgcontent?i=V.a.createElement("div",{className:"dwkit-admin-resourceimg"},this.state.item&&this.state.item.id&&V.a.createElement("div",null,V.a.createElement("b",null,"/",this.state.item.id),V.a.createElement("br",null),V.a.createElement("br",null)),V.a.createElement("img",{src:this.state.imgcontent})):null!=this.state.item&&!this.state.item.isDirectory||(r={postUrl:o.props.apiUrl,iconFiletypes:[".jpg",".png",".css",".js"],showFiletypeIcon:!0},a={autoProcessQueue:!0,params:{operation:"resources",suboperation:"filecreate"}},this.props.parent.bearerHeader&&(a.headers={Authorization:this.props.parent.bearerHeader}),i=V.a.createElement("div",{className:"dwkit-admin-resourceupload"},V.a.createElement(N.a,{config:r,eventHandlers:{init:function(e){return t.dropzone=e},sending:function(e,t,n){var r=o.getCurrentDir(),e=r?r.id+"\\"+e.name:e.name;n.append("id",e)},complete:function(){o.loadDir(o.state.item)}},djsConfig:a}))),V.a.createElement("div",null,V.a.createElement("h1",null,DWKitAdminLang.resourceeditor.title),V.a.createElement("div",{className:"dwkit-admin-form-buttons"},V.a.createElement(w.Button,{className:"buttontype2",onClick:function(){o.setState({popup:{show:!0,type:"dir"}})}},DWKitAdminLang.resourceeditor.createfolder),V.a.createElement(w.Button,{className:"buttontype2",onClick:function(){o.setState({popup:{show:!0,type:"file"}})}},DWKitAdminLang.resourceeditor.createfile),this.state.item&&V.a.createElement(w.Button,{className:"buttontype2",style:{marginRight:10},onClick:function(){o.setState({confirmdeleteshow:!0})}},DWKitAdminLang.button.delete),V.a.createElement(w.Button,{className:"buttontype1",style:{display:this.state.haschanges?"":"none"},onClick:this.onSave.bind(this)},DWKitAdminLang.button.save),V.a.createElement(w.Button,{className:"buttontype2",style:{display:this.state.haschanges?"":"none"},onClick:this.onCancel.bind(this)},DWKitAdminLang.button.cancel)),V.a.createElement("div",{className:"dwkit-admin-resourcelist"},this.renderList(this.state.items,!0)),i,V.a.createElement("div",{id:"dwkit-admin-resourceeditor",style:{height:e,display:null==this.state.content?"none":""}}),V.a.createElement(w.Modal,{dimmer:"blurring",open:this.state.popup.show},V.a.createElement(w.Modal.Header,null,DWKitAdminLang.modal.creatingheader),V.a.createElement(w.Modal.Content,null,V.a.createElement(w.Form,null,n,V.a.createElement(w.Form.Input,{key:"name",name:"newobjectname",label:DWKitAdminLang.field.name,required:!0,value:this.state.popup.name,onChange:this.handlePopupChange.bind(this),error:null!=this.state.popup.errors}))),V.a.createElement(w.Modal.Actions,null,V.a.createElement(w.Button,{className:"buttontype1",content:DWKitAdminLang.button.create,onClick:this.onCreateItem.bind(this)}),V.a.createElement(w.Button,{className:"buttontype2",content:DWKitAdminLang.button.cancel,onClick:function(){o.setState({popup:{show:!1}})}}))),V.a.createElement(w.Confirm,{open:this.state.confirmdeleteshow,dimmer:"blurring",content:DWKitAdminLang.resourceeditor.confirmdelete,onCancel:function(){o.setState({confirmdeleteshow:!1})},onConfirm:this.onDelete.bind(this)}))}},{key:"handlePopupChange",value:function(e,t){t.name;var n=t.value;t.checked;this.setState({popup:B(B({},this.state.popup),{},{name:n})})}},{key:"renderList",value:function(e,t){if(null!=e){var r=this,o=[];t&&o.push(V.a.createElement(w.List.Item,{key:"root"},V.a.createElement(w.List.Icon,{name:"folder"}),V.a.createElement(w.List.Content,null," ",V.a.createElement("a",{href:"#",onClick:r.onItemClick.bind(r,void 0)},"...")," ")));var a=r.getCurrentPath();return e.forEach(function(e){var t="#"+e.id,n=V.a.createElement("a",{href:t,onClick:r.onItemClick.bind(r,e)},e.name);a==t&&(n=V.a.createElement("b",null,n)),e.isDirectory?o.push(V.a.createElement(w.List.Item,{key:e.id},V.a.createElement(w.List.Icon,{name:"folder"}),V.a.createElement(w.List.Content,null,V.a.createElement(w.List.Header,null,n),e.children&&r.renderList(e.children)))):o.push(V.a.createElement(w.List.Item,{key:e.id},V.a.createElement(w.List.Icon,{name:"file text outline"}),V.a.createElement(w.List.Content,null," ",n," ")))}),V.a.createElement(w.List.List,null,o)}}},{key:"onItemClick",value:function(e){var t;this.state.item=e,this.state.haschanges=!1,this.state.content=void 0,this.state.imgcontent=void 0,null!=e?e.isDirectory?null!=e.children?(e.children=void 0,t=this.getParentDir(e),setTimeout(function(){document.location.hash=null!=t?t.id:""},100),this.forceUpdate()):this.loadDir(e):this.openFile(e.id):this.loadDir(void 0)}},{key:"loadDir",value:function(t,n){var r=this;this.sendRequest("dirload",null==t?"":t.id,function(e){e.success?(null==t?r.state.items=e.item:t.children=e.item,null!=n&&n(e.item),r.forceUpdate()):alertify.error(e.message)})}},{key:"openFile",value:function(e){var t=this,n=void 0;this.state.content=void 0,this.redrawEditor();var r=e.lastIndexOf(".");"png"==(n=0<r?e.substring(r+1,e.length):n)||"jpg"==n||"jpeg"==n||"bmp"==n||"ico"==n?this.sendRequest("fileloadbase64",e,function(e){e.success?(t.state.imgcontent="data:image/"+n+";base64,"+e.item,t.state.content=void 0,t.state.haschanges=!1,t.forceUpdate()):alertify.error(e.message)}):this.sendRequest("fileload",e,function(e){e.success?(t.state.imgcontent=void 0,t.state.content=e.item,t.state.haschanges=!0,t.redrawEditor(n),t.forceUpdate()):alertify.error(e.message)})}},{key:"onSave",value:function(){var t=this,e=[],n=this.editor.getValue();e.push({name:"content",value:n}),this.sendRequest("fileupdate",t.state.item.id,function(e){e.success?(t.openFile(t.state.item.id),alertify.success(DWKitAdminLang.msg.saveok)):alertify.error(e.message)},e)}},{key:"onCancel",value:function(){this.redrawEditor()}},{key:"openPath",value:function(e){var n,r,o=this,a=void 0;null!=e&&""!=e&&("#"==e[0]&&(e=e.substring(1,e.length)),r=[],0<(r=0<e.indexOf("/")?e.split("/"):0<e.indexOf("\\")?e.split("\\"):[e]).length&&(n=0,a=function(e){if(0!=e.length)for(var t=0;t<e.length;t++)if(e[t].name==r[n]){if(o.state.item=e[t],e[t].isDirectory){o.state.item=e[t],o.loadDir(e[t],a),n++;break}return void o.openFile(e[t].id)}})),this.loadDir(void 0,a)}},{key:"redrawEditor",value:function(e){var t;0<$("#dwkit-admin-resourceeditor").length&&(null==this.editor&&(this.editor=ace.edit("dwkit-admin-resourceeditor")),null!=e&&(t="","js"==e?t="ace/mode/javascript":"jsx"==e?t="ace/mode/jsx":"cs"==e?t="ace/mode/csharp":"css"==e?t="ace/mode/css":"svg"==e?t="ace/mode/svg":"xml"==e?t="ace/mode/xml":"html"==e&&(t="ace/mode/html"),this.editor.getSession().setMode(t)),t=this.state.content,this.editor.setValue(t=null==t?"":t,-1))}},{key:"onCreateItem",value:function(){var e=this.state.popup.name;""!=e&&null!=e?("dir"==this.state.popup.type?this.createDirectory(e):this.createFile(e),this.setState({popup:{show:!1}})):this.setState({popup:B(B({},this.state.popup),{},{errors:DWKitAdminLang.msg.fieldrequired})})}},{key:"createDirectory",value:function(e){var t=this,n=void 0,e=null==(n=null!=this.state.item?this.state.item.isDirectory?this.state.item:this.getParentDir(this.state.item):n)?e:n.id+"\\"+e;this.sendRequest("dircreate",e,function(e){e.success?(t.loadDir(n),alertify.success(DWKitAdminLang.resourceeditor.foldercreated)):alertify.error(e.message)})}},{key:"createFile",value:function(e,t){var n=this,r=this.getCurrentDir(),o=[];null!=t&&o.push({name:"content",value:t});e=null==r?e:r.id+"\\"+e;this.sendRequest("filecreate",e,function(e){e.success?(alertify.success(DWKitAdminLang.resourceeditor.filecreated),document.location.hash=null==r?"":r.id,n.state.item=r,n.state.content=void 0,n.state.haschanges=!1,n.loadDir(r)):alertify.error(e.message)},o)}},{key:"onDelete",value:function(){var t,n,r=this;null!=this.state.item&&(t=this.state.item.isDirectory?"dirdelete":"filedelete",n=this.getParentDir(this.state.item),this.sendRequest(t,this.state.item.id,function(e){e.success?(r.state.imgcontent=void 0,r.state.content=void 0,r.state.haschanges=!1,r.state.item=n,document.location.hash=null==n?"":n.id,r.loadDir(n),r.forceUpdate(),alertify.success("dirdeleted"==t?DWKitAdminLang.resourceeditor.folderdeleted:DWKitAdminLang.resourceeditor.filedeleted)):alertify.error(e.message)}),this.setState({confirmdeleteshow:!1}),window.location.hash=null!=n?n.id:"")}},{key:"getParentDir",value:function(e,t){var n=void 0;if(null!=(n=null==t?this.state.items:t.children))for(var r=0;r<n.length;r++){if(n[r].id==e.id)return t;if(null!=n[r].children){var o=this.getParentDir(e,n[r]);if(null!=o)return o}}}},{key:"sendRequest",value:function(e,t,n,r){var o=new Array;this.state.id=t,o.push({name:"operation",value:"resources"}),o.push({name:"suboperation",value:e}),o.push({name:"id",value:t}),null!=r&&r.forEach(function(e){o.push(e)}),$.ajax({url:this.props.apiUrl,data:o,async:!0,type:"post",success:function(e){n(e),Pace.stop()}})}},{key:"getCurrentPath",value:function(){return window.location.hash}}])&&W(e.prototype,t),n&&W(e,n),o}(),Q=n(6);function J(e){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function X(e,t){return(X=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Z(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=ee(n);return e=r?(e=ee(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==J(e)&&"function"!=typeof e?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}}function ee(e){return(ee=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var te=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&X(e,t)}(o,v["a"]);var e,t,n,r=Z(o);function o(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(e=r.call(this,e)).state={},e}return e=o,(t=[{key:"validate",value:function(){return this.props.parent.validate()}},{key:"render",value:function(){this.validate();var e=this.props.metadata.forms,t=[];if(null!=e)for(var n=0;n<e.length;n++){var r=e[n];t.push({text:r.code,value:r.code})}var o=this.props.metadata.dataModel,a=[];if(null!=o)for(n=0;n<o.length;n++){var i=o[n];a.push({text:i.name,value:i.id})}var l=this.props.metadata.codeActions,s=[];if(null!=l)for(n=0;n<l.length;n++){var c=l[n];s.push({text:c.name,value:c.id})}var u=this.props.metadata.workflow,p=[];if(null!=u)for(n=0;n<u.length;n++){var d=u[n];p.push({text:d.code,value:d.code})}var f=this.props.metadata.businessFlow,m=[];if(null!=f)for(n=0;n<f.length;n++){d=f[n];m.push({text:d.name,value:d.id})}var h=this.props.metadata.roles,y=[];if(null!=h)for(n=0;n<h.length;n++){d=h[n];y.push({text:d.name,value:d.id})}var b=null==this.props.data?[]:this.props.data;this.correctData(b);var g=this.props.onSave.bind(this.props.parent),v=this.props.onCancel.bind(this.props.parent);return V.a.createElement("div",{className:"dwkit-formadmin-formedit"},V.a.createElement(w.Breadcrumb,null,V.a.createElement(w.Breadcrumb.Section,{onClick:this.props.parent.back.bind(this.props.parent),link:!0},"Modules"),V.a.createElement(w.Breadcrumb.Divider,null),V.a.createElement(w.Breadcrumb.Section,{active:!0},b.name)),V.a.createElement("div",{className:"dwkitadmin-toolbar-editform"},V.a.createElement(w.Button,{className:"buttontype1",onClick:g},DWKitAdminLang.button.save),V.a.createElement(w.Button,{className:"buttontype2",onClick:v},DWKitAdminLang.button.cancel)),V.a.createElement("h1",null,this.props.parent.title),V.a.createElement(w.Form,null,V.a.createElement(w.Form.Input,{name:"name",label:DWKitAdminLang.field.name,error:Boolean(b.__error.name),value:b.name,onChange:this.handleChange.bind(this,b)}),V.a.createElement(w.Form.TextArea,{autoHeight:!0,name:"commnet",label:"Comment",error:Boolean(b.__error.comment),onChange:this.handleChange.bind(this,b)}),V.a.createElement("h1",null,"Objects"),V.a.createElement(w.Form.Group,{widths:"equal"},V.a.createElement(w.Form.Dropdown,{label:"Roles",error:Boolean(b.__error.roles),name:"roles",search:!0,options:y,multiple:!0,value:b.roles,onChange:this.handleChange.bind(this,b)}),V.a.createElement(w.Form.Dropdown,{label:"Business flow",error:Boolean(b.__error.businessFlows),name:"businessFlows",search:!0,options:m,multiple:!0,value:b.businessFlows,onChange:this.handleChange.bind(this,b)})),V.a.createElement(w.Form.Group,{widths:"equal"},V.a.createElement(w.Form.Dropdown,{label:"Forms",name:"forms",error:Boolean(b.__error.forms),search:!0,options:t,multiple:!0,value:b.forms,onChange:this.handleChange.bind(this,b)}),V.a.createElement(w.Form.Dropdown,{label:"Worflow schemes",error:Boolean(b.__error.schemes),name:"schemes",search:!0,options:p,multiple:!0,value:b.schemes,onChange:this.handleChange.bind(this,b)})),V.a.createElement(w.Form.Group,{widths:"equal"},V.a.createElement(w.Form.Dropdown,{label:"Entities",error:Boolean(b.__error.entities),name:"entities",search:!0,options:a,multiple:!0,value:b.entities,onChange:this.handleChange.bind(this,b)}),V.a.createElement(w.Form.Dropdown,{label:"CodeActions",error:Boolean(b.__error.codeActions),name:"codeActions",search:!0,options:s,multiple:!0,value:b.codeActions,onChange:this.handleChange.bind(this,b)}))))}},{key:"correctData",value:function(e){null==e.roles&&(e.roles=[]),null==e.businessFlows&&(e.businessFlows=[]),null==e.forms&&(e.forms=[]),null==e.schemes&&(e.schemes=[]),null==e.entities&&(e.entities=[]),null==e.codeActions&&(e.codeActions=[])}},{key:"handleChange",value:function(e,t,n){var r=n.name,o=n.value,n=n.checked;e[r];e[r]=null==o?n:o,this.setUpdatedState(this.props.data),this.forceUpdate()}}])&&Y(e.prototype,t),n&&Y(e,n),o}();function ne(e){return(ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function re(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function oe(e,t){return(oe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ae(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=ie(n);return e=r?(e=ie(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==ne(e)&&"function"!=typeof e?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}}function ie(e){return(ie=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var le=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oe(e,t)}(o,Q["a"]);var e,t,n,r=ae(o);function o(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(e=r.call(this,e)).dataindex="modules",e.panelindex="modules",e.idfield="id",e.editform=te,e.title="Modules",e.datatype="modules",e}return e=o,(t=[{key:"gridColumns",value:function(){return[{key:"name",name:DWKitAdminLang.column.name,resizable:!0}]}},{key:"validate",value:function(){var e=!0,t=this.state.editrow,n=DWKitAdminLang.msg.fieldrequired;return t.__error={name:null==t.name||""==t.name?n:void 0},e&=null==t.__error.name}}])&&re(e.prototype,t),n&&re(e,n),o}(),se=n(8);function ce(e){return(ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ue(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pe(e,t){return(pe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function de(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=fe(n);return e=r?(e=fe(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==ce(e)&&"function"!=typeof e?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}}function fe(e){return(fe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var me=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pe(e,t)}(o,v["a"]);var e,t,n,r=de(o);function o(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),r.call(this,e)}return e=o,(t=[{key:"render",value:function(){var e=this.props.data,t=[];this.props.types.forEach(function(e){t.push({value:e,text:e})});for(var n=[],r=0;r<e.length;r++){var o=e[r],a=null==o.__error?{}:o.__error,i="trigger_"+r,l=this.props.suggestions||this.actionParameterSuggestions(this.props.dataMap),o=V.a.createElement(w.Form.Group,{key:i,widths:"equal",className:"dwkit-formadmin-item"},V.a.createElement(w.Form.Dropdown,{label:DWKitAdminLang.field.triggers,error:Boolean(a.triggers),name:"triggers",options:t,multiple:!0,selection:!0,fluid:!0,search:!0,value:o.triggers,onChange:this.handleChange.bind(this,o)}),V.a.createElement(w.Form.Dropdown,{key:"codeaction",label:DWKitAdminLang.field.action,name:"codeAction",selection:!0,fluid:!0,search:!0,options:this.props.codeactions,value:o.codeAction,onChange:this.handleChange.bind(this,o),error:Boolean(a.codeAction)}),V.a.createElement(se.a,{key:"parameter",name:"parameter",suggestions:l,label:DWKitAdminLang.field.parameter,value:o.parameter,onChange:this.handleChange.bind(this,o)}),V.a.createElement(w.Image,{className:"dwkit-buttonimage",key:"btndelete",src:"/images/dwkit-delete.png",onClick:this.onDelete.bind(this,r)}));n.push(o)}var s=!0;return 0==n.length&&(s=!1,n.push(V.a.createElement("div",{className:"dwkit-formadmin-info",key:"message"},DWKitAdminLang.data.notriggersmsg,V.a.createElement("br",null),DWKitAdminLang.msg.click," ",V.a.createElement("a",{key:"btnadd2",onClick:this.onAdd.bind(this)},DWKitAdminLang.msg.here)," ",DWKitAdminLang.data.forcreatetingtriggersmsg))),V.a.createElement("div",null,s&&V.a.createElement("a",{key:"btnadd",onClick:this.onAdd.bind(this)},DWKitAdminLang.data.addtrigger),n)}},{key:"handleChange",value:function(e,t,n){var r=n.name,o=n.value,n=n.checked;e[r]=null==o?n:o,null!=this.props.onChange&&this.props.onChange(void 0,{name:this.props.name,value:this.props.data}),this.forceUpdate()}},{key:"onAdd",value:function(){this.props.data.push({}),null!=this.props.onChange&&this.props.onChange(void 0,{name:this.props.name,value:this.props.data}),this.forceUpdate()}},{key:"onDelete",value:function(e){this.props.data.splice(e,1),null!=this.props.onChange&&this.props.onChange(void 0,{name:this.props.name,value:this.props.data}),this.forceUpdate()}},{key:"actionParameterSuggestions",value:function(e){var t=[];Array.isArray(e)&&e.forEach(function(e){e.isLoadable&&t.push({caption:e.attributeName,value:'"'+e.attributeName+'"',meta:"Form Column"})});e=function(e,t){return'"'+e+'": { "'+t+'" : { "Column": "Value" }}'};return t.push({caption:"_ForRole",value:e("_ForRole","RoleCode"),meta:"snippet"}),t.push({caption:"_ForGroup",value:e("_ForGroup","Group"),meta:"snippet"}),t.push({caption:"_ForPermission",value:e("_ForPermission","PermissionGroupCode.PermissionCode"),meta:"snippet"}),t}}])&&ue(e.prototype,t),n&&ue(e,n),o}(),he={STANDARD:0,SIMPLIFIED:1},ye={TABLE_NAME:"dwEntities",EXTENSION_CONTAINER:"Extensions",PRIMARY_KEY:"Id",WORKFLOW_SCHEME:"SchemeName"},be={DATA_MODEL:0,MASTER_TABLE:1},ge=n(5);function ve(e){return(ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ve(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function we(e,t){return(we=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ee(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=ke(n);return e=r?(e=ke(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==ve(e)&&"function"!=typeof e?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}}function ke(e){return(ke=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ce=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&we(e,t)}(o,v["a"]);var e,t,n,r=Ee(o);function o(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(e=r.call(this,e)).state={},e}return e=o,(t=[{key:"showDataColumns",value:function(){var t=[];return this.props.data&&Array.isArray(this.props.data.attributes)&&(this.props.data.attributes.forEach(function(e){t.push({key:e.name,name:e.name,resizable:!0,width:150})}),this.state.isSimplified&&(this.props.metadata.additionalParams&&this.props.metadata.additionalParams.MasterTableAttributes?this.props.metadata.additionalParams.MasterTableAttributes:[]).forEach(function(e){t.push({key:e.name,name:e.name+"*",resizable:!0,width:150})})),t}},{key:"onFilterChange",value:function(e,t){t.name;t=t.value;this.setState({filter:t})}},{key:"onShowDataRefresh",value:function(){this.showDataGrid.refresh()}},{key:"getAdditionalDataForControl",value:function(e,t,n){var r=t.startIndex,o=t.pageSize,a=(t.filters,t.sort),i=this,t=new Array;t.push({name:"operation",value:"datamodalload"}),t.push({name:"skip",value:r}),t.push({name:"take",value:o}),t.push({name:"sort",value:a}),t.push({name:"filter",value:this.state.filter}),t.push({name:"model",value:JSON.stringify(this.props.data)}),this.setState({loading:!0}),$.ajax({url:i.props.apiUrl,data:t,async:!0,type:"post",success:function(e){e.success?(n({sIndex:r,pSize:o,rowsCount:e.item.count,items:e.item.rows}),i.setState({count:e.item.count,loading:!1,error:void 0})):i.setState({error:e.message,loading:!1})},error:function(e,t){t=i.getProcessLoadError(e,t);i.setState({error:t,loading:!1})}})}},{key:"render",value:function(){var t=this;return V.a.createElement(w.Modal,{dimmer:"blurring",open:this.props.open,onClose:function(){t.props.onClose()}},V.a.createElement(w.Modal.Header,null,DWKitAdminLang.button.showdata),V.a.createElement(w.Modal.Content,null,V.a.createElement("div",{className:"dwkitadmin-toolbar"},V.a.createElement("span",null,DWKitAdminLang.button.search),V.a.createElement(w.Form.Input,{style:{width:"250px",float:"left",marginRight:"10px"},name:"filter",value:this.state.filter,onChange:this.onFilterChange.bind(this)}),V.a.createElement(w.Button,{className:"buttontype1",content:DWKitAdminLang.button.refresh,loading:this.state.loading,onClick:this.onShowDataRefresh.bind(this)}),V.a.createElement("span",null,DWKitAdminLang.msg.totalcount," ",this.state.count)),this.state.error&&V.a.createElement(w.Message,{negative:!0},this.state.error),V.a.createElement(ge.SemanticGridView,{key:"Formgrid",rowHeight:36,columns:this.showDataColumns(),pagerType:"server",getAdditionalDataForControl:this.getAdditionalDataForControl.bind(this),ref:function(e){t.showDataGrid=e}})),V.a.createElement(w.Modal.Actions,null,V.a.createElement(w.Button,{className:"buttontype2",content:DWKitAdminLang.button.close,onClick:function(){t.props.onClose()}})))}}])&&Ve(e.prototype,t),n&&Ve(e,n),o}();function _e(e){return(_e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Oe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Se(e,t){return(Se=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ae(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=xe(n);return e=r?(e=xe(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==_e(e)&&"function"!=typeof e?De(t):e}}function De(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xe(e){return(xe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Pe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Le=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Se(e,t)}(i,v["a"]);var e,t,n,a=Ae(i);function i(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),Pe(De(n=a.call(this,e)),"onSave",function(){n.state.isSimplified&&((e=n.props.data).dbObjectName=ye.TABLE_NAME,e.extensionsContainerAttribute=ye.EXTENSION_CONTAINER,e.primaryKeyAttribute=ye.PRIMARY_KEY,e.workflowSchemeAttribute=ye.WORKFLOW_SCHEME,Array.isArray(e.attributes)&&e.attributes.forEach(function(e){e.isCalculated=!1,e.isExtension=!0}));var e=n.props.onSave.bind(n.props.parent);n.props.parent.state.needGlobalReload=!0,e(),n.forceUpdate()}),Pe(De(n),"onModeChange",function(e,t){n.setState({isSimplified:t.value===he.SIMPLIFIED}),n.handleChange(n.props.data,e,t)}),n.state={showextensioncolumns:!1,isSimplified:n.props.data&&n.props.data.mode===he.SIMPLIFIED};var t=[];n.props.metadata.dataModel.forEach(function(e){t.push({value:e.id,text:e.name})}),n.state.entitylist=t;var r=[{value:"",text:""}];Array.isArray(n.props.metadata.dataSources)&&n.props.metadata.dataSources.forEach(function(e){r.push({value:e.id,text:e.name})}),n.state.datasoucesList=r;var o=[];return n.props.metadata.additionalParams.Types.forEach(function(e){o.push({value:e,text:e})}),n.state.typeList=o,n}return e=i,n=[{key:"getDerivedStateFromProps",value:function(e,t){return{needValidate:!0}}}],(t=[{key:"validate",value:function(){return this.props.parent.validate()}},{key:"render",value:function(){var e=this;this.state.needValidate&&(this.validate(),this.state.needValidate=!1);var t=this.props.data;t.attributes||(t.attributes=[]),t.triggers||(t.triggers=[]);var n=this.props.onCancel.bind(this.props.parent),r=t.__error||{},o=[{text:DWKitAdminLang.data.standardmode,value:he.STANDARD},{text:DWKitAdminLang.data.simplifiedmode,value:he.SIMPLIFIED}],a=t.mode||he.STANDARD,i=this.state.isSimplified?ye.TABLE_NAME:t.dbObjectName;this.state.isSimplified?ye.PRIMARY_KEY:t.primaryKeyAttribute;return V.a.createElement("div",{className:"dwkit-formadmin-formedit"},V.a.createElement(w.Breadcrumb,null,V.a.createElement(w.Breadcrumb.Section,{onClick:this.props.parent.back.bind(this.props.parent),link:!0},DWKitAdminLang.data.title),V.a.createElement(w.Breadcrumb.Divider,null),V.a.createElement(w.Breadcrumb.Section,{active:!0},t.name)),V.a.createElement("div",{className:"dwkitadmin-toolbar-editform"},V.a.createElement(w.Button,{className:"buttontype1",onClick:this.onSave.bind(this)},DWKitAdminLang.button.save),V.a.createElement(w.Button,{className:"buttontype2",onClick:n},DWKitAdminLang.button.cancel),V.a.createElement(w.Button,{className:"buttontype2",onClick:function(){e.setState({showdata:!0})}},DWKitAdminLang.button.showdata)),!t.primaryKeyAttribute&&!this.state.isSimplified&&V.a.createElement(w.Message,{color:"orange"},DWKitAdminLang.data.notsetprimarykeymsg),r.primaryKeyAttribute&&V.a.createElement(w.Message,{color:"red"},DWKitAdminLang.data.notfoundprimarykeymsg),r.extensionsContainerAttribute&&V.a.createElement(w.Message,{color:"red"},DWKitAdminLang.data.notfoundprimaryextcontmsg),r.duplicateName&&V.a.createElement(w.Message,{color:"red"},DWKitAdminLang.data.nameexistsmsg),V.a.createElement(w.Form,null,V.a.createElement(w.Form.Group,{widths:"equal"},V.a.createElement(w.Form.Dropdown,{name:"mode",label:DWKitAdminLang.data.modefield,value:a,options:o,onChange:this.onModeChange.bind(this),selection:!0,fluid:!0}),V.a.createElement(w.Form.Dropdown,{name:"customDataSourceId",label:DWKitAdminLang.data.customDataSourcefield,value:t.customDataSourceId,options:this.state.datasoucesList,onChange:this.handleChange.bind(this,t),selection:!0,fluid:!0})),V.a.createElement(w.Form.Group,{widths:"equal"},V.a.createElement(w.Form.Field,null,V.a.createElement(w.Form.Input,{name:"name",label:DWKitAdminLang.field.name,error:r.name||r.duplicateName,value:t.name,onChange:this.handleChange.bind(this,t)}),V.a.createElement(w.Form.Input,{name:"dbObjectName",label:DWKitAdminLang.data.dbobjectfield,error:Boolean(r.dbObjectName),value:i,onChange:this.handleChange.bind(this,t),readOnly:this.state.isSimplified}),!this.state.isSimplified&&V.a.createElement(w.Form.Input,{name:"extensionsContainerAttribute",label:DWKitAdminLang.data.extensionscontainerfield,error:Boolean(r.extensionsContainerAttribute),value:t.extensionsContainerAttribute,onChange:this.handleChange.bind(this,t)})),!this.state.isSimplified&&V.a.createElement(w.Form.Field,null,V.a.createElement(w.Form.Input,{name:"primaryKeyAttribute",label:DWKitAdminLang.data.primarykeyfield,error:Boolean(r.primaryKeyAttribute),value:t.primaryKeyAttribute,onChange:this.handleChange.bind(this,t)}),V.a.createElement(w.Form.Input,{name:"schemaName",label:DWKitAdminLang.data.schemenamefield,error:Boolean(r.schemaName),value:t.schemaName,onChange:this.handleChange.bind(this,t)}),V.a.createElement(w.Form.Input,{name:"workflowSchemeAttribute",label:DWKitAdminLang.data.workflowschemefield,error:Boolean(r.workflowSchemeAttribute),value:t.workflowSchemeAttribute,onChange:this.handleChange.bind(this,t)}))),V.a.createElement("div",null,V.a.createElement("h1",{className:"dwkit-formadmin-dataedit-attributeheader"},DWKitAdminLang.field.attributes),!this.state.isSimplified&&V.a.createElement(w.Checkbox,{className:"dwkit-formadmin-dataedit-attributeslider",slider:!0,checked:this.state.showextensioncolumns,onClick:this.onShowExtension.bind(this),label:DWKitAdminLang.data.showextensioncolumnsonly})),V.a.createElement("div",{className:"field",widths:"16"},this.renderAttributes(t.attributes,this.state.isSimplified))),this.state.showdata&&V.a.createElement(Ce,{open:this.state.showdata,apiUrl:this.props.apiUrl,data:this.props.data,onClose:function(){return e.setState({showdata:!1})}}))}},{key:"renderAttributes",value:function(e,t){var n=this.state.entitylist,r=this.state.typeList,o=[];o.push(V.a.createElement("a",{key:"btnadd",onClick:this.onAddAttribute.bind(this,e)},DWKitAdminLang.data.addattbutton));for(var a=0;a<e.length;a++){var i=e[a];!0===this.state.showextensioncolumns&&!1===i.isExtension||(c=this.renderAttribute(i,e,n,r,!1),o.push(c))}if(t)for(var l=this.props.metadata.additionalParams&&this.props.metadata.additionalParams.MasterTableAttributes?this.props.metadata.additionalParams.MasterTableAttributes:[],a=0;a<l.length;a++){var s=l[a],c=this.renderAttribute(s,e,n,r,!0);o.push(c)}else e.length||o.push(V.a.createElement("div",{className:"dwkit-formadmin-info",key:"message"},DWKitAdminLang.data.noattributesmsg,V.a.createElement("br",null),DWKitAdminLang.msg.click," ",V.a.createElement("a",{key:"btnadd2",onClick:this.onAddAttribute.bind(this,e)},DWKitAdminLang.msg.here)," ",DWKitAdminLang.data.forcreatetingmsg));return o}},{key:"renderAttribute",value:function(t,e,n,r,o){var a,i=null!=t.__error?t.__error:{},l="att_"+t.id,s=1==t.typeId,c=s?V.a.createElement(w.Form.Dropdown,{key:"type",name:"referenceEntityId",selection:!0,fluid:!0,search:!0,label:DWKitAdminLang.data.refentityfield,value:t.referenceEntityId,error:Boolean(i.referenceEntityId),options:n,disabled:o,onChange:this.handleChange.bind(this,t)}):V.a.createElement(w.Form.Dropdown,{key:"type",options:r,selection:!0,fluid:!0,search:!0,name:"type",label:DWKitAdminLang.data.datatypefield,placeholder:"Choose a data type",error:Boolean(i.type),value:t.type,disabled:o,onChange:this.handleChange.bind(this,t)});return o?(r="",s?(a="",n.forEach(function(e){e.value==t.referenceEntityId&&(a=e.text)}),r+=DWKitAdminLang.data.reffield+": "+a):r+=DWKitAdminLang.data.columnfield+": "+t.type,t.isNullable&&(r+=", "+DWKitAdminLang.data.nullablefield),t.isCalculated&&(r+=", "+DWKitAdminLang.data.calculatefield),V.a.createElement(w.Form.Group,{key:l,widths:"equal",className:"dwkit-formadmin-item"},V.a.createElement(w.Form.Input,{key:"name",name:"name",readOnly:!0,label:DWKitAdminLang.field.name,error:i.name||i.duplicateName,value:t.name,onChange:this.handleChange.bind(this,t)}),V.a.createElement(w.Form.Input,{key:"type",name:"type",readOnly:!0,label:DWKitAdminLang.field.type,value:r}))):V.a.createElement(w.Form.Group,{key:l,widths:"equal",className:"dwkit-formadmin-item"},V.a.createElement("div",{key:"c1",className:"field"},V.a.createElement(w.Form.Input,{key:"name",name:"name",readOnly:o,label:DWKitAdminLang.field.name,error:i.name||i.duplicateName,value:t.name,onChange:this.handleChange.bind(this,t)}),V.a.createElement("label",{key:"c1label"},DWKitAdminLang.data.optionsfield),V.a.createElement(w.Form.Group,{widths:"equal"},V.a.createElement(w.Form.Checkbox,{name:"isNullable",readOnly:o,label:DWKitAdminLang.data.nullablefield,error:Boolean(i.isNullable),checked:t.isNullable,onChange:this.handleChange.bind(this,t)}),!this.state.isSimplified&&V.a.createElement(w.Form.Checkbox,{name:"isCalculated",label:DWKitAdminLang.data.calculatefield,error:Boolean(i.isCalculated),checked:t.isCalculated,onChange:this.handleChange.bind(this,t)}),!this.state.isSimplified&&V.a.createElement(w.Form.Checkbox,{name:"isExtension",readOnly:o,label:DWKitAdminLang.data.extensionfield,error:Boolean(i.isExtension),checked:t.isExtension,onChange:this.handleChange.bind(this,t)}))),V.a.createElement("div",{key:"c2",className:"field"},V.a.createElement("label",{key:"c2label"},DWKitAdminLang.field.type),V.a.createElement(w.Form.Group,{key:"c2g"},V.a.createElement(w.Form.Radio,{key:"typeColumn",readOnly:o,name:l+"_typeId",error:Boolean(i.typeId),label:DWKitAdminLang.data.columnfield,value:0,checked:!1==s,onChange:this.handleChangeTypeId.bind(this,t)}),V.a.createElement(w.Form.Radio,{key:"typeRef",readOnly:o,name:l+"_typeId",error:Boolean(i.typeId),label:DWKitAdminLang.data.reffield,value:1,checked:s,onChange:this.handleChangeTypeId.bind(this,t)})),c),!o&&V.a.createElement(w.Image,{className:"dwkit-buttonimage",key:"btndelete",src:"/images/dwkit-delete.png",onClick:this.onDeleteAttribute.bind(this,e,t.id)}))}},{key:"handleChangeTypeId",value:function(e,t,n){n.name;n=n.value;this.handleChange(e,t,{name:"typeId",value:n})}},{key:"handleChange",value:function(e,t,n){var r=n.name,o=n.value,n=n.checked;null==o?(e[r]=n,"isCalculated"===r&&n?e.isExtension=!1:"isExtension"===r&&n&&(e.isCalculated=!1)):e[r]=o,this.updateStateAndForce()}},{key:"onAddAttribute",value:function(e){var t={id:this.NewGUID(),type:"String",typeId:0,isNullable:!0,isExtension:this.state.showextensioncolumns||this.state.isSimplified};e.unshift(t),this.updateStateAndForce()}},{key:"onDeleteAttribute",value:function(e,t){for(var n=void 0,r=0;r<e.length;r++)if(e[r].id==t){n=r;break}null!=n&&e.splice(n,1),this.updateStateAndForce()}},{key:"updateStateAndForce",value:function(){this.setUpdatedState(this.props.data),this.forceUpdate()}},{key:"onShowExtension",value:function(){this.setState({showextensioncolumns:!this.state.showextensioncolumns})}}])&&Oe(e.prototype,t),n&&Oe(e,n),i}();function Re(e){return(Re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function je(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fe(e,t,n){return t&&Te(e.prototype,t),n&&Te(e,n),e}function Ne(e,t,n){return(Ne="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){e=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=We(e)););return e}(e,t);if(e){t=Object.getOwnPropertyDescriptor(e,t);return t.get?t.get.call(n):t.value}})(e,t,n||e)}function Ie(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Me(e,t)}function Me(e,t){return(Me=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Be(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=We(n);return e=r?(e=We(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==Re(e)&&"function"!=typeof e?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}}function We(e){return(We=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ue=function(){Ie(n,Q["a"]);var t=Be(n);function n(e){return je(this,n),(e=t.call(this,e)).dataindex="dataModel",e.panelindex="datamodel",e.defaultNamePrefix="table",e.datatype="datamodel",e.title=DWKitAdminLang.data.title,e.titleGetter=function(e){return e.data.title},e.idfield="id",e.editform=Le,e}return Fe(n,[{key:"getModelError",value:function(){var t=this,n=[];return this.props.data.dataModel.forEach(function(e){n.push({modelName:e.name,errors:t.validateRow(e).modelerrors})}),n}},{key:"createNewObject",value:function(){var e=Ne(We(n.prototype),"createNewObject",this).call(this);return e.mode=he.SIMPLIFIED,e}},{key:"renderToolbar",value:function(){var t=this,n=this;return V.a.createElement("div",{className:"dwkitadmin-toolbar"},V.a.createElement(w.Button,{className:"buttontype1",onClick:function(){n.props.parent.openpage(t.panelindex,"new")}},DWKitAdminLang.button.create),V.a.createElement(w.Button,{className:"buttontype2",onClick:function(){var e=t.grid.getSeletedRowKeys();1!==e.length?alertify.error(DWKitAdminLang.msg.needtoselectoneitem):n.props.parent.openpage(t.panelindex,"new",e[0])}},DWKitAdminLang.button.copy),V.a.createElement(w.Button,{className:"buttontype2",onClick:function(){n.setState({confirmdeleteshow:!0})}},DWKitAdminLang.button.delete))}},{key:"gridColumns",value:function(){var t=this;return[{key:"name",name:DWKitAdminLang.column.name,resizable:!0,formatter:V.a.createElement(Ke,{parent:this,errorsdata:this.getModelError.bind(this)})},{key:"dbObjectName",name:DWKitAdminLang.data.dbobjectfield,resizable:!0},{key:"customDataSourceId",name:DWKitAdminLang.data.customDataSourcefield,resizable:!0,type:"custom",customFormatter:function(e){e=e.value;return t.getDataSourceName(e)}}]}},{key:"getDataSourceName",value:function(e){var t,n=this.props.data.dataSources;for(t in n){var r=n[t];if(r.id==e)return r.name}return""}},{key:"checkAttributeExists",value:function(e,t){var n=t;if(e&&n.mode!==he.SIMPLIFIED){if(n.attributes)for(var r=0;r<n.attributes.length;r++)if(e===n.attributes[r].name)return!0;return!1}return!0}},{key:"validateRow",value:function(e){var t=!0,r=e,o=DWKitAdminLang.msg.fieldrequired,a=DWKitAdminLang.msg.fieldduplicated,i=(DWKitAdminLang.msg.fieldmustcontainlettersdigits,DWKitAdminLang.msg.fieldmustcontainlettersdigits),l=r.mode===he.SIMPLIFIED,e=!!r.name&&this.props.data.dataModel.some(function(e){return e.name.toLowerCase()===r.name.toLowerCase()&&e.id!==r.id});r.__error={name:r.name?void 0:o,dbObjectName:r.dbObjectName||l?void 0:o,primaryKeyAttribute:!this.checkAttributeExists(r.primaryKeyAttribute,r),extensionsContainerAttribute:!this.checkAttributeExists(r.extensionsContainerAttribute,r),workflowSchemeAttribute:!this.checkAttributeExists(r.workflowSchemeAttribute,r),duplicateName:e},t&=!(r.__error.name||r.__error.dbObjectName||r.__error.primaryKeyAttribute||r.__error.extensionsContainerAttribute||r.__error.workflowSchemeAttribute||r.__error.duplicateName);var s=r.attributes;return r.mode===he.SIMPLIFIED&&(e=this.props.data.additionalParams&&this.props.data.additionalParams.MasterTableAttributes?this.props.data.additionalParams.MasterTableAttributes:[],s=[].concat(s,e)),r.attributes&&r.attributes.forEach(function(n){var e=/[^\w\d]/.test(n.name);n.__error={name:n.name?e?i:void 0:o,type:0!==n.typeId||n.type?void 0:o,referenceEntityId:1!==n.typeId||n.referenceEntityId?void 0:o},!n.isExtension||r.extensionsContainerAttribute||l||(n.__error.isExtension=DWKitAdminLang.msg.extensionscontainerfieldrequired,r.__error.extensionsContainerAttribute=DWKitAdminLang.msg.extensionscontainerfieldrequired);e=!!n.name&&1<s.reduce(function(e,t){return t.name===n.name?e+1:e},0);n.__error.duplicateName=e?a:void 0,t&=!(n.__error.name||n.__error.type||n.__error.referenceEntityId||n.__error.isExtension||e)}),null!=r.triggers&&r.triggers.forEach(function(e){e.__error={triggers:Array.isArray(e.triggers)&&0<e.triggers.length?void 0:o,codeActionId:null==e.codeActionId||""==e.codeActionId?o:void 0},t&=null==e.__error.triggers&&null==e.__error.codeActionId}),{res:t,modelerrors:r.__error}}},{key:"validate",value:function(){return this.validateRow(this.state.editrow).res}}]),n}(),Ke=function(){Ie(n,V.a.Component);var t=Be(n);function n(e){return je(this,n),t.call(this,e)}return Fe(n,[{key:"render",value:function(){var t=this.props.value,e=!1,n="";return this.props.errorsdata().forEach(function(e){e.modelName==t&&(n+=e.errors.duplicateName?"".concat(DWKitAdminLang.data.nameexistsmsg,"\n"):"",n+=e.errors.extensionsContainerAttribute?"".concat(DWKitAdminLang.data.notfoundprimaryextcontmsg,"\n"):"",n+=e.errors.primaryKeyAttribute?"".concat(DWKitAdminLang.data.notfoundprimarykeymsg,"\n"):"",n+=e.errors.workflowSchemeAttribute?"".concat(DWKitAdminLang.msg.checkerrorsonform,"\n"):"")}),(e=""!==n?!0:e)?V.a.createElement("span",{style:{color:"red"}},V.a.createElement("div",{title:n},t)):V.a.createElement("span",null,V.a.createElement("div",{title:t},t))}},{key:"decapitalizeFirstLetter",value:function(e){return e.charAt(0).toLowerCase()+e.slice(1)}}]),n}();function ze(e){return(ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qe(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function Ge(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?qe(Object(n),!0).forEach(function(e){Xe(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qe(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function He(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qe(e,t){return(Qe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Je(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=$e(n);return e=r?(e=$e(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==ze(e)&&"function"!=typeof e?Ye(t):e}}function Ye(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $e(e){return($e=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Xe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ze=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qe(e,t)}(a,v["a"]);var e,t,n,o=Je(a);function a(e){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),Xe(Ye(r=o.call(this,e)),"onApply",function(){var t=Ye(r),e=r.getChangesForApply(r.state.data);e.length?r.ChangeData(e,function(e){t.onRefresh()}):alertify.error(DWKitAdminLang.msg.needtoselectitems)}),Xe(Ye(r),"onRefresh",function(){var n=Ye(r),e=new Array;e.push({name:"operation",value:"analysedb"}),e.push({name:"datasourceid",value:r.state.customDataSourceId}),$.ajax({url:n.props.apiUrl,data:e,async:!0,type:"post",success:function(e){e.success?n.setState({isloadig:!1,data:n.getFilteredArray(e.items)}):alertify.error(e.message)},error:function(e,t){t=n.getProcessLoadError(e,t);alertify.error(t)}})}),Xe(Ye(r),"onShowSystems",function(){r.setState({showsystemtables:!r.state.showsystemtables})}),r.titleGetter=function(e){return e.datasync.title},r.state={showsystemtables:!1};var t=[{value:"",text:""}];return r.state.datasoucesCount=0,Array.isArray(r.props.data.dataSources)&&(r.props.data.dataSources.forEach(function(e){t.push({value:e.id,text:e.name})}),r.state.datasoucesCount=r.props.data.dataSources.length),r.state.datasoucesList=t,r}return e=a,(t=[{key:"render",value:function(){function e(e){return V.a.createElement("label",null,e,V.a.createElement(w.Popup,{content:DWKitAdminLang.datasync.searchTips,trigger:V.a.createElement(w.Icon,{name:"question"})}))}var n=this,t=this.state.data,r=null==t?V.a.createElement("div",null):t.length?this.renderChanges(t):V.a.createElement("div",null,V.a.createElement("div",{className:"dwkit-formadmin-info"},V.a.createElement("br",null),V.a.createElement("br",null),DWKitAdminLang.datasync.noneedsyncmsg,V.a.createElement("br",null),V.a.createElement("a",{onClick:this.onRefresh},DWKitAdminLang.datasync.analysingagainmsg)));return V.a.createElement("div",{className:"dwkit-formadmin-sync"},V.a.createElement("h1",null,this.titleGetter(DWKitAdminLang)),V.a.createElement("div",{className:"dwkitadmin-toolbar"},V.a.createElement(w.Form,null,V.a.createElement(w.Form.Group,null,V.a.createElement(w.Form.Input,{name:"searchInclude",label:e(DWKitAdminLang.datasync.searchInclude),value:this.state.searchInclude,onChange:function(e,t){t.name;t=t.value;return n.setState({searchInclude:t})}}),V.a.createElement(w.Form.Input,{name:"searchExclude",label:e(DWKitAdminLang.datasync.searchExclude),value:this.state.searchExclude,onChange:function(e,t){t.name;t=t.value;return n.setState({searchExclude:t})}}),0<this.state.datasoucesCount&&V.a.createElement(w.Form.Dropdown,{name:"customDataSourceId",label:DWKitAdminLang.data.customDataSourcefield,value:this.state.customDataSourceId,options:this.state.datasoucesList,onChange:function(e,t){t.name;t=t.value;return n.setState({customDataSourceId:t})},selection:!0}),V.a.createElement(w.Form.Field,null,V.a.createElement(w.Button,{className:"buttontype2",style:{marginTop:"20px"},onClick:this.onRefresh.bind(this)},DWKitAdminLang.datasync.searchanalyse))))),V.a.createElement("hr",null),null!=t&&V.a.createElement("div",{className:"dwkitadmin-toolbar"},V.a.createElement(w.Button,{className:"buttontype1",onClick:this.onApply},DWKitAdminLang.button.applyselectedchanges),V.a.createElement(w.Button,{className:"buttontype2",onClick:this.massChangeSelect.bind(this,void 0,!0)},DWKitAdminLang.button.selectall),V.a.createElement(w.Button,{className:"buttontype2",onClick:this.massChangeSelect.bind(this,void 0,!1)},DWKitAdminLang.button.deselectall),V.a.createElement(w.Checkbox,{slider:!0,checked:this.state.showsystemtables,onClick:this.onShowSystems,label:DWKitAdminLang.datasync.showsystemtables})),r)}},{key:"renderChanges",value:function(e){for(var t=[],n=0;n<e.length;n++){var r,o,a=e[n];0==this.state.showsystemtables&&this.isSystem(a)||(r=a.id,o=this.getChangedTitle(a.changedType),a=V.a.createElement("div",{key:r,className:"dwkit-formadmin-item"},V.a.createElement(w.Form,{key:"form"},V.a.createElement(w.Form.Group,{key:"formgroup",widths:"equal"},V.a.createElement("div",{key:"formgroupdiv",className:"field eight wide "+(a.__select?"syncselected":"syncnotselected")},V.a.createElement(w.Form.Group,{key:"formgroup2",widths:"equal",style:{width:"400px"}},V.a.createElement(w.Form.Checkbox,{width:1,name:"select",key:"check",checked:a.__select,onChange:this.handleSelectGroupChange.bind(this,a)}),V.a.createElement("div",{className:"field"},V.a.createElement(w.Form.Input,{key:"name",name:"name",label:DWKitAdminLang.field.name,value:a.name,readOnly:!0}),V.a.createElement(w.Form.Input,{key:"changeTitle",name:"changeTitle",label:DWKitAdminLang.datasync.changedtypefield,error:"deleted"===a.changedType,value:o,readOnly:!0}))),a.changes&&0<a.changes.length&&V.a.createElement("div",{style:{marginTop:"10px"}},V.a.createElement("a",{key:"selectbutton",onClick:this.massChangeSelect.bind(this,a,!0)},DWKitAdminLang.button.select),"  ",V.a.createElement("a",{key:"deselectbutton",onClick:this.massChangeSelect.bind(this,a,!1)},DWKitAdminLang.button.deselect))),V.a.createElement("div",{key:"childrendiv",className:"field"},this.renderChildren(a))))),t.push(a))}return t}},{key:"isSystem",value:function(e){if(!e||!e.name)return!1;for(var t=["dwAppSettings","dwSecurity","dwUploadedFiles","Workflow","dwV_Security","DWAPPSETTINGS","DWSECURITY","DWUPLOADEDFILES","WORKFLOW","DWV_SECURITY","dwEntities"],n=0;n<t.length;n++)if(e.name.startsWith(t[n]))return!0;return!1}},{key:"renderChildren",value:function(e){if(e.changes&&e.changes.length){for(var t=[],n=0;n<e.changes.length;n++){var r=e.changes[n],o=r.id,a=null==r.originalValue?this.getChangedTitle(r.changedType):r.originalValue+" -> "+r.newValue,a=V.a.createElement(w.Form.Group,{key:o,className:r.__select?"syncselected":"syncnotselected",widths:"equal"},V.a.createElement(w.Form.Checkbox,{name:"changeselect",width:1,key:"check",checked:r.__select,onChange:this.handleSelectChange.bind(this,e,r)}),V.a.createElement(w.Form.Input,{name:"parameter",width:5,key:"parameter",label:DWKitAdminLang.field.parameter,value:r.parameter,readOnly:!0}),V.a.createElement(w.Form.Input,{name:"change",width:10,key:"value",label:DWKitAdminLang.datasync.chages,error:"deleted"===r.changedType,value:a,readOnly:!0}));t.push(a)}return t}}},{key:"getChangedTitle",value:function(e){return"new"===e?DWKitAdminLang.datasync.changestypenew:"changed"===e?DWKitAdminLang.datasync.changetypechanged:"deleted"===e?DWKitAdminLang.datasync.changetypedeleted:void 0}},{key:"getChangesForApply",value:function(e){var n=this,r=[];return e.forEach(function(e){var t;e.__select?r.push(Ge(Ge({},e),{},{__type:"datasync",__state:"inserted",dataSourceId:n.state.customDataSourceId})):null!=e.changes&&0<e.changes.length&&(t=[],e.changes.forEach(function(e){e.__select&&t.push(e)}),0<t.length&&r.push(Ge(Ge({},e),{},{changes:t,__type:"datasync",__state:"inserted"})))}),r}},{key:"onSelectAll",value:function(){this.massChangeSelect(void 0,!0)}},{key:"onDeselectAll",value:function(){this.massChangeSelect(void 0,!1)}},{key:"onSelectGroup",value:function(e){this.massChangeSelect(e,!0)}},{key:"onDeselectGroup",value:function(e){this.massChangeSelect(e,!1)}},{key:"massChangeSelect",value:function(e,t){null!=e?(e.__select=t,null!=e.changes&&e.changes.forEach(function(e){e.__select=t})):this.state.data.forEach(function(e){e.__select=t,null!=e.changes&&e.changes.forEach(function(e){e.__select=t})}),this.forceUpdate()}},{key:"handleSelectChange",value:function(e,t,n,r){var o,r=r.checked;t.__select=r,null!=e.changes&&0<e.changes.length&&(o=!0,e.changes.forEach(function(e){o&=e.__select}),e.__select=o),this.forceUpdate()}},{key:"handleSelectGroupChange",value:function(e,t,n){var r=n.checked;e.__select=r,null!=e.changes&&e.changes.forEach(function(e){e.__select=r}),this.forceUpdate()}},{key:"getArrayFromPattern",value:function(e,t){e=e.indexOf(t)?e.split(t):[e];return e.forEach(function(e,t,n){n[t]&&(n[t]=n[t].trim(),-1==n[t].indexOf("*")&&(n[t]="*"+n[t]+"*"))}),e}},{key:"getFilteredArray",value:function(e){var r,o,a=this,i=[],t=this.state.searchInclude,n=this.state.searchExclude;return t||n?(null!=t&&(r=this.getArrayFromPattern(t,",")),null!=n&&(o=this.getArrayFromPattern(n,",")),e.forEach(function(t){var n=!1;null!=r?r.forEach(function(e){n=n||a.matchRuleShort(t.name,e)}):n=!0,n&&null!=o&&o.forEach(function(e){n&&"**"!==e&&(n=!a.matchRuleShort(t.name,e))}),n&&i.push(t)}),i):e}},{key:"matchRuleShort",value:function(e,t){return new RegExp("^"+t.split("*").map(function(e){return e.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")}).join(".*")+"$","i").test(e)}}])&&He(e.prototype,t),n&&He(e,n),a}();function et(e){return(et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tt(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function nt(r){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?tt(Object(o),!0).forEach(function(e){var t,n;t=r,e=o[n=e],n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):tt(Object(o)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))})}return r}function rt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ot(e,t){return(ot=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function at(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=it(n);return e=r?(e=it(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==et(e)&&"function"!=typeof e?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}}function it(e){return(it=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var lt=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ot(e,t)}(o,v["a"]);var e,t,n,r=at(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this,e)).datatype="datasources",t.dataindex="dataSources",t.state={test:{}},t.initData(e.data[t.dataindex]),t}return e=o,(t=[{key:"initData",value:function(e){function t(e,t){return e.name>t.name?1:e.name<t.name?-1:0}e=Array.isArray(e)?this.СloneObj(e):[];e.forEach(function(e){null!=e.children&&(e.children=e.children.sort(t))}),e=e.sort(t),this.state.data=e,this.state.providers=[{value:"mssql",text:DWKitAdminLang.datasources.providerMSSQL},{value:"postgresql",text:DWKitAdminLang.datasources.providerPostgres},{value:"oracle",text:DWKitAdminLang.datasources.providerOracle}]}},{key:"render",value:function(){this.validate();for(var e=this.state.data,t=[],n=0;n<e.length;n++){var r=e[n];"deleted"!=r.__state&&t.push(this.renderRow(r,n))}return V.a.createElement("div",null,V.a.createElement("h1",null,DWKitAdminLang.datasources.title),V.a.createElement("div",{className:"dwkitadmin-toolbar"},V.a.createElement(w.Button,{className:"buttontype1",onClick:this.onAdd.bind(this)},DWKitAdminLang.datasources.create),this.state.ischanged&&V.a.createElement(w.Button,{className:"buttontype1",onClick:this.onSave.bind(this)},DWKitAdminLang.button.save),this.state.ischanged&&V.a.createElement(w.Button,{className:"buttontype2",onClick:this.onCancel.bind(this)},DWKitAdminLang.button.cancel)),t)}},{key:"renderRow",value:function(e,t){var n=!(Boolean(e.__error.name)||Boolean(e.__error.provider)||Boolean(e.__error.connectionString));return V.a.createElement("div",{key:"g_"+e.id,className:"dwkit-formadmin-item"},V.a.createElement(w.Form,{key:"form"},V.a.createElement(w.Form.Group,{key:"group"},V.a.createElement(w.Form.Input,{style:{width:"300px"},key:"name",name:"name",label:DWKitAdminLang.field.name,error:Boolean(e.__error.name),value:e.name,onChange:this.handleChange.bind(this,e)}),V.a.createElement(w.Form.Dropdown,{key:"provider",style:{width:"200px"},name:"provider",selection:!0,fluid:!0,search:!0,label:DWKitAdminLang.datasources.provider,value:e.provider,error:Boolean(e.__error.provider),options:this.state.providers,onChange:this.handleChange.bind(this,e)}),V.a.createElement(w.Image,{className:"dwkit-buttonimage",key:"btndelete",src:"/images/dwkit-delete.png",onClick:this.onDelete.bind(this,t)})),V.a.createElement(w.Form.Input,{fluid:!0,key:"connectionString",name:"connectionString",label:DWKitAdminLang.datasources.connectionString,error:Boolean(e.__error.connectionString),value:e.connectionString,onChange:this.handleChange.bind(this,e)}),"          ",V.a.createElement(w.Form.Group,null,n&&V.a.createElement(w.Form.Group,{key:"group"},V.a.createElement(w.Form.Button,{loading:e.testloading,icon:"play",color:this.getTestColor(e),content:DWKitAdminLang.datasources.test,onClick:this.onTest.bind(this,e)}),e.testmessage&&V.a.createElement("span",{style:{color:this.getTestColor(e)}},e.testmessage))),n&&e.testdetails&&V.a.createElement(w.Form.TextArea,{rows:6,style:{color:this.getTestColor(e)},value:e.testdetails})))}},{key:"getTestColor",value:function(e){e=e.testsuccess;if(null!=e)return e?"green":"red"}},{key:"handleChange",value:function(e,t,n){var r=n.name,o=n.value;n.checked,e[r];e[r]=o,"provider"==r&&(r="","mssql"==o?r="Server=myServerAddress;Database=myDataBase;User Id=myUsername;Password=myPassword;":"postgresql"==o?r="Host=localhost;Port=5432;Database=myDataBase;User ID=root;Password=myPassword;":"oracle"==o&&(r="Data Source=MyOracleDB;User Id=myUsername;Password=myPassword;Integrated Security=no;"),e.connectionString=r),this.setUpdatedState(e),this.state.ischanged=!0,this.forceUpdate()}},{key:"validate",value:function(){var n=!0;return this.state.data.forEach(function(e){var t=DWKitAdminLang.msg.fieldrequired;e.__error={type:null==e.provider||""==e.provider?t:void 0,name:null==e.name||""==e.name?t:void 0,connectionString:null==e.connectionString||""==e.connectionString?t:void 0},n&=null==e.__error.connectionString&&null==e.__error.provider&&null==e.__error.name}),n}},{key:"onSave",value:function(){var t,n=this;this.validate()?(t=[],this.state.data.forEach(function(e){null!=e.__state&&t.push(nt(nt({},e),{},{__type:n.datatype}))}),this.ChangeData(t,function(e){n.ResetSystemProps(n.state.data),n.props.data[n.dataindex]=n.state.data,n.onCancel()})):alertify.error(DWKitAdminLang.msg.checkerrorsonform)}},{key:"onCancel",value:function(){this.initData(this.props.data[this.dataindex]),this.state.ischanged=!1,this.forceUpdate()}},{key:"onTest",value:function(t){var n=this,e=new Array;e.push({name:"operation",value:"datasourcetest"}),e.push({name:"data",value:c.a.stringify(t)}),t.testloading=!0,delete t.testsuccess,delete t.testmessage,delete t.testdetails,n.forceUpdate(),$.ajax({url:n.props.apiUrl,data:e,async:!0,type:"post",success:function(e){e.success?t.testmessage=DWKitAdminLang.datasources.connectionSuccess:(t.testmessage=e.message,t.testdetails=e.details),t.testsuccess=e.success,t.testloading=!1,n.forceUpdate()}})}},{key:"onDelete",value:function(e){var t=this.state.data[e];"inserted"==t.__state?this.state.data.splice(e,1):t.__state="deleted",this.state.ischanged=!0,this.forceUpdate()}},{key:"onAdd",value:function(){this.state.data.unshift({id:this.NewGUID(),__state:"inserted"}),this.state.ischanged=!0,this.forceUpdate()}}])&&rt(e.prototype,t),n&&rt(e,n),o}();function st(e){return(st="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ct(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ut(e,t){return(ut=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function pt(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=ft(n);return e=r?(e=ft(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==st(e)&&"function"!=typeof e?dt(t):e}}function dt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ft(e){return(ft=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function mt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ht=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ut(e,t)}(o,v["a"]);var e,t,n,r=pt(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),mt(dt(t=r.call(this,e)),"confirmYesHandler",function(){t.setState({showConfirmRebuild:!1}),t.props.parent.recompileAll()}),mt(dt(t),"confirmNoHandler",function(){t.setState({showConfirmRebuild:!1})}),t.state={},"inserted"===e.data.__state&&null==e.data.type&&(e.data.type=0,e.data.usings=t.getDefaultUsings(),e.data.source=t.getDefaultCodeByType(e.data.type,e.data.isAsync)),t}return e=o,(t=[{key:"validate",value:function(){return this.props.parent.validate()}},{key:"componentDidMount",value:function(){this.redrawEditor()}},{key:"redrawEditor",value:function(){var e=this,t=null==this.props.data?[]:this.props.data,n=($(window).width(),$(window).height(),ace.edit("dwkit-admin-codeactions-editcode"));n.getSession().setMode("ace/mode/csharp"),null!=t.source&&n.setValue(t.source,-1),this.props.parent.props.autocomplete&&WorkflowDesignerWindows.Autocompleter.enableAceEditor({editor:n,getUsingsCallback:function(){return e.props.data.usings},getVariablesCallback:function(){switch(e.props.data.type){case 0:return[{name:"model",type:"OptimaJet.DWKit.Core.Model.EntityModel"},{name:"entities",type:"System.Collections.Generic.List",typeArguments:["dynamic"]},{name:"options",type:"dynamic"}];case 1:return[{name:"request",type:"dynamic"}];case 2:return[{name:"model",type:"OptimaJet.DWKit.Core.Model.EntityModel"},{name:"entities",type:"System.Collections.Generic.List<dynamic>"},{name:"options",type:"dynamic"},{name:"context",type:"OptimaJet.DWKit.Core.TriggerExecutionContext"}]}return[]}})}},{key:"render",value:function(){this.validate();var e=this.props.data;return V.a.createElement("div",null,V.a.createElement("div",{className:"dwkitadmin-toolbar-editform"},V.a.createElement(w.Breadcrumb,null,V.a.createElement(w.Breadcrumb.Section,{onClick:this.props.parent.back.bind(this.props.parent),link:!0},DWKitAdminLang.codeaction.title),V.a.createElement(w.Breadcrumb.Divider,null),V.a.createElement(w.Breadcrumb.Section,{active:!0},e.name)),V.a.createElement("div",{className:"dwkitadmin-toolbar-editform"},V.a.createElement(w.Button,{className:"buttontype2",onClick:this.onCompile.bind(this)},DWKitAdminLang.button.compile),V.a.createElement(w.Button,{className:"buttontype1",onClick:this.onSave.bind(this)},DWKitAdminLang.button.save),V.a.createElement(w.Button,{className:"buttontype2",onClick:this.onCancel.bind(this)},DWKitAdminLang.button.cancel)),V.a.createElement("h1",null,this.props.parent.title),V.a.createElement(w.Form,null,V.a.createElement(w.Form.Group,{widths:"equal"},V.a.createElement(w.Form.Input,{name:"name",label:DWKitAdminLang.field.name,error:Boolean(e.__error.name),value:e.name,onChange:this.handleChange.bind(this,e)}),V.a.createElement("div",{className:"field"},V.a.createElement("label",null,DWKitAdminLang.field.type),V.a.createElement(w.Form.Group,{widths:"equal"},V.a.createElement(w.Form.Radio,{name:"type",label:DWKitAdminLang.codeaction.filter,value:0,checked:0===e.type,onChange:this.handleChange.bind(this,e)}),V.a.createElement(w.Form.Radio,{name:"type",label:DWKitAdminLang.codeaction.action,value:1,checked:1===e.type,onChange:this.handleChange.bind(this,e)}),V.a.createElement(w.Form.Radio,{name:"type",label:DWKitAdminLang.codeaction.trigger,value:2,checked:2===e.type,onChange:this.handleChange.bind(this,e)}),V.a.createElement(w.Form.Checkbox,{name:"isAsync",label:DWKitAdminLang.codeaction.isasync,checked:e.isAsync,onChange:this.handleChange.bind(this,e)})))),V.a.createElement(w.Form.Group,{widths:"equal"},V.a.createElement(w.Form.TextArea,{rows:6,name:"usings",label:DWKitAdminLang.codeaction.usingsfield,value:e.usings,onChange:this.handleChange.bind(this,e)}),V.a.createElement(w.Form.TextArea,{rows:6,name:"comment",label:DWKitAdminLang.field.comment,value:e.comment,onChange:this.handleChange.bind(this,e)}))),V.a.createElement("span",null,this.getDefine(e.name,e.type,e.isAsync)),V.a.createElement("div",{id:"dwkit-admin-codeactions-editcode",style:{height:"415px"}}),this.state.message&&V.a.createElement(w.TextArea,{className:"dwkit-admin-codeactions-result",readOnly:!0,value:this.state.message})),V.a.createElement(w.Modal,{open:this.state.showConfirmRebuild,onClose:this.confirmNoHandler},V.a.createElement(w.Modal.Header,null,DWKitAdminLang.form.messagetitle),V.a.createElement(w.Modal.Content,null,V.a.createElement("p",null,DWKitAdminLang.msg.recompiledialog)),V.a.createElement(w.Modal.Actions,null,V.a.createElement(w.Button,{className:"buttontype1",content:DWKitAdminLang.button.yes,onClick:this.confirmYesHandler}),V.a.createElement(w.Button,{className:"buttontype2",content:DWKitAdminLang.button.no,onClick:this.confirmNoHandler}))))}},{key:"onSave",value:function(){var t=this,e=ace.edit("dwkit-admin-codeactions-editcode").getValue(),n=this.props.data;n.source=e;var e=this.props.parent.getEditRow(),r=e.source!==n.source||e.name!==n.name||e.type!==n.type||e.isAsync!==n.isAsync;this.setUpdatedState(n),this.props.onSave.bind(this.props.parent)(function(e){r&&t.setState({showConfirmRebuild:!0})})}},{key:"onCancel",value:function(){this.props.onCancel.bind(this.props.parent)(),this.redrawEditor()}},{key:"handleChange",value:function(e,t,n){var r=n.name,o=n.value,n=n.checked;e[r];e[r]=null==o?n:o,"type"===r&&(o=this.getDefaultCodeByType(o),ace.edit("dwkit-admin-codeactions-editcode").setValue(o,-1)),this.setUpdatedState(this.props.data),this.forceUpdate()}},{key:"onCompile",value:function(){var t=this,e=ace.edit("dwkit-admin-codeactions-editcode").getValue();this.props.data.source=e;e=new Array;e.push({name:"operation",value:"compile"}),e.push({name:"item",value:c.a.stringify(this.props.data)}),$.ajax({url:t.props.apiUrl,data:e,async:!0,type:"post",success:function(e){e.success?(alertify.success(DWKitAdminLang.msg.compileok),t.setState({message:void 0})):(alertify.error(e.message),t.setState({message:e.message}))}})}},{key:"getDefaultUsings",value:function(){return"System;\nSystem.Collections;\nSystem.Collections.Generic;\nSystem.Linq;\nSystem.Threading;\nSystem.Threading.Tasks;\nOptimaJet.Workflow;\nOptimaJet.Workflow.Core.Runtime;\nOptimaJet.Workflow.Core.Model;\nOptimaJet.DWKit.Core;\nOptimaJet.DWKit.Core.Model;"}},{key:"getDefaultCodeByType",value:function(e,t){var n="";return 0==e?n="//TODO: Replace the emplty filter to your filter;\nreturn Filter.Empty;":1==e?n="//TODO: Call your actons;\nreturn null;":2==e&&(n="//TODO: Check your trigger;\nreturn TriggerResult.Success();"),n}},{key:"getDefine",value:function(e,t,n){var r="",o="";return 0==t?(r=n?"public static async Task<Filter>":"public static Filter",o="(EntityModel model, List<dynamic> entities, dynamic options)"):1==t?(r=n?"public static async Task<object>":"public static object",o="(dynamic request)"):2==t&&(r=n?"public static async Task<TriggerResult>":"public static TriggerResult",o="(EntityModel model, List<dynamic> entities, TriggerExecutionContext context, dynamic options)"),V.a.createElement("span",{className:"dwkit-admin-codeactions-define"},r," ",V.a.createElement("span",{className:"dwkit-admin-codeactions-definefunctionname"},e=null==e?"____":e),o)}}])&&ct(e.prototype,t),n&&ct(e,n),o}();function yt(e){return(yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vt(e,t,n){return t&&gt(e.prototype,t),n&&gt(e,n),e}function Vt(e,t,n){return(Vt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){e=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_t(e)););return e}(e,t);if(e){t=Object.getOwnPropertyDescriptor(e,t);return t.get?t.get.call(n):t.value}})(e,t,n||e)}function wt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Et(e,t)}function Et(e,t){return(Et=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function kt(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=_t(n);return e=r?(e=_t(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==yt(e)&&"function"!=typeof e?Ct(t):e}}function Ct(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _t(e){return(_t=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ot=function(){wt(a,Q["a"]);var o=kt(a);function a(e){var n,t,r;return bt(this,a),n=o.call(this,e),t=Ct(n),r=function(){var t=Ct(n),e=[];e.push({name:"operation",value:"recompileall"}),$.ajax({url:n.props.apiUrl,data:e,async:!0,type:"post",success:function(e){e.success?(alertify.success(DWKitAdminLang.msg.recompiled),null!==e.result&&void 0!==e.result&&(t.props.parent.state.data.additionalParams.CodeActionErrors=e.result.CodeActionErrors,t.props.parent.forceUpdate())):alertify.error(e.message)}})},(e="recompileAll")in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,n.dataindex="codeActions",n.panelindex="codeactions",n.defaultNamePrefix="",n.idfield="id",n.title=DWKitAdminLang.codeaction.title,n.titleGetter=function(e){return e.codeaction.title},n.datatype="codeactions",n.editform=ht,n}return vt(a,[{key:"getTypeName",value:function(e){return 2===e?"Trigger":1===e?"Action":0===e?"Filter":"Unknown"}},{key:"renderToolbar",value:function(){var e=this;return V.a.createElement("div",{className:"dwkitadmin-toolbar"},V.a.createElement(w.Button,{className:"buttontype1",onClick:function(){e.props.parent.openpage(e.panelindex,"new")}},DWKitAdminLang.button.create),V.a.createElement(w.Button,{className:"buttontype2",onClick:function(){e.setState({confirmdeleteshow:!0})}},DWKitAdminLang.button.delete),V.a.createElement(w.Button,{className:"buttontype1",onClick:this.recompileAll.bind(this)},DWKitAdminLang.button.recompileAll))}},{key:"gridColumns",value:function(){var t=this;return[{key:"name",name:DWKitAdminLang.column.name,resizable:!0,formatter:V.a.createElement(St,{data:this.props.data[this.dataindex],parent:this}),getRowMetaData:function(e){return e}},{key:"definedOnServer",name:DWKitAdminLang.codeaction.defineonservercolumn,resizable:!0,type:"checkbox"},{key:"type",name:DWKitAdminLang.column.type,resizable:!0,type:"custom",customFormatter:function(e){e=e.value;return t.getTypeName(e)}}]}},{key:"getDefaultObjectCode",value:function(){return""}},{key:"showedit",value:function(e){e.definedOnServer?alertify.error(DWKitAdminLang.codeaction.defineonservermsg):Vt(_t(a.prototype),"showedit",this).call(this,e)}},{key:"validate",value:function(){var e=!0,t=this.state.editrow,n=DWKitAdminLang.msg.fieldrequired;return t.__error={name:null==t.name||""==t.name?n:void 0},e&=null==t.__error.name}},{key:"onDelete",value:function(){for(var e=this,t=[],n=[],r=this.grid.getSeletedRowKeys(),o=0;o<this.props.data[this.dataindex].length;o++){for(var a=this.props.data[this.dataindex][o],i=!1,l=0;l<r.length;l++)if(a[this.idfield]==r[l]){i=!0;break}if(i){var s=a;if(s.definedOnServer)return e.setState({confirmdeleteshow:!1}),void alertify.error(DWKitAdminLang.codeaction.defineonserverblockdeletemsg);s.__type=this.datatype,s.__state="deleted",n.push(s)}else t.push(a)}this.ChangeData(n,function(){e.props.data[e.dataindex]=t,e.setState({selectedIndexes:[],confirmdeleteshow:!1})})}}]),a}(),St=function(){wt(n,V.a.Component);var t=kt(n);function n(e){return bt(this,n),t.call(this,e)}return vt(n,[{key:"render",value:function(){var e=this.props.value,t=this.props.parent.props,n=null!=t.data.additionalParams&&null!=t.data.additionalParams.CodeActionErrors?t.data.additionalParams.CodeActionErrors:void 0,t=this.props.dependentValues;return null!=n&&n.hasOwnProperty(this.props.parent.getTypeName(t.type)+"_"+t.name)?V.a.createElement("span",{style:{color:"red"}},V.a.createElement("div",{title:e},e)):V.a.createElement("span",null,V.a.createElement("div",{title:e},e))}},{key:"decapitalizeFirstLetter",value:function(e){return e.charAt(0).toLowerCase()+e.slice(1)}}]),n}(),At=n(12),Dt=n(7);function xt(e){return(xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Lt(e,t){return(Lt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Rt(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=jt(n);return e=r?(e=jt(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==xt(e)&&"function"!=typeof e?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}}function jt(e){return(jt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Tt=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Lt(e,t)}(o,v["a"]);var e,t,n,r=Rt(o);function o(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),r.call(this,e)}return e=o,(t=[{key:"render",value:function(){var r=this,e=this.props.parent.getControlsByFormForDataMapping(this.props.formsource,void 0),o=[],n=new Set,a=["container","form","formgroup","card","tab","customblock","gridlayout","workflowbar","menu","header","staticcontent","breadcrumb"],i=r.props.parent;return e.forEach(function(e){var t;0<=a.indexOf(e.type)||r.isAttached(e,r.props.form.dataMap)||r.isAttached(e,r.props.form.dataColl)||(t=e.key+" : "+e.type,null!=e.parent?n.add(e.parent):o.push(V.a.createElement("div",{draggable:"true",className:"mapdatacontrol",key:e.key,onDragStart:i.onDragStart.bind(i,e.key),onDragEnd:i.onDragEnd.bind(i,e.key),onDoubleClick:i.onDoubleClick.bind(i,e.key)},V.a.createElement("span",{key:"el"},t))))}),0!=(n=new Set(Array.from(n).sort())).size&&n.forEach(function(t){var n=[];e.forEach(function(e){0<=a.indexOf(e.type)||e.parent!==t||r.isAttached(e,r.props.form.dataMap)||r.isAttached(e,r.props.form.dataColl)||n.push(V.a.createElement("div",{draggable:"true",className:"mapdatacontrol",key:e.key,onDragStart:i.onDragStart.bind(i,e.key),onDragEnd:i.onDragEnd.bind(i,e.key),onDoubleClick:i.onDoubleClick.bind(i,e.key)},V.a.createElement("span",{key:"el"},e.key)))}),n!==[]&&o.push(V.a.createElement("div",{draggable:"false",className:"mapdatacontrolcontainer",key:t},V.a.createElement("span",{key:"el"},t),n))}),0<o.length?o.unshift(V.a.createElement(w.Message,{key:"MappingDataControlsMessage1"},DWKitAdminLang.datamap.moveitemsmsg)):o.unshift(V.a.createElement(w.Message,{key:"MappingDataControlsMessage2"},V.a.createElement(w.Icon,{name:"info"}),DWKitAdminLang.datamap.nocontrolsonformmsg)),o.push(V.a.createElement("div",{key:"controlsdropzone",className:"dwkit-formmapping-zone"},DWKitAdminLang.datamap.dropzonemsg)),V.a.createElement("div",null,o)}},{key:"isAttached",value:function(e,t){for(var n=0;n<t.length;n++)if(e.key==t[n].control)return!0;return!1}}])&&Pt(e.prototype,t),n&&Pt(e,n),o}();function Ft(e){return(Ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Nt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function It(e,t){return(It=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Mt(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=Wt(n);return e=r?(e=Wt(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==Ft(e)&&"function"!=typeof e?Bt(t):e}}function Bt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Wt(e){return(Wt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ut=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&It(e,t)}(a,v["a"]);var e,t,n,o=Mt(a);function a(e){var t,n,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),t=o.call(this,e),n=Bt(t),r=function(){t.props.form.dataColl.push({id:t.NewGUID(),dataMap:[]}),t.props.parent.validate(),t.forceUpdate()},(e="onCreate")in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,t.state={expanded:{}},t}return e=a,(t=[{key:"onExpand",value:function(e,t){this.state.expanded[e]=t,this.forceUpdate()}},{key:"onDelete",value:function(e){for(var t,n=this.props.form.dataColl,r=0;r<n.length;r++)if(n[r].id==e){t=r;break}null!=t&&(n.splice(t,1),this.props.parent.forceUpdate())}},{key:"render",value:function(){var e=this.props.form.dataColl;return V.a.createElement("div",{className:"dwkit-formmapping-collection"},V.a.createElement("h2",null,DWKitAdminLang.datamap.collections),V.a.createElement("div",{className:"dwkit-formmapping-collection-toolbar"},V.a.createElement("a",{onClick:this.onCreate},DWKitAdminLang.button.create)),this.renderColl(e))}},{key:"handleChanged",value:function(e,t,n){var r=n.name,o=n.value,n=n.checked;e[r]="readOnly"===r?n:o,"entityId"===r&&(e.dataMap=this.props.parent.createDataMap(o,void 0,"",[])),this.props.parent.validate(),this.forceUpdate()}},{key:"renderColl",value:function(e){var p=[],d=this,f=this.props.formsource,m=[{key:"auto",text:DWKitAdminLang.field.auto,value:"auto"},{key:"load",text:DWKitAdminLang.field.load,value:"load"},{key:"lazyload",text:DWKitAdminLang.field.lazyload,value:"lazyload"}];return e.forEach(function(t){var n,e=t.id,r=!1,o=!1;void 0!==t.triggers&&null!==t.triggers||(t.triggers=[]),null!=t.control&&(o=!0,f.forEach(function(e){e.key===t.control&&(n=e)}),null!=n&&null!=n.propertyName&&(r=!0));var a,i=d.state.expanded[e],l=i?V.a.createElement("img",{onClick:d.onExpand.bind(d,e,!1),className:"dwkit-formadmin-imgbutton",src:"/images/collapse.svg"}):V.a.createElement("img",{onClick:d.onExpand.bind(d,e,!0),className:"dwkit-formadmin-imgbutton",src:"/images/expand.svg"});a=null==t.control?V.a.createElement("div",{key:"dz",className:"dwkit-formmapping-zone","data-id":t.id},"Control..."):(u=d.props.parent,V.a.createElement("div",{key:"control",className:"mapdatacontrol",draggable:"true",onDragStart:u.onDragStart.bind(u,t.control),onDragEnd:u.onDragEnd.bind(u,t.control),onDoubleClick:u.onDoubleClick.bind(u,t.control)},V.a.createElement("span",{key:"span"},t.control)));var s=d.actionParameterSuggestions(t.dataMap),c=V.a.createElement("label",null,DWKitAdminLang.datamap.collectionfilterfield,V.a.createElement(w.Popup,{content:"Here you can select Filter Action which will be applied when requesting collections for the form instead of a standard filter.\nStandard filter automatically binds collection with main entity, if there's a reference to Main entity data model in collection Data Model.",trigger:V.a.createElement(w.Icon,{name:"question"})})),u=t.entityId?V.a.createElement("label",null,DWKitAdminLang.datamap.collectionentityfield,V.a.createElement("a",{target:"_blank",href:"?apanel=datamodel&aid="+t.entityId},V.a.createElement(w.Icon,{name:"database"}))):DWKitAdminLang.datamap.collectionentityfield,s=V.a.createElement("div",{key:e+"_div",className:"dwkit-formmapping-collection-row"},V.a.createElement(w.Form,null,!o&&V.a.createElement(w.Message,{color:"orange"},DWKitAdminLang.datamap.nocontrolbounded),r&&V.a.createElement(w.Message,{color:"orange"},DWKitAdminLang.datamap.propertynamepriority),V.a.createElement(w.Form.Group,{widths:"equal"},V.a.createElement("div",{className:"dwkit-formadmin-imgbuttondiv2"},l),V.a.createElement(w.Form.Dropdown,{key:"entityId",label:u,name:"entityId",options:d.props.entities,value:t.entityId,onChange:d.handleChanged.bind(d,t),error:Boolean(t.__error&&t.__error.entityId),selection:!0,fluid:!0,search:!0}),V.a.createElement(w.Form.Dropdown,{key:"filter",label:c,name:"filter",options:d.props.codeactions,value:t.filter,onChange:d.handleChanged.bind(d,t),error:Boolean(t.__error&&t.__error.filter),selection:!0,fluid:!0,search:!0}),t.filter&&V.a.createElement(se.a,{key:"parameter",suggestions:s,extraServerVariables:["@ParentId"],name:"parameter",label:DWKitAdminLang.field.parameter,value:null!=t.parameter?t.parameter:"",onChange:d.handleChanged.bind(d,t)}),a,V.a.createElement("div",{className:"dwkit-formadmin-imgbuttondiv2"},V.a.createElement("img",{className:"dwkit-formadmin-imgbutton",onClick:d.onDelete.bind(d,e),src:"/images/delete.svg"}))),V.a.createElement(w.Form.Group,{style:{marginLeft:"10px",marginTop:"-20px"}},V.a.createElement(w.Form.Dropdown,{width:"200px",key:"loadStrategy",label:DWKitAdminLang.field.loadstrategy,name:"loadingStrategy",options:m,value:t.loadingStrategy,onChange:d.handleChanged.bind(d,t),selection:!0,fluid:!0}),V.a.createElement(w.Form.Checkbox,{key:"readOnly",label:DWKitAdminLang.field.readonly,name:"readOnly",style:{width:"100px"},checked:t.readOnly,onChange:d.handleChanged.bind(d,t)})),i&&V.a.createElement("div",{key:e+"_att",className:"field children"},V.a.createElement("label",{key:e+"_label"},DWKitAdminLang.field.attributes),null!=t.entityId&&d.renderFields(t)),V.a.createElement("div",null,V.a.createElement(me,{data:t.triggers,types:["AfterSelect","BeforeInsert","AfterInsert","BeforeUpdate","AfterUpdate","BeforeDelete","AfterDelete","AfterNew"],suggestions:s,codeactions:d.props.codeActionsTriggers}))));p.push(s)}),p}},{key:"renderFields",value:function(t){var n,r=[],o=this,e=void 0,a=void 0;return null!=t.control&&null!=this.props.formsource&&(e=this.getOptionsByControl(t.control,this.props.formsource),a=t.id+"_datalist",n=[],Array.isArray(e)&&e.forEach(function(e){n.push(V.a.createElement("option",{key:e,value:e}))}),r.push(V.a.createElement("datalist",{key:a,id:a},n))),t.dataMap.forEach(function(e){null==e.parentId&&r.push(V.a.createElement(Jt,{key:e.id,collectionId:t.id,item:e,parent:o,dataMap:t.dataMap,hidedropzone:!0,datalist:a}))}),r}},{key:"getOptionsByControl",value:function(e,t){t=this.findControl(e,t);if(null!=t){if(Array.isArray(t.columns)){var n=[];return t.columns.forEach(function(e){n.push(e.key)}),n}if("repeater"!==t["data-buildertype"])return[];t=this.props.parent.getControlsByFormForDataMapping(t.placeholders.template,null,!0).map(function(e){return e.key});return t.sort(function(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())}),t}}},{key:"findControl",value:function(e,t){for(var n=0;n<t.length;n++){if(t[n].key==e)return t[n];if(Array.isArray(t[n].children)){var r=this.findControl(e,t[n].children);if(null!=r)return r}if(null!=t[n].placeholders)for(var o in t[n].placeholders)if(Array.isArray(t[n].placeholders[o])){o=this.findControl(e,t[n].placeholders);if(null!=o)return o}}}},{key:"actionParameterSuggestions",value:function(e){var t=[];Array.isArray(e)&&e.forEach(function(e){e.isLoadable&&t.push({caption:e.attributeName,value:'"'+e.attributeName+'"',meta:"Collection Column"})});e=function(e,t){return'"'+e+'": { "'+t+'" : { "Column": "Value" }}'};return t.push({caption:"_ForRole",value:e("_ForRole","RoleCode"),meta:"snippet"}),t.push({caption:"_ForGroup",value:e("_ForGroup","Group"),meta:"snippet"}),t.push({caption:"_ForPermission",value:e("_ForPermission","PermissionGroupCode.PermissionCode"),meta:"snippet"}),t}}])&&Nt(e.prototype,t),n&&Nt(e,n),a}();function Kt(e){return(Kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zt(){return(zt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function qt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gt(e,t){return(Gt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ht(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=Qt(n);return e=r?(e=Qt(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==Kt(e)&&"function"!=typeof e?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}}function Qt(e){return(Qt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Jt=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Gt(e,t)}(a,v["a"]);var e,t,n,r=Ht(a);function a(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(e=r.call(this,e)).state={showref:!1},e}return e=a,(t=[{key:"onShowRef",value:function(e){this.addMissingDataMap(),this.setState({showref:e})}},{key:"render",value:function(){var e,t,n,r=this.props.item,o=this.state.showref;return null!=r.referenceEntityId&&null!=this.props.dataMap&&(e=o?V.a.createElement("img",{onClick:this.onShowRef.bind(this,!1),className:"dwkit-formadmin-imgbutton",src:"/images/collapse.svg"}):V.a.createElement("img",{onClick:this.onShowRef.bind(this,!0),className:"dwkit-formadmin-imgbutton",src:"/images/expand.svg"})),n=this.props.hidedropzone?(t=null==r.control?"":r.control,V.a.createElement(w.Form.Input,{key:"control",name:"control",list:this.props.datalist,placeholder:"Alias",value:t,onChange:this.handleChange.bind(this)})):null==r.control?V.a.createElement("div",{key:"dz",className:"dwkit-formmapping-zone","data-id":r.id},DWKitAdminLang.datamap.placefortoncroltitle):(n=this.props.parent.props.parent,V.a.createElement("div",{key:"control",className:"mapdatacontrol",draggable:"true",onDragStart:n.onDragStart.bind(n,r.control),onDragEnd:n.onDragEnd.bind(n,r.control),onDoubleClick:n.onDoubleClick.bind(n,r.control)},V.a.createElement("span",{key:"span"},r.control))),V.a.createElement("div",{key:this.props.item.id},V.a.createElement(w.Form.Group,{key:"group",className:"dwkit-formadmin-mapping-attribute"},null!=e&&V.a.createElement("div",{className:"dwkit-formadmin-imgbuttondiv"},e),V.a.createElement(w.Form.Input,{className:"attributename",key:"attributeName",name:"attributeName",value:r.attributeName,readOnly:!0}),V.a.createElement(w.Form.Checkbox,{className:"gridcheckbox",key:"isLoadable",label:DWKitAdminLang.datamap.loadfield,name:"isLoadable",checked:r.isLoadable,onChange:this.handleChange.bind(this)}),n),o&&V.a.createElement("div",{key:"ref",className:"dwkit-formmapping-ref"},this.renderSelectAllCheckbox(),this.renderRef()))}},{key:"renderSelectAllCheckbox",value:function(){var e,t=this.getSelectAllCheckboxValue();return 0===t?e={checked:!1,key:"isChildrenLoadable"}:1===t?e={checked:!0,key:"isChildrenLoadable1"}:2===t&&(e={defaultIndeterminate:!0,key:"isChildrenLoadable2"}),V.a.createElement("div",{className:"dwkit-formmapping-ref-selectall"},V.a.createElement(w.Form.Checkbox,zt({},e,{name:"isChildrenLoadable",onClick:this.handleChange.bind(this),label:DWKitAdminLang.datamap.loadchildren})))}},{key:"getSelectAllCheckboxValue",value:function(){var t=[],n=0,r=this.props.item;return this.props.dataMap.forEach(function(e){e.parentId==r.id&&(t.push(e),e.isLoadable&&n++)}),n===t.length?1:0===n?0:2}},{key:"renderRef",value:function(){var t=this,n=[],r=this.props.item,o=this.props.dataMap;return o.forEach(function(e){e.parentId==r.id&&n.push(V.a.createElement(a,{key:e.id,item:e,parent:t.props.parent,dataMap:o,collectionId:t.props.collectionId,hidedropzone:t.props.hidedropzone,datalist:t.props.datalist}))}),n}},{key:"handleChange",value:function(e,t){var n=t.name,r=t.checked,t=t.value,o=this.props.item;"isLoadable"==n||"isEditable"==n?o[n]=r:(o[n]=t,"control"==n&&(o.isLoadable=Boolean(null!=t&&0<t.length))),"isChildrenLoadable"==n&&this.props.dataMap.forEach(function(e){o.id===e.parentId&&(e.isLoadable=r)}),null!=this.props.parent&&this.props.parent.forceUpdate()}},{key:"iAmInCollection",value:function(){return this.props.parent instanceof Ut}},{key:"addMissingDataMap",value:function(){var e,t,n,r,o=this.props.item,a=this.props.dataMap;a.some(function(e){return e.parentId===o.id})||(t=(e=this.props.parent.props.parent).createDataMap(o.referenceEntityId,o.id,o.attributeName+"_",a),this.iAmInCollection()?(this.props.parent,n=this.props.collectionId,void 0!==(a=(r=e.state.form).dataColl.find(function(e){return e.id===n}))&&(a.dataMap=a.dataMap.concat(t),e.setState({form:r}))):((r=e.state.form).dataMap=r.dataMap.concat(t),e.setState({form:r})))}}])&&qt(e.prototype,t),n&&qt(e,n),a}();function Yt(e){return(Yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xt(e,t){return(Xt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Zt(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=en(n);return e=r?(e=en(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==Yt(e)&&"function"!=typeof e?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}}function en(e){return(en=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var tn=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xt(e,t)}(o,v["a"]);var e,t,n,r=Zt(o);function o(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(e=r.call(this,e)).state={isexpanded:!0},e}return e=o,(t=[{key:"onExpand",value:function(e){this.setState({isexpanded:e})}},{key:"render",value:function(){var n=this,r=this,e=this.props.form.dataMap,t=this.state.isexpanded?V.a.createElement("img",{key:"btnexpand",onClick:this.onExpand.bind(this,!1),className:"dwkit-formadmin-imgbutton",src:"/images/collapse.svg"}):V.a.createElement("img",{key:"btnexpand",onClick:this.onExpand.bind(this,!0),className:"dwkit-formadmin-imgbutton",src:"/images/expand.svg"}),o=this.renderFields(e),a=[];0<o.length&&(a.push(V.a.createElement("h3",{key:"titleAtt"},DWKitAdminLang.datamap.attributes)),a.push(o));function i(e,t){var n=t.name,t=t.value;r.props.parent.state.form[n]=t,r.props.parent.forceUpdate()}var l=[],e=!1;return this.props.form.dataSourceType?"url"===this.props.form.editworkflowfield?l.push(V.a.createElement(w.Form.Group,{key:"datatypeurl",widths:"equal"},V.a.createElement(w.Form.Input,{label:DWKitAdminLang.datamap.dataurlfield,name:"dataUrl",value:this.props.form.dataUrl,onChange:i}))):"action"===this.props.form.dataSourceType?l.push(V.a.createElement(w.Form.Group,{key:"datatypeurl",widths:"equal"},V.a.createElement(w.Form.Dropdown,{label:DWKitAdminLang.datamap.actionfield,name:"dataGetAction",options:this.props.actions,error:Boolean(this.props.form.__error.dataGetAction),value:this.props.form.dataGetAction,onChange:i.bind(this),selection:!0,fluid:!0,search:!0}))):l.push(V.a.createElement("div",null,"Unknown data source type")):(o=this.props.form.entityId?V.a.createElement("label",null,DWKitAdminLang.datamap.mainentityfield,V.a.createElement("a",{target:"_blank",href:"?apanel=datamodel&aid="+this.props.form.entityId},V.a.createElement(w.Icon,{name:"database"}))):DWKitAdminLang.datamap.mainentityfield,e=!0,l.push(V.a.createElement(w.Form.Group,{key:"datatypeentity",widths:"equal"},V.a.createElement("div",{className:"dwkit-formadmin-imgbuttondiv"},t),V.a.createElement(w.Form.Dropdown,{label:o,name:"entityId",options:this.props.entities,placeholder:DWKitAdminLang.datamap.mainentityps,error:Boolean(this.props.form.__error&&this.props.form.__error.entityId),value:this.props.form.entityId,onChange:function(e,t){t=t.value;n.props.parent.setEntity(t)}.bind(this),selection:!0,fluid:!0,search:!0}))),this.state.isexpanded&&l.push(V.a.createElement("div",{key:"mapattributes",className:"field dwkit-formadmin-mapattributes"},a))),V.a.createElement("div",{className:"field"},V.a.createElement(w.Form,null,V.a.createElement("div",{className:"field"},V.a.createElement("label",{key:"c1label"},DWKitAdminLang.datamap.dataSourceType),V.a.createElement(w.Form.Group,{widths:"equal"},V.a.createElement(w.Form.Radio,{name:"dataSourceType",value:"",label:DWKitAdminLang.datamap.entityfield,checked:e,onChange:i}),V.a.createElement(w.Form.Radio,{name:"dataSourceType",value:"url",label:DWKitAdminLang.datamap.dataurlfield,checked:"url"===this.props.form.dataSourceType,onChange:i}),V.a.createElement(w.Form.Radio,{name:"dataSourceType",value:"action",label:DWKitAdminLang.datamap.actionfield,checked:"action"===this.props.form.dataSourceType,onChange:i}))),l))}},{key:"renderFields",value:function(n){var r=[],o=this;return n.forEach(function(e){var t=e.id;null==e.parentId&&r.push(V.a.createElement(Jt,{key:t,item:e,parent:o,dataMap:n}))}),r}}])&&$t(e.prototype,t),n&&$t(e,n),o}();function nn(e){return(nn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function on(e,t){return(on=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function an(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=sn(n);return e=r?(e=sn(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==nn(e)&&"function"!=typeof e?ln(t):e}}function ln(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sn(e){return(sn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function cn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var un=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&on(e,t)}(a,i["Component"]);var e,t,n,o=an(a);function a(){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return cn(ln(n=o.call.apply(o,[this].concat(t))),"onApplyChangesChange",function(e,t){t=t.checked;n.props.onPropertyChange(n.props.attribute.id,"applyChanges",t)}),cn(ln(n),"onIsNullableChange",function(e,t){t=t.checked;n.props.onPropertyChange(n.props.attribute.id,"isNullable",t)}),cn(ln(n),"onNameChange",function(e,t){t=t.value;n.props.onPropertyChange(n.props.attribute.id,"name",t)}),cn(ln(n),"onTypeChange",function(e,t){t=t.value;n.props.onPropertyChange(n.props.attribute.id,"type",t)}),cn(ln(n),"onReferenceEntityIdChange",function(e,t){t=t.value;n.props.onPropertyChange(n.props.attribute.id,"referenceEntityId",t)}),n}return e=a,(t=[{key:"render",value:function(){var e=this.props.attribute,t=this.props.errors||{},n=null,n=e.typeId?V.a.createElement(w.Form.Dropdown,{options:this.props.entitylist,selection:!0,fluid:!0,search:!0,onChange:this.onReferenceEntityIdChange,name:"type",label:DWKitAdminLang.datamap.refentityfield,value:e.referenceEntityId,width:5,error:t.noReference,disabled:!!e.hideApply||(!this.props.applyChanges||!e.applyChanges)}):V.a.createElement(w.Form.Dropdown,{options:this.props.typesList,selection:!0,fluid:!0,search:!0,onChange:this.onTypeChange,name:"type",label:DWKitAdminLang.field.type,placeholder:"Choose a data type",value:e.type,width:5,disabled:!!e.hideApply||(!this.props.applyChanges||!e.applyChanges)});return V.a.createElement(w.Form.Group,{className:e.hideApply?"dwkit-formadmin-existingattr":""},V.a.createElement(w.Form.Field,null,!e.hideApply&&V.a.createElement(V.a.Fragment,null,V.a.createElement("label",null,DWKitAdminLang.datamap.applyfield),V.a.createElement(w.Form.Checkbox,{checked:e.applyChanges,width:3,readOnly:!this.props.applyChanges,onChange:this.onApplyChangesChange}))),V.a.createElement(w.Form.Input,{label:DWKitAdminLang.field.name,value:e.name,width:5,name:"name",onChange:this.onNameChange,readOnly:!!e.hideApply||(!this.props.applyChanges||!e.applyChanges),error:t.name||t.duplicateName}),n,V.a.createElement(w.Form.Field,null,V.a.createElement("label",null,DWKitAdminLang.datamap.options),V.a.createElement(w.Form.Checkbox,{name:"isNullable",label:DWKitAdminLang.datamap.nullablefield,checked:e.isNullable,width:3,readOnly:!!e.hideApply||(!this.props.applyChanges||!e.applyChanges),onChange:this.onIsNullableChange})),V.a.createElement(w.Form.Input,{label:"Creation type",name:"creationType",value:e.creatingType,readOnly:!0}))}}])&&rn(e.prototype,t),n&&rn(e,n),a}();function pn(e){return(pn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dn(e){return function(e){if(Array.isArray(e))return fn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return fn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fn(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function mn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hn(e,t){return(hn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function yn(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=gn(n);return e=r?(e=gn(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==pn(e)&&"function"!=typeof e?bn(t):e}}function bn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gn(e){return(gn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function vn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Vn=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&hn(e,t)}(o,i["Component"]);var e,t,n,r=yn(o);function o(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),vn(bn(n=r.call(this,e)),"onApplyChangesChange",function(e,t){t=t.checked;n.props.onModelPropertyChange(n.props.dataModel.id,"applyChanges",t)}),vn(bn(n),"onNameChange",function(e,t){t=t.value;n.props.onModelPropertyChange(n.props.dataModel.id,"name",t)}),n.typesList=[],e.metadata.additionalParams.Types.forEach(function(e){n.typesList.push({value:e,text:e})}),n.entitylist=[],e.metadata.dataModel.forEach(function(e){n.entitylist.push({value:e.id,text:e.name})}),n}return e=o,(t=[{key:"getWarning",value:function(){var e=this.props;return e.materTableTypeErrors.length||e.controlsWithoutDataModel.length?V.a.createElement(w.Message,{color:"orange"},V.a.createElement(w.Message.Header,null,DWKitAdminLang.datamap.warnings),V.a.createElement(w.Message.List,null,0<e.materTableTypeErrors.length&&V.a.createElement(w.Message.Item,null,DWKitAdminLang.datamap.matertabletypeerrors,e.materTableTypeErrors.map(function(e,t){return[0<t&&", ",V.a.createElement("b",null,e)]}),DWKitAdminLang.datamap.matertabletypeerrorsadvice),0<e.controlsWithoutDataModel.length&&V.a.createElement(w.Message.Item,null,DWKitAdminLang.datamap.referencedmodelnotfound,e.controlsWithoutDataModel.map(function(e,t){return[0<t&&", ",V.a.createElement("b",null,e)]})))):null}},{key:"render",value:function(){var t=this,n=this.props.dataModel,r=this.props.errors,o=dn(this.entitylist);return this.props.report.mainDataModel.dataModel.applyChanges&&o.push({value:this.props.report.mainDataModel.dataModel.id,text:this.props.report.mainDataModel.dataModel.name}),this.props.report.collectionDataModels.filter(function(e){return e.dataModel.applyChanges}).forEach(function(e){o.push({value:e.dataModel.id,text:e.dataModel.name})}),[V.a.createElement(w.Form,null,this.getWarning(),!this.props.isModelNew&&V.a.createElement(w.Message,{color:"orange"},DWKitAdminLang.form.modelwillbeoverwritten),r.duplicateName&&this.props.isModelNew&&V.a.createElement(w.Message,{color:"red"},DWKitAdminLang.datamap.nameexistsmsg),r.duplicateNameInReport&&V.a.createElement(w.Message,{color:"red"},DWKitAdminLang.datamap.duplicateNameInReport),V.a.createElement(w.Form.Group,null,V.a.createElement(w.Form.Field,null,V.a.createElement("label",null,DWKitAdminLang.datamap.applyfield),V.a.createElement(w.Form.Checkbox,{checked:n.applyChanges,onChange:this.onApplyChangesChange,width:3})),V.a.createElement(w.Form.Input,{label:DWKitAdminLang.field.name,value:n.name,onChange:this.onNameChange,readOnly:!(n.applyChanges&&this.props.isModelNew),width:13,error:r.name||r.duplicateNameInReport})),V.a.createElement("h3",null,DWKitAdminLang.field.attributes),n.attributes.map(function(e){return V.a.createElement(un,{attribute:e,applyChanges:n.applyChanges,typesList:t.typesList,onPropertyChange:t.props.onAttributePropertyChange,entitylist:o,errors:r.attributes[e.id]})})),V.a.createElement(w.Divider,null)]}}])&&mn(e.prototype,t),n&&mn(e,n),o}();function wn(e){return(wn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function En(e){return function(e){if(Array.isArray(e))return _n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Cn(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kn(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Cn(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,t=function(){};return{s:t,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,i=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){i=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(i)throw o}}}}function Cn(e,t){if(e){if("string"==typeof e)return _n(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_n(e,t):void 0}}function _n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function On(){return(On=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Sn(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function An(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Sn(Object(n),!0).forEach(function(e){jn(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Sn(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function Dn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xn(e,t){return(xn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Pn(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=Rn(n);return e=r?(e=Rn(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==wn(e)&&"function"!=typeof e?Ln(t):e}}function Ln(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Rn(e){return(Rn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function jn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Tn=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xn(e,t)}(a,v["a"]);var e,t,n,r,o=Pn(a);function a(e){var l;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),jn(Ln(l=o.call(this,e)),"onDragOver",function(e){e.clientY<150&&l.scroll(-10),e.clientY>$(window).height()-150&&l.scroll(10)}),jn(Ln(l),"onModelPropertyChange",function(n,r,o){l.setState(function(e){var t=null;return(t=(t=e.analyzeReport.mainDataModel.dataModel.id===n?e.analyzeReport.mainDataModel:t)||e.analyzeReport.collectionDataModels.find(function(e){return e.dataModel.id===n}))&&(t.dataModel[r]=o,"applyChanges"===r&&t.dataModel.attributes.forEach(function(e){e[r]=o})),l.validateReport(e.analyzeReport,l.state.isModelNew,l.state.isCollModelsNew),e})}),jn(Ln(l),"onAttributePropertyChange",function(n,r,o){var e=performance.now();l.setState(function(e){var t=null;return(t=(t=e.analyzeReport.mainDataModel.dataModel.attributes.find(function(e){return e.id===n}))||e.analyzeReport.collectionDataModels.flatMap(function(e){return e.dataModel.attributes}).find(function(e){return e.id===n}))&&(t[r]=o),l.validateReport(e.analyzeReport,l.state.isModelNew,l.state.isCollModelsNew),e}),performance.now()}),jn(Ln(l),"openBuilder",function(e){l.isMobileMode()?l.props.parent.props.parent.openpage("mobileforms",l.state.id):l.props.parent.props.parent.openpage("forms",l.state.id),e.preventDefault()}),jn(Ln(l),"openActionHandlers",function(e){l.props.parent.props.parent.openpage("actionhandlers",l.state.id,void 0,l.props.parent.props.mode),e.preventDefault()}),jn(Ln(l),"onGenerateDataModel",function(){var e=new Array;e.push({name:"id",value:l.props.id}),e.push({name:"operation",value:"analyzeform"});$.ajax({url:l.props.apiUrl,data:e,async:!0,type:"post",success:function(e){var t;e.success?(t=l.processReport(e),l.validateReport(t.report,t.isModelNew,t.isCollModelsNew),l.setState({analyzeReport:t.report,isModelNew:t.isModelNew,isCollModelsNew:t.isCollModelsNew})):alertify.error(e.message)},error:function(e,t){t=l.getProcessLoadError(e,t);alertify.error(t)}})}),jn(Ln(l),"onApplyAnalyzeReport",function(){var r,o,e,n,t,a=l.state.analyzeReport;l.validateReport(a,l.state.isModelNew,l.state.isCollModelsNew)?(r=[],t=[],o=[],e=null,a.mainDataModel.dataModel.applyChanges&&(n=l.getDataModelFromReport(a.mainDataModel.dataModel,!1),r.push(n),t=a.dataMap.filter(function(t){return t.attributeSource===be.MASTER_TABLE||n.attributes.some(function(e){return e.id===t.attributeId})}),e=a.mainDataModel.dataModel.id),a.collectionDataModels.forEach(function(e){var n,t;e.dataModel.applyChanges&&(n=l.getDataModelFromReport(e.dataModel,!0),r.push(n),e=(t=a.dataColl.find(function(e){return e.entityId===n.id})).dataMap.filter(function(t){return t.attributeSource===be.MASTER_TABLE||n.attributes.some(function(e){return e.id===t.attributeId})}),o.push(An(An({},t),{},{dataMap:e})))}),r.length?(t=An(An({},l.state.form),{},{dataMap:t,dataColl:o,__type:"formmapping",__state:"updated"}),e&&(t.entityId=e),r.push(t),l.ChangeData(r,function(e){l.setState({analyzeReport:null}),setTimeout(function(){l.props.parent.props.parent.load(function(){l.setState({id:null})}),Pace.stop()},100)})):alertify.error(DWKitAdminLang.msg.needtoselectitems)):alertify.error(DWKitAdminLang.datamap.checkvalidationerrors)}),jn(Ln(l),"onCloseAnalyzeReport",function(){l.setState({analyzeReport:null})}),jn(Ln(l),"onAutoMapping",function(){for(var e=Ln(l),t=["","id_name","_name"],n=l.state.form,r=l.getControlsByFormForDataMapping(l.state.source),o=0;o<r.length;o++){var a=r[o],i=a.key.toLowerCase();e.isAssociateControl(i)||e.mappingToDataMap(n.dataMap,a,t)||e.mappingToDataColl(n.dataColl,a)||e.mappingToDataMap(n.dataMap,a,t,!0)}alertify.success(DWKitAdminLang.datamap.automappingcompleatemsg),l.forceUpdate()}),jn(Ln(l),"onResetMapping",function(e){var t=Ln(l),n=l.state.form;n.dataMap=t.createDataMap(n.entityId,null,"",[]),null==n.dataColl&&(n.dataColl=[]),n.dataColl.forEach(function(e){e.control=void 0,e.dataMap=t.createDataMap(e.entityId,null,"",[])}),1!=e&&l.forceUpdate()}),l.state={analyzeReport:null},l}function i(e){return r.apply(this,arguments)}return e=a,(t=[{key:"scroll",value:(r=function(e){var t=$(window).scrollTop();$(window).scrollTop(t+e),stop||setTimeout(function(){scroll(e)},20)},i.toString=function(){return r.toString()},i)},{key:"isMobileMode",value:function(){return"mobile"==this.props.parent.props.mode}},{key:"render",value:function(){var t=this;if(this.state.id!=this.props.data.name)return this.setForm(this.props.data.name),null;for(var e=[{text:"...",value:""}],n=this.props.metadata.dataModel,r=0;r<n.length;r++){var o=n[r];e.push({text:o.name,value:o.id})}for(var a=this.props.metadata.codeActions,i=[{text:"...",value:""}],l=[],s=[{text:"...",value:""}],c=0;c<a.length;c++){var u=a[c];0===u.type?i.push({text:u.name,value:u.name}):1===u.type?s.push({text:u.name,value:u.name}):2===u.type&&l.push({text:u.name,value:u.name})}this.state.form.triggers||(this.state.form.triggers=[]),this.validate();var p=this.isMobileMode()?{parentPageTitle:DWKitAdminLang.mobileform.title,parentPageOnClick:function(e){this.props.parent.props.parent.openpage("mobileforms"),e.preventDefault()},builderHref:"?apanel=mobileforms&aid="+this.state.id,extraparameter:"&mode=mobile"}:{parentPageTitle:DWKitAdminLang.datamap.title,parentPageOnClick:function(e){this.props.parent.back.bind(this.props.parent),e.preventDefault()},builderHref:"?apanel=forms&aid="+this.state.id,extraparameter:""},d=this.getTriggerTypes(),f=!this.state.form.dataSourceType;return V.a.createElement("div",{className:"dwkitadmin-formmapping",onDragOver:this.onDragOver},V.a.createElement(w.Breadcrumb,null,V.a.createElement(w.Breadcrumb.Section,{onClick:p.parentPageOnClick},p.parentPageTitle),V.a.createElement(w.Breadcrumb.Divider,null),V.a.createElement(w.Breadcrumb.Section,{active:!0},this.props.data.name),V.a.createElement(w.Breadcrumb.Divider,{icon:"right angle"}),V.a.createElement(w.Breadcrumb.Section,{href:p.builderHref,onClick:this.openBuilder.bind(this)},DWKitAdminLang.datamap.builder),V.a.createElement(w.Breadcrumb.Divider,null),V.a.createElement(w.Breadcrumb.Section,{href:"?apanel=actionhandlers&aid="+p.extraparameter,onClick:this.openActionHandlers},DWKitAdminLang.datamap.actionhandler)),V.a.createElement("div",{className:"dwkit-admin-form-buttons"},V.a.createElement(w.Button,{className:"buttontype1",onClick:this.onSave.bind(this)},DWKitAdminLang.button.save),f&&V.a.createElement(w.Button,{className:"buttontype2",onClick:this.onAutoMapping},DWKitAdminLang.datamap.automappingbutton),f&&V.a.createElement(w.Button,{className:"buttontype2",onClick:this.onResetMapping},DWKitAdminLang.datamap.resetmappingbutton),f&&V.a.createElement(w.Button,{className:"buttontype2",onClick:this.onGenerateDataModel},DWKitAdminLang.datamap.generatedatamodelbutton)),this.getWarning(),V.a.createElement("div",{className:"dwkitadmin-formmapping-left"},V.a.createElement("div",{className:"dwkitadmin-formmapping-block"},V.a.createElement(tn,{form:this.state.form,entities:e,actions:s,parent:this}))),f&&V.a.createElement("div",{className:"dwkitadmin-formmapping-right"},V.a.createElement("label",null,DWKitAdminLang.datamap.controls),V.a.createElement(Tt,{formsource:this.state.source,form:this.state.form,parent:this})),f&&V.a.createElement("div",{className:"dwkitadmin-formmapping-triggers"},V.a.createElement("h1",null,DWKitAdminLang.datamap.mainentitytriggers),V.a.createElement("div",{className:"field",widths:"16"},V.a.createElement(w.Form,null,V.a.createElement(me,{data:this.state.form.triggers,dataMap:this.state.form.dataMap,types:d,codeactions:l})))),f&&V.a.createElement("div",{style:{clear:"both"}},V.a.createElement(Ut,{form:this.state.form,entities:e,codeactions:i,parent:this,formsource:this.state.source,codeActionsTriggers:l})),null!==this.state.analyzeReport&&V.a.createElement(w.Modal,{open:this.state.analyzeReport,onClose:this.onCloseAnalyzeReport},V.a.createElement(w.Modal.Header,null,DWKitAdminLang.datamap.formanalyzereport),V.a.createElement(w.Modal.Content,{scrolling:!0},null!==this.state.analyzeReport.mainDataModel&&V.a.createElement("div",null,V.a.createElement("h2",null,DWKitAdminLang.datamap.mainentitydatamodel),V.a.createElement(Vn,On({onModelPropertyChange:this.onModelPropertyChange,onAttributePropertyChange:this.onAttributePropertyChange,metadata:this.props.metadata},this.state.analyzeReport.mainDataModel,{report:this.state.analyzeReport,isModelNew:this.state.isModelNew})),0<this.state.analyzeReport.collectionDataModels.length&&V.a.createElement("div",null,V.a.createElement("h2",null,DWKitAdminLang.datamap.collectiondatamodels),this.state.analyzeReport.collectionDataModels.map(function(e){return V.a.createElement(Vn,On({onModelPropertyChange:t.onModelPropertyChange},e,{onAttributePropertyChange:t.onAttributePropertyChange,metadata:t.props.metadata,report:t.state.analyzeReport}))})))),V.a.createElement(w.Modal.Actions,null,V.a.createElement(w.Button,{className:"buttontype1",content:DWKitAdminLang.datamap.generatedatamodelbutton,onClick:this.onApplyAnalyzeReport}),V.a.createElement(w.Button,{className:"buttontype2",content:DWKitAdminLang.button.close,onClick:this.onCloseAnalyzeReport}))))}},{key:"validateReportItem",value:function(n,r,e){var o=this;n.errors={attributes:{}};var t=n.dataModel;if(!t.applyChanges)return!0;var a=!0;t.name?(n.errors.duplicateName=this.props.metadata.dataModel.some(function(e){return e.name.toLowerCase()===t.name.toLowerCase()}),a&=!e||!n.errors.duplicateName,n.errors.duplicateNameInReport=r.filter(function(e){return e.name}).some(function(e){return e.name.toLowerCase()===t.name.toLowerCase()&&e.id!==t.id}),a&=!n.errors.duplicateNameInReport):(n.errors.name=!0,a=!1);var i=t.attributes.filter(function(e){return e.applyChanges});return i.forEach(function(t){var e={};n.errors.attributes[t.id]=e,t.name?(e.duplicateName=i.some(function(e){return e.name===t.name&&e.id!==t.id}),a&=!e.duplicateName):(e.name=!0,a=!1),1===t.typeId&&(t.referenceEntityId?(e.noReference=!o.props.metadata.dataModel.some(function(e){return e.id===t.referenceEntityId})&&!r.some(function(e){return e.id===t.referenceEntityId}),a&=!e.noReference):(e.noReference=!0,a=!1))}),a}},{key:"validateReport",value:function(e,t,o){var a=this,i=e.collectionDataModels.filter(function(e){return e.dataModel.applyChanges}).map(function(e){return e.dataModel});e.mainDataModel.dataModel.applyChanges&&i.push(e.mainDataModel.dataModel);var l=this.validateReportItem(e.mainDataModel,i,t);return e.collectionDataModels.forEach(function(e){var t,n=kn(o);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.dataModel.id==r.id&&(l&=a.validateReportItem(e,i,r.isModelNew))}}catch(e){n.e(e)}finally{n.f()}}),l}},{key:"getTriggerTypes",value:function(){return null!==this.state.form.entityId&&void 0!==this.state.form.entityId&&""!==this.state.form.entityId?["Validate","AfterSelect","BeforeInsert","AfterInsert","BeforeUpdate","AfterUpdate","BeforeDelete","AfterDelete","BeforeTransaction","AfterTransaction","BeforeBatch","AfterBatch","AfterNew","AfterCopy"]:["Validate","BeforeTransaction","AfterTransaction","BeforeBatch","AfterBatch"]}},{key:"onDragStart",value:function(e,t){t.dataTransfer.setData("controlkey",e),$(".dwkit-formmapping-zone").addClass("dwkit-formmapping-zone-active").on("dragenter",this.onTargetDragEnter.bind(this,e,"dwkit-formmapping-zone-select")).on("dragleave",this.onTargetDragLeave.bind(this,e,"dwkit-formmapping-zone-select")).on("dragover",function(e){e.preventDefault()}).on("drop",this.onDrop.bind(this,e))}},{key:"onTargetDragEnter",value:function(e,t,n){$(n.target).addClass(t)}},{key:"onTargetDragLeave",value:function(e,t,n){$(n.target).removeClass(t)}},{key:"onDragEnd",value:function(e){var t=$(".dwkit-formmapping-zone");t.removeClass("dwkit-formmapping-zone-active"),t.removeClass("dwkit-formmapping-zone-select"),t.off()}},{key:"onDoubleClick",value:function(t){this.state.form.dataMap.forEach(function(e){if(e.control==t)return e.control=void 0,!!0}),this.state.form.dataColl.forEach(function(e){if(e.control==t)return e.control=void 0,!!0}),this.forceUpdate()}},{key:"onDrop",value:function(t,e){var n,e=$(e.target);return 0<e.length&&(null==e[0].attributes["data-id"]?(this.state.form.dataMap.forEach(function(e){if(e.control==t)return e.control=void 0,!1}),this.state.form.dataColl.forEach(function(e){if(e.control==t)return e.control=void 0,!1})):(n=e[0].attributes["data-id"].value,this.state.form.dataMap.forEach(function(e){e.control==t&&(e.control=void 0),e.id==n&&(e.control=t,e.isLoadable=!0)}),this.state.form.dataColl.forEach(function(e){e.control==t&&(e.control=void 0),e.id==n&&(e.control=t)})),this.forceUpdate()),this.onDragEnd(t),!1}},{key:"redirectToFormEdit",value:function(){this.props.parent.openpage("forms")}},{key:"validate",value:function(){var t=this,n=!0,e=this.state.form;if(null==e)return!1;var r=DWKitAdminLang.msg.fieldrequired;return e.__error={},n&=null==e.__error.entityId,null!=e.dataColl&&e.dataColl.forEach(function(e){e.__error={entityId:null==e.entityId||""==e.entityId||e.entityId==t.GuidEmpty()?r:void 0},n&=null==e.__error.entityId,void 0!==e.triggers&&null!==e.triggers&&e.triggers.forEach(function(e){e.__error={triggers:Array.isArray(e.triggers)&&0<e.triggers.length?void 0:r,codeAction:null==e.codeAction||""==e.codeAction?r:void 0},n&=null==e.__error.triggers&&null==e.__error.codeAction})}),null!=e.triggers&&e.triggers.forEach(function(e){e.__error={triggers:Array.isArray(e.triggers)&&0<e.triggers.length?void 0:r,codeAction:null==e.codeAction||""==e.codeAction?r:void 0},n&=null==e.__error.triggers&&null==e.__error.codeAction}),n}},{key:"getControlsByFormForDataMapping",value:function(e,a,i){if(null==e||e.constructor!=Array)return[];var l=this,s=[];return e.forEach(function(e){var t=e["data-buildertype"];if(!i||"gridview"!==t&&"collectioneditor"!==t&&"repeater"!==t){"button"!==t&&"form"!==t&&"formgroup"!==t&&"customblock"!==t&&s.push({key:e.key,type:e["data-buildertype"],parent:a});var n=e.formname;if("customblock"===t&&void 0!==n){var r=l.loadform(n,void 0,!0);if(void 0!==r){n=void 0;try{n=c.a.parse(r.source)}catch(e){alertify.error(e)}n=l.getControlsByFormForDataMapping(n,e.key,i);s=s.concat(n)}}else if("customblock"===t&&"source"===e.sourceType){t=void 0;try{t=c.a.parse(e.source)}catch(e){alertify.error(e)}t=l.getControlsByFormForDataMapping(t,e.key,i);s=s.concat(t)}if(null!=e.children&&0<e.children.length&&(s=s.concat(l.getControlsByFormForDataMapping(e.children,e.key,i))),null!=e.placeholders)for(var o in e.placeholders)Array.isArray(e.placeholders[o])&&0<e.placeholders[o].length&&(s=s.concat(l.getControlsByFormForDataMapping(e.placeholders[o],e.key,i)))}}),s}},{key:"onSave",value:function(){var t=this;if(!this.validate())return alertify.error(DWKitAdminLang.msg.checkerrorsonform),void this.forceUpdate();this.state.form.__type=this.isMobileMode()?"mobileformmapping":"formmapping",this.state.form.__state="updated",this.ChangeData([this.state.form],function(e){t.ResetSystemProps(t.state.form),t.forceUpdate(),t.state.reloadMetadataAfterSave&&setTimeout(function(){t.props.parent.props.parent.load(),Pace.stop()},100)})}},{key:"processReport",value:function(e){var n=this,r=e.item,o=[],a=[];r.mainDataModel.dataModel.applyChanges=!0,r.mainDataModel.dataModel.attributes.forEach(function(e){e.applyChanges=!0}),r.collectionDataModels.forEach(function(e){e.dataModel.applyChanges=!0,e.dataModel.attributes.forEach(function(e){e.applyChanges=!0})});e=this.processDataModel(r.mainDataModel.dataModel,!1,r),e.dataModel;return r.collectionDataModels.forEach(function(e){var t=n.processDataModel(e.dataModel,!0,r);o.push(An({dataModel:t.dataModel},e)),a.push({id:t.dataModel.id,isModelNew:t.isModelNew})}),r.mainDataModel.dataModel=e.dataModel,r.collectionDataModels=o,{report:r,isModelNew:e.isModelNew,isCollModelsNew:a}}},{key:"processDataModel",value:function(n,e,r){var o,t,a=!0;if(e||null!==n.name?e&&this.props.metadata.dataModel.forEach(function(t){t.name===n.name&&(r.dataColl.forEach(function(e){e.entityId==n.id&&(e.entityId=t.id)}),n.id=t.id,o=t,a=!1)}):this.props.metadata.dataModel.forEach(function(e){e.id===n.id&&(n.name=e.name,o=e,a=!1)}),void 0!==o){for(var i=[],l=o.attributes.slice(),s=n.attributes.slice(),c=0;c<s.length;c++)for(var u=0;u<l.length;u++)0!=s.length&&0!=l.length&&l[u].name===s[c].name&&(i.push(s[c]),l.splice(u,1),s.splice(c,1),u=-1,c=0!==c?c-1:c);(t=i.map(function(e){return An({applyChanges:!0,creatingType:DWKitAdminLang.form.existingwithcontrol},e)})).push.apply(t,En(s.map(function(e){return An({applyChanges:!0,creatingType:DWKitAdminLang.form.new},e)}))),t.push.apply(t,En(l.map(function(e){return An({hideApply:!0,applyChanges:!0,creatingType:DWKitAdminLang.form.existingfromprevdatamodel},e)}))),t=this.removeReferenceAttributes(t)}else t=n.attributes.map(function(e){return An({applyChanges:!0,creatingType:DWKitAdminLang.form.new},e)}),t=this.removeReferenceAttributes(t);return n.attributes=t,{dataModel:n,isModelNew:a}}},{key:"removeReferenceAttributes",value:function(o){return o.forEach(function(r){null!=r.referenceEntityId&&o.forEach(function(e,t,n){-1<e.name.indexOf(r.name)&&e.name!=r.name&&o.splice(t,1)})}),o}},{key:"getDataModelFromReport",value:function(e,t){var n;if(t){var r,o,a=kn(this.state.isCollModelsNew);try{for(a.s();!(o=a.n()).done;){var i=o.value;i.id==e.id&&(r=i.isModelNew)}}catch(e){a.e(e)}finally{a.f()}delete(n=An(An({},e),{},{__type:"datamodel",__state:r?"inserted":"updated"})).applyChanges}else delete(n=An(An({},e),{},{__type:"datamodel",__state:this.state.isModelNew?"inserted":"updated"})).applyChanges;return n.attributes=n.attributes.filter(function(e){return e.applyChanges}).map(function(e){e=An({},e);return delete e.applyChanges,e}),n}},{key:"mappingToDataMap",value:function(e,t,n,r){for(var o=0;o<n.length;o++)for(var a=n[o],i=0;i<e.length;i++){var l=e[i],s=l.attributeName;if(r){var c=l.attributeName.split("_");if(Array.isArray(c)&&1<c.length&&(s=c[c.length-1]),l.isLoadable&&s.toLowerCase()==t.key.toLowerCase()+a)return l.control=t.key,!0}else if(s.toLowerCase()==t.key.toLowerCase()+a)return l.control=t.key,l.isLoadable=!0}return!1}},{key:"mappingToDataColl",value:function(e,n){var r=this;return e.forEach(function(e){var t=r.getModelName(e.entityId);if(null!=t&&t.toLowerCase()==n.key.toLowerCase())return e.control=n.key,!0}),!1}},{key:"isAssociateControl",value:function(e){for(var t=this.state.form,n=0;n<t.dataMap.length;n++)if(t.dataMap[n].control==e)return!0;for(var r=0;r<t.dataColl.length;r++)if(t.dataColl[r].control==e)return!0;return!1}},{key:"getModelName",value:function(e){for(var t=this.props.metadata.dataModel,n=0;n<t.length;n++)if(t[n].id==e)return t[n].name}},{key:"setForm",value:function(e){var n=this;this.loadform(e,function(e){e.dataMap=n.createDataMap(e.entityId,null,"",e.dataMap);function t(t,n){var e=t[s],r=n[s],o=!1,a=!1;if(l.forEach(function(e){t[e]&&(o=!0),n[e]&&(a=!0)}),a<o)return-1;if(o<a)return 1;for(var i=0;i<c.length;i++){if(e==c[i])return-1;if(r==c[i])return 1}return e<r?-1:r<e?1:0}var l=["isLoadable","control"],s="attributeName",c=["Id","ParentId","Name","Email","Number","State","StateName"];e.dataMap.sort(t),null==e.dataColl&&(e.dataColl=[]),e.dataColl.forEach(function(e){e.dataMap=n.createDataMap(e.entityId,null,"",e.dataMap),e.dataMap.sort(t)}),n.setState({form:e,id:e.name,source:JSON.parse(e.source)})})}},{key:"loadform",value:function(e,t,n){var r=new Array;if(r.push({name:"operation",value:this.isMobileMode()?"loadmobileform":"loadform"}),r.push({name:"name",value:e}),!0===n){n=$.ajax({url:this.props.apiUrl,data:r,async:!1,type:"post"}).responseJSON;if(n.success)return n.item;alertify.error(n.message)}else $.ajax({url:this.props.apiUrl,data:r,async:!0,type:"post",success:function(e){e.success?t(e.item):alertify.error(e.message)}})}},{key:"setEntity",value:function(e){e!==this.state.form.entityId&&(this.state.form.entityId=e,this.state.form.dataMap=this.createDataMap(e,null,"",this.state.form.dataMap),this.forceUpdate())}},{key:"addMapForAttributes",value:function(e,t,n,r,o,a){for(var i=0;i<t.length;i++){for(var l=t[i],s=void 0,c=0;c<o.length;c++){var u=o[c];if(u.attributeId===l.id&&u.parentId===n){s=u;break}}var p=null,p=void 0===s?{id:this.NewGUID(),parentId:n,isLoadable:!n,attributeId:l.id,attributeName:r+l.name,referenceEntityId:1===l.typeId?l.referenceEntityId:void 0,attributeSource:a}:An(An({},s),{},{attributeName:r+l.name,referenceEntityId:1===l.typeId?l.referenceEntityId:void 0});e.push(p),l.referenceEntityId&&1===l.typeId&&(p=this.createDataMap(p.referenceEntityId,p.id,p.attributeName+"_",o,!0),e=e.concat(p))}return e}},{key:"createDataMap",value:function(e,t,n,r,o){if(o&&!r.some(function(e){return e.parentId===t}))return[];o=[];if(!e)return o;e=this.getEntityById(e);return e&&(o=this.addMapForAttributes(o,e.attributes,t,n,r,be.DATA_MODEL),e.mode===he.SIMPLIFIED&&(e=this.props.metadata.additionalParams&&this.props.metadata.additionalParams.MasterTableAttributes?this.props.metadata.additionalParams.MasterTableAttributes:[],o=this.addMapForAttributes(o,e.filter(function(e){return!e.hideInMapping}),t,n,r,be.MASTER_TABLE))),o}},{key:"getEntityById",value:function(e){for(var t=this.props.metadata.dataModel,n=0;n<t.length;n++){var r=t[n];if(r.id===e)return r}}},{key:"updateStateAndForce",value:function(){this.forceUpdate()}},{key:"getWarning",value:function(){var e=void 0!==this.props.metadata.additionalParams&&void 0!==this.props.metadata.additionalParams.FormMappingErrors&&null!==this.props.metadata.additionalParams.FormMappingErrors&&this.props.metadata.additionalParams.FormMappingErrors.includes(this.state.id);if(this.state.reloadMetadataAfterSave=e)return V.a.createElement(w.Message,{color:"orange"},DWKitAdminLang.datamap.mismatchmodelmsg)}}])&&Dn(e.prototype,t),n&&Dn(e,n),a}();function Fn(e){return(Fn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Nn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function In(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Mn(e,t,n){return t&&In(e.prototype,t),n&&In(e,n),e}function Bn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wn(e,t)}function Wn(e,t){return(Wn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Un(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=Kn(n);return e=r?(e=Kn(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==Fn(e)&&"function"!=typeof e?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}}function Kn(e){return(Kn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var zn=function(){Bn(n,Dt["a"]);var t=Un(n);function n(e){return Nn(this,n),(e=t.call(this,e)).editform=Tn,e.dataindex="forms",e.idfield="name",e.panelindex="formdata",e.datatype="form",e.title=DWKitAdminLang.datamap.title,e.titleGetter=function(e){return e.datamap.title},e.hidebuttons=!0,e.ignoreidcase=!0,e}return Mn(n,[{key:"gridColumns",value:function(){var e=void 0;null!=this.props.data.additionalParams&&null!=this.props.data.additionalParams.FormMappingErrors&&(e=this.props.data.additionalParams.FormMappingErrors);return[{key:"name",name:DWKitAdminLang.column.name,resizable:!0,formatter:V.a.createElement(qn,{data:this.props.data[this.dataindex],errors:e,parent:this}),getRowMetaData:function(e){return e}}]}}]),n}(),qn=function(){Bn(n,V.a.Component);var t=Un(n);function n(e){return Nn(this,n),t.call(this,e)}return Mn(n,[{key:"render",value:function(){var e=this.props.value,t=this.props.errors;this.props.dependentValues;return null!=t&&t.includes(e)?V.a.createElement("span",{style:{color:"red"}},V.a.createElement("div",{title:e},e)):V.a.createElement("span",null,V.a.createElement("div",{title:e},e))}},{key:"decapitalizeFirstLetter",value:function(e){return e.charAt(0).toLowerCase()+e.slice(1)}}]),n}(),Gn={useJavascript:function(e){try{var t=e.editor,n=e.getVariablesCallback,r=e.language;t.setOptions({enableBasicAutocompletion:!0,enableLiveAutocompletion:!0}),t.completers=[Gn.makeReflectionCompleter(n),Gn.keywordsCompleter(r)]}catch(e){console.log("Autocompleter error",e)}},makeReflectionCompleter:function(s){return{getCompletions:function(e,t,n,r,o){var a=Gn;try{var i=t.getLine(n.row),l=a.getSearchPatterns(i,n.column);o(null,s(l))}catch(e){console.log(e)}},getDocTooltip:function(e){}}},keywordsCompleter:function(i){return{getCompletions:function(e,t,n,r,o){var a=Gn,t=t.getLine(n.row),n=a.getSearchPatterns(t,n.column);o(null,i.ace_suggestions(n))}}},getSearchPatterns:function(e,t){for(var n=Gn,r=[],o="",a=!1,i=t-1;0<=i;i--){var l=e.charAt(i);if(!n.alphaNumberDot(l))break;if("."===l){if(0<i){var s=e.charAt(i-1);if(!n.alphaNumber(s)){a=!0;break}}r.push(o),o=""}else o=l+o}return a&&0===r.length?null:(o&&(0<r.length||o.trim()!=o)&&r.push(o),r)},alphaNumberDot:function(e){return"."===e||Gn.alphaNumber(e)},alphaNumber:function(e){return e&&e.match(/^[0-9a-zA-Z]+$/)},CSharp:{cycles:["for","do","foreach","while","continue","break"],flow:["case","switch","if","else","else if","return"],try:["try","catch","finally","throw"],declare:["new","var","const"],types:["int","short","long","byte","string","bool","object","decimal","float","double","dynamic"],values:["true","false","null","default"],oop:["this","typeof"],macro:["nameof"],thread:["lock"],suggestions:function(){var e=Gn.CSharp;return[].concat(e.cycles,e.flow,e.try,e.declare,e.types,e.values,e.oop,e.macro,e.threadhread)},ace_suggestions:function(e){if(e&&!(1<e.length))return Gn.CSharp.suggestions().map(function(e){return{caption:e,value:e,meta:"keyword"}})}},JavaScript:{cycles:["for","do","while","continue","break"],flow:["if","else","else if","return"],try:["try","catch","finally","throw"],declare:["new","const"],types:["var"],values:["undefined","null"],oop:["typeof"],macro:["JSON.stringify","JSON.parse"],thread:[],suggestions:function(){var e=Gn.JavaScript;return[].concat(e.cycles,e.flow,e.try,e.declare,e.types,e.values,e.oop,e.macro,e.threadhread)},ace_suggestions:function(e){var t=Gn.JavaScript;if(e&&!(1<e.length))return t.suggestions().map(function(e){return{caption:e,value:e,meta:"keyword"}})}}};function Hn(e){return(Hn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Jn(e,t){return(Jn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Yn(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=$n(n);return e=r?(e=$n(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==Hn(e)&&"function"!=typeof e?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}}function $n(e){return($n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Xn=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Jn(e,t)}(o,v["a"]);var e,t,n,r=Yn(o);function o(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(e=r.call(this,e)).state={},e}return e=o,(t=[{key:"redrawEditor",value:function(){var e;0<$("#dwkit-admin-formlogic-editcode").length&&(null==this.editor&&(this.editor=ace.edit("dwkit-admin-formlogic-editcode"),(e=this.editor.getSession()).setMode("ace/mode/javascript"),e.setOption("useWorker",!1)),this.state.form.javaScriptCode,this.editor.setValue(this.state.form.javaScriptCode,-1),Gn.useJavascript({editor:this.editor,getVariablesCallback:this.getVariables.bind(this),language:Gn.JavaScript}))}},{key:"isMobileMode",value:function(){return"mobile"==this.props.parent.props.mode}},{key:"render",value:function(){if(this.state.id!=this.props.data.name)return this.setForm(this.props.data.name),null;this.validate();var e=this.isMobileMode()?{parentPageTitle:DWKitAdminLang.mobileform.title,parentPageOnClick:function(e){this.props.parent.props.parent.openpage("mobileforms"),e.preventDefault()},builderHref:"?apanel=mobileforms&aid="+this.state.id,extraparameter:"&mode=mobile"}:{parentPageTitle:DWKitAdminLang.actionhandler.title,parentPageOnClick:function(e){this.props.parent.back.bind(this.props.parent),e.preventDefault()},builderHref:"?apanel=forms&aid="+this.state.id,extraparameter:""};return V.a.createElement("div",null,V.a.createElement(w.Breadcrumb,null,V.a.createElement(w.Breadcrumb.Section,{onClick:e.parentPageOnClick,link:!0},e.parentPageTitle),V.a.createElement(w.Breadcrumb.Divider,null),V.a.createElement(w.Breadcrumb.Section,{active:!0},this.props.data.name),V.a.createElement(w.Breadcrumb.Divider,{icon:"right angle"}),V.a.createElement(w.Breadcrumb.Section,{href:"?apanel=forms&aid="+this.state.id+e.extraparameter,onClick:this.openBuilder.bind(this)},DWKitAdminLang.actionhandler.builder),V.a.createElement(w.Breadcrumb.Divider,null),V.a.createElement(w.Breadcrumb.Section,{href:"?apanel=formdata&aid="+this.state.id+e.extraparameter,onClick:this.openDataMap.bind(this)},DWKitAdminLang.actionhandler.datamap)),V.a.createElement("div",{className:"dwkitadmin-toolbar",style:{marginTop:"5px"}},V.a.createElement(w.Button,{className:"buttontype1",onClick:this.onSave.bind(this)},DWKitAdminLang.button.save),V.a.createElement(w.Button,{className:"buttontype2",onClick:this.onCancel.bind(this)},DWKitAdminLang.button.cancel),V.a.createElement(w.Button,{floated:"right",className:"buttontype2",onClick:this.onSetDefaultTemplate.bind(this)},DWKitAdminLang.actionhandler.setdefaulttemplatebutton)),V.a.createElement("div",{id:"dwkit-admin-formlogic-editcode",style:{height:"calc(100vh - 180px)"}}))}},{key:"openDataMap",value:function(e){this.props.parent.props.parent.openpage("formdata",this.state.id,void 0,this.props.parent.props.mode),e.preventDefault()}},{key:"openBuilder",value:function(e){this.isMobileMode()?this.props.parent.props.parent.openpage("mobileforms",this.state.id):this.props.parent.props.parent.openpage("forms",this.state.id),e.preventDefault()}},{key:"setForm",value:function(e){var t=this;this.loadform(e,function(e){t.state.form=e,t.state.id=e.name,t.forceUpdate(),t.redrawEditor()})}},{key:"loadform",value:function(e,t){var n=new Array;this.state.id=this.props.data.name,n.push({name:"operation",value:this.isMobileMode()?"loadmobileform":"loadform"}),n.push({name:"name",value:e}),$.ajax({url:this.props.apiUrl,data:n,async:!0,type:"post",success:function(e){e.success?t(e.item):alertify.error(e.message)}})}},{key:"onSave",value:function(){var e=ace.edit("dwkit-admin-formlogic-editcode");this.state.form.javaScriptCode=e.getValue();var t=this;if(!this.validate())return alertify.error(DWKitAdminLang.msg.checkerrorsonform),void this.forceUpdate();this.state.form.__type=this.isMobileMode()?"mobileformcode":"formcode",this.state.form.__state="updated",this.ChangeData([this.state.form],function(e){t.ResetSystemProps(t.state.form),t.forceUpdate()})}},{key:"onCancel",value:function(){this.props.onCancel.bind(this.props.parent)(),this.redrawEditor()}},{key:"validate",value:function(){var e=this.state.form;return null!=e&&(e.__error={},!0)}},{key:"onSetDefaultTemplate",value:function(){var e="{\n";e+="//  validate: function (args /*{data, originalData, state, component, formName, index, controlRef, eventArgs, isChild}*/){\n//    var errors = DWKitApp.API.validate(args.data, args.modalId, args.state);\n//    if(errors){\n//      throw {\n//        level: 1,\n//        message: undefined,\n//        formerrors: {\n//          modalId: args.modalId,\n//          errors: errors\n//        }\n//      }\n//    }\n//    return DWKitApp.API.convertToState(args.modalId, {errors: null});\n//  }",this.props.controlActions;var t=this.getControlsActions(JSON.parse(this.state.form.source));if(null!=t)for(var n=0;n<t.length;n++){for(var r=!1,o=0;o<this.props.controlActions.length;o++)if(t[n]==this.props.controlActions[o]){r=!0;break}r||(e+=",\n\n",e+="  "+t[n]+": function (args){\n    //TODO: Insert your code\n  }")}this.editor.setValue(e+="\n}",-1)}},{key:"getControlsActions",value:function(e){if(null==e||e.constructor!=Array)return[];var r=this,o=[];return e.forEach(function(e){if(null!=e.events)for(var t in e.events){var n=e.events[t].actions;Array.isArray(n)&&n.forEach(function(e){for(var t=!1,n=0;n<o.length;n++)if(e===o[n]){t=!0;break}t||o.push(e)})}null!=e.children&&0<e.children.length&&(n=r.getControlsActions(e.children)).forEach(function(e){for(var t=!1,n=0;n<o.length;n++)if(e===o[n]){t=!0;break}t||o.push(e)})}),o}},{key:"getVariables",value:function(e){for(var t=this.isMobileMode()?Zn:er,n=e.length-1;0<=n;n--)if(e[n]){for(var r=e[n].toLowerCase(),o=!1,a=void 0,i=0;i<t.length;i++){var l=t[i];if(l.name.toLocaleLowerCase()==r){a=l,o=!0;break}}if(!(t=o?a.children:void 0))break}return t?t.map(function(e){return{caption:e.name,value:e.name,meta:e.meta}}):[]}}])&&Qn(e.prototype,t),n&&Qn(e,n),o}(),Zn=[{name:"window",meta:"dwkit object",children:[{name:"DWKitApp",meta:"dwkit object",children:[{name:"API",meta:"dwkit object",children:[{name:"getModelConrol",meta:"function(e,t)"},{name:"changeModelControl",meta:"function(e,t,n,r)"},{name:"changeModelControls",meta:"function(e,t)"},{name:"setDataField",meta:"function(e,t,n)"},{name:"rewriteControlModel",meta:"function(e,t,n)"},{name:"clearErrors",meta:"function"},{name:"forceUpdate",meta:"function"},{name:"redirectToForm",meta:"function(e,t)"},{name:"redirectToFlow",meta:"function(e,t)"},{name:"redirect",meta:"function(e,t,n)"},{name:"formValidate",meta:"function(e)"},{name:"createElement",meta:"function(e,t,n)"},{name:"checkRole",meta:"function(e)"},{name:"checkPermission",meta:"function(e,t)"},{name:"callUrl",meta:"function(e,t,n,r)"},{name:"callServerCodeAction",meta:"function(e,t,n)"},{name:"callServerCodeActionDispatch",meta:"function(e,t,n)"},{name:"openModal",meta:"function(e,t,n)"},{name:"openModalDispatch",meta:"function(e,t,n)"},{name:"executeActions",meta:"function(e)"},{name:"executeActionsDispatch",meta:"function(e)"},{name:"setCookie",meta:"function(e,t)"},{name:"getCookie",meta:"function(e)"},{name:"getParameterFormUrlOrCookie",meta:"function(e)"},{name:"setAuth",meta:"function(e)"},{name:"loadBackendScript",meta:"function(e,t,n)"},{name:"redirectToUrl",meta:"function(url)"},{name:"switchSceen",meta:"function (screenName)"},{name:"validate",meta:"function (data, modalId, state)"}]},{name:"props",meta:"object"},{name:"context",meta:"object"},{name:"refs",meta:"object"},{name:"updater",meta:"object"},{name:"state",meta:"object"}]},{name:"DWKitApp.API",meta:"dwkit object"},{name:"DWKitStore",meta:"dwkit object",children:[{name:"dispatch",meta:"function"},{name:"subscribe",meta:"function (t)"},{name:"getState",meta:"function"},{name:"replaceReducer",meta:"function (n)"},{name:"liftedStore",meta:"function"},{name:"resetForm",meta:"function (e)"},{name:"logoff",meta:"function"},{name:"loadStateFromStorage",meta:"function"},{name:"saveStateToStorage",meta:"function"},{name:"resetStateInStorage",meta:"function"},{name:"setScreen",meta:"function (screenName)"},{name:"switchSceen",meta:"function (screenName)"}]}]},{name:"args",meta:"object",children:[{name:"key",meta:"string"},{name:"data",meta:"object"},{name:"originalData",meta:"object"},{name:"state",meta:"object"},{name:"component",meta:"object"},{name:"formName",meta:"string"},{name:"controlRef",meta:"object"},{name:"sourceControlRef",meta:"object"},{name:"sourceControlValue",meta:"object"},{name:"parameters",meta:"object"},{name:"modalId",meta:"object"},{name:"callContext",meta:"object"}]}],er=[{name:"DWKitApp",meta:"dwkit object",children:[{name:"API",meta:"dwkit object",children:[{name:"getModelConrol",meta:"function(e,t)"},{name:"changeModelControl",meta:"function(e,t,n,r)"},{name:"changeModelControls",meta:"function(e,t)"},{name:"setDataField",meta:"function(e,t,n)"},{name:"rewriteControlModel",meta:"function(e,t,n)"},{name:"clearErrors",meta:"function"},{name:"forceUpdate",meta:"function"},{name:"redirectToForm",meta:"function(e,t)"},{name:"redirectToFlow",meta:"function(e,t)"},{name:"redirectToPage",meta:"function(e,t)"},{name:"redirect",meta:"function(e,t,n)"},{name:"formValidate",meta:"function(e)"},{name:"createElement",meta:"function(e,t,n)"},{name:"checkRole",meta:"function(e)"},{name:"checkPermission",meta:"function(e,t)"},{name:"callUrl",meta:"function(e,t,n,r)"},{name:"callServerCodeAction",meta:"function(e,t,n)"},{name:"callServerCodeActionDispatch",meta:"function(e,t,n)"},{name:"openModal",meta:"function(e,t,n)"},{name:"openModalDispatch",meta:"function(e,t,n)"},{name:"executeActions",meta:"function(e)"},{name:"executeActionsDispatch",meta:"function(e)"},{name:"setCookie",meta:"function(e,t)"},{name:"getCookie",meta:"function(e)"},{name:"getParameterFormUrlOrCookie",meta:"function(e)"},{name:"setAuth",meta:"function(e)"},{name:"loadBackendScript",meta:"function(e,t,n)"},{name:"redirectToUrl",meta:"function(url)"},{name:"validate",meta:"function (data, modalId, state)"}]},{name:"props",meta:"object"},{name:"context",meta:"object"},{name:"refs",meta:"object"},{name:"updater",meta:"object"},{name:"state",meta:"object"}]},{name:"DWKitApp.API",meta:"dwkit object"},{name:"DWKitStore",meta:"dwkit object",children:[{name:"dispatch",meta:"function"},{name:"subscribe",meta:"function (t)"},{name:"getState",meta:"function"},{name:"replaceReducer",meta:"function (n)"},{name:"liftedStore",meta:"function"},{name:"resetForm",meta:"function (e)"},{name:"logoff",meta:"function"}]},{name:"args",meta:"object",children:[{name:"key",meta:"string"},{name:"data",meta:"object"},{name:"originalData",meta:"object"},{name:"state",meta:"object"},{name:"component",meta:"object"},{name:"formName",meta:"string"},{name:"controlRef",meta:"object"},{name:"sourceControlRef",meta:"object"},{name:"sourceControlValue",meta:"object"},{name:"parameters",meta:"object"},{name:"modalId",meta:"object"},{name:"callContext",meta:"object"}]},{name:"window",meta:"js object",children:[{name:"open",meta:"function(e)"}]}];function tr(e){return(tr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rr(e,t){return(rr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function or(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=ar(n);return e=r?(e=ar(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==tr(e)&&"function"!=typeof e?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}}function ar(e){return(ar=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ir=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rr(e,t)}(o,Dt["a"]);var e,t,n,r=or(o);function o(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(e=r.call(this,e)).editform=Xn,e.dataindex="forms",e.idfield="name",e.panelindex="actionhandlers",e.datatype="form",e.title=DWKitAdminLang.actionhandler.title,e.titleGetter=function(e){return e.actionhandler.title},e.hidebuttons=!0,e.ignoreidcase=!0,e}return e=o,(t=[{key:"gridColumns",value:function(){return[{key:"name",name:DWKitAdminLang.column.name,resizable:!0}]}}])&&nr(e.prototype,t),n&&nr(e,n),o}();function lr(e){return(lr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cr(e,t){return(cr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ur(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=pr(n);return e=r?(e=pr(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==lr(e)&&"function"!=typeof e?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}}function pr(e){return(pr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var dr=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&cr(e,t)}(o,v["a"]);var e,t,n,r=ur(o);function o(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(e=r.call(this,e)).state={},e}return e=o,(t=[{key:"redrawEditor",value:function(){var e;0<$("#dwkit-admin-localization").length&&(null==this.editor&&(this.editor=ace.edit("dwkit-admin-localization"),this.editor.getSession().setMode("ace/mode/javascript")),e=this.state.obj.source,this.editor.setValue(e=null==e?"{\n\n\n}":e,-1))}},{key:"render",value:function(){return this.state.id!=this.props.data.name?(this.setObject(this.props.data.name),null):(this.validate(),V.a.createElement("div",null,V.a.createElement(w.Breadcrumb,null,V.a.createElement(w.Breadcrumb.Section,{onClick:this.props.parent.back.bind(this.props.parent),link:!0},DWKitAdminLang.localization.title),V.a.createElement(w.Breadcrumb.Divider,null),V.a.createElement(w.Breadcrumb.Section,{active:!0},this.props.data.name)),V.a.createElement("div",{className:"dwkitadmin-toolbar",style:{marginTop:"5px"}},V.a.createElement(w.Button,{className:"buttontype1",onClick:this.onSave.bind(this)},DWKitAdminLang.button.save),V.a.createElement(w.Button,{className:"buttontype2",onClick:this.onCancel.bind(this)},DWKitAdminLang.button.cancel),V.a.createElement(w.Button,{floated:"right",className:"buttontype2",onClick:this.onUpdateTemplate.bind(this)},DWKitAdminLang.localization.updatetemplatebutton)),V.a.createElement("div",{id:"dwkit-admin-localization",style:{height:"calc(100vh - 180px)"}})))}},{key:"setObject",value:function(e){var t=this;this.loadobject(e,function(e){t.state.obj=e,t.state.id=e.name,t.forceUpdate(),t.redrawEditor()})}},{key:"loadobject",value:function(e,t){var n=new Array;this.state.id=this.props.data.name,n.push({name:"operation",value:"loadlocalization"}),n.push({name:"name",value:e}),$.ajax({url:this.props.apiUrl,data:n,async:!0,type:"post",success:function(e){e.success?t(e.item):alertify.error(e.message)}})}},{key:"onSave",value:function(){var e=ace.edit("dwkit-admin-localization");this.state.obj.source=e.getValue();var n=this;if(!this.validate())return alertify.error(DWKitAdminLang.msg.checkerrorsonform),void this.forceUpdate();this.state.obj.__type="localization",this.state.obj.__state="updated",this.ChangeData([this.state.obj],function(e){n.ResetSystemProps(n.state.obj),n.forceUpdate();var t=!1;n.props.metadata.localization.forEach(function(e){if(e.name==n.state.obj.name)return!(t=!0)}),t||n.props.metadata.localization.push({name:n.state.obj.name})})}},{key:"onCancel",value:function(){this.props.onCancel.bind(this.props.parent)(),this.redrawEditor()}},{key:"validate",value:function(){return!0}},{key:"onUpdateTemplate",value:function(){var t=this,e=new Array,n=ace.edit("dwkit-admin-localization").getValue();e.push({name:"operation",value:"localizationupdatetemplate"}),e.push({name:"name",value:t.state.obj.name}),e.push({name:"source",value:n}),$.ajax({url:t.props.apiUrl,data:e,async:!0,type:"post",success:function(e){e.success?t.editor.setValue(e.item,-1):alertify.error(e.message)}})}}])&&sr(e.prototype,t),n&&sr(e,n),o}();function fr(e){return(fr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hr(e,t){return(hr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function yr(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=br(n);return e=r?(e=br(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==fr(e)&&"function"!=typeof e?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}}function br(e){return(br=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var gr=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&hr(e,t)}(o,Dt["a"]);var e,t,n,r=yr(o);function o(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(e=r.call(this,e)).editform=dr,e.dataindex="localization",e.idfield="name",e.panelindex="localization",e.datatype="localization",e.title=DWKitAdminLang.localization.title,e.titleGetter=function(e){return e.localization.title},e.ignoreidcase=!0,e}return e=o,(t=[{key:"gridColumns",value:function(){return[{key:"name",name:DWKitAdminLang.column.name,resizable:!0}]}}])&&mr(e.prototype,t),n&&mr(e,n),o}();function vr(e){return(vr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vr(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function wr(r){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?Vr(Object(o),!0).forEach(function(e){var t,n;t=r,e=o[n=e],n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):Vr(Object(o)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))})}return r}function Er(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kr(e,t){return(kr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Cr(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=_r(n);return e=r?(e=_r(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==vr(e)&&"function"!=typeof e?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}}function _r(e){return(_r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Or={icon:"browser"},Sr={icon:"server"},Ar={icon:"lightning"},Dr=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&kr(e,t)}(o,v["a"]);var e,t,n,r=Cr(o);function o(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(e=r.call(this,e)).state={dropzoneactive:!0,actionHandlers:[],showbuilder:!0,forms:{}},e.mobileBuilderId="mobileBuilder",e}return e=o,(t=[{key:"loadForm",value:function(){var r=this,t=!1;if(r.state.id=r.props.data.name,this.props.metadata.mobileForms.forEach(function(e){e.name===r.props.data.name&&(t=!0)}),!t)return this.props.data.__state="inserted",void r.onClearForm();var e=[];e.push({name:"operation",value:"loadmobileform"}),e.push({name:"name",value:r.props.data.name}),$.ajax({url:r.props.apiUrl,data:e,async:!0,type:"post",success:function(e){var t,n;e.success?(t=JSON.parse(e.item.source),n=r.getMobilebuilder(),r.state.actionHandlers=e.item.actionHandlers,n.setModel(t),r.initMobileBuilder(),r.forceUpdate()):alertify.error(e.message)}})}},{key:"messageClose",value:function(){this.setState({message:void 0})}},{key:"getAdditionalDataForControl",value:function(e,t,n){var r=t.startIndex,o=t.pageSize,a=(t.filters,t.sort,t.model);if("dictionary"===e.props["data-buildertype"]||"treepicker"===e.props["data-buildertype"]){for(var i=[],l=0;l<3;l++){var s={};s.key=a+"_"+l,s.text=a+"_"+l,s.value=l,i.push(s)}n({items:i})}else{var c=[];if(Array.isArray(e.props.columns))for(var u=0;u<o;u++)!function(t){var n={};e.props.columns.forEach(function(e){n[e.key]=e.key+"_"+(Number(r)+Number(t))}),c.push(n)}(u);else c.push({}),c.push({}),c.push({}),c.push({}),c.push({});t=c.length;n({startIndex:r,pageSize:o,rowsCount:t,items:c})}}},{key:"render",value:function(){var e=this,t=DWKitAdminLang.mobileform,n=[];this.props.metadata.workflow.forEach(function(e){n.push({text:e.code,value:e.code})});function r(){e.setState({workflowopen:!1})}function o(){e.setState({securityopen:!1})}var a=C(this.state.message),i=this.state.showbuilder?"":"dwkit-formbuilder-selector-preview",l=this.state.isFullScreen?"dwkit-admin-formbuilder-container-fullscreen":"dwkit-admin-formbuilder-container";return V.a.createElement("div",null,V.a.createElement("div",null,V.a.createElement("div",{className:"dwkit-admin-formheader-breadcrumb"},V.a.createElement(w.Breadcrumb,null,V.a.createElement(w.Breadcrumb.Section,{onClick:this.props.parent.back.bind(this.props.parent),link:!0},t.title),V.a.createElement(w.Breadcrumb.Divider,null),V.a.createElement(w.Breadcrumb.Section,{active:!0},this.props.data.name),V.a.createElement(w.Breadcrumb.Divider,{icon:"right angle"}),V.a.createElement(w.Breadcrumb.Section,{href:"?apanel=formdata&mode=mobile&aid="+this.state.id,onClick:this.openDataMap.bind(this)},t.datamap),V.a.createElement(w.Breadcrumb.Divider,null),V.a.createElement(w.Breadcrumb.Section,{href:"?apanel=actionhandlers&mode=mobile&aid="+this.state.id,onClick:this.openActionHandlers.bind(this)},t.actionhandler))),V.a.createElement("div",{className:"dwkit-admin-formheader-parameters"},V.a.createElement(w.Checkbox,{name:"isTemplate",label:t.template,checked:this.props.data.isTemplate,onChange:this.handleChange.bind(this)}))),V.a.createElement("div",{id:"formbuildercontainer",className:l},V.a.createElement("div",null,V.a.createElement("div",{className:"dwkit-admin-form-buttons"},V.a.createElement(w.Button,{className:"buttontype1",onClick:this.onSave.bind(this)},DWKitAdminLang.button.save),V.a.createElement(w.Button,{className:"buttontype2",onClick:this.onDownload.bind(this)},DWKitAdminLang.button.download),V.a.createElement(w.Button,{className:"buttontype2",onClick:this.onUpload.bind(this)},DWKitAdminLang.button.upload),V.a.createElement(w.Button,{className:"buttontype2",onClick:function(){e.setState({workflowopen:!0})}},DWKitAdminLang.button.workflow),V.a.createElement(w.Button,{className:"buttontype2",onClick:function(){e.setState({securityopen:!0})}},DWKitAdminLang.button.security),V.a.createElement("div",{style:{display:"inline",float:"right"}},V.a.createElement("div",{className:"dwkit-formbuilder-selector"},V.a.createElement("span",{className:i},t.viewer),V.a.createElement(w.Checkbox,{toggle:!0,name:"cbShowDropzones",label:t.builder,checked:this.state.showbuilder,onChange:this.handlePreviewClick.bind(this)})),V.a.createElement(w.Button,{className:"buttontype2",onClick:this.onFullscreen.bind(this)},t.fullscreenbutton),V.a.createElement(w.Button,{className:"buttontype2",disabled:!this.state.showbuilder,onClick:this.onClearForm.bind(this)},t.clearformbutton)),V.a.createElement("form",{action:"/",method:"post",id:"builderUploadForm",style:{display:"none"},onSubmit:this.onEmpty.bind(this)},V.a.createElement("input",{type:"file",id:"builderUploadFile",onChange:this.onUpload_onchange.bind(this)}),V.a.createElement("input",{type:"submit",id:"builderUploadSubmit"}))),this.renderBuilder(),V.a.createElement(w.Modal,{dimmer:"blurring",open:a,onClose:this.messageClose.bind(this)},V.a.createElement(w.Modal.Header,null,t.messagetitle),V.a.createElement(w.Modal.Content,null,V.a.createElement("p",null,this.state.message)),V.a.createElement(w.Modal.Actions,null,V.a.createElement(w.Button,{icon:"check",content:DWKitAdminLang.button.ok,onClick:this.messageClose.bind(this)}))),V.a.createElement(w.Modal,{dimmer:"blurring",open:this.state.workflowopen,onClose:r},V.a.createElement(w.Modal.Header,null,t.workflowwindowtitle),V.a.createElement(w.Modal.Content,null,V.a.createElement("p",null,t.workflowinfoblock),V.a.createElement(w.Form.Dropdown,{label:t.workflowschemesfield,name:"schemes",multiple:!0,search:!0,selection:!0,options:n,value:k(this.props.data.schemes)?[]:this.props.data.schemes,onChange:this.handleChange.bind(this)})),V.a.createElement(w.Modal.Actions,null,V.a.createElement(w.Button,{className:"buttontype1",content:DWKitAdminLang.button.apply,onClick:r}))),V.a.createElement(w.Modal,{dimmer:"blurring",open:this.state.securityopen,onClose:o},V.a.createElement(w.Modal.Header,null,t.securitywindowtitle),V.a.createElement(w.Modal.Content,null,V.a.createElement("p",null,t.securityinfoblock),V.a.createElement(w.Form.Input,{label:t.permissionsgroupfield,name:"securityGroup",value:this.props.data.securityGroup,onChange:this.handleChange.bind(this)})),V.a.createElement(w.Modal.Actions,null,V.a.createElement(w.Button,{className:"buttontype1",content:DWKitAdminLang.button.apply,onClick:o}))))))}},{key:"renderBuilder",value:function(){var e=this;return V.a.createElement("div",{},V.a.createElement("iframe",{id:this.mobileBuilderId,src:"mobileframe/index.html",name:this.mobileBuilderId,style:{width:"100%",minHeight:1200,border:"none"},onLoad:function(){return e.initMobileBuilder(!0)}}))}},{key:"initMobileBuilder",value:function(e){var t,n,r=[];this.state.actionHandlers&&(r=this.state.actionHandlers.map(function(e){return wr(wr({},Ar),{},{text:e})})),this.props.parent.props.controlActions&&(t=this.props.parent.props.controlActions.map(function(e){return"string"==typeof e?wr(wr({},Or),{},{text:e}):e}),r=r.concat(t.filter(function(t){return r.every(function(e){return e.text!==t.text})}))),this.props.parent.props.controlMobileActions&&(n=this.props.parent.props.controlMobileActions.map(function(e){return"string"==typeof e?wr(wr({},Or),{},{text:e}):e}),r=r.concat(n.filter(function(t){return r.every(function(e){return e.text!==t.text})}))),this.props.parent.props.data&&this.props.parent.props.data.codeActions&&(n=this.props.parent.props.data.codeActions.filter(function(e){return 1===e.type}),r=r.concat(n.filter(function(t){return r.every(function(e){return e.text!==t.name})}).map(function(e){return wr(wr({},Sr),{},{text:e.name})}))),r.sort(function(e,t){return e.text.localeCompare(t.text)}),this.getMobilebuilder().init({actions:r,getFormFunc:this.getForm.bind(this),getFormList:this.getFormList.bind(this),getAdditionalDataForControl:this.getAdditionalDataForControl.bind(this),localization:window.DWKitAdminLang.formbuilder,templates:this.getTemplateList(),externalControlList:this.props.externalControlList,externalControlRender:this.props.externalControlRender,externalControlsOnly:this.props.externalControlsOnly}),e&&this.loadForm()}},{key:"openDataMap",value:function(e){this.props.parent.props.parent.openpage("formdata",this.state.id,void 0,"mobile"),e.preventDefault()}},{key:"openActionHandlers",value:function(e){this.props.parent.props.parent.openpage("actionhandlers",this.state.id,void 0,"mobile"),e.preventDefault()}},{key:"getMobilebuilder",value:function(){return parent.window.frames[this.mobileBuilderId].BuilderAppWeb}},{key:"onClearForm",value:function(){this.getMobilebuilder().resetModel()}},{key:"handlePreviewClick",value:function(e,t){t.name;var n=t.checked;this.setState({showbuilder:n});t=this.getMobilebuilder();n?t.showBuilder():t.showViewer()}},{key:"onSave",value:function(){var e=this,t=this.getMobilebuilder().getModel();e.props.data.source=JSON.stringify(t),e.setUpdatedState(e.props.data),e.props.data.__type=e.props.parent.datatype,e.ChangeData([e.props.data],function(){e.ResetSystemProps(e.props.data),e.props.parent.applyeditrow()})}},{key:"onDownload",value:function(){this.getMobilebuilder().download()}},{key:"onUpload",value:function(){document.getElementById("builderUploadFile").click()}},{key:"onUpload_onchange",value:function(){this.getMobilebuilder().upload(document.getElementById("builderUploadFile"),function(){alertify.success(DWKitAdminLang.msg.fileupoaded)})}},{key:"onFullscreen",value:function(){this.setState({isFullScreen:!this.state.isFullScreen})}},{key:"handleChange",value:function(e,t){var n=t.name,r=t.value,t=t.checked;this.props.data[n]=void 0!==t?t:r,this.forceUpdate()}},{key:"onEmpty",value:function(){}},{key:"getForm",value:function(e){if(this.state.forms[e])return this.state.forms[e];Pace.start();var t=new Array;t.push({name:"operation",value:"loadmobileform"}),t.push({name:"name",value:e});var n=$.ajax({url:this.props.apiUrl,data:t,async:!1,type:"post"}).responseJSON;Pace.stop();t=void 0;return n.success?null!=n.item&&null!=n.item.source?t=c.a.parse(n.item.source):alertify.error("Builder: Incorrect source of '"+e+"' form!"):alertify.error(n.message),this.state.forms[e]=t}},{key:"getFormList",value:function(){var t=[];return this.props.metadata.mobileForms.forEach(function(e){t.push(e.name)}),t}},{key:"getTemplateList",value:function(){var t=this,n=[];return this.props.metadata.mobileForms.forEach(function(e){e.isTemplate&&e.name!==t.props.data.name&&n.push(e.name)}),n}}])&&Er(e.prototype,t),n&&Er(e,n),o}();function xr(e){return(xr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Lr(e,t){return(Lr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Rr(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=jr(n);return e=r?(e=jr(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==xr(e)&&"function"!=typeof e?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}}function jr(e){return(jr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Tr=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Lr(e,t)}(o,Dt["a"]);var e,t,n,r=Rr(o);function o(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(e=r.call(this,e)).editform=Dr,e.dataindex="mobileForms",e.idfield="name",e.panelindex="mobileforms",e.datatype="mobileform",e.title=DWKitAdminLang.mobileform.title,e.titleGetter=function(e){return e.mobileform.title},e.ignoreidcase=!0,e}return e=o,(t=[{key:"gridColumns",value:function(){return[{key:"name",name:DWKitAdminLang.column.name,resizable:!0},{key:"isTemplate",name:DWKitAdminLang.column.template,resizable:!0,type:"checkbox"}]}},{key:"renderToolbarExtraButtons",value:function(){var e=this,t=[{key:"name",name:DWKitAdminLang.mobileform.namecol,control:"input"},{key:"title",name:DWKitAdminLang.mobileform.titlecol,control:"input"},{key:"icon",name:DWKitAdminLang.mobileform.iconcol,control:"input"},{key:"target",name:DWKitAdminLang.mobileform.targetcol,control:"input"}],n=[];n.push(V.a.createElement(w.Button,{onClick:this.showSettings.bind(this)},DWKitAdminLang.mobileform.settings));var r="tabs"==this.state.navigationtype||"drawer"==this.state.navigationtype,t=V.a.createElement(w.Modal,{dimmer:"blurring",open:this.state.settingsopen,onClose:function(){return e.setState({settingsopen:!1})}},V.a.createElement(w.Modal.Header,null,DWKitAdminLang.mobileform.settings),V.a.createElement(w.Modal.Content,null,V.a.createElement(w.Form,null,V.a.createElement(w.Form.Input,{key:"defaultform",label:DWKitAdminLang.mobileform.defaultmobileform,name:"defaultform",list:"mobileformslist",value:this.state.defaultform,onChange:this.onChange.bind(this)}),this.renderFormsList("mobileformslist",!0),V.a.createElement("h3",null,DWKitAdminLang.mobileform.navigation),V.a.createElement(w.Form.Group,null,V.a.createElement(w.Form.Field,null,V.a.createElement(w.Card,{color:this.state.navigationtype&&"tabs"!=this.state.navigationtype?"white":"red",style:{width:"200px"},link:!0,onClick:function(){e.onChange(null,{name:"navigationtype",value:"tabs"})}},V.a.createElement(w.Image,{src:"/images/navigationtabs.png",wrapped:!0,ui:!1}),V.a.createElement(w.Card.Content,null,V.a.createElement(w.Card.Header,null,DWKitAdminLang.mobileform.navigationtab)))),V.a.createElement(w.Form.Field,null,V.a.createElement(w.Card,{color:"drawer"==this.state.navigationtype?"red":"white",style:{width:"200px"},link:!0,onClick:function(){e.onChange(null,{name:"navigationtype",value:"drawer"})}},V.a.createElement("video",{style:{width:"100%"},playsinline:"true",autoplay:"true",loop:"true"},V.a.createElement("source",{src:"/images/navigationdrawer.mov"})),V.a.createElement(w.Card.Content,null,V.a.createElement(w.Card.Header,null,DWKitAdminLang.mobileform.navigationdrawer)))),V.a.createElement(w.Form.Field,null,V.a.createElement(w.Card,{color:"stack"==this.state.navigationtype?"red":"white",style:{width:"200px"},link:!0,onClick:function(){e.onChange(null,{name:"navigationtype",value:"stack"})}},V.a.createElement("video",{style:{width:"100%"},playsinline:"true",autoplay:"true",loop:"true"},V.a.createElement("source",{src:"/images/navigationstack.mov"})),V.a.createElement(w.Card.Content,null,V.a.createElement(w.Card.Header,null,DWKitAdminLang.mobileform.navigationstack))))),r&&V.a.createElement("div",null,V.a.createElement("h3",null,DWKitAdminLang.mobileform.menu),V.a.createElement("span",null,V.a.createElement("a",{target:"_blank",style:{cursor:"cursor"},href:"https://materialdesignicons.com/"},"Icon Set")),V.a.createElement(ge.SemanticCollectionEditor,{columns:t,name:"menuelements",value:this.state.menuelements,draggable:!0,onChange:this.onChange.bind(this)})))),V.a.createElement(w.Modal.Actions,null,V.a.createElement(w.Button,{className:"buttontype1",content:DWKitAdminLang.button.apply,onClick:this.applySettings.bind(this)})));return n.push(t),n}},{key:"showSettings",value:function(){var e=this.getSettings("MobileMenuElements");try{e=c.a.parse(e)}catch(e){}this.setState({settingsopen:!0,defaultform:this.getSettings("DefaultMobileForm"),navigationtype:this.getSettings("MobileNavigationType"),menuelements:e})}},{key:"applySettings",value:function(){var e=this.СloneObj(this.props.data.settings);this.setSettings("DefaultMobileForm",this.state.defaultform,e),this.setSettings("MobileNavigationType",this.state.navigationtype,e),this.setSettings("MobileMenuElements",c.a.stringify(this.state.menuelements),e);var t=this;this.ChangeData(e,function(e){t.props.parent.load(),t.setState({settingsopen:!1})})}},{key:"onChange",value:function(e,t){var n=t.name,r=t.checked,t=t.value;this.state[n]=void 0===r?t:r,this.forceUpdate()}},{key:"renderFormsList",value:function(e,t){var t=t?this.props.data.mobileForms:this.props.data.forms,n=[];return Array.isArray(t)&&t.forEach(function(e){n.push(V.a.createElement("option",{key:e.name,value:e.name}))}),V.a.createElement("datalist",{key:e,id:e},n)}},{key:"getSettings",value:function(t){var e=this.props.data.settings,n=void 0;return e.forEach(function(e){e&&e.name==t&&(n=e)}),n&&n.value}},{key:"setSettings",value:function(t,e,n){var r=void 0;return n.forEach(function(e){e&&e.name==t&&(r=e)}),null==r?n.push(r={name:t,value:e,__state:"inserted"}):r.value!=e&&(r.value=e,this.setUpdatedState(r)),r.__type="settings",r}}])&&Pr(e.prototype,t),n&&Pr(e,n),o}();function Fr(e){return(Fr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Nr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ir(e,t){return(Ir=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Mr(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=Br(n);return e=r?(e=Br(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==Fr(e)&&"function"!=typeof e?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}}function Br(e){return(Br=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Wr=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ir(e,t)}(o,v["a"]);var e,t,n,r=Mr(o);function o(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(e=r.call(this,e)).state={},e}return e=o,(t=[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.resizeDesigner.bind(this)),this.redrawDesigner(),this.resizeDesigner()}},{key:"componentWillUnmount",value:function(){null!=this.wfdesigner&&this.wfdesigner.destroy()}},{key:"resizeDesigner",value:function(){var n=this;this.wfResizeTimer&&(clearTimeout(this.wfResizeTimer),this.wfdesigner.wfResizeTimer=void 0),this.wfResizeTimer=setTimeout(function(){var e=$(window).width(),t=$(window).height(),e=e-285-n.props.deltaWidth,t=t-185-n.props.deltaHeight;n.wfdesigner.resize(e,t)},150)}},{key:"redrawDesigner",value:function(){var e,t,n;null!=this.props.parent.props.id&&(e=$(window).width(),t=$(window).height(),WorkflowDesignerConstants.FormMaxHeight=600,null!=this.wfdesigner&&(n=this.wfdesigner.data,this.wfdesigner.destroy()),this.wfdesigner=new WorkflowDesigner({name:"dwkit-admin-wfdesigner",apiurl:this.props.workflowApi,renderTo:"dwkit-admin-wfdesigner",templatefolder:"/templates/",graphwidth:e-285-this.props.deltaWidth,graphheight:t-185-this.props.deltaHeight}),null==n?this.loadscheme():(this.wfdesigner.data=n,this.wfdesigner.render()))}},{key:"loadscheme",value:function(){var e={schemecode:this.props.data.code,processid:void 0};this.wfdesigner.exists(e)?this.wfdesigner.load(e):(this.wfdesigner.create(),this.props.data.__state="inserted"),this.state.id=this.props.data.code}},{key:"onClearScheme",value:function(){this.wfdesigner.create()}},{key:"onSave",value:function(){var e=this;e.wfdesigner.schemecode=e.props.data.code;var t=this.wfdesigner.validate();null!=t&&0<t.length?alertify.error(t):this.wfdesigner.save(function(){e.props.data.__state;e.ResetSystemProps(e.props.data),e.props.parent.applyeditrow(),alertify.success(DWKitAdminLang.workflow.schemesaved)})}},{key:"onDownload",value:function(){this.wfdesigner.downloadscheme()}},{key:"onUpload",value:function(){$("#dwkitadmin-workflow-uploadfile").trigger("click")}},{key:"onUpload_onchange",value:function(){this.wfdesigner.uploadscheme($("#dwkitadmin-workflow-uploadform")[0],function(){alertify.success(DWKitAdminLang.msg.fileupoaded)})}},{key:"messageClose",value:function(){this.setState({message:void 0})}},{key:"render",value:function(){null!=this.wfdesigner&&this.state.id!=this.props.data.code&&this.loadscheme();var e=null!=this.state.message;return V.a.createElement("div",null,V.a.createElement(w.Breadcrumb,null,V.a.createElement(w.Breadcrumb.Section,{onClick:this.props.parent.back.bind(this.props.parent),link:!0},DWKitAdminLang.workflow.title),V.a.createElement(w.Breadcrumb.Divider,null),V.a.createElement(w.Breadcrumb.Section,{active:!0},this.props.data.code),V.a.createElement(w.Breadcrumb.Divider,{icon:"right angle"}),V.a.createElement(w.Breadcrumb.Section,{href:"/workflow/"+this.props.id,target:"_blank"},DWKitAdminLang.form.open)),V.a.createElement("div",{className:"dwkit-admin-wfdesigner-buttons"},V.a.createElement(w.Button,{className:"buttontype2",floated:"right",onClick:this.onClearScheme.bind(this)},DWKitAdminLang.workflow.clearschemebutton),V.a.createElement(w.Button,{className:"buttontype1",onClick:this.onSave.bind(this)},DWKitAdminLang.button.save),V.a.createElement(w.Button,{className:"buttontype2",onClick:this.onDownload.bind(this)},DWKitAdminLang.button.download),V.a.createElement(w.Button,{className:"buttontype2",onClick:this.onUpload.bind(this)},DWKitAdminLang.button.upload)),V.a.createElement("div",{id:"dwkit-admin-wfdesigner"}),V.a.createElement("form",{is:!0,action:"",id:"dwkitadmin-workflow-uploadform",method:"post",style:{display:"none"},enctype:"multipart/form-data",onsubmit:"tmp()"},V.a.createElement("input",{type:"file",name:"dwkitadmin-workflow-uploadfile",id:"dwkitadmin-workflow-uploadfile",onChange:this.onUpload_onchange.bind(this)})),V.a.createElement(w.Modal,{dimmer:"blurring",open:e,onClose:this.messageClose.bind(this)},V.a.createElement(w.Modal.Header,null,DWKitAdminLang.workflow.messagetitle),V.a.createElement(w.Modal.Content,null,V.a.createElement("p",null,this.state.message)),V.a.createElement(w.Modal.Actions,null,V.a.createElement(w.Button,{icon:"check",content:DWKitAdminLang.button.ok,onClick:this.messageClose.bind(this)}))))}}])&&Nr(e.prototype,t),n&&Nr(e,n),o}();function Ur(e){return(Ur="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Kr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zr(e,t){return(zr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function qr(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=Gr(n);return e=r?(e=Gr(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==Ur(e)&&"function"!=typeof e?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}}function Gr(e){return(Gr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Hr=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zr(e,t)}(o,Dt["a"]);var e,t,n,r=qr(o);function o(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(e=r.call(this,e)).editform=Wr,e.dataindex="workflow",e.panelindex="workflow",e.idfield="code",e.defaultNamePrefix="scheme",e.datatype="workflow",e.title=DWKitAdminLang.workflow.title,e.titleGetter=function(e){return e.workflow.title},e}return e=o,(t=[{key:"gridColumns",value:function(){return[{key:"code",name:DWKitAdminLang.column.code,resizable:!0}]}},{key:"getEditRow",value:function(){var t=this,e=this.props.data.workflow.find(function(e){return e.code.toLowerCase()===t.props.id.toLowerCase()});return{code:e?e.code:this.props.id}}}])&&Kr(e.prototype,t),n&&Kr(e,n),o}();function Qr(e){return(Qr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Jr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Yr(e,t){return(Yr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $r(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=Xr(n);return e=r?(e=Xr(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==Qr(e)&&"function"!=typeof e?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}}function Xr(e){return(Xr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Zr=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Yr(e,t)}(o,Q["a"]);var e,t,n,r=$r(o);function o(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),r.call(this,e)}return e=o,(t=[{key:"renderMainForm",value:function(){var t=this,e=this,n=(null==this.props.data[this.dataindex]||this.props.data[this.dataindex].length,this.gridColumns()),r="";return 0<n.length&&(r=n[0].key+" ASC"),V.a.createElement("div",null,V.a.createElement("h1",null,this.titleGetter?this.titleGetter(DWKitAdminLang):this.title),this.renderToolbar(),V.a.createElement(ge.SemanticGridView,{key:"Formgrid",rowKey:this.idfield,rowHeight:40,columns:this.gridColumns(),defaultSort:r,minHeight:this.state.gridHeight,multiselect:!0,pagerType:"server",getAdditionalDataForControl:this.getAdditionalDataForControl.bind(this),handleEvent:this.gridHandleEvent.bind(this),ref:function(e){t.grid=e}}),V.a.createElement(w.Confirm,{open:this.state.confirmdeleteshow,dimmer:"blurring",content:DWKitAdminLang.msg.confirmdelete,onCancel:function(){e.setState({confirmdeleteshow:!1})},onConfirm:this.onDelete.bind(this)}))}},{key:"handlePopupChange",value:function(e,t){var n=t.name,r=t.value;t.checked;this.state.popup[n]=r,this.forceUpdate()}},{key:"onDelete",value:function(){for(var e=this,t=[],n=this.grid.getSeletedRowKeys(),r=0;r<n.length;r++){var o={};o[this.idfield]=n[r],o.__type=this.datatype,o.__state="deleted",t.push(o)}e.setState({confirmdeleteshow:!1}),this.ChangeData(t,function(){e.grid.refresh()})}}])&&Jr(e.prototype,t),n&&Jr(e,n),o}();function eo(e){return(eo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function to(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function no(e,t){return(no=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ro(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=oo(n);return e=r?(e=oo(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==eo(e)&&"function"!=typeof e?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}}function oo(e){return(oo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ao=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&no(e,t)}(o,v["a"]);var e,t,n,r=ro(o);function o(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(e=r.call(this,e)).state={},e}return e=o,(t=[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.resizeDesigner.bind(this)),this.redrawDesigner(),this.resizeDesigner()}},{key:"componentWillUnmount",value:function(){null!=this.wfdesigner&&this.wfdesigner.destroy()}},{key:"resizeDesigner",value:function(){var n=this;this.wfResizeTimer&&(clearTimeout(this.wfResizeTimer),this.wfdesigner.wfResizeTimer=void 0),this.wfResizeTimer=setTimeout(function(){var e=$(window).width(),t=$(window).height(),e=e-285-n.props.deltaWidth,t=t-185-n.props.deltaHeight;n.wfdesigner.resize(e,t)},150)}},{key:"redrawDesigner",value:function(){var e,t,n;null!=this.props.parent.props.id&&(e=$(window).width(),t=$(window).height(),WorkflowDesignerConstants.FormMaxHeight=600,null!=this.wfdesigner&&(n=this.wfdesigner.data,this.wfdesigner.destroy()),this.wfdesigner=new WorkflowDesigner({name:"dwkit-admin-wfdesigner",apiurl:this.props.workflowApi,renderTo:"dwkit-admin-wfdesigner",templatefolder:"/templates/",graphwidth:e-285-this.props.deltaWidth,graphheight:t-185-this.props.deltaHeight}),null==n?this.loadscheme():(this.wfdesigner.data=n,this.wfdesigner.render()))}},{key:"loadscheme",value:function(){var e={processid:this.props.data.id,readonly:!0};this.wfdesigner.exists(e)?this.wfdesigner.load(e):alertify.error("The process '"+e.processid+"' is not found!"),this.state.id=this.props.data.id}},{key:"render",value:function(){var e=this;null!=this.wfdesigner&&this.state.id!=this.props.data.id&&this.loadscheme();this.state.message;return V.a.createElement("div",null,V.a.createElement(w.Breadcrumb,null,V.a.createElement(w.Breadcrumb.Section,{onClick:this.props.parent.back.bind(this.props.parent),link:!0},DWKitAdminLang.workflowinstance.title),V.a.createElement(w.Breadcrumb.Divider,null),V.a.createElement(w.Breadcrumb.Section,{active:!0},this.props.data.id," (",this.getInstanceStatus(this.props.data.instanceStatus),")"),V.a.createElement(w.Breadcrumb.Divider,{icon:"right angle"}),V.a.createElement(w.Breadcrumb.Section,{href:"/workflow/"+this.props.data.schemeCode+"/"+this.props.id,target:"_blank"},DWKitAdminLang.form.open),V.a.createElement(w.Breadcrumb.Divider,{icon:"right angle"}),V.a.createElement(w.Breadcrumb.Section,{href:"?apanel=workflow&aid="+this.state.id,onClick:this.openScheme.bind(this),link:!0},this.props.data.schemeCode)),V.a.createElement("div",{className:"dwkit-admin-wfdesigner-buttons"},V.a.createElement(w.Button,{className:"buttontype1",onClick:function(){e.setState({opensetstate:!0})}},DWKitAdminLang.workflowinstance.setstatebutton),V.a.createElement(w.Button,{className:"buttontype2",onClick:function(){e.setState({opensetstatus:!0})}},DWKitAdminLang.workflowinstance.setinstancestatusbutton),V.a.createElement(w.Button,{className:"buttontype2",onClick:function(){e.copyToClipboard(e.state.id)}},DWKitAdminLang.workflowinstance.copyprocessid)),V.a.createElement("div",{id:"dwkit-admin-wfdesigner"}),V.a.createElement(w.Modal,{dimmer:"blurring",open:this.state.opensetstate},V.a.createElement(w.Modal.Header,null,DWKitAdminLang.workflowinstance.setstatebutton),V.a.createElement(w.Modal.Content,null,V.a.createElement(w.Input,{label:DWKitAdminLang.workflowinstance.statefield,fluid:!0,name:"newstate",value:this.state.newstate,error:Boolean(this.state.newstateerror),onChange:this.handleStateChange.bind(this)})),V.a.createElement(w.Modal.Actions,null,V.a.createElement(w.Button,{className:"buttontype1",content:DWKitAdminLang.workflowinstance.setstatebutton,onClick:this.onSetState.bind(this)}),V.a.createElement(w.Button,{className:"buttontype2",content:DWKitAdminLang.button.cancel,onClick:function(){e.setState({opensetstate:!1,newstateerror:void 0,newstate:void 0})}}))),V.a.createElement(w.Modal,{dimmer:"blurring",open:this.state.opensetstatus},V.a.createElement(w.Modal.Header,null,DWKitAdminLang.workflowinstance.setinstancestatusbutton),V.a.createElement(w.Modal.Content,null,V.a.createElement(w.Button,{content:"Initialized",onClick:this.onSetInstanceStatus.bind(this,0)}),V.a.createElement(w.Button,{content:"Running",onClick:this.onSetInstanceStatus.bind(this,1)}),V.a.createElement(w.Button,{content:"Idled",onClick:this.onSetInstanceStatus.bind(this,2)}),V.a.createElement(w.Button,{content:"Finalized",onClick:this.onSetInstanceStatus.bind(this,3)})),V.a.createElement(w.Modal.Actions,null,V.a.createElement(w.Button,{className:"buttontype2",content:DWKitAdminLang.button.cancel,onClick:function(){e.setState({opensetstatus:!1})}}))))}},{key:"handleStateChange",value:function(e,t){var n=t.name,t=t.value;this.state[n]=t,this.forceUpdate()}},{key:"openScheme",value:function(e){this.props.parent.props.parent.openpage("workflow",this.props.data.schemeCode),e.preventDefault()}},{key:"onSetState",value:function(){var e=this.state.newstate;if(null==e||""==e)return this.state.newstateerror="error",void this.forceUpdate();this.state.newstateerror=void 0;var t=this,n=new Array;n.push({name:"operation",value:"workflow"}),n.push({name:"suboperation",value:"setstate"}),n.push({name:"processId",value:t.props.data.id}),n.push({name:"state",value:e}),$.ajax({url:t.props.apiUrl,data:n,async:!0,type:"post",success:function(e){t.setState({opensetstate:!1,newstateerror:void 0,newstate:void 0}),e.success?(alertify.success(DWKitAdminLang.workflowinstance.statechangedmsg),t.props.parent.reload(),t.wfdesigner.refresh()):alertify.error(e.message)}})}},{key:"onSetInstanceStatus",value:function(e){var t=this,n=new Array;n.push({name:"operation",value:"workflow"}),n.push({name:"suboperation",value:"setinstancestatus"}),n.push({name:"processId",value:t.props.data.id}),n.push({name:"status",value:e}),$.ajax({url:t.props.apiUrl,data:n,async:!0,type:"post",success:function(e){t.setState({opensetstatus:!1}),e.success?(alertify.success(DWKitAdminLang.workflowinstance.instancestatuschangedmsg),t.props.parent.reload()):alertify.error(e.message)}})}},{key:"getInstanceStatus",value:function(e){return void 0===e?"":255==e?"NotFound":254==e?"Unknown":0==e?"Initialized":1==e?"Running":2==e?"Idled":3==e?"Finalized":4==e?"Terminated":5==e?"Error":e}}])&&to(e.prototype,t),n&&to(e,n),o}();function io(e){return(io="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function so(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function co(e,t,n){return t&&so(e.prototype,t),n&&so(e,n),e}function uo(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&po(e,t)}function po(e,t){return(po=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fo(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=mo(n);return e=r?(e=mo(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==io(e)&&"function"!=typeof e?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}}function mo(e){return(mo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ho=function(){uo(t,v["a"]);var e=fo(t);function t(){return lo(this,t),e.apply(this,arguments)}return co(t,[{key:"render",value:function(){var e=this.props.value;return V.a.createElement("div",null,V.a.createElement("div",{style:{float:"right"}},V.a.createElement(w.Button,{title:DWKitAdminLang.button.copy,onClick:this.onClick.bind(this),icon:!0},V.a.createElement(w.Icon,{name:"copy"}))),V.a.createElement("div",{title:e,style:{paddingTop:"8px"}},e))}},{key:"onClick",value:function(){this.copyToClipboard(this.props.value)}}]),t}(),yo=function(){uo(n,Zr);var t=fo(n);function n(e){return lo(this,n),(e=t.call(this,e)).title=DWKitAdminLang.workflowinstance.title,e.titleGetter=function(e){return e.workflowinstance.title},e.panelindex="workflowinstances",e.idfield="id",e.editform=ao,e.state={popup:{show:!1},filter:{}},e}return co(n,[{key:"gridColumns",value:function(){return[{key:"id",name:"Process Id",resizable:!0,formatter:ho,width:340},{key:"schemeCode",name:DWKitAdminLang.workflowinstance.schemecolumn,resizable:!0},{key:"instanceStatus",name:DWKitAdminLang.workflowinstance.statuscolumn,resizable:!0,formatter:bo},{key:"activityName",name:DWKitAdminLang.workflowinstance.activitycolumn,resizable:!0},{key:"stateName",name:DWKitAdminLang.workflowinstance.statecolumn,resizable:!0}]}},{key:"renderToolbar",value:function(){var e=this,t=[];null==this.state.popup&&(this.state.popup={show:!1}),null==this.state.filter&&(this.state.filter={});var n;t.push(V.a.createElement(w.Button,{key:"btnCreate",className:"buttontype1",onClick:function(){e.setState({popup:{show:!0,id:e.NewGUID()}})}},DWKitAdminLang.button.create)),t.push(V.a.createElement(w.Button,{key:"btnDelete",className:"buttontype2",onClick:function(){e.setState({confirmdeleteshow:!0})}},DWKitAdminLang.button.delete)),null!=this.state.popup.errors&&(n=V.a.createElement(w.Message,{negative:!0},V.a.createElement("p",null,this.state.popup.errors)));var r=[];r.push({text:"...",value:void 0});for(var o=0;o<=5;o++)r.push({key:o,text:go(o),value:o});return r.push({key:254,text:go(254),value:254}),r.push({key:255,text:go(255),value:255}),V.a.createElement("div",{className:"dwkitadmin-toolbar"},V.a.createElement("div",{className:"dwkitadmin-toolbarfilter"},V.a.createElement(w.Form,null,V.a.createElement(w.Form.Group,{widths:"equal"},V.a.createElement(w.Form.Input,{name:"id",label:"ProcessId",value:this.state.filter.id,onChange:this.handleFilterChange.bind(this)}),V.a.createElement(w.Form.Input,{name:"scheme",label:"Scheme",value:this.state.filter.scheme,onChange:this.handleFilterChange.bind(this)}),V.a.createElement(w.Form.Dropdown,{key:"status",name:"status",options:r,label:"Status",value:this.state.filter.status,onChange:this.handleFilterChange.bind(this),selection:!0,fluid:!0}),V.a.createElement(w.Form.Input,{name:"activity",label:"Activity",value:this.state.filter.activity,onChange:this.handleFilterChange.bind(this)}),V.a.createElement(w.Form.Input,{name:"state",label:"State",value:this.state.filter.state,onChange:this.handleFilterChange.bind(this)}),V.a.createElement(w.Button,{className:"buttontype2",content:DWKitAdminLang.button.search,onClick:this.onSearch.bind(this)})))),t,V.a.createElement("span",null,DWKitAdminLang.msg.totalcount," ",e.state.rowsCount),V.a.createElement(w.Modal,{dimmer:"blurring",open:this.state.popup.show},V.a.createElement(w.Modal.Header,null,DWKitAdminLang.modal.createaprocessheader),V.a.createElement(w.Modal.Content,null,V.a.createElement(w.Form,null,n,V.a.createElement(w.Form.Input,{key:"id",name:"id",label:"ProcessId",required:!0,value:this.state.popup.id,onChange:this.handlePopupChange.bind(this),error:null!=this.state.popup.iderrors}),V.a.createElement(w.Form.Input,{key:"scheme",name:"scheme",label:"Scheme",required:!0,value:this.state.popup.scheme,onChange:this.handlePopupChange.bind(this),error:null!=this.state.popup.schemeerrors}))),V.a.createElement(w.Modal.Actions,null,V.a.createElement(w.Button,{className:"buttontype1",content:DWKitAdminLang.button.create,onClick:this.onCreate.bind(this)}),V.a.createElement(w.Button,{className:"buttontype2",content:DWKitAdminLang.button.cancel,onClick:function(){e.setState({popup:{show:!1}})}}))))}},{key:"handleFilterChange",value:function(e,t){var n=t.name,t=t.value;this.state.filter[n]=t,this.forceUpdate()}},{key:"getAdditionalDataForControl",value:function(e,t,n){var r=t.startIndex,o=t.pageSize,a=(t.filters,t.sort),i=this,t=new Array;t.push({name:"operation",value:"workflow"}),t.push({name:"suboperation",value:"loadlist"}),t.push({name:"skip",value:r}),t.push({name:"take",value:o}),t.push({name:"sort",value:a}),null!=i.state.filter.id&&""!=i.state.filter.id&&t.push({name:"id",value:i.state.filter.id}),null!=i.state.filter.scheme&&""!=i.state.filter.scheme&&t.push({name:"scheme",value:i.state.filter.scheme}),null!=i.state.filter.status&&""!==i.state.filter.status&&t.push({name:"status",value:i.state.filter.status}),null!=i.state.filter.activity&&""!=i.state.filter.activity&&t.push({name:"activity",value:i.state.filter.activity}),null!=i.state.filter.state&&""!=i.state.filter.state&&t.push({name:"state",value:i.state.filter.state}),$.ajax({url:i.props.apiUrl,data:t,async:!0,type:"post",success:function(e){e.success?(n({sIndex:r,pSize:o,rowsCount:e.item.count,items:e.item.instances}),i.setState({rowsCount:e.item.count})):alertify.error(e.message)}})}},{key:"getEditRow",value:function(){var e=this.props.id,t=new Array;t.push({name:"operation",value:"workflow"}),t.push({name:"suboperation",value:"load"}),t.push({name:"instanceId",value:e});t=$.ajax({url:this.props.apiUrl,data:t,async:!1,type:"post"}).responseJSON;if(t.success)return null==t.item?(alertify.error(DWKitAdminLang.msg.objectnotfound),this.back(),{}):t.item;alertify.error(t.message)}},{key:"onSearch",value:function(){this.grid.refresh()}},{key:"onCreate",value:function(){var e,t=this,n=t.state.popup.id,r=t.state.popup.scheme;t.state.popup.iderrors=null==n||""==n?"error":void 0,null==r||""==r?t.state.popup.schemeerrors="error":t.state.popup.iderrors=void 0,t.state.popup.iderrors||t.state.popup.schemeerrors?this.forceUpdate():((e=new Array).push({name:"operation",value:"workflow"}),e.push({name:"suboperation",value:"create"}),e.push({name:"processId",value:n}),e.push({name:"scheme",value:r}),$.ajax({url:t.props.apiUrl,data:e,async:!0,type:"post",success:function(e){t.setState({popup:{show:!1}}),e.success?t.props.parent.openpage("workflowinstances",n):alertify.error(e.message)}}))}},{key:"onDelete",value:function(){var t=this,e=new Array;t.setState({confirmdeleteshow:!1});var n=this.grid.getSeletedRowKeys();e.push({name:"operation",value:"workflow"}),e.push({name:"suboperation",value:"delete"}),e.push({name:"processIds",value:JSON.stringify(n)}),$.ajax({url:t.props.apiUrl,data:e,async:!0,type:"post",success:function(e){e.success?(t.grid.refresh(),alertify.success("Rows have been deleted!")):alertify.error(e.message)}})}},{key:"recalcSizeParams",value:function(){var e;this._isMounted&&(e=$(window).height(),this.setState({gridHeight:e-280-this.props.deltaHeight}))}}]),n}(),bo=function(){uo(t,V.a.Component);var e=fo(t);function t(){return lo(this,t),e.apply(this,arguments)}return co(t,[{key:"render",value:function(){var e=go(this.props.value);return V.a.createElement("span",null,e)}}]),t}(),go=function(e){return void 0===e?"":255==e?"NotFound":254==e?"Unknown":0==e?"Initialized":1==e?"Running":2==e?"Idled":3==e?"Finalized":4==e?"Terminated":5==e?"Error":e};function vo(e){return(vo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wo(e,t){return(wo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Eo(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=ko(n);return e=r?(e=ko(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==vo(e)&&"function"!=typeof e?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}}function ko(e){return(ko=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Co=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wo(e,t)}(o,v["a"]);var e,t,n,r=Eo(o);function o(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this,e)).state={statearray:[],rolearray:[]};e=t.props.data;return null!=e&&null!=e.scheme&&""!=e.scheme&&(t.updateStates(e.scheme),t.updateRoles(e.scheme)),t}return e=o,(t=[{key:"validate",value:function(){return this.props.parent.validate()}},{key:"render",value:function(){this.validate();var e=null==this.props.data?[]:this.props.data;null==e.map&&(e.map=[]);var t=this.handleChange.bind(this,e),n=this.props.onSave.bind(this.props.parent),r=this.props.onCancel.bind(this.props.parent),o=[];o.push({text:"...",value:""}),this.props.metadata.forms.forEach(function(e){o.push({text:e.name,value:e.name})});var a=[];a.push({text:DWKitAdminLang.businessflow.anyroleitem,value:"*"}),this.props.metadata.roles.forEach(function(e){a.push({text:e.name,value:e.code})}),this.state.rolearray.forEach(function(e){a.push({text:e,value:e})});var i=[];this.props.metadata.workflow.forEach(function(e){i.push({text:e.code,value:e.code})});var l,s=[{key:"states",name:DWKitAdminLang.businessflow.statescolumn,control:"dropdown",options:this.state.statearray,multiple:!0},{key:"roles",name:DWKitAdminLang.businessflow.rolescolumn,control:"dropdown",options:a,multiple:!0},{key:"form",name:DWKitAdminLang.businessflow.formcolumn,control:"dropdown",options:o}];return V.a.createElement("div",{className:"dwkit-formadmin-formedit"},V.a.createElement(w.Breadcrumb,null,V.a.createElement(w.Breadcrumb.Section,{onClick:this.props.parent.back.bind(this.props.parent),link:!0},DWKitAdminLang.businessflow.title),V.a.createElement(w.Breadcrumb.Divider,null),V.a.createElement(w.Breadcrumb.Section,{active:!0},e.name)),V.a.createElement("div",{className:"dwkitadmin-toolbar-editform"},V.a.createElement(w.Button,{className:"buttontype1",onClick:n},DWKitAdminLang.button.save),V.a.createElement(w.Button,{className:"buttontype2",onClick:r},DWKitAdminLang.button.cancel)),V.a.createElement("h1",null,this.props.parent.title),e.__error.duplicateName&&V.a.createElement(w.Message,{color:"red"},DWKitAdminLang.businessflow.nameexistsmsg),V.a.createElement(w.Form,null,V.a.createElement(w.Form.Input,{name:"name",label:DWKitAdminLang.field.name,error:e.__error.name||e.__error.duplicateName,value:e.name,onChange:t}),V.a.createElement(w.Form.Group,{widths:"equal"},V.a.createElement(w.Form.Dropdown,{name:"scheme",label:DWKitAdminLang.businessflow.schemecolumn,options:i,error:Boolean(e.__error.scheme),value:e.scheme,onChange:t,selection:!0,fluid:!0,search:!0}),V.a.createElement(w.Form.Dropdown,(l={name:"defaultForm",placeholder:"...",search:!0,label:DWKitAdminLang.businessflow.defaultformcolumn,error:Boolean(e.__error.defaultForm),options:o,value:e.defaultForm,onChange:t,selection:!0,fluid:!0},n=!0,(r="search")in l?Object.defineProperty(l,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):l[r]=n,l))),V.a.createElement("h2",null,DWKitAdminLang.businessflow.mappingfield),V.a.createElement(ge.SemanticCollectionEditor,{key:"map",columns:s,name:"map",value:e.map,onChange:t,error:e.__error.map})))}},{key:"handleChange",value:function(e,t,n){var r=n.name,o=n.value,n=n.checked;e[r];e[r]=null==o?n:o,"scheme"===r&&(this.updateStates(e.scheme),this.updateRoles(e.scheme)),this.setUpdatedState(this.props.data),this.forceUpdate()}},{key:"handleChildrenChange",value:function(e,t,n){var r=n.name,n=n.value;e[r]=n,this.setUpdatedState(this.props.data),this.forceUpdate()}},{key:"updateStates",value:function(e){var t=this,n=new Array;n.push({name:"operation",value:"workflow"}),n.push({name:"suboperation",value:"getstates"}),n.push({name:"scheme",value:e}),$.ajax({url:t.props.apiUrl,data:n,async:!0,type:"post",success:function(e){e.success?(Array.isArray(e.item)||alertify.error("Unknown format for getstates response!"),t.state.statearray=[{text:DWKitAdminLang.businessflow.anystateitem,value:"*"}],e.item.forEach(function(e){t.state.statearray.push({text:e,value:e})}),t.forceUpdate()):alertify.error(e.message)}})}},{key:"updateRoles",value:function(e){var t=this,n=new Array;n.push({name:"operation",value:"workflow"}),n.push({name:"suboperation",value:"getactors"}),n.push({name:"scheme",value:e}),$.ajax({url:t.props.apiUrl,data:n,async:!0,type:"post",success:function(e){e.success?(Array.isArray(e.item)||alertify.error("Unknown format for getactors response!"),t.state.rolearray=[],e.item.forEach(function(e){t.state.rolearray.push(e)}),t.forceUpdate()):alertify.error(e.message)}})}}])&&Vo(e.prototype,t),n&&Vo(e,n),o}();function _o(e){return(_o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Oo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function So(e,t){return(So=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ao(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=Do(n);return e=r?(e=Do(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==_o(e)&&"function"!=typeof e?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}}function Do(e){return(Do=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var xo=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&So(e,t)}(o,Q["a"]);var e,t,n,r=Ao(o);function o(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(e=r.call(this,e)).dataindex="businessFlow",e.panelindex="businessflow",e.datatype="businessflow",e.idfield="id",e.editform=Co,e.title=DWKitAdminLang.businessflow.title,e.titleGetter=function(e){return e.businessflow.title},e}return e=o,(t=[{key:"gridColumns",value:function(){return[{key:"name",name:DWKitAdminLang.column.name,resizable:!0},{key:"scheme",name:DWKitAdminLang.businessflow.schemecolumn,resizable:!0},{key:"defaultForm",name:DWKitAdminLang.businessflow.defaultformcolumn,resizable:!0}]}},{key:"getDefaultObjectCode",value:function(){return""}},{key:"validate",value:function(){var t=!0,n=this.state.editrow,r=DWKitAdminLang.msg.fieldrequired,e=!!n.name&&this.props.data.businessFlow.some(function(e){return e.name.toLowerCase()===n.name.toLowerCase()&&e.id!==n.id});return n.__error={name:null==n.name||""==n.name?r:void 0,scheme:null==n.scheme||""==n.scheme?r:void 0,defaultForm:null==n.defaultForm||""==n.defaultForm?r:void 0,duplicateName:e},t&=!(n.__error.name||n.__error.scheme||n.__error.defaultForm||e),null!=n.map&&(n.__error.map=[],n.map.forEach(function(e){e={states:Array.isArray(e.states)&&0!=e.states.length?void 0:r,roles:Array.isArray(e.roles)&&0!=e.roles.length?void 0:r,form:e.form?void 0:r};n.__error.map.push(e),t&=void 0===e.states&&void 0===e.roles&&void 0===e.form})),t}}])&&Oo(e.prototype,t),n&&Oo(e,n),o}();function Po(e){return(Po="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Lo(e){return function(e){if(Array.isArray(e))return Ro(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Ro(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ro(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ro(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function jo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function To(e,t){return(To=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Fo(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=No(n);return e=r?(e=No(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==Po(e)&&"function"!=typeof e?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}}function No(e){return(No=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Io=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&To(e,t)}(o,v["a"]);var e,t,n,r=Fo(o);function o(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this,e)).state={commands:[]};e=t.props.data;return e&&t.updateCommands(e.schemes),t}return e=o,(t=[{key:"validate",value:function(){return this.props.parent.validate()}},{key:"render",value:function(){this.validate();var e=this.props.data||{};e.map||(e.map=[]);var t=this.handleChange.bind(this,e),n=this.props.onSave.bind(this.props.parent),r=this.props.onCancel.bind(this.props.parent),o=[];this.props.metadata.forms.forEach(function(e){o.push({text:e.name,value:e.name})});var a=[];this.props.metadata.workflow.forEach(function(e){a.push({text:e.code,value:e.code})});var i=e.map.reduce(function(e,t){return e.concat(t.commands.filter(function(t){return!e.some(function(e){return e.name===t.name&&e.scheme===t.scheme})}))},Lo(this.state.commands)).map(function(e){return{text:"".concat(e.scheme,".").concat(e.name),value:JSON.stringify(e)}}),i=[{key:"commands",name:DWKitAdminLang.commandform.commandscolumn,control:"dropdown",options:i,multiple:!0,placeholder:"*"},{key:"form",name:DWKitAdminLang.commandform.formcolumn,control:"dropdown",options:o}];return V.a.createElement("div",{className:"dwkit-formadmin-formedit"},V.a.createElement(w.Breadcrumb,null,V.a.createElement(w.Breadcrumb.Section,{onClick:this.props.parent.back.bind(this.props.parent),link:!0},DWKitAdminLang.commandform.title),V.a.createElement(w.Breadcrumb.Divider,null),V.a.createElement(w.Breadcrumb.Section,{active:!0},e.name)),V.a.createElement("div",{className:"dwkitadmin-toolbar-editform"},V.a.createElement(w.Button,{className:"buttontype1",onClick:n},DWKitAdminLang.button.save),V.a.createElement(w.Button,{className:"buttontype2",onClick:r},DWKitAdminLang.button.cancel)),V.a.createElement("h1",null,this.props.parent.title),e.__error.duplicateName&&V.a.createElement(w.Message,{color:"red"},DWKitAdminLang.commandform.nameexistsmsg),e.__error.mapRequired&&V.a.createElement(w.Message,{color:"red"},DWKitAdminLang.commandform.maprequiredsmsg),e.__error.commandMappingErrors&&e.__error.commandMappingErrors.map(function(e){return V.a.createElement(w.Message,{color:"red"},e)}),V.a.createElement(w.Form,null,V.a.createElement(w.Form.Input,{name:"name",label:DWKitAdminLang.field.name,error:e.__error.name||e.__error.duplicateName,value:e.name,onChange:t}),V.a.createElement(w.Form.Group,{widths:"equal"},V.a.createElement(w.Form.Dropdown,{placeholder:"*",name:"schemes",label:DWKitAdminLang.commandform.schemescolumn,options:a,value:e.schemes,onChange:t,selection:!0,fluid:!0,search:!0,multiple:!0})),V.a.createElement("h2",null,DWKitAdminLang.commandform.mappingfield),V.a.createElement(ge.SemanticCollectionEditor,{key:"map",columns:i,name:"map",value:e.map.map(function(e){return{form:e.form,commands:e.commands.map(function(e){return JSON.stringify(e)})}}),onChange:t,error:e.__error.map})))}},{key:"handleChange",value:function(e,t,n){var r=n.name,o=n.value,n=n.checked;e[r]=void 0===o?n:"map"===r?o.map(function(e){return{form:e.form,commands:e.commands?e.commands.map(function(e){return JSON.parse(e)}):[]}}):o,"schemes"===r&&this.updateCommands(e.schemes),this.setUpdatedState(this.props.data),this.forceUpdate()}},{key:"handleChildrenChange",value:function(e,t,n){var r=n.name,n=n.value;e[r]=n,this.setUpdatedState(this.props.data),this.forceUpdate()}},{key:"updateCommands",value:function(e){var t=this,n=new Array;n.push({name:"operation",value:"workflow"}),n.push({name:"suboperation",value:"getcommands"}),n.push({name:"schemes",value:JSON.stringify(e)}),$.ajax({url:this.props.apiUrl,data:n,async:!0,type:"post",success:function(e){e.success?(Array.isArray(e.item)||alertify.error("Unknown format for getstates response!"),t.setState({commands:e.item})):alertify.error(e.message)}})}}])&&jo(e.prototype,t),n&&jo(e,n),o}();n(19);function Mo(e){return(Mo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Bo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wo(e,t){return(Wo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Uo(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=Ko(n);return e=r?(e=Ko(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==Mo(e)&&"function"!=typeof e?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}}function Ko(e){return(Ko=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var zo=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wo(e,t)}(o,Q["a"]);var e,t,n,r=Uo(o);function o(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(e=r.call(this,e)).dataindex="commandForms",e.panelindex="commandform",e.datatype="commandform",e.idfield="id",e.editform=Io,e.titleGetter=function(e){return e.commandform.title},e}return e=o,(t=[{key:"gridColumns",value:function(){return[{key:"name",name:DWKitAdminLang.column.name,resizable:!0}]}},{key:"duplicateCommandMappingCheck",value:function(e,t,n){var r,o=e.map.filter(t);if(1!==o.length)return n(null,o[0]);for(r in this.props.data[this.dataindex]){var a=this.props.data[this.dataindex][r];if(a.id!==e.id){var i=a.map.filter(t);if(i.length)return n(a,i[0])}}}},{key:"validateMapping",value:function(t,e){function r(e,t){return e.name===t.name&&e.scheme===t.scheme}var o=e.commands;if(!o||!o.length)return this.duplicateCommandMappingCheck(t,function(e){return!e.commands||0===e.commands.length},function(e){return e?DWKitAdminLang.commandform.duplicatewildcardmappinginotherformmsg(e.name):DWKitAdminLang.commandform.duplicatewildcardmappingmsg});if(1===o.length){e=this.duplicateCommandMappingCheck(t,function(e){return e.commands&&1===e.commands.length&&r(e.commands[0],o[0])},function(e,t){t=t.commands[0];return e?DWKitAdminLang.commandform.duplicateonecommandmappinginotherformmsg("".concat(t.scheme,".").concat(t.name),e.name):DWKitAdminLang.commandform.duplicateonecommandmappingmsg("".concat(t.scheme,".").concat(t.name))});return e?e:t.schemes&&0<t.schemes.length&&!t.schemes.includes(o[0].scheme)?DWKitAdminLang.commandform.schemenotselectedmsg(o[0].scheme,o[0].name):void 0}var n,a;for(n in o){var i=function(n){var e=t.map.reduce(function(e,t){return t.commands&&1<t.commands.length&&((t=t.commands.filter(function(e){return r(e,o[n])})).length&&e.push(t[0])),e},[]);if(1!==e.length){e=e[0];return{v:DWKitAdminLang.commandform.duplicatemulticommandmappingmsg("".concat(e.scheme,".").concat(e.name))}}}(n);if("object"===Mo(i))return i.v}for(a in this.props.data[this.dataindex]){var l=this.props.data[this.dataindex][a];if(l.id!==t.id)for(var s in o){var c=function(n){var e=l.map.reduce(function(e,t){return t.commands&&1<t.commands.length&&((t=t.commands.filter(function(e){return r(e,o[n])})).length&&e.push(t[0])),e},[]);if(e.length){e=e[0];return{v:DWKitAdminLang.commandform.duplicatemulticommandmappinginotherformmsg("".concat(e.scheme,".").concat(e.name),l.name)}}}(s);if("object"===Mo(c))return c.v}}if(t.schemes&&0<t.schemes.length)for(var u in o){u=o[u];if(!t.schemes.includes(u.scheme))return DWKitAdminLang.commandform.schemenotselectedmsg(u.scheme,u.name)}}},{key:"validate",value:function(){var t=this,n=!0,r=this.state.editrow,o=DWKitAdminLang.msg.fieldrequired,e=!!r.name&&this.props.data[this.dataindex].some(function(e){return e.name.toLowerCase()===r.name.toLowerCase()&&e.id!==r.id});return r.__error={name:r.name?void 0:o,duplicateName:e,commandMappingErrors:[]},n&=!r.__error.name&&!e,r.map&&0<r.map.length?(r.__error.map=[],r.map.forEach(function(e){e={form:e.form?void 0:o,commands:t.validateMapping(r,e)};r.__error.map.push(e),n&=void 0===e.form,e.commands&&!r.__error.commandMappingErrors.includes(e.commands)&&r.__error.commandMappingErrors.push(e.commands)})):r.__error.mapRequired=!(n=!1),n}}])&&Bo(e.prototype,t),n&&Bo(e,n),o}();function qo(e){return(qo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Go(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ho(e,t,n){return(Ho="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){e=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Yo(e)););return e}(e,t);if(e){t=Object.getOwnPropertyDescriptor(e,t);return t.get?t.get.call(n):t.value}})(e,t,n||e)}function Qo(e,t){return(Qo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Jo(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=Yo(n);return e=r?(e=Yo(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==qo(e)&&"function"!=typeof e?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}}function Yo(e){return(Yo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var $o=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qo(e,t)}(o,Zr);var e,t,n,r=Jo(o);function o(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(e=r.call(this,e)).state.openmodal=!1,e}return e=o,(t=[{key:"back",value:function(){this.state.openmodal=!1,Ho(Yo(o.prototype),"back",this).call(this)}},{key:"render",value:function(){return this.state.editrowid!=this.props.id&&this.loadeditrow(),V.a.createElement("div",null,this.renderMainForm(),this.renderEditFormModal(),this.renderConfirmModals())}},{key:"renderConfirmModals",value:function(){return null}},{key:"renderEditFormModal",value:function(){return null!=this.props.id&&(this.state.openmodal=!0),V.a.createElement(w.Modal,{dimmer:"inverted",open:this.state.openmodal,onClose:this.onModalFormClose.bind(this)},V.a.createElement(w.Modal.Content,null,V.a.createElement(w.Modal.Description,null,this.renderEditForm())),V.a.createElement(w.Modal.Actions,null,V.a.createElement(w.Button,{className:"buttontype1",onClick:this.onModalFormSave.bind(this)},DWKitAdminLang.button.save),V.a.createElement(w.Button,{className:"buttontype2",onClick:this.onModalFormClose.bind(this)},DWKitAdminLang.button.close)))}},{key:"onModalFormSave",value:function(){var t=this;this.validate()?null!=(t=this).state.editrow.__state?(t.state.editrow.__type=this.datatype,this.ChangeData([t.state.editrow],function(e){t.ResetSystemProps(t.state.editrow),t.applyeditrow(),t.grid.refresh(),t.back()})):this.onModalFormClose():alertify.error(DWKitAdminLang.msg.checkerrorsonform)}},{key:"onModalFormClose",value:function(){this.back()}}])&&Go(e.prototype,t),n&&Go(e,n),o}();function Xo(e){return(Xo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ea(e,t){return(ea=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ta(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=na(n);return e=r?(e=na(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==Xo(e)&&"function"!=typeof e?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}}function na(e){return(na=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ra=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ea(e,t)}(o,v["a"]);var e,t,n,r=ta(o);function o(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(e=r.call(this,e)).state={},e}return e=o,(t=[{key:"validate",value:function(){return this.props.parent.validate()}},{key:"removeExternalLogin",value:function(t){var e=this.props.data;e.externalLogins=e.externalLogins.filter(function(e){return e.name!==t.name&&e.externalId!==t.externalId}),this.setUpdatedState(e),this.forceUpdate()}},{key:"renderExternalLogin",value:function(t){var e=this.props.parent.props.data.additionalParams.ExternalLoginProviders.filter(function(e){return e.name===t.name}),e=e.length?e[0].displayName:t.name;return V.a.createElement(w.Label,null,e,V.a.createElement(w.Label.Detail,null,t.externalId),V.a.createElement(w.Icon,{name:"delete",onClick:this.removeExternalLogin.bind(this,t)}))}},{key:"render",value:function(){var t=this;this.validate();for(var e=[],n=0;n<this.props.metadata.groups.length;n++){var r=this.props.metadata.groups;e.push({text:r[n].name,value:r[n].id})}for(var o=[],a=0;a<this.props.metadata.roles.length;a++){var i=this.props.metadata.roles;o.push({text:i[a].name,value:i[a].id})}var l=this.props.data;return V.a.createElement(w.Form,null,V.a.createElement(w.Form.Group,{widths:"equal"},V.a.createElement("div",{className:"field"},V.a.createElement(w.Form.Input,{name:"name",label:DWKitAdminLang.field.name,error:Boolean(l.__error.name),value:l.name,onChange:this.handleChange.bind(this,l)}),V.a.createElement(w.Form.Input,{name:"email",label:DWKitAdminLang.user.emailfield,error:Boolean(l.__error.email),value:l.email,onChange:this.handleChange.bind(this,l)}),V.a.createElement(w.Form.Input,{name:"domainLogin",label:DWKitAdminLang.user.domainloginfield,error:Boolean(l.__error.domainLogin),value:l.domainLogin,onChange:this.handleChange.bind(this,l)}),V.a.createElement(w.Form.Input,{name:"localization",label:DWKitAdminLang.user.localizationfield,error:Boolean(l.__error.localization),value:l.localization,onChange:this.handleChange.bind(this,l)})),V.a.createElement("div",{className:"field"},V.a.createElement(w.Form.Input,{name:"login-new",label:DWKitAdminLang.user.loginfield,error:Boolean(l.__error.login),value:l.login,onChange:this.handleChange.bind(this,l)}),V.a.createElement(w.Form.Input,{type:"password",name:"password-new",placeholder:"*********",label:DWKitAdminLang.user.passwordfield,error:Boolean(l.__error.password),value:l.password,onChange:this.handleChange.bind(this,l)}),V.a.createElement(w.Form.Checkbox,{name:"isLocked",label:DWKitAdminLang.user.lockedfield,error:Boolean(l.__error.isLocked),checked:1==l.isLocked,onChange:this.handleChange.bind(this,l)}),V.a.createElement(w.Form.Checkbox,{name:"isRTL",label:DWKitAdminLang.user.rtlfield,error:Boolean(l.__error.isRTL),checked:l.isRTL,onChange:this.handleChange.bind(this,l)}))),V.a.createElement(w.Form.Group,{widths:"equal"},V.a.createElement(w.Form.Dropdown,{label:DWKitAdminLang.user.groupsfield,name:"groups",error:Boolean(l.__error.groups),multiple:!0,search:!0,selection:!0,options:e,value:null==l.groups?[]:l.groups,onChange:this.handleChange.bind(this,l)}),V.a.createElement(w.Form.Dropdown,{label:DWKitAdminLang.user.rolesfield,name:"roles",error:Boolean(l.__error.roles),multiple:!0,search:!0,selection:!0,options:o,value:null==l.roles?[]:l.roles,onChange:this.handleChange.bind(this,l)})),l.externalLogins&&0<l.externalLogins.length&&V.a.createElement(w.Form.Group,{widths:"equal"},V.a.createElement(w.Container,{fluid:!0},V.a.createElement(w.Header,{size:"medium"},DWKitAdminLang.user.externallogins),l.externalLogins.map(function(e){return t.renderExternalLogin(e)}))))}},{key:"handleChange",value:function(e,t,n){var r=n.name,o=n.value,n=n.checked;"login-new"===r?r="login":"password-new"===r&&(r="password");e[r];e[r]=null==o?n:o,this.setUpdatedState(this.props.data),this.forceUpdate()}}])&&Zo(e.prototype,t),n&&Zo(e,n),o}();function oa(e){return(oa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function aa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ia(e,t){return(ia=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function la(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=ca(n);return e=r?(e=ca(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==oa(e)&&"function"!=typeof e?sa(t):e}}function sa(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ca(e){return(ca=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ua(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var pa=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ia(e,t)}(o,$o);var e,t,n,r=la(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),ua(sa(t=r.call(this,e)),"showconfirmimport",function(){t.setState({confirmimportshow:!0})}),ua(sa(t),"hideconfirmdimport",function(){t.setState({confirmimportshow:!1})}),ua(sa(t),"confirmimport",function(){t.setState({confirmimportshow:!1});var e=new Array;e.push({name:"operation",value:"securityimport"}),$.ajax({url:t.props.apiUrl,data:e,async:!0,type:"post",success:function(e){e.success?(t.setState({importResult:e.result}),t.props.parent.load(function(){t.grid.refresh()}),alertify.success(DWKitAdminLang.user.importfinishedmsg)):alertify.error(e.message),Pace.stop()},error:function(e){Pace.stop();var t="",t=0===e.status?"Not connect.\n Verify Network.":404==e.status?"Requested page not found. [404]":500==e.status?"Internal Server Error [500].":"parsererror"===exception?"Requested JSON parse failed.":"timeout"===exception?"Time out error.":"abort"===exception?"Ajax request aborted.":"Uncaught Error.\n"+e.responseText;alertify.error(t)}})}),ua(sa(t),"clearImportResult",function(){t.setState({importResult:null})}),t.dataindex="users",t.panelindex="users",t.idfield="id",t.editform=ra,t.datatype="users",t.title=DWKitAdminLang.user.title,t.titleGetter=function(e){return e.user.title},t}return e=o,(t=[{key:"gridColumns",value:function(){return[{key:"name",name:DWKitAdminLang.column.name,resizable:!0},{key:"email",name:DWKitAdminLang.user.emailfield,resizable:!0},{key:"login",name:DWKitAdminLang.user.loginfield,resizable:!0,sortable:!1},{key:"domainLogin",name:DWKitAdminLang.user.domainloginfield,resizable:!0,sortable:!1},{key:"isLocked",name:DWKitAdminLang.user.lockedfield,resizable:!0,type:"checkbox"},{key:"rolesStr",name:DWKitAdminLang.user.rolesfield,resizable:!0,sortable:!1},{key:"groupsStr",name:DWKitAdminLang.user.groupsfield,resizable:!0,sortable:!1},{key:"externalId",name:DWKitAdminLang.user.externalIdField,resizable:!0,sortable:!1}]}},{key:"renderToolbar",value:function(){var e=this,t=this;this.state.filter||(this.state.filter={});var n=this.props.data.additionalParams.IsAvailableADImport;return V.a.createElement("div",{className:"dwkitadmin-toolbar"},this.renderImportResult(),V.a.createElement("div",{className:"dwkitadmin-toolbarfilter"},V.a.createElement(w.Form,null,V.a.createElement(w.Form.Group,{widths:"equal"},V.a.createElement(w.Form.Input,{name:"filter",label:DWKitAdminLang.field.name,value:this.state.filter.filter,onChange:this.handleFilterChange.bind(this)}),V.a.createElement(w.Button,{className:"buttontype2",content:DWKitAdminLang.button.search,onClick:this.onSearch.bind(this)})))),V.a.createElement(w.Button,{className:"buttontype1",onClick:function(){e.props.parent.openpage(e.panelindex,"new")}},DWKitAdminLang.button.create),V.a.createElement(w.Button,{className:"buttontype2",onClick:function(){t.setState({confirmdeleteshow:!0})}},DWKitAdminLang.button.delete),n&&V.a.createElement(w.Button,{onClick:this.showconfirmimport},DWKitAdminLang.button.importFromAd),V.a.createElement("span",null,DWKitAdminLang.msg.totalcount," ",t.state.rowsCount))}},{key:"renderConfirmModals",value:function(){return V.a.createElement(w.Confirm,{open:this.state.confirmimportshow,dimmer:"blurring",content:DWKitAdminLang.user.confirmimport,onCancel:this.hideconfirmdimport,onConfirm:this.confirmimport})}},{key:"renderImportResult",value:function(){if(!this.state.importResult)return null;function e(e){return isNaN(e)?e:V.a.createElement("b",null,e)}var t=this.state.importResult.GroupResult,n=this.state.importResult.UserResult;return V.a.createElement(w.Message,{onDismiss:this.clearImportResult},V.a.createElement(w.Message.Header,null,DWKitAdminLang.user.adimportresultheader),V.a.createElement(w.Message.List,null,t&&V.a.createElement(w.Message.Item,null,DWKitAdminLang.user.groupimportresultmsg(t.returned,t.added,t.deleted).map(e)),t&&0<t.duplicateNames.length&&V.a.createElement(w.Message.Item,null,DWKitAdminLang.user.groupswithduplicatenamesmsg,t.duplicateNames.map(function(e,t){return[0<t&&", ",V.a.createElement("b",null,e)]})),n&&V.a.createElement(w.Message.Item,null,DWKitAdminLang.user.userimportresultmsg(n.returned,n.added,n.updated,n.locked).map(e)),n&&0<n.duplicateCredentials.length&&V.a.createElement(w.Message.Item,null,DWKitAdminLang.user.userswithduplicateloginmsg,n.duplicateCredentials.map(function(e,t){return[0<t&&", ",V.a.createElement("b",null,e)]}))))}},{key:"handleFilterChange",value:function(e,t){var n=t.name,t=t.value;this.state.filter[n]=t,this.forceUpdate()}},{key:"onSearch",value:function(){this.grid.refresh()}},{key:"validate",value:function(){var e=!0,t=this.state.editrow,n=DWKitAdminLang.msg.fieldrequired;return t.__error={name:t.name?void 0:n},e&=void 0===t.__error.name}},{key:"applyeditrow",value:function(){for(var e=this.state.editrow[this.idfield],t=-1,n=this.props.data[this.dataindex],r=0;r<n.length;r++)if(e===n[r][this.idfield]){t=r;break}this.state.editrow.password=void 0,0<=t?this.props.data[this.dataindex][t]=this.state.editrow:this.props.data[this.dataindex].unshift(this.state.editrow)}},{key:"getAdditionalDataForControl",value:function(e,t,n){var r=t.startIndex,o=t.pageSize,a=(t.filters,t.sort),i=this,t=new Array;t.push({name:"operation",value:"users"}),t.push({name:"suboperation",value:"loadlist"}),t.push({name:"skip",value:r}),t.push({name:"take",value:o}),t.push({name:"sort",value:a}),null!=i.state.filter.filter&&""!=i.state.filter.filter&&t.push({name:"filter",value:i.state.filter.filter}),$.ajax({url:i.props.apiUrl,data:t,async:!0,type:"post",success:function(e){e.success?(n({sIndex:r,pSize:o,rowsCount:e.item.count,items:e.item.users}),i.setState({rowsCount:e.item.count})):alertify.error(e.message)}})}},{key:"getEditRow",value:function(){var e=this.props.id;if("new"===e){var t=this.createNewObject(),n=this.props.data.settings.find(function(e){return"RTL"==e.name});return n&&n.value&&(t.isRTL=!0),t}t=new Array;t.push({name:"operation",value:"users"}),t.push({name:"suboperation",value:"load"}),t.push({name:"id",value:e});t=$.ajax({url:this.props.apiUrl,data:t,async:!1,type:"post"}).responseJSON;if(t.success)return null==t.item?(alertify.error(DWKitAdminLang.msg.objectnotfound),this.back(),{}):t.item;alert(t.message)}},{key:"recalcSizeParams",value:function(){var e;this._isMounted&&(e=$(window).height(),this.setState({gridHeight:e-280-this.props.deltaHeight}))}}])&&aa(e.prototype,t),n&&aa(e,n),o}();function da(e){return(da="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ma(e,t){return(ma=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ha(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=ya(n);return e=r?(e=ya(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==da(e)&&"function"!=typeof e?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}}function ya(e){return(ya=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ba=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ma(e,t)}(o,V.a.Component);var e,t,n,r=ha(o);function o(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),r.call(this,e)}return e=o,(t=[{key:"handleChange",value:function(e,t,n){n.name;for(var r=n.value,o=(n.checked,this.props.value),a=!1,i=0;i<o.length;i++)if(o[i].id==e){o[i].accessType=r,a=!0;break}a||this.props.value.push({id:e,accessType:r}),this.props.parent.setUpdatedState(this.props.parent.props.data),this.forceUpdate()}},{key:"setAccessType",value:function(e,t){if(e&&e.children){for(var n=this.props.value,r=0;r<e.children.length;r++){for(var o=!1,a=0;a<n.length;a++)n[a].id==e.children[r].id&&(n[a].accessType=t,o=!0);o||n.push({id:e.children[r].id,accessType:t})}this.props.parent.setUpdatedState(this.props.parent.props.data),this.forceUpdate()}}},{key:"render",value:function(){for(var e=[],t=this.props.items,n=0;n<t.length;n++){var r=t[n],o=r.name;r.code!==r.name&&(o+=" ("+r.code+")");var a="rolegroup_"+r.id,r=V.a.createElement(w.Form.Group,{key:a,widths:"16",className:"dwkit-formadmin-item"},V.a.createElement("div",{className:"field"},V.a.createElement(w.Form.Input,{key:"groupName",value:o,readOnly:!0}),V.a.createElement("div",null,V.a.createElement("a",{onClick:this.setAccessType.bind(this,r,0)},DWKitAdminLang.role.resetbutton),"  ",V.a.createElement("a",{onClick:this.setAccessType.bind(this,r,1)},DWKitAdminLang.role.allowbutton),"  ",V.a.createElement("a",{onClick:this.setAccessType.bind(this,r,2)},DWKitAdminLang.role.denybutton))),V.a.createElement("div",null,this.renderChildren(r,this.props.value)));e.push(r)}return V.a.createElement("div",null,e)}},{key:"renderChildren",value:function(e,t){for(var n=[],r=0;r<e.children.length;r++){var o=e.children[r],a=o.name;o.Code!=o.name&&(a+=" ("+o.code+")");var i="roleperm_"+o.id,l=this.getAccessType(o.id,t),o=V.a.createElement("div",{key:i+"_div"},V.a.createElement(w.Form.Group,{key:"group",className:"dwkit-formadmin-rolepersmissionsgroup"},V.a.createElement("div",{key:"c1",className:"field"},V.a.createElement("label",{key:"divlabel"},a),V.a.createElement(w.Form.Group,{key:"divgroup",widths:"equal"},V.a.createElement(w.Form.Radio,{key:"type0",name:i+"_type",label:DWKitAdminLang.role.inheritedtype,value:0,checked:0==l,onChange:this.handleChange.bind(this,o.id)}),V.a.createElement(w.Form.Radio,{key:"type1",name:i+"_type",label:DWKitAdminLang.role.allowtype,value:1,checked:1==l,onChange:this.handleChange.bind(this,o.id)}),V.a.createElement(w.Form.Radio,{key:"type2",name:i+"_type",label:DWKitAdminLang.role.denytype,value:2,checked:2==l,onChange:this.handleChange.bind(this,o.id)})))));n.push(o)}return n}},{key:"getAccessType",value:function(e,t){var n=0;if(null==t)return n;for(var r=0;r<t.length;r++)if(t[r].id==e){n=t[r].accessType;break}return n}}])&&fa(e.prototype,t),n&&fa(e,n),o}();function ga(e){return(ga="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function va(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Va(e,t){return(Va=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function wa(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=Ea(n);return e=r?(e=Ea(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==ga(e)&&"function"!=typeof e?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}}function Ea(e){return(Ea=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ka=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Va(e,t)}(o,v["a"]);var e,t,n,r=wa(o);function o(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(e=r.call(this,e)).state={},e}return e=o,(t=[{key:"validate",value:function(){return this.props.parent.validate()}},{key:"render",value:function(){this.validate();var e=this.props.data;null==e.permissions&&(e.permissions=[]);var t=this.props.onSave.bind(this.props.parent),n=this.props.onCancel.bind(this.props.parent);return V.a.createElement("div",{className:"dwkit-formadmin-formedit"},V.a.createElement(w.Breadcrumb,null,V.a.createElement(w.Breadcrumb.Section,{onClick:this.props.parent.back.bind(this.props.parent),link:!0},DWKitAdminLang.role.title),V.a.createElement(w.Breadcrumb.Divider,null),V.a.createElement(w.Breadcrumb.Section,{active:!0},this.props.data.name)),V.a.createElement("div",{className:"dwkitadmin-toolbar-editform"},V.a.createElement(w.Button,{className:"buttontype1",onClick:t},DWKitAdminLang.button.save),V.a.createElement(w.Button,{className:"buttontype2",onClick:n},DWKitAdminLang.button.cancel)),V.a.createElement("h1",null,this.props.parent.title),V.a.createElement(w.Form,null,V.a.createElement(w.Form.Input,{name:"code",label:DWKitAdminLang.field.code,error:Boolean(e.__error.code),value:e.code,onChange:this.handleChange.bind(this,e)}),V.a.createElement(w.Form.Input,{name:"name",label:DWKitAdminLang.field.name,error:Boolean(e.__error.name),value:e.name,onChange:this.handleChange.bind(this,e)}),V.a.createElement("h1",null,"Permissions"),V.a.createElement(ba,{items:this.props.metadata.permissions,value:e.permissions,parent:this})))}},{key:"handleChange",value:function(e,t,n){var r=n.name,o=n.value,a=n.checked,n=e[r];e[r]=null==o?a:o,"code"==r&&(n!=e.name&&null!=e.name||(e.name=e.code)),this.setUpdatedState(this.props.data),this.forceUpdate()}}])&&va(e.prototype,t),n&&va(e,n),o}();function Ca(e){return(Ca="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Oa(e,t){return(Oa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Sa(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=Aa(n);return e=r?(e=Aa(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==Ca(e)&&"function"!=typeof e?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}}function Aa(e){return(Aa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Da=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Oa(e,t)}(o,Q["a"]);var e,t,n,r=Sa(o);function o(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(e=r.call(this,e)).dataindex="roles",e.panelindex="roles",e.defaultNamePrefix="role",e.idfield="id",e.editform=ka,e.title=DWKitAdminLang.role.title,e.titleGetter=function(e){return e.role.title},e.datatype="roles",e}return e=o,(t=[{key:"gridColumns",value:function(){return[{key:"code",name:DWKitAdminLang.column.code,resizable:!0},{key:"name",name:DWKitAdminLang.column.name,resizable:!0}]}},{key:"validate",value:function(){var e=!0,t=this.state.editrow,n=DWKitAdminLang.msg.fieldrequired;return t.__error={name:null==t.name||""==t.name?n:void 0,code:null==t.code||""==t.code?n:void 0},e&=null==t.__error.name&&null==t.__error.code}}])&&_a(e.prototype,t),n&&_a(e,n),o}();function xa(e){return(xa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function La(e,t,n){return(La="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){e=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ta(e)););return e}(e,t);if(e){t=Object.getOwnPropertyDescriptor(e,t);return t.get?t.get.call(n):t.value}})(e,t,n||e)}function Ra(e,t){return(Ra=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ja(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=Ta(n);return e=r?(e=Ta(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==xa(e)&&"function"!=typeof e?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}}function Ta(e){return(Ta=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Fa=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ra(e,t)}(o,Q["a"]);var e,t,n,r=ja(o);function o(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(e=r.call(this,e)).state.openmodal=!1,e}return e=o,(t=[{key:"back",value:function(){this.state.openmodal=!1,La(Ta(o.prototype),"back",this).call(this)}},{key:"render",value:function(){return this.state.editrowid!=this.props.id&&this.loadeditrow(),V.a.createElement("div",null,this.renderMainForm(),this.renderEditFormModal())}},{key:"renderEditFormModal",value:function(){return null!=this.props.id&&(this.state.openmodal=!0),V.a.createElement(w.Modal,{dimmer:"inverted",open:this.state.openmodal,onClose:this.onModalFormClose.bind(this)},V.a.createElement(w.Modal.Content,null,V.a.createElement(w.Modal.Description,null,this.renderEditForm())),V.a.createElement(w.Modal.Actions,null,V.a.createElement(w.Button,{className:"buttontype1",onClick:this.onModalFormSave.bind(this)},DWKitAdminLang.button.save),V.a.createElement(w.Button,{className:"buttontype2",onClick:this.onModalFormClose.bind(this)},DWKitAdminLang.button.close)))}},{key:"onModalFormSave",value:function(){var t=this;this.validate()?null!=(t=this).state.editrow.__state?(t.state.editrow.__type=this.datatype,this.ChangeData([t.state.editrow],function(e){t.ResetSystemProps(t.state.editrow),t.applyeditrow(),t.grid.refresh(),t.back()})):this.onModalFormClose():alertify.error(DWKitAdminLang.msg.checkerrorsonform)}},{key:"onModalFormClose",value:function(){this.back()}}])&&Pa(e.prototype,t),n&&Pa(e,n),o}();function Na(e){return(Na="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ia(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ma(e,t){return(Ma=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ba(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=Wa(n);return e=r?(e=Wa(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==Na(e)&&"function"!=typeof e?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}}function Wa(e){return(Wa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ua=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ma(e,t)}(o,v["a"]);var e,t,n,r=Ba(o);function o(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(e=r.call(this,e)).state={},e}return e=o,(t=[{key:"validate",value:function(){return this.props.parent.validate()}},{key:"render",value:function(){this.validate();for(var e=[],t=0;t<this.props.metadata.roles.length;t++){var n=this.props.metadata.roles;e.push({text:n[t].name,value:n[t].id})}var r=null==this.props.data?[]:this.props.data;return V.a.createElement(w.Form,null,V.a.createElement(w.Form.Input,{name:"name",label:DWKitAdminLang.field.name,error:Boolean(r.__error.name),value:r.name,onChange:this.handleChange.bind(this,r)}),V.a.createElement(w.Form.Dropdown,{label:DWKitAdminLang.group.rolesfield,name:"roles",error:Boolean(r.__error.roles),multiple:!0,search:!0,selection:!0,options:e,value:null==r.roles?[]:r.roles,onChange:this.handleChange.bind(this,r)}),V.a.createElement(w.Form.Checkbox,{name:"isSyncWithDomainGroup",label:DWKitAdminLang.group.syncwithdomainfield,checked:r.isSyncWithDomainGroup,onChange:this.handleChange.bind(this,r)}))}},{key:"handleChange",value:function(e,t,n){var r=n.name,o=n.value,n=n.checked;e[r]=null==o?n:o,this.setUpdatedState(this.props.data),this.forceUpdate()}}])&&Ia(e.prototype,t),n&&Ia(e,n),o}();function Ka(e){return(Ka="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function za(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qa(e,t){return(qa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ga(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=Ha(n);return e=r?(e=Ha(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==Ka(e)&&"function"!=typeof e?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}}function Ha(e){return(Ha=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Qa=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qa(e,t)}(o,Fa);var e,t,n,r=Ga(o);function o(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(e=r.call(this,e)).dataindex="groups",e.panelindex="groups",e.idfield="id",e.editform=Ua,e.datatype="groups",e.title=DWKitAdminLang.group.title,e.titleGetter=function(e){return e.group.title},e}return e=o,(t=[{key:"gridColumns",value:function(){return[{key:"name",name:DWKitAdminLang.column.name,resizable:!0},{key:"isSyncWithDomainGroup",name:DWKitAdminLang.group.syncwithdomainfield,type:"checkbox",resizable:!0}]}},{key:"validate",value:function(){var e=!0,t=this.state.editrow,n=DWKitAdminLang.msg.fieldrequired;return t.__error={name:null==t.name||""==t.name?n:void 0},e&=null==t.__error.name}}])&&za(e.prototype,t),n&&za(e,n),o}();function Ja(e){return(Ja="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ya(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function $a(r){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?Ya(Object(o),!0).forEach(function(e){var t,n;t=r,e=o[n=e],n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):Ya(Object(o)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))})}return r}function Xa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Za(e,t){return(Za=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ei(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=ti(n);return e=r?(e=ti(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==Ja(e)&&"function"!=typeof e?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}}function ti(e){return(ti=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ni=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Za(e,t)}(o,v["a"]);var e,t,n,r=ei(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this,e)).datatype="permissions",t.state={},t.initData(e.data.permissions),t}return e=o,(t=[{key:"initData",value:function(e){function t(e,t){return e.name>t.name?1:e.name<t.name?-1:0}e=this.СloneObj(e);e.forEach(function(e){null!=e.children&&(e.children=e.children.sort(t))}),e=e.sort(t),this.state.data=e}},{key:"render",value:function(){this.validate();for(var e=[],t=this.state.data,n=0;n<t.length;n++){var r=t[n];"deleted"!=r.__state&&(r=V.a.createElement("div",{key:"g_"+t[n].id,className:"dwkit-formadmin-item"},V.a.createElement(w.Form,{key:"form"},V.a.createElement(w.Form.Group,{key:"group"},V.a.createElement("div",{key:"div",className:"field",widths:"6"},V.a.createElement(w.Form.Input,{key:"code",name:"code",label:DWKitAdminLang.field.code,error:Boolean(r.__error.code),value:r.code,onChange:this.handleChange.bind(this,r)}),V.a.createElement(w.Form.Input,{key:"name",name:"name",label:DWKitAdminLang.field.name,error:Boolean(r.__error.name),value:r.name,onChange:this.handleChange.bind(this,r)}),V.a.createElement("div",{key:"buttons",style:{marginTop:"10px"}},V.a.createElement("a",{key:"btndelete",onClick:this.onDeleteGroup.bind(this,t[n].id)},DWKitAdminLang.permission.deletegroupbutton),"  ",V.a.createElement("a",{key:"btncreatepermission",onClick:this.onCreatePermission.bind(this,t[n].id)},DWKitAdminLang.permission.createpermissionbutton))),V.a.createElement("div",{key:"children",className:"field",widths:"10"},this.renderChildren(t[n]))))),e.push(r))}return V.a.createElement("div",null,V.a.createElement("h1",null,DWKitAdminLang.permission.managepermissionsfield),V.a.createElement("div",{className:"dwkitadmin-toolbar"},V.a.createElement(w.Button,{className:"buttontype1",onClick:this.onCreateGroup.bind(this)},DWKitAdminLang.permission.creategroupbutton),this.state.ischanged&&V.a.createElement(w.Button,{className:"buttontype1",onClick:this.onSave.bind(this)},DWKitAdminLang.button.save),this.state.ischanged&&V.a.createElement(w.Button,{className:"buttontype2",onClick:this.onCancel.bind(this)},DWKitAdminLang.button.cancel)),e)}},{key:"renderChildren",value:function(e){if(null!=e.children&&0!=e.children.length){for(var t=[],n=0;n<e.children.length;n++){var r=e.children[n],r=V.a.createElement(w.Form.Group,{key:"group_"+r.id,widths:"equal"},V.a.createElement(w.Form.Input,{key:"code",name:"code",label:DWKitAdminLang.field.code,error:Boolean(r.__error.code),value:r.code,onChange:this.handleChange.bind(this,r)}),V.a.createElement(w.Form.Input,{key:"name",name:"name",label:DWKitAdminLang.field.name,error:Boolean(r.__error.name),value:r.name,onChange:this.handleChange.bind(this,r)}),V.a.createElement(w.Image,{className:"dwkit-buttonimage",key:"btndelete",src:"/images/dwkit-delete.png",onClick:this.onDeletePermission.bind(this,e,r.id)}));t.push(r)}return t}}},{key:"handleChange",value:function(e,t,n){var r=n.name,o=n.value,n=(n.checked,e[r]);e[r]=o,"code"==r&&(n!=e.name&&null!=e.name||(e.name=e.code)),this.setUpdatedState(e),this.state.ischanged=!0,this.forceUpdate()}},{key:"validate",value:function(){var n=!0;return this.state.data.forEach(function(e){var t=DWKitAdminLang.msg.fieldrequired;e.__error={code:null==e.code||""==e.code?t:void 0,name:null==e.name||""==e.name?t:void 0},n&=null==e.__error.code&&null==e.__error.name,null!=e.children&&e.children.forEach(function(e){e.__error={code:null==e.code||""==e.code?t:void 0,name:null==e.name||""==e.name?t:void 0},n&=null==e.__error.code&&null==e.__error.name})}),n}},{key:"onSave",value:function(){var n,r=this;this.validate()?(n=[],this.state.data.forEach(function(e){var t;null!=e.__state?n.push($a($a({},e),{},{isGroup:!0,__type:r.datatype})):null!=e.children&&(t=!1,e.children.forEach(function(e){null!=e.__state&&(t=!0)}),t&&n.push($a($a({},e),{},{isGroup:!0,__state:"updated",__type:r.datatype})))}),this.ChangeData(n,function(e){r.ResetSystemProps(r.state.data),r.props.data.permissions=r.state.data,r.props.data.roles.forEach(function(e){e.permissions=e.permissions.filter(function(t){return r.props.data.permissions.some(function(e){return e.children.some(function(e){return e.id===t.id})})})}),r.onCancel()})):alertify.error(DWKitAdminLang.msg.checkerrorsonform)}},{key:"onCancel",value:function(){this.initData(this.props.data.permissions),this.state.ischanged=!1,this.forceUpdate()}},{key:"onCreateGroup",value:function(){this.state.data.unshift({id:this.NewGUID(),__state:"inserted"}),this.state.ischanged=!0,this.forceUpdate()}},{key:"onDeleteGroup",value:function(e){for(var t=this.state.data,n=void 0,r=0;r<t.length;r++)if(t[r].id==e){n=r;break}null!=n&&("inserted"==t[r].__state?t.splice(n,1):t[r].__state="deleted"),this.state.ischanged=!0,this.forceUpdate()}},{key:"onCreatePermission",value:function(e){for(var t=this.state.data,n=0;n<t.length;n++)if(t[n].id==e){null==t[n].children&&(t[n].children=[]),t[n].children.unshift({id:this.NewGUID(),__state:"inserted"});break}this.state.ischanged=!0,this.forceUpdate()}},{key:"onDeletePermission",value:function(e,t){this.state.data;for(var n=void 0,r=0;r<e.children.length;r++)if(e.children[r].id==t){n=r;break}null!=n&&(e.children.splice(n,1),void 0!==e.__state&&null!==e.__state||(e.__state="updated")),this.state.ischanged=!0,this.forceUpdate()}}])&&Xa(e.prototype,t),n&&Xa(e,n),o}();function ri(e){return(ri="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oi(){return(oi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ai(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ii(e,t){return(ii=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function li(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=ci(n);return e=r?(e=ci(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==ri(e)&&"function"!=typeof e?si(t):e}}function si(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ci(e){return(ci=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ui=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ii(e,t)}(o,v["a"]);var e,t,n,r=li(o);function o(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);var t,e=(t=r.call(this,e)).getQueryString();t.state={apanel:null==e.apanel?"dashboard":e.apanel,aid:e.aid,isloadig:!0,bearerHeader:null};var n=si(t);return window.onpopstate=function(e){var t=n.getQueryString();n.setState({apanel:null==t.apanel?"dashboard":t.apanel,aid:t.aid})},null==window.DWKitAdminLang&&(window.DWKitAdminLang=_),"cookies"!==t.props.authType?t.configureAuthAndLoad():t.load(),t.props.autocompleteHub&&t.setAutocompleteUpdate(),t}return e=o,(t=[{key:"setAutocompleteUpdate",value:function(){WorkflowDesignerWindows.Autocompleter.initSignalRCore({url:this.props.autocompleteHub,connectionBuilder:new T.HubConnectionBuilder})}},{key:"configureAuthAndLoad",value:function(){var t=this,e=this.props.authServerHost||"".concat(window.location.protocol,"//").concat(window.location.host),e={client_id:"spa",redirect_uri:"".concat(window.location.protocol,"//").concat(window.location.host),response_type:"token id_token",scope:"openid profile IdentityServerApi",authority:e,silent_redirect_uri:"".concat(window.location.protocol,"//").concat(window.location.host,"/silentRenew.html"),automaticSilentRenew:!0,filterProtocolClaims:!0,loadUserInfo:!0,monitorSession:!0};if((this.userManager=new j.UserManager(e),this.userManager.events.addUserLoaded(function(){t.userManager.getUser().then(function(e){e&&!e.expired&&t.configureHeaders(e)})}),this.userManager.events.addUserSignedOut(function(){t.userManager.removeUser().then(function(){t.userManager.signinRedirect()})}),window.location.hash)&&-1<window.location.hash.substring(1,window.location.hash.length-1).split("=").indexOf("id_token"))return this.getUserCallback(this.userManager.signinRedirectCallback()),void history.pushState(void 0,void 0,window.location.pathname);this.getUserCallback(this.userManager.getUser())}},{key:"getUserCallback",value:function(e){var t=this;e.then(function(e){return e&&!e.expired?(t.configureHeaders(e),Promise.resolve()):t.userManager.signinSilent()}).catch(function(){t.userManager.signinRedirect()}).then(function(){t.load()})}},{key:"configureHeaders",value:function(e){var t="Bearer "+e.access_token;$.ajaxSetup({beforeSend:function(e){e.setRequestHeader("Authorization",t)}}),this.bearerHeader=t}},{key:"load",value:function(n){var r=this,e=new Array;e.push({name:"operation",value:"load"}),$.ajax({url:r.props.apiUrl,data:e,async:!0,success:function(e){var t;e.success?r.setState({isloadig:!1,data:r.CorrectData(e.item)},n):(null==(t=e.message)&&(t=DWKitAdminLang.requesterror.configapi+": "+r.props.apiUrl+"!","string"==typeof e&&(console.error(DWKitAdminLang.requesterror.configapi+":",e),t+=" "+DWKitAdminLang.msg.lookdevconsole)),r.setState({progresserror:!0,progressmsg:t}))},error:function(e,t){r.processLoadError(e,t)}})}},{key:"processLoadError",value:function(e,t){t=this.getProcessLoadError(e,t);this.setState({progresserror:!0,progressmsg:t})}},{key:"CorrectData",value:function(e){return null==e.modules&&(e.modules=[]),null==e.dataModel&&(e.dataModel=[]),null==e.localization&&(e.localization=[]),null==e.mobileForms&&(e.mobileForms=[]),e}},{key:"handleErrEvent",value:function(e){this.props.eventerrfunc&&this.props.eventerrfunc(this,e)}},{key:"handleMenuItemClick",value:function(e,t){t=t.name;this.openpage(t,void 0)}},{key:"openpage",value:function(e,t,n,r){var o=window.location.href,o=this.updateQueryStringParameter(o,"apanel",e);o=this.updateQueryStringParameter(o,"aid",t),o=(o=(o=this.updateQueryStringParameter(o,"mode",r))&&"&"==o[o.length-1]?o.substring(0,o.length-1):o).replace("&&","&"),history.pushState(void 0,void 0,o),this.setState({apanel:e,aid:t,copyid:n,mode:r})}},{key:"render",value:function(){if(this.state.isloadig)return this.RenderLoading();var e=this.state.apanel,t=void 0,n=this.getQueryString(),n={id:n.aid,copyid:this.state.copyid,data:this.state.data,mode:n.mode,apiUrl:this.props.apiUrl,deltaWidth:this.props.deltaWidth,deltaHeight:this.props.deltaHeight,controlActions:this.props.controlActions,controlMobileActions:this.props.controlMobileActions,parent:this},t="dashboard"===e?V.a.createElement(F.a,oi({},n,{themesFolder:this.props.themesFolder})):"resources"===e?V.a.createElement(H,n):"datamodel"===e?V.a.createElement(Ue,n):"datasync"===e?V.a.createElement(Ze,n):"datasources"===e?V.a.createElement(lt,n):"codeactions"===e?V.a.createElement(Ot,oi({},n,{autocomplete:!!this.props.autocompleteHub})):"workflow"===e?V.a.createElement(Hr,oi({},n,{workflowApi:this.props.workflowApi})):"businessflow"===e?V.a.createElement(xo,oi({},n,{workflowApi:this.props.workflowApi})):"commandform"===e?V.a.createElement(zo,oi({},n,{workflowApi:this.props.workflowApi})):"forms"===e?V.a.createElement(At.a,oi({},n,{externalControlList:this.props.externalControlList,externalControlRender:this.props.externalControlRender,externalControlsOnly:this.props.externalControlsOnly})):"mobileforms"===e?V.a.createElement(Tr,oi({},n,{externalControlList:this.props.externalControlList,externalControlRender:this.props.externalControlRender,externalControlsOnly:this.props.externalControlsOnly})):"formdata"===e?V.a.createElement(zn,n):"actionhandlers"===e?V.a.createElement(ir,n):"localization"===e?V.a.createElement(gr,n):"users"===e?V.a.createElement(pa,n):"groups"===e?V.a.createElement(Qa,n):"roles"===e?V.a.createElement(Da,n):"permissions"===e?V.a.createElement(ni,n):"modules"===e?V.a.createElement(le,n):"workflowinstances"===e?V.a.createElement(yo,oi({},n,{workflowApi:this.props.workflowApi})):V.a.createElement("div",null,"The unknown part of DWKIT. Please, send the isssue to us via ",V.a.createElement("a",{href:"https://dwkit.com/contacts/"},"dwkit.com contact form"),"."),n=this.getRefreshMessage();return null==(n=null==n?this.getFormMappingMessage():n)&&(n=this.getCodeActionsMessage()),V.a.createElement("div",{className:"dwkit-formadmin-container"},V.a.createElement("div",{className:"dwkit-formadmin-header"},V.a.createElement("div",{className:"dwkit-formadmin-header-left"},V.a.createElement("img",{className:"dwkit-formadmin-header-logo",onClick:this.onApp.bind(this),src:"/images/logo.svg"})),V.a.createElement("div",{className:"dwkit-formadmin-header-center"},n,null==n&&V.a.createElement(g,{data:this.state.data,parent:this})),V.a.createElement("div",{className:"dwkit-formadmin-header-right"},V.a.createElement(w.Button,{name:"btnApp",className:"buttontype2",onClick:this.onApp.bind(this)},DWKitAdminLang.common.toolbarappbutton),V.a.createElement(R,{folder:this.props.localizationFolder,locale:this.props.locale,parent:this}))),V.a.createElement("div",{className:"dwkit-formadmin"},V.a.createElement("div",{className:"dwkit-formadmin-menu"},V.a.createElement(p,{parent:this,activeItem:e})),V.a.createElement("div",{className:"dwkit-formadmin-basecontent"},V.a.createElement("div",{className:"dwkit-formadmin-top"}),V.a.createElement("div",{className:"dwkit-formadmin-content"},t))))}},{key:"onApp",value:function(){null!=this.props.returnToAppUrl&&(window.location=this.props.returnToAppUrl)}},{key:"getCodeActionsMessage",value:function(){var e=void 0!==this.state.data.additionalParams&&void 0!==this.state.data.additionalParams.CodeActionErrors&&null!==this.state.data.additionalParams.CodeActionErrors&&0!==Object.getOwnPropertyNames(this.state.data.additionalParams.CodeActionErrors).length;if(!this.state.errorCodeActionsMessageHidden&&e){var t=this;return V.a.createElement("div",{style:{maxHeight:"45px",overflow:"hidden"}},V.a.createElement("div",{style:{float:"left",marginRight:"20px",color:"red"}},V.a.createElement("b",null,DWKitAdminLang.msg.serverglobalerror),V.a.createElement("br",null),V.a.createElement("span",null,DWKitAdminLang.msg.globalcodeactionshaveerrors)),V.a.createElement("div",null,V.a.createElement("button",{onClick:function(){t.state.errorCodeActionsMessageHidden=!0,t.forceUpdate()},className:"ui button secondary"},DWKitAdminLang.button.close)))}}},{key:"getFormMappingMessage",value:function(){var e=void 0!==this.state.data.additionalParams&&void 0!==this.state.data.additionalParams.FormMappingErrors&&null!==this.state.data.additionalParams.FormMappingErrors&&0<this.state.data.additionalParams.FormMappingErrors.length;if(!this.state.errorFormMappingMessageHidden&&e){var t=this,e=this.state.data.additionalParams.FormMappingErrors;return V.a.createElement("div",{style:{maxHeight:"45px",overflow:"hidden"}},V.a.createElement("div",{style:{float:"left",marginRight:"20px",color:"orange"}},V.a.createElement("b",null,DWKitAdminLang.msg.formmappingerror),V.a.createElement("br",null),V.a.createElement("span",null,e.join(", "))),V.a.createElement("div",null,V.a.createElement("a",{href:"?apanel=formdata",onClick:this.openFormMapping.bind(this),className:"ui button primary"},DWKitAdminLang.sidemenu.formdata),V.a.createElement("button",{onClick:function(){t.state.errorFormMappingMessageHidden=!0,t.forceUpdate()},className:"ui button secondary"},DWKitAdminLang.button.close)))}}},{key:"getRefreshMessage",value:function(){var e=this;if(this.state.showRefreshMessage)return V.a.createElement("div",{style:{maxHeight:"45px",overflow:"hidden"}},V.a.createElement("div",{style:{float:"left",marginRight:"20px",color:"orange"}},V.a.createElement("b",null,"Your configuration changed. Need to refresh page to apply these changes"),V.a.createElement("br",null)),V.a.createElement("div",null,V.a.createElement("button",{onClick:function(){e.setState({showRefreshMessage:!1}),window.location.reload(!1)},className:"ui button primary"},DWKitAdminLang.button.refresh)))}},{key:"openFormMapping",value:function(e){document.location.hash="",this.openpage("formdata",void 0),e.preventDefault()}}])&&ai(e.prototype,t),n&&ai(e,n),o}()},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var t=n(0),l=n.n(t),s=(n(4),n(1)),t=n(3),a=n.n(t),i=n(7),c=n(5),t=n(10),u=n.n(t);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function d(r){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?p(Object(o),!0).forEach(function(e){var t,n;t=r,e=o[n=e],n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):p(Object(o)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))})}return r}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=y(n);return e=r?(e=y(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==o(e)&&"function"!=typeof e?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var b=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(o,l.a.Component);var e,t,n,r=h(o);function o(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(e=r.call(this,e)).state={adaptiveViewType:"desktop",data:e.getObjToStorage("data"),errors:e.getObjToStorage("errors"),eventslog:""},e}return e=o,(t=[{key:"setData",value:function(e){this.setState({data:a.a.stringify(e,null,4)})}},{key:"setModel",value:function(e){this.setState({model:e})}},{key:"render",value:function(){var e=this,t=[],n=void 0;try{t=a.a.parse(this.state.data),null==this.state.errors&&""!=this.state.errors||(n=a.a.parse(this.state.errors))}catch(e){}return l.a.createElement(u.a,{style:{display:"flex"},sizes:[75,25],onDrag:function(){return e.forceUpdate()}},l.a.createElement(s.Segment,{style:{overflow:"auto"}},l.a.createElement(c.DWKitForm,{model:this.props.model,data:t,errors:n,eventFunc:this.eventFunc.bind(this),dataChanged:this.formDataChaged.bind(this),getFormFunc:this.props.getFormFunc,getAdditionalDataForControl:this.props.getAdditionalDataForControl,externalControlList:this.props.externalControlList,externalControlRender:this.props.externalControlRender,adaptiveViewType:this.state.adaptiveViewType})),l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement(s.Checkbox,{style:{marginRight:"10px"},radio:!0,name:"adaptiveViewTypeDesktop",label:"Desktop",checked:"desktop"==this.state.adaptiveViewType,onChange:function(){e.setState({adaptiveViewType:"desktop"})}}),l.a.createElement(s.Checkbox,{radio:!0,name:"adaptiveViewTypeMobile",label:"Mobile",checked:"mobile"==this.state.adaptiveViewType,onChange:function(){e.setState({adaptiveViewType:"mobile"})}})),l.a.createElement("h3",null,"Data"),l.a.createElement(s.TextArea,{rows:12,wrap:"off",style:{width:"100%"},onChange:this.handleChange.bind(this),value:this.state.data}),l.a.createElement("h3",null,"Errors"),l.a.createElement(s.TextArea,{rows:4,wrap:"off",style:{width:"100%"},onChange:this.handleChangeErrors.bind(this),value:this.state.errors}),l.a.createElement("h3",null,"Events"),l.a.createElement(s.TextArea,{rows:12,wrap:"off",style:{width:"100%"},readOnly:!0,value:this.state.eventslog})))}},{key:"eventFunc",value:function(e){var t,n;"onChange"==e.eventName&&Array.isArray(e.actions)&&1==e.actions.length&&"checkConditions"==e.actions[0]||(e.syntheticEvent=void 0,e.component=void 0,e.controlRef=void 0,e.sourceEvent=void 0,n="",0<(t=this.state.eventslog).length&&(n="\n"),t=(new Date).toLocaleTimeString()+": "+a.a.stringify(d(d({},e),{},{e:void 0,sourceControlRef:void 0}))+n+t,this.setState({eventslog:t}))}},{key:"formDataChaged",value:function(e,t){t.key,t.value;e=a.a.stringify(e.state.data,null,4);this.saveObjToStorage("data",e),this.setState({data:e})}},{key:"handleChange",value:function(e,t){t=t.value;this.saveObjToStorage("data",t),this.setState({data:t})}},{key:"handleChangeErrors",value:function(e,t){t=t.value;this.saveObjToStorage("errors",t),this.setState({errors:t})}},{key:"saveObjToStorage",value:function(e,t){window.localStorage&&localStorage.setItem(this.props.name+"_"+e,t)}},{key:"getObjToStorage",value:function(e){if(window.localStorage){e=localStorage.getItem(this.props.name+"_"+e);return e||"{\n\t\n}"}return"{\n\t\n}"}}])&&f(e.prototype,t),n&&f(e,n),o}(),g=n(2);function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function V(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function w(r){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?V(Object(o),!0).forEach(function(e){var t,n;t=r,e=o[n=e],n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):V(Object(o)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))})}return r}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function C(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=_(n);return e=r?(e=_(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==v(e)&&"function"!=typeof e?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var O={icon:"browser"},S={icon:"server"},A={icon:"lightning"},D=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(o,g["a"]);var e,t,n,r=C(o);function o(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(e=r.call(this,e)).state={dropzoneactive:!0,actionHandlers:[],showbuilder:!0,forms:{}},e}return e=o,(t=[{key:"componentDidMount",value:function(){this.state.id!==this.props.data.name&&this.loadform()}},{key:"loadform",value:function(){var n=this,t=!1;if(n.state.id=n.props.data.name,this.props.metadata.forms.forEach(function(e){e.name===n.props.data.name&&(t=!0)}),!t)return this.props.data.__state="inserted",void(null!=n.builder&&n.builder.create());var e=new Array;e.push({name:"operation",value:"loadform"}),e.push({name:"name",value:n.props.data.name}),$.ajax({url:n.props.apiUrl,data:e,async:!0,type:"post",success:function(e){var t;e.success?(t=JSON.parse(e.item.source),null!=n.builder&&n.builder.loadData(t),n.setState({actionHandlers:e.item.actionHandlers}),n.forceUpdate()):alertify.error(e.message)}})}},{key:"messageClose",value:function(){this.setState({message:void 0})}},{key:"getForm",value:function(e){if(this.state.forms[e])return this.state.forms[e];Pace.start();var t=new Array;t.push({name:"operation",value:"loadform"}),t.push({name:"name",value:e});var n=$.ajax({url:this.props.apiUrl,data:t,async:!1,type:"post"}).responseJSON;Pace.stop();t=void 0;return n.success?null!=n.item&&null!=n.item.source?t=a.a.parse(n.item.source):alertify.error("Builder: Incorrect source of '"+e+"' form!"):alertify.error(n.message),this.state.forms[e]=t}},{key:"getFormList",value:function(){var t=[];return this.props.metadata.forms.forEach(function(e){t.push(e.name)}),t}},{key:"getTemplateList",value:function(){var t=this,n=[];return this.props.metadata.forms.forEach(function(e){e.isTemplate&&e.name!==t.props.data.name&&n.push(e.name)}),n}},{key:"getAdditionalDataForControl",value:function(e,t,n){var r=t.startIndex,o=t.pageSize,a=(t.filters,t.sort,t.model);if("dictionary"===e.props["data-buildertype"]||"treepicker"===e.props["data-buildertype"]){for(var i=[],l=0;l<3;l++){var s={};s.key=a+"_"+l,s.text=a+"_"+l,s.value=l,i.push(s)}n({items:i})}else{var c=[];if(Array.isArray(e.props.columns))for(var u=0;u<o;u++)!function(t){var n={};e.props.columns.forEach(function(e){n[e.key]=e.key+"_"+(Number(r)+Number(t))}),c.push(n)}(u);else c.push({}),c.push({}),c.push({}),c.push({}),c.push({});t=c.length;n({startIndex:r,pageSize:o,rowsCount:t,items:c})}}},{key:"render",value:function(){var e=this,t=[];this.props.metadata.workflow.forEach(function(e){t.push({text:e.code,value:e.code})});function n(){e.setState({workflowopen:!1})}function r(){e.setState({securityopen:!1})}var o=null!=this.state.message,a=this.state.showbuilder?"":"dwkit-formbuilder-selector-preview",i=this.state.isFullScreen?"dwkit-admin-formbuilder-container-fullscreen":"dwkit-admin-formbuilder-container";return l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement("div",{className:"dwkit-admin-formheader-breadcrumb"},l.a.createElement(s.Breadcrumb,null,l.a.createElement(s.Breadcrumb.Section,{onClick:this.props.parent.back.bind(this.props.parent),link:!0},DWKitAdminLang.form.title),l.a.createElement(s.Breadcrumb.Divider,null),l.a.createElement(s.Breadcrumb.Section,{active:!0},this.props.data.name),l.a.createElement(s.Breadcrumb.Divider,{icon:"right angle"}),l.a.createElement(s.Breadcrumb.Section,{href:"?apanel=formdata&aid="+this.state.id,onClick:this.openDataMap.bind(this)},DWKitAdminLang.form.datamap),l.a.createElement(s.Breadcrumb.Divider,null),l.a.createElement(s.Breadcrumb.Section,{href:"?apanel=actionhandlers&aid="+this.state.id,onClick:this.openActionHandlers.bind(this)},DWKitAdminLang.form.actionhandler),l.a.createElement(s.Breadcrumb.Divider,{icon:"right angle"}),l.a.createElement(s.Breadcrumb.Section,{href:"/form/"+this.props.id,target:"_blank"},DWKitAdminLang.form.open))),l.a.createElement("div",{className:"dwkit-admin-formheader-parameters"},l.a.createElement(s.Checkbox,{name:"isTemplate",label:DWKitAdminLang.form.template,checked:this.props.data.isTemplate,onChange:this.handleChange.bind(this)}))),l.a.createElement("div",{id:"formbuildercontainer",className:i},l.a.createElement("div",null,l.a.createElement("div",{className:"dwkit-admin-form-buttons"},l.a.createElement(s.Button,{className:"buttontype1",onClick:this.onSave.bind(this)},DWKitAdminLang.button.save),l.a.createElement(s.Button,{className:"buttontype2",onClick:this.onDownload.bind(this)},DWKitAdminLang.button.download),l.a.createElement(s.Button,{className:"buttontype2",onClick:this.onUpload.bind(this)},DWKitAdminLang.button.upload),l.a.createElement(s.Button,{className:"buttontype2",onClick:function(){e.setState({workflowopen:!0})}},DWKitAdminLang.button.workflow),l.a.createElement(s.Button,{className:"buttontype2",onClick:function(){e.setState({securityopen:!0})}},DWKitAdminLang.button.security),l.a.createElement("div",{style:{display:"inline",float:"right"}},l.a.createElement("div",{className:"dwkit-formbuilder-selector"},l.a.createElement("span",{className:a},DWKitAdminLang.form.viewer),l.a.createElement(s.Checkbox,{toggle:!0,name:"cbShowDropzones",label:DWKitAdminLang.form.builder,checked:this.state.showbuilder,onChange:this.handlePreviewClick.bind(this)})),l.a.createElement(s.Button,{className:"buttontype2",onClick:this.onFullscreen.bind(this)},DWKitAdminLang.form.fullscreenbutton),l.a.createElement(s.Button,{className:"buttontype2",disabled:!this.state.showbuilder,onClick:this.onClearForm.bind(this)},DWKitAdminLang.form.clearformbutton))),l.a.createElement("form",{action:"",id:"dwkitadmin-form-uploadform",method:"post",style:{display:"none"},encType:"multipart/form-data",onSubmit:this.onEmpty.bind(this)},l.a.createElement("input",{type:"file",name:"dwkitadmin-form-uploadfile",id:"dwkitadmin-form-uploadfile",onChange:this.onUpload_onchange.bind(this)})),this.renderBuilder(),this.renderViewer(),l.a.createElement(s.Modal,{dimmer:"blurring",open:o,onClose:this.messageClose.bind(this)},l.a.createElement(s.Modal.Header,null,DWKitAdminLang.form.messagetitle),l.a.createElement(s.Modal.Content,null,l.a.createElement("p",null,this.state.message)),l.a.createElement(s.Modal.Actions,null,l.a.createElement(s.Button,{icon:"check",content:DWKitAdminLang.button.ok,onClick:this.messageClose.bind(this)}))),l.a.createElement(s.Modal,{dimmer:"blurring",open:this.state.workflowopen,onClose:n},l.a.createElement(s.Modal.Header,null,DWKitAdminLang.form.workflowwindowtitle),l.a.createElement(s.Modal.Content,null,l.a.createElement("p",null,DWKitAdminLang.form.workflowinfoblock),l.a.createElement(s.Form.Dropdown,{label:DWKitAdminLang.form.workflowschemesfield,name:"schemes",multiple:!0,search:!0,selection:!0,options:t,value:null==this.props.data.schemes?[]:this.props.data.schemes,onChange:this.handleChange.bind(this)})),l.a.createElement(s.Modal.Actions,null,l.a.createElement(s.Button,{className:"buttontype1",content:DWKitAdminLang.button.apply,onClick:n}))),l.a.createElement(s.Modal,{dimmer:"blurring",open:this.state.securityopen,onClose:r},l.a.createElement(s.Modal.Header,null,DWKitAdminLang.form.securitywindowtitle),l.a.createElement(s.Modal.Content,null,l.a.createElement("p",null,DWKitAdminLang.form.securityinfoblock),l.a.createElement(s.Form.Input,{label:DWKitAdminLang.form.permissionsgroupfield,name:"securityGroup",value:this.props.data.securityGroup,onChange:this.handleChange.bind(this)})),l.a.createElement(s.Modal.Actions,null,l.a.createElement(s.Button,{className:"buttontype1",content:DWKitAdminLang.button.apply,onClick:r}))))))}},{key:"renderBuilder",value:function(){var e,t=this,n=[];this.state.actionHandlers&&(n=this.state.actionHandlers.map(function(e){return w(w({},A),{},{text:e})})),this.props.parent.props.controlActions&&(e=this.props.parent.props.controlActions.map(function(e){return"string"==typeof e?w(w({},O),{},{text:e}):e}),n=n.concat(e.filter(function(t){return n.every(function(e){return e.text!==t.text})}))),this.props.parent.props.data&&this.props.parent.props.data.codeActions&&(r=this.props.parent.props.data.codeActions.filter(function(e){return 1===e.type}),n=n.concat(r.filter(function(t){return n.every(function(e){return e.text!==t.name})}).map(function(e){return w(w({},S),{},{text:e.name})}))),n.sort(function(e,t){return e.text.localeCompare(t.text)});var r={};return this.state.showbuilder||(r.style={display:"none"}),l.a.createElement("div",r,l.a.createElement(c.DWKitFormBuilder,{formName:this.state.id,actions:n,getFormFunc:this.getForm.bind(this),getFormList:this.getFormList.bind(this),getAdditionalDataForControl:this.getAdditionalDataForControl.bind(this),ref:function(e){t.builder=e},localization:window.DWKitAdminLang.formbuilder,templates:this.getTemplateList(),externalControlList:this.props.externalControlList,externalControlRender:this.props.externalControlRender,externalControlsOnly:this.props.externalControlsOnly}))}},{key:"renderViewer",value:function(){var e={name:this.state.id};return this.state.showbuilder&&(e.style={display:"none"}),l.a.createElement("div",e,l.a.createElement(b,{name:this.state.id,model:this.state.viewerModel,getFormFunc:this.getForm.bind(this),getAdditionalDataForControl:this.getAdditionalDataForControl.bind(this),externalControlList:this.props.externalControlList,externalControlRender:this.props.externalControlRender}))}},{key:"openDataMap",value:function(e){this.props.parent.props.parent.openpage("formdata",this.state.id),e.preventDefault()}},{key:"openActionHandlers",value:function(e){this.props.parent.props.parent.openpage("actionhandlers",this.state.id),e.preventDefault()}},{key:"onClearForm",value:function(){this.builder.create()}},{key:"onSave",value:function(){var t=this;this.props.data.source=JSON.stringify(this.builder.getData()),t.setUpdatedState(this.props.data),this.props.data.__type=this.props.parent.datatype,this.ChangeData([this.props.data],function(e){t.props.data.__state;t.ResetSystemProps(t.props.data),t.props.parent.applyeditrow()})}},{key:"onDownload",value:function(){this.builder.download()}},{key:"onUpload",value:function(){$("#dwkitadmin-form-uploadfile").trigger("click")}},{key:"onUpload_onchange",value:function(){this.builder.upload($("#dwkitadmin-form-uploadfile")[0],function(){alertify.success(DWKitAdminLang.msg.fileupoaded)})}},{key:"onFullscreen",value:function(){this.setState({isFullScreen:!this.state.isFullScreen})}},{key:"handleShowDropzonesClick",value:function(e,t){t.name;t=t.checked;this.builder.setBuilderMode(t),this.setState({dropzoneactive:t})}},{key:"handlePreviewClick",value:function(e,t){t.name;t=t.checked;this.setState({showbuilder:t,viewerModel:t?[]:this.builder.getData()})}},{key:"handleChange",value:function(e,t){var n=t.name,r=t.value,t=t.checked;this.props.data[n]=void 0!==t?t:r,this.forceUpdate()}},{key:"onEmpty",value:function(){}}])&&E(e.prototype,t),n&&E(e,n),o}();function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function L(e,t){return(L=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function R(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=j(n);return e=r?(e=j(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==x(e)&&"function"!=typeof e?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var r=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&L(e,t)}(o,i["a"]);var e,t,n,r=R(o);function o(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(e=r.call(this,e)).editform=D,e.dataindex="forms",e.idfield="name",e.panelindex="forms",e.datatype="form",e.title=DWKitAdminLang.form.title,e.titleGetter=function(e){return e.form.title},e.ignoreidcase=!0,e}return e=o,(t=[{key:"gridColumns",value:function(){return[{key:"name",name:DWKitAdminLang.column.name,resizable:!0},{key:"isTemplate",name:DWKitAdminLang.column.template,resizable:!0,type:"checkbox"}]}}])&&P(e.prototype,t),n&&P(e,n),o}()},function(Zt,en,e){var tn;
/*!
 * jQuery JavaScript Library v3.6.0
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2021-03-02T17:08Z
 */
!function(e,t){"use strict";"object"==typeof Zt.exports?Zt.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(E,e){"use strict";function h(e){return null!=e&&e===e.window}var t=[],n=Object.getPrototypeOf,l=t.slice,y=t.flat?function(e){return t.flat.call(e)}:function(e){return t.concat.apply([],e)},s=t.push,o=t.indexOf,r={},a=r.toString,b=r.hasOwnProperty,i=b.toString,c=i.call(Object),g={},v=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item},k=E.document,u={type:!0,src:!0,nonce:!0,noModule:!0};function V(e,t,n){var r,o,a=(n=n||k).createElement("script");if(a.text=e,t)for(r in u)(o=t[r]||t.getAttribute&&t.getAttribute(r))&&a.setAttribute(r,o);n.head.appendChild(a).parentNode.removeChild(a)}function m(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?r[a.call(e)]||"object":typeof e}var C=function(e,t){return new C.fn.init(e,t)};function p(e){var t=!!e&&"length"in e&&e.length,n=m(e);return!v(e)&&!h(e)&&("array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e)}C.fn=C.prototype={jquery:"3.6.0",constructor:C,length:0,toArray:function(){return l.call(this)},get:function(e){return null==e?l.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){e=C.merge(this.constructor(),e);return e.prevObject=this,e},each:function(e){return C.each(this,e)},map:function(n){return this.pushStack(C.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return this.pushStack(l.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(C.grep(this,function(e,t){return(t+1)%2}))},odd:function(){return this.pushStack(C.grep(this,function(e,t){return t%2}))},eq:function(e){var t=this.length,e=+e+(e<0?t:0);return this.pushStack(0<=e&&e<t?[this[e]]:[])},end:function(){return this.prevObject||this.constructor()},push:s,sort:t.sort,splice:t.splice},C.extend=C.fn.extend=function(){var e,t,n,r,o,a=arguments[0]||{},i=1,l=arguments.length,s=!1;for("boolean"==typeof a&&(s=a,a=arguments[i]||{},i++),"object"==typeof a||v(a)||(a={}),i===l&&(a=this,i--);i<l;i++)if(null!=(e=arguments[i]))for(t in e)n=e[t],"__proto__"!==t&&a!==n&&(s&&n&&(C.isPlainObject(n)||(r=Array.isArray(n)))?(o=a[t],o=r&&!Array.isArray(o)?[]:r||C.isPlainObject(o)?o:{},r=!1,a[t]=C.extend(s,o,n)):void 0!==n&&(a[t]=n));return a},C.extend({expando:"jQuery"+("3.6.0"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){return!(!e||"[object Object]"!==a.call(e))&&(!(e=n(e))||"function"==typeof(e=b.call(e,"constructor")&&e.constructor)&&i.call(e)===c)},isEmptyObject:function(e){for(var t in e)return!1;return!0},globalEval:function(e,t,n){V(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,r=0;if(p(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},makeArray:function(e,t){t=t||[];return null!=e&&(p(Object(e))?C.merge(t,"string"==typeof e?[e]:e):s.call(t,e)),t},inArray:function(e,t,n){return null==t?-1:o.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,o=e.length;r<n;r++)e[o++]=t[r];return e.length=o,e},grep:function(e,t,n){for(var r=[],o=0,a=e.length,i=!n;o<a;o++)!t(e[o],o)!=i&&r.push(e[o]);return r},map:function(e,t,n){var r,o,a=0,i=[];if(p(e))for(r=e.length;a<r;a++)null!=(o=t(e[a],a,n))&&i.push(o);else for(a in e)null!=(o=t(e[a],a,n))&&i.push(o);return y(i)},guid:1,support:g}),"function"==typeof Symbol&&(C.fn[Symbol.iterator]=t[Symbol.iterator]),C.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){r["[object "+t+"]"]=t.toLowerCase()});var d=
/*!
 * Sizzle CSS Selector Engine v2.3.6
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://js.foundation/
 *
 * Date: 2021-02-16
 */
function(n){function p(e,t){return e="0x"+e.slice(1)-65536,t||(e<0?String.fromCharCode(65536+e):String.fromCharCode(e>>10|55296,1023&e|56320))}function r(){E()}var e,d,V,a,o,f,m,h,w,s,c,E,k,i,C,y,l,u,b,_="sizzle"+ +new Date,g=n.document,O=0,v=0,S=se(),A=se(),D=se(),x=se(),P=function(e,t){return e===t&&(c=!0),0},L={}.hasOwnProperty,t=[],R=t.pop,j=t.push,T=t.push,F=t.slice,N=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},I="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",M="[\\x20\\t\\r\\n\\f]",B="(?:\\\\[\\da-fA-F]{1,6}"+M+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",W="\\["+M+"*("+B+")(?:"+M+"*([*^$|!~]?=)"+M+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+B+"))|)"+M+"*\\]",U=":("+B+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+W+")*)|.*)\\)|)",K=new RegExp(M+"+","g"),z=new RegExp("^"+M+"+|((?:^|[^\\\\])(?:\\\\.)*)"+M+"+$","g"),q=new RegExp("^"+M+"*,"+M+"*"),G=new RegExp("^"+M+"*([>+~]|"+M+")"+M+"*"),H=new RegExp(M+"|>"),Q=new RegExp(U),J=new RegExp("^"+B+"$"),Y={ID:new RegExp("^#("+B+")"),CLASS:new RegExp("^\\.("+B+")"),TAG:new RegExp("^("+B+"|[*])"),ATTR:new RegExp("^"+W),PSEUDO:new RegExp("^"+U),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+M+"*(even|odd|(([+-]|)(\\d*)n|)"+M+"*(?:([+-]|)"+M+"*(\\d+)|))"+M+"*\\)|)","i"),bool:new RegExp("^(?:"+I+")$","i"),needsContext:new RegExp("^"+M+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+M+"*((?:-\\d)?\\d*)"+M+"*\\)|)(?=[^-]|$)","i")},$=/HTML$/i,X=/^(?:input|select|textarea|button)$/i,Z=/^h\d$/i,ee=/^[^{]+\{\s*\[native \w/,te=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ne=/[+~]/,re=new RegExp("\\\\[\\da-fA-F]{1,6}"+M+"?|\\\\([^\\r\\n\\f])","g"),oe=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ae=function(e,t){return t?"\0"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},ie=ge(function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{T.apply(t=F.call(g.childNodes),g.childNodes),t[g.childNodes.length].nodeType}catch(e){T={apply:t.length?function(e,t){j.apply(e,F.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}function le(t,e,n,r){var o,a,i,l,s,c,u=e&&e.ownerDocument,p=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==p&&9!==p&&11!==p)return n;if(!r&&(E(e),e=e||k,C)){if(11!==p&&(l=te.exec(t)))if(c=l[1]){if(9===p){if(!(a=e.getElementById(c)))return n;if(a.id===c)return n.push(a),n}else if(u&&(a=u.getElementById(c))&&b(e,a)&&a.id===c)return n.push(a),n}else{if(l[2])return T.apply(n,e.getElementsByTagName(t)),n;if((c=l[3])&&d.getElementsByClassName&&e.getElementsByClassName)return T.apply(n,e.getElementsByClassName(c)),n}if(d.qsa&&!x[t+" "]&&(!y||!y.test(t))&&(1!==p||"object"!==e.nodeName.toLowerCase())){if(c=t,u=e,1===p&&(H.test(t)||G.test(t))){for((u=ne.test(t)&&he(e.parentNode)||e)===e&&d.scope||((i=e.getAttribute("id"))?i=i.replace(oe,ae):e.setAttribute("id",i=_)),o=(s=f(t)).length;o--;)s[o]=(i?"#"+i:":scope")+" "+be(s[o]);c=s.join(",")}try{return T.apply(n,u.querySelectorAll(c)),n}catch(e){x(t,!0)}finally{i===_&&e.removeAttribute("id")}}}return h(t.replace(z,"$1"),e,n,r)}function se(){var n=[];function r(e,t){return n.push(e+" ")>V.cacheLength&&delete r[n.shift()],r[e+" "]=t}return r}function ce(e){return e[_]=!0,e}function ue(e){var t=k.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function pe(e,t){for(var n=e.split("|"),r=n.length;r--;)V.attrHandle[n[r]]=t}function de(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function fe(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&ie(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function me(i){return ce(function(a){return a=+a,ce(function(e,t){for(var n,r=i([],e.length,a),o=r.length;o--;)e[n=r[o]]&&(e[n]=!(t[n]=e[n]))})})}function he(e){return e&&void 0!==e.getElementsByTagName&&e}for(e in d=le.support={},o=le.isXML=function(e){var t=e&&e.namespaceURI,e=e&&(e.ownerDocument||e).documentElement;return!$.test(t||e&&e.nodeName||"HTML")},E=le.setDocument=function(e){var t,e=e?e.ownerDocument||e:g;return e!=k&&9===e.nodeType&&e.documentElement&&(i=(k=e).documentElement,C=!o(k),g!=k&&(t=k.defaultView)&&t.top!==t&&(t.addEventListener?t.addEventListener("unload",r,!1):t.attachEvent&&t.attachEvent("onunload",r)),d.scope=ue(function(e){return i.appendChild(e).appendChild(k.createElement("div")),void 0!==e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length}),d.attributes=ue(function(e){return e.className="i",!e.getAttribute("className")}),d.getElementsByTagName=ue(function(e){return e.appendChild(k.createComment("")),!e.getElementsByTagName("*").length}),d.getElementsByClassName=ee.test(k.getElementsByClassName),d.getById=ue(function(e){return i.appendChild(e).id=_,!k.getElementsByName||!k.getElementsByName(_).length}),d.getById?(V.filter.ID=function(e){var t=e.replace(re,p);return function(e){return e.getAttribute("id")===t}},V.find.ID=function(e,t){if(void 0!==t.getElementById&&C){e=t.getElementById(e);return e?[e]:[]}}):(V.filter.ID=function(e){var t=e.replace(re,p);return function(e){e=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return e&&e.value===t}},V.find.ID=function(e,t){if(void 0!==t.getElementById&&C){var n,r,o,a=t.getElementById(e);if(a){if((n=a.getAttributeNode("id"))&&n.value===e)return[a];for(o=t.getElementsByName(e),r=0;a=o[r++];)if((n=a.getAttributeNode("id"))&&n.value===e)return[a]}return[]}}),V.find.TAG=d.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):d.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],o=0,a=t.getElementsByTagName(e);if("*"!==e)return a;for(;n=a[o++];)1===n.nodeType&&r.push(n);return r},V.find.CLASS=d.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&C)return t.getElementsByClassName(e)},l=[],y=[],(d.qsa=ee.test(k.querySelectorAll))&&(ue(function(e){var t;i.appendChild(e).innerHTML="<a id='"+_+"'></a><select id='"+_+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&y.push("[*^$]="+M+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||y.push("\\["+M+"*(?:value|"+I+")"),e.querySelectorAll("[id~="+_+"-]").length||y.push("~="),(t=k.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||y.push("\\["+M+"*name"+M+"*="+M+"*(?:''|\"\")"),e.querySelectorAll(":checked").length||y.push(":checked"),e.querySelectorAll("a#"+_+"+*").length||y.push(".#.+[+~]"),e.querySelectorAll("\\\f"),y.push("[\\r\\n\\f]")}),ue(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=k.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&y.push("name"+M+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&y.push(":enabled",":disabled"),i.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&y.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),y.push(",.*:")})),(d.matchesSelector=ee.test(u=i.matches||i.webkitMatchesSelector||i.mozMatchesSelector||i.oMatchesSelector||i.msMatchesSelector))&&ue(function(e){d.disconnectedMatch=u.call(e,"*"),u.call(e,"[s!='']:x"),l.push("!=",U)}),y=y.length&&new RegExp(y.join("|")),l=l.length&&new RegExp(l.join("|")),t=ee.test(i.compareDocumentPosition),b=t||ee.test(i.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,t=t&&t.parentNode;return e===t||!(!t||1!==t.nodeType||!(n.contains?n.contains(t):e.compareDocumentPosition&&16&e.compareDocumentPosition(t)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},P=t?function(e,t){if(e===t)return c=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!d.sortDetached&&t.compareDocumentPosition(e)===n?e==k||e.ownerDocument==g&&b(g,e)?-1:t==k||t.ownerDocument==g&&b(g,t)?1:s?N(s,e)-N(s,t):0:4&n?-1:1)}:function(e,t){if(e===t)return c=!0,0;var n,r=0,o=e.parentNode,a=t.parentNode,i=[e],l=[t];if(!o||!a)return e==k?-1:t==k?1:o?-1:a?1:s?N(s,e)-N(s,t):0;if(o===a)return de(e,t);for(n=e;n=n.parentNode;)i.unshift(n);for(n=t;n=n.parentNode;)l.unshift(n);for(;i[r]===l[r];)r++;return r?de(i[r],l[r]):i[r]==g?-1:l[r]==g?1:0}),k},le.matches=function(e,t){return le(e,null,null,t)},le.matchesSelector=function(e,t){if(E(e),d.matchesSelector&&C&&!x[t+" "]&&(!l||!l.test(t))&&(!y||!y.test(t)))try{var n=u.call(e,t);if(n||d.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){x(t,!0)}return 0<le(t,k,null,[e]).length},le.contains=function(e,t){return(e.ownerDocument||e)!=k&&E(e),b(e,t)},le.attr=function(e,t){(e.ownerDocument||e)!=k&&E(e);var n=V.attrHandle[t.toLowerCase()],n=n&&L.call(V.attrHandle,t.toLowerCase())?n(e,t,!C):void 0;return void 0!==n?n:d.attributes||!C?e.getAttribute(t):(n=e.getAttributeNode(t))&&n.specified?n.value:null},le.escape=function(e){return(e+"").replace(oe,ae)},le.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},le.uniqueSort=function(e){var t,n=[],r=0,o=0;if(c=!d.detectDuplicates,s=!d.sortStable&&e.slice(0),e.sort(P),c){for(;t=e[o++];)t===e[o]&&(r=n.push(o));for(;r--;)e.splice(n[r],1)}return s=null,e},a=le.getText=function(e){var t,n="",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=a(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[r++];)n+=a(t);return n},(V=le.selectors={cacheLength:50,createPseudo:ce,match:Y,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(re,p),e[3]=(e[3]||e[4]||e[5]||"").replace(re,p),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||le.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&le.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return Y.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&Q.test(n)&&(t=f(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(re,p).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=S[e+" "];return t||(t=new RegExp("(^|"+M+")"+e+"("+M+"|$)"))&&S(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(t,n,r){return function(e){e=le.attr(e,t);return null==e?"!="===n:!n||(e+="","="===n?e===r:"!="===n?e!==r:"^="===n?r&&0===e.indexOf(r):"*="===n?r&&-1<e.indexOf(r):"$="===n?r&&e.slice(-r.length)===r:"~="===n?-1<(" "+e.replace(K," ")+" ").indexOf(r):"|="===n&&(e===r||e.slice(0,r.length+1)===r+"-"))}},CHILD:function(m,e,t,h,y){var b="nth"!==m.slice(0,3),g="last"!==m.slice(-4),v="of-type"===e;return 1===h&&0===y?function(e){return!!e.parentNode}:function(e,t,n){var r,o,a,i,l,s,c=b!=g?"nextSibling":"previousSibling",u=e.parentNode,p=v&&e.nodeName.toLowerCase(),d=!n&&!v,f=!1;if(u){if(b){for(;c;){for(i=e;i=i[c];)if(v?i.nodeName.toLowerCase()===p:1===i.nodeType)return!1;s=c="only"===m&&!s&&"nextSibling"}return!0}if(s=[g?u.firstChild:u.lastChild],g&&d){for(f=(l=(r=(o=(a=(i=u)[_]||(i[_]={}))[i.uniqueID]||(a[i.uniqueID]={}))[m]||[])[0]===O&&r[1])&&r[2],i=l&&u.childNodes[l];i=++l&&i&&i[c]||(f=l=0)||s.pop();)if(1===i.nodeType&&++f&&i===e){o[m]=[O,l,f];break}}else if(!1===(f=d?l=(r=(o=(a=(i=e)[_]||(i[_]={}))[i.uniqueID]||(a[i.uniqueID]={}))[m]||[])[0]===O&&r[1]:f))for(;(i=++l&&i&&i[c]||(f=l=0)||s.pop())&&((v?i.nodeName.toLowerCase()!==p:1!==i.nodeType)||!++f||(d&&((o=(a=i[_]||(i[_]={}))[i.uniqueID]||(a[i.uniqueID]={}))[m]=[O,f]),i!==e)););return(f-=y)===h||f%h==0&&0<=f/h}}},PSEUDO:function(e,a){var t,i=V.pseudos[e]||V.setFilters[e.toLowerCase()]||le.error("unsupported pseudo: "+e);return i[_]?i(a):1<i.length?(t=[e,e,"",a],V.setFilters.hasOwnProperty(e.toLowerCase())?ce(function(e,t){for(var n,r=i(e,a),o=r.length;o--;)e[n=N(e,r[o])]=!(t[n]=r[o])}):function(e){return i(e,0,t)}):i}},pseudos:{not:ce(function(e){var r=[],o=[],l=m(e.replace(z,"$1"));return l[_]?ce(function(e,t,n,r){for(var o,a=l(e,null,r,[]),i=e.length;i--;)(o=a[i])&&(e[i]=!(t[i]=o))}):function(e,t,n){return r[0]=e,l(r,null,n,o),r[0]=null,!o.pop()}}),has:ce(function(t){return function(e){return 0<le(t,e).length}}),contains:ce(function(t){return t=t.replace(re,p),function(e){return-1<(e.textContent||a(e)).indexOf(t)}}),lang:ce(function(n){return J.test(n||"")||le.error("unsupported lang: "+n),n=n.replace(re,p).toLowerCase(),function(e){var t;do{if(t=C?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=n.location&&n.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===i},focus:function(e){return e===k.activeElement&&(!k.hasFocus||k.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:fe(!1),disabled:fe(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!V.pseudos.empty(e)},header:function(e){return Z.test(e.nodeName)},input:function(e){return X.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(e=e.getAttribute("type"))||"text"===e.toLowerCase())},first:me(function(){return[0]}),last:me(function(e,t){return[t-1]}),eq:me(function(e,t,n){return[n<0?n+t:n]}),even:me(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:me(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:me(function(e,t,n){for(var r=n<0?n+t:t<n?t:n;0<=--r;)e.push(r);return e}),gt:me(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=V.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})V.pseudos[e]=function(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}(e);for(e in{submit:!0,reset:!0})V.pseudos[e]=function(n){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===n}}(e);function ye(){}function be(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function ge(i,e,t){var l=e.dir,s=e.next,c=s||l,u=t&&"parentNode"===c,p=v++;return e.first?function(e,t,n){for(;e=e[l];)if(1===e.nodeType||u)return i(e,t,n);return!1}:function(e,t,n){var r,o,a=[O,p];if(n){for(;e=e[l];)if((1===e.nodeType||u)&&i(e,t,n))return!0}else for(;e=e[l];)if(1===e.nodeType||u)if(r=(o=e[_]||(e[_]={}))[e.uniqueID]||(o[e.uniqueID]={}),s&&s===e.nodeName.toLowerCase())e=e[l]||e;else{if((o=r[c])&&o[0]===O&&o[1]===p)return a[2]=o[2];if((r[c]=a)[2]=i(e,t,n))return!0}return!1}}function ve(o){return 1<o.length?function(e,t,n){for(var r=o.length;r--;)if(!o[r](e,t,n))return!1;return!0}:o[0]}function Ve(e,t,n,r,o){for(var a,i=[],l=0,s=e.length,c=null!=t;l<s;l++)(a=e[l])&&(n&&!n(a,r,o)||(i.push(a),c&&t.push(l)));return i}function we(f,m,h,y,b,e){return y&&!y[_]&&(y=we(y)),b&&!b[_]&&(b=we(b,e)),ce(function(e,t,n,r){var o,a,i,l=[],s=[],c=t.length,u=e||function(e,t,n){for(var r=0,o=t.length;r<o;r++)le(e,t[r],n);return n}(m||"*",n.nodeType?[n]:n,[]),p=!f||!e&&m?u:Ve(u,l,f,n,r),d=h?b||(e?f:c||y)?[]:t:p;if(h&&h(p,d,n,r),y)for(o=Ve(d,s),y(o,[],n,r),a=o.length;a--;)(i=o[a])&&(d[s[a]]=!(p[s[a]]=i));if(e){if(b||f){if(b){for(o=[],a=d.length;a--;)(i=d[a])&&o.push(p[a]=i);b(null,d=[],o,r)}for(a=d.length;a--;)(i=d[a])&&-1<(o=b?N(e,i):l[a])&&(e[o]=!(t[o]=i))}}else d=Ve(d===t?d.splice(c,d.length):d),b?b(null,t,d,r):T.apply(t,d)})}function Ee(y,b){function e(e,t,n,r,o){var a,i,l,s=0,c="0",u=e&&[],p=[],d=w,f=e||v&&V.find.TAG("*",o),m=O+=null==d?1:Math.random()||.1,h=f.length;for(o&&(w=t==k||t||o);c!==h&&null!=(a=f[c]);c++){if(v&&a){for(i=0,t||a.ownerDocument==k||(E(a),n=!C);l=y[i++];)if(l(a,t||k,n)){r.push(a);break}o&&(O=m)}g&&((a=!l&&a)&&s--,e&&u.push(a))}if(s+=c,g&&c!==s){for(i=0;l=b[i++];)l(u,p,t,n);if(e){if(0<s)for(;c--;)u[c]||p[c]||(p[c]=R.call(r));p=Ve(p)}T.apply(r,p),o&&!e&&0<p.length&&1<s+b.length&&le.uniqueSort(r)}return o&&(O=m,w=d),u}var g=0<b.length,v=0<y.length;return g?ce(e):e}return ye.prototype=V.filters=V.pseudos,V.setFilters=new ye,f=le.tokenize=function(e,t){var n,r,o,a,i,l,s,c=A[e+" "];if(c)return t?0:c.slice(0);for(i=e,l=[],s=V.preFilter;i;){for(a in n&&!(r=q.exec(i))||(r&&(i=i.slice(r[0].length)||i),l.push(o=[])),n=!1,(r=G.exec(i))&&(n=r.shift(),o.push({value:n,type:r[0].replace(z," ")}),i=i.slice(n.length)),V.filter)!(r=Y[a].exec(i))||s[a]&&!(r=s[a](r))||(n=r.shift(),o.push({value:n,type:a,matches:r}),i=i.slice(n.length));if(!n)break}return t?i.length:i?le.error(e):A(e,l).slice(0)},m=le.compile=function(e,t){var n,r=[],o=[],a=D[e+" "];if(!a){for(n=(t=t||f(e)).length;n--;)((a=function e(t){for(var r,n,o,a=t.length,i=V.relative[t[0].type],l=i||V.relative[" "],s=i?1:0,c=ge(function(e){return e===r},l,!0),u=ge(function(e){return-1<N(r,e)},l,!0),p=[function(e,t,n){return n=!i&&(n||t!==w)||((r=t).nodeType?c:u)(e,t,n),r=null,n}];s<a;s++)if(n=V.relative[t[s].type])p=[ge(ve(p),n)];else{if((n=V.filter[t[s].type].apply(null,t[s].matches))[_]){for(o=++s;o<a&&!V.relative[t[o].type];o++);return we(1<s&&ve(p),1<s&&be(t.slice(0,s-1).concat({value:" "===t[s-2].type?"*":""})).replace(z,"$1"),n,s<o&&e(t.slice(s,o)),o<a&&e(t=t.slice(o)),o<a&&be(t))}p.push(n)}return ve(p)}(t[n]))[_]?r:o).push(a);(a=D(e,Ee(o,r))).selector=e}return a},h=le.select=function(e,t,n,r){var o,a,i,l,s,c="function"==typeof e&&e,u=!r&&f(e=c.selector||e);if(n=n||[],1===u.length){if(2<(a=u[0]=u[0].slice(0)).length&&"ID"===(i=a[0]).type&&9===t.nodeType&&C&&V.relative[a[1].type]){if(!(t=(V.find.ID(i.matches[0].replace(re,p),t)||[])[0]))return n;c&&(t=t.parentNode),e=e.slice(a.shift().value.length)}for(o=Y.needsContext.test(e)?0:a.length;o--&&(i=a[o],!V.relative[l=i.type]);)if((s=V.find[l])&&(r=s(i.matches[0].replace(re,p),ne.test(a[0].type)&&he(t.parentNode)||t))){if(a.splice(o,1),!(e=r.length&&be(a)))return T.apply(n,r),n;break}}return(c||m(e,u))(r,t,!C,n,!t||ne.test(e)&&he(t.parentNode)||t),n},d.sortStable=_.split("").sort(P).join("")===_,d.detectDuplicates=!!c,E(),d.sortDetached=ue(function(e){return 1&e.compareDocumentPosition(k.createElement("fieldset"))}),ue(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||pe("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),d.attributes&&ue(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||pe("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),ue(function(e){return null==e.getAttribute("disabled")})||pe(I,function(e,t,n){if(!n)return!0===e[t]?t.toLowerCase():(t=e.getAttributeNode(t))&&t.specified?t.value:null}),le}(E);C.find=d,C.expr=d.selectors,C.expr[":"]=C.expr.pseudos,C.uniqueSort=C.unique=d.uniqueSort,C.text=d.getText,C.isXMLDoc=d.isXML,C.contains=d.contains,C.escapeSelector=d.escape;function f(e,t,n){for(var r=[],o=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(o&&C(e).is(n))break;r.push(e)}return r}function w(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}var _=C.expr.match.needsContext;function O(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var S=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function A(e,n,r){return v(n)?C.grep(e,function(e,t){return!!n.call(e,t,e)!==r}):n.nodeType?C.grep(e,function(e){return e===n!==r}):"string"!=typeof n?C.grep(e,function(e){return-1<o.call(n,e)!==r}):C.filter(n,e,r)}C.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?C.find.matchesSelector(r,e)?[r]:[]:C.find.matches(e,C.grep(t,function(e){return 1===e.nodeType}))},C.fn.extend({find:function(e){var t,n,r=this.length,o=this;if("string"!=typeof e)return this.pushStack(C(e).filter(function(){for(t=0;t<r;t++)if(C.contains(o[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)C.find(e,o[t],n);return 1<r?C.uniqueSort(n):n},filter:function(e){return this.pushStack(A(this,e||[],!1))},not:function(e){return this.pushStack(A(this,e||[],!0))},is:function(e){return!!A(this,"string"==typeof e&&_.test(e)?C(e):e||[],!1).length}});var D=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(C.fn.init=function(e,t,n){if(!e)return this;if(n=n||x,"string"!=typeof e)return e.nodeType?(this[0]=e,this.length=1,this):v(e)?void 0!==n.ready?n.ready(e):e(C):C.makeArray(e,this);if(!(r="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:D.exec(e))||!r[1]&&t)return(!t||t.jquery?t||n:this.constructor(t)).find(e);if(r[1]){if(t=t instanceof C?t[0]:t,C.merge(this,C.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:k,!0)),S.test(r[1])&&C.isPlainObject(t))for(var r in t)v(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(e=k.getElementById(r[2]))&&(this[0]=e,this.length=1),this}).prototype=C.fn;var x=C(k),P=/^(?:parents|prev(?:Until|All))/,L={children:!0,contents:!0,next:!0,prev:!0};function R(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}C.fn.extend({has:function(e){var t=C(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(C.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,o=this.length,a=[],i="string"!=typeof e&&C(e);if(!_.test(e))for(;r<o;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(i?-1<i.index(n):1===n.nodeType&&C.find.matchesSelector(n,e))){a.push(n);break}return this.pushStack(1<a.length?C.uniqueSort(a):a)},index:function(e){return e?"string"==typeof e?o.call(C(e),this[0]):o.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(C.uniqueSort(C.merge(this.get(),C(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),C.each({parent:function(e){e=e.parentNode;return e&&11!==e.nodeType?e:null},parents:function(e){return f(e,"parentNode")},parentsUntil:function(e,t,n){return f(e,"parentNode",n)},next:function(e){return R(e,"nextSibling")},prev:function(e){return R(e,"previousSibling")},nextAll:function(e){return f(e,"nextSibling")},prevAll:function(e){return f(e,"previousSibling")},nextUntil:function(e,t,n){return f(e,"nextSibling",n)},prevUntil:function(e,t,n){return f(e,"previousSibling",n)},siblings:function(e){return w((e.parentNode||{}).firstChild,e)},children:function(e){return w(e.firstChild)},contents:function(e){return null!=e.contentDocument&&n(e.contentDocument)?e.contentDocument:(O(e,"template")&&(e=e.content||e),C.merge([],e.childNodes))}},function(r,o){C.fn[r]=function(e,t){var n=C.map(this,o,e);return(t="Until"!==r.slice(-5)?e:t)&&"string"==typeof t&&(n=C.filter(t,n)),1<this.length&&(L[r]||C.uniqueSort(n),P.test(r)&&n.reverse()),this.pushStack(n)}});var j=/[^\x20\t\r\n\f]+/g;function T(e){return e}function F(e){throw e}function N(e,t,n,r){var o;try{e&&v(o=e.promise)?o.call(e).done(t).fail(n):e&&v(o=e.then)?o.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}C.Callbacks=function(r){var n;r="string"==typeof r?(n={},C.each(r.match(j)||[],function(e,t){n[t]=!0}),n):C.extend({},r);function o(){for(i=i||r.once,t=a=!0;s.length;c=-1)for(e=s.shift();++c<l.length;)!1===l[c].apply(e[0],e[1])&&r.stopOnFalse&&(c=l.length,e=!1);r.memory||(e=!1),a=!1,i&&(l=e?[]:"")}var a,e,t,i,l=[],s=[],c=-1,u={add:function(){return l&&(e&&!a&&(c=l.length-1,s.push(e)),function n(e){C.each(e,function(e,t){v(t)?r.unique&&u.has(t)||l.push(t):t&&t.length&&"string"!==m(t)&&n(t)})}(arguments),e&&!a&&o()),this},remove:function(){return C.each(arguments,function(e,t){for(var n;-1<(n=C.inArray(t,l,n));)l.splice(n,1),n<=c&&c--}),this},has:function(e){return e?-1<C.inArray(e,l):0<l.length},empty:function(){return l=l&&[],this},disable:function(){return i=s=[],l=e="",this},disabled:function(){return!l},lock:function(){return i=s=[],e||a||(l=e=""),this},locked:function(){return!!i},fireWith:function(e,t){return i||(t=[e,(t=t||[]).slice?t.slice():t],s.push(t),a||o()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!t}};return u},C.extend({Deferred:function(e){var a=[["notify","progress",C.Callbacks("memory"),C.Callbacks("memory"),2],["resolve","done",C.Callbacks("once memory"),C.Callbacks("once memory"),0,"resolved"],["reject","fail",C.Callbacks("once memory"),C.Callbacks("once memory"),1,"rejected"]],o="pending",i={state:function(){return o},always:function(){return l.done(arguments).fail(arguments),this},catch:function(e){return i.then(null,e)},pipe:function(){var o=arguments;return C.Deferred(function(r){C.each(a,function(e,t){var n=v(o[t[4]])&&o[t[4]];l[t[1]](function(){var e=n&&n.apply(this,arguments);e&&v(e.promise)?e.promise().progress(r.notify).done(r.resolve).fail(r.reject):r[t[0]+"With"](this,n?[e]:arguments)})}),o=null}).promise()},then:function(t,n,r){var s=0;function c(o,a,i,l){return function(){function e(){var e,t;if(!(o<s)){if((e=i.apply(n,r))===a.promise())throw new TypeError("Thenable self-resolution");t=e&&("object"==typeof e||"function"==typeof e)&&e.then,v(t)?l?t.call(e,c(s,a,T,l),c(s,a,F,l)):(s++,t.call(e,c(s,a,T,l),c(s,a,F,l),c(s,a,T,a.notifyWith))):(i!==T&&(n=void 0,r=[e]),(l||a.resolveWith)(n,r))}}var n=this,r=arguments,t=l?e:function(){try{e()}catch(e){C.Deferred.exceptionHook&&C.Deferred.exceptionHook(e,t.stackTrace),s<=o+1&&(i!==F&&(n=void 0,r=[e]),a.rejectWith(n,r))}};o?t():(C.Deferred.getStackHook&&(t.stackTrace=C.Deferred.getStackHook()),E.setTimeout(t))}}return C.Deferred(function(e){a[0][3].add(c(0,e,v(r)?r:T,e.notifyWith)),a[1][3].add(c(0,e,v(t)?t:T)),a[2][3].add(c(0,e,v(n)?n:F))}).promise()},promise:function(e){return null!=e?C.extend(e,i):i}},l={};return C.each(a,function(e,t){var n=t[2],r=t[5];i[t[1]]=n.add,r&&n.add(function(){o=r},a[3-e][2].disable,a[3-e][3].disable,a[0][2].lock,a[0][3].lock),n.add(t[3].fire),l[t[0]]=function(){return l[t[0]+"With"](this===l?void 0:this,arguments),this},l[t[0]+"With"]=n.fireWith}),i.promise(l),e&&e.call(l,l),l},when:function(e){function t(t){return function(e){o[t]=this,a[t]=1<arguments.length?l.call(arguments):e,--n||i.resolveWith(o,a)}}var n=arguments.length,r=n,o=Array(r),a=l.call(arguments),i=C.Deferred();if(n<=1&&(N(e,i.done(t(r)).resolve,i.reject,!n),"pending"===i.state()||v(a[r]&&a[r].then)))return i.then();for(;r--;)N(a[r],t(r),i.reject);return i.promise()}});var I=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;C.Deferred.exceptionHook=function(e,t){E.console&&E.console.warn&&e&&I.test(e.name)&&E.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},C.readyException=function(e){E.setTimeout(function(){throw e})};var M=C.Deferred();function B(){k.removeEventListener("DOMContentLoaded",B),E.removeEventListener("load",B),C.ready()}C.fn.ready=function(e){return M.then(e).catch(function(e){C.readyException(e)}),this},C.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--C.readyWait:C.isReady)||(C.isReady=!0)!==e&&0<--C.readyWait||M.resolveWith(k,[C])}}),C.ready.then=M.then,"complete"===k.readyState||"loading"!==k.readyState&&!k.documentElement.doScroll?E.setTimeout(C.ready):(k.addEventListener("DOMContentLoaded",B),E.addEventListener("load",B));var W=function(e,t,n,r,o,a,i){var l=0,s=e.length,c=null==n;if("object"===m(n))for(l in o=!0,n)W(e,t,l,n[l],!0,a,i);else if(void 0!==r&&(o=!0,v(r)||(i=!0),t=c?i?(t.call(e,r),null):(c=t,function(e,t,n){return c.call(C(e),n)}):t))for(;l<s;l++)t(e[l],n,i?r:r.call(e[l],l,t(e[l],n)));return o?e:c?t.call(e):s?t(e[0],n):a},U=/^-ms-/,K=/-([a-z])/g;function z(e,t){return t.toUpperCase()}function q(e){return e.replace(U,"ms-").replace(K,z)}function G(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType}function H(){this.expando=C.expando+H.uid++}H.uid=1,H.prototype={cache:function(e){var t=e[this.expando];return t||(t={},G(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,o=this.cache(e);if("string"==typeof t)o[q(t)]=n;else for(r in t)o[q(r)]=t[r];return o},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][q(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(q):(t=q(t))in r?[t]:t.match(j)||[]).length;for(;n--;)delete r[t[n]]}void 0!==t&&!C.isEmptyObject(r)||(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){e=e[this.expando];return void 0!==e&&!C.isEmptyObject(e)}};var Q=new H,J=new H,Y=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,$=/[A-Z]/g;function X(e,t,n){var r,o;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace($,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n="true"===(o=n)||"false"!==o&&("null"===o?null:o===+o+""?+o:Y.test(o)?JSON.parse(o):o)}catch(e){}J.set(e,t,n)}else n=void 0;return n}C.extend({hasData:function(e){return J.hasData(e)||Q.hasData(e)},data:function(e,t,n){return J.access(e,t,n)},removeData:function(e,t){J.remove(e,t)},_data:function(e,t,n){return Q.access(e,t,n)},_removeData:function(e,t){Q.remove(e,t)}}),C.fn.extend({data:function(n,e){var t,r,o,a=this[0],i=a&&a.attributes;if(void 0!==n)return"object"==typeof n?this.each(function(){J.set(this,n)}):W(this,function(e){var t;return a&&void 0===e?void 0!==(t=J.get(a,n))||void 0!==(t=X(a,n))?t:void 0:void this.each(function(){J.set(this,n,e)})},null,e,1<arguments.length,null,!0);if(this.length&&(o=J.get(a),1===a.nodeType&&!Q.get(a,"hasDataAttrs"))){for(t=i.length;t--;)i[t]&&0===(r=i[t].name).indexOf("data-")&&(r=q(r.slice(5)),X(a,r,o[r]));Q.set(a,"hasDataAttrs",!0)}return o},removeData:function(e){return this.each(function(){J.remove(this,e)})}}),C.extend({queue:function(e,t,n){var r;if(e)return r=Q.get(e,t=(t||"fx")+"queue"),n&&(!r||Array.isArray(n)?r=Q.access(e,t,C.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){var n=C.queue(e,t=t||"fx"),r=n.length,o=n.shift(),a=C._queueHooks(e,t);"inprogress"===o&&(o=n.shift(),r--),o&&("fx"===t&&n.unshift("inprogress"),delete a.stop,o.call(e,function(){C.dequeue(e,t)},a)),!r&&a&&a.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Q.get(e,n)||Q.access(e,n,{empty:C.Callbacks("once memory").add(function(){Q.remove(e,[t+"queue",n])})})}}),C.fn.extend({queue:function(t,n){var e=2;return"string"!=typeof t&&(n=t,t="fx",e--),arguments.length<e?C.queue(this[0],t):void 0===n?this:this.each(function(){var e=C.queue(this,t,n);C._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&C.dequeue(this,t)})},dequeue:function(e){return this.each(function(){C.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){function n(){--o||a.resolveWith(i,[i])}var r,o=1,a=C.Deferred(),i=this,l=this.length;for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";l--;)(r=Q.get(i[l],e+"queueHooks"))&&r.empty&&(o++,r.empty.add(n));return n(),a.promise(t)}});var Z=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ee=new RegExp("^(?:([+-])=|)("+Z+")([a-z%]*)$","i"),te=["Top","Right","Bottom","Left"],ne=k.documentElement,re=function(e){return C.contains(e.ownerDocument,e)},oe={composed:!0};ne.getRootNode&&(re=function(e){return C.contains(e.ownerDocument,e)||e.getRootNode(oe)===e.ownerDocument});var ae=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&re(e)&&"none"===C.css(e,"display")};function ie(e,t,n,r){var o,a,i=20,l=r?function(){return r.cur()}:function(){return C.css(e,t,"")},s=l(),c=n&&n[3]||(C.cssNumber[t]?"":"px"),u=e.nodeType&&(C.cssNumber[t]||"px"!==c&&+s)&&ee.exec(C.css(e,t));if(u&&u[3]!==c){for(c=c||u[3],u=+(s/=2)||1;i--;)C.style(e,t,u+c),(1-a)*(1-(a=l()/s||.5))<=0&&(i=0),u/=a;C.style(e,t,(u*=2)+c),n=n||[]}return n&&(u=+u||+s||0,o=n[1]?u+(n[1]+1)*n[2]:+n[2],r&&(r.unit=c,r.start=u,r.end=o)),o}var le={};function se(e,t){for(var n,r,o,a,i,l=[],s=0,c=e.length;s<c;s++)(r=e[s]).style&&(n=r.style.display,t?("none"===n&&(l[s]=Q.get(r,"display")||null,l[s]||(r.style.display="")),""===r.style.display&&ae(r)&&(l[s]=(i=a=void 0,a=(o=r).ownerDocument,i=o.nodeName,(o=le[i])||(a=a.body.appendChild(a.createElement(i)),o=C.css(a,"display"),a.parentNode.removeChild(a),le[i]=o="none"===o?"block":o)))):"none"!==n&&(l[s]="none",Q.set(r,"display",n)));for(s=0;s<c;s++)null!=l[s]&&(e[s].style.display=l[s]);return e}C.fn.extend({show:function(){return se(this,!0)},hide:function(){return se(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){ae(this)?C(this).show():C(this).hide()})}});var ce=/^(?:checkbox|radio)$/i,ue=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,pe=/^$|^module$|\/(?:java|ecma)script/i;Ht=k.createDocumentFragment().appendChild(k.createElement("div")),(d=k.createElement("input")).setAttribute("type","radio"),d.setAttribute("checked","checked"),d.setAttribute("name","t"),Ht.appendChild(d),g.checkClone=Ht.cloneNode(!0).cloneNode(!0).lastChild.checked,Ht.innerHTML="<textarea>x</textarea>",g.noCloneChecked=!!Ht.cloneNode(!0).lastChild.defaultValue,Ht.innerHTML="<option></option>",g.option=!!Ht.lastChild;var de={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function fe(e,t){var n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&O(e,t)?C.merge([e],n):n}function me(e,t){for(var n=0,r=e.length;n<r;n++)Q.set(e[n],"globalEval",!t||Q.get(t[n],"globalEval"))}de.tbody=de.tfoot=de.colgroup=de.caption=de.thead,de.th=de.td,g.option||(de.optgroup=de.option=[1,"<select multiple='multiple'>","</select>"]);var he=/<|&#?\w+;/;function ye(e,t,n,r,o){for(var a,i,l,s,c,u=t.createDocumentFragment(),p=[],d=0,f=e.length;d<f;d++)if((a=e[d])||0===a)if("object"===m(a))C.merge(p,a.nodeType?[a]:a);else if(he.test(a)){for(i=i||u.appendChild(t.createElement("div")),l=(ue.exec(a)||["",""])[1].toLowerCase(),l=de[l]||de._default,i.innerHTML=l[1]+C.htmlPrefilter(a)+l[2],c=l[0];c--;)i=i.lastChild;C.merge(p,i.childNodes),(i=u.firstChild).textContent=""}else p.push(t.createTextNode(a));for(u.textContent="",d=0;a=p[d++];)if(r&&-1<C.inArray(a,r))o&&o.push(a);else if(s=re(a),i=fe(u.appendChild(a),"script"),s&&me(i),n)for(c=0;a=i[c++];)pe.test(a.type||"")&&n.push(a);return u}var be=/^([^.]*)(?:\.(.+)|)/;function ge(){return!0}function ve(){return!1}function Ve(e,t){return e===function(){try{return k.activeElement}catch(e){}}()==("focus"===t)}function we(e,t,n,r,o,a){var i,l;if("object"==typeof t){for(l in"string"!=typeof n&&(r=r||n,n=void 0),t)we(e,l,n,r,t[l],a);return e}if(null==r&&null==o?(o=n,r=n=void 0):null==o&&("string"==typeof n?(o=r,r=void 0):(o=r,r=n,n=void 0)),!1===o)o=ve;else if(!o)return e;return 1===a&&(i=o,(o=function(e){return C().off(e),i.apply(this,arguments)}).guid=i.guid||(i.guid=C.guid++)),e.each(function(){C.event.add(this,t,o,r,n)})}function Ee(e,o,a){a?(Q.set(e,o,!1),C.event.add(e,o,{namespace:!1,handler:function(e){var t,n,r=Q.get(this,o);if(1&e.isTrigger&&this[o]){if(r.length)(C.event.special[o]||{}).delegateType&&e.stopPropagation();else if(r=l.call(arguments),Q.set(this,o,r),t=a(this,o),this[o](),r!==(n=Q.get(this,o))||t?Q.set(this,o,!1):n={},r!==n)return e.stopImmediatePropagation(),e.preventDefault(),n&&n.value}else r.length&&(Q.set(this,o,{value:C.event.trigger(C.extend(r[0],C.Event.prototype),r.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===Q.get(e,o)&&C.event.add(e,o,ge)}C.event={global:{},add:function(t,e,n,r,o){var a,i,l,s,c,u,p,d,f,m=Q.get(t);if(G(t))for(n.handler&&(n=(a=n).handler,o=a.selector),o&&C.find.matchesSelector(ne,o),n.guid||(n.guid=C.guid++),(l=m.events)||(l=m.events=Object.create(null)),(i=m.handle)||(i=m.handle=function(e){return void 0!==C&&C.event.triggered!==e.type?C.event.dispatch.apply(t,arguments):void 0}),s=(e=(e||"").match(j)||[""]).length;s--;)p=f=(c=be.exec(e[s])||[])[1],d=(c[2]||"").split(".").sort(),p&&(u=C.event.special[p]||{},p=(o?u.delegateType:u.bindType)||p,u=C.event.special[p]||{},c=C.extend({type:p,origType:f,data:r,handler:n,guid:n.guid,selector:o,needsContext:o&&C.expr.match.needsContext.test(o),namespace:d.join(".")},a),(f=l[p])||((f=l[p]=[]).delegateCount=0,u.setup&&!1!==u.setup.call(t,r,d,i)||t.addEventListener&&t.addEventListener(p,i)),u.add&&(u.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),o?f.splice(f.delegateCount++,0,c):f.push(c),C.event.global[p]=!0)},remove:function(e,t,n,r,o){var a,i,l,s,c,u,p,d,f,m,h,y=Q.hasData(e)&&Q.get(e);if(y&&(s=y.events)){for(c=(t=(t||"").match(j)||[""]).length;c--;)if(f=h=(l=be.exec(t[c])||[])[1],m=(l[2]||"").split(".").sort(),f){for(p=C.event.special[f]||{},d=s[f=(r?p.delegateType:p.bindType)||f]||[],l=l[2]&&new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"),i=a=d.length;a--;)u=d[a],!o&&h!==u.origType||n&&n.guid!==u.guid||l&&!l.test(u.namespace)||r&&r!==u.selector&&("**"!==r||!u.selector)||(d.splice(a,1),u.selector&&d.delegateCount--,p.remove&&p.remove.call(e,u));i&&!d.length&&(p.teardown&&!1!==p.teardown.call(e,m,y.handle)||C.removeEvent(e,f,y.handle),delete s[f])}else for(f in s)C.event.remove(e,f+t[c],n,r,!0);C.isEmptyObject(s)&&Q.remove(e,"handle events")}},dispatch:function(e){var t,n,r,o,a,i=new Array(arguments.length),l=C.event.fix(e),s=(Q.get(this,"events")||Object.create(null))[l.type]||[],e=C.event.special[l.type]||{};for(i[0]=l,t=1;t<arguments.length;t++)i[t]=arguments[t];if(l.delegateTarget=this,!e.preDispatch||!1!==e.preDispatch.call(this,l)){for(a=C.event.handlers.call(this,l,s),t=0;(r=a[t++])&&!l.isPropagationStopped();)for(l.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!l.isImmediatePropagationStopped();)l.rnamespace&&!1!==o.namespace&&!l.rnamespace.test(o.namespace)||(l.handleObj=o,l.data=o.data,void 0!==(o=((C.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,i))&&!1===(l.result=o)&&(l.preventDefault(),l.stopPropagation()));return e.postDispatch&&e.postDispatch.call(this,l),l.result}},handlers:function(e,t){var n,r,o,a,i,l=[],s=t.delegateCount,c=e.target;if(s&&c.nodeType&&!("click"===e.type&&1<=e.button))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||!0!==c.disabled)){for(a=[],i={},n=0;n<s;n++)void 0===i[o=(r=t[n]).selector+" "]&&(i[o]=r.needsContext?-1<C(o,this).index(c):C.find(o,this,null,[c]).length),i[o]&&a.push(r);a.length&&l.push({elem:c,handlers:a})}return c=this,s<t.length&&l.push({elem:c,handlers:t.slice(s)}),l},addProp:function(t,e){Object.defineProperty(C.Event.prototype,t,{enumerable:!0,configurable:!0,get:v(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(e){return e[C.expando]?e:new C.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){e=this||e;return ce.test(e.type)&&e.click&&O(e,"input")&&Ee(e,"click",ge),!1},trigger:function(e){e=this||e;return ce.test(e.type)&&e.click&&O(e,"input")&&Ee(e,"click"),!0},_default:function(e){e=e.target;return ce.test(e.type)&&e.click&&O(e,"input")&&Q.get(e,"click")||O(e,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},C.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},C.Event=function(e,t){if(!(this instanceof C.Event))return new C.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?ge:ve,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&C.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[C.expando]=!0},C.Event.prototype={constructor:C.Event,isDefaultPrevented:ve,isPropagationStopped:ve,isImmediatePropagationStopped:ve,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=ge,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=ge,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=ge,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},C.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},C.event.addProp),C.each({focus:"focusin",blur:"focusout"},function(e,t){C.event.special[e]={setup:function(){return Ee(this,e,Ve),!1},trigger:function(){return Ee(this,e),!0},_default:function(){return!0},delegateType:t}}),C.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,o){C.event.special[e]={delegateType:o,bindType:o,handle:function(e){var t,n=e.relatedTarget,r=e.handleObj;return n&&(n===this||C.contains(this,n))||(e.type=r.origType,t=r.handler.apply(this,arguments),e.type=o),t}}}),C.fn.extend({on:function(e,t,n,r){return we(this,e,t,n,r)},one:function(e,t,n,r){return we(this,e,t,n,r,1)},off:function(e,t,n){var r,o;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,C(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"!=typeof e)return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=ve),this.each(function(){C.event.remove(this,e,n,t)});for(o in e)this.off(o,t,e[o]);return this}});var ke=/<script|<style|<link/i,Ce=/checked\s*(?:[^=]|=\s*.checked.)/i,_e=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Oe(e,t){return O(e,"table")&&O(11!==t.nodeType?t:t.firstChild,"tr")&&C(e).children("tbody")[0]||e}function Se(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Ae(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function De(e,t){var n,r,o,a;if(1===t.nodeType){if(Q.hasData(e)&&(a=Q.get(e).events))for(o in Q.remove(t,"handle events"),a)for(n=0,r=a[o].length;n<r;n++)C.event.add(t,o,a[o][n]);J.hasData(e)&&(e=J.access(e),e=C.extend({},e),J.set(t,e))}}function xe(n,r,o,a){r=y(r);var e,t,i,l,s,c,u=0,p=n.length,d=p-1,f=r[0],m=v(f);if(m||1<p&&"string"==typeof f&&!g.checkClone&&Ce.test(f))return n.each(function(e){var t=n.eq(e);m&&(r[0]=f.call(this,e,t.html())),xe(t,r,o,a)});if(p&&(t=(e=ye(r,n[0].ownerDocument,!1,n,a)).firstChild,1===e.childNodes.length&&(e=t),t||a)){for(l=(i=C.map(fe(e,"script"),Se)).length;u<p;u++)s=e,u!==d&&(s=C.clone(s,!0,!0),l&&C.merge(i,fe(s,"script"))),o.call(n[u],s,u);if(l)for(c=i[i.length-1].ownerDocument,C.map(i,Ae),u=0;u<l;u++)s=i[u],pe.test(s.type||"")&&!Q.access(s,"globalEval")&&C.contains(c,s)&&(s.src&&"module"!==(s.type||"").toLowerCase()?C._evalUrl&&!s.noModule&&C._evalUrl(s.src,{nonce:s.nonce||s.getAttribute("nonce")},c):V(s.textContent.replace(_e,""),s,c))}return n}function Pe(e,t,n){for(var r,o=t?C.filter(t,e):e,a=0;null!=(r=o[a]);a++)n||1!==r.nodeType||C.cleanData(fe(r)),r.parentNode&&(n&&re(r)&&me(fe(r,"script")),r.parentNode.removeChild(r));return e}C.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var r,o,a,i,l,s,c,u=e.cloneNode(!0),p=re(e);if(!(g.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||C.isXMLDoc(e)))for(i=fe(u),r=0,o=(a=fe(e)).length;r<o;r++)l=a[r],s=i[r],c=void 0,"input"===(c=s.nodeName.toLowerCase())&&ce.test(l.type)?s.checked=l.checked:"input"!==c&&"textarea"!==c||(s.defaultValue=l.defaultValue);if(t)if(n)for(a=a||fe(e),i=i||fe(u),r=0,o=a.length;r<o;r++)De(a[r],i[r]);else De(e,u);return 0<(i=fe(u,"script")).length&&me(i,!p&&fe(e,"script")),u},cleanData:function(e){for(var t,n,r,o=C.event.special,a=0;void 0!==(n=e[a]);a++)if(G(n)){if(t=n[Q.expando]){if(t.events)for(r in t.events)o[r]?C.event.remove(n,r):C.removeEvent(n,r,t.handle);n[Q.expando]=void 0}n[J.expando]&&(n[J.expando]=void 0)}}}),C.fn.extend({detach:function(e){return Pe(this,e,!0)},remove:function(e){return Pe(this,e)},text:function(e){return W(this,function(e){return void 0===e?C.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return xe(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Oe(this,e).appendChild(e)})},prepend:function(){return xe(this,arguments,function(e){var t;1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(t=Oe(this,e)).insertBefore(e,t.firstChild)})},before:function(){return xe(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return xe(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(C.cleanData(fe(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return C.clone(this,e,t)})},html:function(e){return W(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!ke.test(e)&&!de[(ue.exec(e)||["",""])[1].toLowerCase()]){e=C.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(C.cleanData(fe(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var n=[];return xe(this,arguments,function(e){var t=this.parentNode;C.inArray(this,n)<0&&(C.cleanData(fe(this)),t&&t.replaceChild(e,this))},n)}}),C.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,i){C.fn[e]=function(e){for(var t,n=[],r=C(e),o=r.length-1,a=0;a<=o;a++)t=a===o?this:this.clone(!0),C(r[a])[i](t),s.apply(n,t.get());return this.pushStack(n)}});function Le(e,t,n){var r,o={};for(r in t)o[r]=e.style[r],e.style[r]=t[r];for(r in n=n.call(e),t)e.style[r]=o[r];return n}var Re,je,Te,Fe,Ne,Ie,Me,Be,We=new RegExp("^("+Z+")(?!px)[a-z%]+$","i"),Ue=function(e){var t=e.ownerDocument.defaultView;return(t=!t||!t.opener?E:t).getComputedStyle(e)},Ke=new RegExp(te.join("|"),"i");function ze(){var e;Be&&(Me.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",Be.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ne.appendChild(Me).appendChild(Be),e=E.getComputedStyle(Be),Re="1%"!==e.top,Ie=12===qe(e.marginLeft),Be.style.right="60%",Fe=36===qe(e.right),je=36===qe(e.width),Be.style.position="absolute",Te=12===qe(Be.offsetWidth/3),ne.removeChild(Me),Be=null)}function qe(e){return Math.round(parseFloat(e))}function Ge(e,t,n){var r,o,a=e.style;return(n=n||Ue(e))&&(""!==(o=n.getPropertyValue(t)||n[t])||re(e)||(o=C.style(e,t)),!g.pixelBoxStyles()&&We.test(o)&&Ke.test(t)&&(r=a.width,e=a.minWidth,t=a.maxWidth,a.minWidth=a.maxWidth=a.width=o,o=n.width,a.width=r,a.minWidth=e,a.maxWidth=t)),void 0!==o?o+"":o}function He(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}Me=k.createElement("div"),(Be=k.createElement("div")).style&&(Be.style.backgroundClip="content-box",Be.cloneNode(!0).style.backgroundClip="",g.clearCloneStyle="content-box"===Be.style.backgroundClip,C.extend(g,{boxSizingReliable:function(){return ze(),je},pixelBoxStyles:function(){return ze(),Fe},pixelPosition:function(){return ze(),Re},reliableMarginLeft:function(){return ze(),Ie},scrollboxSize:function(){return ze(),Te},reliableTrDimensions:function(){var e,t,n;return null==Ne&&(e=k.createElement("table"),t=k.createElement("tr"),n=k.createElement("div"),e.style.cssText="position:absolute;left:-11111px;border-collapse:separate",t.style.cssText="border:1px solid",t.style.height="1px",n.style.height="9px",n.style.display="block",ne.appendChild(e).appendChild(t).appendChild(n),n=E.getComputedStyle(t),Ne=parseInt(n.height,10)+parseInt(n.borderTopWidth,10)+parseInt(n.borderBottomWidth,10)===t.offsetHeight,ne.removeChild(e)),Ne}}));var Qe=["Webkit","Moz","ms"],Je=k.createElement("div").style,Ye={};function $e(e){var t=C.cssProps[e]||Ye[e];return t||(e in Je?e:Ye[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),n=Qe.length;n--;)if((e=Qe[n]+t)in Je)return e}(e)||e)}var Xe=/^(none|table(?!-c[ea]).+)/,Ze=/^--/,et={position:"absolute",visibility:"hidden",display:"block"},tt={letterSpacing:"0",fontWeight:"400"};function nt(e,t,n){var r=ee.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function rt(e,t,n,r,o,a){var i="width"===t?1:0,l=0,s=0;if(n===(r?"border":"content"))return 0;for(;i<4;i+=2)"margin"===n&&(s+=C.css(e,n+te[i],!0,o)),r?("content"===n&&(s-=C.css(e,"padding"+te[i],!0,o)),"margin"!==n&&(s-=C.css(e,"border"+te[i]+"Width",!0,o))):(s+=C.css(e,"padding"+te[i],!0,o),"padding"!==n?s+=C.css(e,"border"+te[i]+"Width",!0,o):l+=C.css(e,"border"+te[i]+"Width",!0,o));return!r&&0<=a&&(s+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-a-s-l-.5))||0),s}function ot(e,t,n){var r=Ue(e),o=(!g.boxSizingReliable()||n)&&"border-box"===C.css(e,"boxSizing",!1,r),a=o,i=Ge(e,t,r),l="offset"+t[0].toUpperCase()+t.slice(1);if(We.test(i)){if(!n)return i;i="auto"}return(!g.boxSizingReliable()&&o||!g.reliableTrDimensions()&&O(e,"tr")||"auto"===i||!parseFloat(i)&&"inline"===C.css(e,"display",!1,r))&&e.getClientRects().length&&(o="border-box"===C.css(e,"boxSizing",!1,r),(a=l in e)&&(i=e[l])),(i=parseFloat(i)||0)+rt(e,t,n||(o?"border":"content"),a,r,i)+"px"}function at(e,t,n,r,o){return new at.prototype.init(e,t,n,r,o)}C.extend({cssHooks:{opacity:{get:function(e,t){if(t){e=Ge(e,"opacity");return""===e?"1":e}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,a,i,l=q(t),s=Ze.test(t),c=e.style;if(s||(t=$e(l)),i=C.cssHooks[t]||C.cssHooks[l],void 0===n)return i&&"get"in i&&void 0!==(o=i.get(e,!1,r))?o:c[t];"string"===(a=typeof n)&&(o=ee.exec(n))&&o[1]&&(n=ie(e,t,o),a="number"),null!=n&&n==n&&("number"!==a||s||(n+=o&&o[3]||(C.cssNumber[l]?"":"px")),g.clearCloneStyle||""!==n||0!==t.indexOf("background")||(c[t]="inherit"),i&&"set"in i&&void 0===(n=i.set(e,n,r))||(s?c.setProperty(t,n):c[t]=n))}},css:function(e,t,n,r){var o,a=q(t);return Ze.test(t)||(t=$e(a)),"normal"===(o=void 0===(o=(a=C.cssHooks[t]||C.cssHooks[a])&&"get"in a?a.get(e,!0,n):o)?Ge(e,t,r):o)&&t in tt&&(o=tt[t]),""===n||n?(t=parseFloat(o),!0===n||isFinite(t)?t||0:o):o}}),C.each(["height","width"],function(e,l){C.cssHooks[l]={get:function(e,t,n){if(t)return!Xe.test(C.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?ot(e,l,n):Le(e,et,function(){return ot(e,l,n)})},set:function(e,t,n){var r,o=Ue(e),a=!g.scrollboxSize()&&"absolute"===o.position,i=(a||n)&&"border-box"===C.css(e,"boxSizing",!1,o),n=n?rt(e,l,n,i,o):0;return i&&a&&(n-=Math.ceil(e["offset"+l[0].toUpperCase()+l.slice(1)]-parseFloat(o[l])-rt(e,l,"border",!1,o)-.5)),n&&(r=ee.exec(t))&&"px"!==(r[3]||"px")&&(e.style[l]=t,t=C.css(e,l)),nt(0,t,n)}}}),C.cssHooks.marginLeft=He(g.reliableMarginLeft,function(e,t){if(t)return(parseFloat(Ge(e,"marginLeft"))||e.getBoundingClientRect().left-Le(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),C.each({margin:"",padding:"",border:"Width"},function(o,a){C.cssHooks[o+a]={expand:function(e){for(var t=0,n={},r="string"==typeof e?e.split(" "):[e];t<4;t++)n[o+te[t]+a]=r[t]||r[t-2]||r[0];return n}},"margin"!==o&&(C.cssHooks[o+a].set=nt)}),C.fn.extend({css:function(e,t){return W(this,function(e,t,n){var r,o,a={},i=0;if(Array.isArray(t)){for(r=Ue(e),o=t.length;i<o;i++)a[t[i]]=C.css(e,t[i],!1,r);return a}return void 0!==n?C.style(e,t,n):C.css(e,t)},e,t,1<arguments.length)}}),(C.Tween=at).prototype={constructor:at,init:function(e,t,n,r,o,a){this.elem=e,this.prop=n,this.easing=o||C.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=a||(C.cssNumber[n]?"":"px")},cur:function(){var e=at.propHooks[this.prop];return(e&&e.get?e:at.propHooks._default).get(this)},run:function(e){var t,n=at.propHooks[this.prop];return this.options.duration?this.pos=t=C.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),(n&&n.set?n:at.propHooks._default).set(this),this}},at.prototype.init.prototype=at.prototype,at.propHooks={_default:{get:function(e){return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(e=C.css(e.elem,e.prop,""))&&"auto"!==e?e:0},set:function(e){C.fx.step[e.prop]?C.fx.step[e.prop](e):1!==e.elem.nodeType||!C.cssHooks[e.prop]&&null==e.elem.style[$e(e.prop)]?e.elem[e.prop]=e.now:C.style(e.elem,e.prop,e.now+e.unit)}}},at.propHooks.scrollTop=at.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},C.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},C.fx=at.prototype.init,C.fx.step={};var it,lt,st=/^(?:toggle|show|hide)$/,ct=/queueHooks$/;function ut(){lt&&(!1===k.hidden&&E.requestAnimationFrame?E.requestAnimationFrame(ut):E.setTimeout(ut,C.fx.interval),C.fx.tick())}function pt(){return E.setTimeout(function(){it=void 0}),it=Date.now()}function dt(e,t){var n,r=0,o={height:e};for(t=t?1:0;r<4;r+=2-t)o["margin"+(n=te[r])]=o["padding"+n]=e;return t&&(o.opacity=o.width=e),o}function ft(e,t,n){for(var r,o=(mt.tweeners[t]||[]).concat(mt.tweeners["*"]),a=0,i=o.length;a<i;a++)if(r=o[a].call(n,t,e))return r}function mt(o,e,t){var n,a,r=0,i=mt.prefilters.length,l=C.Deferred().always(function(){delete s.elem}),s=function(){if(a)return!1;for(var e=it||pt(),e=Math.max(0,c.startTime+c.duration-e),t=1-(e/c.duration||0),n=0,r=c.tweens.length;n<r;n++)c.tweens[n].run(t);return l.notifyWith(o,[c,t,e]),t<1&&r?e:(r||l.notifyWith(o,[c,1,0]),l.resolveWith(o,[c]),!1)},c=l.promise({elem:o,props:C.extend({},e),opts:C.extend(!0,{specialEasing:{},easing:C.easing._default},t),originalProperties:e,originalOptions:t,startTime:it||pt(),duration:t.duration,tweens:[],createTween:function(e,t){e=C.Tween(o,c.opts,e,t,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(e),e},stop:function(e){var t=0,n=e?c.tweens.length:0;if(a)return this;for(a=!0;t<n;t++)c.tweens[t].run(1);return e?(l.notifyWith(o,[c,1,0]),l.resolveWith(o,[c,e])):l.rejectWith(o,[c,e]),this}}),u=c.props;for(!function(e,t){var n,r,o,a,i;for(n in e)if(o=t[r=q(n)],a=e[n],Array.isArray(a)&&(o=a[1],a=e[n]=a[0]),n!==r&&(e[r]=a,delete e[n]),(i=C.cssHooks[r])&&"expand"in i)for(n in a=i.expand(a),delete e[r],a)n in e||(e[n]=a[n],t[n]=o);else t[r]=o}(u,c.opts.specialEasing);r<i;r++)if(n=mt.prefilters[r].call(c,o,u,c.opts))return v(n.stop)&&(C._queueHooks(c.elem,c.opts.queue).stop=n.stop.bind(n)),n;return C.map(u,ft,c),v(c.opts.start)&&c.opts.start.call(o,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),C.fx.timer(C.extend(s,{elem:o,anim:c,queue:c.opts.queue})),c}C.Animation=C.extend(mt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return ie(n.elem,e,ee.exec(t),n),n}]},tweener:function(e,t){for(var n,r=0,o=(e=v(e)?(t=e,["*"]):e.match(j)).length;r<o;r++)n=e[r],mt.tweeners[n]=mt.tweeners[n]||[],mt.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,o,a,i,l,s,c,u="width"in t||"height"in t,p=this,d={},f=e.style,m=e.nodeType&&ae(e),h=Q.get(e,"fxshow");for(r in n.queue||(null==(i=C._queueHooks(e,"fx")).unqueued&&(i.unqueued=0,l=i.empty.fire,i.empty.fire=function(){i.unqueued||l()}),i.unqueued++,p.always(function(){p.always(function(){i.unqueued--,C.queue(e,"fx").length||i.empty.fire()})})),t)if(o=t[r],st.test(o)){if(delete t[r],a=a||"toggle"===o,o===(m?"hide":"show")){if("show"!==o||!h||void 0===h[r])continue;m=!0}d[r]=h&&h[r]||C.style(e,r)}if((s=!C.isEmptyObject(t))||!C.isEmptyObject(d))for(r in u&&1===e.nodeType&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],null==(c=h&&h.display)&&(c=Q.get(e,"display")),"none"===(u=C.css(e,"display"))&&(c?u=c:(se([e],!0),c=e.style.display||c,u=C.css(e,"display"),se([e]))),("inline"===u||"inline-block"===u&&null!=c)&&"none"===C.css(e,"float")&&(s||(p.done(function(){f.display=c}),null==c&&(u=f.display,c="none"===u?"":u)),f.display="inline-block")),n.overflow&&(f.overflow="hidden",p.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]})),s=!1,d)s||(h?"hidden"in h&&(m=h.hidden):h=Q.access(e,"fxshow",{display:c}),a&&(h.hidden=!m),m&&se([e],!0),p.done(function(){for(r in m||se([e]),Q.remove(e,"fxshow"),d)C.style(e,r,d[r])})),s=ft(m?h[r]:0,r,p),r in h||(h[r]=s.start,m&&(s.end=s.start,s.start=0))}],prefilter:function(e,t){t?mt.prefilters.unshift(e):mt.prefilters.push(e)}}),C.speed=function(e,t,n){var r=e&&"object"==typeof e?C.extend({},e):{complete:n||!n&&t||v(e)&&e,duration:e,easing:n&&t||t&&!v(t)&&t};return C.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in C.fx.speeds?r.duration=C.fx.speeds[r.duration]:r.duration=C.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){v(r.old)&&r.old.call(this),r.queue&&C.dequeue(this,r.queue)},r},C.fn.extend({fadeTo:function(e,t,n,r){return this.filter(ae).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(t,e,n,r){var o=C.isEmptyObject(t),a=C.speed(e,n,r),r=function(){var e=mt(this,C.extend({},t),a);(o||Q.get(this,"finish"))&&e.stop(!0)};return r.finish=r,o||!1===a.queue?this.each(r):this.queue(a.queue,r)},stop:function(o,e,a){function i(e){var t=e.stop;delete e.stop,t(a)}return"string"!=typeof o&&(a=e,e=o,o=void 0),e&&this.queue(o||"fx",[]),this.each(function(){var e=!0,t=null!=o&&o+"queueHooks",n=C.timers,r=Q.get(this);if(t)r[t]&&r[t].stop&&i(r[t]);else for(t in r)r[t]&&r[t].stop&&ct.test(t)&&i(r[t]);for(t=n.length;t--;)n[t].elem!==this||null!=o&&n[t].queue!==o||(n[t].anim.stop(a),e=!1,n.splice(t,1));!e&&a||C.dequeue(this,o)})},finish:function(i){return!1!==i&&(i=i||"fx"),this.each(function(){var e,t=Q.get(this),n=t[i+"queue"],r=t[i+"queueHooks"],o=C.timers,a=n?n.length:0;for(t.finish=!0,C.queue(this,i,[]),r&&r.stop&&r.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===i&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<a;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete t.finish})}}),C.each(["toggle","show","hide"],function(e,r){var o=C.fn[r];C.fn[r]=function(e,t,n){return null==e||"boolean"==typeof e?o.apply(this,arguments):this.animate(dt(r,!0),e,t,n)}}),C.each({slideDown:dt("show"),slideUp:dt("hide"),slideToggle:dt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,r){C.fn[e]=function(e,t,n){return this.animate(r,e,t,n)}}),C.timers=[],C.fx.tick=function(){var e,t=0,n=C.timers;for(it=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||C.fx.stop(),it=void 0},C.fx.timer=function(e){C.timers.push(e),C.fx.start()},C.fx.interval=13,C.fx.start=function(){lt||(lt=!0,ut())},C.fx.stop=function(){lt=null},C.fx.speeds={slow:600,fast:200,_default:400},C.fn.delay=function(r,e){return r=C.fx&&C.fx.speeds[r]||r,this.queue(e=e||"fx",function(e,t){var n=E.setTimeout(e,r);t.stop=function(){E.clearTimeout(n)}})},Ht=k.createElement("input"),Z=k.createElement("select").appendChild(k.createElement("option")),Ht.type="checkbox",g.checkOn=""!==Ht.value,g.optSelected=Z.selected,(Ht=k.createElement("input")).value="t",Ht.type="radio",g.radioValue="t"===Ht.value;var ht,yt=C.expr.attrHandle;C.fn.extend({attr:function(e,t){return W(this,C.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){C.removeAttr(this,e)})}}),C.extend({attr:function(e,t,n){var r,o,a=e.nodeType;if(3!==a&&8!==a&&2!==a)return void 0===e.getAttribute?C.prop(e,t,n):(1===a&&C.isXMLDoc(e)||(o=C.attrHooks[t.toLowerCase()]||(C.expr.match.bool.test(t)?ht:void 0)),void 0!==n?null===n?void C.removeAttr(e,t):o&&"set"in o&&void 0!==(r=o.set(e,n,t))?r:(e.setAttribute(t,n+""),n):!(o&&"get"in o&&null!==(r=o.get(e,t)))&&null==(r=C.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!g.radioValue&&"radio"===t&&O(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,o=t&&t.match(j);if(o&&1===e.nodeType)for(;n=o[r++];)e.removeAttribute(n)}}),ht={set:function(e,t,n){return!1===t?C.removeAttr(e,n):e.setAttribute(n,n),n}},C.each(C.expr.match.bool.source.match(/\w+/g),function(e,t){var i=yt[t]||C.find.attr;yt[t]=function(e,t,n){var r,o,a=t.toLowerCase();return n||(o=yt[a],yt[a]=r,r=null!=i(e,t,n)?a:null,yt[a]=o),r}});var bt=/^(?:input|select|textarea|button)$/i,gt=/^(?:a|area)$/i;function vt(e){return(e.match(j)||[]).join(" ")}function Vt(e){return e.getAttribute&&e.getAttribute("class")||""}function wt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(j)||[]}C.fn.extend({prop:function(e,t){return W(this,C.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[C.propFix[e]||e]})}}),C.extend({prop:function(e,t,n){var r,o,a=e.nodeType;if(3!==a&&8!==a&&2!==a)return 1===a&&C.isXMLDoc(e)||(t=C.propFix[t]||t,o=C.propHooks[t]),void 0!==n?o&&"set"in o&&void 0!==(r=o.set(e,n,t))?r:e[t]=n:o&&"get"in o&&null!==(r=o.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=C.find.attr(e,"tabindex");return t?parseInt(t,10):bt.test(e.nodeName)||gt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),g.optSelected||(C.propHooks.selected={get:function(e){e=e.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(e){e=e.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),C.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){C.propFix[this.toLowerCase()]=this}),C.fn.extend({addClass:function(t){var e,n,r,o,a,i,l=0;if(v(t))return this.each(function(e){C(this).addClass(t.call(this,e,Vt(this)))});if((e=wt(t)).length)for(;n=this[l++];)if(i=Vt(n),r=1===n.nodeType&&" "+vt(i)+" "){for(a=0;o=e[a++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");i!==(i=vt(r))&&n.setAttribute("class",i)}return this},removeClass:function(t){var e,n,r,o,a,i,l=0;if(v(t))return this.each(function(e){C(this).removeClass(t.call(this,e,Vt(this)))});if(!arguments.length)return this.attr("class","");if((e=wt(t)).length)for(;n=this[l++];)if(i=Vt(n),r=1===n.nodeType&&" "+vt(i)+" "){for(a=0;o=e[a++];)for(;-1<r.indexOf(" "+o+" ");)r=r.replace(" "+o+" "," ");i!==(i=vt(r))&&n.setAttribute("class",i)}return this},toggleClass:function(o,t){var a=typeof o,i="string"==a||Array.isArray(o);return"boolean"==typeof t&&i?t?this.addClass(o):this.removeClass(o):v(o)?this.each(function(e){C(this).toggleClass(o.call(this,e,Vt(this),t),t)}):this.each(function(){var e,t,n,r;if(i)for(t=0,n=C(this),r=wt(o);e=r[t++];)n.hasClass(e)?n.removeClass(e):n.addClass(e);else void 0!==o&&"boolean"!=a||((e=Vt(this))&&Q.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",!e&&!1!==o&&Q.get(this,"__className__")||""))})},hasClass:function(e){for(var t,n=0,r=" "+e+" ";t=this[n++];)if(1===t.nodeType&&-1<(" "+vt(Vt(t))+" ").indexOf(r))return!0;return!1}});var Et=/\r/g;C.fn.extend({val:function(t){var n,e,r,o=this[0];return arguments.length?(r=v(t),this.each(function(e){1===this.nodeType&&(null==(e=r?t.call(this,e,C(this).val()):t)?e="":"number"==typeof e?e+="":Array.isArray(e)&&(e=C.map(e,function(e){return null==e?"":e+""})),(n=C.valHooks[this.type]||C.valHooks[this.nodeName.toLowerCase()])&&"set"in n&&void 0!==n.set(this,e,"value")||(this.value=e))})):o?(n=C.valHooks[o.type]||C.valHooks[o.nodeName.toLowerCase()])&&"get"in n&&void 0!==(e=n.get(o,"value"))?e:"string"==typeof(e=o.value)?e.replace(Et,""):null==e?"":e:void 0}}),C.extend({valHooks:{option:{get:function(e){var t=C.find.attr(e,"value");return null!=t?t:vt(C.text(e))}},select:{get:function(e){for(var t,n=e.options,r=e.selectedIndex,o="select-one"===e.type,a=o?null:[],i=o?r+1:n.length,l=r<0?i:o?r:0;l<i;l++)if(((t=n[l]).selected||l===r)&&!t.disabled&&(!t.parentNode.disabled||!O(t.parentNode,"optgroup"))){if(t=C(t).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var n,r,o=e.options,a=C.makeArray(t),i=o.length;i--;)((r=o[i]).selected=-1<C.inArray(C.valHooks.option.get(r),a))&&(n=!0);return n||(e.selectedIndex=-1),a}}}}),C.each(["radio","checkbox"],function(){C.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=-1<C.inArray(C(e).val(),t)}},g.checkOn||(C.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),g.focusin="onfocusin"in E;function kt(e){e.stopPropagation()}var Ct=/^(?:focusinfocus|focusoutblur)$/;C.extend(C.event,{trigger:function(e,t,n,r){var o,a,i,l,s,c,u,p=[n||k],d=b.call(e,"type")?e.type:e,f=b.call(e,"namespace")?e.namespace.split("."):[],m=u=a=n=n||k;if(3!==n.nodeType&&8!==n.nodeType&&!Ct.test(d+C.event.triggered)&&(-1<d.indexOf(".")&&(d=(f=d.split(".")).shift(),f.sort()),l=d.indexOf(":")<0&&"on"+d,(e=e[C.expando]?e:new C.Event(d,"object"==typeof e&&e)).isTrigger=r?2:3,e.namespace=f.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:C.makeArray(t,[e]),c=C.event.special[d]||{},r||!c.trigger||!1!==c.trigger.apply(n,t))){if(!r&&!c.noBubble&&!h(n)){for(i=c.delegateType||d,Ct.test(i+d)||(m=m.parentNode);m;m=m.parentNode)p.push(m),a=m;a===(n.ownerDocument||k)&&p.push(a.defaultView||a.parentWindow||E)}for(o=0;(m=p[o++])&&!e.isPropagationStopped();)u=m,e.type=1<o?i:c.bindType||d,(s=(Q.get(m,"events")||Object.create(null))[e.type]&&Q.get(m,"handle"))&&s.apply(m,t),(s=l&&m[l])&&s.apply&&G(m)&&(e.result=s.apply(m,t),!1===e.result&&e.preventDefault());return e.type=d,r||e.isDefaultPrevented()||c._default&&!1!==c._default.apply(p.pop(),t)||!G(n)||l&&v(n[d])&&!h(n)&&((a=n[l])&&(n[l]=null),C.event.triggered=d,e.isPropagationStopped()&&u.addEventListener(d,kt),n[d](),e.isPropagationStopped()&&u.removeEventListener(d,kt),C.event.triggered=void 0,a&&(n[l]=a)),e.result}},simulate:function(e,t,n){e=C.extend(new C.Event,n,{type:e,isSimulated:!0});C.event.trigger(e,null,t)}}),C.fn.extend({trigger:function(e,t){return this.each(function(){C.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return C.event.trigger(e,t,n,!0)}}),g.focusin||C.each({focus:"focusin",blur:"focusout"},function(n,r){function o(e){C.event.simulate(r,e.target,C.event.fix(e))}C.event.special[r]={setup:function(){var e=this.ownerDocument||this.document||this,t=Q.access(e,r);t||e.addEventListener(n,o,!0),Q.access(e,r,(t||0)+1)},teardown:function(){var e=this.ownerDocument||this.document||this,t=Q.access(e,r)-1;t?Q.access(e,r,t):(e.removeEventListener(n,o,!0),Q.remove(e,r))}}});var _t=E.location,Ot={guid:Date.now()},St=/\?/;C.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{t=(new E.DOMParser).parseFromString(e,"text/xml")}catch(e){}return n=t&&t.getElementsByTagName("parsererror")[0],t&&!n||C.error("Invalid XML: "+(n?C.map(n.childNodes,function(e){return e.textContent}).join("\n"):e)),t};var At=/\[\]$/,Dt=/\r?\n/g,xt=/^(?:submit|button|image|reset|file)$/i,Pt=/^(?:input|select|textarea|keygen)/i;C.param=function(e,t){function n(e,t){t=v(t)?t():t,o[o.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==t?"":t)}var r,o=[];if(null==e)return"";if(Array.isArray(e)||e.jquery&&!C.isPlainObject(e))C.each(e,function(){n(this.name,this.value)});else for(r in e)!function n(r,e,o,a){if(Array.isArray(e))C.each(e,function(e,t){o||At.test(r)?a(r,t):n(r+"["+("object"==typeof t&&null!=t?e:"")+"]",t,o,a)});else if(o||"object"!==m(e))a(r,e);else for(var t in e)n(r+"["+t+"]",e[t],o,a)}(r,e[r],t,n);return o.join("&")},C.fn.extend({serialize:function(){return C.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=C.prop(this,"elements");return e?C.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!C(this).is(":disabled")&&Pt.test(this.nodeName)&&!xt.test(e)&&(this.checked||!ce.test(e))}).map(function(e,t){var n=C(this).val();return null==n?null:Array.isArray(n)?C.map(n,function(e){return{name:t.name,value:e.replace(Dt,"\r\n")}}):{name:t.name,value:n.replace(Dt,"\r\n")}}).get()}});var Lt=/%20/g,Rt=/#.*$/,jt=/([?&])_=[^&]*/,Tt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ft=/^(?:GET|HEAD)$/,Nt=/^\/\//,It={},Mt={},Bt="*/".concat("*"),Wt=k.createElement("a");function Ut(a){return function(e,t){"string"!=typeof e&&(t=e,e="*");var n,r=0,o=e.toLowerCase().match(j)||[];if(v(t))for(;n=o[r++];)"+"===n[0]?(n=n.slice(1)||"*",(a[n]=a[n]||[]).unshift(t)):(a[n]=a[n]||[]).push(t)}}function Kt(t,r,o,a){var i={},l=t===Mt;function s(e){var n;return i[e]=!0,C.each(t[e]||[],function(e,t){t=t(r,o,a);return"string"!=typeof t||l||i[t]?l?!(n=t):void 0:(r.dataTypes.unshift(t),s(t),!1)}),n}return s(r.dataTypes[0])||!i["*"]&&s("*")}function zt(e,t){var n,r,o=C.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((o[n]?e:r=r||{})[n]=t[n]);return r&&C.extend(!0,e,r),e}Wt.href=_t.href,C.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:_t.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(_t.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Bt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":C.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?zt(zt(e,C.ajaxSettings),t):zt(C.ajaxSettings,e)},ajaxPrefilter:Ut(It),ajaxTransport:Ut(Mt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0);var s,c,u,n,p,d,f,r,o,m=C.ajaxSetup({},t=t||{}),h=m.context||m,y=m.context&&(h.nodeType||h.jquery)?C(h):C.event,b=C.Deferred(),g=C.Callbacks("once memory"),v=m.statusCode||{},a={},i={},l="canceled",V={readyState:0,getResponseHeader:function(e){var t;if(d){if(!n)for(n={};t=Tt.exec(u);)n[t[1].toLowerCase()+" "]=(n[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=n[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return d?u:null},setRequestHeader:function(e,t){return null==d&&(e=i[e.toLowerCase()]=i[e.toLowerCase()]||e,a[e]=t),this},overrideMimeType:function(e){return null==d&&(m.mimeType=e),this},statusCode:function(e){if(e)if(d)V.always(e[V.status]);else for(var t in e)v[t]=[v[t],e[t]];return this},abort:function(e){e=e||l;return s&&s.abort(e),w(0,e),this}};if(b.promise(V),m.url=((e||m.url||_t.href)+"").replace(Nt,_t.protocol+"//"),m.type=t.method||t.type||m.method||m.type,m.dataTypes=(m.dataType||"*").toLowerCase().match(j)||[""],null==m.crossDomain){o=k.createElement("a");try{o.href=m.url,o.href=o.href,m.crossDomain=Wt.protocol+"//"+Wt.host!=o.protocol+"//"+o.host}catch(e){m.crossDomain=!0}}if(m.data&&m.processData&&"string"!=typeof m.data&&(m.data=C.param(m.data,m.traditional)),Kt(It,m,t,V),d)return V;for(r in(f=C.event&&m.global)&&0==C.active++&&C.event.trigger("ajaxStart"),m.type=m.type.toUpperCase(),m.hasContent=!Ft.test(m.type),c=m.url.replace(Rt,""),m.hasContent?m.data&&m.processData&&0===(m.contentType||"").indexOf("application/x-www-form-urlencoded")&&(m.data=m.data.replace(Lt,"+")):(o=m.url.slice(c.length),m.data&&(m.processData||"string"==typeof m.data)&&(c+=(St.test(c)?"&":"?")+m.data,delete m.data),!1===m.cache&&(c=c.replace(jt,"$1"),o=(St.test(c)?"&":"?")+"_="+Ot.guid+++o),m.url=c+o),m.ifModified&&(C.lastModified[c]&&V.setRequestHeader("If-Modified-Since",C.lastModified[c]),C.etag[c]&&V.setRequestHeader("If-None-Match",C.etag[c])),(m.data&&m.hasContent&&!1!==m.contentType||t.contentType)&&V.setRequestHeader("Content-Type",m.contentType),V.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+Bt+"; q=0.01":""):m.accepts["*"]),m.headers)V.setRequestHeader(r,m.headers[r]);if(m.beforeSend&&(!1===m.beforeSend.call(h,V,m)||d))return V.abort();if(l="abort",g.add(m.complete),V.done(m.success),V.fail(m.error),s=Kt(Mt,m,t,V)){if(V.readyState=1,f&&y.trigger("ajaxSend",[V,m]),d)return V;m.async&&0<m.timeout&&(p=E.setTimeout(function(){V.abort("timeout")},m.timeout));try{d=!1,s.send(a,w)}catch(e){if(d)throw e;w(-1,e)}}else w(-1,"No Transport");function w(e,t,n,r){var o,a,i,l=t;d||(d=!0,p&&E.clearTimeout(p),s=void 0,u=r||"",V.readyState=0<e?4:0,r=200<=e&&e<300||304===e,n&&(i=function(e,t,n){for(var r,o,a,i,l=e.contents,s=e.dataTypes;"*"===s[0];)s.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(o in l)if(l[o]&&l[o].test(r)){s.unshift(o);break}if(s[0]in n)a=s[0];else{for(o in n){if(!s[0]||e.converters[o+" "+s[0]]){a=o;break}i=i||o}a=a||i}if(a)return a!==s[0]&&s.unshift(a),n[a]}(m,V,n)),!r&&-1<C.inArray("script",m.dataTypes)&&C.inArray("json",m.dataTypes)<0&&(m.converters["text script"]=function(){}),i=function(e,t,n,r){var o,a,i,l,s,c={},u=e.dataTypes.slice();if(u[1])for(i in e.converters)c[i.toLowerCase()]=e.converters[i];for(a=u.shift();a;)if(e.responseFields[a]&&(n[e.responseFields[a]]=t),!s&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),s=a,a=u.shift())if("*"===a)a=s;else if("*"!==s&&s!==a){if(!(i=c[s+" "+a]||c["* "+a]))for(o in c)if((l=o.split(" "))[1]===a&&(i=c[s+" "+l[0]]||c["* "+l[0]])){!0===i?i=c[o]:!0!==c[o]&&(a=l[0],u.unshift(l[1]));break}if(!0!==i)if(i&&e.throws)t=i(t);else try{t=i(t)}catch(e){return{state:"parsererror",error:i?e:"No conversion from "+s+" to "+a}}}return{state:"success",data:t}}(m,i,V,r),r?(m.ifModified&&((n=V.getResponseHeader("Last-Modified"))&&(C.lastModified[c]=n),(n=V.getResponseHeader("etag"))&&(C.etag[c]=n)),204===e||"HEAD"===m.type?l="nocontent":304===e?l="notmodified":(l=i.state,o=i.data,r=!(a=i.error))):(a=l,!e&&l||(l="error",e<0&&(e=0))),V.status=e,V.statusText=(t||l)+"",r?b.resolveWith(h,[o,l,V]):b.rejectWith(h,[V,l,a]),V.statusCode(v),v=void 0,f&&y.trigger(r?"ajaxSuccess":"ajaxError",[V,m,r?o:a]),g.fireWith(h,[V,l]),f&&(y.trigger("ajaxComplete",[V,m]),--C.active||C.event.trigger("ajaxStop")))}return V},getJSON:function(e,t,n){return C.get(e,t,n,"json")},getScript:function(e,t){return C.get(e,void 0,t,"script")}}),C.each(["get","post"],function(e,o){C[o]=function(e,t,n,r){return v(t)&&(r=r||n,n=t,t=void 0),C.ajax(C.extend({url:e,type:o,dataType:r,data:t,success:n},C.isPlainObject(e)&&e))}}),C.ajaxPrefilter(function(e){for(var t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")}),C._evalUrl=function(e,t,n){return C.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){C.globalEval(e,t,n)}})},C.fn.extend({wrapAll:function(e){return this[0]&&(v(e)&&(e=e.call(this[0])),e=C(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(n){return v(n)?this.each(function(e){C(this).wrapInner(n.call(this,e))}):this.each(function(){var e=C(this),t=e.contents();t.length?t.wrapAll(n):e.append(n)})},wrap:function(t){var n=v(t);return this.each(function(e){C(this).wrapAll(n?t.call(this,e):t)})},unwrap:function(e){return this.parent(e).not("body").each(function(){C(this).replaceWith(this.childNodes)}),this}}),C.expr.pseudos.hidden=function(e){return!C.expr.pseudos.visible(e)},C.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},C.ajaxSettings.xhr=function(){try{return new E.XMLHttpRequest}catch(e){}};var qt={0:200,1223:204},Gt=C.ajaxSettings.xhr();g.cors=!!Gt&&"withCredentials"in Gt,g.ajax=Gt=!!Gt,C.ajaxTransport(function(o){var a,i;if(g.cors||Gt&&!o.crossDomain)return{send:function(e,t){var n,r=o.xhr();if(r.open(o.type,o.url,o.async,o.username,o.password),o.xhrFields)for(n in o.xhrFields)r[n]=o.xhrFields[n];for(n in o.mimeType&&r.overrideMimeType&&r.overrideMimeType(o.mimeType),o.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)r.setRequestHeader(n,e[n]);a=function(e){return function(){a&&(a=i=r.onload=r.onerror=r.onabort=r.ontimeout=r.onreadystatechange=null,"abort"===e?r.abort():"error"===e?"number"!=typeof r.status?t(0,"error"):t(r.status,r.statusText):t(qt[r.status]||r.status,r.statusText,"text"!==(r.responseType||"text")||"string"!=typeof r.responseText?{binary:r.response}:{text:r.responseText},r.getAllResponseHeaders()))}},r.onload=a(),i=r.onerror=r.ontimeout=a("error"),void 0!==r.onabort?r.onabort=i:r.onreadystatechange=function(){4===r.readyState&&E.setTimeout(function(){a&&i()})},a=a("abort");try{r.send(o.hasContent&&o.data||null)}catch(e){if(a)throw e}},abort:function(){a&&a()}}}),C.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),C.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return C.globalEval(e),e}}}),C.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),C.ajaxTransport("script",function(n){var r,o;if(n.crossDomain||n.scriptAttrs)return{send:function(e,t){r=C("<script>").attr(n.scriptAttrs||{}).prop({charset:n.scriptCharset,src:n.url}).on("load error",o=function(e){r.remove(),o=null,e&&t("error"===e.type?404:200,e.type)}),k.head.appendChild(r[0])},abort:function(){o&&o()}}});var Ht,Qt=[],Jt=/(=)\?(?=&|$)|\?\?/;C.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Qt.pop()||C.expando+"_"+Ot.guid++;return this[e]=!0,e}}),C.ajaxPrefilter("json jsonp",function(e,t,n){var r,o,a,i=!1!==e.jsonp&&(Jt.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Jt.test(e.data)&&"data");if(i||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=v(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,i?e[i]=e[i].replace(Jt,"$1"+r):!1!==e.jsonp&&(e.url+=(St.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return a||C.error(r+" was not called"),a[0]},e.dataTypes[0]="json",o=E[r],E[r]=function(){a=arguments},n.always(function(){void 0===o?C(E).removeProp(r):E[r]=o,e[r]&&(e.jsonpCallback=t.jsonpCallback,Qt.push(r)),a&&v(o)&&o(a[0]),a=o=void 0}),"script"}),g.createHTMLDocument=((Ht=k.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Ht.childNodes.length),C.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(g.createHTMLDocument?((r=(t=k.implementation.createHTMLDocument("")).createElement("base")).href=k.location.href,t.head.appendChild(r)):t=k),r=!n&&[],(n=S.exec(e))?[t.createElement(n[1])]:(n=ye([e],t,r),r&&r.length&&C(r).remove(),C.merge([],n.childNodes)));var r},C.fn.load=function(e,t,n){var r,o,a,i=this,l=e.indexOf(" ");return-1<l&&(r=vt(e.slice(l)),e=e.slice(0,l)),v(t)?(n=t,t=void 0):t&&"object"==typeof t&&(o="POST"),0<i.length&&C.ajax({url:e,type:o||"GET",dataType:"html",data:t}).done(function(e){a=arguments,i.html(r?C("<div>").append(C.parseHTML(e)).find(r):e)}).always(n&&function(e,t){i.each(function(){n.apply(this,a||[e.responseText,t,e])})}),this},C.expr.pseudos.animated=function(t){return C.grep(C.timers,function(e){return t===e.elem}).length},C.offset={setOffset:function(e,t,n){var r,o,a,i,l=C.css(e,"position"),s=C(e),c={};"static"===l&&(e.style.position="relative"),a=s.offset(),r=C.css(e,"top"),i=C.css(e,"left"),i=("absolute"===l||"fixed"===l)&&-1<(r+i).indexOf("auto")?(o=(l=s.position()).top,l.left):(o=parseFloat(r)||0,parseFloat(i)||0),null!=(t=v(t)?t.call(e,n,C.extend({},a)):t).top&&(c.top=t.top-a.top+o),null!=t.left&&(c.left=t.left-a.left+i),"using"in t?t.using.call(e,c):s.css(c)}},C.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){C.offset.setOffset(this,t,e)});var e,n=this[0];return n?n.getClientRects().length?(e=n.getBoundingClientRect(),n=n.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],o={top:0,left:0};if("fixed"===C.css(r,"position"))t=r.getBoundingClientRect();else{for(t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===C.css(e,"position");)e=e.parentNode;e&&e!==r&&1===e.nodeType&&((o=C(e).offset()).top+=C.css(e,"borderTopWidth",!0),o.left+=C.css(e,"borderLeftWidth",!0))}return{top:t.top-o.top-C.css(r,"marginTop",!0),left:t.left-o.left-C.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===C.css(e,"position");)e=e.offsetParent;return e||ne})}}),C.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,o){var a="pageYOffset"===o;C.fn[t]=function(e){return W(this,function(e,t,n){var r;return h(e)?r=e:9===e.nodeType&&(r=e.defaultView),void 0===n?r?r[o]:e[t]:void(r?r.scrollTo(a?r.pageXOffset:n,a?n:r.pageYOffset):e[t]=n)},t,e,arguments.length)}}),C.each(["top","left"],function(e,n){C.cssHooks[n]=He(g.pixelPosition,function(e,t){if(t)return t=Ge(e,n),We.test(t)?C(e).position()[n]+"px":t})}),C.each({Height:"height",Width:"width"},function(i,l){C.each({padding:"inner"+i,content:l,"":"outer"+i},function(r,a){C.fn[a]=function(e,t){var n=arguments.length&&(r||"boolean"!=typeof e),o=r||(!0===e||!0===t?"margin":"border");return W(this,function(e,t,n){var r;return h(e)?0===a.indexOf("outer")?e["inner"+i]:e.document.documentElement["client"+i]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+i],r["scroll"+i],e.body["offset"+i],r["offset"+i],r["client"+i])):void 0===n?C.css(e,t,o):C.style(e,t,n,o)},l,n?e:void 0,n)}})}),C.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){C.fn[t]=function(e){return this.on(t,e)}}),C.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),C.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,n){C.fn[n]=function(e,t){return 0<arguments.length?this.on(n,null,e,t):this.trigger(n)}});var Yt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;C.proxy=function(e,t){var n,r;if("string"==typeof t&&(r=e[t],t=e,e=r),v(e))return n=l.call(arguments,2),(r=function(){return e.apply(t||this,n.concat(l.call(arguments)))}).guid=e.guid=e.guid||C.guid++,r},C.holdReady=function(e){e?C.readyWait++:C.ready(!0)},C.isArray=Array.isArray,C.parseJSON=JSON.parse,C.nodeName=O,C.isFunction=v,C.isWindow=h,C.camelCase=q,C.type=m,C.now=Date.now,C.isNumeric=function(e){var t=C.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},C.trim=function(e){return null==e?"":(e+"").replace(Yt,"")},void 0===(tn=function(){return C}.apply(en,[]))||(Zt.exports=tn);var $t=E.jQuery,Xt=E.$;return C.noConflict=function(e){return E.$===C&&(E.$=Xt),e&&E.jQuery===C&&(E.jQuery=$t),C},void 0===e&&(E.jQuery=E.$=C),C})},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE__14__},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE__15__},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE__16__},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE__17__},function(t,e,n){!function(_){var e=function(){"use strict";function v(e,t){return null!=t&&e instanceof t}var V,w,E;try{V=Map}catch(e){V=function(){}}try{w=Set}catch(e){w=function(){}}try{E=Promise}catch(e){E=function(){}}function k(e,f,t,m,h){"object"==typeof f&&(t=f.depth,m=f.prototype,h=f.includeNonEnumerable,f=f.circular);var y=[],b=[],g=void 0!==_;return void 0===f&&(f=!0),function r(e,o){if(null===e)return null;if(0===o)return e;var n,t,a;if("object"!=typeof e)return e;if(v(e,V))n=new V;else if(v(e,w))n=new w;else if(v(e,E))n=new E(function(t,n){e.then(function(e){t(r(e,o-1))},function(e){n(r(e,o-1))})});else if(k.__isArray(e))n=[];else if(k.__isRegExp(e))n=new RegExp(e.source,C(e)),e.lastIndex&&(n.lastIndex=e.lastIndex);else if(k.__isDate(e))n=new Date(e.getTime());else{if(g&&_.isBuffer(e))return n=_.allocUnsafe?_.allocUnsafe(e.length):new _(e.length),e.copy(n),n;v(e,Error)?n=Object.create(e):void 0===m?(t=Object.getPrototypeOf(e),n=Object.create(t)):(n=Object.create(m),t=m)}if(f){var i=y.indexOf(e);if(-1!=i)return b[i];y.push(e),b.push(n)}for(s in v(e,V)&&e.forEach(function(e,t){t=r(t,o-1),e=r(e,o-1),n.set(t,e)}),v(e,w)&&e.forEach(function(e){e=r(e,o-1),n.add(e)}),e)(a=t?Object.getOwnPropertyDescriptor(t,s):a)&&null==a.set||(n[s]=r(e[s],o-1));if(Object.getOwnPropertySymbols)for(var l=Object.getOwnPropertySymbols(e),s=0;s<l.length;s++){var c=l[s];(p=Object.getOwnPropertyDescriptor(e,c))&&!p.enumerable&&!h||(n[c]=r(e[c],o-1),p.enumerable||Object.defineProperty(n,c,{enumerable:!1}))}if(h)for(var u=Object.getOwnPropertyNames(e),s=0;s<u.length;s++){var p,d=u[s];(p=Object.getOwnPropertyDescriptor(e,d))&&p.enumerable||(n[d]=r(e[d],o-1),Object.defineProperty(n,d,{enumerable:!1}))}return n}(e,t=void 0===t?1/0:t)}function t(e){return Object.prototype.toString.call(e)}function C(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}return k.clonePrototype=function(e){if(null===e)return null;function t(){}return t.prototype=e,new t},k.__objToStr=t,k.__isDate=function(e){return"object"==typeof e&&"[object Date]"===t(e)},k.__isArray=function(e){return"object"==typeof e&&"[object Array]"===t(e)},k.__isRegExp=function(e){return"object"==typeof e&&"[object RegExp]"===t(e)},k.__getRegExpFlags=C,k}();t.exports&&(t.exports=e)}.call(this,n(19).Buffer)},function(e,L,R){"use strict";!function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var l=R(40),a=R(41),i=R(42);function n(){return p.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function o(e,t){if(n()<t)throw new RangeError("Invalid typed array length");return p.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=p.prototype:(e=null===e?new p(t):e).length=t,e}function p(e,t,n){if(!(p.TYPED_ARRAY_SUPPORT||this instanceof p))return new p(e,t,n);if("number"!=typeof e)return r(this,e,t,n);if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return c(this,e)}function r(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);p.TYPED_ARRAY_SUPPORT?(e=t).__proto__=p.prototype:e=u(e,t);return e}(e,t,n,r):"string"==typeof t?function(e,t,n){"string"==typeof n&&""!==n||(n="utf8");if(!p.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|f(t,n),n=(e=o(e,r)).write(t,n);n!==r&&(e=e.slice(0,n));return e}(e,t,n):function(e,t){if(p.isBuffer(t)){var n=0|d(t.length);return 0===(e=o(e,n)).length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||function(e){return e!=e}(t.length)?o(e,0):u(e,t);if("Buffer"===t.type&&i(t.data))return u(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function s(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function c(e,t){if(s(t),e=o(e,t<0?0:0|d(t)),!p.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function u(e,t){var n=t.length<0?0:0|d(t.length);e=o(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function d(e){if(e>=n())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n().toString(16)+" bytes");return 0|e}function f(e,t){if(p.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;var n=(e="string"!=typeof e?""+e:e).length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return D(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return x(e).length;default:if(r)return D(e).length;t=(""+t).toLowerCase(),r=!0}}function t(e,t,n){var r,o,a,i=!1;if((t=void 0===t||t<0?0:t)>this.length)return"";if((n=void 0===n||n>this.length?this.length:n)<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e=e||"utf8";;)switch(e){case"hex":return function(e,t,n){var r=e.length;(!t||t<0)&&(t=0);(!n||n<0||r<n)&&(n=r);for(var o="",a=t;a<n;++a)o+=function(e){return e<16?"0"+e.toString(16):e.toString(16)}(e[a]);return o}(this,t,n);case"utf8":case"utf-8":return v(this,t,n);case"ascii":return function(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(127&e[o]);return r}(this,t,n);case"latin1":case"binary":return function(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(e[o]);return r}(this,t,n);case"base64":return r=this,a=n,0===(o=t)&&a===r.length?l.fromByteArray(r):l.fromByteArray(r.slice(o,a));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(e,t,n){for(var r=e.slice(t,n),o="",a=0;a<r.length;a+=2)o+=String.fromCharCode(r[a]+256*r[a+1]);return o}(this,t,n);default:if(i)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}function m(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function h(e,t,n,r,o){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):2147483647<n?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,(n=(n=isNaN(n)?o?0:e.length-1:n)<0?e.length+n:n)>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof t&&(t=p.from(t,r)),p.isBuffer(t))return 0===t.length?-1:y(e,t,n,r,o);if("number"==typeof t)return t&=255,p.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?(o?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call(e,t,n):y(e,[t],n,r,o);throw new TypeError("val must be string, number or Buffer")}function y(e,t,n,r,o){var a=1,i=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;i/=a=2,l/=2,n/=2}function s(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(o)for(var c=-1,u=n;u<i;u++)if(s(e,u)===s(t,-1===c?0:u-c)){if(u-(c=-1===c?u:c)+1===l)return c*a}else-1!==c&&(u-=u-c),c=-1;else for(u=n=i<n+l?i-l:n;0<=u;u--){for(var p=!0,d=0;d<l;d++)if(s(e,u+d)!==s(t,d)){p=!1;break}if(p)return u}return-1}function b(e,t,n,r){return P(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function g(e,t,n,r){return P(function(e,t){for(var n,r,o=[],a=0;a<e.length&&!((t-=2)<0);++a)r=e.charCodeAt(a),n=r>>8,r=r%256,o.push(r),o.push(n);return o}(t,e.length-n),e,n,r)}function v(e,t,n){n=Math.min(e.length,n);for(var r=[],o=t;o<n;){var a,i,l,s,c=e[o],u=null,p=239<c?4:223<c?3:191<c?2:1;if(o+p<=n)switch(p){case 1:c<128&&(u=c);break;case 2:128==(192&(a=e[o+1]))&&127<(s=(31&c)<<6|63&a)&&(u=s);break;case 3:a=e[o+1],i=e[o+2],128==(192&a)&&128==(192&i)&&2047<(s=(15&c)<<12|(63&a)<<6|63&i)&&(s<55296||57343<s)&&(u=s);break;case 4:a=e[o+1],i=e[o+2],l=e[o+3],128==(192&a)&&128==(192&i)&&128==(192&l)&&65535<(s=(15&c)<<18|(63&a)<<12|(63&i)<<6|63&l)&&s<1114112&&(u=s)}null===u?(u=65533,p=1):65535<u&&(u-=65536,r.push(u>>>10&1023|55296),u=56320|1023&u),r.push(u),o+=p}return function(e){var t=e.length;if(t<=V)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=V));return n}(r)}L.Buffer=p,L.SlowBuffer=function(e){+e!=e&&(e=0);return p.alloc(+e)},L.INSPECT_MAX_BYTES=50,p.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),L.kMaxLength=n(),p.poolSize=8192,p._augment=function(e){return e.__proto__=p.prototype,e},p.from=function(e,t,n){return r(null,e,t,n)},p.TYPED_ARRAY_SUPPORT&&(p.prototype.__proto__=Uint8Array.prototype,p.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&p[Symbol.species]===p&&Object.defineProperty(p,Symbol.species,{value:null,configurable:!0})),p.alloc=function(e,t,n){return r=null,t=t,n=n,s(e=e),!(e<=0)&&void 0!==t?"string"==typeof n?o(r,e).fill(t,n):o(r,e).fill(t):o(r,e);var r},p.allocUnsafe=function(e){return c(null,e)},p.allocUnsafeSlow=function(e){return c(null,e)},p.isBuffer=function(e){return!(null==e||!e._isBuffer)},p.compare=function(e,t){if(!p.isBuffer(e)||!p.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,o=0,a=Math.min(n,r);o<a;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0},p.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},p.concat=function(e,t){if(!i(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return p.alloc(0);if(void 0===t)for(o=t=0;o<e.length;++o)t+=e[o].length;for(var n=p.allocUnsafe(t),r=0,o=0;o<e.length;++o){var a=e[o];if(!p.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,r),r+=a.length}return n},p.byteLength=f,p.prototype._isBuffer=!0,p.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)m(this,t,t+1);return this},p.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},p.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},p.prototype.toString=function(){var e=0|this.length;return 0==e?"":0===arguments.length?v(this,0,e):t.apply(this,arguments)},p.prototype.equals=function(e){if(!p.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===p.compare(this,e)},p.prototype.inspect=function(){var e="",t=L.INSPECT_MAX_BYTES;return 0<this.length&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},p.prototype.compare=function(e,t,n,r,o){if(!p.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),(t=void 0===t?0:t)<0||n>e.length||r<0||o>this.length)throw new RangeError("out of range index");if(o<=r&&n<=t)return 0;if(o<=r)return-1;if(n<=t)return 1;if(this===e)return 0;for(var a=(o>>>=0)-(r>>>=0),i=(n>>>=0)-(t>>>=0),l=Math.min(a,i),s=this.slice(r,o),c=e.slice(t,n),u=0;u<l;++u)if(s[u]!==c[u]){a=s[u],i=c[u];break}return a<i?-1:i<a?1:0},p.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},p.prototype.indexOf=function(e,t,n){return h(this,e,t,n,!0)},p.prototype.lastIndexOf=function(e,t,n){return h(this,e,t,n,!1)},p.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var o=this.length-t;if((void 0===n||o<n)&&(n=o),0<e.length&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r=r||"utf8";for(var a,i,l,s=!1;;)switch(r){case"hex":return function(e,t,n,r){n=Number(n)||0;var o=e.length-n;if((!r||o<(r=Number(r)))&&(r=o),(o=t.length)%2!=0)throw new TypeError("Invalid hex string");o/2<r&&(r=o/2);for(var a=0;a<r;++a){var i=parseInt(t.substr(2*a,2),16);if(isNaN(i))return a;e[n+a]=i}return a}(this,e,t,n);case"utf8":case"utf-8":return i=t,l=n,P(D(e,(a=this).length-i),a,i,l);case"ascii":return b(this,e,t,n);case"latin1":case"binary":return b(this,e,t,n);case"base64":return a=this,i=t,l=n,P(x(e),a,i,l);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return g(this,e,t,n);default:if(s)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),s=!0}},p.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var V=4096;function w(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(n<e+t)throw new RangeError("Trying to access beyond buffer length")}function E(e,t,n,r,o,a){if(!p.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(o<t||t<a)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function k(e,t,n,r){t<0&&(t=65535+t+1);for(var o=0,a=Math.min(e.length-n,2);o<a;++o)e[n+o]=(t&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function C(e,t,n,r){t<0&&(t=4294967295+t+1);for(var o=0,a=Math.min(e.length-n,4);o<a;++o)e[n+o]=t>>>8*(r?o:3-o)&255}function _(e,t,n,r){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function O(e,t,n,r,o){return o||_(e,0,n,4),a.write(e,t,n,r,23,4),n+4}function S(e,t,n,r,o){return o||_(e,0,n,8),a.write(e,t,n,r,52,8),n+8}p.prototype.slice=function(e,t){var n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):n<e&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):n<t&&(t=n),t<e&&(t=e),p.TYPED_ARRAY_SUPPORT)(o=this.subarray(e,t)).__proto__=p.prototype;else for(var r=t-e,o=new p(r,void 0),a=0;a<r;++a)o[a]=this[a+e];return o},p.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||w(e,t,this.length);for(var r=this[e],o=1,a=0;++a<t&&(o*=256);)r+=this[e+a]*o;return r},p.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||w(e,t,this.length);for(var r=this[e+--t],o=1;0<t&&(o*=256);)r+=this[e+--t]*o;return r},p.prototype.readUInt8=function(e,t){return t||w(e,1,this.length),this[e]},p.prototype.readUInt16LE=function(e,t){return t||w(e,2,this.length),this[e]|this[e+1]<<8},p.prototype.readUInt16BE=function(e,t){return t||w(e,2,this.length),this[e]<<8|this[e+1]},p.prototype.readUInt32LE=function(e,t){return t||w(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},p.prototype.readUInt32BE=function(e,t){return t||w(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},p.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||w(e,t,this.length);for(var r=this[e],o=1,a=0;++a<t&&(o*=256);)r+=this[e+a]*o;return(o*=128)<=r&&(r-=Math.pow(2,8*t)),r},p.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||w(e,t,this.length);for(var r=t,o=1,a=this[e+--r];0<r&&(o*=256);)a+=this[e+--r]*o;return(o*=128)<=a&&(a-=Math.pow(2,8*t)),a},p.prototype.readInt8=function(e,t){return t||w(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},p.prototype.readInt16LE=function(e,t){t||w(e,2,this.length);e=this[e]|this[e+1]<<8;return 32768&e?4294901760|e:e},p.prototype.readInt16BE=function(e,t){t||w(e,2,this.length);e=this[e+1]|this[e]<<8;return 32768&e?4294901760|e:e},p.prototype.readInt32LE=function(e,t){return t||w(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},p.prototype.readInt32BE=function(e,t){return t||w(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},p.prototype.readFloatLE=function(e,t){return t||w(e,4,this.length),a.read(this,e,!0,23,4)},p.prototype.readFloatBE=function(e,t){return t||w(e,4,this.length),a.read(this,e,!1,23,4)},p.prototype.readDoubleLE=function(e,t){return t||w(e,8,this.length),a.read(this,e,!0,52,8)},p.prototype.readDoubleBE=function(e,t){return t||w(e,8,this.length),a.read(this,e,!1,52,8)},p.prototype.writeUIntLE=function(e,t,n,r){e=+e,t|=0,n|=0,r||E(this,e,t,n,Math.pow(2,8*n)-1,0);var o=1,a=0;for(this[t]=255&e;++a<n&&(o*=256);)this[t+a]=e/o&255;return t+n},p.prototype.writeUIntBE=function(e,t,n,r){e=+e,t|=0,n|=0,r||E(this,e,t,n,Math.pow(2,8*n)-1,0);var o=n-1,a=1;for(this[t+o]=255&e;0<=--o&&(a*=256);)this[t+o]=e/a&255;return t+n},p.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||E(this,e,t,1,255,0),p.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},p.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||E(this,e,t,2,65535,0),p.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):k(this,e,t,!0),t+2},p.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||E(this,e,t,2,65535,0),p.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):k(this,e,t,!1),t+2},p.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||E(this,e,t,4,4294967295,0),p.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):C(this,e,t,!0),t+4},p.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||E(this,e,t,4,4294967295,0),p.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):C(this,e,t,!1),t+4},p.prototype.writeIntLE=function(e,t,n,r){e=+e,t|=0,r||E(this,e,t,n,(r=Math.pow(2,8*n-1))-1,-r);var o=0,a=1,i=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===i&&0!==this[t+o-1]&&(i=1),this[t+o]=(e/a>>0)-i&255;return t+n},p.prototype.writeIntBE=function(e,t,n,r){e=+e,t|=0,r||E(this,e,t,n,(r=Math.pow(2,8*n-1))-1,-r);var o=n-1,a=1,i=0;for(this[t+o]=255&e;0<=--o&&(a*=256);)e<0&&0===i&&0!==this[t+o+1]&&(i=1),this[t+o]=(e/a>>0)-i&255;return t+n},p.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||E(this,e,t,1,127,-128),p.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&(e=e<0?255+e+1:e),t+1},p.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||E(this,e,t,2,32767,-32768),p.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):k(this,e,t,!0),t+2},p.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||E(this,e,t,2,32767,-32768),p.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):k(this,e,t,!1),t+2},p.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||E(this,e,t,4,2147483647,-2147483648),p.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):C(this,e,t,!0),t+4},p.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||E(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),p.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):C(this,e,t,!1),t+4},p.prototype.writeFloatLE=function(e,t,n){return O(this,e,t,!0,n)},p.prototype.writeFloatBE=function(e,t,n){return O(this,e,t,!1,n)},p.prototype.writeDoubleLE=function(e,t,n){return S(this,e,t,!0,n)},p.prototype.writeDoubleBE=function(e,t,n){return S(this,e,t,!1,n)},p.prototype.copy=function(e,t,n,r){if(n=n||0,r||0===r||(r=this.length),t>=e.length&&(t=e.length),(r=0<r&&r<n?n:r)===n)return 0;if(0===e.length||0===this.length)return 0;if((t=t||0)<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length);var o,a=(r=e.length-t<r-n?e.length-t+n:r)-n;if(this===e&&n<t&&t<r)for(o=a-1;0<=o;--o)e[o+t]=this[o+n];else if(a<1e3||!p.TYPED_ARRAY_SUPPORT)for(o=0;o<a;++o)e[o+t]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+a),t);return a},p.prototype.fill=function(e,t,n,r){if("string"==typeof e){var o;if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1!==e.length||(o=e.charCodeAt(0))<256&&(e=o),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!p.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;if(t>>>=0,n=void 0===n?this.length:n>>>0,"number"==typeof(e=e||0))for(l=t;l<n;++l)this[l]=e;else for(var a=p.isBuffer(e)?e:D(new p(e,r).toString()),i=a.length,l=0;l<n-t;++l)this[l+t]=a[l%i];return this};var A=/[^+\/0-9A-Za-z-_]/g;function D(e,t){var n;t=t||1/0;for(var r=e.length,o=null,a=[],i=0;i<r;++i){if(55295<(n=e.charCodeAt(i))&&n<57344){if(!o){if(56319<n){-1<(t-=3)&&a.push(239,191,189);continue}if(i+1===r){-1<(t-=3)&&a.push(239,191,189);continue}o=n;continue}if(n<56320){-1<(t-=3)&&a.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&-1<(t-=3)&&a.push(239,191,189);if(o=null,n<128){if(--t<0)break;a.push(n)}else if(n<2048){if((t-=2)<0)break;a.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;a.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return a}function x(e){return l.toByteArray(function(e){var t;if((e=((t=e).trim?t.trim():t.replace(/^\s+|\s+$/g,"")).replace(A,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function P(e,t,n,r){for(var o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}}.call(this,R(39))},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE__20__},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE__21__},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE__22__},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE__23__},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE__24__},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE__25__},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE__26__},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE__27__},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE__28__},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE__29__},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE__30__},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE__31__},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return Dashboard});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1),semantic_ui_react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__),_basecomponent__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2),_settings__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(33),_license__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(34),_integration__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(35),_plugins__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(36),_form_form__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(12),_admin__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(11);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ownKeys(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(n),!0).forEach(function(e){_defineProperty(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(n){var r=_isNativeReflectConstruct();return function(){var e,t=_getPrototypeOf(n);return _possibleConstructorReturn(this,r?(e=_getPrototypeOf(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Dashboard=function(_BaseComponent){_inherits(Dashboard,_BaseComponent);var _super=_createSuper(Dashboard);function Dashboard(e){var t;return _classCallCheck(this,Dashboard),(t=_super.call(this,e)).datatype="appsettings",t.state={exportSettings:{includeForms:!0,includeLocalizations:!0,includeMobileForms:!0,includeWorkflows:!0,includeMetadata:!0,includeSecurity:{value:!1,withPasswordHash:!1},includeAppSettings:!0},importSettings:{replaceConfiguration:!1,includeForms:!0,includeLocalizations:!0,includeMobileForms:!0,includeWorkflows:!0,includeMetadata:!0,includeSecurity:!0,includeAppSettings:!0}},t.initData(e.data.appSettings),t.state.mdSettings=e.data.settings||[],t}return _createClass(Dashboard,[{key:"componentDidMount",value:function(){var t=this,e=[];e.push({name:"operation",value:"getdevelopermodevalue"});this.sendRequest(this.props.apiUrl,e,function(e){e.success?t.setState({developerMode:e.result.developerMode}):(alertify.error(e.message),console.log(e.message))}.bind(this))}},{key:"onRequestRenewLicense",value:function(){window.open("https://dwkit.com/contacts/")}},{key:"initData",value:function(e){e=(e=this.СloneObj(e)).sort(function(e,t){return e.order!=t.order?e.order-t.order:e.groupName>t.groupName?1:e.groupName<t.groupName?-1:e.name>t.name?1:e.name<t.name?-1:0});this.state.data=e}},{key:"onResetAppCache",value:function(){var e=new Array;e.push({name:"operation",value:"resetappcache"}),$.ajax({url:this.props.apiUrl,data:e,async:!0,type:"post",success:function(e){e.success?alertify.success(DWKitAdminLang.msg.appcachereseted):alertify.error(e.message)}})}},{key:"sendRequest",value:function(e,t,n,r){var o=this;$.ajax(_objectSpread({url:e,data:t,type:"post",success:function(e){return n(e)},error:function(e,t){t=o.props.parent.getProcessLoadError(e,t);alertify.error(DWKitAdminLang.dashboard.internalerror+t),console.log(DWKitAdminLang.dashboard.internalerror+t)}},r))}},{key:"createUrl",value:function(e){var t=this.props.parent.props.apiUrl,n="?";return 0<=t.indexOf("?")&&(n="&"),t+=n+"operation="+e}},{key:"downloadBlob",value:function(e,t){if(t===[]||!Array.isArray(t))throw new Error(DWKitAdminLang.dashboard.paramsrequired);var n=[];t.forEach(function(e){var t=$('<input type="hidden" />');t.attr("name",e.name),t.attr("value",e.value),n.push(t)});var r=$('<form action="'.concat(e,'" method="post"></form>'));r.append(n);t=this.props.parent.bearerHeader;function o(e){return e.headers.get("content-disposition")&&e.headers.get("content-disposition").split(";").find(function(e){return e.includes("filename=")}).replace("filename=","").trim()||""}fetch(e,{method:"post",headers:{Authorization:t},body:new FormData(r[0])}).then(function(r){if(!r.ok)throw new Error(DWKitAdminLang.dashboard.configerror);if(""==o(r))throw new Error(DWKitAdminLang.dashboard.configerror);r.blob().then(function(e){var t,n;t=e,n=o(r),(e=document.createElement("a")).href=window.URL.createObjectURL(new Blob([t])),e.download=n,e.click(),e.remove()})}).catch(function(e){alertify.error(e),console.log(e)})}},{key:"onDownloadConfiguration",value:function(){var e=[];e.push({name:"operation",value:"downloadconfiguration"}),e.push({name:"data",value:JSON.stringify(this.state.exportSettings)}),this.downloadBlob(this.props.apiUrl,e),this.setState({isShowExportModal:!1})}},{key:"onUploadConfiguration",value:function(){$("#upload-configuration").trigger("click")}},{key:"uploadConfiguration",value:function(e){var n=this,t=new FormData($("#upload-configuration-form")[0]),r=JSON.stringify(this.state.importSettings);t.append("settings",r),this.sendRequest(this.createUrl("uploadconfiguration"),t,function(e){var t;e.success?(e.result.warning?(t=DWKitAdminLang.dashboard.configof+e.result.successUpdated+DWKitAdminLang.dashboard.successupdated+DWKitAdminLang.dashboard.withproblems+e.result.failUpdated.join("\n")+"\n".concat(DWKitAdminLang.dashboard.moreinfoconsole),alertify.success(DWKitAdminLang.dashboard.prevconfigcreated),alertify.error(t),console.log(t)):(alertify.success(DWKitAdminLang.dashboard.prevconfigcreated),alertify.success(DWKitAdminLang.dashboard.configof+e.result.successUpdated+DWKitAdminLang.dashboard.successupdated)),n.props.parent.setState({showRefreshMessage:!0})):(alertify.error(e.message),console.log(e.message))},{processData:!1,contentType:!1}),this.setState({isShowImportModal:!1})}},{key:"onChangeDeveloperMode",value:function(e,t){var n=this,r=(t.name,t.value,[]),t={developerMode:t.checked};r.push({name:"operation",value:"changedevelopermode"}),r.push({name:"data",value:JSON.stringify(t)}),this.sendRequest(this.props.apiUrl,r,function(e){e.success?(e.result.developerMode?(alertify.success(DWKitAdminLang.dashboard.devmodeon),alertify.success(DWKitAdminLang.dashboard.securitysaved)):(alertify.success(DWKitAdminLang.dashboard.devmodeoff),alertify.success(DWKitAdminLang.dashboard.securityremoved)),n.setState({developerMode:e.result.developerMode})):(alertify.error(e.message),console.log(e.message))}.bind(this),{processData:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8"})}},{key:"setExportSettings",value:function(e,t){var n=t.name,r=t.value,o=t.checked;if("selectAll"===n)for(var a in s=this.state.exportSettings)s.hasOwnProperty(a)&&(s[a].hasOwnProperty("value")?s[a].value=Boolean(o||r):s[a]=Boolean(o||r));else{var i,l,s,c=this.state.exportSettings;0<=n.indexOf(".")?(i=n.substring(0,n.indexOf(".")),l=n.substring(n.indexOf(".")+1,n.length),c.hasOwnProperty(i)&&c[i].hasOwnProperty(l)&&(t=_objectSpread({},c[i]),s=_defineProperty({},i,_objectSpread(_objectSpread({},t),{},_defineProperty({},l,Boolean(o||r)))))):s=c[n]&&c[n].hasOwnProperty("value")?(c=_objectSpread({},c[n]),_defineProperty({},n,_objectSpread(_objectSpread({},c),{},{value:Boolean(o||r)}))):_defineProperty({},n,Boolean(o||r))}n=_objectSpread(_objectSpread({},this.state.exportSettings),s);this.setState(_objectSpread(_objectSpread({},this.state),{},{exportSettings:n}))}},{key:"getExportSettings",value:function getExportSettings(name,e){return eval("this.state.exportSettings.".concat(name))}},{key:"setImportSettings",value:function(e,t){var n,r=t.name,o=t.value,a=t.checked;if("selectAll"===r)for(var i in n=this.state.importSettings)n.hasOwnProperty(i)&&"replaceConfiguration"!==i&&(n[i]=Boolean(a||o));else n=_defineProperty({},r,Boolean(a||o));r=_objectSpread(_objectSpread({},this.state.importSettings),n);this.setState(_objectSpread(_objectSpread({},this.state),{},{importSettings:r}))}},{key:"getImportSettings",value:function getImportSettings(name,e){return eval("this.state.importSettings.".concat(name))}},{key:"getSelectAllCheckboxValue",value:function getSelectAllCheckboxValue(configType){var configSettings=eval("this.state.".concat(configType.toLowerCase(),"Settings")),checkedAttributes=0,attributesCount=0,setting;for(setting in configSettings)configSettings.hasOwnProperty(setting)&&"replaceConfiguration"!==setting&&(attributesCount++,configSettings[setting]&&configSettings[setting].hasOwnProperty("value")&&configSettings[setting].value&&checkedAttributes++,!0===configSettings[setting]&&checkedAttributes++);return 0===checkedAttributes?0:attributesCount===checkedAttributes?1:2}},{key:"renderSelectAllCheckbox",value:function renderSelectAllCheckbox(configType){var selectAllCheckboxState=this.getSelectAllCheckboxValue(configType),selectAllCheckboxProps,selectAllCheckboxOnChange=eval("this.set".concat(configType,"Settings.bind(this)"));switch(selectAllCheckboxState){case 0:selectAllCheckboxProps={checked:!1,key:"allSelected"};break;case 1:selectAllCheckboxProps={checked:!0,key:"allDeselected"};break;case 2:selectAllCheckboxProps={defaultIndeterminate:!0,key:"indeterminated"}}return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__.Checkbox,_extends({className:"dwkit-formadmin-configurationitem-selectall",name:"selectAll",label:DWKitAdminLang.dashboard.selectall,onChange:selectAllCheckboxOnChange},selectAllCheckboxProps))}},{key:"renderImportModal",value:function(){var e=this;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__.Modal,{dimmer:"blurring",open:this.state.isShowImportModal,onClose:function(){return e.setState({isShowImportModal:!1})}},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__.Modal.Header,null,DWKitAdminLang.dashboard.importsettings),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__.Modal.Content,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__.Checkbox,{toggle:!0,name:"replaceConfiguration",label:DWKitAdminLang.dashboard.fullreplaceconfig,checked:this.getImportSettings("replaceConfiguration"),onChange:this.setImportSettings.bind(this)}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__.Card,{fluid:!0},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__.Card.Content,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__.Card.Header,null,DWKitAdminLang.dashboard.selecttoapply)),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__.Card.Content,null,this.renderSelectAllCheckbox("Import")),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__.Checkbox,{className:"dwkit-formadmin-configurationitem",name:"includeForms",label:DWKitAdminLang.dashboard.forms,checked:this.getImportSettings("includeForms"),onChange:this.setImportSettings.bind(this)}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__.Checkbox,{className:"dwkit-formadmin-configurationitem",name:"includeLocalizations",label:DWKitAdminLang.dashboard.localization,checked:this.getImportSettings("includeLocalizations"),onChange:this.setImportSettings.bind(this)}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__.Checkbox,{className:"dwkit-formadmin-configurationitem",name:"includeMobileForms",label:DWKitAdminLang.dashboard.mobileforms,checked:this.getImportSettings("includeMobileForms"),onChange:this.setImportSettings.bind(this)}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__.Checkbox,{className:"dwkit-formadmin-configurationitem",name:"includeWorkflows",label:DWKitAdminLang.dashboard.workflow,checked:this.getImportSettings("includeWorkflows"),onChange:this.setImportSettings.bind(this)}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__.Checkbox,{className:"dwkit-formadmin-configurationitem",name:"includeMetadata",label:DWKitAdminLang.dashboard.metadata,checked:this.getImportSettings("includeMetadata"),onChange:this.setImportSettings.bind(this)}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__.Checkbox,{className:"dwkit-formadmin-configurationitem",name:"includeSecurity",label:DWKitAdminLang.dashboard.security,checked:this.getImportSettings("includeSecurity"),onChange:this.setImportSettings.bind(this)}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__.Checkbox,{className:"dwkit-formadmin-configurationitem",name:"includeAppSettings",label:DWKitAdminLang.dashboard.appsettings,checked:this.getImportSettings("includeAppSettings"),onChange:this.setImportSettings.bind(this)}))),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__.Modal.Actions,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__.Button,{className:"buttontype1",content:DWKitAdminLang.dashboard.upload,onClick:this.onUploadConfiguration.bind(this)}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__.Button,{content:DWKitAdminLang.dashboard.cancel,className:"buttontype2",onClick:function(){return e.setState({isShowImportModal:!1})}})))}},{key:"renderExportModal",value:function(){var e=this;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__.Modal,{dimmer:"blurring",open:this.state.isShowExportModal,onClose:function(){return e.setState({isShowExportModal:!1})}},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__.Modal.Header,null,DWKitAdminLang.dashboard.exportsettings),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__.Modal.Content,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__.Card,{fluid:!0},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__.Card.Content,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__.Card.Header,null,DWKitAdminLang.dashboard.selecttodownload)),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__.Card.Content,null,this.renderSelectAllCheckbox("Export")),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__.Checkbox,{className:"dwkit-formadmin-configurationitem",name:"includeForms",label:DWKitAdminLang.dashboard.forms,checked:this.getExportSettings("includeForms"),onChange:this.setExportSettings.bind(this)}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__.Checkbox,{className:"dwkit-formadmin-configurationitem",name:"includeLocalizations",label:DWKitAdminLang.dashboard.localization,checked:this.getExportSettings("includeLocalizations"),onChange:this.setExportSettings.bind(this)}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__.Checkbox,{className:"dwkit-formadmin-configurationitem",name:"includeMobileForms",label:DWKitAdminLang.dashboard.mobileforms,checked:this.getExportSettings("includeMobileForms"),onChange:this.setExportSettings.bind(this)}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__.Checkbox,{className:"dwkit-formadmin-configurationitem",name:"includeWorkflows",label:DWKitAdminLang.dashboard.workflow,checked:this.getExportSettings("includeWorkflows"),onChange:this.setExportSettings.bind(this)}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__.Checkbox,{className:"dwkit-formadmin-configurationitem",name:"includeMetadata",label:DWKitAdminLang.dashboard.metadata,checked:this.getExportSettings("includeMetadata"),onChange:this.setExportSettings.bind(this)}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__.Checkbox,{className:"dwkit-formadmin-configurationitem",name:"includeSecurity",label:DWKitAdminLang.dashboard.security,checked:this.getExportSettings("includeSecurity.value"),onChange:this.setExportSettings.bind(this)}),this.getExportSettings("includeSecurity.value")&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__.Checkbox,{className:"dwkit-formadmin-configurationsubitem",name:"includeSecurity.withPasswordHash",label:DWKitAdminLang.dashboard.addpasswordhash,checked:this.getExportSettings("includeSecurity.withPasswordHash"),onChange:this.setExportSettings.bind(this)}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__.Checkbox,{className:"dwkit-formadmin-configurationitem",name:"includeAppSettings",label:DWKitAdminLang.dashboard.appsettings,checked:this.getExportSettings("includeAppSettings"),onChange:this.setExportSettings.bind(this)}))),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__.Modal.Actions,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__.Button,{className:"buttontype1",content:DWKitAdminLang.dashboard.download,onClick:this.onDownloadConfiguration.bind(this)}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__.Button,{content:DWKitAdminLang.dashboard.cancel,className:"buttontype2",onClick:function(){return e.setState({isShowExportModal:!1})}})))}},{key:"render",value:function(){var e=this,t=[];t.push({menuItem:DWKitAdminLang.dashboard.license,pane:{key:"license",className:"top",content:react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_license__WEBPACK_IMPORTED_MODULE_4__.a,{data:this.props.data.licenseInfo,metadata:this.props.data,parent:this.props.parent})}}),t.push({menuItem:DWKitAdminLang.dashboard.settings,pane:{key:"settings",className:"top",content:react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_settings__WEBPACK_IMPORTED_MODULE_3__.a,{data:this.state.data,mdSettings:this.state.mdSettings,metadata:this.props.data,parent:this,apiUrl:this.props.parent.props.apiUrl,themesFolder:this.props.themesFolder})}}),t.push({menuItem:DWKitAdminLang.dashboard.plugins,pane:{key:"plugins",className:"top",content:react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_plugins__WEBPACK_IMPORTED_MODULE_6__.a,{data:this.props.data.plugins,metadata:this.props.data,parent:this.props.parent,apiUrl:this.props.parent.props.apiUrl})}}),t.push({menuItem:DWKitAdminLang.dashboard.integrationapi,pane:{key:"ingeration",className:"top",content:react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_integration__WEBPACK_IMPORTED_MODULE_5__.a,{metadata:this.props.data,parent:this.props.parent,apiUrl:this.props.parent.props.apiUrl})}});var n=this.getSettings("ApplicationName",this.props.data.appSettings),r=this.getSettings("ApplicationDesc",this.props.data.appSettings);return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,n&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__.Header,{as:"h1"},n.value,r&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__.Header.Subheader,null,r.value)),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"dwkitadmin-toolbar"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__.Button,{className:"buttontype1",onClick:function(){return e.setState({isShowExportModal:!0})}},DWKitAdminLang.dashboard.exportsettings),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__.Button,{className:"buttontype2",onClick:function(){return e.setState({isShowImportModal:!0})}},DWKitAdminLang.dashboard.importsettings),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__.Checkbox,{toggle:!0,style:{marginLeft:"25px"},label:DWKitAdminLang.dashboard.developermode,checked:this.state.developerMode,onChange:this.onChangeDeveloperMode.bind(this)})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__.Tab,{menu:{secondary:!0,pointing:!0},renderActiveOnly:!1,panes:t}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("form",{isaction:"",id:"upload-configuration-form",method:"post",style:{display:"none"},enctype:"multipart/form-data",onsubmit:"tmp()"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input",{id:"upload-configuration",name:"upload-configuration",type:"file",onChange:this.uploadConfiguration.bind(this),accept:".zip"})),this.renderExportModal(),this.renderImportModal())}},{key:"onSave",value:function(){var t=this,n=[];this.state.data.forEach(function(e){null!=e.__state&&n.push(_objectSpread(_objectSpread({},e),{},{__type:t.datatype}))}),this.state.mdSettings.forEach(function(e){null!=e.__state&&n.push(_objectSpread(_objectSpread({},e),{},{__type:"settings"}))}),this.ChangeData(n,function(){t.ResetSystemProps(t.state.mdSettings),t.props.data.settings=t.state.mdSettings,t.forceUpdate()})}},{key:"onCancel",value:function(){this.initData(this.props.data.appSettings),this.state.mdSettings=this.props.data.settings,this.forceUpdate()}},{key:"getSettings",value:function(t,e){if(Array.isArray(e)){var n=void 0;return e.forEach(function(e){e&&e.name==t&&(n=e)}),n}}}]),Dashboard}(_basecomponent__WEBPACK_IMPORTED_MODULE_2__.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var t=n(0),a=n.n(t),i=n(2),l=n(1),s=n(5);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=d(n);return e=r?(e=d(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==o(e)&&"function"!=typeof e?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var r=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(o,i["a"]);var e,t,n,r=p(o);function o(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(e=r.call(this,e)).datatype="settings",e.state=e.getStateFromPros(),e.state.sequencesReadOnly=!0,e.initThemeOptions(),e}return e=o,(t=[{key:"getStateFromPros",value:function(){var e=this.СloneObj(this.props.mdSettings),t=this.checkSettings("DefaultForm",e),n=this.checkSettings("DefaultMobileForm",e),r=this.checkSettings("RTL",e);""!=r.value&&"string"==typeof r.value&&(r.value=this.stringToBoolean(r.value));var o=void 0;this.props.themesFolder&&(o=this.checkSettings("DefaultTheme",e));var a=this.props.metadata.appSettings,i=this.getSettings("ApplicationName",a),l=this.getSettings("ApplicationDesc",a),s=[];return a.forEach(function(e){"DataSequence"==e.groupName&&s.push({name:e.name,value:e.value})}),{array:e,defaultform:t?t.value:"",defaultmobileform:n?n.value:"",defaulttheme:o?o.value:"",rtl:!!r&&r.value,applicationName:i?i.value:"",applicationDesc:l?l.value:"",sequences:s}}},{key:"onChange",value:function(e,t){var n=t.name,r=t.checked,t=t.value;this.state[n]=void 0===r?t:r,this.forceUpdate()}},{key:"render",value:function(){var e=this,t=DWKitAdminLang.settings,n=[{key:"name",name:t.name,control:"input"},{key:"value",name:t.value,control:"input"}];return a.a.createElement(l.Form,null,a.a.createElement(l.Form.Field,null,a.a.createElement("a",{className:"buttontype1",onClick:this.props.parent.onResetAppCache.bind(this)},DWKitAdminLang.button.resetappcache)),a.a.createElement(l.Form.Input,{key:"applicationName",label:t.name,name:"applicationName",value:this.state.applicationName,onChange:this.onChange.bind(this)}),a.a.createElement(l.Form.Input,{key:"applicationDesc",label:t.description,name:"applicationDesc",value:this.state.applicationDesc,onChange:this.onChange.bind(this)}),a.a.createElement(l.Form.Input,{key:"defaultform",label:t.defaultform,name:"defaultform",list:"formslist",value:this.state.defaultform,onChange:this.onChange.bind(this)}),this.renderFormsList("formslist"),a.a.createElement(l.Form.Input,{key:"defaultmobileform",label:t.defaultmobileform,name:"defaultmobileform",list:"mobileformslist",value:this.state.defaultmobileform,onChange:this.onChange.bind(this)}),this.renderFormsList("mobileformslist",!0),a.a.createElement(l.Form.Dropdown,{selection:!0,key:"defaulttheme",name:"defaulttheme",label:t.defaulttheme,options:this.state.themeOptions,value:this.state.defaulttheme,onChange:this.onChange.bind(this)}),a.a.createElement(l.Form.Checkbox,{key:"rtl",label:t.defaultrtl,name:"rtl",checked:this.state.rtl,onChange:this.onChange.bind(this)}),a.a.createElement(l.Form.Field,null,a.a.createElement("label",null,t.datasequences,this.state.sequencesReadOnly&&a.a.createElement("a",{onClick:function(){e.setState({sequencesReadOnly:!1})}},t.unlock)),a.a.createElement(s.SemanticCollectionEditor,{readOnly:this.state.sequencesReadOnly,columns:n,name:"sequences",value:this.state.sequences,draggable:!1,onChange:this.onChange.bind(this)})),a.a.createElement("div",{className:"dwkitadmin-toolbar-editform"},a.a.createElement(l.Button,{className:"buttontype1",onClick:this.onSave.bind(this)},DWKitAdminLang.button.save),a.a.createElement(l.Button,{className:"buttontype2",onClick:this.onCancel.bind(this)},DWKitAdminLang.button.cancel)))}},{key:"onSave",value:function(){var r=this.state.array;this.setSettings("DefaultForm",this.state.defaultform,r),this.setSettings("DefaultMobileForm",this.state.defaultmobileform,r),this.setSettings("RTL",this.state.rtl,r),this.setSettings("DefaultTheme",this.state.defaulttheme,r);var e=this.generateCustomSettings("ApplicationName","appsettings",this.props.metadata.appSettings);e.value!==this.state.applicationName&&(e.value=this.state.applicationName,this.setUpdatedState(e),r.push(e));e=this.generateCustomSettings("ApplicationDesc","appsettings",this.props.metadata.appSettings);e.value!==this.state.applicationDesc&&(e.value=this.state.applicationDesc,this.setUpdatedState(e),r.push(e));var o=this;Array.isArray(this.state.sequences)&&this.state.sequences.forEach(function(e){var t=o.generateCustomSettings(e.name,"appsettings",o.props.metadata.appSettings,"DataSequence");t.value!==e.value&&(t.value=e.value,o.setUpdatedState(t),r.push(t))}),o.props.metadata.appSettings.forEach(function(t){var n,e;"DataSequence"==t.groupName&&(n=!1,Array.isArray(o.state.sequences)&&o.state.sequences.forEach(function(e){t.name===e.name&&(n=!0)}),n||((e=o.СloneObj(t)).__type="appsettings",e.__state="deleted",r.push(e)))});o=this;this.ChangeData(r,function(e){o.props.parent.props.parent.load(),o.forceUpdate()})}},{key:"generateCustomSettings",value:function(e,t,n,r){n=this.getSettings(e,n);return(n=n?this.СloneObj(n):{name:e,paramName:e,__state:"inserted",groupName:r}).__type=t,n}},{key:"onCancel",value:function(){var e=this.getStateFromPros();this.setState(e)}},{key:"checkSettings",value:function(t,e){var n=void 0;return e.forEach(function(e){e&&e.name==t&&(n=e)}),null==n&&e.push(n={name:t,value:"",__state:"inserted"}),n}},{key:"setSettings",value:function(t,e,n){var r=void 0;return n.forEach(function(e){e&&e.name==t&&(r=e)}),null==r?n.push(r={name:t,value:e,__state:"inserted"}):r.value!=e&&(r.value=e,this.setUpdatedState(r)),r.__type=this.datatype,r}},{key:"getSettings",value:function(t,e){var n=void 0;return e.forEach(function(e){e&&e.name==t&&(n=e)}),n}},{key:"renderFormsList",value:function(e,t){var t=t?this.props.metadata.mobileForms:this.props.metadata.forms,n=[];return Array.isArray(t)&&t.forEach(function(e){n.push(a.a.createElement("option",{key:e.name,value:e.name}))}),a.a.createElement("datalist",{key:e,id:e},n)}},{key:"initThemeOptions",value:function(){var r,e=this.props.themesFolder;null!=e&&(r=this,fetch(e+"theme_manifest.json").then(function(e){return e.json()}).then(function(e){var t=[],n=0;t.push({key:n,value:"",text:""}),n++,e.themes.forEach(function(e){t.push({key:n,value:e.name,text:e.title}),n++}),r.state.themeOptions=t,r.forceUpdate()}))}},{key:"stringToBoolean",value:function(e){switch(e.toLowerCase().trim()){case"true":case"yes":case"1":return!0;case"false":case"no":case"0":case null:return!1;default:return Boolean(e)}}}])&&c(e.prototype,t),n&&c(e,n),o}()},function(e,t,n){"use strict";n.d(t,"a",function(){return d});var t=n(0),c=n.n(t),t=n(4),t=n(3),r=n(2),u=n(1);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=a(n);return e=r?(e=a(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==o(e)&&"function"!=typeof e?p(t):e}}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(a,r["a"]);var e,t,n,o=s(a);function a(e){var t,n,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),t=o.call(this,e),n=p(t),r=function(e){var t=this.props.parent.props.apiUrl,n="?";return 0<=t.indexOf("?")&&(n="&"),t+=n+"operation="+e},(e="createurl")in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,t}return e=a,(t=[{key:"render",value:function(){var e,t=this.props.data,n=[];for(e in t.limits){var r="-1"==t.limits[e]?"∞":t.limits[e],o=void 0,a=void 0;"Users"==e?(a=void 0!==this.props.metadata.additionalParams&&null!==this.props.metadata.additionalParams?this.props.metadata.additionalParams.UsersCount:0,o=DWKitAdminLang.license.users):"Workflow"==e?(a=this.props.metadata.workflow.length,o=DWKitAdminLang.license.workflow):"Forms"==e?(a=this.props.metadata.forms.length,o=DWKitAdminLang.license.forms):"Instances"==e?o=DWKitAdminLang.license.instances:"Threads"==e&&(o=DWKitAdminLang.license.threads);var i=!1;null!=a&&(i=Boolean(r<a),r=a+" / "+r),n.push(c.a.createElement(u.Form.Input,{style:{width:"100px"},key:e,label:o,error:i,readOnly:!0,value:r}))}var l=[];t.holder.includes("_Trial")&&l.push(c.a.createElement("b",{key:"trialmsg"},"This is a trial version of DWKit. Don't forget to purchase the commercial license via ",c.a.createElement("a",{href:"https://dwkit.com"},"web-site"),"."));var s=DWKitAdminLang.license.uploadlicenseorcreatenew;return l.push(c.a.createElement("br",{key:"br"})),l.push(c.a.createElement("span",{key:"purchasemsg"},s.youcan," ",c.a.createElement("a",{onClick:this.onUpload.bind(this)},s.uploadalicense)," ",s.orcreate," ",c.a.createElement("a",{href:"https://dwkit.com/contacts/"},s.requestnewlicense),".")),c.a.createElement("div",null,c.a.createElement(u.Form,null,c.a.createElement(u.Form.Input,{label:DWKitAdminLang.license.licenseholder,readOnly:!0,value:t.holder}),c.a.createElement(u.Form.Group,{widths:"equal"},null!=t.licenseExpiry&&c.a.createElement(u.Form.Input,{label:DWKitAdminLang.license.expipedlabel,readOnly:!0,value:t.licenseExpiry}),null!=t.releaseExpiry&&c.a.createElement(u.Form.Input,{label:DWKitAdminLang.license.freeupdatedatalabel,readOnly:!0,value:t.releaseExpiry}),c.a.createElement(u.Form.Input,{label:DWKitAdminLang.license.licensechecktype,readOnly:!0,value:t.licenseCheckType})),c.a.createElement(u.Form.Field,null,l),c.a.createElement(u.Form.Group,null,n)),c.a.createElement("form",{is:!0,action:"",id:"dwkitadmin-license-uploadform",method:"post",style:{display:"none"},enctype:"multipart/form-data",onsubmit:"tmp()"},c.a.createElement("input",{type:"file",name:"dwkitadmin-license-uploadfile",id:"dwkitadmin-license-uploadfile",onChange:this.onUpload_onchange.bind(this)})))}},{key:"onUpload",value:function(){$("#dwkitadmin-license-uploadfile").trigger("click")}},{key:"onUpload_onchange",value:function(){this.uploadLicense($("#dwkitadmin-license-uploadform")[0],function(e){e.success?(alertify.success("The file is uploaded!"),location.reload()):alertify.error(e.message)})}},{key:"uploadLicense",value:function(e,t){$.ajax({type:"POST",url:this.createurl("uploadlicense"),data:new FormData(e),processData:!1,contentType:!1,success:function(e){t(e)}})}}])&&i(e.prototype,t),n&&i(e,n),a}()},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var t=n(0),a=n.n(t),t=n(4),t=n(3),i=n(2),l=n(1);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=p(n);return e=r?(e=p(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==o(e)&&"function"!=typeof e?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var r=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(o,i["a"]);var e,t,n,r=u(o);function o(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(e=r.call(this,e)).datatype="appsettings",e.state=e.getStateFromPros(),e}return e=o,(t=[{key:"render",value:function(){var e=DWKitAdminLang.integration.accessTokenInfo;return a.a.createElement("div",null,this.state.accessToken&&a.a.createElement(l.Message,{info:!0,content:e}),a.a.createElement(l.Form,{style:{width:"500px"}},a.a.createElement(l.Form.Input,{action:{icon:"copy",content:DWKitAdminLang.button.copy,onClick:this.onCopyControl.bind(this)},name:"accessToken",label:a.a.createElement("label",null,DWKitAdminLang.integration.accessToken," ",a.a.createElement("a",{onClick:this.onGenerate.bind(this)},DWKitAdminLang.integration.generate)),value:this.state.accessToken,onChange:this.onChange.bind(this)}),a.a.createElement(l.Form.Field,null,a.a.createElement("span",null,DWKitAdminLang.dashboard.integrationapiswagger," "),a.a.createElement("a",{className:"ui button",target:"_blank",href:"/swagger"},DWKitAdminLang.button.download)),a.a.createElement("div",{className:"dwkitadmin-toolbar-editform"},a.a.createElement(l.Button,{className:"buttontype1",onClick:this.onSave.bind(this)},DWKitAdminLang.button.save),a.a.createElement(l.Button,{className:"buttontype2",onClick:this.onCancel.bind(this)},DWKitAdminLang.button.cancel))))}},{key:"onChange",value:function(e,t){var n=t.name,t=t.value;this.state[n]=t,this.forceUpdate()}},{key:"onGenerate",value:function(){this.setState({accessToken:this.makeid(128)})}},{key:"getStateFromPros",value:function(){var e=this.props.metadata.appSettings,e=this.getSettings("IntegrationApiKey",e);return{accessToken:e?e.value:""}}},{key:"onSave",value:function(){var e=this.props.metadata.appSettings,e=this.getSettings("IntegrationApiKey",e);(e=e?this.СloneObj(e):{name:"IntegrationApiKey",paramName:"IntegrationApiKey",__state:"inserted"}).value=this.state.accessToken,e.__type=this.datatype,this.setUpdatedState(e);var t=this;this.ChangeData([e],function(e){t.props.parent.load(),t.forceUpdate()})}},{key:"onCancel",value:function(){var e=this.getStateFromPros();this.setState(e)}},{key:"getSettings",value:function(t,e){var n=void 0;return e.forEach(function(e){e&&e.name==t&&(n=e)}),n}},{key:"onCopyControl",value:function(){this.copyToClipboard(this.state.accessToken)}},{key:"makeid",value:function(e){for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=n.length,o=0;o<e;o++)t+=n.charAt(Math.floor(Math.random()*r));return t}}])&&s(e.prototype,t),n&&s(e,n),o}()},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var t=n(0),i=n.n(t),a=n(2),l=n(1),s=n(8),c=n(5);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function p(r){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?u(Object(o),!0).forEach(function(e){var t,n;t=r,e=o[n=e],n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):u(Object(o)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))})}return r}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=h(n);return e=r?(e=h(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==o(e)&&"function"!=typeof e?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var r=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(o,a["a"]);var e,t,n,r=m(o);function o(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(e=r.call(this,e)).datatype="plugins",e.state=e.getStateFromPros(),e}return e=o,(t=[{key:"onSave",value:function(){var t=this.СloneObj(this.state.BasicPlugin);this.state.BasicPlugin.pluginSettings.RequestHeaders&&(t.pluginSettings.RequestHeaders={},this.state.BasicPlugin.pluginSettings.RequestHeaders.forEach(function(e){e.name&&(t.pluginSettings.RequestHeaders[e.name]=e.value||"")})),t.pluginSettings&&Array.isArray(t.pluginSettings.DeleteCascadeList)&&t.pluginSettings.DeleteCascadeList.forEach(function(e){e.__id&&delete e.__id});var e=this.СloneObj(this.state.WorkflowPlugin),n=this.СloneObj(this.state.NotificationPlugin);n.pluginSettings&&Array.isArray(n.pluginSettings.ObjectCountList)&&n.pluginSettings.ObjectCountList.forEach(function(e){e.__id&&delete e.__id});var r=this;this.ChangeData([t,e,n],function(e){r.props.parent.load(),r.forceUpdate()})}},{key:"onCancel",value:function(){this.setState(this.getStateFromPros())}},{key:"getStateFromPros",value:function(){var e={enabled:!1,__type:this.datatype,__state:"inserted"},n=p(p({},e),{},{name:"BasicPlugin",pluginSettings:{MailServerPort:25,MailServerSsl:!0}}),r=p(p({},e),{},{name:"WorkflowPlugin",pluginSettings:{}}),o=p(p({},e),{},{name:"NotificationPlugin",pluginSettings:{}}),e=this.props.data;return Array.isArray(e)&&e.forEach(function(e){if(e.name==n.name){if(delete n.__state,n.enabled=e.enabled,e.pluginSettings)for(t in e.pluginSettings)if("RequestHeaders"==t)for(var t in n.pluginSettings.RequestHeaders=[],e.pluginSettings.RequestHeaders)n.pluginSettings.RequestHeaders.push({name:t,value:e.pluginSettings.RequestHeaders[t]});else n.pluginSettings[t]=e.pluginSettings[t]}else if(e.name==r.name){if(delete r.__state,r.enabled=e.enabled,e.pluginSettings)for(t in e.pluginSettings)r.pluginSettings[t]=e.pluginSettings[t]}else if(e.name==o.name&&(delete r.__state,o.enabled=e.enabled,e.pluginSettings))for(t in e.pluginSettings)o.pluginSettings[t]=e.pluginSettings[t]}),{BasicPlugin:n,WorkflowPlugin:r,NotificationPlugin:o}}},{key:"render",value:function(){var e=this.state.BasicPlugin,t=this.state.WorkflowPlugin,n=this.state.NotificationPlugin;return i.a.createElement(l.Form,null,i.a.createElement(l.Form.Checkbox,{toggle:!0,name:"enabled",label:DWKitAdminLang.plugins.basicplugin.header,checked:e.enabled,onChange:this.onChange.bind(this,"BasicPlugin")}),e.enabled&&this.renderBasicPlugin(e,"BasicPlugin"),i.a.createElement(l.Form.Checkbox,{toggle:!0,name:"enabled",label:DWKitAdminLang.plugins.workflowplugin.header,checked:t.enabled,onChange:this.onChange.bind(this,"WorkflowPlugin")}),t.enabled&&this.renderWorkflowPlugin(t,"WorkflowPlugin"),i.a.createElement(l.Form.Checkbox,{toggle:!0,name:"enabled",label:DWKitAdminLang.plugins.notificationplugin.header,checked:n.enabled,onChange:this.onChange.bind(this,"NotificationPlugin")}),n.enabled&&this.renderNotificationPlugin(n,"NotificationPlugin"),i.a.createElement(l.Form.Field,{className:"dwkitadmin-toolbar-editform"},i.a.createElement(l.Button,{className:"buttontype1",onClick:this.onSave.bind(this)},DWKitAdminLang.button.save),i.a.createElement(l.Button,{className:"buttontype2",onClick:this.onCancel.bind(this)},DWKitAdminLang.button.cancel)))}},{key:"onChange",value:function(e,t,n){var r=n.name,o=n.value,n=n.checked;this.state[e][r]=null==o?n:o,this.setUpdatedState(this.state[e]),this.forceUpdate()}},{key:"onChangeParameter",value:function(e,t,n){var r=n.name,o=n.value,n=n.checked;this.state[e].pluginSettings[r]=null==o?n:o,this.setUpdatedState(this.state[e]),this.forceUpdate()}},{key:"renderBasicPlugin",value:function(e,t){var n=DWKitAdminLang.plugins.basicplugin,r=[{key:"name",name:n.name,control:"input"},{key:"value",name:n.value,control:"input"}],o=[];this.props.metadata.dataModel.forEach(function(e){o.push({text:e.name,value:e.name})});var a=[{key:"ParentDataModel",name:n.parentmodel,control:"dropdown",options:o},{key:"ChildDataModel",name:n.childmodel,control:"dropdown",options:o},{key:"RefColumn",name:n.customrefcolumn,control:"input"}],e=e.pluginSettings;return i.a.createElement(l.Segment,null,i.a.createElement(l.Form.Group,null,i.a.createElement(l.Form.Input,{name:"MailServer",label:n.mailserver,value:e.MailServer,onChange:this.onChangeParameter.bind(this,t)}),i.a.createElement(l.Form.Input,{name:"MailServerPort",label:n.port,type:"number",value:e.MailServerPort,onChange:this.onChangeParameter.bind(this,t)}),i.a.createElement(l.Form.Checkbox,{name:"MailServerSsl",label:"SSL",checked:e.MailServerSsl,onChange:this.onChangeParameter.bind(this,t)})),i.a.createElement(l.Form.Group,null,i.a.createElement(l.Form.Input,{name:"MailServerLogin",label:n.login,value:e.MailServerLogin,onChange:this.onChangeParameter.bind(this,t)}),i.a.createElement(l.Form.Input,{name:"MailServerPass",label:n.password,type:"password",value:e.MailServerPass,onChange:this.onChangeParameter.bind(this,t)}),i.a.createElement(l.Form.Input,{name:"MailServerFrom",label:n.fromaddress,value:e.MailServerFrom,onChange:this.onChangeParameter.bind(this,t)})),i.a.createElement("h3",null,"Cascade Deletion"),i.a.createElement(c.SemanticCollectionEditor,{columns:a,name:"DeleteCascadeList",value:e.DeleteCascadeList,draggable:!0,onChange:this.onChangeParameter.bind(this,t)}),i.a.createElement("h3",null,"HTTP RequestHeaders"),i.a.createElement(c.SemanticCollectionEditor,{columns:r,name:"RequestHeaders",value:e.RequestHeaders,draggable:!1,onChange:this.onChangeParameter.bind(this,t)}))}},{key:"renderWorkflowPlugin",value:function(e,t){var n=e.pluginSettings,e=DWKitAdminLang.plugins.workflowplugin,r=[];return this.props.metadata.dataModel.forEach(function(e){r.push({text:e.name,value:e.name})}),i.a.createElement(l.Segment,null,i.a.createElement(l.Form,null,i.a.createElement(l.Form.Checkbox,{name:"EnableInboxOutbox",label:e.inoutboxfeature,checked:n.EnableInboxOutbox,onChange:this.onChangeParameter.bind(this,t)}),i.a.createElement(l.Form.Group,null,i.a.createElement(l.Form.Input,{name:"EntityStateColumn",label:e.statecolumn,value:n.EntityStateColumn,onChange:this.onChangeParameter.bind(this,t)}),i.a.createElement(l.Form.Input,{name:"EntityLocalizedStateColumn",label:e.localizedstatecolumn,value:n.EntityLocalizedStateColumn,onChange:this.onChangeParameter.bind(this,t)})),i.a.createElement(l.Form.Checkbox,{name:"EnableDeleteWorkflow",label:e.deleteworkflow,checked:n.EnableDeleteWorkflow,onChange:this.onChangeParameter.bind(this,t)}),n.EnableDeleteWorkflow&&i.a.createElement(l.Form.Dropdown,{selection:!0,multiple:!0,search:!0,options:r,name:"DeleteWorkflowDataModels",label:e.datamodelsforcontrolling,value:n.DeleteWorkflowDataModels,onChange:this.onChangeParameter.bind(this,t)}),i.a.createElement(l.Form.Checkbox,{name:"EnableTransitionHistory",label:e.enabletranshist,checked:n.EnableTransitionHistory,onChange:this.onChangeParameter.bind(this,t)}),n.EnableTransitionHistory&&i.a.createElement(l.Form.Input,{name:"TransitionHistoryModel",label:e.datamodelforstoring,value:n.TransitionHistoryModel,onChange:this.onChangeParameter.bind(this,t)})))}},{key:"renderNotificationPlugin",value:function(e,t){var n=[];this.props.metadata.dataModel.forEach(function(e){n.push({text:e.name,value:e.name})});var r=[];r.push({text:"",value:""}),this.props.metadata.codeActions.forEach(function(e){0==e.type&&r.push({text:e.name,value:e.name})});var o=DWKitAdminLang.plugins.notificationplugin,a=[{key:"Name",name:o.name,control:"input"},{key:"DataModel",name:o.datamodel,control:"dropdown",options:n},{key:"Filter",name:o.filter,control:"dropdown",options:r},{key:"Parameter",name:o.parameter,control:"custom",customControl:s.a,customControlGetPropsFunc:this.actionParameterGetProps.bind(this)}],e=e.pluginSettings;return i.a.createElement(l.Segment,null,i.a.createElement(l.Form,null,i.a.createElement("h3",null,o.objectcounts," ",i.a.createElement(l.Icon,{style:{cursor:"pointer"},onClick:function(){return window.open("https://dwkit.com/documentation/dwkit-solution/signalr/#main-operations")},name:"info"})),i.a.createElement(c.SemanticCollectionEditor,{columns:a,name:"ObjectCountList",value:e.ObjectCountList,draggable:!1,onChange:this.onChangeParameter.bind(this,t)})))}},{key:"actionParameterGetProps",value:function(t){var n=[];return this.props.metadata.dataModel.forEach(function(e){e.name==t.DataModel&&e.attributes.forEach(function(e){n.push(e.name)})}),{suggestions:n.map(function(e){return{caption:e,value:'"'+e+'"',meta:"DataModel Column"}})}}}])&&d(e.prototype,t),n&&d(e,n),o}()},function(e,t,n){"use strict";n.r(t);n=n(11);t.default=n.a},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){var n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";t.byteLength=function(e){var t=u(e),e=t[0],t=t[1];return 3*(e+t)/4-t},t.toByteArray=function(e){var t,n,r=u(e),o=r[0],r=r[1],a=new c(function(e,t){return 3*(e+t)/4-t}(o,r)),i=0,l=0<r?o-4:o;for(n=0;n<l;n+=4)t=s[e.charCodeAt(n)]<<18|s[e.charCodeAt(n+1)]<<12|s[e.charCodeAt(n+2)]<<6|s[e.charCodeAt(n+3)],a[i++]=t>>16&255,a[i++]=t>>8&255,a[i++]=255&t;2===r&&(t=s[e.charCodeAt(n)]<<2|s[e.charCodeAt(n+1)]>>4,a[i++]=255&t);1===r&&(t=s[e.charCodeAt(n)]<<10|s[e.charCodeAt(n+1)]<<4|s[e.charCodeAt(n+2)]>>2,a[i++]=t>>8&255,a[i++]=255&t);return a},t.fromByteArray=function(e){for(var t,n=e.length,r=n%3,o=[],a=0,i=n-r;a<i;a+=16383)o.push(function(e,t,n){for(var r,o=[],a=t;a<n;a+=3)r=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),o.push(function(e){return l[e>>18&63]+l[e>>12&63]+l[e>>6&63]+l[63&e]}(r));return o.join("")}(e,a,i<a+16383?i:a+16383));1==r?(t=e[n-1],o.push(l[t>>2]+l[t<<4&63]+"==")):2==r&&(t=(e[n-2]<<8)+e[n-1],o.push(l[t>>10]+l[t>>4&63]+l[t<<2&63]+"="));return o.join("")};for(var l=[],s=[],c="undefined"!=typeof Uint8Array?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,a=r.length;o<a;++o)l[o]=r[o],s[r.charCodeAt(o)]=o;function u(e){var t=e.length;if(0<t%4)throw new Error("Invalid string. Length must be a multiple of 4");e=e.indexOf("=");return[e=-1===e?t:e,e===t?0:4-e%4]}s["-".charCodeAt(0)]=62,s["_".charCodeAt(0)]=63},function(e,t){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
t.read=function(e,t,n,r,o){var a,i,l=8*o-r-1,s=(1<<l)-1,c=s>>1,u=-7,p=n?o-1:0,d=n?-1:1,n=e[t+p];for(p+=d,a=n&(1<<-u)-1,n>>=-u,u+=l;0<u;a=256*a+e[t+p],p+=d,u-=8);for(i=a&(1<<-u)-1,a>>=-u,u+=r;0<u;i=256*i+e[t+p],p+=d,u-=8);if(0===a)a=1-c;else{if(a===s)return i?NaN:1/0*(n?-1:1);i+=Math.pow(2,r),a-=c}return(n?-1:1)*i*Math.pow(2,a-r)},t.write=function(e,t,n,r,o,a){var i,l,s=8*a-o-1,c=(1<<s)-1,u=c>>1,p=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:a-1,f=r?1:-1,a=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(l=isNaN(t)?1:0,i=c):(i=Math.floor(Math.log(t)/Math.LN2),t*(r=Math.pow(2,-i))<1&&(i--,r*=2),2<=(t+=1<=i+u?p/r:p*Math.pow(2,1-u))*r&&(i++,r/=2),c<=i+u?(l=0,i=c):1<=i+u?(l=(t*r-1)*Math.pow(2,o),i+=u):(l=t*Math.pow(2,u-1)*Math.pow(2,o),i=0));8<=o;e[n+d]=255&l,d+=f,l/=256,o-=8);for(i=i<<o|l,s+=o;0<s;e[n+d]=255&i,d+=f,i/=256,s-=8);e[n+d-f]|=128*a}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}}],f={},g.m=d,g.c=f,g.d=function(e,t,n){g.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},g.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},g.t=function(t,e){if(1&e&&(t=g(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(g.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)g.d(n,r,function(e){return t[e]}.bind(null,r));return n},g.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return g.d(t,"a",t),t},g.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},g.p="",g(g.s=37);function g(e){if(f[e])return f[e].exports;var t=f[e]={i:e,l:!1,exports:{}};return d[e].call(t.exports,t,t.exports,g),t.l=!0,t.exports}var d,f});