!function(n){var r={};function a(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,a),t.l=!0,t.exports}a.m=n,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)a.d(n,r,function(e){return t[e]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=148)}([function(e,t,n){var m=n(2),v=n(22),g=n(13),y=n(14),b=n(19),w="prototype",k=function(e,t,n){var r,a,o,i,l=e&k.F,s=e&k.G,u=e&k.S,c=e&k.P,d=e&k.B,f=s?m:u?m[t]||(m[t]={}):(m[t]||{})[w],p=s?v:v[t]||(v[t]={}),h=p[w]||(p[w]={});for(r in s&&(n=t),n)o=((a=!l&&f&&void 0!==f[r])?f:n)[r],i=d&&a?b(o,m):c&&"function"==typeof o?b(Function.call,o):o,f&&y(f,r,o,e&k.U),p[r]!=o&&g(p,r,i),c&&h[r]!=o&&(h[r]=o)};m.core=v,k.F=1,k.G=2,k.S=4,k.P=8,k.B=16,k.W=32,k.U=64,k.R=128,e.exports=k},function(e,t,n){var r=n(4);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){var r=n(50)("wks"),a=n(33),o=n(2).Symbol,i="function"==typeof o;(e.exports=function(e){return r[e]||(r[e]=i&&o[e]||(i?o:a)("Symbol."+e))}).store=r},function(e,t){e.exports=vendor_038a09727ac867c5ce74},function(e,t,n){e.exports=!n(3)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(1),a=n(94),o=n(23),i=Object.defineProperty;t.f=n(7)?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),a)try{return i(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r=n(25),a=Math.min;e.exports=function(e){return 0<e?a(r(e),9007199254740991):0}},function(e,t,n){var r=n(24);e.exports=function(e){return Object(r(e))}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var r=n(8),a=n(32);e.exports=n(7)?function(e,t,n){return r.f(e,t,a(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var o=n(2),i=n(13),l=n(12),s=n(33)("src"),r="toString",a=Function[r],u=(""+a).split(r);n(22).inspectSource=function(e){return a.call(e)},(e.exports=function(e,t,n,r){var a="function"==typeof n;a&&(l(n,"name")||i(n,"name",t)),e[t]!==n&&(a&&(l(n,s)||i(n,s,e[t]?""+e[t]:u.join(String(t)))),e===o?e[t]=n:r?e[t]?e[t]=n:i(e,t,n):(delete e[t],i(e,t,n)))})(Function.prototype,r,function(){return"function"==typeof this&&this[s]||a.call(this)})},function(e,t,n){function r(e,t,n,r){var a=String(i(e)),o="<"+t;return""!==n&&(o+=" "+n+'="'+String(r).replace(l,"&quot;")+'"'),o+">"+a+"</"+t+">"}var a=n(0),o=n(3),i=n(24),l=/"/g;e.exports=function(t,e){var n={};n[t]=e(r),a(a.P+a.F*o(function(){var e=""[t]('"');return e!==e.toLowerCase()||3<e.split('"').length}),"String",n)}},function(e,t,n){var r=n(47),a=n(24);e.exports=function(e){return r(a(e))}},function(e,t,n){var r=n(48),a=n(32),o=n(16),i=n(23),l=n(12),s=n(94),u=Object.getOwnPropertyDescriptor;t.f=n(7)?u:function(e,t){if(e=o(e),t=i(t,!0),s)try{return u(e,t)}catch(e){}if(l(e,t))return a(!r.f.call(e,t),e[t])}},function(e,t,n){var r=n(12),a=n(10),o=n(67)("IE_PROTO"),i=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=a(e),r(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?i:null}},function(e,t,n){var o=n(11);e.exports=function(r,a,e){if(o(r),void 0===a)return r;switch(e){case 1:return function(e){return r.call(a,e)};case 2:return function(e,t){return r.call(a,e,t)};case 3:return function(e,t,n){return r.call(a,e,t,n)}}return function(){return r.apply(a,arguments)}}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){"use strict";var r=n(3);e.exports=function(e,t){return!!e&&r(function(){t?e.call(null,function(){},1):e.call(null)})}},function(e,t){var n=e.exports={version:"2.5.3"};"number"==typeof __e&&(__e=n)},function(e,t,n){var a=n(4);e.exports=function(e,t){if(!a(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!a(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!a(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!a(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(0<e?r:n)(e)}},function(e,t,n){var a=n(0),o=n(22),i=n(3);e.exports=function(e,t){var n=(o.Object||{})[e]||Object[e],r={};r[e]=t(n),a(a.S+a.F*i(function(){n(1)}),"Object",r)}},function(e,t,n){var b=n(19),w=n(47),k=n(10),E=n(9),r=n(84);e.exports=function(d,e){var f=1==d,p=2==d,h=3==d,m=4==d,v=6==d,g=5==d||v,y=e||r;return function(e,t,n){for(var r,a,o=k(e),i=w(o),l=b(t,n,3),s=E(i.length),u=0,c=f?y(e,s):p?y(e,0):void 0;u<s;u++)if((g||u in i)&&(a=l(r=i[u],u,o),d))if(f)c[u]=a;else if(a)switch(d){case 3:return!0;case 5:return r;case 6:return u;case 2:c.push(r)}else if(m)return!1;return v?-1:h||m?m:c}}},function(e,t,n){"use strict";if(n(7)){var g=n(34),y=n(2),b=n(3),w=n(0),k=n(60),r=n(90),h=n(19),E=n(40),a=n(32),C=n(13),o=n(42),i=n(25),_=n(9),O=n(120),l=n(36),s=n(23),u=n(12),S=n(49),x=n(4),m=n(10),v=n(81),A=n(37),D=n(18),F=n(38).f,L=n(83),c=n(33),d=n(5),f=n(27),p=n(51),P=n(58),j=n(86),T=n(45),N=n(55),I=n(39),M=n(85),R=n(110),V=n(8),W=n(17),B=V.f,z=W.f,K=y.RangeError,U=y.TypeError,G=y.Uint8Array,q="ArrayBuffer",H="Shared"+q,$="BYTES_PER_ELEMENT",Y="prototype",J=Array[Y],Q=r.ArrayBuffer,Z=r.DataView,X=f(0),ee=f(2),te=f(3),ne=f(4),re=f(5),ae=f(6),oe=p(!0),ie=p(!1),le=j.values,se=j.keys,ue=j.entries,ce=J.lastIndexOf,de=J.reduce,fe=J.reduceRight,pe=J.join,he=J.sort,me=J.slice,ve=J.toString,ge=J.toLocaleString,ye=d("iterator"),be=d("toStringTag"),we=c("typed_constructor"),ke=c("def_constructor"),Ee=k.CONSTR,Ce=k.TYPED,_e=k.VIEW,Oe="Wrong length!",Se=f(1,function(e,t){return Le(P(e,e[ke]),t)}),xe=b(function(){return 1===new G(new Uint16Array([1]).buffer)[0]}),Ae=!!G&&!!G[Y].set&&b(function(){new G(1).set({})}),De=function(e,t){var n=i(e);if(n<0||n%t)throw K("Wrong offset!");return n},Fe=function(e){if(x(e)&&Ce in e)return e;throw U(e+" is not a typed array!")},Le=function(e,t){if(!(x(e)&&we in e))throw U("It is not a typed array constructor!");return new e(t)},Pe=function(e,t){return je(P(e,e[ke]),t)},je=function(e,t){for(var n=0,r=t.length,a=Le(e,r);n<r;)a[n]=t[n++];return a},Te=function(e,t,n){B(e,t,{get:function(){return this._d[n]}})},Ne=function(e,t,n){var r,a,o,i,l,s,u=m(e),c=arguments.length,d=1<c?t:void 0,f=void 0!==d,p=L(u);if(null!=p&&!v(p)){for(s=p.call(u),o=[],r=0;!(l=s.next()).done;r++)o.push(l.value);u=o}for(f&&2<c&&(d=h(d,n,2)),r=0,a=_(u.length),i=Le(this,a);r<a;r++)i[r]=f?d(u[r],r):u[r];return i},Ie=function(){for(var e=0,t=arguments.length,n=Le(this,t);e<t;)n[e]=arguments[e++];return n},Me=!!G&&b(function(){ge.call(new G(1))}),Re=function(){return ge.apply(Me?me.call(Fe(this)):Fe(this),arguments)},Ve={copyWithin:function(e,t,n){return R.call(Fe(this),e,t,2<arguments.length?n:void 0)},every:function(e,t){return ne(Fe(this),e,1<arguments.length?t:void 0)},fill:function(e){return M.apply(Fe(this),arguments)},filter:function(e,t){return Pe(this,ee(Fe(this),e,1<arguments.length?t:void 0))},find:function(e,t){return re(Fe(this),e,1<arguments.length?t:void 0)},findIndex:function(e,t){return ae(Fe(this),e,1<arguments.length?t:void 0)},forEach:function(e,t){X(Fe(this),e,1<arguments.length?t:void 0)},indexOf:function(e,t){return ie(Fe(this),e,1<arguments.length?t:void 0)},includes:function(e,t){return oe(Fe(this),e,1<arguments.length?t:void 0)},join:function(e){return pe.apply(Fe(this),arguments)},lastIndexOf:function(e){return ce.apply(Fe(this),arguments)},map:function(e,t){return Se(Fe(this),e,1<arguments.length?t:void 0)},reduce:function(e){return de.apply(Fe(this),arguments)},reduceRight:function(e){return fe.apply(Fe(this),arguments)},reverse:function(){for(var e,t=this,n=Fe(t).length,r=Math.floor(n/2),a=0;a<r;)e=t[a],t[a++]=t[--n],t[n]=e;return t},some:function(e,t){return te(Fe(this),e,1<arguments.length?t:void 0)},sort:function(e){return he.call(Fe(this),e)},subarray:function(e,t){var n=Fe(this),r=n.length,a=l(e,r);return new(P(n,n[ke]))(n.buffer,n.byteOffset+a*n.BYTES_PER_ELEMENT,_((void 0===t?r:l(t,r))-a))}},We=function(e,t){return Pe(this,me.call(Fe(this),e,t))},Be=function(e,t){Fe(this);var n=De(t,1),r=this.length,a=m(e),o=_(a.length),i=0;if(r<o+n)throw K(Oe);for(;i<o;)this[n+i]=a[i++]},ze={entries:function(){return ue.call(Fe(this))},keys:function(){return se.call(Fe(this))},values:function(){return le.call(Fe(this))}},Ke=function(e,t){return x(e)&&e[Ce]&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},Ue=function(e,t){return Ke(e,t=s(t,!0))?a(2,e[t]):z(e,t)},Ge=function(e,t,n){return!(Ke(e,t=s(t,!0))&&x(n)&&u(n,"value"))||u(n,"get")||u(n,"set")||n.configurable||u(n,"writable")&&!n.writable||u(n,"enumerable")&&!n.enumerable?B(e,t,n):(e[t]=n.value,e)};Ee||(W.f=Ue,V.f=Ge),w(w.S+w.F*!Ee,"Object",{getOwnPropertyDescriptor:Ue,defineProperty:Ge}),b(function(){ve.call({})})&&(ve=ge=function(){return pe.call(this)});var qe=o({},Ve);o(qe,ze),C(qe,ye,ze.values),o(qe,{slice:We,set:Be,constructor:function(){},toString:ve,toLocaleString:Re}),Te(qe,"buffer","b"),Te(qe,"byteOffset","o"),Te(qe,"byteLength","l"),Te(qe,"length","e"),B(qe,be,{get:function(){return this[Ce]}}),e.exports=function(e,d,t,a){function f(e,t){B(e,t,{get:function(){return function(e,t){var n=e._d;return n.v[r](t*d+n.o,xe)}(this,t)},set:function(e){return function(e,t,n){var r=e._d;a&&(n=(n=Math.round(n))<0?0:255<n?255:255&n),r.v[o](t*d+r.o,n,xe)}(this,t,e)},enumerable:!0})}var p=e+((a=!!a)?"Clamped":"")+"Array",r="get"+e,o="set"+e,h=y[p],i=h||{},n=h&&D(h),l=!h||!k.ABV,s={},u=h&&h[Y];l?(h=t(function(e,t,n,r){E(e,h,p,"_d");var a,o,i,l,s=0,u=0;if(x(t)){if(!(t instanceof Q||(l=S(t))==q||l==H))return Ce in t?je(h,t):Ne.call(h,t);a=t,u=De(n,d);var c=t.byteLength;if(void 0===r){if(c%d)throw K(Oe);if((o=c-u)<0)throw K(Oe)}else if(c<(o=_(r)*d)+u)throw K(Oe);i=o/d}else i=O(t),a=new Q(o=i*d);for(C(e,"_d",{b:a,o:u,l:o,e:i,v:new Z(a)});s<i;)f(e,s++)}),u=h[Y]=A(qe),C(u,"constructor",h)):b(function(){h(1)})&&b(function(){new h(-1)})&&N(function(e){new h,new h(null),new h(1.5),new h(e)},!0)||(h=t(function(e,t,n,r){var a;return E(e,h,p),x(t)?t instanceof Q||(a=S(t))==q||a==H?void 0!==r?new i(t,De(n,d),r):void 0!==n?new i(t,De(n,d)):new i(t):Ce in t?je(h,t):Ne.call(h,t):new i(O(t))}),X(n!==Function.prototype?F(i).concat(F(n)):F(i),function(e){e in h||C(h,e,i[e])}),h[Y]=u,g||(u.constructor=h));var c=u[ye],m=!!c&&("values"==c.name||null==c.name),v=ze.values;C(h,we,!0),C(u,Ce,p),C(u,_e,!0),C(u,ke,h),(a?new h(1)[be]==p:be in u)||B(u,be,{get:function(){return p}}),s[p]=h,w(w.G+w.W+w.F*(h!=i),s),w(w.S,p,{BYTES_PER_ELEMENT:d}),w(w.S+w.F*b(function(){i.of.call(h,1)}),p,{from:Ne,of:Ie}),$ in u||C(u,$,d),w(w.P,p,Ve),I(p),w(w.P+w.F*Ae,p,{set:Be}),w(w.P+w.F*!m,p,ze),g||u.toString==ve||(u.toString=ve),w(w.P+w.F*b(function(){new h(1).slice()}),p,{slice:We}),w(w.P+w.F*(b(function(){return[1,2].toLocaleString()!=new h([1,2]).toLocaleString()})||!b(function(){u.toLocaleString.call([1,2])})),p,{toLocaleString:Re}),T[p]=m?c:v,g||m||C(u,ye,v)}}else e.exports=function(){}},function(e,t,n){function a(e,t,n){var r=l.get(e);if(!r){if(!n)return;l.set(e,r=new o)}var a=r.get(t);if(!a){if(!n)return;r.set(t,a=new o)}return a}var o=n(115),r=n(0),i=n(50)("metadata"),l=i.store||(i.store=new(n(118)));e.exports={store:l,map:a,has:function(e,t,n){var r=a(t,n,!1);return void 0!==r&&r.has(e)},get:function(e,t,n){var r=a(t,n,!1);return void 0===r?void 0:r.get(e)},set:function(e,t,n,r){a(n,r,!0).set(e,t)},keys:function(e,t){var n=a(e,t,!1),r=[];return n&&n.forEach(function(e,t){r.push(t)}),r},key:function(e){return void 0===e||"symbol"==typeof e?e:String(e)},exp:function(e){r(r.S,"Reflect",e)}}},function(e,t,n){function r(e){l(e,a,{value:{i:"O"+ ++s,w:{}}})}var a=n(33)("meta"),o=n(4),i=n(12),l=n(8).f,s=0,u=Object.isExtensible||function(){return!0},c=!n(3)(function(){return u(Object.preventExtensions({}))}),d=e.exports={KEY:a,NEED:!1,fastKey:function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!i(e,a)){if(!u(e))return"F";if(!t)return"E";r(e)}return e[a].i},getWeak:function(e,t){if(!i(e,a)){if(!u(e))return!0;if(!t)return!1;r(e)}return e[a].w},onFreeze:function(e){return c&&d.NEED&&u(e)&&!i(e,a)&&r(e),e}}},function(e,t,n){var r=n(5)("unscopables"),a=Array.prototype;null==a[r]&&n(13)(a,r,{}),e.exports=function(e){a[r][e]=!0}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t){e.exports=!1},function(e,t,n){var r=n(96),a=n(68);e.exports=Object.keys||function(e){return r(e,a)}},function(e,t,n){var r=n(25),a=Math.max,o=Math.min;e.exports=function(e,t){return(e=r(e))<0?a(e+t,0):o(e,t)}},function(e,t,r){function a(){}var o=r(1),i=r(97),l=r(68),s=r(67)("IE_PROTO"),u="prototype",c=function(){var e,t=r(65)("iframe"),n=l.length;for(t.style.display="none",r(69).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),c=e.F;n--;)delete c[u][l[n]];return c()};e.exports=Object.create||function(e,t){var n;return null!==e?(a[u]=o(e),n=new a,a[u]=null,n[s]=e):n=c(),void 0===t?n:i(n,t)}},function(e,t,n){var r=n(96),a=n(68).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,a)}},function(e,t,n){"use strict";var r=n(2),a=n(8),o=n(7),i=n(5)("species");e.exports=function(e){var t=r[e];o&&t&&!t[i]&&a.f(t,i,{configurable:!0,get:function(){return this}})}},function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){var f=n(19),p=n(108),h=n(81),m=n(1),v=n(9),g=n(83),y={},b={};(t=e.exports=function(e,t,n,r,a){var o,i,l,s,u=a?function(){return e}:g(e),c=f(n,r,t?2:1),d=0;if("function"!=typeof u)throw TypeError(e+" is not iterable!");if(h(u)){for(o=v(e.length);d<o;d++)if((s=t?c(m(i=e[d])[0],i[1]):c(e[d]))===y||s===b)return s}else for(l=u.call(e);!(i=l.next()).done;)if((s=p(l,c,i.value,t))===y||s===b)return s}).BREAK=y,t.RETURN=b},function(e,t,n){var a=n(14);e.exports=function(e,t,n){for(var r in t)a(e,r,t[r],n);return e}},function(e,t,n){var r=n(8).f,a=n(12),o=n(5)("toStringTag");e.exports=function(e,t,n){e&&!a(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},function(e,t,n){function r(e,t,n){var r={},a=l(function(){return!!s[e]()||"​"!="​"[e]()}),o=r[e]=a?t(d):s[e];n&&(r[n]=o),i(i.P+i.F*a,"String",r)}var i=n(0),a=n(24),l=n(3),s=n(71),o="["+s+"]",u=RegExp("^"+o+o+"*"),c=RegExp(o+o+"*$"),d=r.trim=function(e,t){return e=String(a(e)),1&t&&(e=e.replace(u,"")),2&t&&(e=e.replace(c,"")),e};e.exports=r},function(e,t){e.exports={}},function(e,t,n){var r=n(4);e.exports=function(e,t){if(!r(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},function(e,t,n){var r=n(20);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){var a=n(20),o=n(5)("toStringTag"),i="Arguments"==a(function(){return arguments}());e.exports=function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),o))?n:i?a(t):"Object"==(r=a(t))&&"function"==typeof t.callee?"Arguments":r}},function(e,t,n){var r=n(2),a="__core-js_shared__",o=r[a]||(r[a]={});e.exports=function(e){return o[e]||(o[e]={})}},function(e,t,n){var s=n(16),u=n(9),c=n(36);e.exports=function(l){return function(e,t,n){var r,a=s(e),o=u(a.length),i=c(n,o);if(l&&t!=t){for(;i<o;)if((r=a[i++])!=r)return!0}else for(;i<o;i++)if((l||i in a)&&a[i]===t)return l||i||0;return!l&&-1}}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var r=n(20);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(4),a=n(20),o=n(5)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==a(e))}},function(e,t,n){var o=n(5)("iterator"),i=!1;try{var r=[7][o]();r.return=function(){i=!0},Array.from(r,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var r=[7],a=r[o]();a.next=function(){return{done:n=!0}},r[o]=function(){return a},e(r)}catch(e){}return n}},function(e,t,n){"use strict";var r=n(1);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,n){"use strict";var l=n(13),s=n(14),u=n(3),c=n(24),d=n(5);e.exports=function(t,e,n){var r=d(t),a=n(c,r,""[t]),o=a[0],i=a[1];u(function(){var e={};return e[r]=function(){return 7},7!=""[t](e)})&&(s(String.prototype,t,o),l(RegExp.prototype,r,2==e?function(e,t){return i.call(e,this,t)}:function(e){return i.call(e,this)}))}},function(e,t,n){var a=n(1),o=n(11),i=n(5)("species");e.exports=function(e,t){var n,r=a(e).constructor;return void 0===r||null==(n=a(r)[i])?t:o(n)}},function(e,t,n){"use strict";var g=n(2),y=n(0),b=n(14),w=n(42),k=n(30),E=n(41),C=n(40),_=n(4),O=n(3),S=n(55),x=n(43),A=n(72);e.exports=function(r,e,t,n,a,o){function i(e){var n=c[e];b(c,e,"delete"==e?function(e){return!(o&&!_(e))&&n.call(this,0===e?0:e)}:"has"==e?function(e){return!(o&&!_(e))&&n.call(this,0===e?0:e)}:"get"==e?function(e){return o&&!_(e)?void 0:n.call(this,0===e?0:e)}:"add"==e?function(e){return n.call(this,0===e?0:e),this}:function(e,t){return n.call(this,0===e?0:e,t),this})}var l=g[r],s=l,u=a?"set":"add",c=s&&s.prototype,d={};if("function"==typeof s&&(o||c.forEach&&!O(function(){(new s).entries().next()}))){var f=new s,p=f[u](o?{}:-0,1)!=f,h=O(function(){f.has(1)}),m=S(function(e){new s(e)}),v=!o&&O(function(){for(var e=new s,t=5;t--;)e[u](t,t);return!e.has(-0)});m||(((s=e(function(e,t){C(e,s,r);var n=A(new l,e,s);return null!=t&&E(t,a,n[u],n),n})).prototype=c).constructor=s),(h||v)&&(i("delete"),i("has"),a&&i("get")),(v||p)&&i(u),o&&c.clear&&delete c.clear}else s=n.getConstructor(e,r,a,u),w(s.prototype,t),k.NEED=!0;return x(s,r),d[r]=s,y(y.G+y.W+y.F*(s!=l),d),o||n.setStrong(s,r,a),s}},function(e,t,n){for(var r,a=n(2),o=n(13),i=n(33),l=i("typed_array"),s=i("view"),u=!(!a.ArrayBuffer||!a.DataView),c=u,d=0,f="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");d<9;)(r=a[f[d++]])?(o(r.prototype,l,!0),o(r.prototype,s,!0)):c=!1;e.exports={ABV:u,CONSTR:c,TYPED:l,VIEW:s}},function(e,t,n){"use strict";e.exports=n(34)||!n(3)(function(){var e=Math.random();__defineSetter__.call(null,e,function(){}),delete n(2)[e]})},function(e,t,n){"use strict";var r=n(0);e.exports=function(e){r(r.S,e,{of:function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];return new this(t)}})}},function(e,t,n){"use strict";var r=n(0),s=n(11),u=n(19),c=n(41);e.exports=function(e){r(r.S,e,{from:function(e,t,n){var r,a,o,i,l=t;return s(this),(r=void 0!==l)&&s(l),null==e?new this:(a=[],r?(o=0,i=u(l,n,2),c(e,!1,function(e){a.push(i(e,o++))})):c(e,!1,a.push,a),new this(a))}})}},function(e,t,n){e.exports=n(6)(0)},function(e,t,n){var r=n(4),a=n(2).document,o=r(a)&&r(a.createElement);e.exports=function(e){return o?a.createElement(e):{}}},function(e,t,n){var r=n(2),a=n(22),o=n(34),i=n(95),l=n(8).f;e.exports=function(e){var t=a.Symbol||(a.Symbol=o?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||l(t,e,{value:i.f(e)})}},function(e,t,n){var r=n(50)("keys"),a=n(33);e.exports=function(e){return r[e]||(r[e]=a(e))}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var r=n(2).document;e.exports=r&&r.documentElement},function(e,t,a){function o(e,t){if(r(e),!n(t)&&null!==t)throw TypeError(t+": can't set as prototype!")}var n=a(4),r=a(1);e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,n,r){try{(r=a(19)(Function.call,a(17).f(Object.prototype,"__proto__").set,2))(e,[]),n=!(e instanceof Array)}catch(e){n=!0}return function(e,t){return o(e,t),n?e.__proto__=t:r(e,t),e}}({},!1):void 0),check:o}},function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(e,t,n){var o=n(4),i=n(70).set;e.exports=function(e,t,n){var r,a=t.constructor;return a!==n&&"function"==typeof a&&(r=a.prototype)!==n.prototype&&o(r)&&i&&i(e,r),e}},function(e,t,n){"use strict";var a=n(25),o=n(24);e.exports=function(e){var t=String(o(this)),n="",r=a(e);if(r<0||r==1/0)throw RangeError("Count can't be negative");for(;0<r;(r>>>=1)&&(t+=t))1&r&&(n+=t);return n}},function(e,t){e.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},function(e,t){var n=Math.expm1;e.exports=!n||22025.465794806718<n(10)||n(10)<22025.465794806718||-2e-17!=n(-2e-17)?function(e){return 0==(e=+e)?e:-1e-6<e&&e<1e-6?e+e*e/2:Math.exp(e)-1}:n},function(e,t,n){var s=n(25),u=n(24);e.exports=function(l){return function(e,t){var n,r,a=String(u(e)),o=s(t),i=a.length;return o<0||i<=o?l?"":void 0:(n=a.charCodeAt(o))<55296||56319<n||o+1===i||(r=a.charCodeAt(o+1))<56320||57343<r?l?a.charAt(o):n:l?a.slice(o,o+2):r-56320+(n-55296<<10)+65536}}},function(e,t,n){"use strict";function b(){return this}var w=n(34),k=n(0),E=n(14),C=n(13),_=n(12),O=n(45),S=n(78),x=n(43),A=n(18),D=n(5)("iterator"),F=!([].keys&&"next"in[].keys()),L="values";e.exports=function(e,t,n,r,a,o,i){S(n,t,r);function l(e){if(!F&&e in h)return h[e];switch(e){case"keys":case L:return function(){return new n(this,e)}}return function(){return new n(this,e)}}var s,u,c,d=t+" Iterator",f=a==L,p=!1,h=e.prototype,m=h[D]||h["@@iterator"]||a&&h[a],v=!F&&m||l(a),g=a?f?l("entries"):v:void 0,y="Array"==t&&h.entries||m;if(y&&(c=A(y.call(new e)))!==Object.prototype&&c.next&&(x(c,d,!0),w||_(c,D)||C(c,D,b)),f&&m&&m.name!==L&&(p=!0,v=function(){return m.call(this)}),w&&!i||!F&&!p&&h[D]||C(h,D,v),O[t]=v,O[d]=b,a)if(s={values:f?v:l(L),keys:o?v:l("keys"),entries:g},i)for(u in s)u in h||E(h,u,s[u]);else k(k.P+k.F*(F||p),t,s);return s}},function(e,t,n){"use strict";var r=n(37),a=n(32),o=n(43),i={};n(13)(i,n(5)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=r(i,{next:a(1,n)}),o(e,t+" Iterator")}},function(e,t,n){var r=n(54),a=n(24);e.exports=function(e,t,n){if(r(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(a(e))}},function(e,t,n){var r=n(5)("match");e.exports=function(t){var n=/./;try{"/./"[t](n)}catch(e){try{return n[r]=!1,!"/./"[t](n)}catch(e){}}return!0}},function(e,t,n){var r=n(45),a=n(5)("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||o[a]===e)}},function(e,t,n){"use strict";var r=n(8),a=n(32);e.exports=function(e,t,n){t in e?r.f(e,t,a(0,n)):e[t]=n}},function(e,t,n){var r=n(49),a=n(5)("iterator"),o=n(45);e.exports=n(22).getIteratorMethod=function(e){if(null!=e)return e[a]||e["@@iterator"]||o[r(e)]}},function(e,t,n){var r=n(241);e.exports=function(e,t){return new(r(e))(t)}},function(e,t,n){"use strict";var u=n(10),c=n(36),d=n(9);e.exports=function(e,t,n){for(var r=u(this),a=d(r.length),o=arguments.length,i=c(1<o?t:void 0,a),l=2<o?n:void 0,s=void 0===l?a:c(l,a);i<s;)r[i++]=e;return r}},function(e,t,n){"use strict";var r=n(31),a=n(111),o=n(45),i=n(16);e.exports=n(77)(Array,"Array",function(e,t){this._t=i(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,a(1)):a(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(e,t,n){function r(){var e=+this;if(b.hasOwnProperty(e)){var t=b[e];delete b[e],t()}}function a(e){r.call(e.data)}var o,i,l,s=n(19),u=n(101),c=n(69),d=n(65),f=n(2),p=f.process,h=f.setImmediate,m=f.clearImmediate,v=f.MessageChannel,g=f.Dispatch,y=0,b={},w="onreadystatechange";h&&m||(h=function(e){for(var t=[],n=1;n<arguments.length;)t.push(arguments[n++]);return b[++y]=function(){u("function"==typeof e?e:Function(e),t)},o(y),y},m=function(e){delete b[e]},"process"==n(20)(p)?o=function(e){p.nextTick(s(r,e,1))}:g&&g.now?o=function(e){g.now(s(r,e,1))}:v?(l=(i=new v).port2,i.port1.onmessage=a,o=s(l.postMessage,l,1)):f.addEventListener&&"function"==typeof postMessage&&!f.importScripts?(o=function(e){f.postMessage(e+"","*")},f.addEventListener("message",a,!1)):o=w in d("script")?function(e){c.appendChild(d("script"))[w]=function(){c.removeChild(this),r.call(e)}}:function(e){setTimeout(s(r,e,1),0)}),e.exports={set:h,clear:m}},function(e,t,n){var l=n(2),s=n(87).set,u=l.MutationObserver||l.WebKitMutationObserver,c=l.process,d=l.Promise,f="process"==n(20)(c);e.exports=function(){function e(){var e,t;for(f&&(e=c.domain)&&e.exit();n;){t=n.fn,n=n.next;try{t()}catch(e){throw n?a():r=void 0,e}}r=void 0,e&&e.enter()}var n,r,a;if(f)a=function(){c.nextTick(e)};else if(!u||l.navigator&&l.navigator.standalone)if(d&&d.resolve){var t=d.resolve();a=function(){t.then(e)}}else a=function(){s.call(l,e)};else{var o=!0,i=document.createTextNode("");new u(e).observe(i,{characterData:!0}),a=function(){i.data=o=!o}}return function(e){var t={fn:e,next:void 0};r&&(r.next=t),n||(n=t,a()),r=t}}},function(e,t,n){"use strict";var a=n(11);function r(e){var n,r;this.promise=new e(function(e,t){if(void 0!==n||void 0!==r)throw TypeError("Bad Promise constructor");n=e,r=t}),this.resolve=a(n),this.reject=a(r)}e.exports.f=function(e){return new r(e)}},function(e,t,n){"use strict";var r=n(2),a=n(7),o=n(34),i=n(60),l=n(13),s=n(42),u=n(3),c=n(40),d=n(25),f=n(9),p=n(120),h=n(38).f,m=n(8).f,v=n(85),g=n(43),y="ArrayBuffer",b="DataView",w="prototype",k="Wrong index!",E=r[y],C=r[b],_=r.Math,O=r.RangeError,S=r.Infinity,x=E,A=_.abs,D=_.pow,F=_.floor,L=_.log,P=_.LN2,j="byteLength",T="byteOffset",N=a?"_b":"buffer",I=a?"_l":j,M=a?"_o":T;function R(e,t,n){var r,a,o,i=new Array(n),l=8*n-t-1,s=(1<<l)-1,u=s>>1,c=23===t?D(2,-24)-D(2,-77):0,d=0,f=e<0||0===e&&1/e<0?1:0;for((e=A(e))!=e||e===S?(a=e!=e?1:0,r=s):(r=F(L(e)/P),e*(o=D(2,-r))<1&&(r--,o*=2),2<=(e+=1<=r+u?c/o:c*D(2,1-u))*o&&(r++,o/=2),s<=r+u?(a=0,r=s):1<=r+u?(a=(e*o-1)*D(2,t),r+=u):(a=e*D(2,u-1)*D(2,t),r=0));8<=t;i[d++]=255&a,a/=256,t-=8);for(r=r<<t|a,l+=t;0<l;i[d++]=255&r,r/=256,l-=8);return i[--d]|=128*f,i}function V(e,t,n){var r,a=8*n-t-1,o=(1<<a)-1,i=o>>1,l=a-7,s=n-1,u=e[s--],c=127&u;for(u>>=7;0<l;c=256*c+e[s],s--,l-=8);for(r=c&(1<<-l)-1,c>>=-l,l+=t;0<l;r=256*r+e[s],s--,l-=8);if(0===c)c=1-i;else{if(c===o)return r?NaN:u?-S:S;r+=D(2,t),c-=i}return(u?-1:1)*r*D(2,c-t)}function W(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]}function B(e){return[255&e]}function z(e){return[255&e,e>>8&255]}function K(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]}function U(e){return R(e,52,8)}function G(e){return R(e,23,4)}function q(e,t,n){m(e[w],t,{get:function(){return this[n]}})}function H(e,t,n,r){var a=p(+n);if(a+t>e[I])throw O(k);var o=e[N]._b,i=a+e[M],l=o.slice(i,i+t);return r?l:l.reverse()}function $(e,t,n,r,a,o){var i=p(+n);if(i+t>e[I])throw O(k);for(var l=e[N]._b,s=i+e[M],u=r(+a),c=0;c<t;c++)l[s+c]=u[o?c:t-c-1]}if(i.ABV){if(!u(function(){E(1)})||!u(function(){new E(-1)})||u(function(){return new E,new E(1.5),new E(NaN),E.name!=y})){for(var Y,J=(E=function(e){return c(this,E),new x(p(e))})[w]=x[w],Q=h(x),Z=0;Q.length>Z;)(Y=Q[Z++])in E||l(E,Y,x[Y]);o||(J.constructor=E)}var X=new C(new E(2)),ee=C[w].setInt8;X.setInt8(0,2147483648),X.setInt8(1,2147483649),!X.getInt8(0)&&X.getInt8(1)||s(C[w],{setInt8:function(e,t){ee.call(this,e,t<<24>>24)},setUint8:function(e,t){ee.call(this,e,t<<24>>24)}},!0)}else E=function(e){c(this,E,y);var t=p(e);this._b=v.call(new Array(t),0),this[I]=t},C=function(e,t,n){c(this,C,b),c(e,E,b);var r=e[I],a=d(t);if(a<0||r<a)throw O("Wrong offset!");if(r<a+(n=void 0===n?r-a:f(n)))throw O("Wrong length!");this[N]=e,this[M]=a,this[I]=n},a&&(q(E,j,"_l"),q(C,"buffer","_b"),q(C,j,"_l"),q(C,T,"_o")),s(C[w],{getInt8:function(e){return H(this,1,e)[0]<<24>>24},getUint8:function(e){return H(this,1,e)[0]},getInt16:function(e,t){var n=H(this,2,e,t);return(n[1]<<8|n[0])<<16>>16},getUint16:function(e,t){var n=H(this,2,e,t);return n[1]<<8|n[0]},getInt32:function(e,t){return W(H(this,4,e,t))},getUint32:function(e,t){return W(H(this,4,e,t))>>>0},getFloat32:function(e,t){return V(H(this,4,e,t),23,4)},getFloat64:function(e,t){return V(H(this,8,e,t),52,8)},setInt8:function(e,t){$(this,1,e,B,t)},setUint8:function(e,t){$(this,1,e,B,t)},setInt16:function(e,t,n){$(this,2,e,z,t,n)},setUint16:function(e,t,n){$(this,2,e,z,t,n)},setInt32:function(e,t,n){$(this,4,e,K,t,n)},setUint32:function(e,t,n){$(this,4,e,K,t,n)},setFloat32:function(e,t,n){$(this,4,e,G,t,n)},setFloat64:function(e,t,n){$(this,8,e,U,t,n)}});g(E,y),g(C,b),l(C[w],i.VIEW,!0),t[y]=E,t[b]=C},function(e,t,n){var r=n(2).navigator;e.exports=r&&r.userAgent||""},function(e,t,n){e.exports=n(6)(43)},function(e,t,n){e.exports=n(6)(57)},function(e,t,n){e.exports=!n(7)&&!n(3)(function(){return 7!=Object.defineProperty(n(65)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){t.f=n(5)},function(e,t,n){var i=n(12),l=n(16),s=n(51)(!1),u=n(67)("IE_PROTO");e.exports=function(e,t){var n,r=l(e),a=0,o=[];for(n in r)n!=u&&i(r,n)&&o.push(n);for(;t.length>a;)i(r,n=t[a++])&&(~s(o,n)||o.push(n));return o}},function(e,t,n){var i=n(8),l=n(1),s=n(35);e.exports=n(7)?Object.defineProperties:function(e,t){l(e);for(var n,r=s(t),a=r.length,o=0;o<a;)i.f(e,n=r[o++],t[n]);return e}},function(e,t,n){var r=n(16),a=n(38).f,o={}.toString,i="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return i&&"[object Window]"==o.call(e)?function(e){try{return a(e)}catch(e){return i.slice()}}(e):a(r(e))}},function(e,t,n){"use strict";var f=n(35),p=n(52),h=n(48),m=n(10),v=n(47),a=Object.assign;e.exports=!a||n(3)(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=a({},e)[n]||Object.keys(a({},t)).join("")!=r})?function(e,t){for(var n=m(e),r=arguments.length,a=1,o=p.f,i=h.f;a<r;)for(var l,s=v(arguments[a++]),u=o?f(s).concat(o(s)):f(s),c=u.length,d=0;d<c;)i.call(s,l=u[d++])&&(n[l]=s[l]);return n}:a},function(e,t,n){"use strict";var o=n(11),i=n(4),l=n(101),s=[].slice,u={};e.exports=Function.bind||function(t){var n=o(this),r=s.call(arguments,1),a=function(){var e=r.concat(s.call(arguments));return this instanceof a?function(e,t,n){if(!(t in u)){for(var r=[],a=0;a<t;a++)r[a]="a["+a+"]";u[t]=Function("F,a","return new F("+r.join(",")+")")}return u[t](e,n)}(n,e.length,e):l(n,e,t)};return i(n.prototype)&&(a.prototype=n.prototype),a}},function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){var r=n(2).parseInt,a=n(44).trim,o=n(71),i=/^[-+]?0[xX]/;e.exports=8!==r(o+"08")||22!==r(o+"0x16")?function(e,t){var n=a(String(e),3);return r(n,t>>>0||(i.test(n)?16:10))}:r},function(e,t,n){var r=n(2).parseFloat,a=n(44).trim;e.exports=1/r(n(71)+"-0")!=-1/0?function(e){var t=a(String(e),3),n=r(t);return 0===n&&"-"==t.charAt(0)?-0:n}:r},function(e,t,n){var r=n(20);e.exports=function(e,t){if("number"!=typeof e&&"Number"!=r(e))throw TypeError(t);return+e}},function(e,t,n){var r=n(4),a=Math.floor;e.exports=function(e){return!r(e)&&isFinite(e)&&a(e)===e}},function(e,t){e.exports=Math.log1p||function(e){return-1e-8<(e=+e)&&e<1e-8?e-e*e/2:Math.log(1+e)}},function(e,t,n){var o=n(74),r=Math.pow,i=r(2,-52),l=r(2,-23),s=r(2,127)*(2-l),u=r(2,-126);e.exports=Math.fround||function(e){var t,n,r=Math.abs(e),a=o(e);return r<u?a*function(e){return e+1/i-1/i}(r/u/l)*u*l:s<(n=(t=(1+l/i)*r)-(t-r))||n!=n?a*(1/0):a*n}},function(e,t,n){var o=n(1);e.exports=function(t,e,n,r){try{return r?e(o(n)[0],n[1]):e(n)}catch(e){var a=t.return;throw void 0!==a&&o(a.call(t)),e}}},function(e,t,n){var c=n(11),d=n(10),f=n(47),p=n(9);e.exports=function(e,t,n,r,a){c(t);var o=d(e),i=f(o),l=p(o.length),s=a?l-1:0,u=a?-1:1;if(n<2)for(;;){if(s in i){r=i[s],s+=u;break}if(s+=u,a?s<0:l<=s)throw TypeError("Reduce of empty array with no initial value")}for(;a?0<=s:s<l;s+=u)s in i&&(r=t(r,i[s],s,o));return r}},function(e,t,n){"use strict";var c=n(10),d=n(36),f=n(9);e.exports=[].copyWithin||function(e,t,n){var r=c(this),a=f(r.length),o=d(e,a),i=d(t,a),l=2<arguments.length?n:void 0,s=Math.min((void 0===l?a:d(l,a))-i,a-o),u=1;for(i<o&&o<i+s&&(u=-1,i+=s-1,o+=s-1);0<s--;)i in r?r[o]=r[i]:delete r[o],o+=u,i+=u;return r}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){n(7)&&"g"!=/./g.flags&&n(8).f(RegExp.prototype,"flags",{configurable:!0,get:n(56)})},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,n){var r=n(1),a=n(4),o=n(89);e.exports=function(e,t){if(r(e),a(t)&&t.constructor===e)return t;var n=o.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){"use strict";var r=n(116),a=n(46);e.exports=n(59)("Map",function(t){return function(e){return t(this,0<arguments.length?e:void 0)}},{get:function(e){var t=r.getEntry(a(this,"Map"),e);return t&&t.v},set:function(e,t){return r.def(a(this,"Map"),0===e?0:e,t)}},r,!0)},function(e,t,n){"use strict";function i(e,t){var n,r=h(t);if("F"!==r)return e._i[r];for(n=e._f;n;n=n.n)if(n.k==t)return n}var l=n(8).f,s=n(37),u=n(42),c=n(19),d=n(40),f=n(41),r=n(77),a=n(111),o=n(39),p=n(7),h=n(30).fastKey,m=n(46),v=p?"_s":"size";e.exports={getConstructor:function(e,o,n,r){var a=e(function(e,t){d(e,a,o,"_i"),e._t=o,e._i=s(null),e._f=void 0,e._l=void 0,e[v]=0,null!=t&&f(t,n,e[r],e)});return u(a.prototype,{clear:function(){for(var e=m(this,o),t=e._i,n=e._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete t[n.i];e._f=e._l=void 0,e[v]=0},delete:function(e){var t=m(this,o),n=i(t,e);if(n){var r=n.n,a=n.p;delete t._i[n.i],n.r=!0,a&&(a.n=r),r&&(r.p=a),t._f==n&&(t._f=r),t._l==n&&(t._l=a),t[v]--}return!!n},forEach:function(e,t){m(this,o);for(var n,r=c(e,1<arguments.length?t:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(e){return!!i(m(this,o),e)}}),p&&l(a.prototype,"size",{get:function(){return m(this,o)[v]}}),a},def:function(e,t,n){var r,a,o=i(e,t);return o?o.v=n:(e._l=o={i:a=h(t,!0),k:t,v:n,p:r=e._l,n:void 0,r:!1},e._f||(e._f=o),r&&(r.n=o),e[v]++,"F"!==a&&(e._i[a]=o)),e},getEntry:i,setStrong:function(e,n,t){r(e,n,function(e,t){this._t=m(e,n),this._k=t,this._l=void 0},function(){for(var e=this,t=e._k,n=e._l;n&&n.r;)n=n.p;return e._t&&(e._l=n=n?n.n:e._t._f)?a(0,"keys"==t?n.k:"values"==t?n.v:[n.k,n.v]):(e._t=void 0,a(1))},t?"entries":"values",!t,!0),o(n)}}},function(e,t,n){"use strict";var r=n(116),a=n(46);e.exports=n(59)("Set",function(t){return function(e){return t(this,0<arguments.length?e:void 0)}},{add:function(e){return r.def(a(this,"Set"),e=0===e?0:e,e)}},r)},function(e,t,n){"use strict";function r(t){return function(e){return t(this,0<arguments.length?e:void 0)}}var o,a=n(27)(0),i=n(14),l=n(30),s=n(99),u=n(119),c=n(4),d=n(3),f=n(46),p="WeakMap",h=l.getWeak,m=Object.isExtensible,v=u.ufstore,g={},y={get:function(e){if(c(e)){var t=h(e);return!0===t?v(f(this,p)).get(e):t?t[this._i]:void 0}},set:function(e,t){return u.def(f(this,p),e,t)}},b=e.exports=n(59)(p,r,y,u,!0,!0);d(function(){return 7!=(new b).set((Object.freeze||Object)(g),7).get(g)})&&(s((o=u.getConstructor(r,p)).prototype,y),l.NEED=!0,a(["delete","has","get","set"],function(r){var e=b.prototype,a=e[r];i(e,r,function(e,t){if(!c(e)||m(e))return a.call(this,e,t);this._f||(this._f=new o);var n=this._f[r](e,t);return"set"==r?this:n})}))},function(e,t,n){"use strict";function i(e){return e._l||(e._l=new g)}function r(e,t){return h(e.a,function(e){return e[0]===t})}var l=n(42),s=n(30).getWeak,a=n(1),u=n(4),c=n(40),d=n(41),o=n(27),f=n(12),p=n(46),h=o(5),m=o(6),v=0,g=function(){this.a=[]};g.prototype={get:function(e){var t=r(this,e);if(t)return t[1]},has:function(e){return!!r(this,e)},set:function(e,t){var n=r(this,e);n?n[1]=t:this.a.push([e,t])},delete:function(t){var e=m(this.a,function(e){return e[0]===t});return~e&&this.a.splice(e,1),!!~e}},e.exports={getConstructor:function(e,n,r,a){var o=e(function(e,t){c(e,o,n,"_i"),e._t=n,e._i=v++,e._l=void 0,null!=t&&d(t,r,e[a],e)});return l(o.prototype,{delete:function(e){if(!u(e))return!1;var t=s(e);return!0===t?i(p(this,n)).delete(e):t&&f(t,this._i)&&delete t[this._i]},has:function(e){if(!u(e))return!1;var t=s(e);return!0===t?i(p(this,n)).has(e):t&&f(t,this._i)}}),o},def:function(e,t,n){var r=s(a(t),!0);return!0===r?i(e).set(t,n):r[e._i]=n,e},ufstore:i}},function(e,t,n){var r=n(25),a=n(9);e.exports=function(e){if(void 0===e)return 0;var t=r(e),n=a(t);if(t!==n)throw RangeError("Wrong length!");return n}},function(e,t,n){var r=n(38),a=n(52),o=n(1),i=n(2).Reflect;e.exports=i&&i.ownKeys||function(e){var t=r.f(o(e)),n=a.f;return n?t.concat(n(e)):t}},function(e,t,n){"use strict";var h=n(53),m=n(4),v=n(9),g=n(19),y=n(5)("isConcatSpreadable");e.exports=function e(t,n,r,a,o,i,l,s){for(var u,c,d=o,f=0,p=!!l&&g(l,s,3);f<a;){if(f in r){if(u=p?p(r[f],f,n):r[f],c=!1,m(u)&&(c=void 0!==(c=u[y])?!!c:h(u)),c&&0<i)d=e(t,n,u,v(u.length),d,i-1)-1;else{if(9007199254740991<=d)throw TypeError();t[d]=u}d++}f++}return d}},function(e,t,n){var c=n(9),d=n(73),f=n(24);e.exports=function(e,t,n,r){var a=String(f(e)),o=a.length,i=void 0===n?" ":String(n),l=c(t);if(l<=o||""==i)return a;var s=l-o,u=d.call(i,Math.ceil(s/i.length));return u.length>s&&(u=u.slice(0,s)),r?u+a:a+u}},function(e,t,n){var s=n(35),u=n(16),c=n(48).f;e.exports=function(l){return function(e){for(var t,n=u(e),r=s(n),a=r.length,o=0,i=[];o<a;)c.call(n,t=r[o++])&&i.push(l?[t,n[t]]:n[t]);return i}}},function(e,t,n){var r=n(49),a=n(126);e.exports=function(e){return function(){if(r(this)!=e)throw TypeError(e+"#toJSON isn't generic");return a(this)}}},function(e,t,n){var r=n(41);e.exports=function(e,t){var n=[];return r(e,!1,n.push,n,t),n}},function(e,t){e.exports=Math.scale||function(e,t,n,r,a){return 0===arguments.length||e!=e||t!=t||n!=n||r!=r||a!=a?NaN:e===1/0||e===-1/0?e:(e-t)*(a-r)/(n-t)+r}},function(e,t,n){e.exports=n(6)(844)},function(e,t,n){e.exports=n(6)(809)},function(e,t,n){e.exports=n(6)(1062)},function(e,t,n){e.exports=n(6)(12)},function(e,t,n){e.exports=n(6)(1070)},function(e,t,n){e.exports=n(6)(1059)},function(e,t,n){e.exports=n(6)(1058)},function(e,t,n){e.exports=n(6)(811)},function(e,t,n){e.exports=n(6)(833)},function(e,t,n){e.exports=n(6)(1073)},function(e,t,n){e.exports=n(6)(1080)},function(e,t,n){e.exports=n(6)(1102)},function(e,t,n){e.exports=n(6)(47)},function(e,t,n){e.exports=n(6)(1197)},function(e,t,n){e.exports=n(6)(1096)},function(e,t,n){e.exports=n(6)(807)},function(e,t,n){"use strict";var o=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===r}(e)}(e)};var r="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function i(e,t){return t&&!0===t.clone&&o(e)?l(function(e){return Array.isArray(e)?[]:{}}(e),e,t):e}function a(n,e,r){var a=n.slice();return e.forEach(function(e,t){void 0===a[t]?a[t]=i(e,r):o(e)?a[t]=l(n[t],e,r):-1===n.indexOf(e)&&a.push(i(e,r))}),a}function l(e,t,n){var r=Array.isArray(t);return r===Array.isArray(e)?r?((n||{arrayMerge:a}).arrayMerge||a)(e,t,n):function(t,n,r){var a={};return o(t)&&Object.keys(t).forEach(function(e){a[e]=i(t[e],r)}),Object.keys(n).forEach(function(e){o(n[e])&&t[e]?a[e]=l(t[e],n[e],r):a[e]=i(n[e],r)}),a}(e,t,n):i(t,n)}l.all=function(e,n){if(!Array.isArray(e)||e.length<2)throw new Error("first argument should be an array with at least two elements");return e.reduce(function(e,t){return l(e,t,n)})};var s=l;e.exports=s},function(e,t,n){e.exports=n(6)(1200)},function(e,t,n){e.exports=n(6)(1201)},function(e,t,n){e.exports=n(6)(1199)},function(e,t,n){n(149),e.exports=n(351)},function(e,t,n){"use strict";(function(e){if(n(150),n(347),n(348),e._babelPolyfill)throw new Error("only one instance of babel-polyfill is allowed");e._babelPolyfill=!0;function t(e,t,n){e[t]||Object.defineProperty(e,t,{writable:!0,configurable:!0,value:n})}t(String.prototype,"padLeft","".padStart),t(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach(function(e){[][e]&&t(Array,e,Function.call.bind([][e]))})}).call(this,n(93))},function(e,t,n){n(151),n(153),n(154),n(155),n(156),n(157),n(158),n(159),n(160),n(161),n(162),n(163),n(164),n(165),n(166),n(167),n(169),n(170),n(171),n(172),n(173),n(174),n(175),n(176),n(177),n(178),n(179),n(180),n(181),n(182),n(183),n(184),n(185),n(186),n(187),n(188),n(189),n(190),n(191),n(192),n(193),n(194),n(195),n(196),n(197),n(198),n(199),n(200),n(201),n(202),n(203),n(204),n(205),n(206),n(207),n(208),n(209),n(210),n(211),n(212),n(213),n(214),n(215),n(216),n(217),n(218),n(219),n(220),n(221),n(222),n(223),n(224),n(225),n(226),n(227),n(228),n(229),n(231),n(232),n(234),n(235),n(236),n(237),n(238),n(239),n(240),n(242),n(243),n(244),n(245),n(246),n(247),n(248),n(249),n(250),n(251),n(252),n(253),n(254),n(86),n(255),n(256),n(112),n(257),n(258),n(259),n(260),n(261),n(115),n(117),n(118),n(262),n(263),n(264),n(265),n(266),n(267),n(268),n(269),n(270),n(271),n(272),n(273),n(274),n(275),n(276),n(277),n(278),n(279),n(280),n(281),n(282),n(283),n(284),n(285),n(286),n(287),n(288),n(289),n(290),n(291),n(292),n(293),n(294),n(295),n(296),n(297),n(298),n(299),n(300),n(301),n(302),n(303),n(304),n(305),n(306),n(307),n(308),n(309),n(310),n(311),n(312),n(313),n(314),n(315),n(316),n(317),n(318),n(319),n(320),n(321),n(322),n(323),n(324),n(325),n(326),n(327),n(328),n(329),n(330),n(331),n(332),n(333),n(334),n(335),n(336),n(337),n(338),n(339),n(340),n(341),n(342),n(343),n(344),n(345),n(346),e.exports=n(22)},function(e,t,n){"use strict";function r(e){var t=G[e]=D(M[W]);return t._k=e,t}function a(e,t){_(e);for(var n,r=E(t=S(t)),a=0,o=r.length;a<o;)X(e,n=r[a++],t[n]);return e}function o(e){var t=K.call(this,e=x(e,!0));return!(this===H&&c(G,e)&&!c(q,e))&&(!(t||!c(this,e)||!c(G,e)||c(this,B)&&this[B][e])||t)}function i(e,t){if(e=S(e),t=x(t,!0),e!==H||!c(G,t)||c(q,t)){var n=T(e,t);return!n||!c(G,t)||c(e,B)&&e[B][t]||(n.enumerable=!0),n}}function l(e){for(var t,n=I(S(e)),r=[],a=0;n.length>a;)c(G,t=n[a++])||t==B||t==h||r.push(t);return r}function s(e){for(var t,n=e===H,r=I(n?q:S(e)),a=[],o=0;r.length>o;)!c(G,t=r[o++])||n&&!c(H,t)||a.push(G[t]);return a}var u=n(2),c=n(12),d=n(7),f=n(0),p=n(14),h=n(30).KEY,m=n(3),v=n(50),g=n(43),y=n(33),b=n(5),w=n(95),k=n(66),E=n(152),C=n(53),_=n(1),O=n(4),S=n(16),x=n(23),A=n(32),D=n(37),F=n(98),L=n(17),P=n(8),j=n(35),T=L.f,N=P.f,I=F.f,M=u.Symbol,R=u.JSON,V=R&&R.stringify,W="prototype",B=b("_hidden"),z=b("toPrimitive"),K={}.propertyIsEnumerable,U=v("symbol-registry"),G=v("symbols"),q=v("op-symbols"),H=Object[W],$="function"==typeof M,Y=u.QObject,J=!Y||!Y[W]||!Y[W].findChild,Q=d&&m(function(){return 7!=D(N({},"a",{get:function(){return N(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=T(H,t);r&&delete H[t],N(e,t,n),r&&e!==H&&N(H,t,r)}:N,Z=$&&"symbol"==typeof M.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof M},X=function(e,t,n){return e===H&&X(q,t,n),_(e),t=x(t,!0),_(n),c(G,t)?(n.enumerable?(c(e,B)&&e[B][t]&&(e[B][t]=!1),n=D(n,{enumerable:A(0,!1)})):(c(e,B)||N(e,B,A(1,{})),e[B][t]=!0),Q(e,t,n)):N(e,t,n)};$||(p((M=function(e){if(this instanceof M)throw TypeError("Symbol is not a constructor!");var t=y(0<arguments.length?e:void 0),n=function(e){this===H&&n.call(q,e),c(this,B)&&c(this[B],t)&&(this[B][t]=!1),Q(this,t,A(1,e))};return d&&J&&Q(H,t,{configurable:!0,set:n}),r(t)})[W],"toString",function(){return this._k}),L.f=i,P.f=X,n(38).f=F.f=l,n(48).f=o,n(52).f=s,d&&!n(34)&&p(H,"propertyIsEnumerable",o,!0),w.f=function(e){return r(b(e))}),f(f.G+f.W+f.F*!$,{Symbol:M});for(var ee="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),te=0;ee.length>te;)b(ee[te++]);for(var ne=j(b.store),re=0;ne.length>re;)k(ne[re++]);f(f.S+f.F*!$,"Symbol",{for:function(e){return c(U,e+="")?U[e]:U[e]=M(e)},keyFor:function(e){if(!Z(e))throw TypeError(e+" is not a symbol!");for(var t in U)if(U[t]===e)return t},useSetter:function(){J=!0},useSimple:function(){J=!1}}),f(f.S+f.F*!$,"Object",{create:function(e,t){return void 0===t?D(e):a(D(e),t)},defineProperty:X,defineProperties:a,getOwnPropertyDescriptor:i,getOwnPropertyNames:l,getOwnPropertySymbols:s}),R&&f(f.S+f.F*(!$||m(function(){var e=M();return"[null]"!=V([e])||"{}"!=V({a:e})||"{}"!=V(Object(e))})),"JSON",{stringify:function(e){for(var t,n,r=[e],a=1;a<arguments.length;)r.push(arguments[a++]);if(n=t=r[1],(O(t)||void 0!==e)&&!Z(e))return C(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!Z(t))return t}),r[1]=t,V.apply(R,r)}}),M[W][z]||n(13)(M[W],z,M[W].valueOf),g(M,"Symbol"),g(Math,"Math",!0),g(u.JSON,"JSON",!0)},function(e,t,n){var l=n(35),s=n(52),u=n(48);e.exports=function(e){var t=l(e),n=s.f;if(n)for(var r,a=n(e),o=u.f,i=0;a.length>i;)o.call(e,r=a[i++])&&t.push(r);return t}},function(e,t,n){var r=n(0);r(r.S,"Object",{create:n(37)})},function(e,t,n){var r=n(0);r(r.S+r.F*!n(7),"Object",{defineProperty:n(8).f})},function(e,t,n){var r=n(0);r(r.S+r.F*!n(7),"Object",{defineProperties:n(97)})},function(e,t,n){var r=n(16),a=n(17).f;n(26)("getOwnPropertyDescriptor",function(){return function(e,t){return a(r(e),t)}})},function(e,t,n){var r=n(10),a=n(18);n(26)("getPrototypeOf",function(){return function(e){return a(r(e))}})},function(e,t,n){var r=n(10),a=n(35);n(26)("keys",function(){return function(e){return a(r(e))}})},function(e,t,n){n(26)("getOwnPropertyNames",function(){return n(98).f})},function(e,t,n){var r=n(4),a=n(30).onFreeze;n(26)("freeze",function(t){return function(e){return t&&r(e)?t(a(e)):e}})},function(e,t,n){var r=n(4),a=n(30).onFreeze;n(26)("seal",function(t){return function(e){return t&&r(e)?t(a(e)):e}})},function(e,t,n){var r=n(4),a=n(30).onFreeze;n(26)("preventExtensions",function(t){return function(e){return t&&r(e)?t(a(e)):e}})},function(e,t,n){var r=n(4);n(26)("isFrozen",function(t){return function(e){return!r(e)||!!t&&t(e)}})},function(e,t,n){var r=n(4);n(26)("isSealed",function(t){return function(e){return!r(e)||!!t&&t(e)}})},function(e,t,n){var r=n(4);n(26)("isExtensible",function(t){return function(e){return!!r(e)&&(!t||t(e))}})},function(e,t,n){var r=n(0);r(r.S+r.F,"Object",{assign:n(99)})},function(e,t,n){var r=n(0);r(r.S,"Object",{is:n(168)})},function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},function(e,t,n){var r=n(0);r(r.S,"Object",{setPrototypeOf:n(70).set})},function(e,t,n){"use strict";var r=n(49),a={};a[n(5)("toStringTag")]="z",a+""!="[object z]"&&n(14)(Object.prototype,"toString",function(){return"[object "+r(this)+"]"},!0)},function(e,t,n){var r=n(0);r(r.P,"Function",{bind:n(100)})},function(e,t,n){var r=n(8).f,a=Function.prototype,o=/^\s*function ([^ (]*)/;"name"in a||n(7)&&r(a,"name",{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(e){return""}}})},function(e,t,n){"use strict";var r=n(4),a=n(18),o=n(5)("hasInstance"),i=Function.prototype;o in i||n(8).f(i,o,{value:function(e){if("function"!=typeof this||!r(e))return!1;if(!r(this.prototype))return e instanceof this;for(;e=a(e);)if(this.prototype===e)return!0;return!1}})},function(e,t,n){var r=n(0),a=n(102);r(r.G+r.F*(parseInt!=a),{parseInt:a})},function(e,t,n){var r=n(0),a=n(103);r(r.G+r.F*(parseFloat!=a),{parseFloat:a})},function(e,t,n){"use strict";function r(e){var t=c(e,!1);if("string"==typeof t&&2<t.length){var n,r,a,o=(t=b?t.trim():p(t,3)).charCodeAt(0);if(43===o||45===o){if(88===(n=t.charCodeAt(2))||120===n)return NaN}else if(48===o){switch(t.charCodeAt(1)){case 66:case 98:r=2,a=49;break;case 79:case 111:r=8,a=55;break;default:return+t}for(var i,l=t.slice(2),s=0,u=l.length;s<u;s++)if((i=l.charCodeAt(s))<48||a<i)return NaN;return parseInt(l,r)}}return+t}var a=n(2),o=n(12),i=n(20),l=n(72),c=n(23),s=n(3),u=n(38).f,d=n(17).f,f=n(8).f,p=n(44).trim,h="Number",m=a[h],v=m,g=m.prototype,y=i(n(37)(g))==h,b="trim"in String.prototype;if(!m(" 0o1")||!m("0b1")||m("+0x1")){m=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof m&&(y?s(function(){g.valueOf.call(n)}):i(n)!=h)?l(new v(r(t)),n,m):r(t)};for(var w,k=n(7)?u(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),E=0;k.length>E;E++)o(v,w=k[E])&&!o(m,w)&&f(m,w,d(v,w));(m.prototype=g).constructor=m,n(14)(a,h,m)}},function(e,t,n){"use strict";function u(e,t){for(var n=-1,r=t;++n<6;)r+=e*i[n],i[n]=r%1e7,r=o(r/1e7)}function c(e){for(var t=6,n=0;0<=--t;)n+=i[t],i[t]=o(n/e),n=n%e*1e7}function d(){for(var e=6,t="";0<=--e;)if(""!==t||0===e||0!==i[e]){var n=String(i[e]);t=""===t?n:t+h.call("0",7-n.length)+n}return t}var r=n(0),f=n(25),p=n(104),h=n(73),a=1..toFixed,o=Math.floor,i=[0,0,0,0,0,0],m="Number.toFixed: incorrect invocation!",v=function(e,t,n){return 0===t?n:t%2==1?v(e,t-1,n*e):v(e*e,t/2,n)};r(r.P+r.F*(!!a&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!n(3)(function(){a.call({})})),"Number",{toFixed:function(e){var t,n,r,a,o=p(this,m),i=f(e),l="",s="0";if(i<0||20<i)throw RangeError(m);if(o!=o)return"NaN";if(o<=-1e21||1e21<=o)return String(o);if(o<0&&(l="-",o=-o),1e-21<o)if(n=(t=function(e){for(var t=0,n=e;4096<=n;)t+=12,n/=4096;for(;2<=n;)t+=1,n/=2;return t}(o*v(2,69,1))-69)<0?o*v(2,-t,1):o/v(2,t,1),n*=4503599627370496,0<(t=52-t)){for(u(0,n),r=i;7<=r;)u(1e7,0),r-=7;for(u(v(10,r,1),0),r=t-1;23<=r;)c(1<<23),r-=23;c(1<<r),u(1,1),c(2),s=d()}else u(0,n),u(1<<-t,0),s=d()+h.call("0",i);return s=0<i?l+((a=s.length)<=i?"0."+h.call("0",i-a)+s:s.slice(0,a-i)+"."+s.slice(a-i)):l+s}})},function(e,t,n){"use strict";var r=n(0),a=n(3),o=n(104),i=1..toPrecision;r(r.P+r.F*(a(function(){return"1"!==i.call(1,void 0)})||!a(function(){i.call({})})),"Number",{toPrecision:function(e){var t=o(this,"Number#toPrecision: incorrect invocation!");return void 0===e?i.call(t):i.call(t,e)}})},function(e,t,n){var r=n(0);r(r.S,"Number",{EPSILON:Math.pow(2,-52)})},function(e,t,n){var r=n(0),a=n(2).isFinite;r(r.S,"Number",{isFinite:function(e){return"number"==typeof e&&a(e)}})},function(e,t,n){var r=n(0);r(r.S,"Number",{isInteger:n(105)})},function(e,t,n){var r=n(0);r(r.S,"Number",{isNaN:function(e){return e!=e}})},function(e,t,n){var r=n(0),a=n(105),o=Math.abs;r(r.S,"Number",{isSafeInteger:function(e){return a(e)&&o(e)<=9007199254740991}})},function(e,t,n){var r=n(0);r(r.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(e,t,n){var r=n(0);r(r.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(e,t,n){var r=n(0),a=n(103);r(r.S+r.F*(Number.parseFloat!=a),"Number",{parseFloat:a})},function(e,t,n){var r=n(0),a=n(102);r(r.S+r.F*(Number.parseInt!=a),"Number",{parseInt:a})},function(e,t,n){var r=n(0),a=n(106),o=Math.sqrt,i=Math.acosh;r(r.S+r.F*!(i&&710==Math.floor(i(Number.MAX_VALUE))&&i(1/0)==1/0),"Math",{acosh:function(e){return(e=+e)<1?NaN:94906265.62425156<e?Math.log(e)+Math.LN2:a(e-1+o(e-1)*o(e+1))}})},function(e,t,n){var r=n(0),a=Math.asinh;r(r.S+r.F*!(a&&0<1/a(0)),"Math",{asinh:function e(t){return isFinite(t=+t)&&0!=t?t<0?-e(-t):Math.log(t+Math.sqrt(t*t+1)):t}})},function(e,t,n){var r=n(0),a=Math.atanh;r(r.S+r.F*!(a&&1/a(-0)<0),"Math",{atanh:function(e){return 0==(e=+e)?e:Math.log((1+e)/(1-e))/2}})},function(e,t,n){var r=n(0),a=n(74);r(r.S,"Math",{cbrt:function(e){return a(e=+e)*Math.pow(Math.abs(e),1/3)}})},function(e,t,n){var r=n(0);r(r.S,"Math",{clz32:function(e){return(e>>>=0)?31-Math.floor(Math.log(e+.5)*Math.LOG2E):32}})},function(e,t,n){var r=n(0),a=Math.exp;r(r.S,"Math",{cosh:function(e){return(a(e=+e)+a(-e))/2}})},function(e,t,n){var r=n(0),a=n(75);r(r.S+r.F*(a!=Math.expm1),"Math",{expm1:a})},function(e,t,n){var r=n(0);r(r.S,"Math",{fround:n(107)})},function(e,t,n){var r=n(0),s=Math.abs;r(r.S,"Math",{hypot:function(e,t){for(var n,r,a=0,o=0,i=arguments.length,l=0;o<i;)l<(n=s(arguments[o++]))?(a=a*(r=l/n)*r+1,l=n):a+=0<n?(r=n/l)*r:n;return l===1/0?1/0:l*Math.sqrt(a)}})},function(e,t,n){var r=n(0),a=Math.imul;r(r.S+r.F*n(3)(function(){return-5!=a(4294967295,5)||2!=a.length}),"Math",{imul:function(e,t){var n=65535,r=+e,a=+t,o=n&r,i=n&a;return 0|o*i+((n&r>>>16)*i+o*(n&a>>>16)<<16>>>0)}})},function(e,t,n){var r=n(0);r(r.S,"Math",{log10:function(e){return Math.log(e)*Math.LOG10E}})},function(e,t,n){var r=n(0);r(r.S,"Math",{log1p:n(106)})},function(e,t,n){var r=n(0);r(r.S,"Math",{log2:function(e){return Math.log(e)/Math.LN2}})},function(e,t,n){var r=n(0);r(r.S,"Math",{sign:n(74)})},function(e,t,n){var r=n(0),a=n(75),o=Math.exp;r(r.S+r.F*n(3)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(e){return Math.abs(e=+e)<1?(a(e)-a(-e))/2:(o(e-1)-o(-e-1))*(Math.E/2)}})},function(e,t,n){var r=n(0),a=n(75),o=Math.exp;r(r.S,"Math",{tanh:function(e){var t=a(e=+e),n=a(-e);return t==1/0?1:n==1/0?-1:(t-n)/(o(e)+o(-e))}})},function(e,t,n){var r=n(0);r(r.S,"Math",{trunc:function(e){return(0<e?Math.floor:Math.ceil)(e)}})},function(e,t,n){var r=n(0),o=n(36),i=String.fromCharCode,a=String.fromCodePoint;r(r.S+r.F*(!!a&&1!=a.length),"String",{fromCodePoint:function(e){for(var t,n=[],r=arguments.length,a=0;a<r;){if(t=+arguments[a++],o(t,1114111)!==t)throw RangeError(t+" is not a valid code point");n.push(t<65536?i(t):i(55296+((t-=65536)>>10),t%1024+56320))}return n.join("")}})},function(e,t,n){var r=n(0),i=n(16),l=n(9);r(r.S,"String",{raw:function(e){for(var t=i(e.raw),n=l(t.length),r=arguments.length,a=[],o=0;o<n;)a.push(String(t[o++])),o<r&&a.push(String(arguments[o]));return a.join("")}})},function(e,t,n){"use strict";n(44)("trim",function(e){return function(){return e(this,3)}})},function(e,t,n){"use strict";var r=n(76)(!0);n(77)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},function(e,t,n){"use strict";var r=n(0),a=n(76)(!1);r(r.P,"String",{codePointAt:function(e){return a(this,e)}})},function(e,t,n){"use strict";var r=n(0),l=n(9),s=n(79),u="endsWith",c=""[u];r(r.P+r.F*n(80)(u),"String",{endsWith:function(e,t){var n=s(this,e,u),r=1<arguments.length?t:void 0,a=l(n.length),o=void 0===r?a:Math.min(l(r),a),i=String(e);return c?c.call(n,i,o):n.slice(o-i.length,o)===i}})},function(e,t,n){"use strict";var r=n(0),a=n(79),o="includes";r(r.P+r.F*n(80)(o),"String",{includes:function(e,t){return!!~a(this,e,o).indexOf(e,1<arguments.length?t:void 0)}})},function(e,t,n){var r=n(0);r(r.P,"String",{repeat:n(73)})},function(e,t,n){"use strict";var r=n(0),o=n(9),i=n(79),l="startsWith",s=""[l];r(r.P+r.F*n(80)(l),"String",{startsWith:function(e,t){var n=i(this,e,l),r=o(Math.min(1<arguments.length?t:void 0,n.length)),a=String(e);return s?s.call(n,a,r):n.slice(r,r+a.length)===a}})},function(e,t,n){"use strict";n(15)("anchor",function(t){return function(e){return t(this,"a","name",e)}})},function(e,t,n){"use strict";n(15)("big",function(e){return function(){return e(this,"big","","")}})},function(e,t,n){"use strict";n(15)("blink",function(e){return function(){return e(this,"blink","","")}})},function(e,t,n){"use strict";n(15)("bold",function(e){return function(){return e(this,"b","","")}})},function(e,t,n){"use strict";n(15)("fixed",function(e){return function(){return e(this,"tt","","")}})},function(e,t,n){"use strict";n(15)("fontcolor",function(t){return function(e){return t(this,"font","color",e)}})},function(e,t,n){"use strict";n(15)("fontsize",function(t){return function(e){return t(this,"font","size",e)}})},function(e,t,n){"use strict";n(15)("italics",function(e){return function(){return e(this,"i","","")}})},function(e,t,n){"use strict";n(15)("link",function(t){return function(e){return t(this,"a","href",e)}})},function(e,t,n){"use strict";n(15)("small",function(e){return function(){return e(this,"small","","")}})},function(e,t,n){"use strict";n(15)("strike",function(e){return function(){return e(this,"strike","","")}})},function(e,t,n){"use strict";n(15)("sub",function(e){return function(){return e(this,"sub","","")}})},function(e,t,n){"use strict";n(15)("sup",function(e){return function(){return e(this,"sup","","")}})},function(e,t,n){var r=n(0);r(r.S,"Date",{now:function(){return(new Date).getTime()}})},function(e,t,n){"use strict";var r=n(0),a=n(10),o=n(23);r(r.P+r.F*n(3)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(e){var t=a(this),n=o(t);return"number"!=typeof n||isFinite(n)?t.toISOString():null}})},function(e,t,n){var r=n(0),a=n(230);r(r.P+r.F*(Date.prototype.toISOString!==a),"Date",{toISOString:a})},function(e,t,n){"use strict";function a(e){return 9<e?e:"0"+e}var r=n(3),o=Date.prototype.getTime,i=Date.prototype.toISOString;e.exports=r(function(){return"0385-07-25T07:06:39.999Z"!=i.call(new Date(-5e13-1))})||!r(function(){i.call(new Date(NaN))})?function(){if(!isFinite(o.call(this)))throw RangeError("Invalid time value");var e=this,t=e.getUTCFullYear(),n=e.getUTCMilliseconds(),r=t<0?"-":9999<t?"+":"";return r+("00000"+Math.abs(t)).slice(r?-6:-4)+"-"+a(e.getUTCMonth()+1)+"-"+a(e.getUTCDate())+"T"+a(e.getUTCHours())+":"+a(e.getUTCMinutes())+":"+a(e.getUTCSeconds())+"."+(99<n?n:"0"+a(n))+"Z"}:i},function(e,t,n){var r=Date.prototype,a="Invalid Date",o="toString",i=r[o],l=r.getTime;new Date(NaN)+""!=a&&n(14)(r,o,function(){var e=l.call(this);return e==e?i.call(this):a})},function(e,t,n){var r=n(5)("toPrimitive"),a=Date.prototype;r in a||n(13)(a,r,n(233))},function(e,t,n){"use strict";var r=n(1),a=n(23);e.exports=function(e){if("string"!==e&&"number"!==e&&"default"!==e)throw TypeError("Incorrect hint");return a(r(this),"number"!=e)}},function(e,t,n){var r=n(0);r(r.S,"Array",{isArray:n(53)})},function(e,t,n){"use strict";var h=n(19),r=n(0),m=n(10),v=n(108),g=n(81),y=n(9),b=n(82),w=n(83);r(r.S+r.F*!n(55)(function(e){Array.from(e)}),"Array",{from:function(e,t,n){var r,a,o,i,l=m(e),s="function"==typeof this?this:Array,u=arguments.length,c=1<u?t:void 0,d=void 0!==c,f=0,p=w(l);if(d&&(c=h(c,2<u?n:void 0,2)),null==p||s==Array&&g(p))for(a=new s(r=y(l.length));f<r;f++)b(a,f,d?c(l[f],f):l[f]);else for(i=p.call(l),a=new s;!(o=i.next()).done;f++)b(a,f,d?v(i,c,[o.value,f],!0):o.value);return a.length=f,a}})},function(e,t,n){"use strict";var r=n(0),a=n(82);r(r.S+r.F*n(3)(function(){function e(){}return!(Array.of.call(e)instanceof e)}),"Array",{of:function(){for(var e=0,t=arguments.length,n=new("function"==typeof this?this:Array)(t);e<t;)a(n,e,arguments[e++]);return n.length=t,n}})},function(e,t,n){"use strict";var r=n(0),a=n(16),o=[].join;r(r.P+r.F*(n(47)!=Object||!n(21)(o)),"Array",{join:function(e){return o.call(a(this),void 0===e?",":e)}})},function(e,t,n){"use strict";var r=n(0),a=n(69),u=n(20),c=n(36),d=n(9),f=[].slice;r(r.P+r.F*n(3)(function(){a&&f.call(a)}),"Array",{slice:function(e,t){var n=d(this.length),r=u(this);if(t=void 0===t?n:t,"Array"==r)return f.call(this,e,t);for(var a=c(e,n),o=c(t,n),i=d(o-a),l=new Array(i),s=0;s<i;s++)l[s]="String"==r?this.charAt(a+s):this[a+s];return l}})},function(e,t,n){"use strict";var r=n(0),a=n(11),o=n(10),i=n(3),l=[].sort,s=[1,2,3];r(r.P+r.F*(i(function(){s.sort(void 0)})||!i(function(){s.sort(null)})||!n(21)(l)),"Array",{sort:function(e){return void 0===e?l.call(o(this)):l.call(o(this),a(e))}})},function(e,t,n){"use strict";var r=n(0),a=n(27)(0),o=n(21)([].forEach,!0);r(r.P+r.F*!o,"Array",{forEach:function(e,t){return a(this,e,t)}})},function(e,t,n){var r=n(4),a=n(53),o=n(5)("species");e.exports=function(e){var t;return a(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!a(t.prototype)||(t=void 0),r(t)&&null===(t=t[o])&&(t=void 0)),void 0===t?Array:t}},function(e,t,n){"use strict";var r=n(0),a=n(27)(1);r(r.P+r.F*!n(21)([].map,!0),"Array",{map:function(e,t){return a(this,e,t)}})},function(e,t,n){"use strict";var r=n(0),a=n(27)(2);r(r.P+r.F*!n(21)([].filter,!0),"Array",{filter:function(e,t){return a(this,e,t)}})},function(e,t,n){"use strict";var r=n(0),a=n(27)(3);r(r.P+r.F*!n(21)([].some,!0),"Array",{some:function(e,t){return a(this,e,t)}})},function(e,t,n){"use strict";var r=n(0),a=n(27)(4);r(r.P+r.F*!n(21)([].every,!0),"Array",{every:function(e,t){return a(this,e,t)}})},function(e,t,n){"use strict";var r=n(0),a=n(109);r(r.P+r.F*!n(21)([].reduce,!0),"Array",{reduce:function(e,t){return a(this,e,arguments.length,t,!1)}})},function(e,t,n){"use strict";var r=n(0),a=n(109);r(r.P+r.F*!n(21)([].reduceRight,!0),"Array",{reduceRight:function(e,t){return a(this,e,arguments.length,t,!0)}})},function(e,t,n){"use strict";var r=n(0),a=n(51)(!1),o=[].indexOf,i=!!o&&1/[1].indexOf(1,-0)<0;r(r.P+r.F*(i||!n(21)(o)),"Array",{indexOf:function(e,t){return i?o.apply(this,arguments)||0:a(this,e,t)}})},function(e,t,n){"use strict";var r=n(0),o=n(16),i=n(25),l=n(9),s=[].lastIndexOf,u=!!s&&1/[1].lastIndexOf(1,-0)<0;r(r.P+r.F*(u||!n(21)(s)),"Array",{lastIndexOf:function(e,t){if(u)return s.apply(this,arguments)||0;var n=o(this),r=l(n.length),a=r-1;for(1<arguments.length&&(a=Math.min(a,i(t))),a<0&&(a=r+a);0<=a;a--)if(a in n&&n[a]===e)return a||0;return-1}})},function(e,t,n){var r=n(0);r(r.P,"Array",{copyWithin:n(110)}),n(31)("copyWithin")},function(e,t,n){var r=n(0);r(r.P,"Array",{fill:n(85)}),n(31)("fill")},function(e,t,n){"use strict";var r=n(0),a=n(27)(5),o="find",i=!0;o in[]&&Array(1)[o](function(){i=!1}),r(r.P+r.F*i,"Array",{find:function(e,t){return a(this,e,1<arguments.length?t:void 0)}}),n(31)(o)},function(e,t,n){"use strict";var r=n(0),a=n(27)(6),o="findIndex",i=!0;o in[]&&Array(1)[o](function(){i=!1}),r(r.P+r.F*i,"Array",{findIndex:function(e,t){return a(this,e,1<arguments.length?t:void 0)}}),n(31)(o)},function(e,t,n){n(39)("Array")},function(e,t,n){var r=n(2),o=n(72),a=n(8).f,i=n(38).f,l=n(54),s=n(56),u=r.RegExp,c=u,d=u.prototype,f=/a/g,p=/a/g,h=new u(f)!==f;if(n(7)&&(!h||n(3)(function(){return p[n(5)("match")]=!1,u(f)!=f||u(p)==p||"/a/i"!=u(f,"i")}))){u=function(e,t){var n=this instanceof u,r=l(e),a=void 0===t;return!n&&r&&e.constructor===u&&a?e:o(h?new c(r&&!a?e.source:e,t):c((r=e instanceof u)?e.source:e,r&&a?s.call(e):t),n?this:d,u)};function m(t){t in u||a(u,t,{configurable:!0,get:function(){return c[t]},set:function(e){c[t]=e}})}for(var v=i(c),g=0;v.length>g;)m(v[g++]);(d.constructor=u).prototype=d,n(14)(r,"RegExp",u)}n(39)("RegExp")},function(e,t,n){"use strict";n(112);function r(e){n(14)(RegExp.prototype,l,e,!0)}var a=n(1),o=n(56),i=n(7),l="toString",s=/./[l];n(3)(function(){return"/a/b"!=s.call({source:"a",flags:"b"})})?r(function(){var e=a(this);return"/".concat(e.source,"/","flags"in e?e.flags:!i&&e instanceof RegExp?o.call(e):void 0)}):s.name!=l&&r(function(){return s.call(this)})},function(e,t,n){n(57)("match",1,function(r,a,e){return[function(e){"use strict";var t=r(this),n=null==e?void 0:e[a];return void 0!==n?n.call(e,t):new RegExp(e)[a](String(t))},e]})},function(e,t,n){n(57)("replace",2,function(a,o,i){return[function(e,t){"use strict";var n=a(this),r=null==e?void 0:e[o];return void 0!==r?r.call(e,n,t):i.call(String(n),e,t)},i]})},function(e,t,n){n(57)("search",1,function(r,a,e){return[function(e){"use strict";var t=r(this),n=null==e?void 0:e[a];return void 0!==n?n.call(e,t):new RegExp(e)[a](String(t))},e]})},function(e,t,n){n(57)("split",2,function(a,o,i){"use strict";var p=n(54),h=i,m=[].push,e="split",v="length",g="lastIndex";if("c"=="abbc"[e](/(b)*/)[1]||4!="test"[e](/(?:)/,-1)[v]||2!="ab"[e](/(?:ab)*/)[v]||4!="."[e](/(.?)(.?)/)[v]||1<"."[e](/()()/)[v]||""[e](/.?/)[v]){var y=void 0===/()??/.exec("")[1];i=function(e,t){var n=String(this);if(void 0===e&&0===t)return[];if(!p(e))return h.call(n,e,t);var r,a,o,i,l,s=[],u=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),c=0,d=void 0===t?4294967295:t>>>0,f=new RegExp(e.source,u+"g");for(y||(r=new RegExp("^"+f.source+"$(?!\\s)",u));(a=f.exec(n))&&!(c<(o=a.index+a[0][v])&&(s.push(n.slice(c,a.index)),!y&&1<a[v]&&a[0].replace(r,function(){for(l=1;l<arguments[v]-2;l++)void 0===arguments[l]&&(a[l]=void 0)}),1<a[v]&&a.index<n[v]&&m.apply(s,a.slice(1)),i=a[0][v],c=o,s[v]>=d));)f[g]===a.index&&f[g]++;return c===n[v]?!i&&f.test("")||s.push(""):s.push(n.slice(c)),s[v]>d?s.slice(0,d):s}}else"0"[e](void 0,0)[v]&&(i=function(e,t){return void 0===e&&0===t?[]:h.call(this,e,t)});return[function(e,t){var n=a(this),r=null==e?void 0:e[o];return void 0!==r?r.call(e,n,t):i.call(String(n),e,t)},i]})},function(e,t,n){"use strict";function r(){}function c(e){var t;return!(!v(e)||"function"!=typeof(t=e.then))&&t}function a(u,n){if(!u._n){u._n=!0;var r=u._c;E(function(){for(var l=u._v,s=1==u._s,e=0,t=function(e){var t,n,r=s?e.ok:e.fail,a=e.resolve,o=e.reject,i=e.domain;try{r?(s||(2==u._h&&N(u),u._h=1),!0===r?t=l:(i&&i.enter(),t=r(l),i&&i.exit()),t===e.promise?o(x("Promise-chain cycle")):(n=c(t))?n.call(t,a,o):a(t)):o(l)}catch(e){o(e)}};r.length>e;)t(r[e++]);u._c=[],u._n=!1,n&&!u._h&&j(u)})}}function o(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),a(t,!0))}var i,l,s,u,d=n(34),f=n(2),p=n(19),h=n(49),m=n(0),v=n(4),g=n(11),y=n(40),b=n(41),w=n(58),k=n(87).set,E=n(88)(),C=n(89),_=n(113),O=n(114),S="Promise",x=f.TypeError,A=f.process,D=f[S],F="process"==h(A),L=l=C.f,P=!!function(){try{var e=D.resolve(1),t=(e.constructor={})[n(5)("species")]=function(e){e(r,r)};return(F||"function"==typeof PromiseRejectionEvent)&&e.then(r)instanceof t}catch(e){}}(),j=function(o){k.call(f,function(){var e,t,n,r=o._v,a=T(o);if(a&&(e=_(function(){F?A.emit("unhandledRejection",r,o):(t=f.onunhandledrejection)?t({promise:o,reason:r}):(n=f.console)&&n.error&&n.error("Unhandled promise rejection",r)}),o._h=F||T(o)?2:1),o._a=void 0,a&&e.e)throw e.v})},T=function(e){return 1!==e._h&&0===(e._a||e._c).length},N=function(t){k.call(f,function(){var e;F?A.emit("rejectionHandled",t):(e=f.onrejectionhandled)&&e({promise:t,reason:t._v})})},I=function(e){var n,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===e)throw x("Promise can't be resolved itself");(n=c(e))?E(function(){var t={_w:r,_d:!1};try{n.call(e,p(I,t,1),p(o,t,1))}catch(e){o.call(t,e)}}):(r._v=e,r._s=1,a(r,!1))}catch(e){o.call({_w:r,_d:!1},e)}}};P||(D=function(e){y(this,D,S,"_h"),g(e),i.call(this);try{e(p(I,this,1),p(o,this,1))}catch(e){o.call(this,e)}},(i=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(42)(D.prototype,{then:function(e,t){var n=L(w(this,D));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=F?A.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&a(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),s=function(){var e=new i;this.promise=e,this.resolve=p(I,e,1),this.reject=p(o,e,1)},C.f=L=function(e){return e===D||e===u?new s(e):l(e)}),m(m.G+m.W+m.F*!P,{Promise:D}),n(43)(D,S),n(39)(S),u=n(22)[S],m(m.S+m.F*!P,S,{reject:function(e){var t=L(this);return(0,t.reject)(e),t.promise}}),m(m.S+m.F*(d||!P),S,{resolve:function(e){return O(d&&this===u?D:this,e)}}),m(m.S+m.F*!(P&&n(55)(function(e){D.all(e).catch(r)})),S,{all:function(e){var i=this,t=L(i),l=t.resolve,s=t.reject,n=_(function(){var r=[],a=0,o=1;b(e,!1,function(e){var t=a++,n=!1;r.push(void 0),o++,i.resolve(e).then(function(e){n||(n=!0,r[t]=e,--o||l(r))},s)}),--o||l(r)});return n.e&&s(n.v),t.promise},race:function(e){var t=this,n=L(t),r=n.reject,a=_(function(){b(e,!1,function(e){t.resolve(e).then(n.resolve,r)})});return a.e&&r(a.v),n.promise}})},function(e,t,n){"use strict";var r=n(119),a=n(46),o="WeakSet";n(59)(o,function(t){return function(e){return t(this,0<arguments.length?e:void 0)}},{add:function(e){return r.def(a(this,o),e,!0)}},r,!1,!0)},function(e,t,n){"use strict";var r=n(0),a=n(60),o=n(90),u=n(1),c=n(36),d=n(9),i=n(4),l=n(2).ArrayBuffer,f=n(58),p=o.ArrayBuffer,h=o.DataView,s=a.ABV&&l.isView,m=p.prototype.slice,v=a.VIEW,g="ArrayBuffer";r(r.G+r.W+r.F*(l!==p),{ArrayBuffer:p}),r(r.S+r.F*!a.CONSTR,g,{isView:function(e){return s&&s(e)||i(e)&&v in e}}),r(r.P+r.U+r.F*n(3)(function(){return!new p(2).slice(1,void 0).byteLength}),g,{slice:function(e,t){if(void 0!==m&&void 0===t)return m.call(u(this),e);for(var n=u(this).byteLength,r=c(e,n),a=c(void 0===t?n:t,n),o=new(f(this,p))(d(a-r)),i=new h(this),l=new h(o),s=0;r<a;)l.setUint8(s++,i.getUint8(r++));return o}}),n(39)(g)},function(e,t,n){var r=n(0);r(r.G+r.W+r.F*!n(60).ABV,{DataView:n(90).DataView})},function(e,t,n){n(28)("Int8",1,function(r){return function(e,t,n){return r(this,e,t,n)}})},function(e,t,n){n(28)("Uint8",1,function(r){return function(e,t,n){return r(this,e,t,n)}})},function(e,t,n){n(28)("Uint8",1,function(r){return function(e,t,n){return r(this,e,t,n)}},!0)},function(e,t,n){n(28)("Int16",2,function(r){return function(e,t,n){return r(this,e,t,n)}})},function(e,t,n){n(28)("Uint16",2,function(r){return function(e,t,n){return r(this,e,t,n)}})},function(e,t,n){n(28)("Int32",4,function(r){return function(e,t,n){return r(this,e,t,n)}})},function(e,t,n){n(28)("Uint32",4,function(r){return function(e,t,n){return r(this,e,t,n)}})},function(e,t,n){n(28)("Float32",4,function(r){return function(e,t,n){return r(this,e,t,n)}})},function(e,t,n){n(28)("Float64",8,function(r){return function(e,t,n){return r(this,e,t,n)}})},function(e,t,n){var r=n(0),o=n(11),i=n(1),l=(n(2).Reflect||{}).apply,s=Function.apply;r(r.S+r.F*!n(3)(function(){l(function(){})}),"Reflect",{apply:function(e,t,n){var r=o(e),a=i(n);return l?l(r,t,a):s.call(r,t,a)}})},function(e,t,n){var r=n(0),s=n(37),u=n(11),c=n(1),d=n(4),a=n(3),f=n(100),p=(n(2).Reflect||{}).construct,h=a(function(){function e(){}return!(p(function(){},[],e)instanceof e)}),m=!a(function(){p(function(){})});r(r.S+r.F*(h||m),"Reflect",{construct:function(e,t,n){u(e),c(t);var r=arguments.length<3?e:u(n);if(m&&!h)return p(e,t,r);if(e==r){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var a=[null];return a.push.apply(a,t),new(f.apply(e,a))}var o=r.prototype,i=s(d(o)?o:Object.prototype),l=Function.apply.call(e,i,t);return d(l)?l:i}})},function(e,t,n){var r=n(8),a=n(0),o=n(1),i=n(23);a(a.S+a.F*n(3)(function(){Reflect.defineProperty(r.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(e,t,n){o(e),t=i(t,!0),o(n);try{return r.f(e,t,n),!0}catch(e){return!1}}})},function(e,t,n){var r=n(0),a=n(17).f,o=n(1);r(r.S,"Reflect",{deleteProperty:function(e,t){var n=a(o(e),t);return!(n&&!n.configurable)&&delete e[t]}})},function(e,t,n){"use strict";function r(e){this._t=o(e),this._i=0;var t,n=this._k=[];for(t in e)n.push(t)}var a=n(0),o=n(1);n(78)(r,"Object",function(){var e,t=this._k;do{if(this._i>=t.length)return{value:void 0,done:!0}}while(!((e=t[this._i++])in this._t));return{value:e,done:!1}}),a(a.S,"Reflect",{enumerate:function(e){return new r(e)}})},function(e,t,n){var i=n(17),l=n(18),s=n(12),r=n(0),u=n(4),c=n(1);r(r.S,"Reflect",{get:function e(t,n){var r,a,o=arguments.length<3?t:arguments[2];return c(t)===o?t[n]:(r=i.f(t,n))?s(r,"value")?r.value:void 0!==r.get?r.get.call(o):void 0:u(a=l(t))?e(a,n,o):void 0}})},function(e,t,n){var r=n(17),a=n(0),o=n(1);a(a.S,"Reflect",{getOwnPropertyDescriptor:function(e,t){return r.f(o(e),t)}})},function(e,t,n){var r=n(0),a=n(18),o=n(1);r(r.S,"Reflect",{getPrototypeOf:function(e){return a(o(e))}})},function(e,t,n){var r=n(0);r(r.S,"Reflect",{has:function(e,t){return t in e}})},function(e,t,n){var r=n(0),a=n(1),o=Object.isExtensible;r(r.S,"Reflect",{isExtensible:function(e){return a(e),!o||o(e)}})},function(e,t,n){var r=n(0);r(r.S,"Reflect",{ownKeys:n(121)})},function(e,t,n){var r=n(0),a=n(1),o=Object.preventExtensions;r(r.S,"Reflect",{preventExtensions:function(e){a(e);try{return o&&o(e),!0}catch(e){return!1}}})},function(e,t,n){var s=n(8),u=n(17),c=n(18),d=n(12),r=n(0),f=n(32),p=n(1),h=n(4);r(r.S,"Reflect",{set:function e(t,n,r){var a,o,i=arguments.length<4?t:arguments[3],l=u.f(p(t),n);if(!l){if(h(o=c(t)))return e(o,n,r,i);l=f(0)}return d(l,"value")?!(!1===l.writable||!h(i)||((a=u.f(i,n)||f(0)).value=r,s.f(i,n,a),0)):void 0!==l.set&&(l.set.call(i,r),!0)}})},function(e,t,n){var r=n(0),a=n(70);a&&r(r.S,"Reflect",{setPrototypeOf:function(e,t){a.check(e,t);try{return a.set(e,t),!0}catch(e){return!1}}})},function(e,t,n){"use strict";var r=n(0),a=n(51)(!0);r(r.P,"Array",{includes:function(e,t){return a(this,e,1<arguments.length?t:void 0)}}),n(31)("includes")},function(e,t,n){"use strict";var r=n(0),o=n(122),i=n(10),l=n(9),s=n(11),u=n(84);r(r.P,"Array",{flatMap:function(e,t){var n,r,a=i(this);return s(e),n=l(a.length),r=u(a,0),o(r,a,a,n,0,1,e,t),r}}),n(31)("flatMap")},function(e,t,n){"use strict";var r=n(0),o=n(122),i=n(10),l=n(9),s=n(25),u=n(84);r(r.P,"Array",{flatten:function(e){var t=e,n=i(this),r=l(n.length),a=u(n,0);return o(a,n,n,r,0,void 0===t?1:s(t)),a}}),n(31)("flatten")},function(e,t,n){"use strict";var r=n(0),a=n(76)(!0);r(r.P,"String",{at:function(e){return a(this,e)}})},function(e,t,n){"use strict";var r=n(0),a=n(123),o=n(91);r(r.P+r.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(o),"String",{padStart:function(e,t){return a(this,e,1<arguments.length?t:void 0,!0)}})},function(e,t,n){"use strict";var r=n(0),a=n(123),o=n(91);r(r.P+r.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(o),"String",{padEnd:function(e,t){return a(this,e,1<arguments.length?t:void 0,!1)}})},function(e,t,n){"use strict";n(44)("trimLeft",function(e){return function(){return e(this,1)}},"trimStart")},function(e,t,n){"use strict";n(44)("trimRight",function(e){return function(){return e(this,2)}},"trimEnd")},function(e,t,n){"use strict";function a(e,t){this._r=e,this._s=t}var r=n(0),o=n(24),i=n(9),l=n(54),s=n(56),u=RegExp.prototype;n(78)(a,"RegExp String",function(){var e=this._r.exec(this._s);return{value:e,done:null===e}}),r(r.P,"String",{matchAll:function(e){if(o(this),!l(e))throw TypeError(e+" is not a regexp!");var t=String(this),n="flags"in u?String(e.flags):s.call(e),r=new RegExp(e.source,~n.indexOf("g")?n:"g"+n);return r.lastIndex=i(e.lastIndex),new a(r,t)}})},function(e,t,n){n(66)("asyncIterator")},function(e,t,n){n(66)("observable")},function(e,t,n){var r=n(0),s=n(121),u=n(16),c=n(17),d=n(82);r(r.S,"Object",{getOwnPropertyDescriptors:function(e){for(var t,n,r=u(e),a=c.f,o=s(r),i={},l=0;o.length>l;)void 0!==(n=a(r,t=o[l++]))&&d(i,t,n);return i}})},function(e,t,n){var r=n(0),a=n(124)(!1);r(r.S,"Object",{values:function(e){return a(e)}})},function(e,t,n){var r=n(0),a=n(124)(!0);r(r.S,"Object",{entries:function(e){return a(e)}})},function(e,t,n){"use strict";var r=n(0),a=n(10),o=n(11),i=n(8);n(7)&&r(r.P+n(61),"Object",{__defineGetter__:function(e,t){i.f(a(this),e,{get:o(t),enumerable:!0,configurable:!0})}})},function(e,t,n){"use strict";var r=n(0),a=n(10),o=n(11),i=n(8);n(7)&&r(r.P+n(61),"Object",{__defineSetter__:function(e,t){i.f(a(this),e,{set:o(t),enumerable:!0,configurable:!0})}})},function(e,t,n){"use strict";var r=n(0),a=n(10),o=n(23),i=n(18),l=n(17).f;n(7)&&r(r.P+n(61),"Object",{__lookupGetter__:function(e){var t,n=a(this),r=o(e,!0);do{if(t=l(n,r))return t.get}while(n=i(n))}})},function(e,t,n){"use strict";var r=n(0),a=n(10),o=n(23),i=n(18),l=n(17).f;n(7)&&r(r.P+n(61),"Object",{__lookupSetter__:function(e){var t,n=a(this),r=o(e,!0);do{if(t=l(n,r))return t.set}while(n=i(n))}})},function(e,t,n){var r=n(0);r(r.P+r.R,"Map",{toJSON:n(125)("Map")})},function(e,t,n){var r=n(0);r(r.P+r.R,"Set",{toJSON:n(125)("Set")})},function(e,t,n){n(62)("Map")},function(e,t,n){n(62)("Set")},function(e,t,n){n(62)("WeakMap")},function(e,t,n){n(62)("WeakSet")},function(e,t,n){n(63)("Map")},function(e,t,n){n(63)("Set")},function(e,t,n){n(63)("WeakMap")},function(e,t,n){n(63)("WeakSet")},function(e,t,n){var r=n(0);r(r.G,{global:n(2)})},function(e,t,n){var r=n(0);r(r.S,"System",{global:n(2)})},function(e,t,n){var r=n(0),a=n(20);r(r.S,"Error",{isError:function(e){return"Error"===a(e)}})},function(e,t,n){var r=n(0);r(r.S,"Math",{clamp:function(e,t,n){return Math.min(n,Math.max(t,e))}})},function(e,t,n){var r=n(0);r(r.S,"Math",{DEG_PER_RAD:Math.PI/180})},function(e,t,n){var r=n(0),a=180/Math.PI;r(r.S,"Math",{degrees:function(e){return e*a}})},function(e,t,n){var r=n(0),o=n(127),i=n(107);r(r.S,"Math",{fscale:function(e,t,n,r,a){return i(o(e,t,n,r,a))}})},function(e,t,n){var r=n(0);r(r.S,"Math",{iaddh:function(e,t,n,r){var a=e>>>0,o=n>>>0;return(t>>>0)+(r>>>0)+((a&o|(a|o)&~(a+o>>>0))>>>31)|0}})},function(e,t,n){var r=n(0);r(r.S,"Math",{isubh:function(e,t,n,r){var a=e>>>0,o=n>>>0;return(t>>>0)-(r>>>0)-((~a&o|~(a^o)&a-o>>>0)>>>31)|0}})},function(e,t,n){var r=n(0);r(r.S,"Math",{imulh:function(e,t){var n=+e,r=+t,a=65535&n,o=65535&r,i=n>>16,l=r>>16,s=(i*o>>>0)+(a*o>>>16);return i*l+(s>>16)+((a*l>>>0)+(65535&s)>>16)}})},function(e,t,n){var r=n(0);r(r.S,"Math",{RAD_PER_DEG:180/Math.PI})},function(e,t,n){var r=n(0),a=Math.PI/180;r(r.S,"Math",{radians:function(e){return e*a}})},function(e,t,n){var r=n(0);r(r.S,"Math",{scale:n(127)})},function(e,t,n){var r=n(0);r(r.S,"Math",{umulh:function(e,t){var n=+e,r=+t,a=65535&n,o=65535&r,i=n>>>16,l=r>>>16,s=(i*o>>>0)+(a*o>>>16);return i*l+(s>>>16)+((a*l>>>0)+(65535&s)>>>16)}})},function(e,t,n){var r=n(0);r(r.S,"Math",{signbit:function(e){return(e=+e)!=e?e:0==e?1/e==1/0:0<e}})},function(e,t,n){"use strict";var r=n(0),a=n(22),o=n(2),i=n(58),l=n(114);r(r.P+r.R,"Promise",{finally:function(t){var n=i(this,a.Promise||o.Promise),e="function"==typeof t;return this.then(e?function(e){return l(n,t()).then(function(){return e})}:t,e?function(e){return l(n,t()).then(function(){throw e})}:t)}})},function(e,t,n){"use strict";var r=n(0),a=n(89),o=n(113);r(r.S,"Promise",{try:function(e){var t=a.f(this),n=o(e);return(n.e?t.reject:t.resolve)(n.v),t.promise}})},function(e,t,n){var r=n(29),a=n(1),o=r.key,i=r.set;r.exp({defineMetadata:function(e,t,n,r){i(e,t,a(n),o(r))}})},function(e,t,n){var r=n(29),i=n(1),l=r.key,s=r.map,u=r.store;r.exp({deleteMetadata:function(e,t,n){var r=arguments.length<3?void 0:l(n),a=s(i(t),r,!1);if(void 0===a||!a.delete(e))return!1;if(a.size)return!0;var o=u.get(t);return o.delete(r),!!o.size||u.delete(t)}})},function(e,t,n){var r=n(29),a=n(1),o=n(18),i=r.has,l=r.get,s=r.key,u=function(e,t,n){if(i(e,t,n))return l(e,t,n);var r=o(t);return null!==r?u(e,r,n):void 0};r.exp({getMetadata:function(e,t,n){return u(e,a(t),arguments.length<3?void 0:s(n))}})},function(e,t,n){var o=n(117),i=n(126),r=n(29),a=n(1),l=n(18),s=r.keys,u=r.key,c=function(e,t){var n=s(e,t),r=l(e);if(null===r)return n;var a=c(r,t);return a.length?n.length?i(new o(n.concat(a))):a:n};r.exp({getMetadataKeys:function(e,t){return c(a(e),arguments.length<2?void 0:u(t))}})},function(e,t,n){var r=n(29),a=n(1),o=r.get,i=r.key;r.exp({getOwnMetadata:function(e,t,n){return o(e,a(t),arguments.length<3?void 0:i(n))}})},function(e,t,n){var r=n(29),a=n(1),o=r.keys,i=r.key;r.exp({getOwnMetadataKeys:function(e,t){return o(a(e),arguments.length<2?void 0:i(t))}})},function(e,t,n){var r=n(29),a=n(1),o=n(18),i=r.has,l=r.key,s=function(e,t,n){if(i(e,t,n))return!0;var r=o(t);return null!==r&&s(e,r,n)};r.exp({hasMetadata:function(e,t,n){return s(e,a(t),arguments.length<3?void 0:l(n))}})},function(e,t,n){var r=n(29),a=n(1),o=r.has,i=r.key;r.exp({hasOwnMetadata:function(e,t,n){return o(e,a(t),arguments.length<3?void 0:i(n))}})},function(e,t,n){var r=n(29),a=n(1),o=n(11),i=r.key,l=r.set;r.exp({metadata:function(n,r){return function(e,t){l(n,r,(void 0!==t?a:o)(e),i(t))}}})},function(e,t,n){var r=n(0),a=n(88)(),o=n(2).process,i="process"==n(20)(o);r(r.G,{asap:function(e){var t=i&&o.domain;a(t?t.bind(e):e)}})},function(e,t,n){"use strict";function a(e){return null==e?void 0:p(e)}function o(e){var t=e._c;t&&(e._c=void 0,t())}function i(e){return void 0===e._o}function l(e){i(e)||(e._o=void 0,o(e))}function r(t,e){h(t),this._c=void 0,this._o=t,t=new w(this);try{var n=e(t),r=n;null!=n&&("function"==typeof n.unsubscribe?n=function(){r.unsubscribe()}:p(n),this._c=n)}catch(e){return void t.error(e)}i(this)&&o(this)}var s=n(0),u=n(2),c=n(22),d=n(88)(),f=n(5)("observable"),p=n(11),h=n(1),m=n(40),v=n(42),g=n(13),y=n(41),b=y.RETURN;r.prototype=v({},{unsubscribe:function(){l(this)}});var w=function(e){this._s=e};w.prototype=v({},{next:function(e){var t=this._s;if(!i(t)){var n=t._o;try{var r=a(n.next);if(r)return r.call(n,e)}catch(e){try{l(t)}finally{throw e}}}},error:function(e){var t=this._s;if(i(t))throw e;var n=t._o;t._o=void 0;try{var r=a(n.error);if(!r)throw e;e=r.call(n,e)}catch(e){try{o(t)}finally{throw e}}return o(t),e},complete:function(e){var t=this._s;if(!i(t)){var n=t._o;t._o=void 0;try{var r=a(n.complete);e=r?r.call(n,e):void 0}catch(e){try{o(t)}finally{throw e}}return o(t),e}}});var k=function(e){m(this,k,"Observable","_f")._f=p(e)};v(k.prototype,{subscribe:function(e){return new r(e,this._f)},forEach:function(r){var a=this;return new(c.Promise||u.Promise)(function(e,t){p(r);var n=a.subscribe({next:function(e){try{return r(e)}catch(e){t(e),n.unsubscribe()}},error:t,complete:e})})}}),v(k,{from:function(e){var t="function"==typeof this?this:k,n=a(h(e)[f]);if(n){var r=h(n.call(e));return r.constructor===t?r:new t(function(e){return r.subscribe(e)})}return new t(function(t){var n=!1;return d(function(){if(!n){try{if(y(e,!1,function(e){if(t.next(e),n)return b})===b)return}catch(e){if(n)throw e;return void t.error(e)}t.complete()}}),function(){n=!0}})},of:function(){for(var e=0,t=arguments.length,r=new Array(t);e<t;)r[e]=arguments[e++];return new("function"==typeof this?this:k)(function(t){var n=!1;return d(function(){if(!n){for(var e=0;e<r.length;++e)if(t.next(r[e]),n)return;t.complete()}}),function(){n=!0}})}}),g(k.prototype,f,function(){return this}),s(s.G,{Observable:k}),n(39)("Observable")},function(e,t,n){function r(a){return function(e,t){var n=2<arguments.length,r=n&&l.call(arguments,2);return a(n?function(){("function"==typeof e?e:Function(e)).apply(this,r)}:e,t)}}var a=n(2),o=n(0),i=n(91),l=[].slice,s=/MSIE .\./.test(i);o(o.G+o.B+o.F*s,{setTimeout:r(a.setTimeout),setInterval:r(a.setInterval)})},function(e,t,n){var r=n(0),a=n(87);r(r.G+r.B,{setImmediate:a.set,clearImmediate:a.clear})},function(e,t,n){for(var r=n(86),a=n(35),o=n(14),i=n(2),l=n(13),s=n(45),u=n(5),c=u("iterator"),d=u("toStringTag"),f=s.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},h=a(p),m=0;m<h.length;m++){var v,g=h[m],y=p[g],b=i[g],w=b&&b.prototype;if(w&&(w[c]||l(w,c,f),w[d]||l(w,d,g),s[g]=f,y))for(v in r)w[v]||o(w,v,r[v],!0)}},function(P,e,t){(function(e){!function(e){"use strict";var s,t=Object.prototype,u=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",r=n.asyncIterator||"@@asyncIterator",o=n.toStringTag||"@@toStringTag",i="object"==typeof P,l=e.regeneratorRuntime;if(l)i&&(P.exports=l);else{(l=e.regeneratorRuntime=i?P.exports:{}).wrap=b;var c="suspendedStart",d="suspendedYield",f="executing",p="completed",h={},m={};m[a]=function(){return this};var v=Object.getPrototypeOf,g=v&&v(v(F([])));g&&g!==t&&u.call(g,a)&&(m=g);var y=C.prototype=k.prototype=Object.create(m);E.prototype=y.constructor=C,C.constructor=E,C[o]=E.displayName="GeneratorFunction",l.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===E||"GeneratorFunction"===(t.displayName||t.name))},l.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,C):(e.__proto__=C,o in e||(e[o]="GeneratorFunction")),e.prototype=Object.create(y),e},l.awrap=function(e){return{__await:e}},_(O.prototype),O.prototype[r]=function(){return this},l.AsyncIterator=O,l.async=function(e,t,n,r){var a=new O(b(e,t,n,r));return l.isGeneratorFunction(t)?a:a.next().then(function(e){return e.done?e.value:a.next()})},_(y),y[o]="Generator",y[a]=function(){return this},y.toString=function(){return"[object Generator]"},l.keys=function(n){var r=[];for(var e in n)r.push(e);return r.reverse(),function e(){for(;r.length;){var t=r.pop();if(t in n)return e.value=t,e.done=!1,e}return e.done=!0,e}},l.values=F,D.prototype={constructor:D,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=s,this.done=!1,this.delegate=null,this.method="next",this.arg=s,this.tryEntries.forEach(A),!e)for(var t in this)"t"===t.charAt(0)&&u.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=s)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function e(e,t){return o.type="throw",o.arg=n,r.next=e,t&&(r.method="next",r.arg=s),!!t}for(var t=this.tryEntries.length-1;0<=t;--t){var a=this.tryEntries[t],o=a.completion;if("root"===a.tryLoc)return e("end");if(a.tryLoc<=this.prev){var i=u.call(a,"catchLoc"),l=u.call(a,"finallyLoc");if(i&&l){if(this.prev<a.catchLoc)return e(a.catchLoc,!0);if(this.prev<a.finallyLoc)return e(a.finallyLoc)}else if(i){if(this.prev<a.catchLoc)return e(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return e(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&u.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;A(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:F(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=s),h}}}function b(e,t,n,r){var a=t&&t.prototype instanceof k?t:k,o=Object.create(a.prototype),i=new D(r||[]);return o._invoke=function(o,i,l){var s=c;return function(e,t){if(s===f)throw new Error("Generator is already running");if(s===p){if("throw"===e)throw t;return L()}for(l.method=e,l.arg=t;;){var n=l.delegate;if(n){var r=S(n,l);if(r){if(r===h)continue;return r}}if("next"===l.method)l.sent=l._sent=l.arg;else if("throw"===l.method){if(s===c)throw s=p,l.arg;l.dispatchException(l.arg)}else"return"===l.method&&l.abrupt("return",l.arg);s=f;var a=w(o,i,l);if("normal"===a.type){if(s=l.done?p:d,a.arg===h)continue;return{value:a.arg,done:l.done}}"throw"===a.type&&(s=p,l.method="throw",l.arg=a.arg)}}}(e,n,i),o}function w(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function k(){}function E(){}function C(){}function _(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function O(l){function s(e,t,n,r){var a=w(l[e],l,t);if("throw"!==a.type){var o=a.arg,i=o.value;return i&&"object"==typeof i&&u.call(i,"__await")?Promise.resolve(i.__await).then(function(e){s("next",e,n,r)},function(e){s("throw",e,n,r)}):Promise.resolve(i).then(function(e){o.value=e,n(o)},r)}r(a.arg)}var t;"object"==typeof e.process&&e.process.domain&&(s=e.process.domain.bind(s)),this._invoke=function(n,r){function e(){return new Promise(function(e,t){s(n,r,e,t)})}return t=t?t.then(e,e):e()}}function S(e,t){var n=e.iterator[t.method];if(n===s){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=s,S(e,t),"throw"===t.method))return h;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var r=w(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,h;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=s),t.delegate=null,h):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function D(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function F(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,r=function e(){for(;++n<t.length;)if(u.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=s,e.done=!0,e};return r.next=r}}return{next:L}}function L(){return{value:s,done:!0}}}("object"==typeof e?e:"object"==typeof window?window:"object"==typeof self?self:this)}).call(this,t(93))},function(e,t,n){n(349),e.exports=n(22).RegExp.escape},function(e,t,n){var r=n(0),a=n(350)(/[\\^$*+?.()|[\]{}]/g,"\\$&");r(r.S,"RegExp",{escape:function(e){return a(e)}})},function(e,t){e.exports=function(t,n){var r=n===Object(n)?function(e){return n[e]}:n;return function(e){return String(e).replace(t,r)}}},function(e,t,n){"use strict";var r=l(n(64)),a=n(92),o=l(n(352)),i=n(354);function l(e){return e&&e.__esModule?e:{default:e}}(0,a.render)(r.default.createElement(o.default,{apiUrl:"/configapi",workflowApi:"/workflow/designerapi",imageFolder:"/images/",localizationFolder:"/localization/",autocompleteHub:"/hubs/autocomplete",themesFolder:"/themes/",deltaWidth:0,deltaHeight:0,controlActions:["validate","save","delete","apply","exit","redirect","setFilter","applyFilter","gridCreate","gridEdit","gridCopy","gridDelete","gridRefresh","gridExport","workflowExecuteCommand","workflowSetState","workflowSelectScheme","workflowShowCommandForm","workflowContinueExecution","workflowCancelExecution","refresh","confirm","createElement","changeModel","reload","copy","loadRecord"],returnToAppUrl:"/",externalControlList:i.CustomControls,externalControlRender:i.CustomControlsRender}),document.getElementById("content"))},function(e,o,i){"use strict";(function(e){var t,n,r,a,R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};window,a=function(n,r,a,o,i,l,s,u,c,d,f,p,h,m,v,g,y,b,w,k,E,C){return S={},_.m=O=[function(e,t){e.exports=n},function(e,t){e.exports=r},function(e,t){e.exports=a},function(e,t){e.exports=o},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==R(Symbol.iterator)?function(e){return void 0===e?"undefined":R(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":R(e)},a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=s(n(0)),l=(s(n(2)),n(1));function s(e){return e&&e.__esModule?e:{default:e}}var u,c,d,f=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":R(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(p,i.default.Component),u=p,(c=[{key:"GuidEmpty",value:function(){return"00000000-0000-0000-0000-000000000000"}},{key:"setUpdatedState",value:function(e){null==e.__state&&(e.__state="updated")}},{key:"onSave",value:function(){var t=this,n=[];this.state.data.forEach(function(e){null!=e.__state&&n.push(a({},e,{__type:t.datatype}))}),this.ChangeData(n)}},{key:"ChangeData",value:function(e,t){var n=new Array;n.push({name:"operation",value:"change"}),n.push({name:"items",value:JSON.stringify(e)}),$.ajax({url:this.props.apiUrl,data:n,async:!0,type:"post",success:function(e){e.success?(alertify.success(DWKitAdminLang.msg.saveok),t&&t(e)):alertify.error(e.message)}})}},{key:"СloneObj",value:function(e){if(null==e||"object"!=(void 0===e?"undefined":r(e)))return e;var t=e.constructor();for(var n in e)e.hasOwnProperty(n)&&(t[n]=this.СloneObj(e[n]));return t}},{key:"ResetSystemProps",value:function(e){if(Array.isArray(e))for(var t=0;t<e.length;t++)"deleted"==e[t].__state?(e.splice(t,1),t--):this.ResetSystemProps(e[t]);if("object"==(void 0===e?"undefined":r(e)))for(var n in e)"__state"!=n&&"__type"!=n&&"__error"!=n||(e[n]=void 0)}},{key:"NewGUID",value:function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}},{key:"updateQueryStringParameter",value:function(e,t,n){var r=new RegExp("([?&])"+t+"=.*?(&|#|$)","i");if(void 0===n){if(e.match(r)){var a=e.replace(r,"$1$2");return"&"==a[a.length-1]&&(a=a.substring(0,a.length-1)),a}return e}if(e.match(r))return e.replace(r,"$1"+t+"="+n+"$2");var o="";-1!==e.indexOf("#")&&(o=e.replace(/.*#/,"#"),e=e.replace(/#.*/,""));var i=-1!==e.indexOf("?")?"&":"?";return e+i+t+"="+n+o}},{key:"getQueryString",value:function(){for(var e={},t=window.location.search.substring(1).split("&"),n=0;n<t.length;n++){var r=t[n].split("=");if(void 0===e[r[0]])e[r[0]]=r[1];else if("string"==typeof e[r[0]]){var a=[e[r[0]],r[1]];e[r[0]]=a}else e[r[0]].push(r[1])}return e}},{key:"getProcessLoadError",value:function(e,t){return 0===e.status?DWKitAdminLang.requesterror.status0:404==e.status?DWKitAdminLang.requesterror.status404:500==e.status?DWKitAdminLang.requesterror.status500:"parsererror"===t?DWKitAdminLang.requesterror.parsererror:"timeout"===t?DWKitAdminLang.requesterror.timeout:"abort"===t?DWKitAdminLang.requesterror.abort:DWKitAdminLang.requesterror.uncaught+"\n"+e.responseText}},{key:"RenderLoading",value:function(){var e=this;return Boolean(this.state.progresserror)||(null==this.state.progresspercent&&(this.state.progresspercent=0),this.state.progresspercent<100?setTimeout(function(){e.setState({progresspercent:e.state.progresspercent+1})},250):(this.state.progresserror=!0,this.state.progressmsg=DWKitAdminLang.msg.checkerrors)),i.default.createElement("div",{className:"dwkit-formadmin-loadingscreen"},i.default.createElement("img",{className:"dwkit-formadmin-loadingscreen-logo",src:"/images/logo.svg"}),i.default.createElement("p",null,this.state.progressmsg),i.default.createElement("div",{className:"dwkit-formadmin-loadingscreen-progressbar"},i.default.createElement(l.Progress,{percent:this.state.progresspercent,error:Boolean(this.state.progresserror),indicating:!0})))}},{key:"copyToClipboard",value:function(e){var t=document.createElement("textarea");t.value=e,t.setAttribute("readonly",""),t.style.position="absolute",t.style.left="-9999px",document.body.appendChild(t);var n=0<document.getSelection().rangeCount&&document.getSelection().getRangeAt(0);t.select(),document.execCommand("copy"),document.body.removeChild(t),n&&(document.getSelection().removeAllRanges(),document.getSelection().addRange(n)),alertify.success(DWKitAdminLang.msg.copied)}}])&&o(u.prototype,c),d&&o(u,d),p);function p(e){return function(e){if(!(e instanceof p))throw new TypeError("Cannot call a class as a function")}(this),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":R(t))&&"function"!=typeof t?e:t}(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,e))}t.default=f},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==R(Symbol.iterator)?function(e){return void 0===e?"undefined":R(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":R(e)},a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=c(n(0)),l=c(n(4)),s=n(1),u=c(n(20));function c(e){return e&&e.__esModule?e:{default:e}}var d,f,p,h=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":R(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(m,l.default),d=m,(f=[{key:"createNewObject",value:function(){var e={__state:"inserted"};return e[this.idfield]=this.NewGUID(),e}},{key:"showedit",value:function(e){this.state.editrowid=void 0,this.props.parent.openpage(this.panelindex,e[this.idfield])}},{key:"loadeditrow",value:function(){if(this.state.editrowid=this.props.id,null!=this.props.id){var e=this.getEditRow();this.state.editrow=this.СloneObj(e)}else this.state.editrow=void 0}},{key:"applyeditrow",value:function(){for(var e=this.state.editrow[this.idfield],t=-1,n=this.props.data[this.dataindex],r=0;r<n.length;r++)if(e===n[r][this.idfield]){t=r;break}0<=t?this.props.data[this.dataindex][t]=this.state.editrow:this.props.data[this.dataindex].unshift(this.state.editrow)}},{key:"back",value:function(){this.props.parent.openpage(this.panelindex)}},{key:"getEditRow",value:function(){var e=this.props.id;if("new"===e){var t=this.createNewObject();if(void 0!==this.props.copyid)for(var n=this.props.data[this.dataindex],r=0;r<n.length;r++)if(n[r][this.idfield]===this.props.copyid){for(var a in n[r])void 0===t[a]&&(t[a]=n[r][a]);break}return t}for(var o=this.props.data[this.dataindex],i=0;i<o.length;i++)if(o[i][this.idfield]===e)return o[i];alertify.error(DWKitAdminLang.msg.objectnotfound)}},{key:"render",value:function(){return this.state.editrowid!=this.props.id&&this.loadeditrow(),i.default.createElement("div",null,null==this.props.id?this.renderMainForm():this.renderEditForm())}},{key:"validate",value:function(){return!0}},{key:"reload",value:function(){this.state={},this.forceUpdate()}},{key:"renderMainForm",value:function(){var t=this,e=this,n=(null==this.props.data[this.dataindex]||this.props.data[this.dataindex].length,this.gridColumns()),r="";return 0<n.length&&(r=n[0].key+" ASC"),i.default.createElement("div",null,i.default.createElement("h1",null,this.titleGetter?this.titleGetter(DWKitAdminLang):this.title),this.renderToolbar(),i.default.createElement(u.default,{key:"Formgrid",rowKey:this.idfield,rowHeight:40,columns:this.gridColumns(),defaultSort:r,minHeight:this.state.gridHeight,multiselect:!0,value:this.props.data[this.dataindex],handleEvent:this.gridHandleEvent.bind(this),ref:function(e){t.grid=e}}),i.default.createElement(s.Confirm,{open:this.state.confirmdeleteshow,dimmer:"blurring",content:DWKitAdminLang.msg.confirmdelete,onCancel:function(){e.setState({confirmdeleteshow:!1})},onConfirm:this.onDelete.bind(this)}))}},{key:"renderToolbar",value:function(){var e=this,t=this;return i.default.createElement("div",{className:"dwkitadmin-toolbar"},i.default.createElement(s.Button,{className:"buttontype1",onClick:function(){e.props.parent.openpage(e.panelindex,"new")}},DWKitAdminLang.button.create),i.default.createElement(s.Button,{className:"buttontype2",onClick:function(){t.setState({confirmdeleteshow:!0})}},DWKitAdminLang.button.delete))}},{key:"renderEditForm",value:function(){return i.default.createElement(this.editform,a({},this.props,{parent:this,data:this.state.editrow,ischanged:this.state.ischanged,metadata:this.props.data,handleChange:this.handleChange,onSave:this.onSave,onCancel:this.onCancel}))}},{key:"onSave",value:function(t){var n=this;this.validate()?null!=n.state.editrow.__state?(n.state.editrow.__type=this.datatype,this.ChangeData([n.state.editrow],function(e){n.ResetSystemProps(n.state.editrow),n.applyeditrow(),n.showedit(n.state.editrow),n.state.needGlobalReload&&(n.state.needGlobalReload=void 0,setTimeout(function(){n.props.parent.load(),Pace.stop()},100)),t&&t(e)})):alertify.success(DWKitAdminLang.msg.unchangedobject):alertify.error(DWKitAdminLang.msg.checkerrorsonform)}},{key:"onCancel",value:function(){var e=this.state.editrow;if(this.loadeditrow(),null!=e)for(var t in e)null==this.state.editrow[t]&&null!=e[t]&&"string"==r(e[t])&&(this.state.editrow[t]="");this.forceUpdate()}},{key:"getDefaultObjectCode",value:function(){for(var e=this.defaultNamePrefix,t=0;t<1e3;t++){var n=e+(0===t?"":"_"+t.toString());if(this.validateCode(n)){e=n;break}}return e}},{key:"validateCode",value:function(e){var t=!0,n=this.props.data[this.dataindex];if(null!=n)for(var r=0;r<n.length;r++)if(n[r][this.idfield]==e){t=!1;break}return t}},{key:"onDelete",value:function(){for(var e=this,t=[],n=[],r=this.grid.getSeletedRowKeys(),a=0;a<this.props.data[this.dataindex].length;a++){for(var o=this.props.data[this.dataindex][a],i=!1,l=0;l<r.length;l++)if(o[this.idfield]==r[l]){i=!0;break}if(i){var s=this.props.data[this.dataindex][a];s.__type=this.datatype,s.__state="deleted",n.push(s)}else t.push(this.props.data[this.dataindex][a])}e.setState({confirmdeleteshow:!1}),this.ChangeData(n,function(){e.props.data[e.dataindex]=t,e.grid.resetSelection(),e.forceUpdate()})}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"componentDidMount",value:function(){this._isMounted=!0,this.recalcSizeParams()}},{key:"recalcSizeParams",value:function(){if(this._isMounted){var e=$(window).height();this.setState({gridHeight:e-210-this.props.deltaHeight})}}},{key:"gridColumns",value:function(){return[{key:"code",name:DWKitAdminLang.column.code,resizable:!0}]}},{key:"gridHandleEvent",value:function(e){var t=e.eventName,n=e.parameters;"onRowDblClick"===t&&this.showedit(n.row)}}])&&o(d.prototype,f),p&&o(d,p),m);function m(e){!function(e){if(!(e instanceof m))throw new TypeError("Cannot call a class as a function")}(this);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":R(t))&&"function"!=typeof t?e:t}(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,e));null==t.idfield&&(t.idfield="id"),t.state={openmodal:!1};var n=t;return window.onresize=function(){n.recalcSizeParams()},t}t.default=h},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=n(0);function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":R(t))&&"function"!=typeof t?e:t}var o,l,s,u=n(9),c=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":R(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(d,a.Component),o=d,(l=[{key:"shouldComponentUpdate",value:function(e){return!u(this.props,e)}}])&&r(o.prototype,l),s&&r(o,s),d);function d(){var e,t,n;!function(e){if(!(e instanceof d))throw new TypeError("Cannot call a class as a function")}(this);for(var r=arguments.length,a=Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=n=i(this,(e=d.__proto__||Object.getPrototypeOf(d)).call.apply(e,[this].concat(a)))).handleChange=function(e,t){n.props.handleChange(n.props.row,e,t)},i(n,t)}t.default=c},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=l(n(0)),i=(l(n(2)),l(n(4)),n(1));function l(e){return e&&e.__esModule?e:{default:e}}l(n(3));var s,u,c,d=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":R(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(f,l(n(5)).default),s=f,(u=[{key:"renderToolbar",value:function(){var e,t=this,n=[];if(!this.hidebuttons){var r=function(){t.setState({popup:{show:!1}})};n.push(o.default.createElement(i.Button,{key:"btnCreate",className:"buttontype1",onClick:function(){t.setState({popup:{show:!0}})}},DWKitAdminLang.button.create)),n.push(o.default.createElement(i.Button,{key:"btnDelete",className:"buttontype2",onClick:function(){t.setState({confirmdeleteshow:!0})}},DWKitAdminLang.button.delete))}return null!=this.state.popup.errors&&(e=o.default.createElement(i.Message,{negative:!0},o.default.createElement("p",null,this.state.popup.errors))),o.default.createElement("div",{className:"dwkitadmin-toolbar"},n,o.default.createElement(i.Modal,{dimmer:"blurring",open:this.state.popup.show},o.default.createElement(i.Modal.Header,null,"Creating"),o.default.createElement(i.Modal.Content,null,o.default.createElement(i.Form,null,e,o.default.createElement(i.Form.Input,{key:"name",name:"newobjectname",label:DWKitAdminLang.field.name,required:!0,value:this.state.popup.name,onChange:this.handlePopupChange.bind(this),error:null!=this.state.popup.errors}))),o.default.createElement(i.Modal.Actions,null,o.default.createElement(i.Button,{className:"buttontype1",content:DWKitAdminLang.button.create,onClick:this.onCreate.bind(this)}),o.default.createElement(i.Button,{className:"buttontype2",content:DWKitAdminLang.button.cancel,onClick:r}))))}},{key:"handlePopupChange",value:function(e,t){t.name;var n=t.value;t.checked,this.setState({popup:r({},this.state.popup,{name:n})})}},{key:"onCreate",value:function(){var e=this.state.popup.name;""!=e&&null!=e?(this.setState({popup:{show:!1}}),this.props.parent.openpage(this.panelindex,e)):this.setState({popup:r({},this.state.popup,{errors:DWKitAdminLang.msg.fieldrequired})})}},{key:"getEditRow",value:function(){var e=this.ignoreidcase?this.props.id.toLowerCase():this.props.id,t=this.props.data[this.dataindex];if(Array.isArray(t))for(var n=0;n<t.length;n++)if((this.ignoreidcase?t[n][this.idfield].toLowerCase():t[n][this.idfield])===e)return t[n];var r={};return r[this.idfield]=this.props.id,r}}])&&a(s.prototype,u),c&&a(s,c),f);function f(e){!function(e){if(!(e instanceof f))throw new TypeError("Cannot call a class as a function")}(this);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":R(t))&&"function"!=typeof t?e:t}(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,e));return t.state.popup={show:!1},t}t.default=d},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var K=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},U="function"==typeof Symbol&&"symbol"==R(Symbol.iterator)?function(e){return void 0===e?"undefined":R(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":R(e)};function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var G=i(n(0)),a=i(n(3)),q=n(1),o=i(n(11)),H=i(n(44)),Y=i(n(45)),J=i(n(46)),Q=i(n(48)),Z=i(n(49)),X=i(n(51));function i(e){return e&&e.__esModule?e:{default:e}}var l,s,u,c=n(9),d=n(52),f=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":R(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(p,G.default.Component),l=p,(s=[{key:"shouldComponentUpdate",value:function(e,t){return!c(this.state,t)||!c(this.props,e)}},{key:"applyCollapseAll",value:function(e){for(var t in e)null==this.state.expanded[t]&&(this.state.expanded[t]=!1)}},{key:"renderHeaderRow",value:function(e){var s=[],u=0;if(e.forEach(function(e){var t,n,r,a,o=void 0;"object"===(void 0===e?"undefined":U(e))?(t=e.key,n=e.name,r=e.width,Array.isArray(e.dataList)&&(o=e.dataList)):n=t=e,null!=n&&2<=n.length&&(n=n.charAt(0).toUpperCase()+n.slice(1));var i=void 0;if(null!=o){i=t+"_datalist";var l=[];o.forEach(function(e){l.push(G.default.createElement("option",{key:e,value:e}))}),a=G.default.createElement("datalist",{key:i,id:i},l)}s.push(G.default.createElement("td",{key:u,style:{width:r}},n,a)),u++}),!this.props.readOnly&&!0!==this.props.disableAdd){var t="Add";null!=window.DWKitAdminLang&&null!=window.DWKitAdminLang.collectioneditor&&(t=window.DWKitAdminLang.collectioneditor.add),s.push(G.default.createElement("td",{key:"btntd",className:"dwkit-collectioneditor-buttoncol"},G.default.createElement("a",{key:"btnadd",className:"dwkit-btn",onClick:this.btnAdd},t)))}return G.default.createElement("tr",{key:"headertr",className:"dwkit-collectioneditor-header"},s)}},{key:"getDragColumn",value:function(e,t){var n=!this.props.readOnly&&Boolean(this.props.draggable);if(n)return G.default.createElement("div",{draggable:n,onDragStart:this.onDragStart.bind(this,t,e),onDragEnd:this.onDragEnd.bind(this,t,e),onDragOver:this.onDragOver.bind(this),onDrop:this.onDrop.bind(this,t,e),key:"celldrag",className:"dwkit-collectioneditor-action"},G.default.createElement(q.Icon,{onClick:this.onExpand.bind(this,t,!1),name:"ellipsis vertical"}))}},{key:"getFilteredItems",value:function(e,t){var n=[];return void 0===e?n:n=void 0!==t?e.filter(function(e){return t.IsRowMatched(e)}):e}},{key:"renderRows",value:function(r,e,n,t,a,o){var i=this,l=this,s=[],u=e;null==a&&(a=0),void 0===o&&(o=""),this.props.filter&&(u=this.getFilteredItems(u,this.props.filter));for(var c=0;c<u.length;c++)if(void 0!==this.props.childrenField||!this.props.hierarchical||u[c][this.props.parentIdField]==t){var d=this.getDragColumn(u,c),f=void 0,p=void 0,h=u[c][this.props.idField]||u[c].__id||c;if(this.props.hierarchical){var m=void 0,v=o+String(c+"_");if(void 0!==this.props.parentIdField&&""!==this.props.parentIdField){var g=u[c][this.props.idField]||u[c].__id;if(null!=g&&""!=g&&0<(p=this.renderRows(r,e,n,g,a+1,v)).length){var y=this.state.expanded[o+c];null==y||y?m=G.default.createElement("div",{onClick:this.onExpand.bind(this,o+c,!1),className:"dwkit-collectioneditor-imgbutton-collapse"}):(m=G.default.createElement("div",{onClick:this.onExpand.bind(this,o+c,!0),className:"dwkit-collectioneditor-imgbutton-expand"}),p=void 0)}}else if(Array.isArray(u[c][this.props.childrenField])&&0<u[c][this.props.childrenField].length){if(0<(p=this.renderRows(r,u[c][this.props.childrenField],n,void 0,a+1,v)).length){var b=this.state.expanded[o+c];null==b||b?m=G.default.createElement("div",{onClick:this.onExpand.bind(this,o+c,!1),className:"dwkit-collectioneditor-imgbutton-collapse"}):(m=G.default.createElement("div",{onClick:this.onExpand.bind(this,o+c,!0),className:"dwkit-collectioneditor-imgbutton-expand"}),p=void 0)}}else m=G.default.createElement("div",{style:{opacity:0},className:"dwkit-collectioneditor-imgbutton-collapse"});f=G.default.createElement("div",{className:"dwkit-collectioneditor-action"},m)}var w=[],k=void 0;Array.isArray(n)&&0<n.length&&(void 0!==n[0].__id&&null!==n[0].__id?function(){var t=u[c].__id;void 0!==t&&null!=t&&(k=n.find(function(e){return e.__id===t}))}():k=n[c]);for(var E=0;E<r.length;E++){var C=void 0,_=this.props.readOnly?"":"input",O=void 0,S=void 0,x=void 0;"object"===U(r[E])?(C=r[E].key,_=r[E].control,S=r[E].customControl,Array.isArray(r[E].dataList)&&(O=C+"_datalist"),Array.isArray(r[E].options)&&(x=r[E].options)):C=r[E];var A=void 0;null!=k&&(A=Boolean(k[C]));var D={},F=void 0;if("checkbox"===_)F=G.default.createElement(X.default,{key:h+"_"+E,row:u[c],handleChange:this.handleChange,colName:C,checked:u[c][C],errorFlag:A,readOnly:this.props.readOnly});else if("span"===_)D.verticalAlign="middle",F=G.default.createElement("span",{key:h+"_"+E,name:C},u[c][C]);else if("number"===_){var L=null===u[c][C]||void 0===u[c][C]?"":u[c][C],P={name:C,type:"number",error:A,value:L,readOnly:this.props.readOnly};F=G.default.createElement(Y.default,{key:h+"_"+E,row:u[c],inputProps:P,handleChange:this.handleChange})}else if("date"===_){var j=null===u[c][C]||void 0===u[c][C]?"":u[c][C];F=G.default.createElement(Z.default,{key:h+"_"+E,row:u[c],colName:C,value:j,errorFlag:A,readOnly:this.props.readOnly,handleChange:this.handleChange,type:"date"})}else if("datetime"===_){var T=null===u[c][C]||void 0===u[c][C]?"":u[c][C];F=G.default.createElement(Z.default,{key:h+"_"+E,row:u[c],colName:C,value:T,errorFlag:A,readOnly:this.props.readOnly,handleChange:this.handleChange,type:"datetime"})}else if("dropdown"===_){var N=null==u[c][C]?r[E].multiple?[]:"":u[c][C];F=G.default.createElement(Q.default,{key:h+"_"+E,row:u[c],colName:C,multiple:r[E].multiple,placeholder:r[E].placeholder,errorFlag:A,value:N,options:x,readOnly:this.props.readOnly,handleChange:this.handleChange})}else if("file"===_||"file2"===_){var I=null===u[c][C]||void 0===u[c][C]?"":u[c][C];F=G.default.createElement(J.default,{key:h+"_"+E,row:u[c],colName:C,errorFlag:A,value:I,readOnly:this.props.readOnly,handleChange:this.handleChange,downloadUrl:this.props.downloadUrl,uploadUrl:this.props.uploadUrl,control:_,additionalData:r[E].additionalData})}else if("custom"===_)if(S)!function(){var e=u[c][C]?u[c][C]:"",t={};r[E].customControlGetPropsFunc&&(t=r[E].customControlGetPropsFunc(u[c]));var n=K({},t,{key:h+"_"+E,name:C,error:A,value:e,colName:C,row:u[c],readOnly:i.props.readOnly,onChange:function(e,t){l.handleChange(n.row,e,t)}});F=G.default.createElement(S,n)}();else if(null!=this.props.placeholders&&Array.isArray(this.props.placeholders[C])&&0<this.props.placeholders[C].length){var M=this.props.placeholders[C][0];if(M){var R=u[c];void 0!==M.propertyName&&""!==M.propertyName||(M.propertyName=C),F=G.default.createElement(H.default,{key:h+"_"+E,model:M,parent:this,row:R,errorOnRow:k,name:this.props.name,buildermode:this.props.buildermode,handleChange:this.handleChange,handleEvent:this.props.handleEvent,getAdditionalDataForControl:this.props.getAdditionalDataForControl,readOnly:this.props.readOnly,uploadUrl:this.props.uploadUrl,downloadUrl:this.props.downloadUrl,data:this.props.data,adaptiveViewType:this.props.adaptiveViewType,controlBarParams:this.props.controlBarParams,createControl:this.props.createControl})}}else this.props.buildermode&&this.props.createBuilderDropzone&&(F=this.props.createBuilderDropzone(this.props.name,this.props.name,void 0,C,C));else{var V=null===u[c][C]||void 0===u[c][C]?"":u[c][C],W={name:C,list:O,error:A,value:V,readOnly:this.props.readOnly};F=G.default.createElement(Y.default,{key:h+"_"+E,row:u[c],inputProps:W,handleChange:this.handleChange})}0===E?(a&&(D.paddingLeft=String(15*a+5)+"px"),w.push(G.default.createElement("td",{key:h+"_"+E+"td",style:D},f,d,F))):w.push(G.default.createElement("td",{key:h+"_"+E+"td",style:D},F))}if(!this.props.readOnly){var B=!0!==this.props.disableAdd,z=!this.props.disableDelete;this.props.hierarchical?w.push(G.default.createElement("td",{key:"celldelete",className:"dwkit-collectioneditor-cellbtn"},G.default.createElement("div",{className:"field"},B&&G.default.createElement(q.Icon,{key:"addchild",onClick:this.btnAddChild.bind(this,c,u),link:!0,name:"add"}),B&&G.default.createElement(q.Icon,{key:"copy",onClick:this.btnCopy.bind(this,c,u),link:!0,name:"copy"}),z&&G.default.createElement(q.Icon,{key:"delete",onClick:this.btnDelete.bind(this,c,u),link:!0,name:"delete"})))):w.push(G.default.createElement("td",{key:"celldelete",className:"dwkit-collectioneditor-cellbtn"},G.default.createElement("div",{className:"field"},B&&G.default.createElement(q.Icon,{key:"copy",onClick:this.btnCopy.bind(this,c,void 0),link:!0,name:"copy"}),z&&G.default.createElement(q.Icon,{key:"delete",onClick:this.btnDelete.bind(this,c,void 0),link:!0,name:"delete"}))))}s.push(G.default.createElement("tr",{key:o+h,className:"dwkit-collectioneditor-row","data-rowindex":c},w)),s=s.concat(p)}return s}},{key:"btnDelete",value:function(e,t){if(this.props.handleEvent||this.props.onChange){void 0===t&&(t=this.state.data);var n=t[e];t.splice(e,1),this.props.handleEvent&&this.props.handleEvent({key:this.props.name,propertyName:this.props.propertyName,eventName:"onDelete",parameters:{rowIdx:e,row:n}}),this.sendChangesToParent()}}},{key:"btnAddChild",value:function(e,t){void 0===t&&(t=null==this.state.data?[]:this.state.data);var n=t[e],r=null==this.props.defaultrow?{}:K({},this.props.defaultrow);r.__id="CLIENT_"+o.default.v1(),this.fillDefaultValues(r,this.props.columns,this.props.placeholders),this.props.parentIdField?(r[this.props.parentIdField]=n[this.props.idField]||n.__id,t.push(r)):(Array.isArray(n[this.props.childrenField])||(n[this.props.childrenField]=[]),n[this.props.childrenField].push(r)),this.props.handleEvent&&this.props.handleEvent({key:this.props.name,propertyName:this.props.propertyName,eventName:"onAddChild",parameters:{rowIdx:t.length-1,row:r}}),this.sendChangesToParent()}},{key:"fillDefaultValues",value:function(e,t,n){if(t&&n)for(var r=0;r<t.length;r++){var a,o=n[a="object"===U(t[r])?t[r].key:t[r]];if(Array.isArray(o)&&0<o.length){var i=o[0];if(i){var l=a;i.propertyName&&(l=i.propertyName),i.defaultValue&&(e[l]=i.defaultValue)}}}}},{key:"copyForParentId",value:function(t,n,e){var r=this,a=d(n);return a.__id="CLIENT_"+o.default.v1(),delete a[this.props.idField],a[this.props.parentIdField]=e,t.filter(function(e){return e[r.props.parentIdField]===(n[r.props.idField]||n.__id)}).forEach(function(e){return r.copyForParentId(t,e,a.__id)}),t.push(a),a}},{key:"resetIdsRecursive",value:function(e){var t=this;e.__id="CLIENT_"+o.default.v1(),delete e[this.props.idField],Array.isArray(e[this.props.childrenField])&&e[this.props.childrenField].forEach(function(e){return t.resetIdsRecursive(e)})}},{key:"btnCopy",value:function(e,t){var n=(t=t||this.state.data)[e],r=null;this.props.parentIdField&&n.hasOwnProperty(this.props.parentIdField)?r=this.copyForParentId(t,n,n[this.props.parentIdField]):(r=d(n),this.resetIdsRecursive(r),t.push(r)),this.props.handleEvent&&this.props.handleEvent({key:this.props.name,propertyName:this.props.propertyName,eventName:"onCopy",parameters:{rowIdx:t.length-1,row:r}}),this.sendChangesToParent()}},{key:"onExpand",value:function(e,t){this.state.expanded[e]=t,this.forceUpdate()}},{key:"onDragOver",value:function(e){e.preventDefault()}},{key:"onDragStart",value:function(e,t,n){n.dataTransfer.setData("index",e);var r=n.target;(r=(r=r&&r.parentElement)&&r.parentElement)&&n.dataTransfer.setDragImage($(n.target).parent().parent()[0],0,0),this.state.dragElementIndex=e,this.state.dragRows=t}},{key:"onDragEnd",value:function(e,t){this.state.dragElementIndex=void 0,this.state.dragRows=void 0}},{key:"onDrop",value:function(e,t,n){var r=this.state.dragElementIndex,a=this.state.dragRows,o=e,i=t;return null!=r&&(o!=r&&(void 0!==this.props.parentIdField&&""!==this.props.parentIdField&&(a[r][this.props.parentIdField]=i[o][this.props.parentIdField]),i.splice(o,0,a.splice(r,1)[0]),this.sendChangesToParent()),n.preventDefault()),!1}},{key:"getCopyRowsFromProps",value:function(){var e=null==this.props.value?[]:this.props.value;return this.state.stringmode=!1,Array.isArray(e)?e=d(e):(e=a.default.parse(e),this.state.stringmode=!0),e}},{key:"sendChangesToParent",value:function(){var e=this.state.data,t=this.state.stringmode?a.default.stringify(e):e;this.props.buildermode?this.props.value=t:this.props.onChange?this.props.onChange(null,{name:this.props.name,propertyName:this.props.propertyName,value:t}):this.props.handleEvent({syntheticEvent:null,key:this.props.name,eventName:"onChange",name:this.props.name,value:t,propertyName:this.props.propertyName})}},{key:"render",value:function(){var e=this.props.columns,t=this.props.value,n=this.props.error;if(this.props.collapseAll&&Array.isArray(t)&&this.applyCollapseAll(t),!e||!e.length)return G.default.createElement("div",null,"Fill columns property!");this.state.data=this.getCopyRowsFromProps();var r={style:this.props.style,className:this.props.className,onBlur:this.props.onBlur,onClick:this.props.onClick,onFocus:this.props.onFocus,onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave};return r.className?r.className+=" field":r.className="field",this.props.error&&"object"!==U(this.props.error)&&(r.className+=" error"),r.className+=" dwkit-collectioneditor-control",G.default.createElement("div",r,G.default.createElement("label",null,this.props.label),G.default.createElement("table",{className:"dwkit-collectioneditor"},G.default.createElement("tbody",null,this.renderHeaderRow(e),this.renderRows(e,this.state.data,n))))}}])&&r(l.prototype,s),u&&r(l,u),p);function p(e){!function(e){if(!(e instanceof p))throw new TypeError("Cannot call a class as a function")}(this);var l=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":R(t))&&"function"!=typeof t?e:t}(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,e));return l.btnAdd=function(){var e=null==l.props.defaultrow?{}:l.props.defaultrow;e.__id="CLIENT_"+o.default.v1(),l.fillDefaultValues(e,l.props.columns,l.props.placeholders),l.state.data.push(e),l.props.handleEvent&&l.props.handleEvent({key:l.props.name,propertyName:l.props.propertyName,eventName:"onAdd",parameters:{rowIdx:l.state.data.length-1,row:e}}),l.sendChangesToParent()},l.handleChange=function(e,t,n){var r=n.name,a=n.propertyName,o=n.value,i=n.checked;(l.props.handleEvent||l.props.onChange)&&(e[a||r]=null==o&&null!=i?i:o,l.sendChangesToParent(),null!=t?t.preventDefault():l.forceUpdate())},l.state={expanded:{}},l}t.default=f},function(e,t){e.exports=i},function(e,t){e.exports=l},function(e,t){e.exports=s},function(e,t){e.exports=u},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=s(n(0)),i=n(1),l=s(n(3));function s(e){return e&&e.__esModule?e:{default:e}}var u,c,d,f=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":R(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(p,o.default.Component),u=p,(c=[{key:"render",value:function(){var e=this;return o.default.createElement("div",{className:"field"},o.default.createElement(i.Form.Input,r({},this.props,{suggestions:void 0,icon:o.default.createElement(i.Icon,{name:"edit",onClick:this.showJSON.bind(this),link:!0})})),o.default.createElement(i.Modal,{dimmer:"inverted",open:this.state.showJSON,onClose:function(){return e.setState({showJSON:!1})}},o.default.createElement(i.Modal.Header,null,"JSON Editor"),o.default.createElement(i.Modal.Content,null,o.default.createElement("div",{id:"dwkit-admin-actionparameter-editjson",style:{height:"415px"}})),o.default.createElement(i.Modal.Actions,null,o.default.createElement(i.Button,{onClick:this.onFormat.bind(this)},DWKitAdminLang.button.format),o.default.createElement(i.Button,{className:"buttontype1",onClick:this.onSave.bind(this)},DWKitAdminLang.button.save),o.default.createElement(i.Button,{className:"buttontype2",onClick:function(){return e.setState({showJSON:!1})}},DWKitAdminLang.button.cancel))))}},{key:"showJSON",value:function(){this.setState({showJSON:!0});var e=this;setTimeout(function(){e.redrawEditor()},10)}},{key:"redrawEditor",value:function(){var i=this,e=ace.edit(this.divId);e.getSession().setMode("ace/mode/json"),e.setOptions({enableBasicAutocompletion:!0,enableLiveAutocompletion:!0}),e.completers=[{getCompletions:function(e,t,n,r,a){var o=i.serverVariables.map(function(e){return{caption:e,value:'"'+e+'"',meta:"DWKit Variable"}});Array.isArray(i.props.suggestions)&&0<i.props.suggestions.length&&(o=[].concat(o,i.props.suggestions)),a(null,o)},getDocTooltip:function(e){}}],this.props.value?e.setValue(this.props.value,-1):(e.setValue("{\n\t\n}",-1),e.gotoLine(2,1)),e.focus()}},{key:"onSave",value:function(){var e=ace.edit(this.divId).getValue();this.props.onChange(void 0,{name:this.props.name,value:e}),this.setState({showJSON:!1})}},{key:"onFormat",value:function(){var e=ace.edit(this.divId),t=e.getValue();e.setValue(this.toPrettyJSON(t)),e.clearSelection()}},{key:"toPrettyJSON",value:function(t){try{return JSON.stringify(JSON.parse(t),null,"\t")}catch(e){try{return l.default.stringify(l.default.parse(t),null,"\t")}catch(e){return t}}}},{key:"getSearchPatterns",value:function(e,t){for(var n=[],r="",a=!1,o=t-1;0<=o;o--){var i=e.charAt(o);if(!this.alphaNumberDotAt(i))break;if("."===i){if(0<o){var l=e.charAt(o-1);if(!this.alphaNumberAt(l)){a=!0;break}}n.push(r),r=""}else r=i+r}return a&&0===n.length?null:(r&&(0<n.length||r.trim()!=r)&&n.push(r),n)}},{key:"alphaNumberDotAt",value:function(e){return"@"===e||this.alphaNumberDot(e)}},{key:"alphaNumberDot",value:function(e){return"."===e||this.alphaNumber(e)}},{key:"alphaNumberAt",value:function(e){return"@"===e||this.alphaNumber(e)}},{key:"alphaNumber",value:function(e){return e&&e.match(/^[0-9a-zA-Z]+$/)}}])&&a(u.prototype,c),d&&a(u,d),p);function p(e){!function(e){if(!(e instanceof p))throw new TypeError("Cannot call a class as a function")}(this);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":R(t))&&"function"!=typeof t?e:t}(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,e));return t.divId="dwkit-admin-actionparameter-editjson",t.serverVariables=["@OperationUserId","@OperationUserName","@CurrentUserId","@CurrentUserName","@DateTimeNow","@DateNow","@DefaultState","@DefaultStateName","@NextNumberId"],Array.isArray(t.props.extraServerVariables)&&(t.serverVariables=[].concat(t.serverVariables,t.props.extraServerVariables)),t.state={},t}t.default=f},function(e,t){e.exports=c},function(e,t){e.exports=d},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var u=o(n(0)),a=(o(n(2)),o(n(4))),c=n(1),d=(o(n(3)),o(n(13)));function o(e){return e&&e.__esModule?e:{default:e}}var i,l,s,f=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":R(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(p,a.default),i=p,(l=[{key:"render",value:function(){var e=this.props.data,t=[];this.props.types.forEach(function(e){t.push({value:e,text:e})});for(var n=[],r=0;r<e.length;r++){var a=e[r],o=null==a.__error?{}:a.__error,i="trigger_"+r,l=this.props.suggestions?this.props.suggestions:this.actionParameterSuggestions(this.props.dataMap),s=u.default.createElement(c.Form.Group,{key:i,widths:"equal",className:"dwkit-formadmin-item"},u.default.createElement(c.Form.Dropdown,{label:DWKitAdminLang.field.triggers,error:Boolean(o.triggers),name:"triggers",options:t,multiple:!0,selection:!0,fluid:!0,search:!0,value:a.triggers,onChange:this.handleChange.bind(this,a)}),u.default.createElement(c.Form.Dropdown,{key:"codeaction",label:DWKitAdminLang.field.action,name:"codeAction",selection:!0,fluid:!0,search:!0,options:this.props.codeactions,value:a.codeAction,onChange:this.handleChange.bind(this,a),error:Boolean(o.codeAction)}),u.default.createElement(d.default,{key:"parameter",name:"parameter",suggestions:l,label:DWKitAdminLang.field.parameter,value:a.parameter,onChange:this.handleChange.bind(this,a)}),u.default.createElement(c.Image,{className:"dwkit-buttonimage",key:"btndelete",src:"/images/dwkit-delete.png",onClick:this.onDelete.bind(this,r)}));n.push(s)}return 0==n.length&&n.push(u.default.createElement("div",{className:"dwkit-formadmin-info",key:"message"},DWKitAdminLang.data.notriggersmsg,u.default.createElement("br",null),DWKitAdminLang.msg.click," ",u.default.createElement("a",{key:"btnadd2",onClick:this.onAdd.bind(this)},DWKitAdminLang.msg.here)," ",DWKitAdminLang.data.forcreatetingtriggersmsg)),u.default.createElement("div",null,u.default.createElement("a",{key:"btnadd",onClick:this.onAdd.bind(this)},DWKitAdminLang.data.addtrigger),n)}},{key:"handleChange",value:function(e,t,n){var r=n.name,a=n.value,o=n.checked;e[r]=null==a?o:a,null!=this.props.onChange&&this.props.onChange(void 0,{name:this.props.name,value:this.props.data}),this.forceUpdate()}},{key:"onAdd",value:function(){this.props.data.push({}),null!=this.props.onChange&&this.props.onChange(void 0,{name:this.props.name,value:this.props.data}),this.forceUpdate()}},{key:"onDelete",value:function(e){this.props.data.splice(e,1),null!=this.props.onChange&&this.props.onChange(void 0,{name:this.props.name,value:this.props.data}),this.forceUpdate()}},{key:"actionParameterSuggestions",value:function(e){var t=[];function n(e,t){return'"'+e+'": { "'+t+'" : { "Column": "Value" }}'}return Array.isArray(e)&&e.forEach(function(e){e.isLoadable&&t.push({caption:e.attributeName,value:'"'+e.attributeName+'"',meta:"Form Column"})}),t.push({caption:"_ForRole",value:n("_ForRole","RoleCode"),meta:"snippet"}),t.push({caption:"_ForGroup",value:n("_ForGroup","Group"),meta:"snippet"}),t.push({caption:"_ForPermission",value:n("_ForPermission","PermissionGroupCode.PermissionCode"),meta:"snippet"}),t}}])&&r(i.prototype,l),s&&r(i,s),p);function p(e){return function(e){if(!(e instanceof p))throw new TypeError("Cannot call a class as a function")}(this),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":R(t))&&"function"!=typeof t?e:t}(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,e))}t.default=f},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Modes={STANDARD:0,SIMPLIFIED:1},t.MasterTableDefaults={TABLE_NAME:"dwEntities",EXTENSION_CONTAINER:"Extensions",PRIMARY_KEY:"Id",WORKFLOW_SCHEME:"SchemeName"},t.AttributeSources={DATA_MODEL:0,MASTER_TABLE:1}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.defaultLocalization={common:{toolbarappbutton:"App"},sidemenu:{dashboard:"Dashboard",modules:"Modules",data:"Data",datamodel:"Manage data model",datasync:"Sync with Database",codeactions:"Code Actions",form:"Form",forms:"Manage forms",formdata:"Mapping data model",actionhandlers:"Action Handlers",localization:"Localization",workflow:"Workflow",schemes:"Manage schemes",workflowinstances:"Manage instances",businessflow:"Business Flow",security:"Security",users:"Manage users",groups:"Manage groups",roles:"Manage roles",permissions:"Manage permissions",support:"Support",documentation:"Documentation",faq:"FAQs",emailsupport:"Email support",resourceEditor:"Resource Editor",commandform:"Command forms"},searchbox:{model:"Model",form:"Form",formdata:"Form data",actionhandler:"Action Handler",workflow:"Workflow",businessflow:"Business Flow",user:"User",group:"Group",role:"Role",codeaction:"CodeAction"},msg:{confirmdelete:"Are you sure you want to delete selected item(s)?",checkerrorsonform:"Check the form for errors",fieldrequired:"This field is required",objectnotfound:"The object has not been found",unchangedobject:"No need to save an unchanged object",saveok:"The changes have been saved",checkerrors:"Something went wrong; check the errors",lookdevconsole:"Look for details in the development console in your browser",appcachereseted:"The application cache has been reset",compileok:"Compilation succeeded",click:"Click",here:"here",needtoselectitems:"You need to select some items",fileupoaded:"The file has been uploaded",notavailableyet:"There are no available settings yet",moreinformation:"More information is available in the developer console",savedatasuccess:"The changes have been applied",notsupported:"Not supported",commandexecutioncompleted:"Command execution has been completed",newstateset:"The new state was set",commingsoon:"Coming soon",selectrowsfordelete:"Select rows for deletion",rowsdeleted:"Rows have been deleted",extensionscontainerfieldrequired:"Extensions container field is required!",needtoselectoneitem:"You need to select just one item",totalcount:"Total count:",serverglobalerror:"There was a global error in the server's operation, requiring your immediate attention",globalcodeactionshaveerrors:"Some of the Global Code Actions have compilation errors. You need to fix and recompile them in Code actions section.",formmappingerror:"The following forms have mismatch in data mapping:",recompiled:"Code actions have been recompiled",recompiledialog:"Code action was modified. Do you want to recompile?",copied:"Copied!",fieldduplicated:"This value is already defined"},requesterror:{status0:"Not connected.\n Verify Network.",status404:"Requested page not found. [404]",status500:"Internal Server Error [500].",parsererror:"Requested JSON parse failed.",timeout:"Time out error.",abort:"Ajax request aborted.",uncaught:"Uncaught error.",configapi:"Error requesting Config API"},button:{save:"Save",cancel:"Cancel",close:"Close",create:"Create",delete:"Delete",resetappcache:"Reset app cache",compile:"Compile",refresh:"Refresh",applyselectedchanges:"Apply selected changes",select:"Select",deselect:"Deselect",selectall:"Select all",deselectall:"Deselect all",download:"Download",upload:"Upload",workflow:"Workflow",security:"Security",ok:"OK",apply:"Apply",search:"Search",clear:"Clear",copy:"Copy",recompileAll:"Recompile all",yes:"Yes",no:"No",importFromAd:"Import from AD",format:"Format"},collectioneditor:{add:"Add",delete:"Delete",addchild:"Add child"},upload:{dropzoneText:"Drop files here to upload"},workflowbar:{setstate:"Set state",selectscheme:"Select scheme"},column:{code:"Code",name:"Name",type:"Type",template:"Template"},field:{code:"Code",name:"Name",type:"Type",comment:"Comment",attributes:"Attributes",triggers:"Triggers",action:"Action",parameter:"Parameter",changes:"Changes",readonly:"ReadOnly"},license:{expipedlabel:"License expired",freeupdatedatalabel:"Free update date",licensechecktype:"License check type"},codeaction:{title:"Code actions",defineonservercolumn:"Defined on Server",defineonservermsg:"This object is defined on server. You can't edit it in the admin panel.",defineonserverblockdeletemsg:"One of the objects that is being deleted is defined on server. Your can't delete it in the admin panel.",usingsfield:"Usings"},data:{title:"Data model",dbobjectfield:"DB Object",schemenamefield:"Scheme name",primarykeyfield:"Primary key",isdeletedfield:"Logical delete attribute",lockversionfield:"Optimistic lock attribute",refentityfield:"Reference entity",datatypefield:"Data type",optionsfield:"Options",nullablefield:"Nullable",virtualfield:"Virtual",extensionfield:"Extension",calculatefield:"Calculate",columnfield:"Column",reffield:"Reference",addattbutton:"Add an attribute",noattributesmsg:"This data model has no attributes.",forcreatetingattmsg:"for creating attributes.",notriggersmsg:"This object has no triggers.",forcreatetingtriggersmsg:"for creating triggers.",addtrigger:"Add a trigger",extensionscontainerfield:"Extensions container",showextensioncolumnsonly:"Show extension columns only",notsetprimarykeymsg:"There is not set the Primary Key field. Some of features for this data model will not work.",notfoundprimarykeymsg:"The Primary Key attribute is not found!",notfoundprimaryextcontmsg:"The Extensions container attribute is not found!",nameexistsmsg:"Data model with this name already exists",modefield:"Mode",standardmode:"Standard Mode",simplifiedmode:"Simplified Mode",workflowschemefield:"Workflow scheme"},datasync:{title:"Sync with Database",analysingmsg:"Click here for DB analysis...",noneedsyncmsg:"The data model and database are synchronized.",analysingagainmsg:"Analysing DB again.",changedtypefield:"Changed type",changestypenew:"New",changetypechanged:"Changed",changetypedeleted:"Deleted",showsystemtables:"Show system tables",chages:"Changes",searchanalyse:"Search & Analyse",searchInclude:"Search Include Pattern",searchExclude:"Search Exclude Pattern",searchTips:"You can use '*' for setting the pattern.\nThis search is case-insensitive.\nAs an example 'doc', 'doc*' or '*doc'."},form:{title:"Forms",datamap:"Data map",actionhandler:"Action Handler",preview:"Preview",builder:"Builder",viewer:"Viewer",clearformbutton:"Clear form",workflowschemesfield:"Workflow schemes",messagetitle:"Message",workflowwindowtitle:"Workflow",workflowinfoblock:"Here you can associate the form and one or more workflows.\nUse the Business flow object to map form with each workflow state.",securitywindowtitle:"Security",securityinfoblock:"Here you can associate the form and one group of permissions.\nMake sure that this group of permissions has View and Edit permissions and that you gave them access to the permissions.\nOtherwise, users will get the 'Access Denied' error when trying to open this form or change data",permissionsgroupfield:"Group of permissions",fullscreenbutton:"Fullscreen",template:"Template"},datamap:{title:"Mapping data model",builder:"Builder",actionhandler:"Action Handler",automappingbutton:"Auto mapping",resetmappingbutton:"Reset mapping",automappingcompleatemsg:"Auto mapping has been successful",nocontrolsonformmsg:"The form neither has any unattached controls nor uses auto mapping",dropzonemsg:"Drop controls here",moveitemsmsg:"Move items to data model fields.",placefortoncroltitle:"Control",loadfield:"Load",mainentityfield:"Main entity",entityfield:"Entity",mainentityps:"Select a data model",collectionentityfield:"Collection entity",collectionfilterfield:"Collection filter",dataSourceType:"Data source type",dataurlfield:"URL",actionfield:"Action",mismatchmodelmsg:"This form has mismatching in the data model. Check data mapping and click on Save button!",mainentitytriggers:"Main entity triggers",generatedatamodelbutton:"Generate data model",formanalyzereport:"Form analyze report",mainentitydatamodel:"Main entity data model",nullablefield:"Nullable",options:"Options",applyfield:"Apply",refentityfield:"Reference entity",warnings:"Warnings:",matertabletypeerrors:"Names of those controls match with predefined Master Table attributes, but their types are incompatible: ",matertabletypeerrorsadvice:". Either rename the controls or make sure that types are compatible.",collectiondatamodels:"Collection data models",referencedmodelnotfound:"Can't find referenced Data Model for those controls: ",checkvalidationerrors:"Please check validation errors before applying the report",nameexistsmsg:"Data model with this name already exists",duplicateNameInReport:"Duplicate data model names"},actionhandler:{title:"Action Handlers",datamap:"Data map",builder:"Builder",setdefaulttemplatebutton:"Set default template"},businessflow:{title:"Business flow",schemecolumn:"Scheme",defaultformcolumn:"DefaultForm",updatestatesbutton:"Update states",mappingfield:"Mapping",statescolumn:"States",rolescolumn:"Roles",formcolumn:"Form",anyroleitem:"Any role",anystateitem:"Any state",datefromcolumn:"Date From",datetocolumn:"Date To",nameexistsmsg:"Business flow with this name already exists"},commandform:{title:"Command form",nameexistsmsg:"Business flow with this name already exists",schemescolumn:"Schemes",mappingfield:"Mapping",formcolumn:"Form",commandscolumn:"Commands",maprequiredsmsg:"Please create the mapping",duplicatewildcardmappingmsg:"Duplicate '*' mapping",duplicatewildcardmappinginotherformmsg:function(e){return"Mapping '*' already exists in '"+e+"' command form"},duplicateonecommandmappingmsg:function(e){return"Duplicate single command mapping '"+e+"'"},duplicateonecommandmappinginotherformmsg:function(e,t){return"Single command mapping '"+e+"' already exists in '"+t+"' command form"},duplicatemulticommandmappingmsg:function(e){return"More than one multiple command mappings contain '"+e+"' command"},duplicatemulticommandmappinginotherformmsg:function(e,t){return"Multiple command mapping that contains '"+e+"' command already exists in '"+t+"' command form"},schemenotselectedmsg:function(e,t){return"Scheme '"+e+"' wasn't selected for this command form. Either remove '"+t+"' command or add this scheme."}},workflow:{title:"Workflow schemes",schemesaved:"The scheme has been saved",clearschemebutton:"Clear scheme",messagetitle:"Message"},workflowinstance:{title:"Manage instances",schemecolumn:"Scheme",statuscolumn:"Status",activitycolumn:"Activity",statecolumn:"State",setstatebutton:"Set state",setinstancestatusbutton:"Set instance status",activityfield:"Activity",statefield:"State",statechangedmsg:"Process state has been changed",instancestatuschangedmsg:"Instance status has been changed",copyprocessid:"Copy Process Id"},group:{title:"Manage groups",rolesfield:"Roles",syncwithdomainfield:"Sync with domain"},permission:{title:"Manage permissions",deletegroupbutton:"Delete group",createpermissionbutton:"Create a permission",creategroupbutton:"Create a group",managepermissionsfield:"Manage permissions"},role:{title:"Manage roles",resetbutton:"Reset",allowbutton:"Allow",denybutton:"Deny",inheritedtype:"Inherited",allowtype:"Allow",denytype:"Deny"},user:{title:"Manage users",emailfield:"Email",loginfield:"Login",lockedfield:"Locked",rtlfield:"RTL",domainloginfield:"Domain login",passwordfield:"Password",groupsfield:"Groups",rolesfield:"Roles",externalIdField:"ExternalId",localizationfield:"Localization",confirmimport:"Are you sure you want to import users from AD/LDAP?",importfinishedmsg:"Import finished",adimportresultheader:"AD/LDAP import result",groupimportresultmsg:function(e,t,n){return[e," group(s) were returned from the Directory. ",t," group(s) were added and ",n," group(s) were deleted."]},groupswithduplicatenamesmsg:"These group(s) weren't imported because group(s) with the same name already exist: ",userimportresultmsg:function(e,t,n,r){return[e," user(s) were returned from the Directory. ",t," user(s) were added, ",n," user(s) were updated and ",r," user(s) were locked."]},userswithduplicateloginmsg:"User(s) with these logins weren't imported because user(s) with same login(s) already exist: ",externallogins:"External logins"},localization:{title:"Localization",updatetemplatebutton:"Update template"},formbuilder:{clearbutton:"Clear",uploadbutton:"Upload",downloadbutton:"Download",toolbar:{sepContainers:"Containers",container:"DIV",form:"Form",formgroup:"Form Group",menu:"Menu",workflowbar:"Workflow bar",customblock:"Custom block",sepCollection:"Collections",gridview:"GridView",collectioneditor:"Collection Editor",sepControls:"Controls",header:"Header",input:"Input",textarea:"TextArea",dictionary:"Dictionary",dropdown:"Dropdown",checkbox:"CheckBox",radiogroup:"Radio group",button:"Button",label:"Label",message:"Message",image:"Image",statistic:"Statistic",customcontrol:"Custom control",staticcontent:"Static Content",dropdowntrigger:"Dropdown trigger",sepCharts:"Charts",barchart:"Bar",linechart:"Line",scatterchart:"Scatter",doughnutchart:"Doughnut",piechart:"Pie",radarchart:"Radar"},preview:{dropzonetext:"Drag and drop a component..."},editforms:{base:{generaltab:"General",styletab:"Style",eventstab:"Events",othertab:"Other",widthfield:"Width",heightfield:"Height",margintopfield:"Margin Top",marginbottomfield:"Margin Bottom",marginleftfield:"Margin Left",marginrightfield:"Margin Right",customcssclassfield:"Custom CSS class",stylefield:"Style",hiddenfield:"Hidden",controlhasnoeventsmsg:"This control has no events.",eventsinfomsg:"These flags enable processing from this element.",requiredfield:"Required",defaultvaluefield:"Default value",customvalidationfield:"Custom Validation",visibleconditionfield:"Visible condition",readonlyconditionfield:"ReadOnly condition",savebutton:"Save",cancelbutton:"Cancel",okbutton:"OK",closebutton:"Close",sizedefault:"Default",sizemini:"Mini",sizetiny:"Tiny",sizesmall:"Small",sizemedium:"Medium",sizelarge:"Large",sizebig:"Big",sizehuge:"Huge",sizemassive:"Massive",attachednone:"None",attachedtop:"Top",attachedbottom:"Bottom",attachedtopright:"Top right",attachedtopleft:"Top left",attachedbottomleft:"Bottom left",attachedbottomright:"Bottom right",labeldefault:"Default",labelleft:"Left",labelright:"Right",labelleftcorner:"Left corner",labelrightcorner:"Right corner",closewithoutsavequestion:"Close without save?",questiontitle:"Question",onchangetimeout:"onChange timeout"},headerform:{namefield:"Name",sizefield:"Size",contentfield:"Content",textalignfield:"Text Align",textalignleft:"Left",textaligncenter:"Center",textalignright:"Right",subheaderfield:"Subheader"},buttonform:{namefield:"Name",typefield:"Type",typenonefield:"None",typesubmitfield:"Submit",sizefield:"Size",contentfield:"Content",optionsfield:"Options",basicfield:"Basic",circularfield:"Circular",compactfield:"Compact",disabledfield:"Disabled",fluidfield:"Fluid",invertedfield:"Inverted",loadingfield:"Loading",primaryfield:"Primary",secondaryfield:"Secondary",togglefield:"Toggle",floatedfield:"Floated",floateddefaultfield:"Default",floatedleftfield:"Left",floatedrightfield:"Right"},labelform:{namefield:"Name",attachedfield:"Attached",contentfield:"Content",sizefield:"Size",optionsfield:"Options",basicfield:"Basic",circularfield:"Circular",cornerfield:"Corner",floatingfield:"Floating",horizontalfield:"Horizontal",pointingfield:"Pointing"},staticcontentform:{namefield:"Name",fontsizefield:"Font size",contentfield:"Content",allowhtmlfield:"Allow HTML"},messageform:{namefield:"Name",headerfield:"Header",optionsfield:"Options",compactfield:"Compact",errorfield:"Error",floatingfield:"Floating",infofield:"Info",negativefield:"Negative",positivefield:"Positive",successfield:"Success",warningfield:"Warning",contentfield:"Content",sizefield:"Size"},inputform:{namefield:"Name",labelfield:"Label",typefield:"Type",typetext:"Text",typenumber:"Number",typedate:"Date",typetime:"Time",typedatetime:"Date & Time",typepasswod:"Password",labelpositionfield:"Label position",optionsfield:"Options",loadingfield:"Loading",invertedfield:"Inverted",errorfield:"Error",disabledfield:"Disabled",transparentfield:"Transparent",fluidfield:"Fluid",readonlyfield:"Read only",placeholderfield:"Placeholder",sizefield:"Size",dateformatfield:"Date Format"},textareaform:{namefield:"Name",labelfield:"Label",rowsfield:"Rows",optionsfield:"Options",placeholderfield:"Placeholder",autoheightfield:"Auto height",readonlyfield:"Read only"},checkboxform:{namefield:"Name",labelfield:"Label",optionsfield:"Options",fittedfield:"Fitted",indeterminatefield:"Indeterminate",readonlyfield:"ReadOnly",disabledfield:"Disabled",sliderfield:"Slider",togglefield:"Toggle"},dropdownform:{namefield:"Name",labelfield:"Label",datafield:"Data",datakeycolumn:"Key",datavaluecolumn:"Value",datatextcolumn:"Text",optionsfield:"Options",loadingfield:"Loading",errorfield:"Error",disabledfield:"Disabled",fluidfield:"Fluid",multiplefield:"Multiple",searchfield:"Search",selectionfield:"Selection",readonlyfield:"Read only",clearablefield:"Clearable",allowAddItemsfield:"Allow add items"},dictionaryform:{namefield:"Name",labelfield:"Label",datamodelfield:"Data model",placeholderfield:"Placeholder",columnsfield:"Columns (Name ASC, Email)",optionsfield:"Options",loadingfield:"Loading",errorfield:"Error",disabledfield:"Disabled",fluidfield:"Fluid",multiplefield:"Multiple",searchfield:"Search",selectionfield:"Selection",readonlyfield:"Read only",clearablefield:"Clearable"},radiogroupform:{namefield:"Name",labelfield:"Label",datafield:"Data",datakeycolumn:"Key",datavaluecolumn:"Value",datatextcolumn:"Text",groupdirectfield:"Group direct",directiongorizontalfield:"Gorizontal",directionverticalfield:"Vertical",readonlyfield:"Read only"},form:{namefield:"Name",sizefield:"Size",optionsfield:"Options",loadingfield:"Loading",errorfield:"Error",invertedfield:"Inverted",replyfield:"Reply",successfield:"Success",warningfield:"Warning"},formgroupform:{namefield:"Name",widthsfield:"Widths",widthsdefaultfield:"Default",widthsequalfield:"Equal",widthscustomfield:"Custom (1 - 16)",typefield:"Type",orientationcolumnsfield:"Columns",orientationrowsfield:"Rows"},containerform:{namefield:"Name",floatfield:"Float",floatnonefield:"None",floatleftfield:"Left",floatrightfield:"Right"},imageform:{namefield:"Name",srcfield:"Src",hreffield:"Href",optionsfield:"Options",avatarfield:"Avatar",borderedfield:"Bordered",centeredfield:"Centered",disabledfield:"Disabled",inlinefield:"Inline",spacedfield:"Spaced",floatedfield:"Floated",floatedleftfield:"Left",floatedrightfield:"Right",verticalalignfield:"Vertical align",verticalaligntopfield:"Top",verticalalignmiddlefield:"Middle",verticalalignbottomfield:"Bottom"},statisticform:{namefield:"Name",optionsfield:"Options",floatedfield:"Floated",horizontalfield:"Horizontal",datafield:"Data",sizefield:"Size"},gridform:{namefield:"Name",optionsfield:"Options",multiselectfield:"Multiselect",filterrowfield:"Filter row",disablesortfield:"Disable sorting",editformfield:"Edit form",editformshowtypefield:"Edit form show type",editformtypedefaultfield:"Default",editformtypemodalfield:"Modal",columnsfield:"Columns",keycolumn:"Key",namecolumn:"Name",typecolumn:"Type",widthcolumn:"Width",resizablecolumn:"Resizable",rowkeyfield:"Row key",pagertypefield:"Pagination type",pagertypenonefield:"None",pagertypeserverfield:"Server",pagesizefield:"Page size",defaultsortfield:"Default sort",rowheightfield:"Row height",minheightfield:"Min height",autoheightfield:"Auto Height",offsetfield:"OffSet",editType:"Edit type",editflowfield:"Edit flow"},collectioneditorform:{namefield:"Name",idfield:"Id field",optionsfield:"Options",readonlyfield:"ReadOnly",draggablefield:"Draggable",hierarchicalfield:"Hierarchical",collapseallfield:"Collapse all",parentidfield:"ParentId field",columnsfield:"Columns",keycolumn:"Key",namecolumn:"Name",controlcolumn:"Control",widthcolumn:"Width",disableAdd:"Disable Add",childrenField:"Children field"},customform:{namefield:"Name",typefield:"Type control",propsfield:"Props",childrenfield:"Children"},customblockform:{namefield:"Name",sourcetypefield:"Source type",sourcetypeformfield:"Form name",sourcetypejsonfield:"JSON source",formnamefield:"Form name",sourcefield:"JSON source",placeholderfield:"Placeholder"},menuform:{namefield:"Name",activeitemfield:"Active Item",itemsfield:"Items",itemstargetcolumn:"Target",itemstitlecolumn:"Title",optionsfield:"Options",pointingfield:"Pointing",secondaryfield:"Secondary",tabularfield:"Tabular",fluidfield:"Fluid",verticalfield:"Vertical",linkfield:"Link",visibleConditioncolumn:"Visible Condition"},dropdowntriggerform:{namefield:"Name",defaultvaluefield:"Default Value",itemsfield:"Items",itemstargetcolumn:"Target",itemstitlecolumn:"Title",itemsvisibleconditioncolumn:"Visible Condition",imageurlfield:"ImageUrl"},chartform:{namefield:"Name",titlefield:"Title",titlesizefield:"Title size",legendpositionfield:"Legend position",responsivefield:"Responsive",datasetcustomfield:"Dataset custom",datalabelsplaceholder:"Q1, Q2, Q3, Q4",datalabelsfield:"Data labels",datasetlabelfield:"Dataset Label",datasetbackgroundcolorfield:"Dataset BackgroundColor"},workflowform:{namefield:"Name",setstatebuttonfield:"Set state button",blocksetstatefield:"Block SetState"},uploadform:{namefield:"Name",iconFiletypes:"Icon file types",customPostUrl:"Custom post url",showFiletypeIcon:"Show file type icon",autoProcessQueue:"Auto process queue",addRemoveLinks:"Add remove links",multile:"Multiple file upload"},breadcrumbform:{namefield:"Name",itemsfield:"Items",itemstextcolumn:"Text",itemsurlcolumn:"Url",itemsactivecolumn:"Active",itemsiconcolumn:"Divider Icon"},searchform:{namefield:"Name",urlfield:"Url",categoryfield:"Enable Categories"},confirm:{title:"Confirm",text:"Please confirm the action",ok:"Ok",cancel:"Cancel"},treepicker:{ok:"Ok",cancel:"Cancel",search:"Search",selectAll:"Select all",removeAll:"Remove all",loadingData:"Loading data",selected:"Selected"}}},dashboard:{integrationapi:"Integration API",integrationapiswagger:"OpenAPI 2.0 (Swagger)integration API description:",settingsMain:"Main"},resourceeditor:{title:"Resource Editor",createfolder:"Create folder",createfile:"Create file",confirmdelete:"Are you sure you want to delete this folder or file?",foldercreated:"The folder has been created",folderdeleted:"The folder has been deleted",filecreated:"The file has been created",filedeleted:"The file has been deleted"},integration:{accessToken:"API Access Token",accessTokenInfo:"You should add 'token' parameter to each workflowapi request."}}},function(e,I,t){(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */var l=t(54),o=t(55),i=t(56);function n(){return d.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(n()<t)throw new RangeError("Invalid typed array length");return d.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=d.prototype:(null===e&&(e=new d(t)),e.length=t),e}function d(e,t,n){if(!(d.TYPED_ARRAY_SUPPORT||this instanceof d))return new d(e,t,n);if("number"!=typeof e)return r(this,e,t,n);if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return a(this,e)}function r(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),d.TYPED_ARRAY_SUPPORT?(e=t).__proto__=d.prototype:e=c(e,t),e}(e,t,n,r):"string"==typeof t?function(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!d.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|p(t,n),a=(e=s(e,r)).write(t,n);return a!==r&&(e=e.slice(0,a)),e}(e,t,n):function(e,t){if(d.isBuffer(t)){var n=0|f(t.length);return 0===(e=s(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?s(e,0):c(e,t);if("Buffer"===t.type&&i(t.data))return c(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function a(e,t){if(u(t),e=s(e,t<0?0:0|f(t)),!d.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function c(e,t){var n=t.length<0?0:0|f(t.length);e=s(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function f(e){if(e>=n())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n().toString(16)+" bytes");return 0|e}function p(e,t){if(d.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return j(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return T(e).length;default:if(r)return j(e).length;t=(""+t).toLowerCase(),r=!0}}function h(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function m(e,t,n,r,a){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):2147483647<n?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=a?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(a)return-1;n=e.length-1}else if(n<0){if(!a)return-1;n=0}if("string"==typeof t&&(t=d.from(t,r)),d.isBuffer(t))return 0===t.length?-1:v(e,t,n,r,a);if("number"==typeof t)return t&=255,d.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?a?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):v(e,[t],n,r,a);throw new TypeError("val must be string, number or Buffer")}function v(e,t,n,r,a){var o,i=1,l=e.length,s=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;l/=i=2,s/=2,n/=2}function u(e,t){return 1===i?e[t]:e.readUInt16BE(t*i)}if(a){var c=-1;for(o=n;o<l;o++)if(u(e,o)===u(t,-1===c?0:o-c)){if(-1===c&&(c=o),o-c+1===s)return c*i}else-1!==c&&(o-=o-c),c=-1}else for(l<n+s&&(n=l-s),o=n;0<=o;o--){for(var d=!0,f=0;f<s;f++)if(u(e,o+f)!==u(t,f)){d=!1;break}if(d)return o}return-1}function g(e,t,n,r){n=Number(n)||0;var a=e.length-n;r?a<(r=Number(r))&&(r=a):r=a;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");o/2<r&&(r=o/2);for(var i=0;i<r;++i){var l=parseInt(t.substr(2*i,2),16);if(isNaN(l))return i;e[n+i]=l}return i}function y(e,t,n,r){return N(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function b(e,t,n){n=Math.min(e.length,n);for(var r=[],a=t;a<n;){var o,i,l,s,u=e[a],c=null,d=239<u?4:223<u?3:191<u?2:1;if(a+d<=n)switch(d){case 1:u<128&&(c=u);break;case 2:128==(192&(o=e[a+1]))&&127<(s=(31&u)<<6|63&o)&&(c=s);break;case 3:o=e[a+1],i=e[a+2],128==(192&o)&&128==(192&i)&&2047<(s=(15&u)<<12|(63&o)<<6|63&i)&&(s<55296||57343<s)&&(c=s);break;case 4:o=e[a+1],i=e[a+2],l=e[a+3],128==(192&o)&&128==(192&i)&&128==(192&l)&&65535<(s=(15&u)<<18|(63&o)<<12|(63&i)<<6|63&l)&&s<1114112&&(c=s)}null===c?(c=65533,d=1):65535<c&&(c-=65536,r.push(c>>>10&1023|55296),c=56320|1023&c),r.push(c),a+=d}return function(e){var t=e.length;if(t<=w)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=w));return n}(r)}I.Buffer=d,I.SlowBuffer=function(e){return+e!=e&&(e=0),d.alloc(+e)},I.INSPECT_MAX_BYTES=50,d.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),I.kMaxLength=n(),d.poolSize=8192,d._augment=function(e){return e.__proto__=d.prototype,e},d.from=function(e,t,n){return r(null,e,t,n)},d.TYPED_ARRAY_SUPPORT&&(d.prototype.__proto__=Uint8Array.prototype,d.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&d[Symbol.species]===d&&Object.defineProperty(d,Symbol.species,{value:null,configurable:!0})),d.alloc=function(e,t,n){return a=t,o=n,u(r=e),r<=0?s(null,r):void 0!==a?"string"==typeof o?s(null,r).fill(a,o):s(null,r).fill(a):s(null,r);var r,a,o},d.allocUnsafe=function(e){return a(null,e)},d.allocUnsafeSlow=function(e){return a(null,e)},d.isBuffer=function(e){return!(null==e||!e._isBuffer)},d.compare=function(e,t){if(!d.isBuffer(e)||!d.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,a=0,o=Math.min(n,r);a<o;++a)if(e[a]!==t[a]){n=e[a],r=t[a];break}return n<r?-1:r<n?1:0},d.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},d.concat=function(e,t){if(!i(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return d.alloc(0);var n;if(void 0===t)for(n=t=0;n<e.length;++n)t+=e[n].length;var r=d.allocUnsafe(t),a=0;for(n=0;n<e.length;++n){var o=e[n];if(!d.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,a),a+=o.length}return r},d.byteLength=p,d.prototype._isBuffer=!0,d.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)h(this,t,t+1);return this},d.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)h(this,t,t+3),h(this,t+1,t+2);return this},d.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)h(this,t,t+7),h(this,t+1,t+6),h(this,t+2,t+5),h(this,t+3,t+4);return this},d.prototype.toString=function(){var e=0|this.length;return 0==e?"":0===arguments.length?b(this,0,e):function(e,t,n){var r,a,o,i=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e=e||"utf8";;)switch(e){case"hex":return C(this,t,n);case"utf8":case"utf-8":return b(this,t,n);case"ascii":return k(this,t,n);case"latin1":case"binary":return E(this,t,n);case"base64":return r=this,o=n,0===(a=t)&&o===r.length?l.fromByteArray(r):l.fromByteArray(r.slice(a,o));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,t,n);default:if(i)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}.apply(this,arguments)},d.prototype.equals=function(e){if(!d.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===d.compare(this,e)},d.prototype.inspect=function(){var e="",t=I.INSPECT_MAX_BYTES;return 0<this.length&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},d.prototype.compare=function(e,t,n,r,a){if(!d.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===a&&(a=this.length),t<0||n>e.length||r<0||a>this.length)throw new RangeError("out of range index");if(a<=r&&n<=t)return 0;if(a<=r)return-1;if(n<=t)return 1;if(this===e)return 0;for(var o=(a>>>=0)-(r>>>=0),i=(n>>>=0)-(t>>>=0),l=Math.min(o,i),s=this.slice(r,a),u=e.slice(t,n),c=0;c<l;++c)if(s[c]!==u[c]){o=s[c],i=u[c];break}return o<i?-1:i<o?1:0},d.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},d.prototype.indexOf=function(e,t,n){return m(this,e,t,n,!0)},d.prototype.lastIndexOf=function(e,t,n){return m(this,e,t,n,!1)},d.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var a=this.length-t;if((void 0===n||a<n)&&(n=a),0<e.length&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r=r||"utf8";for(var o,i,l,s,u,c,d=!1;;)switch(r){case"hex":return g(this,e,t,n);case"utf8":case"utf-8":return u=t,c=n,N(j(e,this.length-u),this,u,c);case"ascii":return y(this,e,t,n);case"latin1":case"binary":return y(this,e,t,n);case"base64":return this,l=t,s=n,N(T(e),this,l,s);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return o=t,i=n,N(function(e,t){for(var n,r,a,o=[],i=0;i<e.length&&!((t-=2)<0);++i)r=(n=e.charCodeAt(i))>>8,a=n%256,o.push(a),o.push(r);return o}(e,this.length-o),this,o,i);default:if(d)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),d=!0}},d.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var w=4096;function k(e,t,n){var r="";n=Math.min(e.length,n);for(var a=t;a<n;++a)r+=String.fromCharCode(127&e[a]);return r}function E(e,t,n){var r="";n=Math.min(e.length,n);for(var a=t;a<n;++a)r+=String.fromCharCode(e[a]);return r}function C(e,t,n){var r,a=e.length;(!t||t<0)&&(t=0),(!n||n<0||a<n)&&(n=a);for(var o="",i=t;i<n;++i)o+=(r=e[i])<16?"0"+r.toString(16):r.toString(16);return o}function _(e,t,n){for(var r=e.slice(t,n),a="",o=0;o<r.length;o+=2)a+=String.fromCharCode(r[o]+256*r[o+1]);return a}function O(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(n<e+t)throw new RangeError("Trying to access beyond buffer length")}function S(e,t,n,r,a,o){if(!d.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(a<t||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function x(e,t,n,r){t<0&&(t=65535+t+1);for(var a=0,o=Math.min(e.length-n,2);a<o;++a)e[n+a]=(t&255<<8*(r?a:1-a))>>>8*(r?a:1-a)}function A(e,t,n,r){t<0&&(t=4294967295+t+1);for(var a=0,o=Math.min(e.length-n,4);a<o;++a)e[n+a]=t>>>8*(r?a:3-a)&255}function D(e,t,n,r){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function F(e,t,n,r,a){return a||D(e,0,n,4),o.write(e,t,n,r,23,4),n+4}function L(e,t,n,r,a){return a||D(e,0,n,8),o.write(e,t,n,r,52,8),n+8}d.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):r<e&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):r<t&&(t=r),t<e&&(t=e),d.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=d.prototype;else{var a=t-e;n=new d(a,void 0);for(var o=0;o<a;++o)n[o]=this[o+e]}return n},d.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||O(e,t,this.length);for(var r=this[e],a=1,o=0;++o<t&&(a*=256);)r+=this[e+o]*a;return r},d.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||O(e,t,this.length);for(var r=this[e+--t],a=1;0<t&&(a*=256);)r+=this[e+--t]*a;return r},d.prototype.readUInt8=function(e,t){return t||O(e,1,this.length),this[e]},d.prototype.readUInt16LE=function(e,t){return t||O(e,2,this.length),this[e]|this[e+1]<<8},d.prototype.readUInt16BE=function(e,t){return t||O(e,2,this.length),this[e]<<8|this[e+1]},d.prototype.readUInt32LE=function(e,t){return t||O(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},d.prototype.readUInt32BE=function(e,t){return t||O(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},d.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||O(e,t,this.length);for(var r=this[e],a=1,o=0;++o<t&&(a*=256);)r+=this[e+o]*a;return(a*=128)<=r&&(r-=Math.pow(2,8*t)),r},d.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||O(e,t,this.length);for(var r=t,a=1,o=this[e+--r];0<r&&(a*=256);)o+=this[e+--r]*a;return(a*=128)<=o&&(o-=Math.pow(2,8*t)),o},d.prototype.readInt8=function(e,t){return t||O(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},d.prototype.readInt16LE=function(e,t){t||O(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},d.prototype.readInt16BE=function(e,t){t||O(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},d.prototype.readInt32LE=function(e,t){return t||O(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},d.prototype.readInt32BE=function(e,t){return t||O(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},d.prototype.readFloatLE=function(e,t){return t||O(e,4,this.length),o.read(this,e,!0,23,4)},d.prototype.readFloatBE=function(e,t){return t||O(e,4,this.length),o.read(this,e,!1,23,4)},d.prototype.readDoubleLE=function(e,t){return t||O(e,8,this.length),o.read(this,e,!0,52,8)},d.prototype.readDoubleBE=function(e,t){return t||O(e,8,this.length),o.read(this,e,!1,52,8)},d.prototype.writeUIntLE=function(e,t,n,r){e=+e,t|=0,n|=0,r||S(this,e,t,n,Math.pow(2,8*n)-1,0);var a=1,o=0;for(this[t]=255&e;++o<n&&(a*=256);)this[t+o]=e/a&255;return t+n},d.prototype.writeUIntBE=function(e,t,n,r){e=+e,t|=0,n|=0,r||S(this,e,t,n,Math.pow(2,8*n)-1,0);var a=n-1,o=1;for(this[t+a]=255&e;0<=--a&&(o*=256);)this[t+a]=e/o&255;return t+n},d.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||S(this,e,t,1,255,0),d.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},d.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||S(this,e,t,2,65535,0),d.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):x(this,e,t,!0),t+2},d.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||S(this,e,t,2,65535,0),d.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):x(this,e,t,!1),t+2},d.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||S(this,e,t,4,4294967295,0),d.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):A(this,e,t,!0),t+4},d.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||S(this,e,t,4,4294967295,0),d.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):A(this,e,t,!1),t+4},d.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var a=Math.pow(2,8*n-1);S(this,e,t,n,a-1,-a)}var o=0,i=1,l=0;for(this[t]=255&e;++o<n&&(i*=256);)e<0&&0===l&&0!==this[t+o-1]&&(l=1),this[t+o]=(e/i>>0)-l&255;return t+n},d.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var a=Math.pow(2,8*n-1);S(this,e,t,n,a-1,-a)}var o=n-1,i=1,l=0;for(this[t+o]=255&e;0<=--o&&(i*=256);)e<0&&0===l&&0!==this[t+o+1]&&(l=1),this[t+o]=(e/i>>0)-l&255;return t+n},d.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||S(this,e,t,1,127,-128),d.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},d.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||S(this,e,t,2,32767,-32768),d.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):x(this,e,t,!0),t+2},d.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||S(this,e,t,2,32767,-32768),d.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):x(this,e,t,!1),t+2},d.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||S(this,e,t,4,2147483647,-2147483648),d.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):A(this,e,t,!0),t+4},d.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||S(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),d.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):A(this,e,t,!1),t+4},d.prototype.writeFloatLE=function(e,t,n){return F(this,e,t,!0,n)},d.prototype.writeFloatBE=function(e,t,n){return F(this,e,t,!1,n)},d.prototype.writeDoubleLE=function(e,t,n){return L(this,e,t,!0,n)},d.prototype.writeDoubleBE=function(e,t,n){return L(this,e,t,!1,n)},d.prototype.copy=function(e,t,n,r){if(n=n||0,r||0===r||(r=this.length),t>=e.length&&(t=e.length),t=t||0,0<r&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var a,o=r-n;if(this===e&&n<t&&t<r)for(a=o-1;0<=a;--a)e[a+t]=this[a+n];else if(o<1e3||!d.TYPED_ARRAY_SUPPORT)for(a=0;a<o;++a)e[a+t]=this[a+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},d.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var a=e.charCodeAt(0);a<256&&(e=a)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!d.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,"number"==typeof(e=e||0))for(o=t;o<n;++o)this[o]=e;else{var i=d.isBuffer(e)?e:j(new d(e,r).toString()),l=i.length;for(o=0;o<n-t;++o)this[o+t]=i[o%l]}return this};var P=/[^+\/0-9A-Za-z-_]/g;function j(e,t){var n;t=t||1/0;for(var r=e.length,a=null,o=[],i=0;i<r;++i){if(55295<(n=e.charCodeAt(i))&&n<57344){if(!a){if(56319<n){-1<(t-=3)&&o.push(239,191,189);continue}if(i+1===r){-1<(t-=3)&&o.push(239,191,189);continue}a=n;continue}if(n<56320){-1<(t-=3)&&o.push(239,191,189),a=n;continue}n=65536+(a-55296<<10|n-56320)}else a&&-1<(t-=3)&&o.push(239,191,189);if(a=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function T(e){return l.toByteArray(function(e){if((e=((t=e).trim?t.trim():t.replace(/^\s+|\s+$/g,"")).replace(P,"")).length<2)return"";for(var t;e.length%4!=0;)e+="=";return e}(e))}function N(e,t,n,r){for(var a=0;a<r&&!(a+n>=t.length||a>=e.length);++a)t[a+n]=e[a];return a}}).call(this,t(53))},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});function r(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=f(n(0)),l=n(1),s=n(15),u=f(s),c=n(62),d=f(n(10));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":R(t))&&"function"!=typeof t?e:t}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":R(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var v=(m(g,i.default.Component),r(g,[{key:"render",value:function(){var e=Boolean(this.props.value);return i.default.createElement(l.Checkbox,{checked:e,disabled:!0})}}]),g);function g(){return p(this,g),h(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}var y=(m(b,i.default.Component),r(b,[{key:"render",value:function(){var e=this.props.value;return i.default.createElement("span",{style:{textAlign:"right"}},i.default.createElement("div",{title:e},e))}}]),b);function b(){return p(this,b),h(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}var w=(m(k,i.default.Component),r(k,[{key:"render",value:function(){var e=(0,d.default)(this.props.value),t="";if(e.isValid()){var n=void 0!==window.DWKitLang&&void 0!==window.DWKitLang.common&&null!=window.DWKitLang.common.dateFormat?window.DWKitLang.common.dateFormat:"L";t=e.format(n)}return i.default.createElement("span",{style:{textAlign:"right"}},i.default.createElement("div",{title:t},t))}}]),k);function k(){return p(this,k),h(this,(k.__proto__||Object.getPrototypeOf(k)).apply(this,arguments))}var E=(m(C,i.default.Component),r(C,[{key:"render",value:function(){var e=(0,d.default)(this.props.value),t="";if(e.isValid()){var n=void 0!==window.DWKitLang&&void 0!==DWKitLang.common&&null!=window.DWKitLang.common.dateFormat?window.DWKitLang.common.dateFormat+" "+(void 0!==window.DWKitLang.common.timeFormat?window.DWKitLang.common.timeFormat:"HH:mm"):"DD.MM.YYYY HH:mm";t=e.format(n)}return i.default.createElement("span",{style:{textAlign:"right"}},i.default.createElement("div",{title:t},t))}}]),C);function C(){return p(this,C),h(this,(C.__proto__||Object.getPrototypeOf(C)).apply(this,arguments))}var _=(m(O,i.default.Component),r(O,[{key:"render",value:function(){var e=(0,d.default)(this.props.value),t="";if(e.isValid()){var n=void 0!==window.DWKitLang&&void 0!==window.DWKitLang.common&&null!=window.DWKitLang.common.timeFormat?window.DWKitLang.common.timeFormat:"HH:mm";t=e.format(n)}return i.default.createElement("span",{style:{textAlign:"right"}},i.default.createElement("div",{title:t},t))}}]),O);function O(){return p(this,O),h(this,(O.__proto__||Object.getPrototypeOf(O)).apply(this,arguments))}var S=(m(x,i.default.Component),r(x,[{key:"isEditFormModal",value:function(){return"modal"===this.props.editFormShowType}},{key:"isEditFormSidebar",value:function(){return"sidebar"===this.props.editFormShowType}},{key:"isServerMode",value:function(){return x.staticIsServerMode(this.props)}},{key:"refresh",value:function(){if(this.isServerMode())this.setState({items:[],selectedIndexes:[],rowsCount:void 0});else{var e=Array.isArray(this.props.value)?x.staticGetSortedAndFilteredItems(this.props.value,this.state.filter,this.state.sort,this.props.defaultSort):[];this.setState({items:e,rowsCount:e.length,selectedIndexes:[],originalItems:this.props.value})}}},{key:"resetSelection",value:function(){this.setState({selectedIndexes:[]})}},{key:"render",value:function(){var e=this.props.className,t=a({},this.props.style),n=this.getGridPropsByPagerType(this.props.pagerType);return n.columns=this.getColumns(),n.rowKey=this.props.rowKey,void 0!==this.props.rowHeight&&""!==this.props.rowHeight&&(n.rowHeight=this.props.rowHeight),this.props.autoHeight?(t.minHeight=this.props.minHeight,void 0!==this.props.offSet&&""!==this.props.offSet?t.height="calc(100vh - "+this.props.offSet+")":t.height="100vh",e=(void 0===e?"":e+" ")+"dwkit-gridview-autoHeight"):void 0!==this.props.minHeight&&""!==this.props.minHeight&&(n.minHeight=this.props.minHeight),this.props.multiselect&&(n.rowSelection={onRowsSelected:this.onRowsSelected.bind(this),onRowsDeselected:this.onRowsDeselected.bind(this),selectBy:{indexes:this.state.selectedIndexes}}),i.default.createElement("div",{key:this.props.name,name:this.props.name,className:e,style:t},i.default.createElement(u.default,a({key:"grid"},n,{rowsCount:this.state.rowsCount,rowGetter:this.gridRowGetter.bind(this),onRowClick:this.gridOnRowClick.bind(this),onGridSort:this.handleGridSort.bind(this)})))}},{key:"getColumns",value:function(){var e=this,t=void 0;return(t=void 0===this.props.columns?[]:Array.isArray(this.props.columns)?this.props.columns:JSON.parse(this.props.columns)).forEach(function(t){null!==t.width&&""!==t.width&&void 0!==t.width&&(t.width=Number(t.width)),!1!==t.sortable&&(t.sortable=!e.props.disableSort),t.filterable=Boolean(e.props.filterRow),t.resizable=Boolean(t.resizable),"number"===t.type?t.formatter=y:"checkbox"===t.type?t.formatter=v:"date"===t.type?t.formatter=w:"time"===t.type?t.formatter=_:"datetime"===t.type?t.formatter=E:"custom"===t.type&&(t.getRowMetaData=function(e){return e},t.formatter=function(e){return null==t.customFormatter||"function"!=typeof t.customFormatter?"":t.customFormatter({row:e.dependentValues,value:e.value,column:t})})}),this.state.isrtl?t.reverse():t}},{key:"getGridPropsByPagerType",value:function(){var e={};return"server"===this.props.pagerType&&(void 0!==this.props.pageSize&&(this.state.pageSize=this.props.pageSize),e.rowRenderer=i.default.createElement(A,{error:this.props.error}),void 0===this.state.rowsCount&&(this.state.rowsCount=1)),e}},{key:"getSeletedRowKeys",value:function(){var r=this,a=[];return this.state.selectedIndexes.forEach(function(e){var t=r.gridRowGetter(e);if(void 0!==t){var n=void 0;null!==r.props.rowKey&&void 0!==r.props.rowKey&&t.hasOwnProperty(r.props.rowKey)&&(n=t[r.props.rowKey]),null!=n&&null!=n||(n=t.__id),null!=n&&a.push(n)}}),a}},{key:"gridRowGetter",value:function(e){if(!(e<0)){var t=this.props.pagerType;if("server"===t&&void 0===this.state.items[e]){var n=this.state.pageSize;this.loadPage(e,n)}return"server"===t?this.state.items[e]:a({},this.state.items[e])}}},{key:"getSort",value:function(){var e=this.state.sort;return""===e&&void 0!==this.props.defaultSort&&(e=this.props.defaultSort),e}},{key:"getFilters",value:function(){return void 0!==this.state.filter?this.state.filter.GetFilterAsObjects():[]}},{key:"loadPage",value:function(e,t){for(var i=this,n=0;n<t;n++)this.state.items[n+e]={__loading:!0};if(void 0===this.props.getAdditionalDataForControl)void 0!==console&&console.log("GridView: For paging on server need to set getAdditionalDataForControl func!");else{var r=this.getSort();this.props.getAdditionalDataForControl(this,{startIndex:e,pageSize:t,filters:this.getFilters(),sort:r},function(e){var t=e.sIndex,n=e.pSize,r=e.rowsCount,a=e.items;if(void 0===r||void 0===a)i.state.rowsCount=0,i.setState({rowsCount:0,items:[]});else{i.state.rowsCount=r;for(var o=0;o<n;o++)o<a.length?i.state.items[t+o]=a[o]:i.state.items[t+o]=void 0;i.forceUpdate()}})}}},{key:"gridOnRowClick",value:function(e,t){if(void 0!==t){var n=Date.now();void 0!==this.rowClickTime&&this.rowClickTime.rowIdx===e&&n-this.rowClickTime.time<=1e3?(this.rowClickTime=void 0,this.onRowDblClick(e,t)):(this.rowClickTime={rowIdx:e,time:n},void 0!==this.props.handleEvent&&this.props.handleEvent({key:this.props.name,eventName:"onRowClick",parameters:{rowIdx:e,row:t}}))}}},{key:"onRowDblClick",value:function(e,t){void 0!==this.props.handleEvent&&this.props.handleEvent({key:this.props.name,eventName:"onRowDblClick",parameters:{rowIdx:e,row:t}})}},{key:"onRowsSelected",value:function(e){this.state.selectedIndexes=this.state.selectedIndexes.concat(e.map(function(e){return e.rowIdx})),void 0!==this.props.handleEvent&&this.props.handleEvent({key:this.props.name,eventName:"onSelectionChanged",parameters:{selectedIndexes:this.state.selectedIndexes}}),this.forceUpdate()}},{key:"onRowsDeselected",value:function(e){var t=e.map(function(e){return e.rowIdx});this.state.selectedIndexes=this.state.selectedIndexes.filter(function(e){return-1===t.indexOf(e)}),void 0!==this.props.handleEvent&&this.props.handleEvent({key:this.props.name,eventName:"onSelectionChanged",parameters:{selectedIndexes:this.state.selectedIndexes}}),this.forceUpdate()}},{key:"handleGridSort",value:function(e,t){var n={};n.sort="NONE"===t?"":e+" "+t;var r=this.props.pagerType;n.items="server"===r?[]:x.staticGetSortedAndFilteredItems(this.props.value,this.state.filter,n.sort,this.props.defaultSort),n.selectedIndexes=[],this.setState(n)}},{key:"handleFilterChange",value:function(e){var t={},n=e.column.key,r="columnfilter_"+n;t.filter=void 0!==this.state.filter?this.state.filter:new c.FunctionalFilter([],this.props.columns.map(function(e){return e.key})),t.filter.RemoveFilter({name:n,id:r}),""!==e.filterTerm&&t.filter.AddFilter({names:[n],expected:e.filterTerm,term:c.FilterTerms.Like,id:r}),x.staticIsServerMode(this.props)?(t.items=[],t.selectedIndexes=[],t.rowsCount=void 0):(t.items=x.staticGetSortedAndFilteredItems(this.props.value,t.filter,this.state.sort,this.props.defaultSort),t.selectedIndexes=[],t.rowsCount=t.items.length),this.setState(t)}},{key:"onClearFilters",value:function(){this.setState({filter:this.props.filter})}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"componentDidMount",value:function(){this._isMounted=!0,this.recalcSizeParams()}},{key:"recalcSizeParams",value:function(){if(this._isMounted&&this.props.autoHeight){var e=$(window).height();this.setState({gridHeight:e-this.props.deltaHeight})}}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n,r,a=null;if(n=t.filter,r=e.filter,JSON.stringify(n)===JSON.stringify(r)){if(!x.staticIsServerMode(e)&&t.originalItems!==e.value){a={};var o=Array.isArray(e.value)?x.staticGetSortedAndFilteredItems(e.value,t.filter,t.sort,e.defaultSort):[];a.items=o,a.rowsCount=o.length,a.selectedIndexes=[],a.originalItems=e.value}}else if(a={filter:e.filter},x.staticIsServerMode(e))a.items=[],a.selectedIndexes=[],a.rowsCount=void 0;else{var i=Array.isArray(e.value)?x.staticGetSortedAndFilteredItems(e.value,e.filter,t.sort,e.defaultSort):[];a.items=i,a.selectedIndexes=[],a.rowsCount=i.length}return a}},{key:"staticIsServerMode",value:function(e){return"server"===e.pagerType}},{key:"staticGetSortedAndFilteredItems",value:function(e,t,n,r){var a=[];if(void 0===e)return a;a=void 0!==t?e.filter(function(e){return t.IsRowMatched(e)}):e;var o=n;if("NONE"===n||""===n){if(void 0===r)return a;o=r}var i=o.indexOf(" "),l=o.substring(0,i),s=o.substring(i+1,o.length);return a.slice(0).sort(function(e,t){var n=void 0!==e[l]&&null!==e[l]&&void 0!==e[l].toLowerCase?e[l].toLowerCase():e[l],r=void 0!==t[l]&&null!==t[l]&&void 0!==t[l].toLowerCase?t[l].toLowerCase():t[l];return n===r?0:null==n?1:null==r?-1:"ASC"===s?r<n?1:-1:"DESC"===s?n<r?1:-1:void 0})}}]),x);function x(e){p(this,x);var t=h(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,e));t.state={items:[],sort:"",defaultSort:e.defaultSort,filter:e.filter,pageSize:20,selectedIndexes:[],rowsCount:x.staticIsServerMode(e)?void 0:0};try{t.state.isrtl="rtl"==getComputedStyle(document.getElementsByTagName("html")[0]).direction}catch(e){}return t}t.default=S;var A=(m(D,i.default.Component),r(D,[{key:"setScrollLeft",value:function(e){this.row.setScrollLeft(e)}},{key:"getClassName",value:function(){var t=this;return this.props.row.__loading?"dwkit-gridview-rowloading":void 0!==this.props.row.__id&&null!==this.props.row.__id&&void 0!==this.props.error&&null!==this.props.error&&Array.isArray(this.props.error)&&void 0!==this.props.error.find(function(e){return e.__id===t.props.row.__id})?"dwkit-gridview-rowerror":""}},{key:"render",value:function(){var t=this;return i.default.createElement("div",{className:this.getClassName()},i.default.createElement(s.Row,a({ref:function(e){return t.row=e}},this.props)))}}]),D);function D(){return p(this,D),h(this,(D.__proto__||Object.getPrototypeOf(D)).apply(this,arguments))}},function(e,o,i){(function(e){var t,n,r,a,ms="function"==typeof Symbol&&"symbol"==R(Symbol.iterator)?function(e){return void 0===e?"undefined":R(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":R(e)};window,a=function(n,r,a,o,i,l,s,u,c,d,f,p,h,m,v,g,y){return k={},b.m=w=[function(e,t){e.exports=n},function(e,t){e.exports=r},function(e,t,n){e.exports=n(74)()},function(e,t){e.exports=a},function(e,t){e.exports=o},function(e,t){e.exports=i},function(e,t,n){var r=n(15).createActions(["add","showEditForm","remove","saveData","save","move","insert"]);e.exports=r},function(e,t,n){var re=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ae=a(n(0)),Y=n(1),r=n(12),J=a(n(19)),Q=a(n(38)),oe=a(n(3)),Z=a(n(39)),X=a(n(41)),ee=a(n(42)),te=a(n(43)),ne=a(n(44)),ie=a(n(45)),le=a(n(10)),se=a(n(46)),ue=a(n(47)),ce=a(n(48)),de=a(n(21)),fe=n(20),pe=a(n(50)),he=a(n(51)),me=a(n(54)),ve=a(n(55)),ge=a(n(59)),ye=a(n(62)),be=a(n(63)),we=a(n(65)),s=a(n(68)),u=a(n(14)),l=a(n(6));function a(e){return e&&e.__esModule?e:{default:e}}var ke=n(9),Ee={Items:[{key:"sepContainers",title:"Containers",isseparate:!0,defaultopen:!0},{key:"container",title:"DIV",control:ne.default,editControl:r.ContainerEditControl},{key:"staticcontent",title:"Static Content",control:ie.default,editControl:r.StaticContentEditControl,defaultValues:{content:"Text..."}},{key:"form",title:"Form",control:ce.default,editControl:r.FormEditControl},{key:"formgroup",title:"Form Group",control:ce.default,editControl:r.FormGroupEditControl,defaultValues:{widths:"equal"}},{key:"tab",title:"Tab",control:me.default,editControl:r.TabEditControl,defaultValues:{panes:[{title:"Tab 1",psid:"t1"},{title:"Tab 2",psid:"t2"},{title:"Tab 3",psid:"t3"}]}},{key:"customblock",title:"Custom block",control:void 0,editControl:r.CustomBlockEditControl,defaultValues:{sourceType:"form"}},{key:"gridlayout",title:"Grid Layout",control:ve.default,editControl:r.GridLayoutEditControl,defaultValues:{draggable:!1,resizable:!1,panes:[{title:"Pane 1",psid:"p1",x:0,w:4},{title:"Pane 2",psid:"p2",x:4,w:4},{title:"Pane 3",psid:"p3",x:8,w:4}]}},{key:"sepCollection",title:"Collections",isseparate:!0},{key:"gridview",title:"GridView",control:Z.default,editControl:r.GridEditControl,defaultValues:{columns:[{key:"id",name:"ID"},{key:"title",name:"Title"},{key:"count",name:"Count"}]}},{key:"collectioneditor",title:"Collection Editor",control:le.default,editControl:r.CollectionEditorEditControl,defaultValues:{columns:[{key:"Id",name:"ID"},{key:"Title",name:"Title"},{key:"Count",name:"Count"}]}},{key:"repeater",title:"Repeater",control:ge.default,editControl:r.RepeaterEditControl,defaultValues:{}},{key:"sepControls",title:"Controls",isseparate:!0},{key:"header",title:"Header",control:ce.default,editControl:r.HeaderEditControl,defaultValues:{content:"Header",size:"medium"}},{key:"input",title:"Input",control:ce.default,editControl:r.InputEditControl,defaultValues:{label:"Input",fluid:!0,onChangeTimeout:200}},{key:"numberformat",title:"Number Format",control:be.default,editControl:r.NumberFormatEditControl,defaultValues:{label:"NumberFormat",fluid:!0,onChangeTimeout:200}},{key:"textarea",title:"TextArea",control:ce.default,editControl:r.TextAreaEditControl,defaultValues:{label:"TextArea",fluid:!0}},{key:"dictionary",title:"Dictionary",control:te.default,editControl:r.DictionaryEditControl,defaultValues:{label:"Dictionary",fluid:!0,selection:!0}},{key:"treepicker",title:"TreePicker",control:he.default,editControl:r.TreePickerEditControl,defaultValues:{label:"TreePicker",selection:!0,fluid:!0,parentIdField:"ParentId"}},{key:"dropdown",title:"Dropdown",control:ce.default,editControl:r.DropdownEditControl,defaultValues:{label:"Dropdown",fluid:!0,selection:!0,"data-elements":[{key:1,value:1,text:"Item 1"},{key:2,value:2,text:"Item 2"},{key:3,value:3,text:"Item 3"}]}},{key:"checkbox",title:"CheckBox",control:ce.default,editControl:r.CheckboxEditControl,defaultValues:{label:"Checkbox"}},{key:"radiogroup",title:"Radio group",control:J.default,editControl:r.RadioGroupEditControl,defaultValues:{label:"Radio","data-elements":[{key:1,value:1,text:"Item 1"},{key:2,value:2,text:"Item 2"},{key:3,value:3,text:"Item 3"}]}},{key:"button",title:"Button",control:ce.default,editControl:r.ButtonEditControl,defaultValues:{content:"Button"}},{key:"label",title:"Label",control:ce.default,editControl:r.LabelEditControl,defaultValues:{content:"Label"}},{key:"message",title:"Message",control:ce.default,editControl:r.MessageEditControl,defaultValues:{header:"Message",content:"Description..."}},{key:"image",title:"Image",control:ce.default,editControl:r.ImageEditControl,defaultValues:{src:"/images/unknown.png"}},{key:"statistic",title:"Statistic",control:ce.default,editControl:r.StatisticEditControl,defaultValues:{"data-elements":[{label:"Score",value:"22,1%"},{label:"Views",value:"30,000"},{label:"Points",value:"500"}]}},{key:"customcontrol",title:"Custom control",control:void 0,editControl:r.CustomEditControl,defaultValues:{props:"{  }"}},{key:"dropdowntrigger",title:"Dropdown trigger",control:ue.default,editControl:r.DropdownTriggerEditControl,defaultValues:{defaultValue:"User",items:[{target:"#1",title:"Item 1"},{target:"#2",title:"Item 2"},{target:"#3",title:"Item 3"}]}},{key:"dropzonecontrol",title:"Dropzone",control:de.default,editControl:r.DropzoneEditControl,defaultValues:{showFiletypeIcon:!1,autoProcessQueue:!0,addRemoveLinks:!0,multile:!0}},{key:"files",title:"Files",control:ye.default,editControl:r.FilesEditControl,defaultValues:{idField:"Id",columns:[{title:"Name",field:"Name",property:"Name",showcolumn:!0},{title:"Length",field:"Length",property:"Length",showcolumn:!1,control:"span"},{title:"Content Type",field:"ContentType",property:"ContentType",showcolumn:!1},{title:"File",field:"Token",property:"Token",showcolumn:!0,control:"file2"}]}},{key:"breadcrumb",title:"Breadcrumbs",control:ce.default,editControl:r.BreadcrumbEditControl,defaultValues:{items:[{text:"Home",url:"/"},{divider:"right angle",text:"Page1",url:"/page1"},{text:"Page2",active:!0}],events:{onItemClick:{active:!0,actions:["redirect"]}}}},{key:"search",title:"Search",control:pe.default,editControl:r.SearchEditControl,defaultValues:{}},{key:"menu",title:"Menu",control:Q.default,editControl:r.MenuEditControl,defaultValues:{items:[{title:"Menu 1"},{title:"Menu 2"},{title:"Menu 3"}]}},{key:"workflowbar",title:"Workflow bar",control:ee.default,editControl:r.WorkflowBarEditControl,defaultValues:{blockSetState:!0,blockLoadParameters:!0,events:{onCommandClick:{active:!0,actions:["workflowExecuteCommand"]},onSetStateClick:{active:!0,actions:["workflowSetState"]},onSchemeSelected:{active:!0,actions:["workflowSelectScheme"]}}}},{key:"richtexteditor",title:"Rich Text Editor",control:we.default,editControl:r.RichTextEditorEditControl,defaultValues:{}},{key:"sepCharts",title:"Charts",isseparate:!0},{key:"barchart",title:"Bar",control:X.default,editControl:r.ChartEditControl,defaultValues:{chartType:"bar",datasetLabel:""}},{key:"linechart",title:"Line",control:X.default,editControl:r.ChartEditControl,defaultValues:{chartType:"line",datasetLabel:""}},{key:"scatterchart",title:"Scatter",control:X.default,editControl:r.ChartEditControl,defaultValues:{chartType:"scatter",datasetLabel:""}},{key:"doughnutchart",title:"Doughnut",control:X.default,editControl:r.ChartEditControl,defaultValues:{chartType:"doughnut",datasetLabel:""}},{key:"piechart",title:"Pie",control:X.default,editControl:r.ChartEditControl,defaultValues:{chartType:"pie",datasetLabel:""}},{key:"radarchart",title:"Radar",control:X.default,editControl:r.ChartEditControl,defaultValues:{chartType:"radar",datasetLabel:""}}],createControls:function(e,t){var n=t.model,r=t.data,a=t.errors,o=t.eventOnEdit,i=t.eventOnDelete,l=t.eventOnCopy,s=t.handleEvent,u=t.parentItem,c=t.getFormFunc,d=t.getAdditionalDataForControl,f=t.buildermode,p=t.hideControls,h=t.readOnlyControls,m=t.readOnly,v=t.disableRefs,g=t.uploadUrl,y=t.downloadUrl,b=t.extendedData,w=t.controlsToReplace,k=t.needCheckReplace,E=t.parentPlaceholder,C=t.formItem,_=t.externalControlRender,O=t.externalControlList,S=t.adaptiveViewType,x=t.formData,A=[];if(null==n)return A;for(var D=0;D<n.length;D++)if(!(Array.isArray(p)&&p.includes(n[D].key)||!f&&!Ee.isAdaptiveRender(n[D],S))){var F=void 0,L=n[D]["data-buildertype"];if("customcontrol"===L)if(void 0===n[D].type||""===n[D].type)F=ae.default.createElement("div",{className:"dwkit-formbuilder-empty",key:n[D].key},"Fill Type property for rendering the control.");else{var P=void 0===n[D].props?{}:oe.default.parse(n[D].props),j=re({},P,{key:n[D].key,name:n[D].key,className:n[D]["style-customcss"],style:Ee.getStyle(n[D],f,S),"data-buildertype":n[D]["data-buildertype"],getAdditionalDataForControl:d,uploadUrl:g,downloadUrl:y});(m||Array.isArray(h)&&h.includes(j.key))&&(j.readOnly=!0);var T=n[D].children;if(void 0!==n[D].children)try{T=oe.default.parse(n[D].children)}catch(e){}F=void 0===T||Array.isArray(T)&&0===T.length?ae.default.createElement(n[D].type,j):ae.default.createElement(n[D].type,j,T)}else if("customblock"===L){var N=[],I=!1,M=!1,R=!1,V=n[D],W=E,B=C;if("form"===n[D].sourceType||void 0===n[D].sourceType)if(void 0!==n[D].children&&""!==n[D].children)N=n[D].children;else{if(void 0===c){console.error('Error: "getFormFunc" parameter is undefined!. Please, set "getFormFunc" parameter for DWKitBuilder or DWKitForm!');continue}void 0!==n[D].formname&&""!==n[D].formname?N=c(n[D].formname):I=!0}else"placeholder"===n[D].sourceType?(R=M=void 0!==o,V=u,void 0===W&&(W=n[D].key),void 0===B&&(B=u),void 0!==B&&void 0!==B.placeholders&&void 0!==B.placeholders[n[D].key]&&(N=B.placeholders[n[D].key])):void 0!==n[D].source&&""!==n[D].source?N=oe.default.parse(n[D].source):I=!0;if(I)F=ae.default.createElement("div",{className:"dwkit-formbuilder-empty",key:n[D].key},"Set a form name or source in propepries.");else{var z=Ee.createControls(e,{model:N,data:r,errors:a,buildermode:M,eventOnEdit:o,eventOnDelete:i,eventOnCopy:l,parentItem:V,handleEvent:s,getFormFunc:c,getAdditionalDataForControl:d,hideControls:p,readOnlyControls:h,readOnly:m,disableRefs:v,uploadUrl:g,downloadUrl:y,controlsToReplace:w,needCheckReplace:k,parentPlaceholder:W,formItem:B,extendedData:b,externalControlRender:_,externalControlList:O,adaptiveViewType:S,formData:x}),K=n[D]["style-customcss"];f&&(K=(null==K?"":K+" ")+"dwkit-formbuilder-item-container");var U={key:n[D].key,name:n[D].key,className:K,style:Ee.getStyle(n[D],f,S),"data-buildertype":n[D]["data-buildertype"]};if(R){if(void 0===z&&(z=[]),0<z.length){var G=Ee.createBuilderDropzone(n[D].key+"_dropzone_footer",void 0===B?void 0:B.key,z[z.length-1].key,n[D].key,n[D].key);z.push(G)}var q=Ee.createBuilderDropzone(n[D].key+"_dropzone_header",void 0===B?void 0:B.key,void 0,n[D].key,n[D].key);z.unshift(q)}F=ae.default.createElement("div",U,z)}}else{var H=Ee.getControlByType(L,O);if(null===H)F=ae.default.createElement("div",{key:n[D].key},L," is unsupported");else if(Ee.isContainer(L)){var $=C;null==$&&null!=u&&"form"===u.sourceType&&($=u);var Y=void 0;void 0!==n[D].readOnly&&(Y=n[D].readOnly),(m||Array.isArray(h)&&h.includes(n[D].key))&&(Y=!0);var J=f&&("formgroup"===n[D]["data-buildertype"]&&"grouped"!==n[D].orientation||"container"===n[D]["data-buildertype"]&&"flex"===n[D]["style-display"]),Q=Ee.createControls(e,{model:n[D].children,data:r,errors:a,buildermode:f,eventOnEdit:o,eventOnDelete:i,eventOnCopy:l,parentItem:n[D],handleEvent:s,getFormFunc:c,getAdditionalDataForControl:d,hideControls:p,readOnlyControls:h,readOnly:Y,disableRefs:v,uploadUrl:g,downloadUrl:y,controlsToReplace:w,needCheckReplace:k,parentPlaceholder:void 0,formItem:$,extendedData:b,externalControlRender:_,externalControlList:O,adaptiveViewType:S,formData:x});if(f){if(0<Q.length){var Z=J?"...":"... "+n[D].key+" down ...",X=Ee.createBuilderDropzone(n[D].key+"-dropzone_footer",n[D].key,void 0,Z);Q.push(X)}var ee=J?"...":"... "+n[D].key+" up ...",te=Ee.createBuilderDropzone(n[D].key+"-dropzone_header",n[D].key,void 0,ee);Q.unshift(te)}F=Ee.createControl(e,H,{model:n[D],data:r,errors:a,parentItem:u,buildermode:f,children:Q,handleEvent:s,getFormFunc:c,getAdditionalDataForControl:d,readOnlyControls:h,readOnly:m,disableRefs:v,uploadUrl:g,downloadUrl:y,extendedData:b,parentPlaceholder:E,controlsToReplace:w,needCheckReplace:k,eventOnEdit:o,eventOnDelete:i,eventOnCopy:l,externalControlRender:_,externalControlList:O,adaptiveViewType:S,formData:x})}else F=Ee.createControl(e,H,{model:n[D],data:r,errors:a,parentItem:u,buildermode:f,handleEvent:s,getFormFunc:c,getAdditionalDataForControl:d,readOnlyControls:h,readOnly:m,disableRefs:v,uploadUrl:g,downloadUrl:y,extendedData:b,parentPlaceholder:E,controlsToReplace:w,needCheckReplace:k,eventOnEdit:o,eventOnDelete:i,eventOnCopy:l,externalControlRender:_,externalControlList:O,adaptiveViewType:S,formData:x})}if(f){if(0<D&&D<n.length){var ne=Ee.createBuilderDropzone(n[D].key+"-dropzone_bw",void 0===u?void 0:u.key,n[D].key,"...",E);A.push(ne)}A.push(ae.default.createElement(se.default,{key:F.key+"_controlbar",control:F,text:n[D]["data-buildertype"],model:n[D],parent:e,onDelete:i,onEdit:o,onCopy:l,isGroup:"formgroup"===n[D]["data-buildertype"]}))}else A.push(F)}return A},getControlInfoByType:function(e,t){for(var n=0;n<Ee.Items.length;n++)if(Ee.Items[n].key===e)return Ee.Items[n];var r=t;if(!r&&window.DWKitFormSettings&&(r=window.DWKitFormSettings.externalControlList),r)for(var a=0;a<r.length;a++)if(r[a].key===e)return r[a]},getControlByType:function(e,t){var n=Ee.getControlInfoByType(e,t);return n?n.control:null},getEditControlByType:function(e,t){var n=Ee.getControlInfoByType(e,t);return n?n.editControl:null},getStyle:function(e,t,n){var r={};return e["style-marginTop"]&&(r.marginTop=e["style-marginTop"]),e["style-marginBottom"]&&(r.marginBottom=e["style-marginBottom"]),e["style-marginLeft"]&&(r.marginLeft=e["style-marginLeft"]),e["style-marginRight"]&&(r.marginRight=e["style-marginRight"]),e["style-width"]&&(r.width=e["style-width"]),e["style-height"]&&(r.height=e["style-height"]),void 0!==e["style-float"]&&(r.float=e["style-float"]),void 0!==e["style-display"]&&(r.display=e["style-display"]),e["style-hidden"]&&(t?r.opacity=.2:r.display="none"),void 0!==e["style-source"]&&Ee.getCustomStyle(e["style-source"],r),void 0!==e["style-font-size"]&&(r["font-size"]=e["style-font-size"]),e["style-adaptive"]&&void 0!==e["style-mobilesource"]&&"mobile"===n&&Ee.getCustomStyle(e["style-mobilesource"],r),r},getCustomStyle:function(e,r){e.split(";").forEach(function(e){var t=e.split(":");if(2===t.length){var n=t[0].replace(/^\s+|\s+$/g,"");r[n]=t[1].replace(/^\s+|\s+$/g,"")}})},isAdaptiveRender:function(e,t){return!e["style-adaptive"]||null==t||""===t||!e["style-renderwhen"]||t==e["style-renderwhen"]},regexForReplace:/{\S[A-z,0-9,_,-,.,:, ,/]+?}/gm,createControl:function(e,t,n){var i=n.model,l=n.data,r=n.errors,a=n.parentItem,o=n.buildermode,s=n.children,u=n.handleEvent,c=n.getAdditionalDataForControl,d=n.getFormFunc,f=n.readOnlyControls,p=n.readOnly,h=n.disableRefs,m=n.uploadUrl,v=n.downloadUrl,g=n.extendedData,y=n.controlsToReplace,b=n.needCheckReplace,w=n.eventOnEdit,k=n.eventOnDelete,E=n.eventOnCopy,C=n.externalControlRender,_=n.externalControlList,O=n.adaptiveViewType,S=n.formData,x=void 0,A=void 0,D=i["style-customcss"];if(1==i["other-required"]){var F="dwkit-required-field";D=null==D||""==D?F:D+F}var L={key:i.key,name:i.key,className:D,style:Ee.getStyle(i,o,O),"data-buildertype":i["data-buildertype"],propertyName:i.propertyName?i.propertyName:i.key};L.key||console.log(i);var P=L["data-buildertype"],j=b||y.includes(i.key);function T(e){if(!j||null==e)return e;function r(e){return null!=S?"row."===e.slice(1,5)?Ee.getFormatedDate(e.slice(5,e.length-1),l):Ee.getFormatedDate(e.slice(1,e.length-1),S):Ee.getFormatedDate(e.slice(1,e.length-1),l)}if(Array.isArray(e)){var a=[],o=!1;return e.forEach(function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(void 0!==e[n]&&null!==e[n]&&"string"==typeof e[n]?(t[n]=e[n].replace(N,function(e){return r(e)}),!o&&b&&t[n]!==e[n]&&(o=!0)):Array.isArray(e[n])?t[n]=T(e[n]):t[n]=e[n]);a.push(t)}),o&&y.push(i.key),a}if("string"!=typeof e)return e;var t=e.replace(N,function(e){return r(e)});return b&&e!==t&&y.push(i.key),t}o&&Ee.isContainer(L["data-buildertype"])&&(L.className=(null==L.className?"":L.className+" ")+"dwkit-formbuilder-item-container"),h||(L.ref=i.key),void 0!==i.readOnly&&(L.readOnly=i.readOnly),(p||Array.isArray(f)&&f.includes(i.key))&&(L.readOnly=!0);var N=Ee.regexForReplace;if(void 0!==l&&(i.propertyName?L.value=l[i.propertyName]:L.value=l[L.key]),null!=r&&(i.propertyName?L.error=r[i.propertyName]:L.error=r[L.key]),t===ce.default)"header"===P?(L.content=T(i.content),L.subheader=T(i.subheader)):"label"===P?L.content=T(i.content):"message"===P?(L.content=T(i.content),L.header=T(i.header)):"image"===P?(L.src=T(i.src),L.href=T(i.href)):"breadcrumb"===P?L.items=T(i.items):"button"===P&&(L.content=T(i.content)),A=ae.default.createElement(ce.default,re({},L,{additionalParams:{model:i,data:l,errors:r,children:s,handleEvent:u,parentItem:a,uploadUrl:m,downloadUrl:v}}));else if(t==be.default)L.format=i.format,L.mask=i.mask,L.thousandSeparator=i.thousandSeparator,L.prefix=i.prefix,L.suffix=i.suffix,A=ae.default.createElement(be.default,re({},L,{additionalParams:{model:i,data:l,errors:r,children:s,handleEvent:u,parentItem:a,uploadUrl:m,downloadUrl:v}}));else if(t===te.default)L.label=i.label,L.defaultValue=i.defaultValue,L.placeholder=i.placeholder,L.disabled=i.disabled,L.fluid=i.fluid,L.selection=i.selection,L.multiple=i.multiple,L.search=i.search,L.dataModel=i.dataModel,L.clearable=i.clearable,L.columns=i.columns,L.paging=i.paging,L.pageSize=i.pageSize,L.getAdditionalDataForControl=c,L.filters=T(i.filters),i.text&&(L.textFunc=new Function("data","return "+i.text+";")),r&&void 0!==r[i.key]&&(L.error=r[i.key]),L.handleEvent=u,L.parentIsForm=Ee.isForm(a),A=ae.default.createElement(te.default,L);else if(t===ue.default)L.defaultValue=i.defaultValue,L.items=i.items,L.imageUrl=i.imageUrl,L.handleEvent=u,A=ae.default.createElement(ue.default,L);else if(t===pe.default)L.url=i.url,L.category=i.category,L.handleEvent=u,A=ae.default.createElement(pe.default,L);else if(t===J.default){var I=[];void 0!==i["data-elements"]&&(I=Array.isArray(i["data-elements"])?i["data-elements"]:oe.default.parse(i["data-elements"])),L.handleEvent=u,r&&void 0!==r[i.key]&&(L.error=r[i.key]),A=ae.default.createElement(J.default,re({},L,{label:i.label,direction:i.direction,placeholder:i.placeholder,items:I}))}else if(t===le.default){if(L.columns=i.columns,L.draggable=i.draggable,L.hierarchical=i.hierarchical,L.parentIdField=i.parentIdField,L.idField=i.idField,L.childrenField=i.childrenField,L.collapseAll=i.collapseAll,L.disableAdd=i.disableAdd,L.placeholders=ke(i.placeholders),L.placeholders&&(L.data=l,L.adaptiveViewType=O,L.controlBarParams={adaptiveViewType:O,eventOnDelete:k,eventOnEdit:w,eventOnCopy:E,parentComponent:e},L.getAdditionalDataForControl=c,L.createControl=Ee.createCollectionEditorControl),L.handleEvent=u,L.downloadUrl=v,L.uploadUrl=m,o&&void 0===L.value&&void 0!==L.columns){for(L.buildermode=o,L.createBuilderDropzone=Ee.createBuilderDropzone,L.value=[],x=0;x<5;x++)L.value.push({});if(Boolean(i.hierarchical)&&void 0!==i.parentIdField&&""!==i.parentIdField&&void 0!==i.idField&&""!==i.idField)for(x=1;x<5;x++){var M=L.value[x];void 0===M[i.idField]&&(M[i.idField]=x);for(var R=0;R<2;R++){var V={};V[i.parentIdField]=M[i.idField],L.value.push(V)}}}void 0!==g&&void 0!==g.filters&&void 0!==g.filters[L.key]&&(L.filter=new fe.FunctionalFilter(g.filters[L.key],L.columns.map(function(e){return e.key}))),A=ae.default.createElement(le.default,L)}else if(t===Z.default){if(L.columns=i.columns,L.multiselect=i.multiselect,L.rowKey=i.rowKey,L.editForm=i.editForm,L.editFlow=i.editFlow,L.editType=i.editType,L.pagerType=i.pagerType,L.pageSize=i.pageSize,L.rowHeight=i.rowHeight,L.minHeight=i.minHeight,L.autoHeight=i.autoHeight,L.offSet=i.offSet,L.disableSort=i.disableSort,L.resizeColumns=i.resizeColumns,L.editFormShowType=i.editFormShowType,L.sidebarDirection=i.sidebarDirection,L.getAdditionalDataForControl=c,L.handleEvent=u,L.defaultSort=i.defaultSort,r&&void 0!==r[i.key]&&(L.error=r[i.key]),o&&void 0===L.value){L.value=[];var W=function(){var t={};L.columns.forEach(function(e){t[e.key]=e.key+"_"+x}),L.value.push(t)};for(x=0;x<30;x++)W()}void 0!==g&&void 0!==g.filters&&void 0!==g.filters[L.key]&&(L.filter=new fe.FunctionalFilter(g.filters[L.key],L.columns.map(function(e){return e.key}))),A=ae.default.createElement(Z.default,L)}else if(t===Q.default)L["data-items"]=T(i.items),L.pointing=i.pointing,L.secondary=i.secondary,L.tabular=i.tabular,L.fluid=i.fluid,L.vertical=i.vertical,L.activeitem=i.activeitem,L.link=i.link,L.handleEvent=u,A=ae.default.createElement(Q.default,L);else if(t===me.default)L["data-panes"]=i.panes,L.pointing=i.pointing,L.secondary=i.secondary,L.tabular=i.tabular,L.fluid=i.fluid,L.vertical=i.vertical,L.activeitem=i.activeitem,L.placeholders=i.placeholders,Ee.setCreateControlsProps(L,{data:l,buildermode:o,model:i,children:s,getFormFunc:d,getAdditionalDataForControl:c,disableRefs:h,uploadUrl:m,downloadUrl:v,extendedData:g,controlsToReplace:y,eventOnEdit:w,eventOnDelete:k,eventOnCopy:E,adaptiveViewType:O,handleEvent:u,externalControlList:_,externalControlRender:C,needCheckReplace:b,readOnly:p,readOnlyControls:f,errors:r}),A=ae.default.createElement(me.default,L);else if(t===ve.default)L.draggable=i.draggable,L.resizable=i.resizable,L.scroll=i.scroll,L.cols=i.cols,L["data-panes"]=i.panes,L.placeholders=i.placeholders,Ee.setCreateControlsProps(L,{data:l,buildermode:o,model:i,children:s,getFormFunc:d,getAdditionalDataForControl:c,disableRefs:h,uploadUrl:m,downloadUrl:v,extendedData:g,controlsToReplace:y,eventOnEdit:w,eventOnDelete:k,eventOnCopy:E,adaptiveViewType:O,handleEvent:u,errors:r,readOnlyControls:f,readOnly:p,needCheckReplace:b}),A=ae.default.createElement(ve.default,L);else if(t===X.default){if(L.chartType=i.chartType,L.responsive=i.responsive,L.legendPosition=i.legendPosition,L.title=i.title,L.titleSize=i.titleSize,L.datasetCustom=i.datasetCustom,L.dataLabels=i.dataLabels,L.datasetLabel=i.datasetLabel,L.datasetSteppedLine=i.datasetSteppedLine,L.datasetBorderColor=i.datasetBorderColor,L.datasetFill=i.datasetFill,L.datasetBorderWidth=i.datasetBorderWidth,L.datasetBackgroundColor=i.datasetBackgroundColor,o)if(L.datasetCustom)L.value=[1,2,3,4,3,2,1];else{var B="scatter"!==L.chartType?[6,23,15,3]:[{x:6,y:-12},{x:11,y:1},{x:24,y:5},{x:40,y:32}];L.value={labels:["Q1","Q2","Q3","Q4"],datasets:[{data:B}]}}else void 0!==l&&(L.value=l[L.key]);A=ae.default.createElement(X.default,L)}else if(t===ee.default)L.blockSetState=i.blockSetState,L.blockCommands=i.blockCommands,L.setStateButton=i.setStateButton,L.handleEvent=u,L.getAdditionalDataForControl=c,L.blockLoadParameters=void 0===i.blockLoadParameters||i.blockLoadParameters,L.blockSelectScheme=i.blockSelectScheme,L.selectSchemeDropdown=i.selectSchemeDropdown,l&&(L.selectedScheme=l.__wf_selectedscheme),L.schemes=g&&g.schemes?g.schemes:[],r&&void 0!==r[i.key]&&(L.error=r[i.key]),o&&(L.commands=[{value:"approve",text:"Approve",type:1},{value:"back",text:"Back",type:2}],L.states=[{value:"draft",text:"Draft"},{value:"state1",text:"State 1"},{value:"state2",text:"State 2"},{value:"state3",text:"State 3"},{value:"finish",text:"Finish"}],L.schemes=[]),A=ae.default.createElement(ee.default,L);else if(t===ne.default)L.style&&"flex"===i["style-display"]&&(i["style-display-horizontalalign"]&&(L.style.justifyContent=i["style-display-horizontalalign"]),i["style-display-verticalalign"]?L.style.alignItems=i["style-display-verticalalign"]:L.style.alignItems="baseline"),delete L.propertyName,A=ae.default.createElement(ne.default,re({},L,{children:s}));else if(t===ge.default){L.slider=i.slider,L["item-visibleCondition"]=i["item-visibleCondition"],L.pageSize=i.pageSize,L.pagerType=i.pagerType,L.loadButtonLabel=i.loadButtonLabel,L.noRecordsLabel=i.noRecordsLabel,L.defaultSort=i.defaultSort,void 0!==g&&void 0!==g.filters&&void 0!==g.filters[L.key]&&(L.filter=new fe.FunctionalFilter(g.filters[L.key],["*"])),L.placeholders=ke(i.placeholders),L.controlProps={readOnly:"server"===i.pagerType||p},L.model=i,L.data=l;var z=L.controlProps;Ee.setCreateControlsProps(z,{children:s,getAdditionalDataForControl:c,disableRefs:h,uploadUrl:m,downloadUrl:v,extendedData:g,controlsToReplace:y,eventOnEdit:w,eventOnDelete:k,eventOnCopy:E,adaptiveViewType:O,handleEvent:u,externalControlList:_,externalControlRender:C,readOnlyControls:f,buildermode:o}),A=ae.default.createElement(ge.default,L)}else if(t===ie.default)L.content=T(i.content),L.isHtml=i.isHtml,A=ae.default.createElement(ie.default,L);else if(t===de.default)L.iconFiletypes=i.iconFiletypes,L.postUrl=m,L.showFiletypeIcon=i.showFiletypeIcon,L.autoProcessQueue=i.autoProcessQueue,L.addRemoveLinks=i.addRemoveLinks,A=ae.default.createElement(de.default,re({},L,{additionalParams:{model:i,data:l,errors:r,children:s,handleEvent:u,parentItem:a}}));else if(t===ye.default)L.iconFiletypes=i.iconFiletypes,L.postUrl=m,L.showFiletypeIcon=i.showFiletypeIcon,L.autoProcessQueue=i.autoProcessQueue,L.useDropzone=i.useDropzone,L.columns=i.columns,L.idField=i.idField,L.downloadUrl=v,A=ae.default.createElement(ye.default,re({},L,{additionalParams:{model:i,data:l,errors:r,children:s,handleEvent:u,parentItem:a}}));else if(t===he.default){if(L.label=i.label,L.defaultValue=i.defaultValue,L.placeholder=i.placeholder,L.selection=i.selection,L.multiple=i.multiple,L.search=i.search,L.dataModel=i.dataModel,L.clearable=i.clearable,L.columns=i.columns,L.paging=i.paging,L.pageSize=i.pageSize,L.parentIdField=i.parentIdField,L.getAdditionalDataForControl=c,L.modalCssClass=i["style-custommodalcss"],L.fluid=i.fluid,L.disabled=i.disabled,L.handleEvent=u,void 0!==i["style-modalsource"]){var K={};Ee.getCustomStyle(i["style-modalsource"],K),L.modalStyle=K}r&&void 0!==r[i.key]&&(L.error=r[i.key]),i.text&&(L.textFunc=new Function("data","return "+i.text+";")),L.parentIsForm=Ee.isForm(a),A=ae.default.createElement(he.default,L)}else if(t==we.default)A=ae.default.createElement(we.default,re({},L,{additionalParams:{model:i,data:l,errors:r,children:s,handleEvent:u,parentItem:a,uploadUrl:m,downloadUrl:v}}));else{var U=C;!U&&window.DWKitFormSettings&&(U=window.DWKitFormSettings.externalControlRender),U&&(L.parentIsForm=this.isForm(a),A=U(e,t,{model:i,data:l,errors:r,parentItem:a,buildermode:o,children:s,handleEvent:u,getAdditionalDataForControl:c,readOnlyControls:f,readOnly:p,disableRefs:h,uploadUrl:m,downloadUrl:v,extendedData:g,controlsToReplace:y,needCheckReplace:b,eventOnEdit:w,eventOnDelete:k,eventOnCopy:E,controlProps:L,replaceControlValue:T})),A||console.error("Control is unsupported!",t,i)}if(!0!==i["tooltip-errordisabled"]&&r&&void 0!==r[i.key]&&"boolean"!=typeof r[i.key]){var G=""==i["tooltip-errorposition"]?void 0:i["tooltip-errorposition"],q=""==i["tooltip-errorshowtype"]?void 0:i["tooltip-errorshowtype"];return ae.default.createElement(Y.Popup,{key:i.key+"-error",trigger:A,on:q,position:G,className:"dwkit-tooltiperror",content:r[i.key]})}if(i["tooltip-enabled"]){var H=""==i["tooltip-showtype"]?void 0:i["tooltip-showtype"],$=""==i["tooltip-position"]?void 0:i["tooltip-position"];return ae.default.createElement(Y.Popup,{key:i.key+"-tooltip",trigger:A,on:$,position:H,className:i["tooltip-classname"],header:i["tooltip-header"],content:i["tooltip-content"]})}return A},setCreateControlsProps:function(e,t){Object.assign(e,t),e.buildermode&&(e.createBuilderDropzone=Ee.createBuilderDropzone),e.createControls=Ee.createControls},createCollectionEditorControl:function(e,t,n,r){var a=Ee.getControlByType(t);if(a){var o=Ee.createControl(e,a,re({},n,{needCheckReplace:!0})),i=[];return n.buildermode?(i.push(ae.default.createElement(se.default,{key:o.key+"_controlbar",control:o,model:n.model,parent:r.parentComponent,onDelete:r.eventOnDelete,onEdit:r.eventOnEdit,onCopy:r.eventOnCopy})),i):o}console.error("Control is unsupported!",t,e,n)},isContainer:function(e){return"form"===e||"formgroup"===e||"grid"===e||"gridcolumn"===e||"container"===e||"div"===e||"repeater"===e},isForm:function(e){return null!=e&&("form"===e["data-buildertype"]||"formgroup"===e["data-buildertype"])},createBuilderDropzone:function(t,n,r,e,a){var o=ae.default.createElement("div",{name:t,key:t,elementafter:r,elementtoinsert:n,placeholderkey:a,className:"dwkit-formbuilder-zone"},"DROP ZONE"),i="";return ae.default.createElement(Y.Popup,{key:t,trigger:o,onClose:function(){var e=void 0;try{e=oe.default.parse(i)}catch(e){}void 0!==e&&l.default.insert(e,t,n,r,a)},content:ae.default.createElement(Y.TextArea,{rows:"10",width:"200px",onChange:function(e,t){t.name;var n=t.value;i=n},placeholder:"Insert a model control"}),on:"click"})},fillDefaultValues:function(e,t){for(var n in t)void 0===e[n]&&(e[n]=t[n]);return e},getFormatedDate:function(e,t){if(null==t)return"";var n=void 0,r=void 0,a=e.indexOf(":");0<a?(n=e.substring(0,a),r=e.substring(a+1,e.length)):n=e;var o=t[n];if(null==o&&(o=""),null!=r)if("number"==typeof o)o=(0,s.default)(o).format(r);else{var i=(0,u.default)(o);if(i.isValid())if("local"==r){var l=void 0!==window.DWKitLang&&void 0!==window.DWKitLang.common&&null!=window.DWKitLang.common.dateFormat?window.DWKitLang.common.dateFormat:"L";o=i.format(l)}else o=i.format(r)}return o}};e.exports=Ee},function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0);function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":ms(t))&&"function"!=typeof t?e:t}var o=n(4),l=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":ms(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(s,a.Component),r(s.prototype,[{key:"shouldComponentUpdate",value:function(e){return!o(this.props,e)}}]),s);function s(){var e,t,n;!function(e){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this);for(var r=arguments.length,a=Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=n=i(this,(e=s.__proto__||Object.getPrototypeOf(s)).call.apply(e,[this].concat(a)))).handleChange=function(e,t){n.props.handleChange(n.props.row,e,t)},i(n,t)}t.default=l},function(t,e,n){(function(O){var e=function(){function b(e,t){return null!=t&&e instanceof t}var w,k,E;try{w=Map}catch(e){w=function(){}}try{k=Set}catch(e){k=function(){}}try{E=Promise}catch(e){E=function(){}}function C(e,p,t,h,m){"object"==(void 0===p?"undefined":ms(p))&&(t=p.depth,h=p.prototype,m=p.includeNonEnumerable,p=p.circular);var v=[],g=[],y=void 0!==O;return void 0===p&&(p=!0),void 0===t&&(t=1/0),function a(e,o){if(null===e)return null;if(0===o)return e;var i,t;if("object"!=(void 0===e?"undefined":ms(e)))return e;if(b(e,w))i=new w;else if(b(e,k))i=new k;else if(b(e,E))i=new E(function(t,n){e.then(function(e){t(a(e,o-1))},function(e){n(a(e,o-1))})});else if(C.__isArray(e))i=[];else if(C.__isRegExp(e))i=new RegExp(e.source,_(e)),e.lastIndex&&(i.lastIndex=e.lastIndex);else if(C.__isDate(e))i=new Date(e.getTime());else{if(y&&O.isBuffer(e))return i=O.allocUnsafe?O.allocUnsafe(e.length):new O(e.length),e.copy(i),i;b(e,Error)?i=Object.create(e):void 0===h?(t=Object.getPrototypeOf(e),i=Object.create(t)):(i=Object.create(h),t=h)}if(p){var n=v.indexOf(e);if(-1!=n)return g[n];v.push(e),g.push(i)}for(var r in b(e,w)&&e.forEach(function(e,t){var n=a(t,o-1),r=a(e,o-1);i.set(n,r)}),b(e,k)&&e.forEach(function(e){var t=a(e,o-1);i.add(t)}),e){var l;t&&(l=Object.getOwnPropertyDescriptor(t,r)),l&&null==l.set||(i[r]=a(e[r],o-1))}if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++){var u=s[r];(d=Object.getOwnPropertyDescriptor(e,u))&&!d.enumerable&&!m||(i[u]=a(e[u],o-1),d.enumerable||Object.defineProperty(i,u,{enumerable:!1}))}}if(m){var c=Object.getOwnPropertyNames(e);for(r=0;r<c.length;r++){var d,f=c[r];(d=Object.getOwnPropertyDescriptor(e,f))&&d.enumerable||(i[f]=a(e[f],o-1),Object.defineProperty(i,f,{enumerable:!1}))}}return i}(e,t)}function t(e){return Object.prototype.toString.call(e)}function _(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}return C.clonePrototype=function(e){if(null===e)return null;function t(){}return t.prototype=e,new t},C.__objToStr=t,C.__isDate=function(e){return"object"==(void 0===e?"undefined":ms(e))&&"[object Date]"===t(e)},C.__isArray=function(e){return"object"==(void 0===e?"undefined":ms(e))&&"[object Array]"===t(e)},C.__isRegExp=function(e){return"object"==(void 0===e?"undefined":ms(e))&&"[object RegExp]"===t(e)},C.__getRegExpFlags=_,C}();t.exports&&(t.exports=e)}).call(this,n(33).Buffer)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var K=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},U="function"==typeof Symbol&&"symbol"==ms(Symbol.iterator)?function(e){return void 0===e?"undefined":ms(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":ms(e)};function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var G=i(n(0)),a=i(n(3)),q=n(1),o=i(n(16)),H=i(n(26)),Y=i(n(27)),J=i(n(28)),Q=i(n(29)),Z=i(n(30)),X=i(n(32));function i(e){return e&&e.__esModule?e:{default:e}}var l=n(4),s=n(9),u=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":ms(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(c,G.default.Component),r(c.prototype,[{key:"shouldComponentUpdate",value:function(e,t){return!l(this.state,t)||!l(this.props,e)}},{key:"applyCollapseAll",value:function(e){for(var t in e)null==this.state.expanded[t]&&(this.state.expanded[t]=!1)}},{key:"renderHeaderRow",value:function(e){var s=[],u=0;if(e.forEach(function(e){var t,n,r,a,o=void 0;"object"===(void 0===e?"undefined":U(e))?(t=e.key,n=e.name,r=e.width,Array.isArray(e.dataList)&&(o=e.dataList)):n=t=e,null!=n&&2<=n.length&&(n=n.charAt(0).toUpperCase()+n.slice(1));var i=void 0;if(null!=o){i=t+"_datalist";var l=[];o.forEach(function(e){l.push(G.default.createElement("option",{key:e,value:e}))}),a=G.default.createElement("datalist",{key:i,id:i},l)}s.push(G.default.createElement("td",{key:u,style:{width:r}},n,a)),u++}),!this.props.readOnly&&!0!==this.props.disableAdd){var t="Add";null!=window.DWKitAdminLang&&null!=window.DWKitAdminLang.collectioneditor&&(t=window.DWKitAdminLang.collectioneditor.add),s.push(G.default.createElement("td",{key:"btntd",className:"dwkit-collectioneditor-buttoncol"},G.default.createElement("a",{key:"btnadd",className:"dwkit-btn",onClick:this.btnAdd},t)))}return G.default.createElement("tr",{key:"headertr",className:"dwkit-collectioneditor-header"},s)}},{key:"getDragColumn",value:function(e,t){var n=!this.props.readOnly&&Boolean(this.props.draggable);if(n)return G.default.createElement("div",{draggable:n,onDragStart:this.onDragStart.bind(this,t,e),onDragEnd:this.onDragEnd.bind(this,t,e),onDragOver:this.onDragOver.bind(this),onDrop:this.onDrop.bind(this,t,e),key:"celldrag",className:"dwkit-collectioneditor-action"},G.default.createElement(q.Icon,{onClick:this.onExpand.bind(this,t,!1),name:"ellipsis vertical"}))}},{key:"getFilteredItems",value:function(e,t){var n=[];return void 0===e?n:n=void 0!==t?e.filter(function(e){return t.IsRowMatched(e)}):e}},{key:"renderRows",value:function(r,e,n,t,a,o){var i=this,l=this,s=[],u=e;null==a&&(a=0),void 0===o&&(o=""),this.props.filter&&(u=this.getFilteredItems(u,this.props.filter));for(var c=0;c<u.length;c++)if(void 0!==this.props.childrenField||!this.props.hierarchical||u[c][this.props.parentIdField]==t){var d=this.getDragColumn(u,c),f=void 0,p=void 0,h=u[c][this.props.idField]||u[c].__id||c;if(this.props.hierarchical){var m=void 0,v=o+String(c+"_");if(void 0!==this.props.parentIdField&&""!==this.props.parentIdField){var g=u[c][this.props.idField]||u[c].__id;if(null!=g&&""!=g&&0<(p=this.renderRows(r,e,n,g,a+1,v)).length){var y=this.state.expanded[o+c];null==y||y?m=G.default.createElement("div",{onClick:this.onExpand.bind(this,o+c,!1),className:"dwkit-collectioneditor-imgbutton-collapse"}):(m=G.default.createElement("div",{onClick:this.onExpand.bind(this,o+c,!0),className:"dwkit-collectioneditor-imgbutton-expand"}),p=void 0)}}else if(Array.isArray(u[c][this.props.childrenField])&&0<u[c][this.props.childrenField].length){if(0<(p=this.renderRows(r,u[c][this.props.childrenField],n,void 0,a+1,v)).length){var b=this.state.expanded[o+c];null==b||b?m=G.default.createElement("div",{onClick:this.onExpand.bind(this,o+c,!1),className:"dwkit-collectioneditor-imgbutton-collapse"}):(m=G.default.createElement("div",{onClick:this.onExpand.bind(this,o+c,!0),className:"dwkit-collectioneditor-imgbutton-expand"}),p=void 0)}}else m=G.default.createElement("div",{style:{opacity:0},className:"dwkit-collectioneditor-imgbutton-collapse"});f=G.default.createElement("div",{className:"dwkit-collectioneditor-action"},m)}var w=[],k=void 0;Array.isArray(n)&&0<n.length&&(void 0!==n[0].__id&&null!==n[0].__id?function(){var t=u[c].__id;void 0!==t&&null!=t&&(k=n.find(function(e){return e.__id===t}))}():k=n[c]);for(var E=0;E<r.length;E++){var C=void 0,_=this.props.readOnly?"":"input",O=void 0,S=void 0,x=void 0;"object"===U(r[E])?(C=r[E].key,_=r[E].control,S=r[E].customControl,Array.isArray(r[E].dataList)&&(O=C+"_datalist"),Array.isArray(r[E].options)&&(x=r[E].options)):C=r[E];var A=void 0;null!=k&&(A=Boolean(k[C]));var D={},F=void 0;if("checkbox"===_)F=G.default.createElement(X.default,{key:h+"_"+E,row:u[c],handleChange:this.handleChange,colName:C,checked:u[c][C],errorFlag:A,readOnly:this.props.readOnly});else if("span"===_)D.verticalAlign="middle",F=G.default.createElement("span",{key:h+"_"+E,name:C},u[c][C]);else if("number"===_){var L=null===u[c][C]||void 0===u[c][C]?"":u[c][C],P={name:C,type:"number",error:A,value:L,readOnly:this.props.readOnly};F=G.default.createElement(Y.default,{key:h+"_"+E,row:u[c],inputProps:P,handleChange:this.handleChange})}else if("date"===_){var j=null===u[c][C]||void 0===u[c][C]?"":u[c][C];F=G.default.createElement(Z.default,{key:h+"_"+E,row:u[c],colName:C,value:j,errorFlag:A,readOnly:this.props.readOnly,handleChange:this.handleChange,type:"date"})}else if("datetime"===_){var T=null===u[c][C]||void 0===u[c][C]?"":u[c][C];F=G.default.createElement(Z.default,{key:h+"_"+E,row:u[c],colName:C,value:T,errorFlag:A,readOnly:this.props.readOnly,handleChange:this.handleChange,type:"datetime"})}else if("dropdown"===_){var N=null==u[c][C]?r[E].multiple?[]:"":u[c][C];F=G.default.createElement(Q.default,{key:h+"_"+E,row:u[c],colName:C,multiple:r[E].multiple,placeholder:r[E].placeholder,errorFlag:A,value:N,options:x,readOnly:this.props.readOnly,handleChange:this.handleChange})}else if("file"===_||"file2"===_){var I=null===u[c][C]||void 0===u[c][C]?"":u[c][C];F=G.default.createElement(J.default,{key:h+"_"+E,row:u[c],colName:C,errorFlag:A,value:I,readOnly:this.props.readOnly,handleChange:this.handleChange,downloadUrl:this.props.downloadUrl,uploadUrl:this.props.uploadUrl,control:_,additionalData:r[E].additionalData})}else if("custom"===_)if(S)!function(){var e=u[c][C]?u[c][C]:"",t={};r[E].customControlGetPropsFunc&&(t=r[E].customControlGetPropsFunc(u[c]));var n=K({},t,{key:h+"_"+E,name:C,error:A,value:e,colName:C,row:u[c],readOnly:i.props.readOnly,onChange:function(e,t){l.handleChange(n.row,e,t)}});F=G.default.createElement(S,n)}();else if(null!=this.props.placeholders&&Array.isArray(this.props.placeholders[C])&&0<this.props.placeholders[C].length){var M=this.props.placeholders[C][0];if(M){var R=u[c];void 0!==M.propertyName&&""!==M.propertyName||(M.propertyName=C),F=G.default.createElement(H.default,{key:h+"_"+E,model:M,parent:this,row:R,errorOnRow:k,name:this.props.name,buildermode:this.props.buildermode,handleChange:this.handleChange,handleEvent:this.props.handleEvent,getAdditionalDataForControl:this.props.getAdditionalDataForControl,readOnly:this.props.readOnly,uploadUrl:this.props.uploadUrl,downloadUrl:this.props.downloadUrl,data:this.props.data,adaptiveViewType:this.props.adaptiveViewType,controlBarParams:this.props.controlBarParams,createControl:this.props.createControl})}}else this.props.buildermode&&this.props.createBuilderDropzone&&(F=this.props.createBuilderDropzone(this.props.name,this.props.name,void 0,C,C));else{var V=null===u[c][C]||void 0===u[c][C]?"":u[c][C],W={name:C,list:O,error:A,value:V,readOnly:this.props.readOnly};F=G.default.createElement(Y.default,{key:h+"_"+E,row:u[c],inputProps:W,handleChange:this.handleChange})}0===E?(a&&(D.paddingLeft=String(15*a+5)+"px"),w.push(G.default.createElement("td",{key:h+"_"+E+"td",style:D},f,d,F))):w.push(G.default.createElement("td",{key:h+"_"+E+"td",style:D},F))}if(!this.props.readOnly){var B=!0!==this.props.disableAdd,z=!this.props.disableDelete;this.props.hierarchical?w.push(G.default.createElement("td",{key:"celldelete",className:"dwkit-collectioneditor-cellbtn"},G.default.createElement("div",{className:"field"},B&&G.default.createElement(q.Icon,{key:"addchild",onClick:this.btnAddChild.bind(this,c,u),link:!0,name:"add"}),B&&G.default.createElement(q.Icon,{key:"copy",onClick:this.btnCopy.bind(this,c,u),link:!0,name:"copy"}),z&&G.default.createElement(q.Icon,{key:"delete",onClick:this.btnDelete.bind(this,c,u),link:!0,name:"delete"})))):w.push(G.default.createElement("td",{key:"celldelete",className:"dwkit-collectioneditor-cellbtn"},G.default.createElement("div",{className:"field"},B&&G.default.createElement(q.Icon,{key:"copy",onClick:this.btnCopy.bind(this,c,void 0),link:!0,name:"copy"}),z&&G.default.createElement(q.Icon,{key:"delete",onClick:this.btnDelete.bind(this,c,void 0),link:!0,name:"delete"}))))}s.push(G.default.createElement("tr",{key:o+h,className:"dwkit-collectioneditor-row","data-rowindex":c},w)),s=s.concat(p)}return s}},{key:"btnDelete",value:function(e,t){if(this.props.handleEvent||this.props.onChange){void 0===t&&(t=this.state.data);var n=t[e];t.splice(e,1),this.props.handleEvent&&this.props.handleEvent({key:this.props.name,propertyName:this.props.propertyName,eventName:"onDelete",parameters:{rowIdx:e,row:n}}),this.sendChangesToParent()}}},{key:"btnAddChild",value:function(e,t){void 0===t&&(t=null==this.state.data?[]:this.state.data);var n=t[e],r=null==this.props.defaultrow?{}:K({},this.props.defaultrow);r.__id="CLIENT_"+o.default.v1(),this.fillDefaultValues(r,this.props.columns,this.props.placeholders),this.props.parentIdField?(r[this.props.parentIdField]=n[this.props.idField]||n.__id,t.push(r)):(Array.isArray(n[this.props.childrenField])||(n[this.props.childrenField]=[]),n[this.props.childrenField].push(r)),this.props.handleEvent&&this.props.handleEvent({key:this.props.name,propertyName:this.props.propertyName,eventName:"onAddChild",parameters:{rowIdx:t.length-1,row:r}}),this.sendChangesToParent()}},{key:"fillDefaultValues",value:function(e,t,n){if(t&&n)for(var r=0;r<t.length;r++){var a,o=n[a="object"===U(t[r])?t[r].key:t[r]];if(Array.isArray(o)&&0<o.length){var i=o[0];if(i){var l=a;i.propertyName&&(l=i.propertyName),i.defaultValue&&(e[l]=i.defaultValue)}}}}},{key:"copyForParentId",value:function(t,n,e){var r=this,a=s(n);return a.__id="CLIENT_"+o.default.v1(),delete a[this.props.idField],a[this.props.parentIdField]=e,t.filter(function(e){return e[r.props.parentIdField]===(n[r.props.idField]||n.__id)}).forEach(function(e){return r.copyForParentId(t,e,a.__id)}),t.push(a),a}},{key:"resetIdsRecursive",value:function(e){var t=this;e.__id="CLIENT_"+o.default.v1(),delete e[this.props.idField],Array.isArray(e[this.props.childrenField])&&e[this.props.childrenField].forEach(function(e){return t.resetIdsRecursive(e)})}},{key:"btnCopy",value:function(e,t){var n=(t=t||this.state.data)[e],r=null;this.props.parentIdField&&n.hasOwnProperty(this.props.parentIdField)?r=this.copyForParentId(t,n,n[this.props.parentIdField]):(r=s(n),this.resetIdsRecursive(r),t.push(r)),this.props.handleEvent&&this.props.handleEvent({key:this.props.name,propertyName:this.props.propertyName,eventName:"onCopy",parameters:{rowIdx:t.length-1,row:r}}),this.sendChangesToParent()}},{key:"onExpand",value:function(e,t){this.state.expanded[e]=t,this.forceUpdate()}},{key:"onDragOver",value:function(e){e.preventDefault()}},{key:"onDragStart",value:function(e,t,n){n.dataTransfer.setData("index",e);var r=n.target;(r=(r=r&&r.parentElement)&&r.parentElement)&&n.dataTransfer.setDragImage($(n.target).parent().parent()[0],0,0),this.state.dragElementIndex=e,this.state.dragRows=t}},{key:"onDragEnd",value:function(e,t){this.state.dragElementIndex=void 0,this.state.dragRows=void 0}},{key:"onDrop",value:function(e,t,n){var r=this.state.dragElementIndex,a=this.state.dragRows,o=e,i=t;return null!=r&&(o!=r&&(void 0!==this.props.parentIdField&&""!==this.props.parentIdField&&(a[r][this.props.parentIdField]=i[o][this.props.parentIdField]),i.splice(o,0,a.splice(r,1)[0]),this.sendChangesToParent()),n.preventDefault()),!1}},{key:"getCopyRowsFromProps",value:function(){var e=null==this.props.value?[]:this.props.value;return this.state.stringmode=!1,Array.isArray(e)?e=s(e):(e=a.default.parse(e),this.state.stringmode=!0),e}},{key:"sendChangesToParent",value:function(){var e=this.state.data,t=this.state.stringmode?a.default.stringify(e):e;this.props.buildermode?this.props.value=t:this.props.onChange?this.props.onChange(null,{name:this.props.name,propertyName:this.props.propertyName,value:t}):this.props.handleEvent({syntheticEvent:null,key:this.props.name,eventName:"onChange",name:this.props.name,value:t,propertyName:this.props.propertyName})}},{key:"render",value:function(){var e=this.props.columns,t=this.props.value,n=this.props.error;if(this.props.collapseAll&&Array.isArray(t)&&this.applyCollapseAll(t),!e||!e.length)return G.default.createElement("div",null,"Fill columns property!");this.state.data=this.getCopyRowsFromProps();var r={style:this.props.style,className:this.props.className,onBlur:this.props.onBlur,onClick:this.props.onClick,onFocus:this.props.onFocus,onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave};return r.className?r.className+=" field":r.className="field",this.props.error&&"object"!==U(this.props.error)&&(r.className+=" error"),r.className+=" dwkit-collectioneditor-control",G.default.createElement("div",r,G.default.createElement("label",null,this.props.label),G.default.createElement("table",{className:"dwkit-collectioneditor"},G.default.createElement("tbody",null,this.renderHeaderRow(e),this.renderRows(e,this.state.data,n))))}}]),c);function c(e){!function(e){if(!(e instanceof c))throw new TypeError("Cannot call a class as a function")}(this);var l=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":ms(t))&&"function"!=typeof t?e:t}(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,e));return l.btnAdd=function(){var e=null==l.props.defaultrow?{}:l.props.defaultrow;e.__id="CLIENT_"+o.default.v1(),l.fillDefaultValues(e,l.props.columns,l.props.placeholders),l.state.data.push(e),l.props.handleEvent&&l.props.handleEvent({key:l.props.name,propertyName:l.props.propertyName,eventName:"onAdd",parameters:{rowIdx:l.state.data.length-1,row:e}}),l.sendChangesToParent()},l.handleChange=function(e,t,n){var r=n.name,a=n.propertyName,o=n.value,i=n.checked;(l.props.handleEvent||l.props.onChange)&&(e[a||r]=null==o&&null!=i?i:o,l.sendChangesToParent(),null!=t?t.preventDefault():l.forceUpdate())},l.state={expanded:{}},l}t.default=u},function(e,t,n){var d,r="function"==typeof Symbol&&"symbol"==ms(Symbol.iterator)?function(e){return void 0===e?"undefined":ms(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":ms(e)},a=n(15),o=n(6),f=n(7),i=a.createStore({init:function(){this.listenTo(o.add,this.add),this.listenTo(o.move,this.move),this.listenTo(o.remove,this.remove),this.listenTo(o.save,this.save),this.listenTo(o.saveData,this._updateOrder),this.listenTo(o.insert,this.insert),d=[]},move:function(e,t){if(null!=t){var n=this.findItemByKey(e,d),r=this._excludeItemByKey(e,d);if(t.attributes.name&&"dropzone_footer"===t.attributes.name.value)r.push(n);else if(t.attributes.name&&"dropzone_header"===t.attributes.name.value)r.unshift(n);else if(null!=t.attributes.elementtoinsert){var a,o=t.attributes.elementtoinsert;if(null!=o&&(a=this.findItemByKey(o.value,r)),null!=a){var i=t.attributes.placeholderkey,l=void 0;if(l=void 0===i?(null==a.children&&(a.children=[]),a.children):(void 0===a.placeholders&&(a.placeholders={}),null==a.placeholders[i.value]&&(a.placeholders[i.value]=[]),a.placeholders[i.value]),null!=t.attributes.name&&t.attributes.name.value.includes("dropzone_footer"))l.push(n);else if(null!=t.attributes.name&&t.attributes.name.value.includes("dropzone_header"))l.unshift(n);else{var s;null!=(c=t.attributes.elementafter)&&(s=this.findItemByKey(c.value,l),l.splice(l.indexOf(s),0,n))}}else console.error("ERROR: element is not found",o,n,t)}else if(null!=t.attributes.elementafter){var u,c;null!=(c=t.attributes.elementafter)&&(u=this.findItemByKey(c.value,r)),null!=u?r.splice(r.indexOf(u),0,n):console.error("ERROR: element is not found",c,n,t)}this.setData(r)}},insert:function(e,t,n,r,a){if(e){var o=d;if(this.makeUniqueKeys(e,this.getAllKeys(o)),"dropzone_footer"===t)o.push(e);else if("dropzone_header"===t)o.unshift(e);else if(n){var i;if(null!=(i=this.findItemByKey(n,o))){var l=void 0;if(l=void 0===a?(null==i.children&&(i.children=[]),i.children):(void 0===i.placeholders&&(i.placeholders={}),null==i.placeholders[a]&&(i.placeholders[a]=[]),i.placeholders[a]),t&&t.includes("dropzone_footer"))l.push(e);else if(t&&t.includes("dropzone_header"))l.unshift(e);else if(null!=r){var s=this.findItemByKey(r,l);l.splice(l.indexOf(s),0,e)}}else console.error("ERROR: element is not found",parentKey,e,el)}else if(null!=r){var u;null!=(u=this.findItemByKey(r,o))?o.splice(o.indexOf(u),0,e):console.error("ERROR: element is not found",r,e,el)}this.setData(o)}},_excludeItemByKey:function(e,t){for(var n=[],r=0;r<t.length;r++)if(t[r].key!=e&&(n.push(t[r]),t[r].children&&(n[n.length-1].children=this._excludeItemByKey(e,t[r].children)),null!=t[r].placeholders))for(var a in t[r].placeholders)Array.isArray(t[r].placeholders[a])&&(n[n.length-1].placeholders[a]=this._excludeItemByKey(e,t[r].placeholders[a]));return n},add:function(e,t){var n=f.fillDefaultValues({key:this.getDefaultKey(e.key),"data-buildertype":void 0!==e.builderType?e.builderType:e.key},e.defaultValues);if(null==t)if(0<d.length&&"form"===d[d.length-1]["data-buildertype"]){var r=d[d.length-1];null==r.children&&(r.children=[]),r.children.push(n)}else d.push(n);else if(t.attributes.name&&"dropzone_footer"===t.attributes.name.value)d.push(n);else if(t.attributes.name&&"dropzone_header"===t.attributes.name.value)d.unshift(n);else if(null!=t.attributes.elementtoinsert){var a,o=t.attributes.elementtoinsert;if(null!=o&&(a=this.findItemByKey(o.value,d)),null!=a){var i=t.attributes.placeholderkey,l=void 0;if(l=void 0===i?(null==a.children&&(a.children=[]),a.children):(void 0===a.placeholders&&(a.placeholders={}),null==a.placeholders[i.value]&&(a.placeholders[i.value]=[]),a.placeholders[i.value]),null!=t.attributes.name&&t.attributes.name.value.includes("dropzone_footer"))l.push(n);else if(null!=t.attributes.name&&t.attributes.name.value.includes("dropzone_header"))l.unshift(n);else{var s;null!=(c=t.attributes.elementafter)&&(s=this.findItemByKey(c.value,l)),l.splice(l.indexOf(s),0,n)}}else console.error("ERROR: element is not found",o,e,t)}else if(null!=t.attributes.elementafter){var u,c;null!=(c=t.attributes.elementafter)&&(u=this.findItemByKey(c.value,d)),null!=u?d.splice(d.indexOf(u),0,n):console.error("ERROR: element is not found",c,buildertype,title,t)}this.trigger(d)},remove:function(e){this.removeItemByKey(e.key,d),this.trigger(d)},copy:function(e){var t=this.copyObj(e);this.insertAfterKey(t,e.key,d),this.makeUniqueKeys(t),this.trigger(d)},getData:function(){return d},setData:function(e){d=e,this.trigger(d)},_updateOrder:function(e){d=e,this.trigger(d)},getDefaultKey:function(e){for(var t=1,n=e+"_"+t,r=this.getAllKeys(d),a=0;a<r.length;a++)r[a]==(n=e+"_"+t)&&(t++,a=-1);return n},getAllKeys:function(e){var t=[];if(null!=e)for(var n=0;n<e.length;n++){var r=e[n];if(t.push(r.key),null!=r.children){var a=this.getAllKeys(r.children);t=t.concat(a)}else if(null!=r.placeholders)for(var o in r.placeholders)if(Array.isArray(r.placeholders[o])){var i=this.getAllKeys(r.placeholders[o]);t=t.concat(i)}}return t},getByKey:function(e){return this.findItemByKey(e,d)},findItemByKey:function(e,t){for(var n=0;n<t.length;n++){var r=t[n];if(r.key==e)return r;if(null!=r.children){if(null!=(o=this.findItemByKey(e,r.children)))return o}else if(null!=r.placeholders)for(var a in r.placeholders){var o;if(Array.isArray(r.placeholders[a])&&null!=(o=this.findItemByKey(e,r.placeholders[a])))return o}}},insertAfterKey:function(e,t,n){for(var r=0;r<n.length;r++){var a=n[r];if(a.key==t)return n.splice(r+1,0,e),!0;if(void 0!==a.children&&this.insertAfterKey(e,t,a.children))return!0;if(void 0!==a.placeholders)for(var o in a.placeholders)if(Array.isArray(a.placeholders[o])&&this.insertAfterKey(e,t,a.placeholders[o]))return!0}},updateItemByKey:function(e,t){var n=this.getByKey(e);for(var r in t)n[r]=t[r];e!=t.key&&this.replaceDepensKeys(e,t.key),this.trigger(d)},replaceDepensKeys:function(e,t,n){null==n&&(n=d);for(var r=0;r<n.length;r++){var a=n[r];if(Array.isArray(a["events-onclick-targets"]))for(var o=a["events-onclick-targets"],i=0;i<o.length;i++)o[i]==e&&(o[i]=t);if(null!=a.children&&this.replaceDepensKeys(e,t,a.children),void 0!==a.placeholders)for(var l in a.placeholders)Array.isArray(a.placeholders[l])&&this.replaceDepensKeys(e,t,a.placeholders[l])}},removeItemByKey:function(e,t){for(var n=0;n<t.length;n++){var r=t[n];if(r.key==e){t.splice(n,1);break}if(null!=r.children&&this.removeItemByKey(e,r.children),void 0!==r.placeholders)for(var a in r.placeholders)Array.isArray(r.placeholders[a])&&this.removeItemByKey(e,r.placeholders[a])}},copyObj:function(e){if(null==e||"object"!==(void 0===e?"undefined":r(e)))return e;var t=e.constructor();for(var n in e)e.hasOwnProperty(n)&&(t[n]=this.copyObj(e[n]));return t},makeUniqueKeys:function(e,t){var n=this,r=e["data-buildertype"];if(r&&e.key&&(!t||t&&t.includes(e.key))&&(e.key=this.getDefaultKey(r)),Array.isArray(e.children)&&e.children.forEach(function(e){n.makeUniqueKeys(e,t)}),void 0!==e.placeholders)for(var a in e.placeholders)Array.isArray(e.placeholders[a])&&e.placeholders[a].forEach(function(e){n.makeUniqueKeys(e,t)})}});e.exports=i},function(e,t,n){function r(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var u=o(n(0)),c=n(1),i=o(n(10)),d=(o(n(3)),o(n(37))),l=o(n(19));function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":ms(t))&&"function"!=typeof t?e:t}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":ms(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=(p(m,u.default.Component),r(m,[{key:"getLocalValue",value:function(e,t,n){var r=this.props.localization,a=null!=n?n:"base";return null==r||null==r[a]||null==r[a][e]?t:r[a][e]}},{key:"handleItemClick",value:function(e,t){var n=t.name;this.setState({activeItem:n})}},{key:"getDescription",value:function(){var t=this.state.activeItem;return this.menuItems.forEach(function(e){e.active=e.name===t}),u.default.createElement(c.Modal.Description,null,u.default.createElement(c.Menu,{key:"descriptionMenu",pointing:!0,secondary:!0,items:this.menuItems}),this.getDetailDescription(t))}},{key:"getDetailDescription",value:function(e){var t;return"general"===e?t=this.getGeneralDescription():"style"===e?t=this.getStyleDescription():"events"===e?t=this.getEventsDescription():"tooltip"===e?t=this.getToolTipDescription():"other"===e&&(t=this.getOtherDescription()),t}},{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent);return u.default.createElement(c.Form,{key:"generalDescriptionForm"},u.default.createElement(c.Form.Input,{key:"name",label:"Name",name:"key",value:e.key,onChange:t}))}},{key:"getStyleDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent),n="/*** Example Code ***/\ncolor:red;\npaddingTop:5px;",r=[{text:this.getLocalValue("adaptivedefault","Any"),value:""},{text:this.getLocalValue("adaptivedesctop","Desktop"),value:"desktop"},{text:this.getLocalValue("adaptivemobile","Mobile"),value:"mobile"}];return u.default.createElement(c.Form,{key:"styleDescriptionForm"},u.default.createElement(c.Form.Group,{widths:"equal"},u.default.createElement(c.Form.Input,{name:"style-width",label:this.getLocalValue("widthfield","Width"),placeholder:"100px",value:e["style-width"],onChange:t}),u.default.createElement(c.Form.Input,{name:"style-height",label:this.getLocalValue("heightfield","Height"),placeholder:"100px",value:e["style-height"],onChange:t})),u.default.createElement(c.Form.Group,{widths:"equal"},u.default.createElement(c.Form.Input,{name:"style-marginTop",label:this.getLocalValue("margintopfield","Margin Top"),placeholder:"0px",value:e["style-marginTop"],onChange:t}),u.default.createElement(c.Form.Input,{name:"style-marginBottom",label:this.getLocalValue("marginbottomfield","Margin Bottom"),placeholder:"0px",value:e["style-marginBottom"],onChange:t}),u.default.createElement(c.Form.Input,{name:"style-marginLeft",label:this.getLocalValue("marginleftfield","Margin Left"),placeholder:"0px",value:e["style-marginLeft"],onChange:t}),u.default.createElement(c.Form.Input,{name:"style-marginRight",label:this.getLocalValue("marginrightfield","Margin Right"),placeholder:"0px",value:e["style-marginRight"],onChange:t})),u.default.createElement(c.Form.Input,{name:"style-customcss",label:this.getLocalValue("customcssclassfield","Custom CSS class"),placeholder:"dwkit-application-css (without '.')",value:e["style-customcss"],onChange:t}),u.default.createElement(c.Form.TextArea,{name:"style-source",label:this.getLocalValue("stylefield","Style"),placeholder:n,value:e["style-source"],onChange:t}),u.default.createElement(c.Form.Checkbox,{name:"style-hidden",label:this.getLocalValue("hiddenfield","Hidden"),checked:e["style-hidden"],onChange:t}),u.default.createElement(c.Form.Checkbox,{name:"style-adaptive",label:this.getLocalValue("adaptivefield","Adaptive Layout"),checked:e["style-adaptive"],onChange:t}),e["style-adaptive"]&&u.default.createElement(c.Form.Dropdown,{name:"style-renderwhen",selection:!0,fluid:!0,search:!0,options:r,placeholder:"Any",label:this.getLocalValue("style-renderwhenfield","Render when"),value:e["style-renderwhen"],onChange:t}),e["style-adaptive"]&&u.default.createElement(c.Form.TextArea,{name:"style-mobilesource",label:this.getLocalValue("mobilesourcefield","Mobile style"),placeholder:n,value:e["style-mobilesource"],onChange:t}))}},{key:"getEventsList",value:function(){return[]}},{key:"getEventsDescription",value:function(){var e=this.props.data;null==e.events&&(e.events={});var t,n=this.props.parent.handleChange.bind(this.props.parent),r=this.props.actions,a=this.getEventsList();if(Array.isArray(a)&&0!=a.length){for(var o=this.props.parent.getControlsList(),i=[],l=0;l<o.length;l++)e.key!=o[l]&&i.push({text:o[l],value:o[l]});t=u.default.createElement(d.default,{key:"events",name:"events",data:e.events,events:a,actions:r,targets:i,onAdditionActions:this.handleAdditionActions.bind(this),onChange:n})}else t=u.default.createElement(c.Message,{icon:!0},u.default.createElement(c.Icon,{name:"info"}),u.default.createElement(c.Message.Content,null,this.getLocalValue("controlhasnoeventsmsg","This control has no events.")));var s=null;return a.includes("onChange")&&(s=u.default.createElement(c.Form.Input,{name:"onChangeTimeout",style:{width:100},placeholder:"0",type:"number",label:this.getLocalValue("onchangetimeout","onChange timeout"),value:e.onChangeTimeout,onChange:n})),u.default.createElement(c.Form,{key:"eventsDescriptionForm"},u.default.createElement(c.Message,{icon:!0},u.default.createElement(c.Image,{src:"/images/dwkitbuilder-info.png",height:"32px"}),u.default.createElement(c.Message.Content,null,this.getLocalValue("eventsinfomsg","These flags enable processing from this element."))),s,t)}},{key:"getToolTipDescription",value:function(){var e=[{text:this.getLocalValue("tooltipdefault","Default"),value:""},{text:this.getLocalValue("tooltiptopcenter","Top Center"),value:"top center"},{text:this.getLocalValue("tooltiptopleft","Top Left"),value:"top left"},{text:this.getLocalValue("tooltiptopright","Top Right"),value:"top right"},{text:this.getLocalValue("tooltipbottomcenter","Bottom Center"),value:"bottom center"},{text:this.getLocalValue("tooltipbottomleft","Bottom Left"),value:"bottom left"},{text:this.getLocalValue("tooltipbottomright","Bottom right"),value:"bottom right"},{text:this.getLocalValue("tooltiprightright","Right Center"),value:"right center"},{text:this.getLocalValue("tooltipleftcenter","Left Center"),value:"left center"}],t=[{text:this.getLocalValue("tooltipdefault","Default"),value:""},{text:this.getLocalValue("tooltiphover","Hover"),value:"hover"},{text:this.getLocalValue("tooltipclick","Click"),value:"click"},{text:this.getLocalValue("tooltipfocus","Focus"),value:"focus"}],n=this.props.data,r=this.props.parent.handleChange.bind(this.props.parent),a=n["tooltip-enabled"]?u.default.createElement(c.Segment,{vertical:!0},u.default.createElement(c.Form.Checkbox,{name:"tooltip-enabled",label:this.getLocalValue("tooltipenabledfield","Enabled"),checked:n["tooltip-enabled"],onChange:r}),u.default.createElement(c.Form.Input,{name:"tooltip-header",label:this.getLocalValue("tooltipheaderfield","Tooltip Header"),value:n["tooltip-header"],onChange:r}),u.default.createElement(c.Form.Input,{name:"tooltip-content",label:this.getLocalValue("tooltipcontentfield","Tooltip Content"),value:n["tooltip-content"],onChange:r}),u.default.createElement(c.Form.Group,null,u.default.createElement(c.Form.Input,{name:"tooltip-classname",label:this.getLocalValue("tooltipclassnamefield","ClassName"),value:n["tooltip-classname"],onChange:r}),u.default.createElement(c.Form.Dropdown,{name:"tooltip-showtype",selection:!0,fluid:!0,search:!0,options:t,placeholder:"Default",label:this.getLocalValue("tooltipshowtypefield","Tooptip showing type"),value:n["tooltip-showtype"],onChange:r}),u.default.createElement(c.Form.Dropdown,{name:"tooltip-position",selection:!0,fluid:!0,search:!0,options:e,placeholder:"Default",label:this.getLocalValue("tooltippositionfield","Tooptip position"),value:n["tooltip-position"],onChange:r}))):u.default.createElement(c.Segment,{vertical:!0},u.default.createElement(c.Form.Checkbox,{name:"tooltip-enabled",label:this.getLocalValue("tooltipenabledfield","Enabled"),checked:n["tooltip-enabled"],onChange:r}));return u.default.createElement(c.Form,{key:"tooltipDescriptionForm"},u.default.createElement(c.Segment,{vertical:!0},u.default.createElement(c.Form.Group,null,u.default.createElement(c.Form.Checkbox,{name:"tooltip-errordisabled",label:this.getLocalValue("errortooltipdisabledfield","Disable error tooptip"),checked:n["tooltip-errordisabled"],onChange:r}),u.default.createElement(c.Form.Dropdown,{name:"tooltip-errorshowtype",selection:!0,fluid:!0,search:!0,options:t,placeholder:"Default",label:this.getLocalValue("tooltiperrorshowtypefield","Error tooptip showing type"),value:n["tooltip-errorshowtype"],onChange:r}),u.default.createElement(c.Form.Dropdown,{name:"tooltip-errorposition",selection:!0,fluid:!0,search:!0,options:e,placeholder:"Default",label:this.getLocalValue("errortooltippositionfield","Error tooptip position"),value:n["tooltip-errorposition"],onChange:r}))),a)}},{key:"getOtherDescription",value:function(){var e=this.props.data,a=this.props.parent.handleChange.bind(this.props.parent),t=this.state.defaultValuePreferInt?function(e,t){var n=t.name,r=t.value;null!=r&&null!=r.match&&r.match(/^-{0,1}\d+$/)&&(r=parseInt(r)),a(e,{name:n,value:r})}:a;return u.default.createElement(c.Form,{key:"otherDescriptionForm"},u.default.createElement(c.Form.Input,{name:"propertyName",label:this.getLocalValue("propertynamefield","Property Name"),value:e.propertyName,onChange:a}),u.default.createElement(c.Form.Checkbox,{name:"other-required",label:this.getLocalValue("requiredfield","Required"),checked:e["other-required"],onChange:a}),u.default.createElement(c.Form.Input,{name:"defaultValue",label:this.getLocalValue("defaultvaluefield","Default value"),value:e.defaultValue,onChange:t}),u.default.createElement(c.Form.TextArea,{name:"other-customValidation",label:this.getLocalValue("customvalidationfield","Custom Validation"),placeholder:"/*** Example Code ***/\nvalue > 10 ? true : 'Must be more 10'",value:e["other-customValidation"],onChange:a}),u.default.createElement(c.Form.TextArea,{name:"other-visibleConition",label:this.getLocalValue("visibleconditionfield","Visible condition"),placeholder:"/*** Example Code ***/\ndata.type == 1 ? true : false",value:e["other-visibleConition"],onChange:a}),u.default.createElement(c.Form.TextArea,{name:"other-readOnlyConition",label:this.getLocalValue("readonlyconditionfield","ReadOnly condition"),placeholder:"/*** Example Code ***/\ndata.type == 1 ? true : false",value:e["other-readOnlyConition"],onChange:a}))}},{key:"render",value:function(){return u.default.createElement(c.Modal,{dimmer:"inverted",open:this.props.open,onClose:this.props.onClose.bind(this.props.parent)},u.default.createElement(c.Modal.Content,null,u.default.createElement(c.Modal.Description,null,u.default.createElement(c.Label,{className:"dwkit-formbuilder-editform-controltype"},this.props.data["data-buildertype"]),this.getDescription())),u.default.createElement(c.Modal.Actions,null,u.default.createElement(c.Button,{className:"buttontype1",onClick:this.props.onSave.bind(this.props.parent)},this.getLocalValue("savebutton","Save")),u.default.createElement(c.Button,{className:"buttontype2",onClick:this.props.onClose.bind(this.props.parent)},this.getLocalValue("cancelbutton","Cancel"))))}},{key:"checkActionsList",value:function(e){for(var t=!1,n=0;n<this.props.actions.length;n++)if(this.props.actions[n]==e){t=!0;break}t||this.props.actions.push({text:e,value:e})}},{key:"handleAdditionActions",value:function(e,t){var n=t.value;this.checkActionsList(n),this.forceUpdate()}}]),m);function m(e){s(this,m);var t=f(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,e));return t.state={activeItem:"general",defaultValuePreferInt:!1},t.menuItems=[{key:"general",name:"general",content:t.getLocalValue("generaltab","General"),active:!0,onClick:t.handleItemClick.bind(t)},{key:"style",name:"style",content:t.getLocalValue("styletab","Style"),active:!1,onClick:t.handleItemClick.bind(t)},{key:"events",name:"events",content:t.getLocalValue("eventstab","Events"),active:!1,onClick:t.handleItemClick.bind(t)},{key:"tooltip",name:"tooltip",content:t.getLocalValue("tooltiptab","Tooltip"),active:!1,onClick:t.handleItemClick.bind(t)},{key:"other",name:"other",content:t.getLocalValue("othertab","Other"),active:!1,onClick:t.handleItemClick.bind(t)}],t}var v=(p(g,h),r(g,[{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent),n=[{text:this.getLocalValue("sizedefault","Default"),value:""},{text:this.getLocalValue("sizemini","Mini"),value:"mini"},{text:this.getLocalValue("sizetiny","Tiny"),value:"tiny"},{text:this.getLocalValue("sizesmall","Small"),value:"small"},{text:this.getLocalValue("sizemedium","Medium"),value:"medium"},{text:this.getLocalValue("sizelarge","Large"),value:"large"},{text:this.getLocalValue("sizehuge","Huge"),value:"huge"}];return u.default.createElement(c.Form,null,u.default.createElement(c.Form.Group,{widths:"equal"},u.default.createElement(c.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","headerform"),value:e.key,onChange:t}),u.default.createElement(c.Form.Dropdown,{name:"size",selection:!0,fluid:!0,options:n,placeholder:"Default",label:this.getLocalValue("sizefield","Size","header"),value:e.size,onChange:t})),u.default.createElement(c.Form.Group,{widths:"equal"},u.default.createElement(c.Form.TextArea,{name:"content",label:this.getLocalValue("contentfield","Content","headerform"),value:e.content,onChange:t}),u.default.createElement("div",{className:"field"},u.default.createElement("label",null,this.getLocalValue("textalignfield","Text Align","headerform")),u.default.createElement(c.Form.Group,{widths:"equal"},u.default.createElement(c.Form.Radio,{name:"textAlign",label:this.getLocalValue("textalignleft","Left","headerform"),value:"left",checked:"left"===e.textAlign,onChange:t}),u.default.createElement(c.Form.Radio,{name:"textAlign",label:this.getLocalValue("textaligncenter","Center","headerform"),value:"center",checked:"center"===e.textAlign,onChange:t}),u.default.createElement(c.Form.Radio,{name:"textAlign",label:this.getLocalValue("textalignright","Right","headerform"),value:"right",checked:"right"===e.textAlign,onChange:t})))),u.default.createElement(c.Form.Input,{name:"subheader",label:this.getLocalValue("subheaderfield","Subheader","headerform"),value:e.subheader,onChange:t}))}}]),g);function g(e){return s(this,g),f(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,e))}var y=(p(b,h),r(b,[{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent),n=[{text:this.getLocalValue("sizedefault","Default"),value:""},{text:this.getLocalValue("sizemini","Mini"),value:"mini"},{text:this.getLocalValue("sizetiny","Tiny"),value:"tiny"},{text:this.getLocalValue("sizesmall","Small"),value:"small"},{text:this.getLocalValue("sizemedium","Medium"),value:"medium"},{text:this.getLocalValue("sizebig","Big"),value:"big"},{text:this.getLocalValue("sizelarge","Large"),value:"large"},{text:this.getLocalValue("sizehuge","Huge"),value:"huge"},{text:this.getLocalValue("sizemassive","Massive"),value:"massive"}];return u.default.createElement(c.Form,null,u.default.createElement(c.Form.Group,{widths:"equal"},u.default.createElement(c.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","buttonform"),value:e.key,onChange:t}),u.default.createElement(c.Form.Input,{name:"icon",label:this.getLocalValue("iconfield","Icon","buttonform"),value:e.icon,onChange:t,action:{icon:"help",onClick:function(e){window.open("https://react.semantic-ui.com/elements/icon/")}}})),u.default.createElement(c.Form.Group,{widths:"equal"},u.default.createElement(c.Form.Input,{name:"content",label:this.getLocalValue("contentfield","Content","buttonform"),value:e.content,onChange:t}),u.default.createElement(c.Form.Dropdown,{name:"size",selection:!0,fluid:!0,options:n,placeholder:"Default",label:this.getLocalValue("sizefield","Size","buttonform"),value:e.size,onChange:t})),u.default.createElement(c.Form.Group,{widths:"equal"},u.default.createElement("div",{className:"field"},u.default.createElement("label",null,this.getLocalValue("optionsfield","Options","buttonform")),u.default.createElement(c.Form.Group,null,u.default.createElement(c.Form.Checkbox,{name:"basic",label:this.getLocalValue("basicfield","Basic","buttonform"),checked:e.basic,onChange:t}),u.default.createElement(c.Form.Checkbox,{name:"circular",label:this.getLocalValue("circularfield","Circular","buttonform"),checked:e.circular,onChange:t}),u.default.createElement(c.Form.Checkbox,{name:"compact",label:this.getLocalValue("compactfield","Compact","buttonform"),checked:e.compact,onChange:t})),u.default.createElement(c.Form.Group,null,u.default.createElement(c.Form.Checkbox,{name:"disabled",label:this.getLocalValue("disabledfield","Disabled","buttonform"),checked:e.disabled,onChange:t}),u.default.createElement(c.Form.Checkbox,{name:"fluid",label:this.getLocalValue("fluidfield","Fluid","buttonform"),checked:e.fluid,onChange:t})),u.default.createElement(c.Form.Group,null,u.default.createElement(c.Form.Checkbox,{name:"primary",label:this.getLocalValue("primaryfield","Primary","buttonform"),checked:e.primary,onChange:t}),u.default.createElement(c.Form.Checkbox,{name:"secondary",label:this.getLocalValue("secondaryfield","Secondary","buttonform"),checked:e.secondary,onChange:t}))),u.default.createElement("div",{className:"field"},u.default.createElement("label",null,this.getLocalValue("floatedfield","Floated","buttonform")),u.default.createElement(c.Form.Group,null,u.default.createElement(c.Form.Radio,{name:"floated",label:this.getLocalValue("floateddefaultfield","Default","buttonform"),value:"",checked:void 0===e.floated||""===e.floated,onChange:t}),u.default.createElement(c.Form.Radio,{name:"floated",label:this.getLocalValue("floatedleftfield","Left","buttonform"),value:"left",checked:"left"===e.floated,onChange:t}),u.default.createElement(c.Form.Radio,{name:"floated",label:this.getLocalValue("floatedrightfield","Right","buttonform"),value:"right",checked:"right"===e.floated,onChange:t})))))}},{key:"getEventsList",value:function(){return["onClick"]}}]),b);function b(e){return s(this,b),f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,e))}var w=(p(k,h),r(k,[{key:"getGeneralDescription",value:function(){var e=this.props.parent.handleChange.bind(this.props.parent),t=this.props.data,n=[{text:this.getLocalValue("sizedefault","Default"),value:""},{text:this.getLocalValue("sizemini","Mini"),value:"mini"},{text:this.getLocalValue("sizetiny","Tiny"),value:"tiny"},{text:this.getLocalValue("sizesmall","Small"),value:"small"},{text:this.getLocalValue("sizemedium","Medium"),value:"medium"},{text:this.getLocalValue("sizelarge","Large"),value:"large"},{text:this.getLocalValue("sizehuge","Huge"),value:"huge"}],r=[{text:this.getLocalValue("attachednone","None"),value:""},{text:this.getLocalValue("attachedtop","Top"),value:"top"},{text:this.getLocalValue("attachedbottom","Bottom"),value:"bottom"},{text:this.getLocalValue("attachedtopright","Top right"),value:"top right"},{text:this.getLocalValue("attachedtopleft","Top left"),value:"top left"},{text:this.getLocalValue("attachedbottomleft","Bottom left"),value:"bottom left"},{text:this.getLocalValue("attachedbottomright","Bottom right"),value:"bottom right"}];return u.default.createElement(c.Form,null,u.default.createElement(c.Form.Group,{widths:"equal"},u.default.createElement(c.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","labelform"),value:t.key,onChange:e}),u.default.createElement(c.Form.Dropdown,{name:"attached",selection:!0,fluid:!0,options:r,placeholder:r[0].text,label:this.getLocalValue("attachedfield","Attached","labelform"),value:t.attached,onChange:e})),u.default.createElement(c.Form.Group,{widths:"equal"},u.default.createElement("div",{className:"field"},u.default.createElement(c.Form.Input,{name:"content",label:this.getLocalValue("contentfield","Content","labelform"),value:t.content,onChange:e}),u.default.createElement(c.Form.Dropdown,{name:"size",selection:!0,fluid:!0,options:n,placeholder:"Default",label:this.getLocalValue("sizefield","Size","labelform"),value:t.size,onChange:e})),u.default.createElement("div",{className:"field"},u.default.createElement("label",null,this.getLocalValue("optionsfield","Options","labelform")),u.default.createElement(c.Form.Group,null,u.default.createElement(c.Form.Checkbox,{name:"basic",label:this.getLocalValue("basicfield","Basic","labelform"),checked:t.basic,onChange:e}),u.default.createElement(c.Form.Checkbox,{name:"circular",label:this.getLocalValue("circularfield","Circular","labelform"),checked:t.circular,onChange:e}),u.default.createElement(c.Form.Checkbox,{name:"corner",label:this.getLocalValue("cornerfield","Corner","labelform"),checked:t.corner,onChange:e})),u.default.createElement(c.Form.Group,null,u.default.createElement(c.Form.Checkbox,{name:"floating",label:this.getLocalValue("floatingfield","Floating","labelform"),checked:t.floating,onChange:e}),u.default.createElement(c.Form.Checkbox,{name:"pointing",label:this.getLocalValue("pointingfield","Pointing","labelform"),checked:t.pointing,onChange:e})))))}}]),k);function k(e){return s(this,k),f(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,e))}var E=(p(C,h),r(C,[{key:"getGeneralDescription",value:function(){var e=this.props.parent.handleChange.bind(this.props.parent),t=this.props.data;return u.default.createElement(c.Form,null,u.default.createElement(c.Form.Group,{widths:"equal"},u.default.createElement(c.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","staticcontentform"),value:t.key,onChange:e}),u.default.createElement(c.Form.Input,{name:"style-font-size",placeholder:"20px",label:this.getLocalValue("fontsizefield","Font size","staticcontentform"),value:t["style-font-size"],onChange:e})),u.default.createElement(c.Form.Checkbox,{name:"isHtml",label:this.getLocalValue("allowhtmlfield","Allow HTML","staticcontentform"),checked:t.isHtml,onChange:e}),u.default.createElement(c.TextArea,{rows:6,name:"content",label:this.getLocalValue("contentfield","Content","staticcontentform"),value:t.content,onChange:e}))}}]),C);function C(e){return s(this,C),f(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,e))}var _=(p(O,h),r(O,[{key:"getGeneralDescription",value:function(){var e=this.props.parent.handleChange.bind(this.props.parent),t=this.props.data,n=[{text:this.getLocalValue("sizedefault","Default"),value:""},{text:this.getLocalValue("sizemini","Mini"),value:"mini"},{text:this.getLocalValue("sizetiny","Tiny"),value:"tiny"},{text:this.getLocalValue("sizesmall","Small"),value:"small"},{text:this.getLocalValue("sizemedium","Medium"),value:"medium"},{text:this.getLocalValue("sizelarge","Large"),value:"large"},{text:this.getLocalValue("sizehuge","Huge"),value:"huge"}];return u.default.createElement(c.Form,null,u.default.createElement(c.Form.Group,{widths:"equal"},u.default.createElement("div",{className:"field"},u.default.createElement(c.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","messageform"),value:t.key,onChange:e}),u.default.createElement(c.Form.Input,{name:"header",label:this.getLocalValue("headerfield","Header","messageform"),value:t.header,onChange:e})),u.default.createElement("div",{className:"field"},u.default.createElement("label",null,this.getLocalValue("optionsfield","Options","messageform")),u.default.createElement(c.Form.Group,null,u.default.createElement(c.Form.Checkbox,{name:"compact",label:this.getLocalValue("compactfield","Compact","messageform"),checked:t.compact,onChange:e}),u.default.createElement(c.Form.Checkbox,{name:"error",label:this.getLocalValue("errorfield","Error","messageform"),checked:t.error,onChange:e}),u.default.createElement(c.Form.Checkbox,{name:"floating",label:this.getLocalValue("floatingfield","Floating","messageform"),checked:t.floating,onChange:e})),u.default.createElement(c.Form.Group,null,u.default.createElement(c.Form.Checkbox,{name:"info",label:this.getLocalValue("infofield","Info","messageform"),checked:t.info,onChange:e}),u.default.createElement(c.Form.Checkbox,{name:"negative",label:this.getLocalValue("negativefield","Negative","messageform"),checked:t.negative,onChange:e}),u.default.createElement(c.Form.Checkbox,{name:"positive",label:this.getLocalValue("positivefield","Positive","messageform"),checked:t.positive,onChange:e})),u.default.createElement(c.Form.Group,null,u.default.createElement(c.Form.Checkbox,{name:"success",label:this.getLocalValue("successfield","Success","messageform"),checked:t.success,onChange:e}),u.default.createElement(c.Form.Checkbox,{name:"warning",label:this.getLocalValue("warningfield","Warning","messageform"),checked:t.warning,onChange:e})))),u.default.createElement(c.Form.Group,{widths:"equal"},u.default.createElement(c.Form.TextArea,{name:"content",label:this.getLocalValue("contentfield","Content","messageform"),value:t.content,onChange:e}),u.default.createElement(c.Form.Dropdown,{name:"size",selection:!0,fluid:!0,options:n,placeholder:n[0].text,label:this.getLocalValue("sizefield","Size","messageform"),value:t.size,onChange:e})))}}]),O);function O(e){return s(this,O),f(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,e))}var S=(p(x,h),r(x,[{key:"getGeneralDescription",value:function(){var e=this.props.parent.handleChange.bind(this.props.parent),t=this.props.data,n=[{text:this.getLocalValue("sizedefault","Default"),value:""},{text:this.getLocalValue("sizemini","Mini"),value:"mini"},{text:this.getLocalValue("sizetiny","Tiny"),value:"tiny"},{text:this.getLocalValue("sizesmall","Small"),value:"small"},{text:this.getLocalValue("sizemedium","Medium"),value:"medium"},{text:this.getLocalValue("sizelarge","Large"),value:"large"},{text:this.getLocalValue("sizehuge","Huge"),value:"huge"},{text:this.getLocalValue("sizemassive","Massive"),value:"massive"}],r=[{text:this.getLocalValue("labeldefault","Default"),value:""},{text:this.getLocalValue("labelleft","Left"),value:"left"},{text:this.getLocalValue("labelright","Right"),value:"right"},{text:this.getLocalValue("labelleftcorner","Left corner"),value:"left corner"},{text:this.getLocalValue("labelrightcorner","Right corner"),value:"right corner"}];return"date"!==t.type&&"datetime"!==t.type&&t.type,u.default.createElement(c.Form,null,u.default.createElement(c.Form.Group,{widths:"equal"},u.default.createElement(c.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","inputform"),value:t.key,onChange:e}),u.default.createElement(c.Form.Input,{name:"label",label:this.getLocalValue("labelfield","Label","inputform"),value:t.label,onChange:e})),u.default.createElement(c.Form.Group,{widths:"equal"},u.default.createElement("div",{className:"field"},u.default.createElement("label",null,this.getLocalValue("typefield","Type","inputform")),u.default.createElement(c.Form.Group,{widths:"equal"},u.default.createElement(c.Form.Radio,{name:"type",label:this.getLocalValue("typetext","Text","inputform"),value:"text",checked:null==t.type||"text"==t.type,onChange:e}),u.default.createElement(c.Form.Radio,{name:"type",label:this.getLocalValue("typenumber","Number","inputform"),value:"number",checked:"number"===t.type,onChange:e}),u.default.createElement(c.Form.Radio,{name:"type",label:this.getLocalValue("typepasswod","Password","inputform"),value:"password",checked:"password"===t.type,onChange:e}),u.default.createElement(c.Form.Radio,{name:"type",label:this.getLocalValue("typefile","File","inputform"),value:"file",checked:"file"===t.type,onChange:e})),u.default.createElement(c.Form.Group,{widths:"equal"},u.default.createElement(c.Form.Radio,{name:"type",label:this.getLocalValue("typedate","Date","inputform"),value:"date",checked:"date"===t.type,onChange:e}),u.default.createElement(c.Form.Radio,{name:"type",label:this.getLocalValue("typetime","Time","inputform"),value:"time",checked:"time"===t.type,onChange:e}),u.default.createElement(c.Form.Radio,{name:"type",label:this.getLocalValue("typedatetime","Date & Time","inputform"),value:"datetime",checked:"datetime"===t.type,onChange:e}))),u.default.createElement("div",{className:"field"},u.default.createElement(c.Form.Dropdown,{name:"labelPosition",selection:!0,fluid:!0,placeholder:r[0].text,options:r,label:this.getLocalValue("labelpositionfield","Label position","inputform"),value:t.labelPosition,onChange:e}),u.default.createElement(c.Form.Input,{name:"placeholder",label:this.getLocalValue("placeholderfield","Placeholder","inputform"),value:t.placeholder,onChange:e}))),u.default.createElement(c.Form.Group,{widths:"equal"},u.default.createElement("div",{className:"field"},u.default.createElement("label",null,this.getLocalValue("optionsfield","Options","inputform")),u.default.createElement(c.Form.Group,{widths:"equal"},u.default.createElement(c.Form.Checkbox,{name:"disabled",label:this.getLocalValue("disabledfield","Disabled","inputform"),checked:t.disabled,onChange:e}),u.default.createElement(c.Form.Checkbox,{name:"transparent",label:this.getLocalValue("transparentfield","Transparent","inputform"),checked:t.transparent,onChange:e}),u.default.createElement(c.Form.Checkbox,{name:"fluid",label:this.getLocalValue("fluidfield","Fluid","inputform"),checked:t.fluid,onChange:e}),u.default.createElement(c.Form.Checkbox,{name:"readOnly",label:this.getLocalValue("readonlyfield","Read only","inputform"),checked:t.readOnly,onChange:e}))),u.default.createElement("div",{className:"field"},u.default.createElement(c.Form.Dropdown,{name:"size",selection:!0,fluid:!0,options:n,placeholder:n[0].text,label:this.getLocalValue("sizefield","Size","inputform"),value:t.size,onChange:e}))))}},{key:"getEventsList",value:function(){return["onChange"]}}]),x);function x(e){return s(this,x),f(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,e))}var A=(p(D,h),r(D,[{key:"getGeneralDescription",value:function(){var e=this.props.parent.handleChange.bind(this.props.parent),t=this.props.data;return u.default.createElement(c.Form,null,u.default.createElement(c.Form.Group,{widths:"equal"},u.default.createElement(c.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","textareaform"),value:t.key,onChange:e}),u.default.createElement(c.Form.Input,{name:"label",label:this.getLocalValue("labelfield","Label","textareaform"),value:t.label,onChange:e})),u.default.createElement(c.Form.Group,{widths:"equal"},u.default.createElement(c.Form.Input,{name:"rows",placeholder:"3",type:"number",label:this.getLocalValue("rowsfield","Rows","textareaform"),value:t.rows,onChange:e}),u.default.createElement("div",{className:"field"},u.default.createElement(c.Form.Input,{name:"placeholder",label:this.getLocalValue("placeholderfield","Placeholder","textareaform"),value:t.placeholder,onChange:e}),u.default.createElement("label",null,this.getLocalValue("optionsfield","Options","textareaform")),u.default.createElement(c.Form.Group,{widths:"equal"},u.default.createElement(c.Form.Checkbox,{name:"readOnly",label:this.getLocalValue("readonlyfield","Read only","textareaform"),checked:t.readOnly,onChange:e})))))}},{key:"getEventsList",value:function(){return["onChange"]}}]),D);function D(e){return s(this,D),f(this,(D.__proto__||Object.getPrototypeOf(D)).call(this,e))}var F=(p(L,h),r(L,[{key:"getGeneralDescription",value:function(){var e=this.props.parent.handleChange.bind(this.props.parent),t=this.props.data;return u.default.createElement(c.Form,null,u.default.createElement(c.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","searchform"),value:t.key,onChange:e}),u.default.createElement(c.Form.Input,{name:"url",label:this.getLocalValue("urlfield","Url","searchform"),value:t.url,onChange:e}),u.default.createElement(c.Form.Checkbox,{name:"category",label:this.getLocalValue("categoryfield","Enable Categories","searchform"),checked:Boolean(t.category),onChange:e}))}},{key:"getEventsList",value:function(){return["onSelect"]}}]),L);function L(e){return s(this,L),f(this,(L.__proto__||Object.getPrototypeOf(L)).call(this,e))}var P=(p(j,h),r(j,[{key:"getGeneralDescription",value:function(){var e=this.props.parent.handleChange.bind(this.props.parent),t=this.props.data;return u.default.createElement(c.Form,null,u.default.createElement(c.Form.Group,{widths:"equal"},u.default.createElement(c.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","checkboxform"),value:t.key,onChange:e}),u.default.createElement(c.Form.Input,{name:"label",label:this.getLocalValue("labelfield","Label","checkboxform"),value:t.label,onChange:e})),u.default.createElement(c.Form.Group,{widths:"2"},u.default.createElement("div",{className:"field"},u.default.createElement("label",null,this.getLocalValue("optionsfield","Options","checkboxform")),u.default.createElement(c.Form.Group,null,u.default.createElement(c.Form.Checkbox,{name:"fitted",label:this.getLocalValue("fittedfield","Fitted","checkboxform"),checked:t.fitted,onChange:e}),u.default.createElement(c.Form.Checkbox,{name:"indeterminate",label:this.getLocalValue("indeterminatefield","Indeterminate","checkboxform"),checked:t.indeterminate,onChange:e}),u.default.createElement(c.Form.Checkbox,{name:"readOnly",label:this.getLocalValue("readonlyfield","ReadOnly","checkboxform"),checked:t.readOnly,onChange:e})),u.default.createElement(c.Form.Group,null,u.default.createElement(c.Form.Checkbox,{name:"disabled",label:this.getLocalValue("disabledfield","Disabled","checkboxform"),checked:t.disabled,onChange:e}),u.default.createElement(c.Form.Checkbox,{name:"slider",label:this.getLocalValue("sliderfield","Slider","checkboxform"),checked:t.slider,onChange:e}),u.default.createElement(c.Form.Checkbox,{name:"toggle",label:this.getLocalValue("togglefield","Toggle","checkboxform"),checked:t.toggle,onChange:e})))))}},{key:"getEventsList",value:function(){return["onChange"]}}]),j);function j(e){return s(this,j),f(this,(j.__proto__||Object.getPrototypeOf(j)).call(this,e))}var T=(p(N,h),r(N,[{key:"getGeneralDescription",value:function(){var e=this.props.data,a=this.props.parent.handleChange.bind(this.props.parent),t=[{key:"value",name:this.getLocalValue("datavaluecolumn","Value","dropdownform")},{key:"text",name:this.getLocalValue("datatextcolumn","Text","dropdownform")}];return u.default.createElement(c.Form,null,u.default.createElement(c.Form.Group,{widths:"equal"},u.default.createElement(c.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","dropdownform"),value:e.key,onChange:a}),u.default.createElement(c.Form.Input,{name:"label",label:this.getLocalValue("labelfield","Label","dropdownform"),value:e.label,onChange:a})),u.default.createElement(c.Form.Group,{widths:"equal"},u.default.createElement(i.default,{key:"data-elements",draggable:!0,columns:t,label:this.getLocalValue("datafield","Data","dropdownform"),name:"data-elements",value:e["data-elements"],onChange:function(e,t){var n=t.name,r=t.value;Array.isArray(r)&&r.forEach(function(e){null!=e.value&&null!=e.value.match&&e.value.match(/^-{0,1}\d+$/)&&(e.value=parseInt(e.value))}),a(e,{name:n,value:r})}}),u.default.createElement("div",{className:"field"},u.default.createElement(c.Form.Input,{name:"placeholder",label:"Placeholder",value:e.placeholder,onChange:a}),u.default.createElement("div",{className:"field"},u.default.createElement("label",null,this.getLocalValue("optionsfield","Options","dropdownform")),u.default.createElement(c.Form.Group,null,u.default.createElement(c.Form.Checkbox,{name:"multiple",label:this.getLocalValue("multiplefield","Multiple","dropdownform"),checked:e.multiple,onChange:a}),u.default.createElement(c.Form.Checkbox,{name:"search",label:this.getLocalValue("searchfield","Search","dropdownform"),checked:e.search,onChange:a}),u.default.createElement(c.Form.Checkbox,{name:"allowAddItems",label:this.getLocalValue("allowAddItemsfield","Allow add items","dropdownform"),disabled:!(e.search&&e.multiple),checked:e.allowAddItems,onChange:a})),u.default.createElement(c.Form.Group,null,u.default.createElement(c.Form.Checkbox,{name:"clearable",label:this.getLocalValue("clearablefield","Clearable"),checked:e.clearable,onChange:a}),u.default.createElement(c.Form.Checkbox,{name:"disabled",label:this.getLocalValue("disabledfield","Disabled","dropdownform"),checked:e.disabled,onChange:a}),u.default.createElement(c.Form.Checkbox,{name:"fluid",label:this.getLocalValue("fluidfield","Fluid","dropdownform"),checked:e.fluid,onChange:a})),u.default.createElement(c.Form.Group,null,u.default.createElement(c.Form.Checkbox,{name:"selection",label:this.getLocalValue("selectionfield","Selection","dropdownform"),checked:e.selection,onChange:a}),u.default.createElement(c.Form.Checkbox,{name:"readOnly",label:this.getLocalValue("readonlyfield","Read only","dropdownform"),checked:e.readOnly,onChange:a}))))))}},{key:"getEventsList",value:function(){return["onClick","onChange"]}}]),N);function N(e){s(this,N);var t=f(this,(N.__proto__||Object.getPrototypeOf(N)).call(this,e));return t.state.defaultValuePreferInt=!0,t}var I=(p(M,h),r(M,[{key:"getGeneralDescription",value:function(){var e=this,t=this.props.data,n=this.props.parent.handleChange.bind(this.props.parent),r='[{"column":"columnName","value":"columnValue","term":"="}]',a=u.default.createElement(c.Icon,{link:!0,onClick:function(){e.props.parent.handleChange.call(e.props.parent,void 0,{name:"filters",value:r})},name:"idea"});return u.default.createElement(c.Form,null,u.default.createElement(c.Form.Group,{widths:"equal"},u.default.createElement(c.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","dictionaryform"),value:t.key,onChange:n}),u.default.createElement(c.Form.Input,{name:"label",label:this.getLocalValue("labelfield","Label","dictionaryform"),value:t.label,onChange:n})),u.default.createElement(c.Form.Group,{widths:"equal"},u.default.createElement(c.Form.Input,{name:"dataModel",label:this.getLocalValue("datamodelfield","Data model","dictionaryform"),value:t.dataModel,onChange:n}),u.default.createElement(c.Form.Input,{name:"placeholder",label:this.getLocalValue("placeholderfield","Placeholder","dictionaryform"),value:t.placeholder,onChange:n})),u.default.createElement(c.Form.Group,{widths:"equal"},u.default.createElement("div",{className:"field"},u.default.createElement(c.Form.Input,{name:"columns",label:this.getLocalValue("columnsfield","Columns (Name ASC, Email)","dictionaryform"),value:t.columns,onChange:n}),u.default.createElement(c.Form.Input,{name:"text",label:this.getLocalValue("textfield","Text expression","dictionaryform"),value:t.text,onChange:n,placeholder:"data.Name + ' ' + data.Email"}),u.default.createElement(c.Form.Input,{name:"filters",label:u.default.createElement("label",null,this.getLocalValue("filtersfield","Filters","dictionaryform"),a),value:t.filters,onChange:n,placeholder:r}),u.default.createElement(c.Form.Input,{name:"pageSize",label:this.getLocalValue("pagesizefield","Page Size","dictionaryform"),disabled:!t.paging,value:t.pageSize,placeholder:"100",onChange:n})),u.default.createElement("div",{className:"field"},u.default.createElement("label",null,this.getLocalValue("optionsfield","Options","dictionaryform")),u.default.createElement(c.Form.Group,null,u.default.createElement(c.Form.Checkbox,{name:"paging",label:this.getLocalValue("pagingfield","Server pagination","dictionaryform"),checked:t.paging,onChange:n}),u.default.createElement(c.Form.Checkbox,{name:"search",label:this.getLocalValue("searchfield","Search","dictionaryform"),checked:t.search,onChange:n}),u.default.createElement(c.Form.Checkbox,{name:"multiple",label:this.getLocalValue("multiplefield","Multiple","dictionaryform"),checked:t.multiple,onChange:n})),u.default.createElement(c.Form.Group,null,u.default.createElement(c.Form.Checkbox,{name:"readOnly",label:this.getLocalValue("readonlyfield","Read only","dictionaryform"),checked:t.readOnly,onChange:n}),u.default.createElement(c.Form.Checkbox,{name:"disabled",label:this.getLocalValue("disabledfield","Disabled","dictionaryform"),checked:t.disabled,onChange:n}),u.default.createElement(c.Form.Checkbox,{name:"clearable",label:this.getLocalValue("clearablefield","Clearable","dictionaryform"),checked:t.clearable,onChange:n})),u.default.createElement(c.Form.Group,null,u.default.createElement(c.Form.Checkbox,{name:"selection",label:this.getLocalValue("selectionfield","Selection","dictionaryform"),checked:t.selection,onChange:n}),u.default.createElement(c.Form.Checkbox,{name:"fluid",label:this.getLocalValue("fluidfield","Fluid","dictionaryform"),checked:t.fluid,onChange:n})))))}},{key:"getEventsList",value:function(){return["onChange"]}}]),M);function M(e){return s(this,M),f(this,(M.__proto__||Object.getPrototypeOf(M)).call(this,e))}var R=(p(V,h),r(V,[{key:"getStyleDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent),n="/*** Example Code ***/\ncolor:red;\npaddingTop:5px;";return u.default.createElement(c.Form,{key:"styleDescriptionForm"},u.default.createElement(c.Form.Group,{widths:"equal"},u.default.createElement(c.Form.Input,{name:"style-width",label:this.getLocalValue("widthfield","Width"),placeholder:"100px",value:e["style-width"],onChange:t}),u.default.createElement(c.Form.Input,{name:"style-height",label:this.getLocalValue("heightfield","Height"),placeholder:"100px",value:e["style-height"],onChange:t})),u.default.createElement(c.Form.Group,{widths:"equal"},u.default.createElement(c.Form.Input,{name:"style-marginTop",label:this.getLocalValue("margintopfield","Margin Top"),placeholder:"0px",value:e["style-marginTop"],onChange:t}),u.default.createElement(c.Form.Input,{name:"style-marginBottom",label:this.getLocalValue("marginbottomfield","Margin Bottom"),placeholder:"0px",value:e["style-marginBottom"],onChange:t}),u.default.createElement(c.Form.Input,{name:"style-marginLeft",label:this.getLocalValue("marginleftfield","Margin Left"),placeholder:"0px",value:e["style-marginLeft"],onChange:t}),u.default.createElement(c.Form.Input,{name:"style-marginRight",label:this.getLocalValue("marginrightfield","Margin Right"),placeholder:"0px",value:e["style-marginRight"],onChange:t})),u.default.createElement(c.Form.Group,{widths:"equal"},u.default.createElement(c.Form.Input,{name:"style-customcss",label:this.getLocalValue("buttoncssclass","Custom CSS class for button","treepickerform"),placeholder:"dwkit-application-css (without '.')",value:e["style-customcss"],onChange:t}),u.default.createElement(c.Form.Input,{name:"style-custommodalcss",label:this.getLocalValue("modalcssclass","Custom CSS class for modal","treepickerform"),placeholder:"dwkit-application-css (without '.')",value:e["style-custommodalcss"],onChange:t})),u.default.createElement(c.Form.Group,{widths:"equal"},u.default.createElement(c.Form.TextArea,{name:"style-source",label:this.getLocalValue("buttonstyle","Button style","treepickerform"),placeholder:n,value:e["style-source"],onChange:t}),u.default.createElement(c.Form.TextArea,{name:"style-modalsource",label:this.getLocalValue("modalstyle","Modal style","treepickerform"),placeholder:n,value:e["style-modalsource"],onChange:t})),u.default.createElement(c.Form.Checkbox,{name:"style-hidden",label:this.getLocalValue("hiddenfield","Hidden"),checked:e["style-hidden"],onChange:t}))}},{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent);return u.default.createElement(c.Form,null,u.default.createElement(c.Form.Group,{widths:"equal"},u.default.createElement(c.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","treepickerform"),value:e.key,onChange:t}),u.default.createElement(c.Form.Input,{name:"label",label:this.getLocalValue("labelfield","Label","treepickerform"),value:e.label,onChange:t})),u.default.createElement(c.Form.Group,{widths:"equal"},u.default.createElement(c.Form.Input,{name:"dataModel",label:this.getLocalValue("datamodelfield","Data model","treepickerform"),value:e.dataModel,onChange:t}),u.default.createElement(c.Form.Input,{name:"parentIdField",label:this.getLocalValue("parentidfield","ParentId field","treepickerform"),value:e.parentIdField,onChange:t})),u.default.createElement(c.Form.Group,{widths:"equal"},u.default.createElement("div",{className:"field"},u.default.createElement(c.Form.Input,{name:"columns",label:this.getLocalValue("columnsfield","Columns (Name ASC, Email)","treepickerform"),value:e.columns,onChange:t}),u.default.createElement(c.Form.Input,{name:"text",label:this.getLocalValue("textfield","Text expression","treepickerform"),value:e.text,onChange:t,placeholder:"data.Name + ' ' + data.Email"})),u.default.createElement("div",{className:"field"},u.default.createElement(c.Form.Input,{name:"pageSize",label:this.getLocalValue("pagesizefield","Page Size","treepickerform"),disabled:!e.paging,value:e.pageSize,placeholder:"100",onChange:t}),u.default.createElement("label",null,this.getLocalValue("optionsfield","Options","treepickerform")),u.default.createElement(c.Form.Group,null,u.default.createElement(c.Form.Checkbox,{name:"paging",label:this.getLocalValue("pagingfield","Server pagination","treepickerform"),checked:e.paging,onChange:t}),u.default.createElement(c.Form.Checkbox,{name:"multiple",label:this.getLocalValue("multiplefield","Multiple","treepickerform"),checked:e.multiple,onChange:t}),u.default.createElement(c.Form.Checkbox,{name:"fluid",label:this.getLocalValue("fluidfield","Fluid","treepickerform"),checked:e.fluid,onChange:t}),u.default.createElement(c.Form.Checkbox,{name:"selection",label:this.getLocalValue("selectionfield","Selection","treepickerform"),checked:e.selection,onChange:t})),u.default.createElement(c.Form.Group,null,u.default.createElement(c.Form.Checkbox,{name:"readOnly",label:this.getLocalValue("readonlyfield","Read only","treepickerform"),checked:e.readOnly,onChange:t}),u.default.createElement(c.Form.Checkbox,{name:"disabled",label:this.getLocalValue("disabledfield","Disabled","treepickerform"),checked:e.disabled,onChange:t}),u.default.createElement(c.Form.Checkbox,{name:"clearable",label:this.getLocalValue("clearablefield","Clearable","treepickerform"),checked:e.clearable,onChange:t})))))}},{key:"getEventsList",value:function(){return["onChange"]}}]),V);function V(e){return s(this,V),f(this,(V.__proto__||Object.getPrototypeOf(V)).call(this,e))}var W=(p(B,h),r(B,[{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent),n=[{key:"value",name:this.getLocalValue("datavaluecolumn","Value","radiogroupform")},{key:"text",name:this.getLocalValue("datatextcolumn","Text","radiogroupform")}];return u.default.createElement(c.Form,null,u.default.createElement(c.Form.Group,{widths:"equal"},u.default.createElement(c.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","radiogroupform"),value:e.key,onChange:t}),u.default.createElement(c.Form.Input,{name:"label",label:this.getLocalValue("labelfield","Label","radiogroupform"),value:e.label,onChange:t})),u.default.createElement(c.Form.Group,{widths:"equal"},u.default.createElement(i.default,{key:"data-elements",draggable:!0,columns:n,label:this.getLocalValue("datafield","Data","radiogroupform"),name:"data-elements",value:e["data-elements"],onChange:t}),u.default.createElement("div",{className:"field"},u.default.createElement("label",null,this.getLocalValue("groupdirectfield","Group direction","radiogroupform")),u.default.createElement(c.Form.Radio,{name:"direction",label:this.getLocalValue("directionhorizontalfield","Horizontal","radiogroupform"),value:"g",checked:void 0===e.direction||"g"===e.direction,onChange:t}),u.default.createElement(c.Form.Radio,{name:"direction",label:this.getLocalValue("directionverticalfield","Vertical","radiogroupform"),value:"v",checked:"v"===e.direction,onChange:t}),u.default.createElement(c.Form.Group,null,u.default.createElement(c.Form.Checkbox,{name:"readOnly",label:this.getLocalValue("readonlyfield","Read only","radiogroupform"),checked:e.readOnly,onChange:t})))))}},{key:"getEventsList",value:function(){return["onChange"]}}]),B);function B(e){return s(this,B),f(this,(B.__proto__||Object.getPrototypeOf(B)).call(this,e))}var z=(p(K,h),r(K,[{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent),n=[{text:this.getLocalValue("sizedefault","Default"),value:""},{text:this.getLocalValue("sizemini","Mini"),value:"mini"},{text:this.getLocalValue("sizetiny","Tiny"),value:"tiny"},{text:this.getLocalValue("sizesmall","Small"),value:"small"},{text:this.getLocalValue("sizemedium","Medium"),value:"medium"},{text:this.getLocalValue("sizelarge","Large"),value:"large"},{text:this.getLocalValue("sizehuge","Huge"),value:"huge"}];return u.default.createElement(c.Form,null,u.default.createElement(c.Form.Group,{widths:"equal"},u.default.createElement(c.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","form"),value:e.key,onChange:t}),u.default.createElement(c.Form.Dropdown,{name:"size",selection:!0,fluid:!0,options:n,placeholder:n[0].text,label:this.getLocalValue("sizefield","Size","form"),value:e.size,onChange:t})))}},{key:"getEventsList",value:function(){return["onSubmit"]}}]),K);function K(e){return s(this,K),f(this,(K.__proto__||Object.getPrototypeOf(K)).call(this,e))}var U=(p(G,h),r(G,[{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent);return e=this.props.data,u.default.createElement(c.Form,null,u.default.createElement(c.Form.Group,{widths:"equal"},u.default.createElement(c.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","formgroupform"),value:e.key,onChange:t}),u.default.createElement("div",{className:"field"},u.default.createElement("label",null,this.getLocalValue("widthsfield","Widths","formgroupform")),u.default.createElement(c.Form.Group,null,u.default.createElement(c.Form.Radio,{name:"widths",label:this.getLocalValue("widthsequalfield","Equal","formgroupform"),value:"equal",checked:"equal"===e.widths,onChange:t}),u.default.createElement(c.Form.Radio,{name:"widths",label:this.getLocalValue("widthscustomfield","Custom (1 - 16)","formgroupform"),value:"custom",checked:"custom"===e.widths,onChange:t})))),u.default.createElement(c.Form.Group,{widths:"2"},u.default.createElement("div",{className:"field"},u.default.createElement("label",null,this.getLocalValue("typefield","Type","formgroupform")),u.default.createElement(c.Form.Group,{inline:!0},u.default.createElement(c.Form.Radio,{name:"orientation",label:this.getLocalValue("orientationcolumnsfield","Columns","formgroupform"),value:"inline",checked:void 0===e.orientation||"inline"===e.orientation,onChange:t}),u.default.createElement(c.Form.Radio,{name:"orientation",label:this.getLocalValue("orientationrowsfield","Rows","formgroupform"),value:"grouped",checked:"grouped"===e.orientation,onChange:t}),u.default.createElement(c.Form.Radio,{name:"orientation",label:this.getLocalValue("orientationfieldfield","Field","formgroupform"),value:"field",checked:"field"===e.orientation,onChange:t}))),u.default.createElement(c.Form.Input,{name:"widthsCustom",disabled:"custom"!==e.widths,placeholder:"2",value:e.widthsCustom,onChange:t})))}}]),G);function G(e){return s(this,G),f(this,(G.__proto__||Object.getPrototypeOf(G)).call(this,e))}var q=(p(H,h),r(H,[{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent),n=(e=this.props.data,[{text:this.getLocalValue("floatnonefield","None","containerform"),value:""},{text:this.getLocalValue("floatleftfield","Left","containerform"),value:"left"},{text:this.getLocalValue("floatrightfield","Right","containerform"),value:"right"},{text:this.getLocalValue("floatinheritfield","Inherit","containerform"),value:"inherit"},{text:this.getLocalValue("floatinitialfield","Initial","containerform"),value:"initial"}]),r=[{text:this.getLocalValue("displaynotsetfield","(Not set)","containerform"),value:""},{text:this.getLocalValue("displayflexfield","Flex","containerform"),value:"flex"},{text:this.getLocalValue("displayblockfield","Block","containerform"),value:"block"},{text:this.getLocalValue("displayinlinefield","Inline","containerform"),value:"inline"},{text:this.getLocalValue("displayflowfield","Flow","containerform"),value:"flow"},{text:this.getLocalValue("displayflowrootfield","Flow-root","containerform"),value:"flow-root"},{text:this.getLocalValue("displaytablefield","Table","containerform"),value:"table"},{text:this.getLocalValue("displaygridfield","Grid","containerform"),value:"grid"},{text:this.getLocalValue("displaycontentsfield","Contents","containerform"),value:"contents"},{text:this.getLocalValue("displayinlineblockfield","Inline-block","containerform"),value:"inline-block"},{text:this.getLocalValue("displayinlinetablefield","Inline-table","containerform"),value:"inline-table"},{text:this.getLocalValue("displayinlineflexfield","Inline-flex","containerform"),value:"inline-flex"},{text:this.getLocalValue("displayinlinegridfield","Inline-grid","containerform"),value:"inline-grid"},{text:this.getLocalValue("displayinheritfield","Inherit","containerform"),value:"inherit"},{text:this.getLocalValue("displayinitialfield","Initial","containerform"),value:"initial"},{text:this.getLocalValue("displaynonefield","None","containerform"),value:"none"}],a=[{text:this.getLocalValue("displaynotsetfield","(Not set)","containerform"),value:""},{text:this.getLocalValue("flexbaselinefield","Baseline","containerform"),value:"baseline"},{text:this.getLocalValue("flexstretchfield","Stretch","containerform"),value:"stretch"},{text:this.getLocalValue("flexcenterfield","Center","containerform"),value:"center"},{text:this.getLocalValue("flexstartfield","Start","containerform"),value:"flex-start"},{text:this.getLocalValue("flexendfield","End","containerform"),value:"flex-end"},{text:this.getLocalValue("flexspacearoundfield","Space Around","containerform"),value:"space-around"},{text:this.getLocalValue("flexspacebetweenfield","Space Between","containerform"),value:"space-between"}];return u.default.createElement(c.Form,null,u.default.createElement(c.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","containerform"),value:e.key,onChange:t}),u.default.createElement(c.Form.Dropdown,{name:"style-float",selection:!0,fluid:!0,options:n,placeholder:n[0].text,label:this.getLocalValue("floatfield","Float","containerform"),value:e["style-float"],onChange:t}),u.default.createElement(c.Form.Dropdown,{name:"style-display",selection:!0,search:!0,fluid:!0,options:r,placeholder:r[0].text,label:this.getLocalValue("displayfield","Display","containerform"),value:e["style-display"],onChange:t}),"flex"===e["style-display"]&&u.default.createElement(c.Form.Group,{widths:"equal"},u.default.createElement(c.Form.Dropdown,{name:"style-display-horizontalalign",selection:!0,search:!0,fluid:!0,options:a,placeholder:a[0].text,label:this.getLocalValue("displayhorizontalalignfield","Horizontal Align","containerform"),value:e["style-display-horizontalalign"],onChange:t}),u.default.createElement(c.Form.Dropdown,{name:"style-display-verticalalign",selection:!0,search:!0,fluid:!0,options:a,placeholder:a[0].text,label:this.getLocalValue("displayverticalalignfield","Vertical Align","containerform"),value:e["style-display-verticalalign"],onChange:t})))}}]),H);function H(e){return s(this,H),f(this,(H.__proto__||Object.getPrototypeOf(H)).call(this,e))}var $=(p(Y,h),r(Y,[{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent),n=(e=this.props.data,[{value:"",text:this.getLocalValue("pagertypenonefield","None","repeaterform")},{value:"server",text:this.getLocalValue("pagertypeserverfield","Server","repeaterform")}]);return u.default.createElement(c.Form,null,u.default.createElement(c.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","repeaterform"),value:e.key,onChange:t}),u.default.createElement(c.Form.Checkbox,{name:"slider",label:this.getLocalValue("sliderfield","Slider","repeaterform"),checked:e.slider,onChange:t}),u.default.createElement(c.Form.TextArea,{name:"item-visibleCondition",label:this.getLocalValue("itemvisibleconditionfield","Item Visible Condition","repeaterform"),placeholder:"data.Type == 1",value:e["item-visibleCondition"],onChange:t}),u.default.createElement(c.Form.Input,{name:"defaultSort",label:this.getLocalValue("defaultsortfield","Default sort","repeaterform"),placeholder:"Name ASC",value:e.defaultSort,onChange:t}),u.default.createElement(c.Form.Dropdown,{name:"pagerType",selection:!0,fluid:!0,label:this.getLocalValue("pagertypefield","Pagination type","repeaterform"),placeholder:"None",options:n,value:e.pagerType,onChange:t}),u.default.createElement(c.Form.Group,null,"server"==e.pagerType&&u.default.createElement(c.Form.Input,{name:"pageSize",placeholder:"20",label:this.getLocalValue("pagesizefield","Page size","repeaterform"),value:e.pageSize,onChange:t}),"server"==e.pagerType&&u.default.createElement(c.Form.Input,{name:"loadButtonLabel",label:this.getLocalValue("loadbuttonlabelfield","Load Button Label","repeaterform"),value:e.loadButtonLabel,onChange:t}),"server"==e.pagerType&&u.default.createElement(c.Form.Input,{name:"noRecordsLabel",label:this.getLocalValue("norecordslabelfield","No Record Button Label","repeaterform"),value:e.noRecordsLabel,onChange:t})))}}]),Y);function Y(e){return s(this,Y),f(this,(Y.__proto__||Object.getPrototypeOf(Y)).call(this,e))}var J=(p(Q,h),r(Q,[{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent);return u.default.createElement(c.Form,null,u.default.createElement(c.Form.Group,{widths:"equal"},u.default.createElement("div",{className:"field"},u.default.createElement(c.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","imageform"),value:e.key,onChange:t}),u.default.createElement(c.Form.Input,{name:"src",label:this.getLocalValue("srcfield","Src","imageform"),value:e.src,onChange:t}),u.default.createElement(c.Form.Input,{name:"href",label:this.getLocalValue("hreffield","Href","imageform"),value:e.href,onChange:t})),u.default.createElement("div",{className:"field"},u.default.createElement("div",{className:"field"},u.default.createElement("label",null,this.getLocalValue("optionsfield","Options","imageform")),u.default.createElement(c.Form.Group,null,u.default.createElement(c.Form.Checkbox,{name:"avatar",label:this.getLocalValue("avatarfield","Avatar","imageform"),checked:e.avatar,onChange:t}),u.default.createElement(c.Form.Checkbox,{name:"bordered",label:this.getLocalValue("borderedfield","Bordered","imageform"),checked:e.bordered,onChange:t}),u.default.createElement(c.Form.Checkbox,{name:"centered",label:this.getLocalValue("centeredfield","Centered","imageform"),checked:e.centered,onChange:t})),u.default.createElement(c.Form.Group,null,u.default.createElement(c.Form.Checkbox,{name:"disabled",label:this.getLocalValue("disabledfield","Disabled","imageform"),checked:e.disabled,onChange:t}),u.default.createElement(c.Form.Checkbox,{name:"inline",label:this.getLocalValue("inlinefield","Inline","imageform"),checked:e.inline,onChange:t}),u.default.createElement(c.Form.Checkbox,{name:"spaced",label:this.getLocalValue("spacedfield","Spaced","imageform"),checked:e.spaced,onChange:t}))),u.default.createElement("div",{className:"field"},u.default.createElement("label",null,this.getLocalValue("floatedfield","Floated","imageform")),u.default.createElement(c.Form.Group,null,u.default.createElement(c.Form.Radio,{name:"floated",label:this.getLocalValue("floatedleftfield","Left","imageform"),value:"left",checked:"left"===e.floated||""===e.floated,onChange:t}),u.default.createElement(c.Form.Radio,{name:"floated",label:this.getLocalValue("floatedrightfield","Right","imageform"),value:"right",checked:"right"===e.floated,onChange:t})),u.default.createElement("label",null,this.getLocalValue("verticalalignfield","Vertical align","imageform")),u.default.createElement(c.Form.Group,null,u.default.createElement(c.Form.Radio,{name:"verticalAlign",label:this.getLocalValue("verticalaligntopfield","Top","imageform"),value:"top",checked:"top"===e.verticalAlign,onChange:t}),u.default.createElement(c.Form.Radio,{name:"verticalAlign",label:this.getLocalValue("verticalalignmiddlefield","Middle","imageform"),value:"middle",checked:"middle"===e.verticalAlign,onChange:t}),u.default.createElement(c.Form.Radio,{name:"verticalAlign",label:this.getLocalValue("verticalalignbottomfield","Bottom","imageform"),value:"bottom",checked:"bottom"===e.verticalAlign,onChange:t}))))))}}]),Q);function Q(e){return s(this,Q),f(this,(Q.__proto__||Object.getPrototypeOf(Q)).call(this,e))}var Z=(p(X,h),r(X,[{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent),n=[{text:this.getLocalValue("sizedefault","Default"),value:""},{text:this.getLocalValue("sizemini","Mini"),value:"mini"},{text:this.getLocalValue("sizetiny","Tiny"),value:"tiny"},{text:this.getLocalValue("sizesmall","Small"),value:"small"},{text:this.getLocalValue("sizemedium","Medium"),value:"medium"},{text:this.getLocalValue("sizelarge","Large"),value:"large"},{text:this.getLocalValue("sizehuge","Huge"),value:"huge"}],r=[{key:"label",name:this.getLocalValue("datakeycolumn","Label","statisticform")},{key:"value",name:this.getLocalValue("datavaluecolumn","Value","statisticform")}];return u.default.createElement(c.Form,null,u.default.createElement(c.Form.Group,{widths:"equal"},u.default.createElement(c.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","statisticform"),value:e.key,onChange:t}),u.default.createElement("div",{className:"field"},u.default.createElement("label",null,this.getLocalValue("optionsfield","Options","statisticform")),u.default.createElement(c.Form.Group,null,u.default.createElement(c.Form.Checkbox,{name:"horizontal",label:this.getLocalValue("horizontalfield","Horizontal","statisticform"),checked:e.horizontal,onChange:t})))),u.default.createElement(c.Form.Group,{widths:"equal"},u.default.createElement(i.default,{key:"data-elements",columns:r,label:this.getLocalValue("datafield","Data","statisticform"),name:"data-elements",value:e["data-elements"],onChange:t}),u.default.createElement(c.Form.Dropdown,{name:"size",selection:!0,fluid:!0,options:n,placeholder:n[0].text,label:this.getLocalValue("sizefield","Size","statisticform"),value:e.size,onChange:t})))}}]),X);function X(e){return s(this,X),f(this,(X.__proto__||Object.getPrototypeOf(X)).call(this,e))}var ee=(p(te,h),r(te,[{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent),n=[{value:"",text:this.getLocalValue("pagertypenonefield","None","gridform")},{value:"server",text:this.getLocalValue("pagertypeserverfield","Server","gridform")}],r=[{value:"",text:this.getLocalValue("editformtypedefaultfield","Default","gridform")},{value:"modal",text:this.getLocalValue("editformtypemodalfield","Modal","gridform")},{value:"sidebar",text:this.getLocalValue("editformtypesidebarfield","Sidebar","gridform")}],a=[{value:"right",text:this.getLocalValue("editformsidebarderectionrightfield","Right","gridform")},{value:"left",text:this.getLocalValue("editformsidebarderectionleftfield","Left","gridform")}],o=[{key:"key",name:this.getLocalValue("keycolumn","Key","gridform")},{key:"name",name:this.getLocalValue("namecolumn","Name","gridform")},{key:"type",name:this.getLocalValue("typecolumn","Type","gridform"),dataList:["","number","checkbox","date","datetime","time","custom"]},{key:"width",name:this.getLocalValue("widthcolumn","Width","gridform"),control:"number"},{key:"resizable",name:this.getLocalValue("resizablecolumn","Resizable","gridform"),control:"checkbox"}];return u.default.createElement(c.Form,null,u.default.createElement(c.Form.Group,{widths:"equal"},u.default.createElement(c.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","gridform"),value:e.key,onChange:t}),u.default.createElement("div",{className:"field"},u.default.createElement("label",null,this.getLocalValue("optionsfield","Options","gridform")),u.default.createElement(c.Form.Group,null,u.default.createElement(c.Form.Checkbox,{name:"multiselect",label:this.getLocalValue("multiselectfield","Multiselect","gridform"),checked:e.multiselect,onChange:t}),u.default.createElement(c.Form.Checkbox,{name:"disableSort",label:this.getLocalValue("disablesortfield","Disable sorting","gridform"),checked:e.disableSort,onChange:t})))),u.default.createElement(c.Form.Group,{widths:"equal"},u.default.createElement("div",{className:"field"},u.default.createElement(c.Form.Group,{widths:"equal"},u.default.createElement(l.default,{name:"editType",label:this.getLocalValue("edittypefield","Edit type","gridform"),items:[{key:"form",text:"Form",value:void 0},{key:"flow",text:"Flow",value:"flow"}],value:e.editType,onChange:t}),"flow"!==e.editType&&u.default.createElement(c.Form.Input,{name:"editForm",label:this.getLocalValue("editformfield","Edit form","gridform"),disabled:1==e.inline,value:e.editForm,onChange:t}),"flow"===e.editType&&u.default.createElement(c.Form.Input,{name:"editFlow",label:this.getLocalValue("editflowfield","Edit flow","gridform"),disabled:1==e.inline,value:e.editFlow,onChange:t})),u.default.createElement(c.Form.Input,{name:"rowKey",label:this.getLocalValue("rowkeyfield","Row key","gridform"),value:e.rowKey,onChange:t}),u.default.createElement(c.Form.Input,{name:"pageSize",label:this.getLocalValue("pagesizefield","Page size","gridform"),value:e.pageSize,onChange:t}),u.default.createElement(c.Form.Input,{name:"defaultSort",label:this.getLocalValue("defaultsortfield","Default sort","gridform"),placeholder:"Name ASC",value:e.defaultSort,onChange:t})),u.default.createElement("div",{className:"field"},u.default.createElement(c.Form.Dropdown,{name:"editFormShowType",selection:!0,fluid:!0,label:this.getLocalValue("editformshowtypefield","Edit form show type","gridform"),placeholder:r[0].text,options:r,value:e.editFormShowType,onChange:t}),u.default.createElement(c.Form.Dropdown,{name:"sidebarDirection",selection:!0,fluid:!0,label:this.getLocalValue("editformsidebardirectionfield","Sidebar direction","gridform"),placeholder:a[0].text,options:a,value:e.sidebarDirection,onChange:t,disabled:"sidebar"!==e.editFormShowType}),u.default.createElement(c.Form.Dropdown,{name:"pagerType",selection:!0,fluid:!0,label:this.getLocalValue("pagertypefield","Pagination type","gridform"),placeholder:"None",options:n,value:e.pagerType,onChange:t}),u.default.createElement(c.Form.Input,{name:"rowHeight",label:this.getLocalValue("rowheightfield","Row height","gridform"),value:e.rowHeight,onChange:t}),u.default.createElement(c.Form.Input,{name:"minHeight",label:this.getLocalValue("minheightfield","Min height","gridform"),value:e.minHeight,onChange:t}),u.default.createElement(c.Form.Group,{widths:"equal"},u.default.createElement(c.Form.Checkbox,{name:"autoHeight",label:this.getLocalValue("autoheightfield","Auto Height","gridform"),checked:Boolean(e.autoHeight),onChange:t}),u.default.createElement(c.Form.Input,{name:"offSet",label:this.getLocalValue("offsetfield","OffSet","gridform"),disabled:!Boolean(e.autoHeight),value:e.offSet,onChange:t})))),u.default.createElement("div",{className:"field"},u.default.createElement(i.default,{key:"columns",draggable:!0,columns:o,label:this.getLocalValue("columnsfield","Columns","gridform"),name:"columns",value:e.columns,onChange:t})))}},{key:"getEventsList",value:function(){return["onRowClick","onRowDblClick","onSelectionChanged","onModalClosed"]}}]),te);function te(e){return s(this,te),f(this,(te.__proto__||Object.getPrototypeOf(te)).call(this,e))}var ne=(p(re,h),r(re,[{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent),n=[{key:"key",name:this.getLocalValue("keycolumn","Key","collectioneditorform")},{key:"name",name:this.getLocalValue("namecolumn","Name","collectioneditorform")},{key:"control",name:this.getLocalValue("controlcolumn","Control","collectioneditorform"),dataList:["input","checkbox","span","number","file","date","datetime","custom"]},{key:"width",name:this.getLocalValue("widthcolumn","Width","collectioneditorform")}];return u.default.createElement(c.Form,null,u.default.createElement(c.Form.Group,{widths:"equal"},u.default.createElement(c.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","collectioneditorform"),value:e.key,onChange:t}),u.default.createElement(c.Form.Input,{name:"idField",label:this.getLocalValue("idfield","Id field","collectioneditorform"),value:e.idField,onChange:t})),u.default.createElement(c.Form.Group,{widths:"equal"},u.default.createElement("div",{className:"field"},u.default.createElement("label",null,this.getLocalValue("optionsfield","Options","collectioneditorform")),u.default.createElement(c.Form.Group,null,u.default.createElement(c.Form.Checkbox,{name:"readOnly",label:this.getLocalValue("readonlyfield","ReadOnly","collectioneditorform"),checked:e.readOnly,onChange:t}),u.default.createElement(c.Form.Checkbox,{name:"draggable",label:this.getLocalValue("draggablefield","Draggable","collectioneditorform"),checked:e.draggable,onChange:t}),u.default.createElement(c.Form.Checkbox,{name:"hierarchical",label:this.getLocalValue("hierarchicalfield","Hierarchical","collectioneditorform"),checked:e.hierarchical,onChange:t})),u.default.createElement(c.Form.Group,null,u.default.createElement(c.Form.Checkbox,{name:"disableAdd",label:this.getLocalValue("disableAdd","Disable Add","collectioneditorform"),checked:e.disableAdd,onChange:t}),u.default.createElement(c.Form.Checkbox,{name:"collapseAll",label:this.getLocalValue("collapseallfield","Collapse all","collectioneditorform"),disabled:1!=e.hierarchical,checked:e.collapseAll,onChange:t}))),u.default.createElement("div",{className:"field"},u.default.createElement(c.Form.Input,{name:"parentIdField",label:this.getLocalValue("parentidfield","ParentId field","collectioneditorform"),disabled:!e.hierarchical||e.childrenField,value:e.parentIdField,onChange:t}),u.default.createElement(c.Form.Input,{name:"childrenField",label:this.getLocalValue("childrenField","Children field","collectioneditorform"),disabled:!e.hierarchical||e.parentIdField,value:e.childrenField,onChange:t}))),u.default.createElement(i.default,{key:"columns",draggable:!0,columns:n,label:this.getLocalValue("columnsfield","Columns","collectioneditorform"),name:"columns",value:e.columns,height:"200px",onChange:t}))}},{key:"getEventsList",value:function(){return["onChange","onAdd","onDelete","onCopy"]}}]),re);function re(e){return s(this,re),f(this,(re.__proto__||Object.getPrototypeOf(re)).call(this,e))}var ae=(p(oe,h),r(oe,[{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent);return u.default.createElement(c.Form,null,u.default.createElement(c.Form.Group,{widths:"equal"},u.default.createElement(c.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","customform"),value:e.key,onChange:t}),u.default.createElement(c.Form.Input,{name:"type",label:this.getLocalValue("typefield","Control type","customform"),value:e.type,onChange:t})),u.default.createElement(c.Form.Group,{widths:"equal"},u.default.createElement(c.Form.TextArea,{key:"props",label:this.getLocalValue("propsfield","Props","customform"),name:"props",value:e.props,onChange:t,rows:5}),u.default.createElement(c.Form.TextArea,{key:"children",label:this.getLocalValue("childrenfield","Children","customform"),name:"children",value:e.children,onChange:t,rows:5})))}}]),oe);function oe(e){return s(this,oe),f(this,(oe.__proto__||Object.getPrototypeOf(oe)).call(this,e))}var ie=(p(le,h),r(le,[{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent);return u.default.createElement(c.Form,null,u.default.createElement(c.Form.Group,{widths:"equal"},u.default.createElement(c.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","customblockform"),value:e.key,onChange:t}),u.default.createElement("div",{className:"field"},u.default.createElement("label",null,this.getLocalValue("sourcetypefield","Source type","customblockform")),u.default.createElement(c.Form.Group,null,u.default.createElement(c.Form.Radio,{name:"sourceType",label:this.getLocalValue("sourcetypeformfield","Form name","customblockform"),value:"form",checked:void 0===e.sourceType||"form"==e.sourceType,onChange:t}),u.default.createElement(c.Form.Radio,{name:"sourceType",label:this.getLocalValue("sourcetypejsonfield","JSON source","customblockform"),value:"source",checked:"source"===e.sourceType,onChange:t}),u.default.createElement(c.Form.Radio,{name:"sourceType",label:this.getLocalValue("placeholderfield","Placeholder","customblockform"),value:"placeholder",checked:"placeholder"===e.sourceType,onChange:t})))),u.default.createElement(c.Form.Input,{name:"formname",label:this.getLocalValue("formnamefield","Form name","customblockform"),value:e.formname,onChange:t,disabled:null!=e.sourceType&&"form"!=e.sourceType}),u.default.createElement(c.Form.TextArea,{key:"source",label:this.getLocalValue("sourcefield","JSON source","customblockform"),name:"source",value:e.source,onChange:t,rows:10,disabled:"source"!=e.sourceType}))}}]),le);function le(e){return s(this,le),f(this,(le.__proto__||Object.getPrototypeOf(le)).call(this,e))}var se=(p(ue,h),r(ue,[{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent),n=[{key:"target",name:this.getLocalValue("itemstargetcolumn","Target","menuform"),width:150},{key:"title",name:this.getLocalValue("itemstitlecolumn","Title","menuform")},{key:"visibleCondition",name:this.getLocalValue("visibleConditioncolumn","Visible Condition","menuform")}];return u.default.createElement(c.Form,null,u.default.createElement(c.Form.Group,{widths:"equal"},u.default.createElement(c.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","menuform"),value:e.key,onChange:t}),u.default.createElement(c.Form.Input,{name:"activeItem",label:this.getLocalValue("activeitemfield","Active Item","menuform"),value:e.activeItem,onChange:t})),u.default.createElement("div",{className:"field"},u.default.createElement("label",null,this.getLocalValue("optionsfield","Options","menuform")),u.default.createElement(c.Form.Group,null,u.default.createElement(c.Form.Checkbox,{name:"pointing",label:this.getLocalValue("pointingfield","Pointing","menuform"),checked:e.pointing,onChange:t}),u.default.createElement(c.Form.Checkbox,{name:"secondary",label:this.getLocalValue("secondaryfield","Secondary","menuform"),checked:e.secondary,onChange:t}),u.default.createElement(c.Form.Checkbox,{name:"tabular",label:this.getLocalValue("tabularfield","Tabular","menuform"),checked:e.tabular,onChange:t}),u.default.createElement(c.Form.Checkbox,{name:"fluid",label:this.getLocalValue("fluidfield","Fluid","menuform"),checked:e.fluid,onChange:t}),u.default.createElement(c.Form.Checkbox,{name:"vertical",label:this.getLocalValue("verticalfield","Vertical","menuform"),checked:e.vertical,onChange:t}),u.default.createElement(c.Form.Checkbox,{name:"link",label:this.getLocalValue("linkfield","Link","menuform"),checked:e.link,onChange:t}))),u.default.createElement(i.default,{key:"items",draggable:!0,hierarchical:!0,childrenField:"children",columns:n,label:this.getLocalValue("itemsfield","Items","menuform"),name:"items",value:e.items,onChange:t}))}},{key:"getEventsList",value:function(){return["onItemClick"]}}]),ue);function ue(e){return s(this,ue),f(this,(ue.__proto__||Object.getPrototypeOf(ue)).call(this,e))}var ce=(p(de,h),r(de,[{key:"getGeneralDescription",value:function(){var e=this.props.data,a=this.props.parent.handleChange.bind(this.props.parent),t=[{key:"title",name:this.getLocalValue("itemstitlecolumn","Title","tabform")},{key:"visibleCondition",name:this.getLocalValue("visibleConditioncolumn","Visible Condition","tabform")}];return u.default.createElement(c.Form,null,u.default.createElement(c.Form.Group,{widths:"equal"},u.default.createElement(c.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","tabform"),value:e.key,onChange:a}),u.default.createElement(c.Form.Input,{name:"activePane",label:this.getLocalValue("activepanefield","Active Pane","tabform"),value:e.activePane,onChange:a})),u.default.createElement("div",{className:"field"},u.default.createElement("label",null,this.getLocalValue("optionsfield","Options","menuform")),u.default.createElement(c.Form.Group,null,u.default.createElement(c.Form.Checkbox,{name:"pointing",label:this.getLocalValue("pointingfield","Pointing","tabform"),checked:e.pointing,onChange:a}),u.default.createElement(c.Form.Checkbox,{name:"secondary",label:this.getLocalValue("secondaryfield","Secondary","tabform"),checked:e.secondary,onChange:a}),u.default.createElement(c.Form.Checkbox,{name:"tabular",label:this.getLocalValue("tabularfield","Tabular","tabform"),checked:e.tabular,onChange:a}),u.default.createElement(c.Form.Checkbox,{name:"fluid",label:this.getLocalValue("fluidfield","Fluid","tabform"),checked:e.fluid,onChange:a}),u.default.createElement(c.Form.Checkbox,{name:"vertical",label:this.getLocalValue("verticalfield","Vertical","tabform"),checked:e.vertical,onChange:a}))),u.default.createElement(i.default,{key:"panes",draggable:!0,columns:t,label:this.getLocalValue("panesfield","Panes","tabform"),name:"panes",value:e.panes,onChange:function(e,t){var n=t.name,r=t.value;Array.isArray(r)&&r.forEach(function(e){null==e.psid&&(e.psid="id"+(new Date).getTime())}),a(e,{name:n,value:r})}}))}},{key:"getEventsList",value:function(){return["onTabChange"]}}]),de);function de(e){return s(this,de),f(this,(de.__proto__||Object.getPrototypeOf(de)).call(this,e))}var fe=(p(pe,h),r(pe,[{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent),n=[{key:"text",name:this.getLocalValue("itemstextcolumn","Text","breadcrumbform")},{key:"url",name:this.getLocalValue("itemsurlcolumn","Url","breadcrumbform")},{key:"active",control:"checkbox",name:this.getLocalValue("itemsactivecolumn","Active","breadcrumbform")},{key:"divider",name:this.getLocalValue("itemsiconcolumn","Divider Icon","breadcrumbform"),dataList:["right angle","right chevron"]}];return u.default.createElement(c.Form,null,u.default.createElement(c.Form.Group,{widths:"equal"},u.default.createElement(c.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","breadcrumbform"),value:e.key,onChange:t})),u.default.createElement(i.default,{key:"items",draggable:!0,columns:n,label:this.getLocalValue("itemsfield","Items","breadcrumbform"),name:"items",value:e.items,onChange:t}))}},{key:"getEventsList",value:function(){return["onItemClick"]}}]),pe);function pe(e){return s(this,pe),f(this,(pe.__proto__||Object.getPrototypeOf(pe)).call(this,e))}var he=(p(me,h),r(me,[{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent),n=(e=this.props.data,[{key:"target",name:this.getLocalValue("itemstargetcolumn","Target","dropdowntriggerform")},{key:"title",name:this.getLocalValue("itemstitlecolumn","Title","dropdowntriggerform")},{key:"visibleCondition",name:this.getLocalValue("itemsvisibleconditioncolumn","Visible Condition","dropdowntriggerform")}]);return u.default.createElement(c.Form,null,u.default.createElement(c.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","dropdowntriggerform"),value:e.key,onChange:t}),u.default.createElement(c.Form.Input,{name:"defaultValue",label:this.getLocalValue("defaultvaluefield","Default Value","dropdowntriggerform"),value:null==e.defaultValue?"":e.defaultValue,onChange:t}),u.default.createElement(c.Form.Input,{name:"imageUrl",label:this.getLocalValue("imageurlfield","ImageUrl","dropdowntriggerform"),value:null==e.imageUrl?"":e.imageUrl,onChange:t}),u.default.createElement(i.default,{key:"items",draggable:!0,columns:n,label:this.getLocalValue("itemsfield","Items","dropdowntriggerform"),name:"items",value:e.items,onChange:t}))}},{key:"getEventsList",value:function(){return["onItemClick"]}}]),me);function me(e){return s(this,me),f(this,(me.__proto__||Object.getPrototypeOf(me)).call(this,e))}var ve=(p(ge,h),r(ge,[{key:"getGeneralDescription",value:function(){var e=this.props.parent.handleChange.bind(this.props.parent),t=this.props.data;return u.default.createElement(c.Form,null,u.default.createElement(c.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","uploadform"),value:t.key,onChange:e}),u.default.createElement(c.Form.Input,{name:"iconFiletypes",label:this.getLocalValue("iconFiletypes","Icon file types","uploadform"),placeholder:"*.png, *.jpg, *.gif",value:null==t.iconFiletypes?"":t.iconFiletypes,onChange:e}),u.default.createElement(c.Form.Group,null,u.default.createElement(c.Form.Checkbox,{name:"showFiletypeIcon",label:this.getLocalValue("showFiletypeIcon","Show file type icon","uploadform"),checked:t.showFiletypeIcon,onChange:e}),u.default.createElement(c.Form.Checkbox,{name:"autoProcessQueue",label:this.getLocalValue("autoProcessQueue","Auto process queue","uploadform"),checked:t.autoProcessQueue,onChange:e}),u.default.createElement(c.Form.Checkbox,{name:"addRemoveLinks",label:this.getLocalValue("addRemoveLinks","Add remove links","uploadform"),checked:t.addRemoveLinks,onChange:e})))}},{key:"getEventsList",value:function(){return["success","fail"]}}]),ge);function ge(e){return s(this,ge),f(this,(ge.__proto__||Object.getPrototypeOf(ge)).call(this,e))}var ye=(p(be,h),r(be,[{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent),n=[{value:"",text:this.getLocalValue("legendpositiondefaultfield","Default","chartform")},{value:"top",text:this.getLocalValue("legendpositiontopfield","Top","chartform")},{value:"left",text:this.getLocalValue("legendpositionleftfield","Left","chartform")},{value:"bottom",text:this.getLocalValue("legendpositionbottomfield","Bottom","chartform")},{value:"right",text:this.getLocalValue("legendpositionrightfield","Right","chartform")}],r=""==e.datasetCustom||null==e.datasetCustom;return u.default.createElement(c.Form,null,u.default.createElement(c.Form.Group,{widths:"equal"},u.default.createElement("div",{className:"field"},u.default.createElement(c.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","chartform"),value:e.key,onChange:t}),u.default.createElement(c.Form.Input,{name:"title",label:this.getLocalValue("titlefield","Title","chartform"),value:e.title,onChange:t}),u.default.createElement(c.Form.Input,{name:"titleSize",label:this.getLocalValue("titlesizefield","Title size","chartform"),value:e.titleSize,onChange:t}),u.default.createElement(c.Form.Dropdown,{name:"legendPosition",selection:!0,fluid:!0,label:this.getLocalValue("legendpositionfield","Legend position","chartform"),placeholder:n[0].text,options:n,value:e.legendPosition,onChange:t})),u.default.createElement("div",{className:"field"},u.default.createElement(c.Form.Checkbox,{name:"responsive",label:this.getLocalValue("responsivefield","Responsive","chartform"),checked:e.responsive,onChange:t}),u.default.createElement(c.Form.Checkbox,{name:"datasetCustom",label:this.getLocalValue("datasetcustomfield","Dataset custom","chartform"),checked:e.datasetCustom,onChange:t}),u.default.createElement(c.Form.Input,{name:"dataLabels",style:{paddingTop:"5px"},disabled:r,placeholder:this.getLocalValue("datalabelsplaceholder","Q1, Q2, Q3, Q4","chartform"),label:this.getLocalValue("datalabelsfield","Data labels","chartform"),value:e.dataLabels,onChange:t}),u.default.createElement(c.Form.Input,{name:"datasetLabel",disabled:r,label:this.getLocalValue("datasetlabelfield","Dataset Label","chartform"),value:e.datasetLabel,onChange:t}),u.default.createElement(c.Form.Input,{name:"datasetBackgroundColor",disabled:r,label:this.getLocalValue("datasetbackgroundcolorfield","Dataset BackgroundColor","chartform"),value:e.datasetBackgroundColor,onChange:t}))))}}]),be);function be(e){return s(this,be),f(this,(be.__proto__||Object.getPrototypeOf(be)).call(this,e))}var we=(p(ke,h),r(ke,[{key:"getGeneralDescription",value:function(){var e=this.props.data,a=this.props.parent.handleChange.bind(this.props.parent),t=[{key:"title",name:this.getLocalValue("itemstitlecolumn","Title","gridlayout")},{key:"cssclass",name:this.getLocalValue("cssclass","CSS Class","gridlayout")},{key:"visibleCondition",name:this.getLocalValue("visibleConditioncolumn","Visible Condition","gridlayout")}];return u.default.createElement(c.Form,null,u.default.createElement(c.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","gridlayout"),value:e.key,onChange:a}),u.default.createElement(c.Form.Group,null,u.default.createElement(c.Form.Input,{name:"cols",label:this.getLocalValue("colsfield","Columns","gridlayout"),placeholder:12,value:e.cols,onChange:a})),u.default.createElement("div",{className:"field"},u.default.createElement("label",null,this.getLocalValue("optionsfield","Options","gridlayout")),u.default.createElement(c.Form.Group,null,u.default.createElement(c.Form.Checkbox,{name:"draggable",label:this.getLocalValue("draggablefield","Draggable","gridlayout"),checked:e.draggable,onChange:a}),u.default.createElement(c.Form.Checkbox,{name:"resizable",label:this.getLocalValue("resizablefield","Resizable","gridlayout"),checked:e.resizable,onChange:a}),u.default.createElement(c.Form.Checkbox,{name:"scroll",label:this.getLocalValue("scrollfield","Scroll","gridlayout"),checked:e.scroll,onChange:a}))),u.default.createElement(i.default,{key:"panes",draggable:!0,columns:t,label:this.getLocalValue("panesfield","Panes","tabform"),name:"panes",value:e.panes,onChange:function(e,t){var n=t.name,r=t.value;Array.isArray(r)&&r.forEach(function(e){null==e.psid&&(e.psid="id"+(new Date).getTime())}),a(e,{name:n,value:r})}}))}},{key:"getEventsList",value:function(){return["onLayoutChange"]}}]),ke);function ke(e){return s(this,ke),f(this,(ke.__proto__||Object.getPrototypeOf(ke)).call(this,e))}var Ee=(p(Ce,h),r(Ce,[{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent);return u.default.createElement(c.Form,null,u.default.createElement(c.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","workflowform"),value:e.key,onChange:t}),u.default.createElement(c.Form.Input,{name:"setStateButton",label:this.getLocalValue("setstatebuttonfield","Set state button","workflowform"),value:e.setStateButton,onChange:t}),u.default.createElement(c.Form.Group,{horizontal:!0},u.default.createElement(c.Form.Checkbox,{name:"blockSetState",label:this.getLocalValue("blocksetstatefield","Block SetState","workflowform"),checked:Boolean(e.blockSetState),onChange:t}),u.default.createElement(c.Form.Checkbox,{name:"blockCommands",label:this.getLocalValue("blockcommandsfield","Block Commands","workflowform"),checked:Boolean(e.blockCommands),onChange:t}),u.default.createElement(c.Form.Checkbox,{name:"blockLoadParameters",label:this.getLocalValue("blockloadparametersfield","Block load parameters","workflowform"),checked:void 0===e.blockLoadParameters||e.blockLoadParameters,onChange:t}),u.default.createElement(c.Form.Checkbox,{name:"blockSelectScheme",label:this.getLocalValue("blockselectschemefield","Block select scheme","workflowform"),checked:e.blockSelectScheme,onChange:t})),u.default.createElement(c.Form.Input,{name:"selectSchemeDropdown",label:this.getLocalValue("selectschemedropdownfield","Select scheme dropdown","workflowform"),value:e.selectSchemeDropdown,onChange:t,disabled:e.blockSelectScheme}))}},{key:"getEventsList",value:function(){return["onCommandClick","onSetStateClick","onReceivedCommands","onSchemeSelected"]}}]),Ce);function Ce(e){return s(this,Ce),f(this,(Ce.__proto__||Object.getPrototypeOf(Ce)).call(this,e))}var _e=(p(Oe,h),r(Oe,[{key:"getGeneralDescription",value:function(){var e=this.props.parent.handleChange.bind(this.props.parent),t=this.props.data,n=[{key:"property",name:this.getLocalValue("propertycolumn","File property","filecontrolform"),control:"span"},{key:"title",name:this.getLocalValue("titlecolumn","Column title","filecontrolform")},{key:"field",name:this.getLocalValue("fieldcolumn","Table field","filecontrolform")},{key:"showcolumn",name:this.getLocalValue("showpropertycolumn","Show property","filecontrolform"),control:"checkbox"}];return u.default.createElement(c.Form,null,u.default.createElement(c.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","filecontrolform"),value:t.key,onChange:e}),u.default.createElement(c.Form.Input,{name:"iconFiletypes",label:this.getLocalValue("iconFiletypes","Icon file types","filecontrolform"),placeholder:"*.png, *.jpg, *.gif",value:void 0===t.iconFiletypes?"":t.iconFiletypes,onChange:e}),u.default.createElement(c.Form.Group,null,u.default.createElement(c.Form.Checkbox,{name:"showFiletypeIcon",label:this.getLocalValue("showFiletypeIcon","Show file type icon","filecontrolform"),checked:t.showFiletypeIcon,onChange:e}),u.default.createElement(c.Form.Checkbox,{name:"autoProcessQueue",label:this.getLocalValue("autoProcessQueue","Auto process queue","filecontrolform"),checked:t.autoProcessQueue,onChange:e}),u.default.createElement(c.Form.Checkbox,{name:"readOnly",label:this.getLocalValue("readonlyfield","Read only","filecontrolform"),checked:t.readOnly,onChange:e}),u.default.createElement(c.Form.Checkbox,{name:"useDropzone",label:this.getLocalValue("usedropzonefield","Use dropzone","filecontrolform"),checked:t.useDropzone,onChange:e})),u.default.createElement(c.Form.Group,null,u.default.createElement(c.Form.Input,{name:"idField",label:this.getLocalValue("idfield","Id field","filecontrolform"),value:t.idField,onChange:e})),u.default.createElement(i.default,{key:"columns",draggable:!0,disableAdd:!0,disableDelete:!0,columns:n,label:this.getLocalValue("propertiesfield","File properties","filecontrolform"),name:"columns",value:t.columns,onChange:e}))}},{key:"getEventsList",value:function(){return["onChange","onDelete","onUploadSuccess","onUploadFail"]}}]),Oe);function Oe(){return s(this,Oe),f(this,(Oe.__proto__||Object.getPrototypeOf(Oe)).apply(this,arguments))}var Se=(p(xe,h),r(xe,[{key:"getGeneralDescription",value:function(){var e=this.props.parent.handleChange.bind(this.props.parent),t=this.props.data;return u.default.createElement(c.Form,null,u.default.createElement(c.Form.Group,{widths:"equal"},u.default.createElement(c.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","inputform"),value:t.key,onChange:e}),u.default.createElement(c.Form.Input,{name:"label",label:this.getLocalValue("labelfield","Label","inputform"),value:t.label,onChange:e})),u.default.createElement(c.Form.Group,{widths:"equal"},u.default.createElement(c.Form.Input,{name:"format",label:this.getLocalValue("formatfield","Format","inputform"),value:t.format,onChange:e}),u.default.createElement(c.Form.Input,{name:"mask",disabled:!Boolean(t.format),label:this.getLocalValue("maskfield","Mask","inputform"),value:t.mask,onChange:e})),u.default.createElement(c.Form.Group,{widths:"equal"},u.default.createElement(c.Form.Input,{name:"prefix",disabled:Boolean(t.format),label:this.getLocalValue("prefixfield","Prefix","inputform"),value:t.prefix,onChange:e}),u.default.createElement(c.Form.Input,{name:"suffix",disabled:Boolean(t.format),label:this.getLocalValue("suffixfield","Suffix","inputform"),value:t.suffix,onChange:e})),u.default.createElement(c.Form.Group,{widths:"equal"},u.default.createElement(c.Form.Checkbox,{name:"thousandSeparator",label:this.getLocalValue("thousandSeparatorfield","Thousand Separator","inputform"),checked:t.thousandSeparator,onChange:e}),u.default.createElement(c.Form.Input,{name:"placeholder",label:this.getLocalValue("placeholderfield","Placeholder","inputform"),value:t.placeholder,onChange:e})),u.default.createElement(c.Form.Group,{widths:"equal"},u.default.createElement("div",{className:"field"},u.default.createElement("label",null,this.getLocalValue("optionsfield","Options","inputform")),u.default.createElement(c.Form.Group,{widths:"equal"},u.default.createElement(c.Form.Checkbox,{name:"disabled",label:this.getLocalValue("disabledfield","Disabled","inputform"),checked:t.disabled,onChange:e}),u.default.createElement(c.Form.Checkbox,{name:"transparent",label:this.getLocalValue("transparentfield","Transparent","inputform"),checked:t.transparent,onChange:e}),u.default.createElement(c.Form.Checkbox,{name:"fluid",label:this.getLocalValue("fluidfield","Fluid","inputform"),checked:t.fluid,onChange:e}),u.default.createElement(c.Form.Checkbox,{name:"readOnly",label:this.getLocalValue("readonlyfield","Read only","inputform"),checked:t.readOnly,onChange:e})))))}},{key:"getEventsList",value:function(){return["onChange"]}}]),xe);function xe(e){return s(this,xe),f(this,(xe.__proto__||Object.getPrototypeOf(xe)).call(this,e))}var Ae=(p(De,h),r(De,[{key:"getGeneralDescription",value:function(){var e=this.props.parent.handleChange.bind(this.props.parent),t=this.props.data;return u.default.createElement(c.Form,null,u.default.createElement(c.Form.Group,{widths:"equal"},u.default.createElement(c.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","textareaform"),value:t.key,onChange:e}),u.default.createElement(c.Form.Input,{name:"label",label:this.getLocalValue("labelfield","Label","textareaform"),value:t.label,onChange:e})),u.default.createElement("label",null,this.getLocalValue("optionsfield","Options","textareaform")),u.default.createElement(c.Form.Group,{widths:"equal"},u.default.createElement(c.Form.Checkbox,{name:"readOnly",label:this.getLocalValue("readonlyfield","Read only","textareaform"),checked:t.readOnly,onChange:e})))}},{key:"getEventsList",value:function(){return["onChange"]}}]),De);function De(e){return s(this,De),f(this,(De.__proto__||Object.getPrototypeOf(De)).call(this,e))}e.exports={BaseEditControl:h,HeaderEditControl:v,ButtonEditControl:y,LabelEditControl:w,MessageEditControl:_,InputEditControl:S,TextAreaEditControl:A,DropdownEditControl:T,DictionaryEditControl:I,RadioGroupEditControl:W,CheckboxEditControl:P,FormEditControl:z,FormGroupEditControl:U,ImageEditControl:J,StatisticEditControl:Z,GridEditControl:ee,CustomEditControl:ae,MenuEditControl:se,ChartEditControl:ye,WorkflowBarEditControl:Ee,ContainerEditControl:q,StaticContentEditControl:E,CollectionEditorEditControl:ne,CustomBlockEditControl:ie,DropdownTriggerEditControl:he,DropzoneEditControl:ve,BreadcrumbEditControl:fe,SearchEditControl:F,TreePickerEditControl:R,TabEditControl:ce,GridLayoutEditControl:we,RepeaterEditControl:$,FilesEditControl:_e,NumberFormatEditControl:Se,RichTextEditorEditControl:Ae}},function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var a,s=(a=n(0))&&a.__esModule?a:{default:a},o=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":ms(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(l,s.default.Component),r(l.prototype,[{key:"getCustomFileName",value:function(){return this.props.additionalData&&this.props.additionalDataContext&&this.props.additionalData.customNameGetter?this.props.additionalData.customNameGetter(this.props.additionalDataContext):null}},{key:"getCustomContentType",value:function(){return this.props.additionalData&&this.props.additionalDataContext&&this.props.additionalData.customContentTypeGetter?this.props.additionalData.customContentTypeGetter(this.props.additionalDataContext):null}},{key:"render",value:function(){var e=this.props.type,t=[],n=this.props.isForm,r=this.props.value;if(null!=r&&null!=r&&""!=r){var a="Download",o="Clear";null!=window.DWKitAdminLang&&null!=window.DWKitAdminLang.button&&(a=window.DWKitAdminLang.button.download,o=window.DWKitAdminLang.button.clear);var i=this.props.disabled||this.props.readOnly||this.props.hideClearButton;t.push(s.default.createElement("a",{key:"download",className:"ui button",target:"blank",onClick:this.onDownload,href:"#"},a)),i||(t.push(s.default.createElement("span",{key:"sparator"},"  ")),t.push(s.default.createElement("button",{key:"clear",className:"ui button",onClick:this.onClear},o)))}else this.props.disabled||this.props.readOnly?t.push(s.default.createElement("span",null)):t.push(s.default.createElement("input",{key:"uploadcontrol",type:"file",name:this.props.name,onChange:this.onChange,value:""}));if(n)return s.default.createElement("div",{className:"field"},null!=this.props.label&&s.default.createElement("label",null,this.props.label),s.default.createElement("div",{"data-buildertype":e},t));var l="ui labeled input";return this.props.fluid&&(l+=" fluid"),this.props.error&&(l+=" error"),null==this.props.className&&""==this.props.className||(l+=" "+this.props.className),s.default.createElement("div",{className:l,"data-buildertype":e},this.props.label&&s.default.createElement("div",{className:"ui label label"},this.props.label),t)}}]),l);function l(e){!function(e){if(!(e instanceof l))throw new TypeError("Cannot call a class as a function")}(this);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":ms(t))&&"function"!=typeof t?e:t}(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,e));return i.onDownload=function(e){e.preventDefault();var t=i.props.value,o=new XMLHttpRequest;o.open("POST",i.props.downloadUrl+t,!0),o.responseType="arraybuffer",o.onload=function(){var e=i.getCustomFileName();if(!e){var t=o.getResponseHeader("Content-Disposition");if(t&&-1!==t.indexOf("attachment")){var n=/filename[^;=\n]*=((['"]).*?\2|[^;\n]*)/.exec(t);n&&n[1]&&(e=n[1].replace(/['"]/g,""))}}var r=i.getCustomContentType();r=r||o.getResponseHeader("Content-Type");var a=document.createElement("a");a.setAttribute("href",window.URL.createObjectURL(new Blob([o.response],{type:r}))),a.setAttribute("download",e||"unknown"),document.body.appendChild(a),a.onclick=function(){document.body.removeChild(a)},a.click()},o.send(null)},i.onChange=function(t){var n=i,e=new FormData;e.append(n.props.name,t.target.files[0]),$.ajax({url:n.props.uploadUrl,type:"POST",processData:!1,contentType:!1,dataType:"json",data:e,success:function(e){e.success?n.props.onChange&&n.props.onChange(t,{name:n.props.name,propertyName:n.props.propertyName,value:e.result.properties.Token,parameters:{success:!0,properties:e.result.properties}}):n.props.onUploadFail&&n.props.onUploadFail(t,{name:n.props.name,propertyName:n.props.propertyName,message:e.message,details:e.details,success:!1})}})},i.onClear=function(){i.props.onChange&&i.props.onChange(void 0,{name:i.props.name,propertyName:i.props.propertyName,value:null})},i}t.default=o},function(e,t){e.exports=l},function(e,t){e.exports=s},function(e,t){e.exports=u},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var l=a(n(0)),s=a(n(31)),u=a(n(14));function a(e){return e&&e.__esModule?e:{default:e}}var o=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":ms(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(c,l.default.Component),r(c.prototype,[{key:"render",value:function(){var e=this.props.type,t=this.props.isForm,n=this.props.value?(0,u.default)(this.props.value):void 0;n&&!n.isValid()&&(n=void 0);var r={style:this.props.style,className:this.props.className,onBlur:this.props.onBlur,onClick:this.props.onClick,onFocus:this.props.onFocus,onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave},a={};"date"===e?void 0!==window.DWKitLang&&null!=window.DWKitLang.common&&null!=window.DWKitLang.common.dateFormat?a.dateFormat=window.DWKitLang.common.dateFormat:a.dateFormat="DD.MM.YYYY":"time"===e?(a.showTimeSelect=!0,a.showTimeSelectOnly=!0,a.timeIntervals=10,void 0!==window.DWKitLang&&void 0!==window.DWKitLang.common&&null!=window.DWKitLang.common.timeFormat?a.dateFormat=window.DWKitLang.common.timeFormat:(a.dateFormat="HH:mm",a.timeFormat="HH:mm")):"datetime"===e&&(a.showTimeSelect=!0,void 0!==window.DWKitLang&&void 0!==window.DWKitLang.common&&null!=window.DWKitLang.common.dateFormat?(a.timeFormat=window.DWKitLang.common.timeFormat,a.dateFormat=window.DWKitLang.common.dateFormat+" "+(null==window.DWKitLang.common.timeFormat?"HH:ss":window.DWKitLang.common.timeFormat)):(a.dateFormat="DD.MM.YYYY HH:mm",a.timeFormat="HH:mm")),this.state.dateFormat=a.dateFormat;var o=l.default.createElement(s.default,i({},a,{peekNextMonth:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",isClearable:!this.props.readOnly,placeholderText:this.placeholder,selected:n,onChange:this.onChange,onChangeRaw:this.handleChangeRaw}));return t?(r.className?r.className+=" field":r.className="field",this.props.error&&(r.className+=" error"),this.props.readOnly&&(r.className+=" datepicker-readonly"),l.default.createElement("div",r,null!=this.props.label&&l.default.createElement("label",null,this.props.label),l.default.createElement("div",{"data-buildertype":e},o))):(r.className?r.className+=" ui fluid labeled input":r.className="ui fluid labeled input",this.props.error&&(r.className+=" error"),this.props.readOnly&&(r.className+=" datepicker-readonly"),l.default.createElement("div",i({},r,{"data-buildertype":e}),null!=this.props.label&&l.default.createElement("div",{className:"ui label label"},this.props.label),o))}}]),c);function c(e){!function(e){if(!(e instanceof c))throw new TypeError("Cannot call a class as a function")}(this);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":ms(t))&&"function"!=typeof t?e:t}(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,e));return n.handleChangeRaw=function(e){var t=(0,u.default)(e.target.value,n.state.dateFormat);n.onChange(t)},n.onChange=function(e){if(!n.props.readOnly&&null!=n.props.onChange){var t=null;null!=e&&null!=e&&(t="date"===n.props.type?e.format("YYYY-MM-DD"):e.toJSON()),n.props.onChange(null,{propertyName:n.props.propertyName,name:n.props.name,value:t})}},n.state={},n}t.default=o},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==("undefined"==typeof window?"undefined":ms(window))&&(n=window)}e.exports=n},function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var a,o=(a=n(0))&&a.__esModule?a:{default:a},i=n(1),l=n(4),s=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":ms(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(u,o.default.Component),r(u.prototype,[{key:"shouldComponentUpdate",value:function(e){return!l(this.props,e)}},{key:"render",value:function(){var n=this,e=this.props.items.map(function(e){var t=e.key?e.key:e.value;return o.default.createElement(i.Form.Field,{key:t+"_formfield"},o.default.createElement(i.Form.Radio,{key:t,label:e.text,name:n.props.name+"_radioGroup",value:e.value,readOnly:n.props.readOnly,checked:n.props.value===e.value,onChange:n.onChange}))},this),t=this.props.className;return t=t||"",this.props.error&&(t+=" error"),"v"===this.props.direction?(t+=" ui form",o.default.createElement("div",{className:t,style:this.props.style},o.default.createElement("label",null,this.props.label),o.default.createElement(i.Form,null,e))):(t+=" field",o.default.createElement("div",{className:"ui form"},o.default.createElement("div",{className:t},o.default.createElement("label",null,this.props.label),o.default.createElement("div",{style:this.props.style},o.default.createElement(i.Form.Group,{key:"group"},e)))))}}]),u);function u(e){!function(e){if(!(e instanceof u))throw new TypeError("Cannot call a class as a function")}(this);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":ms(t))&&"function"!=typeof t?e:t}(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,e));return a.onChange=function(e,t){var n=t.name,r=t.value;a.props.onChange?a.props.onChange(e,{name:a.props.name,propertyName:a.props.propertyName,value:r}):a.props.handleEvent?a.props.handleEvent({syntheticEvent:e,key:a.props.name,eventName:"onChange",name:n,value:r}):console.error("Set onChange property for RadioGroup!")},a}t.default=s},function(e,t,n){function r(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==ms(Symbol.iterator)?function(e){return void 0===e?"undefined":ms(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":ms(e)};function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var c=(r(l,null,[{key:"IsGreater",value:function(e){return e===l.Greater}},{key:"IsLess",value:function(e){return e===l.Less}},{key:"IsEqual",value:function(e){return e===l.Equal}},{key:"IsGreaterOrEqual",value:function(e){return e===l.GreaterOrEqual}},{key:"IsLessOrEqual",value:function(e){return e===l.LessOrEqual}},{key:"IsNotEqual",value:function(e){return e===l.NotEqual}},{key:"IsLike",value:function(e){return e.toLowerCase()===l.Like||"*like*"===e.toLowerCase()}},{key:"IsStartsWith",value:function(e){return e.toLowerCase()===l.StartsWith}},{key:"IsEndsWith",value:function(e){return e.toLowerCase()===l.EndsWith}},{key:"Evaluate",value:function(e,t,n){if(l.IsGreater(n))return l.compareWithTypeCheck(e,t,function(e,t){return t<e});if(l.IsLess(n))return l.compareWithTypeCheck(e,t,function(e,t){return e<t});if(l.IsEqual(n))return l.compareWithTypeCheck(e,t,function(e,t){return e===t});if(l.IsGreaterOrEqual(n))return l.compareWithTypeCheck(e,t,function(e,t){return t<=e});if(l.IsLessOrEqual(n))return l.compareWithTypeCheck(e,t,function(e,t){return e<=t});if(l.IsNotEqual(n))return l.compareWithTypeCheck(e,t,function(e,t){return e!==t});if(l.IsLike(n))return l.likeCompare(e,t,function(e,t){return 0<=e.indexOf(t)});if(l.IsStartsWith(n))return l.likeCompare(e,t,function(e,t){return e.startsWith(t)});if(l.IsEndsWith(n))return l.likeCompare(e,t,function(e,t){return e.endsWith(t)});throw"Unknown term "+n}},{key:"likeCompare",value:function(e,t,n){return null===e&&null===t||void 0===e&&void 0===t||null!=e&&null!=t&&n(e.toString().toLowerCase(),t.toString().toLowerCase())}},{key:"compareWithTypeCheck",value:function(e,t,n){return null===e&&null===t||void 0===e&&void 0===t||null!=e&&null!=t&&(e instanceof Date&&"string"==typeof t?n(e.getTime(),new Date(t).getTime()):"string"==typeof e&&t instanceof Date?n(new Date(e).getTime(),t.getTime()):e instanceof Date&&t instanceof Date?n(e.getTime(),t.getTime()):(void 0===e?"undefined":a(e))===(void 0===t?"undefined":a(t))?n(e,t):n(e,"number"==typeof e&&"string"==typeof t?parseFloat(t):"string"==typeof e&&"number"==typeof t?t.toString():t))}},{key:"Greater",get:function(){return">"}},{key:"Less",get:function(){return">"}},{key:"Equal",get:function(){return"="}},{key:"GreaterOrEqual",get:function(){return">="}},{key:"LessOrEqual",get:function(){return"<="}},{key:"NotEqual",get:function(){return"!="}},{key:"Like",get:function(){return"like"}},{key:"StartsWith",get:function(){return"like*"}},{key:"EndsWith",get:function(){return"*like"}}]),l);function l(){i(this,l)}var s=(r(u,[{key:"AddFilter",value:function(e){var n=this,r=e.names,a=e.expected,o=e.term,t=e.id;if(!(r.length<1)){var i=1===r.length?r[0]:r.sort().join(","),l=void 0;this._innerFilter.hasOwnProperty(i)?l=this._innerFilter[i]:((l=this._innerFilter[i]={}).funcs=[],l.items=[],l.test=function(t){return n._innerFilter[i].funcs.every(function(e){return e(t)})});var s,u=function(e,t){var n=Object.keys(e).find(function(e){return e.toString().toLowerCase()===t.toLowerCase()});return void 0!==n&&c.Evaluate(e[n],a,o)};s=1===r.length?function(e){return u(e,r[0])}:function(t){return r.some(function(e){return u(t,e)})},l.funcs.push(s),l.items.push({expected:a,term:o,id:t})}}},{key:"RemoveFilter",value:function(e){var a=this,t=e.name,n=e.id,r=void 0,o=void 0;if(void 0!==t&&(o=Array.isArray(t)?(r=1===t.length?t[0]:t.sort().join(","),t):[r=t]),void 0!==t&&void 0===n)delete this._innerFilter[r];else if(void 0===t&&void 0===n)this._innerFilter={};else{var i=function(e,t,n){if(a._innerFilter.hasOwnProperty(e)){var r=a._innerFilter[e].items.filter(function(e){return e.id!==n});r.length<a._innerFilter[e].items.length&&(delete a._innerFilter[e],r.forEach(function(e){a.AddFilter({names:t,expected:e.expected,term:e.term,id:e.id})}))}};void 0!==t&&void 0!==n?i(r,o,n):Object.keys(this._innerFilter).forEach(function(e){i(e,e.split(","),n)})}}},{key:"IsRowMatched",value:function(e){var t=Object.keys(this._innerFilter);if(t.length<=0)return!0;for(var n=0;n<t.length;n++)if(!this._innerFilter[t[n]].test(e))return!1;return!0}},{key:"GetFilterAsObjects",value:function(){var e=this;if(void 0===this._innerFilter)return[];var n=[];return Object.keys(this._innerFilter).forEach(function(t){e._innerFilter[t].items.forEach(function(e){n.push({column:t,value:e.expected,term:e.term})})}),n}}]),u);function u(e,n){var r=this;if(i(this,u),this._innerFilter={},void 0!==e&&Array.isArray(e)){if(void 0===n||!Array.isArray(n))throw"columns must be array";e.forEach(function(e){var t;void 0!==e&&(t="*"===e.column?n:e.column.split(",").map(function(e){return e.trim()}),r.AddFilter({names:t,expected:e.value,term:e.term}))})}}t.FilterTerms=c,t.FunctionalFilter=s},function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var l=a(n(0)),s=a(n(49));function a(e){return e&&e.__esModule?e:{default:e}}var o=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":ms(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,l.default.Component),r(i.prototype,[{key:"componentDidMount",value:function(){this.isMount=!0}},{key:"componentWillUnmount",value:function(){this.isMount=!1}},{key:"render",value:function(){this.props.additionalParams.data,this.props.additionalParams.errors;var e=this.props.additionalParams.parentItem,t=void this.props.additionalParams.handleEvent;if(this.props.iconFiletypes){var n=this.props.iconFiletypes.split(",");Array.isArray(n)&&0<n.length&&(t=[],n.forEach(function(e){t.push(e.trim())}))}var r={addRemoveLinks:this.props.addRemoveLinks,autoProcessQueue:this.props.autoProcessQueue&&null!=this.props.postUrl},a={iconFiletypes:t,showFiletypeIcon:this.props.showFiletypeIcon,postUrl:null==this.props.postUrl?"no-url":this.props.postUrl},o={success:this.fileUploadSuccess},i=this.props.readOnly?l.default.createElement("div",null):l.default.createElement(s.default,{config:a,eventHandlers:o,djsConfig:r});return this.isForm(e)?l.default.createElement("div",{className:"field"},i):i}},{key:"isForm",value:function(e){return e&&("form"===e["data-buildertype"]||"formgroup"===e["data-buildertype"])}},{key:"getEvents",value:function(){return["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","removedfile","thumbnail","error","processing","uploadprogress","sending","success","complete","canceled","maxfilesreached","maxfilesexceeded","processingmultiple","sendingmultiple","successmultiple","completemultiple","canceledmultiple","totaluploadprogress","reset","queuecompleted"]}}]),i);function i(e){!function(e){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this);var l=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":ms(t))&&"function"!=typeof t?e:t}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,e));return l.fileUploadSuccess=function(e,t){var n=l.props.additionalParams.handleEvent,r=l.props.onSuccess,a=l.props.onFail;if(n||r||a){if(t.success){var o={name:e.name,size:e.size,token:t.result.properties.Token,success:t.success,properties:t.result.properties};r?r(l.props.name,l.props.propertyName,o):n&&n({key:l.props.name,eventName:"success",name:l.props.name,propertyName:l.props.propertyName,value:t.message,parameters:o})}else{var i={name:e.name,size:e.size,message:t.message,success:t.success,details:t.details};a?a(l.props.name,l.props.propertyName,i):n&&n({key:l.props.name,eventName:"fail",name:l.props.name,propertyName:l.props.propertyName,parameters:i})}l.props.addRemoveLinks&&setTimeout(function(){e._removeLink.click()},500)}},l.state={commands:e.commands,states:e.states},l}t.default=o},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=o(n(0)),w=(o(n(5)),o(n(11)),o(n(7))),k=o(n(72)),c=o(n(3));function o(e){return e&&e.__esModule?e:{default:e}}var i,l,s=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":ms(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(u,a.default.Component),l=[{key:"getDerivedStateFromProps",value:function(e,t){var n={};return e.adaptiveViewType&&t.adaptiveViewType!==e.adaptiveViewType&&(n.adaptiveViewType=e.adaptiveViewType),void 0!==e.modelurl&&""!==e.modelurl&&e.modelurl!==t.modelurl&&(n.modelurl=e.modelurl,n.needFetchModel=!0),void 0!==e.model&&e.model!==t.model&&(n.controlsToReplace=null,n.model=e.model),void 0!==e.dataurl&&""!==e.dataurl&&e.dataurl!==t.dataurl&&(n.dataurl=e.dataurl,n.needFetchData=!0),void 0!==e.data&&(n.data=e.data),e.objectId!==t.objectId&&(n.objectId=e.objectId,n.isLoaded=!1),n}}],r((i=u).prototype,[{key:"componentDidMount",value:function(){this.PrepareState(),window.addEventListener("resize",this.handleResize.bind(this))}},{key:"componentDidUpdate",value:function(e,t){this.PrepareState()}},{key:"componentWillUnmount",value:function(){this._asyncGetData&&this._asyncGetData.abort(),this._asyncGetModel&&this._asyncGetModel.abort(),window.removeEventListener("resize",this.handleResize.bind(this))}},{key:"PrepareState",value:function(){var a=this;this.state.needFetchModel&&(a.setState({needFetchModel:!1}),this._asyncGetModel=$.getJSON(this.state.modelurl).done(function(e){a._asyncGetModel=null,a.modelChanged(e)}).fail(function(e,t,n){a._asyncGetModel=null;var r=t+", "+n;a.handleErrEvent(r)})),this.state.needFetchData&&(a.setState({needFetchData:!1}),this._asyncGetData=$.getJSON(this.state.dataurl).done(function(e){a._asyncGetData=null,a.dataChanged(e)}).fail(function(e,t,n){a._asyncGetData=null;var r=t+", "+n;a.handleErrEvent(r)})),this.checkConditions(this.state.model),this.checkLoadedState(this.state.data,this.state.model)}},{key:"modelChanged",value:function(e){this.setState({model:e,controlsToReplace:null}),this.checkConditions(e)}},{key:"dataChanged",value:function(e){this.setState({data:e}),this.checkLoadedState(e,this.state.model)}},{key:"checkLoadedState",value:function(e,t,n){this.state.isLoaded||null==e||null==t||(n?this.state.isLoaded=!0:this.setState({isLoaded:!0}),this.props.eventFunc({key:void 0,controlRef:this,formName:this.props.formName,component:this,eventName:"init",actions:["initSystem","init"],parameters:void 0}))}},{key:"checkConditions",value:function(e,t){var n=!1;if(Array.isArray(e))for(var r=0;r<e.length&&(void 0!==e[r]["other-visibleConition"]&&""!==e[r]["other-visibleConition"]||void 0!==e[r]["other-readOnlyConition"]&&""!==e[r]["other-readOnlyConition"]?n=!0:Array.isArray(e[r].children)&&(n=this.checkConditions(e[r].children,!0)),!n);r++);if(t)return n;this.state.enableCheckConditions=n}},{key:"onConditions",value:function(e,t,n,r,a){this.state.enableCheckConditions&&this.props.eventFunc({key:e,controlRef:this.refs[e],formName:this.props.formName,component:this,eventName:t,actions:["checkConditions"],parameters:n})}},{key:"handleErrEvent",value:function(e){this.props.eventErrFunc&&this.props.eventErrFunc(this,e)}},{key:"findModelItembyKey",value:function(e,t){void 0===t&&(t=this.state.model);for(var n=0;n<t.length;n++){if(t[n].key===e)return t[n];if(void 0!==t[n].children){var r=this.findModelItembyKey(e,t[n].children);if(void 0!==r)return r}if(void 0!==t[n].placeholders)for(var a in t[n].placeholders){var o=this.findModelItembyKey(e,t[n].placeholders[a]);if(void 0!==o)return o}if("customblock"===t[n]["data-buildertype"]&&"source"===t[n].sourceType&&null!=t[n].source){var i=c.default.parse(t[n].source),l=this.findModelItembyKey(e,i);if(void 0!==l)return l}if("customblock"===t[n]["data-buildertype"]&&"form"===t[n].sourceType&&void 0!==t[n].formname&&""!==t[n].formname){var s=t[n].children?t[n].children:this.props.getFormFunc(t[n].formname),u=this.findModelItembyKey(e,s);if(void 0!==u)return u}}}},{key:"render",value:function(){var e=[],t=!1;null!==this.state.model&&void 0!==this.state.model&&(e=null===this.state.controlsToReplace?[]:this.state.controlsToReplace,t=null===this.state.controlsToReplace);var n=w.default.createControls(this,{model:this.state.model,data:this.state.data,errors:this.props.errors,handleEvent:this.handleEvent,getFormFunc:this.props.getFormFunc,getAdditionalDataForControl:this.props.getAdditionalDataForControl,hideControls:this.props.hideControls,readOnlyControls:this.props.readOnlyControls,readOnly:this.props.readOnly,uploadUrl:this.props.uploadUrl,downloadUrl:this.props.downloadUrl,extendedData:this.props.extendedData,controlsToReplace:e,needCheckReplace:t,externalControlRender:this.props.externalControlRender,externalControlList:this.props.externalControlList,adaptiveViewType:this.props.adaptiveViewType?this.props.adaptiveViewType:this.state.adaptiveViewType});t&&(this.state.controlsToReplace=e);var r="dwkit-form"+(void 0===this.props.className?"":" "+this.props.className);return a.default.createElement("div",{className:r},n)}},{key:"getAdaptiveViewType",value:function(){return window.matchMedia("(max-width: 997px)").matches?"mobile":"desktop"}},{key:"handleResize",value:function(){var e=this.getAdaptiveViewType();this.state.adaptiveViewType!==e&&this.setState({adaptiveViewType:e})}},{key:"applySubstitution",value:function(e,t,n){var r=e;return null!=t&&"row."==e.slice(1,5)?null==(r=t[e.slice(5,e.length-1)])?"":r:null!=n&&null==(r=n[e.slice(1,e.length-1)])?"":r}}]),r(i,l),u);function u(e){!function(e){if(!(e instanceof u))throw new TypeError("Cannot call a class as a function")}(this);var y=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":ms(t))&&"function"!=typeof t?e:t}(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,e));return y._asyncGetData=null,y._asyncGetModel=null,y.handleEvent=function(e){e.e;var t=e.key,n=e.propertyName,r=e.eventName,a=e.parameters,o=e.name,i=e.value,l=e.additionalValues,s=y,u="onChange"===r;if(u){if(!y.props.onlyExternalDataChanged){void 0===y.state.data&&(y.state.data={});var c=n||t,d=y.state.data;d[c]=i,y.setState({data:d})}void 0!==y.props.dataChanged&&y.props.dataChanged(y,{key:t,propertyName:n,value:i,additionalValues:l}),y.onConditions(t,r,a,o,i)}if(void 0!==y.props.eventFunc){var f=y.findModelItembyKey(t);if(void 0!==f&&void 0!==f.events&&void 0!==f.events[r]&&f.events[r].active){var p=f.events[r],h=b({},a);Array.isArray(p.parameters)&&0<p.parameters.length&&p.parameters.forEach(function(e){"string"==typeof e.value?h[e.name]=e.value.replace(w.default.regexForReplace,function(e){return s.applySubstitution(e,a?a.row:void 0,s.state.data)}):h[e.name]=e.value});var m=s.refs[t],v=i,g=void 0;g=Array.isArray(p.targets)&&0<p.targets.length?function(){return p.targets.forEach(function(e){s.props.eventFunc({key:e,sourceControlRef:m,sourceControlValue:v,controlRef:s.refs[e],formName:s.props.formName,component:s,eventName:r,actions:p.actions,parameters:h})})}:function(){return s.props.eventFunc({key:t,sourceControlRef:m,sourceControlValue:v,controlRef:m,formName:s.props.formName,component:s,eventName:r,actions:p.actions,parameters:h})},!u||void 0===f.onChangeTimeout||""===f.onChangeTimeout||Number(f.onChangeTimeout)<1?g():k.default.Set(t,g,Number(f.onChangeTimeout))}}},y.state={data:e.data,model:e.model,extendedData:e.extendedData,controlsToReplace:null,adaptiveViewType:y.getAdaptiveViewType()},y.checkLoadedState(y.state.data,y.state.model,!0),y}t.default=s},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.BaseEditControl=t.DWKitFormViewer=t.DWKitForm=t.DWKitFormBuilder=void 0;var r=l(n(24)),a=l(n(22)),o=l(n(73)),i=n(12);function l(e){return e&&e.__esModule?e:{default:e}}t.DWKitFormBuilder=r.default,t.DWKitForm=a.default,t.DWKitFormViewer=o.default,t.BaseEditControl=i.BaseEditControl},function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var a=d(n(0)),o=(d(n(5)),d(n(25))),i=d(n(69)),l=d(n(11)),s=d(n(70)),u=d(n(71)),c=n(1);function d(e){return e&&e.__esModule?e:{default:e}}var f,p,h,m=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":ms(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(v,a.default.Component),p=v,h=[{key:"exists",value:function(e){return l.default.exists(e)}},{key:"setBuilderMode",value:function(e){e?($(".dwkit-formbuilder-zone").show(),$(".dwkit-formbuilder-item-toolbar-header").show()):($(".dwkit-formbuilder-zone").hide(),$(".dwkit-formbuilder-item-toolbar-header").hide()),this.setState({dropzoneactive:e})}},{key:"create",value:function(){l.default.setData([]),this.setBuilderMode(!0)}},{key:"loadData",value:function(e){l.default.setData(e),this.setBuilderMode(!0)}},{key:"getData",value:function(){return l.default.getData()}},{key:"load",value:function(e){var t=this.props.getFormFunc(e);l.default.setData(t),this.setState({code:e}),this.setBuilderMode(!0)}},{key:"download",value:function(){var e=(this.props.formName?this.props.formName:"form")+".json",t=l.default.getData(),n=JSON.stringify(t,null,2),r=new Blob([n],{type:"octet/stream"}),a=window.URL.createObjectURL(r);if(void 0!==window.navigator.msSaveBlob)window.navigator.msSaveBlob(r,e);else{var o=document.createElement("a");o.setAttribute("href",a),o.setAttribute("download",e),document.body.appendChild(o),o.click()}}},{key:"upload",value:function(e,t){var n=e.files[0],r=new FileReader;r.onload=function(e){var t=JSON.parse(e.target.result);l.default.setData(t)},r.readAsText(n)}},{key:"handleShowDropzonesClick",value:function(e,t){t.name;var n=t.checked;this.setBuilderMode(n)}},{key:"onChooseFileUpload",value:function(e){$("#builderUploadFile").click()}},{key:"onChangeFileUpload",value:function(e){$("#builderUploadSubmit").click()}},{key:"onUpload",value:function(e){e.preventDefault(),this.upload(document.getElementById("builderUploadFile"))}},{key:"onDownload",value:function(e){this.download()}},{key:"scroll",value:(f=function(e){var t=$(window).scrollTop();$(window).scrollTop(t+e),stop||setTimeout(function(){scroll(e)},20)},g.toString=function(){return f.toString()},g)},{key:"getHeader",value:function(){var e=this.getCurrentLocalization(),t=[];this.props.extraHeaderButtons&&this.props.extraHeaderButtons.forEach(function(e){t.push(a.default.createElement(c.Button,{key:e.name,name:e.name,className:e.className,onClick:e.onClick},e.text))});var n=this.state.dropzoneactive?"":"dwkit-formbuilder-selector-preview";return a.default.createElement("div",{className:"dwkit-formbuilder-header"},a.default.createElement("div",{className:"dwkit-formbuilder-header-left"},a.default.createElement("a",{target:"_blank",href:"https://formbuilder.dev"},a.default.createElement("img",{className:"dwkit-formbuilder-header-logo",src:"/images/logo.svg"}))),a.default.createElement("div",{className:"dwkit-formbuilder-header-center"},a.default.createElement(c.Button,{name:"btnEmpty",className:"buttontype2",onClick:this.create.bind(this)},e.clearbutton),a.default.createElement(c.Button,{name:"btnUpload",className:"buttontype2",onClick:this.onChooseFileUpload.bind(this)},e.uploadbutton),a.default.createElement(c.Button,{name:"btnDownload",className:"buttontype2",onClick:this.onDownload.bind(this)},e.downloadbutton),t),a.default.createElement("div",{className:"dwkit-formbuilder-header-right"},a.default.createElement("div",{className:"dwkit-formbuilder-selector"},a.default.createElement("span",{className:n},"Preview"),a.default.createElement(c.Checkbox,{toggle:!0,name:"cbShowDropzones",label:"Builder",checked:this.state.dropzoneactive,onChange:this.handleShowDropzonesClick.bind(this)})),a.default.createElement("form",{action:"/",method:"post",id:"builderUploadForm",style:{display:"none"},onSubmit:this.onUpload.bind(this)},a.default.createElement("input",{type:"file",id:"builderUploadFile",onChange:this.onChangeFileUpload.bind(this)}),a.default.createElement("input",{type:"submit",id:"builderUploadSubmit"}))))}},{key:"render",value:function(){var e=this.getCurrentLocalization(),t="dwkit-formbuilder";this.state.dropzoneactive&&(t+=" dwkit-formbuilder-dropzoneactive");var n=a.default.createElement("div",{className:t,onDragOver:this.onDragOver},a.default.createElement("div",{className:"dwkit-formbuilder-content"},a.default.createElement(i.default,{getFormFunc:this.props.getFormFunc,getFormFist:this.props.getFormFist,getAdditionalDataForControl:this.props.getAdditionalDataForControl,localization:e.preview,downloadUrl:this.props.downloadUrl,uploadUrl:this.props.uploadUrl,externalControlRender:this.props.externalControlRender,externalControlList:this.props.externalControlList}),a.default.createElement(s.default,{actions:this.props.actions,localization:e.editforms,externalControlList:this.props.externalControlList})),a.default.createElement(o.default,{localization:e.toolbar,templates:this.props.templates,externalControlList:this.props.externalControlList,externalControlsOnly:this.props.externalControlsOnly}));return this.props.showHeader?a.default.createElement("div",null,this.getHeader(),n):n}},{key:"getCurrentLocalization",value:function(){return null!=this.props.localization?this.props.localization:u.default}}],r(p.prototype,h),v);function v(e){!function(e){if(!(e instanceof v))throw new TypeError("Cannot call a class as a function")}(this);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":ms(t))&&"function"!=typeof t?e:t}(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,e));return t.onDragOver=function(e){e.clientY<150&&t.scroll(-10),e.clientY>$(window).height()-150&&t.scroll(10)},t.state={apiurl:e.apiurl,imagefolder:e.imagefolder,dropzoneactive:!0},t}function g(e){return f.apply(this,arguments)}t.default=m},function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var s=l(n(0)),a=l(n(6)),o=l(n(7)),i=n(12);function l(e){return e&&e.__esModule?e:{default:e}}var u=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":ms(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(c,s.default.Component),r(c.prototype,[{key:"makeLocalization",value:function(e){if(this.props.localization)for(var t=this.props.localization,n=0;n<e.length;n++)null!=t[e[n].key]&&(e[n].title=t[e[n].key])}},{key:"onDragStart",value:function(e,t){var n=".dwkit-formbuilder-zone";if(t.dataTransfer.setData("text",""),null!=e.forContainerType){var r=e.forContainerType.split(","),a="";r.forEach(function(e){0<a.length&&(a+=","),a+="[data-buildertype='"+e+"'] > "+n}),n=a}$(n).addClass("dwkit-formbuilder-zone-active").on("dragenter",this.onTargetDragEnter.bind(this,e,"dwkit-formbuilder-zone-select")).on("dragleave",this.onTargetDragLeave.bind(this,e,"dwkit-formbuilder-zone-select")).on("dragover",function(e){e.preventDefault()}).on("drop",this.onDrop.bind(this,e))}},{key:"onTargetDragEnter",value:function(e,t,n){$(n.target).addClass(t)}},{key:"onTargetDragLeave",value:function(e,t,n){$(n.target).removeClass(t)}},{key:"onDragEnd",value:function(e){this.stop=!1;var t=$(".dwkit-formbuilder-zone");t.removeClass("dwkit-formbuilder-zone-active"),t.removeClass("dwkit-formbuilder-zone-select"),t.off()}},{key:"onDrop",value:function(e,t){var n=$(t.target);return 0<n.length&&a.default.add(e,n[0]),this.onDragEnd(e),!1}},{key:"onDoubleClick",value:function(e){a.default.add(e)}},{key:"onExpand",value:function(e,t){e.isexpanded=t,this.setCookie("toolbar_"+e.key,t),this.forceUpdate()}},{key:"getCookie",value:function(e){var t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0}},{key:"setCookie",value:function(e,t,n){var r=(n=n||{}).expires;if("number"==typeof r&&r){var a=new Date;a.setTime(a.getTime()+1e3*r),r=n.expires=a}r&&r.toUTCString&&(n.expires=r.toUTCString());var o=e+"="+(t=encodeURIComponent(t));for(var i in n){o+="; "+i;var l=n[i];!0!==l&&(o+="="+l)}document.cookie=o}},{key:"render",value:function(){var o=this,i=this,l=!1;return s.default.createElement("div",{className:"dwkit-formbuilder-toolbox"},s.default.createElement("ul",null,this.state.items.map(function(e){var t=e.title;if(null!=i.props.localization&&null!=i.props.localization[e.key]&&(t=i.props.localization[e.key]),e.isseparate){var n,r;if(null==e.isexpanded){var a=i.getCookie("toolbar_"+e.key);e.isexpanded=null!=a?"true"==a:e.defaultopen}return n=e.isexpanded?(l=!0,r=i.onExpand.bind(i,e,!1),s.default.createElement("span",null,"–")):(l=!1,r=i.onExpand.bind(i,e,!0),s.default.createElement("span",null,"+")),s.default.createElement("li",{draggable:"false",onClick:r,className:"dwkit-formbuilder-toolbox-subheader",key:e.key},t,n)}if(l)return null!=e.imagewidth&&e.imagewidth,null!=e.imageheight&&e.imageheight,s.default.createElement("li",{draggable:"true",className:"dwkit-formbuilder-toolbox-control",key:e.key,onDragStart:o.onDragStart.bind(o,e),onDragEnd:o.onDragEnd.bind(o,e),onDoubleClick:o.onDoubleClick.bind(o,e)},s.default.createElement("div",{className:"dwkit-formbuilder-toolbox-control-icon"}),s.default.createElement("div",{className:"dwkit-formbuilder-toolbox-control-text"},t))})))}}]),c);function c(e){!function(e){if(!(e instanceof c))throw new TypeError("Cannot call a class as a function")}(this);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":ms(t))&&"function"!=typeof t?e:t}(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,e)),n=t.props.externalControlsOnly;!0!==n&&!1!==n&&window.DWKitFormSettings&&(n=window.DWKitFormSettings.externalControlsOnly);var r=[];n||(r=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(o.default.Items))),Array.isArray(t.props.templates)&&0<t.props.templates.length&&(r.push({key:"sepTemplates",title:"Templates",isseparate:!0,defaultopen:!1}),t.props.templates.forEach(function(e){r.push({key:e,builderType:"customblock",title:e,control:void 0,editControl:i.CustomBlockEditControl,defaultValues:{formname:e,sourceType:"form"}})}));var a=t.props.externalControlList;return!a&&window.DWKitFormSettings&&(a=window.DWKitFormSettings.externalControlList),a&&(r=r.concat(a)),t.makeLocalization(r),t.state={items:r},t}t.default=u},function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":ms(t))&&"function"!=typeof t?e:t}Object.defineProperty(t,"__esModule",{value:!0});var a=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":ms(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(l,n(0).Component),r(l.prototype,[{key:"render",value:function(){var e=this.props.model;return this.props.createControl(this.props.parent,e["data-buildertype"],{model:e,data:this.props.row,errors:this.props.errorOnRow,parentItem:this.props.name,buildermode:this.props.buildermode,handleEvent:this.handleEvent,getAdditionalDataForControl:this.getAdditionalDataForControl,readOnly:this.props.readOnly,uploadUrl:this.props.uploadUrl,downloadUrl:this.props.downloadUrl,controlsToReplace:[],formData:this.props.data,adaptiveViewType:this.props.adaptiveViewType},this.props.controlBarParams)}}]),l);function l(){var e,t,n;!function(e){if(!(e instanceof l))throw new TypeError("Cannot call a class as a function")}(this);for(var r=arguments.length,a=Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=n=i(this,(e=l.__proto__||Object.getPrototypeOf(l)).call.apply(e,[this].concat(a))),s.call(n),i(n,t)}var s=function(){var r=this;this.handleEvent=function(e){e.parameters||(e.parameters={}),e.parameters.row||(e.parameters.row=r.props.row),"onChange"===e.eventName?r.props.handleChange(r.props.row,e.syntheticEvent,e):r.props.handleEvent(e)},this.getAdditionalDataForControl=function(e,t,n){return(t=t||{}).row||(t.row=r.props.row),r.props.getAdditionalDataForControl(e,t,n)}};t.default=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=l(n(0)),i=n(1);function l(e){return e&&e.__esModule?e:{default:e}}var s=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":ms(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(u,l(n(8)).default),a(u.prototype,[{key:"render",value:function(){return o.default.createElement(i.Form.Input,r({},this.props.inputProps,{onChange:this.handleChange}))}}]),u);function u(){return function(e){if(!(e instanceof u))throw new TypeError("Cannot call a class as a function")}(this),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":ms(t))&&"function"!=typeof t?e:t}(this,(u.__proto__||Object.getPrototypeOf(u)).apply(this,arguments))}t.default=s},function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(0)),o=i(n(13));function i(e){return e&&e.__esModule?e:{default:e}}var l=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":ms(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(s,i(n(8)).default),r(s.prototype,[{key:"render",value:function(){return a.default.createElement(o.default,{name:this.props.colName,error:this.props.errorFlag,value:this.props.value,readOnly:this.props.readOnly,onChange:this.handleChange,downloadUrl:this.props.downloadUrl,uploadUrl:this.props.uploadUrl,additionalData:this.props.additionalData,additionalDataContext:this.props.row,isForm:!0,hideClearButton:"file2"===this.props.control})}}]),s);function s(){return function(e){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":ms(t))&&"function"!=typeof t?e:t}(this,(s.__proto__||Object.getPrototypeOf(s)).apply(this,arguments))}t.default=l},function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(0)),o=n(1);function i(e){return e&&e.__esModule?e:{default:e}}var l=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":ms(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(s,i(n(8)).default),r(s.prototype,[{key:"render",value:function(){return a.default.createElement(o.Form.Dropdown,{name:this.props.colName,multiple:this.props.multiple,placeholder:this.props.placeholder,options:this.props.options,error:this.props.errorFlag,value:this.props.value,readOnly:this.props.readOnly,onChange:this.handleChange,selection:!0,fluid:!0,search:!0})}}]),s);function s(){return function(e){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":ms(t))&&"function"!=typeof t?e:t}(this,(s.__proto__||Object.getPrototypeOf(s)).apply(this,arguments))}t.default=l},function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(17)),o=i(n(0));function i(e){return e&&e.__esModule?e:{default:e}}var l=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":ms(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(s,i(n(8)).default),r(s.prototype,[{key:"render",value:function(){return o.default.createElement(a.default,{name:this.props.colName,error:this.props.errorFlag,value:this.props.value,readOnly:this.props.readOnly,onChange:this.handleChange,type:this.props.type,isForm:!0})}}]),s);function s(){return function(e){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":ms(t))&&"function"!=typeof t?e:t}(this,(s.__proto__||Object.getPrototypeOf(s)).apply(this,arguments))}t.default=l},function(e,t){e.exports=c},function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(0)),o=n(1);function i(e){return e&&e.__esModule?e:{default:e}}var l=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":ms(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(s,i(n(8)).default),r(s.prototype,[{key:"render",value:function(){return a.default.createElement(o.Form.Checkbox,{name:this.props.colName,checked:this.props.checked,error:this.props.errorFlag,readOnly:this.props.readOnly,onChange:this.handleChange})}}]),s);function s(){return function(e){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":ms(t))&&"function"!=typeof t?e:t}(this,(s.__proto__||Object.getPrototypeOf(s)).apply(this,arguments))}t.default=l},function(e,I,t){(function(e){
/*!
       * The buffer module from node.js, for the browser.
       *
       * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
       * @license  MIT
       */var i=t(34),o=t(35),l=t(36);function n(){return d.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(n()<t)throw new RangeError("Invalid typed array length");return d.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=d.prototype:(null===e&&(e=new d(t)),e.length=t),e}function d(e,t,n){if(!(d.TYPED_ARRAY_SUPPORT||this instanceof d))return new d(e,t,n);if("number"!=typeof e)return r(this,e,t,n);if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return a(this,e)}function r(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),d.TYPED_ARRAY_SUPPORT?(e=t).__proto__=d.prototype:e=c(e,t),e}(e,t,n,r):"string"==typeof t?function(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!d.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|p(t,n),a=(e=s(e,r)).write(t,n);return a!==r&&(e=e.slice(0,a)),e}(e,t,n):function(e,t){if(d.isBuffer(t)){var n=0|f(t.length);return 0===(e=s(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?s(e,0):c(e,t);if("Buffer"===t.type&&l(t.data))return c(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function a(e,t){if(u(t),e=s(e,t<0?0:0|f(t)),!d.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function c(e,t){var n=t.length<0?0:0|f(t.length);e=s(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function f(e){if(e>=n())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n().toString(16)+" bytes");return 0|e}function p(e,t){if(d.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return j(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return T(e).length;default:if(r)return j(e).length;t=(""+t).toLowerCase(),r=!0}}function h(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function m(e,t,n,r,a){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):2147483647<n?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=a?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(a)return-1;n=e.length-1}else if(n<0){if(!a)return-1;n=0}if("string"==typeof t&&(t=d.from(t,r)),d.isBuffer(t))return 0===t.length?-1:v(e,t,n,r,a);if("number"==typeof t)return t&=255,d.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?a?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):v(e,[t],n,r,a);throw new TypeError("val must be string, number or Buffer")}function v(e,t,n,r,a){var o,i=1,l=e.length,s=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;l/=i=2,s/=2,n/=2}function u(e,t){return 1===i?e[t]:e.readUInt16BE(t*i)}if(a){var c=-1;for(o=n;o<l;o++)if(u(e,o)===u(t,-1===c?0:o-c)){if(-1===c&&(c=o),o-c+1===s)return c*i}else-1!==c&&(o-=o-c),c=-1}else for(l<n+s&&(n=l-s),o=n;0<=o;o--){for(var d=!0,f=0;f<s;f++)if(u(e,o+f)!==u(t,f)){d=!1;break}if(d)return o}return-1}function g(e,t,n,r){n=Number(n)||0;var a=e.length-n;r?a<(r=Number(r))&&(r=a):r=a;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");o/2<r&&(r=o/2);for(var i=0;i<r;++i){var l=parseInt(t.substr(2*i,2),16);if(isNaN(l))return i;e[n+i]=l}return i}function y(e,t,n,r){return N(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function b(e,t,n){n=Math.min(e.length,n);for(var r=[],a=t;a<n;){var o,i,l,s,u=e[a],c=null,d=239<u?4:223<u?3:191<u?2:1;if(a+d<=n)switch(d){case 1:u<128&&(c=u);break;case 2:128==(192&(o=e[a+1]))&&127<(s=(31&u)<<6|63&o)&&(c=s);break;case 3:o=e[a+1],i=e[a+2],128==(192&o)&&128==(192&i)&&2047<(s=(15&u)<<12|(63&o)<<6|63&i)&&(s<55296||57343<s)&&(c=s);break;case 4:o=e[a+1],i=e[a+2],l=e[a+3],128==(192&o)&&128==(192&i)&&128==(192&l)&&65535<(s=(15&u)<<18|(63&o)<<12|(63&i)<<6|63&l)&&s<1114112&&(c=s)}null===c?(c=65533,d=1):65535<c&&(c-=65536,r.push(c>>>10&1023|55296),c=56320|1023&c),r.push(c),a+=d}return function(e){var t=e.length;if(t<=w)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=w));return n}(r)}I.Buffer=d,I.SlowBuffer=function(e){return+e!=e&&(e=0),d.alloc(+e)},I.INSPECT_MAX_BYTES=50,d.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),I.kMaxLength=n(),d.poolSize=8192,d._augment=function(e){return e.__proto__=d.prototype,e},d.from=function(e,t,n){return r(null,e,t,n)},d.TYPED_ARRAY_SUPPORT&&(d.prototype.__proto__=Uint8Array.prototype,d.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&d[Symbol.species]===d&&Object.defineProperty(d,Symbol.species,{value:null,configurable:!0})),d.alloc=function(e,t,n){return a=t,o=n,u(r=e),r<=0?s(null,r):void 0!==a?"string"==typeof o?s(null,r).fill(a,o):s(null,r).fill(a):s(null,r);var r,a,o},d.allocUnsafe=function(e){return a(null,e)},d.allocUnsafeSlow=function(e){return a(null,e)},d.isBuffer=function(e){return!(null==e||!e._isBuffer)},d.compare=function(e,t){if(!d.isBuffer(e)||!d.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,a=0,o=Math.min(n,r);a<o;++a)if(e[a]!==t[a]){n=e[a],r=t[a];break}return n<r?-1:r<n?1:0},d.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},d.concat=function(e,t){if(!l(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return d.alloc(0);var n;if(void 0===t)for(n=t=0;n<e.length;++n)t+=e[n].length;var r=d.allocUnsafe(t),a=0;for(n=0;n<e.length;++n){var o=e[n];if(!d.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,a),a+=o.length}return r},d.byteLength=p,d.prototype._isBuffer=!0,d.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)h(this,t,t+1);return this},d.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)h(this,t,t+3),h(this,t+1,t+2);return this},d.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)h(this,t,t+7),h(this,t+1,t+6),h(this,t+2,t+5),h(this,t+3,t+4);return this},d.prototype.toString=function(){var e=0|this.length;return 0==e?"":0===arguments.length?b(this,0,e):function(e,t,n){var r,a,o=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e=e||"utf8";;)switch(e){case"hex":return C(this,t,n);case"utf8":case"utf-8":return b(this,t,n);case"ascii":return k(this,t,n);case"latin1":case"binary":return E(this,t,n);case"base64":return this,a=n,0===(r=t)&&a===this.length?i.fromByteArray(this):i.fromByteArray(this.slice(r,a));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,t,n);default:if(o)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),o=!0}}.apply(this,arguments)},d.prototype.equals=function(e){if(!d.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===d.compare(this,e)},d.prototype.inspect=function(){var e="",t=I.INSPECT_MAX_BYTES;return 0<this.length&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},d.prototype.compare=function(e,t,n,r,a){if(!d.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===a&&(a=this.length),t<0||n>e.length||r<0||a>this.length)throw new RangeError("out of range index");if(a<=r&&n<=t)return 0;if(a<=r)return-1;if(n<=t)return 1;if(this===e)return 0;for(var o=(a>>>=0)-(r>>>=0),i=(n>>>=0)-(t>>>=0),l=Math.min(o,i),s=this.slice(r,a),u=e.slice(t,n),c=0;c<l;++c)if(s[c]!==u[c]){o=s[c],i=u[c];break}return o<i?-1:i<o?1:0},d.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},d.prototype.indexOf=function(e,t,n){return m(this,e,t,n,!0)},d.prototype.lastIndexOf=function(e,t,n){return m(this,e,t,n,!1)},d.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var a=this.length-t;if((void 0===n||a<n)&&(n=a),0<e.length&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r=r||"utf8";for(var o,i,l,s,u,c,d=!1;;)switch(r){case"hex":return g(this,e,t,n);case"utf8":case"utf-8":return u=t,c=n,N(j(e,this.length-u),this,u,c);case"ascii":return y(this,e,t,n);case"latin1":case"binary":return y(this,e,t,n);case"base64":return l=t,s=n,N(T(e),this,l,s);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return o=t,i=n,N(function(e,t){for(var n,r,a,o=[],i=0;i<e.length&&!((t-=2)<0);++i)r=(n=e.charCodeAt(i))>>8,a=n%256,o.push(a),o.push(r);return o}(e,this.length-o),this,o,i);default:if(d)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),d=!0}},d.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var w=4096;function k(e,t,n){var r="";n=Math.min(e.length,n);for(var a=t;a<n;++a)r+=String.fromCharCode(127&e[a]);return r}function E(e,t,n){var r="";n=Math.min(e.length,n);for(var a=t;a<n;++a)r+=String.fromCharCode(e[a]);return r}function C(e,t,n){var r,a=e.length;(!t||t<0)&&(t=0),(!n||n<0||a<n)&&(n=a);for(var o="",i=t;i<n;++i)o+=(r=e[i])<16?"0"+r.toString(16):r.toString(16);return o}function _(e,t,n){for(var r=e.slice(t,n),a="",o=0;o<r.length;o+=2)a+=String.fromCharCode(r[o]+256*r[o+1]);return a}function O(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(n<e+t)throw new RangeError("Trying to access beyond buffer length")}function S(e,t,n,r,a,o){if(!d.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(a<t||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function x(e,t,n,r){t<0&&(t=65535+t+1);for(var a=0,o=Math.min(e.length-n,2);a<o;++a)e[n+a]=(t&255<<8*(r?a:1-a))>>>8*(r?a:1-a)}function A(e,t,n,r){t<0&&(t=4294967295+t+1);for(var a=0,o=Math.min(e.length-n,4);a<o;++a)e[n+a]=t>>>8*(r?a:3-a)&255}function D(e,t,n,r){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function F(e,t,n,r,a){return a||D(e,0,n,4),o.write(e,t,n,r,23,4),n+4}function L(e,t,n,r,a){return a||D(e,0,n,8),o.write(e,t,n,r,52,8),n+8}d.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):r<e&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):r<t&&(t=r),t<e&&(t=e),d.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=d.prototype;else{var a=t-e;n=new d(a,void 0);for(var o=0;o<a;++o)n[o]=this[o+e]}return n},d.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||O(e,t,this.length);for(var r=this[e],a=1,o=0;++o<t&&(a*=256);)r+=this[e+o]*a;return r},d.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||O(e,t,this.length);for(var r=this[e+--t],a=1;0<t&&(a*=256);)r+=this[e+--t]*a;return r},d.prototype.readUInt8=function(e,t){return t||O(e,1,this.length),this[e]},d.prototype.readUInt16LE=function(e,t){return t||O(e,2,this.length),this[e]|this[e+1]<<8},d.prototype.readUInt16BE=function(e,t){return t||O(e,2,this.length),this[e]<<8|this[e+1]},d.prototype.readUInt32LE=function(e,t){return t||O(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},d.prototype.readUInt32BE=function(e,t){return t||O(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},d.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||O(e,t,this.length);for(var r=this[e],a=1,o=0;++o<t&&(a*=256);)r+=this[e+o]*a;return(a*=128)<=r&&(r-=Math.pow(2,8*t)),r},d.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||O(e,t,this.length);for(var r=t,a=1,o=this[e+--r];0<r&&(a*=256);)o+=this[e+--r]*a;return(a*=128)<=o&&(o-=Math.pow(2,8*t)),o},d.prototype.readInt8=function(e,t){return t||O(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},d.prototype.readInt16LE=function(e,t){t||O(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},d.prototype.readInt16BE=function(e,t){t||O(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},d.prototype.readInt32LE=function(e,t){return t||O(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},d.prototype.readInt32BE=function(e,t){return t||O(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},d.prototype.readFloatLE=function(e,t){return t||O(e,4,this.length),o.read(this,e,!0,23,4)},d.prototype.readFloatBE=function(e,t){return t||O(e,4,this.length),o.read(this,e,!1,23,4)},d.prototype.readDoubleLE=function(e,t){return t||O(e,8,this.length),o.read(this,e,!0,52,8)},d.prototype.readDoubleBE=function(e,t){return t||O(e,8,this.length),o.read(this,e,!1,52,8)},d.prototype.writeUIntLE=function(e,t,n,r){e=+e,t|=0,n|=0,r||S(this,e,t,n,Math.pow(2,8*n)-1,0);var a=1,o=0;for(this[t]=255&e;++o<n&&(a*=256);)this[t+o]=e/a&255;return t+n},d.prototype.writeUIntBE=function(e,t,n,r){e=+e,t|=0,n|=0,r||S(this,e,t,n,Math.pow(2,8*n)-1,0);var a=n-1,o=1;for(this[t+a]=255&e;0<=--a&&(o*=256);)this[t+a]=e/o&255;return t+n},d.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||S(this,e,t,1,255,0),d.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},d.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||S(this,e,t,2,65535,0),d.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):x(this,e,t,!0),t+2},d.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||S(this,e,t,2,65535,0),d.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):x(this,e,t,!1),t+2},d.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||S(this,e,t,4,4294967295,0),d.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):A(this,e,t,!0),t+4},d.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||S(this,e,t,4,4294967295,0),d.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):A(this,e,t,!1),t+4},d.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var a=Math.pow(2,8*n-1);S(this,e,t,n,a-1,-a)}var o=0,i=1,l=0;for(this[t]=255&e;++o<n&&(i*=256);)e<0&&0===l&&0!==this[t+o-1]&&(l=1),this[t+o]=(e/i>>0)-l&255;return t+n},d.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var a=Math.pow(2,8*n-1);S(this,e,t,n,a-1,-a)}var o=n-1,i=1,l=0;for(this[t+o]=255&e;0<=--o&&(i*=256);)e<0&&0===l&&0!==this[t+o+1]&&(l=1),this[t+o]=(e/i>>0)-l&255;return t+n},d.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||S(this,e,t,1,127,-128),d.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},d.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||S(this,e,t,2,32767,-32768),d.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):x(this,e,t,!0),t+2},d.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||S(this,e,t,2,32767,-32768),d.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):x(this,e,t,!1),t+2},d.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||S(this,e,t,4,2147483647,-2147483648),d.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):A(this,e,t,!0),t+4},d.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||S(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),d.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):A(this,e,t,!1),t+4},d.prototype.writeFloatLE=function(e,t,n){return F(this,e,t,!0,n)},d.prototype.writeFloatBE=function(e,t,n){return F(this,e,t,!1,n)},d.prototype.writeDoubleLE=function(e,t,n){return L(this,e,t,!0,n)},d.prototype.writeDoubleBE=function(e,t,n){return L(this,e,t,!1,n)},d.prototype.copy=function(e,t,n,r){if(n=n||0,r||0===r||(r=this.length),t>=e.length&&(t=e.length),t=t||0,0<r&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var a,o=r-n;if(this===e&&n<t&&t<r)for(a=o-1;0<=a;--a)e[a+t]=this[a+n];else if(o<1e3||!d.TYPED_ARRAY_SUPPORT)for(a=0;a<o;++a)e[a+t]=this[a+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},d.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var a=e.charCodeAt(0);a<256&&(e=a)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!d.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,"number"==typeof(e=e||0))for(o=t;o<n;++o)this[o]=e;else{var i=d.isBuffer(e)?e:j(new d(e,r).toString()),l=i.length;for(o=0;o<n-t;++o)this[o+t]=i[o%l]}return this};var P=/[^+\/0-9A-Za-z-_]/g;function j(e,t){var n;t=t||1/0;for(var r=e.length,a=null,o=[],i=0;i<r;++i){if(55295<(n=e.charCodeAt(i))&&n<57344){if(!a){if(56319<n){-1<(t-=3)&&o.push(239,191,189);continue}if(i+1===r){-1<(t-=3)&&o.push(239,191,189);continue}a=n;continue}if(n<56320){-1<(t-=3)&&o.push(239,191,189),a=n;continue}n=65536+(a-55296<<10|n-56320)}else a&&-1<(t-=3)&&o.push(239,191,189);if(a=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function T(e){return i.toByteArray(function(e){if((e=((t=e).trim?t.trim():t.replace(/^\s+|\s+$/g,"")).replace(P,"")).length<2)return"";for(var t;e.length%4!=0;)e+="=";return e}(e))}function N(e,t,n,r){for(var a=0;a<r&&!(a+n>=t.length||a>=e.length);++a)t[a+n]=e[a];return a}}).call(this,t(18))},function(e,t,n){t.byteLength=function(e){var t=d(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,r=d(e),a=r[0],o=r[1],i=new c(3*(a+o)/4-o),l=0,s=0<o?a-4:a;for(n=0;n<s;n+=4)t=u[e.charCodeAt(n)]<<18|u[e.charCodeAt(n+1)]<<12|u[e.charCodeAt(n+2)]<<6|u[e.charCodeAt(n+3)],i[l++]=t>>16&255,i[l++]=t>>8&255,i[l++]=255&t;return 2===o&&(t=u[e.charCodeAt(n)]<<2|u[e.charCodeAt(n+1)]>>4,i[l++]=255&t),1===o&&(t=u[e.charCodeAt(n)]<<10|u[e.charCodeAt(n+1)]<<4|u[e.charCodeAt(n+2)]>>2,i[l++]=t>>8&255,i[l++]=255&t),i},t.fromByteArray=function(e){for(var t,n=e.length,r=n%3,a=[],o=0,i=n-r;o<i;o+=16383)a.push(s(e,o,i<o+16383?i:o+16383));return 1==r?(t=e[n-1],a.push(l[t>>2]+l[t<<4&63]+"==")):2==r&&(t=(e[n-2]<<8)+e[n-1],a.push(l[t>>10]+l[t>>4&63]+l[t<<2&63]+"=")),a.join("")};for(var l=[],u=[],c="undefined"!=typeof Uint8Array?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,o=r.length;a<o;++a)l[a]=r[a],u[r.charCodeAt(a)]=a;function d(e){var t=e.length;if(0<t%4)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function s(e,t,n){for(var r,a,o=[],i=t;i<n;i+=3)r=(e[i]<<16&16711680)+(e[i+1]<<8&65280)+(255&e[i+2]),o.push(l[(a=r)>>18&63]+l[a>>12&63]+l[a>>6&63]+l[63&a]);return o.join("")}u["-".charCodeAt(0)]=62,u["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,a){var o,i,l=8*a-r-1,s=(1<<l)-1,u=s>>1,c=-7,d=n?a-1:0,f=n?-1:1,p=e[t+d];for(d+=f,o=p&(1<<-c)-1,p>>=-c,c+=l;0<c;o=256*o+e[t+d],d+=f,c-=8);for(i=o&(1<<-c)-1,o>>=-c,c+=r;0<c;i=256*i+e[t+d],d+=f,c-=8);if(0===o)o=1-u;else{if(o===s)return i?NaN:1/0*(p?-1:1);i+=Math.pow(2,r),o-=u}return(p?-1:1)*i*Math.pow(2,o-r)},t.write=function(e,t,n,r,a,o){var i,l,s,u=8*o-a-1,c=(1<<u)-1,d=c>>1,f=23===a?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,h=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(l=isNaN(t)?1:0,i=c):(i=Math.floor(Math.log(t)/Math.LN2),t*(s=Math.pow(2,-i))<1&&(i--,s*=2),2<=(t+=1<=i+d?f/s:f*Math.pow(2,1-d))*s&&(i++,s/=2),c<=i+d?(l=0,i=c):1<=i+d?(l=(t*s-1)*Math.pow(2,a),i+=d):(l=t*Math.pow(2,d-1)*Math.pow(2,a),i=0));8<=a;e[n+p]=255&l,p+=h,l/=256,a-=8);for(i=i<<a|l,u+=a;0<u;e[n+p]=255&i,p+=h,i/=256,u-=8);e[n+p-h]|=128*m}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var u=a(n(0)),c=n(1),d=a(n(10));function a(e){return e&&e.__esModule?e:{default:e}}var o=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":ms(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,u.default.Component),r(i.prototype,[{key:"render",value:function(){var r=this,a=this.props.data,e=this.props.events,o=[];Array.isArray(this.props.actions)&&this.props.actions.forEach(function(e){"string"==typeof e?o.push({text:e,value:e}):o.push(s({},e,{value:e.text}))});var i=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(this.props.targets)),l=[];return e.forEach(function(e){var t=e+"_events",n=null!=a?a[e]:void 0;null==n&&(n={}),null==n.actions&&(n.actions=[]),null==n.targets&&(n.targets=[]),null==n.parameters&&(n.parameters=[]),Array.isArray(n.actions)&&n.actions.forEach(function(e){for(var t=!1,n=0;n<o.length;n++)if(e==o[n].value){t=!0;break}t||o.push({text:e,value:e})}),Array.isArray(n.targets)&&n.targets.forEach(function(e){for(var t=!1,n=0;n<i.length;n++)if(e===i[n].value){t=!0;break}t||i.push({text:e,value:e})}),l.push(u.default.createElement("div",{key:t},u.default.createElement(c.Form.Checkbox,{width:3,key:"active",label:e,name:"active",checked:n.active,onChange:r.handleChange.bind(r,e)}),u.default.createElement("div",{key:"divGroup",style:n.active?{}:{display:"none"}},u.default.createElement(c.Form.Group,{key:"Group"},u.default.createElement(c.Form.Dropdown,{key:"actions",label:"Actions",multiple:!0,search:!0,selection:!0,allowAdditions:!0,className:"dwkit-action-dropdown",name:"actions",options:o,value:n.actions,onAddItem:r.actionsOnAddItem.bind(r),onChange:r.handleChange.bind(r,e)}),u.default.createElement(d.default,{key:"parameters",columns:["name","value"],label:"Parameters",name:"parameters",value:n.parameters,onChange:r.handleChange.bind(r,e)}),u.default.createElement(c.Form.Dropdown,{key:"targets",label:"Targets",multiple:!0,search:!0,selection:!0,name:"targets",options:i,value:n.targets,onChange:r.handleChange.bind(r,e)})))))}),u.default.createElement("div",null,l)}},{key:"handleChange",value:function(e,t,n){var r=n.name,a=n.value,o=n.checked,i=this.props.data[e];null==i&&(i={},this.props.data[e]=i),null==a&&null!=o?i[r]=o:null!=(i[r]=a)&&""!=a&&(i.active=!0),null!=this.props.onChange&&this.props.onChange(t,{name:this.props.name,value:this.props.data})}},{key:"actionsOnAddItem",value:function(e,t){var n=t.value;null!=this.props.onAdditionActions&&this.props.onAdditionActions(e,{value:n})}}]),i);function i(e){!function(e){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":ms(t))&&"function"!=typeof t?e:t}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,e));return t.state={},t}t.default=o},function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var u=o(n(0)),a=o(n(3)),c=n(1);function o(e){return e&&e.__esModule?e:{default:e}}var i,l,s=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":ms(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(d,u.default.Component),l=[{key:"getDerivedStateFromProps",value:function(e,t){return t.activeitem!==e.value?{activeitem:e.value}:null}}],r((i=d).prototype,[{key:"handleItemClick2",value:function(e,t){this.handleItemClick(t,e),t.preventDefault()}},{key:"render",value:function(){var e=this.props["data-items"];null==e||""==e?e=[]:Array.isArray(e)||(e=a.default.parse(e));var t=this.renderItems(e),n={};for(var r in this.props)"data-items"!=r&&"activeItem"!=r&&"handleEvent"!=r&&"link"!=r&&(n[r]=this.props[r]);return u.default.createElement(c.Menu,n,t)}},{key:"renderItems",value:function(e,t){var n=[];void 0===t&&(t="");for(var r=0;r<e.length;r++){var a=e[r];if(void 0!==a.visibleCondition&&null!==a.visibleCondition&&""!==a.visibleCondition){var o="return "+a.visibleCondition;try{if(!new Function("",o)())continue}catch(e){}}var i=String(t)+String(r),l=u.default.createElement("span",{dangerouslySetInnerHTML:{__html:a.title}});if(Array.isArray(a.children)&&0<a.children.length)n.push(u.default.createElement(c.Menu.Item,{key:i},u.default.createElement(c.Menu.Header,null,l),u.default.createElement(c.Menu.Menu,null,this.renderItems(a.children,i+"_"))));else{var s=this.props.link?u.default.createElement("a",{style:{color:"inherit"},href:a.target,onClick:this.handleItemClick2.bind(this,{name:a.target})},l):l;this.props.link?n.push(u.default.createElement(c.Menu.Item,{key:i,name:a.target,active:this.state.activeitem===a.target},s)):n.push(u.default.createElement(c.Menu.Item,{key:i,name:a.target,active:this.state.activeitem===a.target,onClick:this.handleItemClick},s))}}return n}}]),r(i,l),d);function d(e){!function(e){if(!(e instanceof d))throw new TypeError("Cannot call a class as a function")}(this);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":ms(t))&&"function"!=typeof t?e:t}(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,e));return r.handleItemClick=function(e,t){var n=t.name;null!=r.props.handleEvent&&0!=r.props.handleEvent({e:e,key:r.props.name,eventName:"onItemClick",parameters:{target:n}})&&r.setState({activeitem:n})},r.state={},null!=e.value?r.state.activeitem=e.value:null!=e.activeitem&&(r.state.activeitem=e.activeitem),r}t.default=s},function(e,t,n){function r(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=f(n(0)),l=n(1),s=n(40),u=f(s),c=n(20),d=f(n(14));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":ms(t))&&"function"!=typeof t?e:t}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":ms(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var v=(m(g,i.default.Component),r(g,[{key:"render",value:function(){var e=Boolean(this.props.value);return i.default.createElement(l.Checkbox,{checked:e,disabled:!0})}}]),g);function g(){return p(this,g),h(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}var y=(m(b,i.default.Component),r(b,[{key:"render",value:function(){var e=this.props.value;return i.default.createElement("span",{style:{textAlign:"right"}},i.default.createElement("div",{title:e},e))}}]),b);function b(){return p(this,b),h(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}var w=(m(k,i.default.Component),r(k,[{key:"render",value:function(){var e=(0,d.default)(this.props.value),t="";if(e.isValid()){var n=void 0!==window.DWKitLang&&void 0!==window.DWKitLang.common&&null!=window.DWKitLang.common.dateFormat?window.DWKitLang.common.dateFormat:"L";t=e.format(n)}return i.default.createElement("span",{style:{textAlign:"right"}},i.default.createElement("div",{title:t},t))}}]),k);function k(){return p(this,k),h(this,(k.__proto__||Object.getPrototypeOf(k)).apply(this,arguments))}var E=(m(C,i.default.Component),r(C,[{key:"render",value:function(){var e=(0,d.default)(this.props.value),t="";if(e.isValid()){var n=void 0!==window.DWKitLang&&void 0!==DWKitLang.common&&null!=window.DWKitLang.common.dateFormat?window.DWKitLang.common.dateFormat+" "+(void 0!==window.DWKitLang.common.timeFormat?window.DWKitLang.common.timeFormat:"HH:mm"):"DD.MM.YYYY HH:mm";t=e.format(n)}return i.default.createElement("span",{style:{textAlign:"right"}},i.default.createElement("div",{title:t},t))}}]),C);function C(){return p(this,C),h(this,(C.__proto__||Object.getPrototypeOf(C)).apply(this,arguments))}var _=(m(O,i.default.Component),r(O,[{key:"render",value:function(){var e=(0,d.default)(this.props.value),t="";if(e.isValid()){var n=void 0!==window.DWKitLang&&void 0!==window.DWKitLang.common&&null!=window.DWKitLang.common.timeFormat?window.DWKitLang.common.timeFormat:"HH:mm";t=e.format(n)}return i.default.createElement("span",{style:{textAlign:"right"}},i.default.createElement("div",{title:t},t))}}]),O);function O(){return p(this,O),h(this,(O.__proto__||Object.getPrototypeOf(O)).apply(this,arguments))}var S=(m(x,i.default.Component),r(x,[{key:"isEditFormModal",value:function(){return"modal"===this.props.editFormShowType}},{key:"isEditFormSidebar",value:function(){return"sidebar"===this.props.editFormShowType}},{key:"isServerMode",value:function(){return x.staticIsServerMode(this.props)}},{key:"refresh",value:function(){if(this.isServerMode())this.setState({items:[],selectedIndexes:[],rowsCount:void 0});else{var e=Array.isArray(this.props.value)?x.staticGetSortedAndFilteredItems(this.props.value,this.state.filter,this.state.sort,this.props.defaultSort):[];this.setState({items:e,rowsCount:e.length,selectedIndexes:[],originalItems:this.props.value})}}},{key:"resetSelection",value:function(){this.setState({selectedIndexes:[]})}},{key:"render",value:function(){var e=this.props.className,t=a({},this.props.style),n=this.getGridPropsByPagerType(this.props.pagerType);return n.columns=this.getColumns(),n.rowKey=this.props.rowKey,void 0!==this.props.rowHeight&&""!==this.props.rowHeight&&(n.rowHeight=this.props.rowHeight),this.props.autoHeight?(t.minHeight=this.props.minHeight,void 0!==this.props.offSet&&""!==this.props.offSet?t.height="calc(100vh - "+this.props.offSet+")":t.height="100vh",e=(void 0===e?"":e+" ")+"dwkit-gridview-autoHeight"):void 0!==this.props.minHeight&&""!==this.props.minHeight&&(n.minHeight=this.props.minHeight),this.props.multiselect&&(n.rowSelection={onRowsSelected:this.onRowsSelected.bind(this),onRowsDeselected:this.onRowsDeselected.bind(this),selectBy:{indexes:this.state.selectedIndexes}}),i.default.createElement("div",{key:this.props.name,name:this.props.name,className:e,style:t},i.default.createElement(u.default,a({key:"grid"},n,{rowsCount:this.state.rowsCount,rowGetter:this.gridRowGetter.bind(this),onRowClick:this.gridOnRowClick.bind(this),onGridSort:this.handleGridSort.bind(this)})))}},{key:"getColumns",value:function(){var e=this,t=void 0;return(t=void 0===this.props.columns?[]:Array.isArray(this.props.columns)?this.props.columns:JSON.parse(this.props.columns)).forEach(function(t){null!==t.width&&""!==t.width&&void 0!==t.width&&(t.width=Number(t.width)),!1!==t.sortable&&(t.sortable=!e.props.disableSort),t.filterable=Boolean(e.props.filterRow),t.resizable=Boolean(t.resizable),"number"===t.type?t.formatter=y:"checkbox"===t.type?t.formatter=v:"date"===t.type?t.formatter=w:"time"===t.type?t.formatter=_:"datetime"===t.type?t.formatter=E:"custom"===t.type&&(t.getRowMetaData=function(e){return e},t.formatter=function(e){return null==t.customFormatter||"function"!=typeof t.customFormatter?"":t.customFormatter({row:e.dependentValues,value:e.value,column:t})})}),this.state.isrtl?t.reverse():t}},{key:"getGridPropsByPagerType",value:function(){var e={};return"server"===this.props.pagerType&&(void 0!==this.props.pageSize&&(this.state.pageSize=this.props.pageSize),e.rowRenderer=i.default.createElement(A,{error:this.props.error}),void 0===this.state.rowsCount&&(this.state.rowsCount=1)),e}},{key:"getSeletedRowKeys",value:function(){var r=this,a=[];return this.state.selectedIndexes.forEach(function(e){var t=r.gridRowGetter(e);if(void 0!==t){var n=void 0;null!==r.props.rowKey&&void 0!==r.props.rowKey&&t.hasOwnProperty(r.props.rowKey)&&(n=t[r.props.rowKey]),null!=n&&null!=n||(n=t.__id),null!=n&&a.push(n)}}),a}},{key:"gridRowGetter",value:function(e){if(!(e<0)){var t=this.props.pagerType;if("server"===t&&void 0===this.state.items[e]){var n=this.state.pageSize;this.loadPage(e,n)}return"server"===t?this.state.items[e]:a({},this.state.items[e])}}},{key:"getSort",value:function(){var e=this.state.sort;return""===e&&void 0!==this.props.defaultSort&&(e=this.props.defaultSort),e}},{key:"getFilters",value:function(){return void 0!==this.state.filter?this.state.filter.GetFilterAsObjects():[]}},{key:"loadPage",value:function(e,t){for(var i=this,n=0;n<t;n++)this.state.items[n+e]={__loading:!0};if(void 0===this.props.getAdditionalDataForControl)void 0!==console&&console.log("GridView: For paging on server need to set getAdditionalDataForControl func!");else{var r=this.getSort();this.props.getAdditionalDataForControl(this,{startIndex:e,pageSize:t,filters:this.getFilters(),sort:r},function(e){var t=e.sIndex,n=e.pSize,r=e.rowsCount,a=e.items;if(void 0===r||void 0===a)i.state.rowsCount=0,i.setState({rowsCount:0,items:[]});else{i.state.rowsCount=r;for(var o=0;o<n;o++)o<a.length?i.state.items[t+o]=a[o]:i.state.items[t+o]=void 0;i.forceUpdate()}})}}},{key:"gridOnRowClick",value:function(e,t){if(void 0!==t){var n=Date.now();void 0!==this.rowClickTime&&this.rowClickTime.rowIdx===e&&n-this.rowClickTime.time<=1e3?(this.rowClickTime=void 0,this.onRowDblClick(e,t)):(this.rowClickTime={rowIdx:e,time:n},void 0!==this.props.handleEvent&&this.props.handleEvent({key:this.props.name,eventName:"onRowClick",parameters:{rowIdx:e,row:t}}))}}},{key:"onRowDblClick",value:function(e,t){void 0!==this.props.handleEvent&&this.props.handleEvent({key:this.props.name,eventName:"onRowDblClick",parameters:{rowIdx:e,row:t}})}},{key:"onRowsSelected",value:function(e){this.state.selectedIndexes=this.state.selectedIndexes.concat(e.map(function(e){return e.rowIdx})),void 0!==this.props.handleEvent&&this.props.handleEvent({key:this.props.name,eventName:"onSelectionChanged",parameters:{selectedIndexes:this.state.selectedIndexes}}),this.forceUpdate()}},{key:"onRowsDeselected",value:function(e){var t=e.map(function(e){return e.rowIdx});this.state.selectedIndexes=this.state.selectedIndexes.filter(function(e){return-1===t.indexOf(e)}),void 0!==this.props.handleEvent&&this.props.handleEvent({key:this.props.name,eventName:"onSelectionChanged",parameters:{selectedIndexes:this.state.selectedIndexes}}),this.forceUpdate()}},{key:"handleGridSort",value:function(e,t){var n={};n.sort="NONE"===t?"":e+" "+t;var r=this.props.pagerType;n.items="server"===r?[]:x.staticGetSortedAndFilteredItems(this.props.value,this.state.filter,n.sort,this.props.defaultSort),n.selectedIndexes=[],this.setState(n)}},{key:"handleFilterChange",value:function(e){var t={},n=e.column.key,r="columnfilter_"+n;t.filter=void 0!==this.state.filter?this.state.filter:new c.FunctionalFilter([],this.props.columns.map(function(e){return e.key})),t.filter.RemoveFilter({name:n,id:r}),""!==e.filterTerm&&t.filter.AddFilter({names:[n],expected:e.filterTerm,term:c.FilterTerms.Like,id:r}),x.staticIsServerMode(this.props)?(t.items=[],t.selectedIndexes=[],t.rowsCount=void 0):(t.items=x.staticGetSortedAndFilteredItems(this.props.value,t.filter,this.state.sort,this.props.defaultSort),t.selectedIndexes=[],t.rowsCount=t.items.length),this.setState(t)}},{key:"onClearFilters",value:function(){this.setState({filter:this.props.filter})}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"componentDidMount",value:function(){this._isMounted=!0,this.recalcSizeParams()}},{key:"recalcSizeParams",value:function(){if(this._isMounted&&this.props.autoHeight){var e=$(window).height();this.setState({gridHeight:e-this.props.deltaHeight})}}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n,r,a=null;if(n=t.filter,r=e.filter,JSON.stringify(n)===JSON.stringify(r)){if(!x.staticIsServerMode(e)&&t.originalItems!==e.value){a={};var o=Array.isArray(e.value)?x.staticGetSortedAndFilteredItems(e.value,t.filter,t.sort,e.defaultSort):[];a.items=o,a.rowsCount=o.length,a.selectedIndexes=[],a.originalItems=e.value}}else if(a={filter:e.filter},x.staticIsServerMode(e))a.items=[],a.selectedIndexes=[],a.rowsCount=void 0;else{var i=Array.isArray(e.value)?x.staticGetSortedAndFilteredItems(e.value,e.filter,t.sort,e.defaultSort):[];a.items=i,a.selectedIndexes=[],a.rowsCount=i.length}return a}},{key:"staticIsServerMode",value:function(e){return"server"===e.pagerType}},{key:"staticGetSortedAndFilteredItems",value:function(e,t,n,r){var a=[];if(void 0===e)return a;a=void 0!==t?e.filter(function(e){return t.IsRowMatched(e)}):e;var o=n;if("NONE"===n||""===n){if(void 0===r)return a;o=r}var i=o.indexOf(" "),l=o.substring(0,i),s=o.substring(i+1,o.length);return a.slice(0).sort(function(e,t){var n=void 0!==e[l]&&null!==e[l]&&void 0!==e[l].toLowerCase?e[l].toLowerCase():e[l],r=void 0!==t[l]&&null!==t[l]&&void 0!==t[l].toLowerCase?t[l].toLowerCase():t[l];return n===r?0:null==n?1:null==r?-1:"ASC"===s?r<n?1:-1:"DESC"===s?n<r?1:-1:void 0})}}]),x);function x(e){p(this,x);var t=h(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,e));t.state={items:[],sort:"",defaultSort:e.defaultSort,filter:e.filter,pageSize:20,selectedIndexes:[],rowsCount:x.staticIsServerMode(e)?void 0:0};try{t.state.isrtl="rtl"==getComputedStyle(document.getElementsByTagName("html")[0]).direction}catch(e){}return t}t.default=S;var A=(m(D,i.default.Component),r(D,[{key:"setScrollLeft",value:function(e){this.row.setScrollLeft(e)}},{key:"getClassName",value:function(){var t=this;return this.props.row.__loading?"dwkit-gridview-rowloading":void 0!==this.props.row.__id&&null!==this.props.row.__id&&void 0!==this.props.error&&null!==this.props.error&&Array.isArray(this.props.error)&&void 0!==this.props.error.find(function(e){return e.__id===t.props.row.__id})?"dwkit-gridview-rowerror":""}},{key:"render",value:function(){var t=this;return i.default.createElement("div",{className:this.getClassName()},i.default.createElement(s.Row,a({ref:function(e){return t.row=e}},this.props)))}}]),D);function D(){return p(this,D),h(this,(D.__proto__||Object.getPrototypeOf(D)).apply(this,arguments))}},function(e,t){e.exports=d},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==ms(Symbol.iterator)?function(e){return void 0===e?"undefined":ms(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":ms(e)};function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o,i=(o=n(0))&&o.__esModule?o:{default:o},l=n(4),s=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":ms(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(u,i.default.Component),a(u.prototype,[{key:"componentDidMount",value:function(){this.redrawChart()}},{key:"shouldComponentUpdate",value:function(e){return!l(this.props,e)}},{key:"componentDidUpdate",value:function(){this.redrawChart()}},{key:"componentWillUnmount",value:function(){null!=this.state.chart&&this.state.chart.destroy()}},{key:"redrawChart",value:function(){if(null!=this.state.chart&&(this.state.chart.destroy(),this.state.chart=void 0),null==this.state.chart){var e=document.getElementById(this.getDivId()).getContext("2d"),t=this.getChartData(),n=void 0;if(null!=t&&Array.isArray(t.datasets)){var r=[];if(t.datasets.forEach(function(e){null!=e.yAxisID&&null!=e.yAxisID&&(r.includes(e.yAxisID)||r.push(e.yAxisID))}),0<r.length){n=[];for(var a=0;a<r.length;a++)a?n.push({type:"linear",display:!0,position:"right",id:r[a],gridLines:{drawOnChartArea:!1}}):n.push({type:"linear",display:!0,position:"left",id:r[a]})}}var o={type:this.props.chartType,data:t,options:{responsive:Boolean(this.props.responsive),legend:{position:this.props.legendPosition},title:{fontSize:null==this.props.titleSize?14:this.props.titleSize,display:null!=this.props.title&&""!=this.props.title,text:this.props.title}}};null!=n&&(o.options.scales={yAxes:n}),this.state.chart=new Chart(e,o)}else this.state.chart.update()}},{key:"getDivId",value:function(){return"dwkit-chart-"+this.props.name}},{key:"getChartData",value:function(){var e=[];try{e="string"==typeof this.props.value?JSON.parse(this.props.value):this.props.value}catch(e){console.log("Can't parse to JSON",this.props.value,this)}if(this.props.datasetCustom){var t=[];return null!=this.props.dataLabels&&(t=this.props.dataLabels.split(",")),{labels:t,datasets:[{label:this.props.datasetLabel,steppedLine:this.props.datasetSteppedLine,borderColor:this.props.datasetBorderColor,backgroundColor:this.props.datasetBackgroundColor,fill:this.props.datasetFill,borderWidth:this.props.datasetBorderWidth,data:e}]}}return this.copyObj(e)}},{key:"copyObj",value:function(e){if(null==e||"object"!=(void 0===e?"undefined":r(e)))return e;var t=e.constructor();for(var n in e)e.hasOwnProperty(n)&&(t[n]=this.copyObj(e[n]));return t}},{key:"render",value:function(){var e=this.props.style,t=null!=this.props.width?this.props.width:"400px";null!=e.width&&(t=e.width);var n=null!=this.props.height?this.props.height:"300px";null!=e.height&&(n=e.height),this.state.width==t&&this.state.height==n||null==this.state.chart||(this.state.chart.destroy(),this.state.chart=void 0),this.state.width=t,this.state.height=n;var r="field";return null!=this.props.className&&(r+=" "+this.props.className),i.default.createElement("div",{className:r,style:e},i.default.createElement("canvas",{id:this.getDivId(),width:t,height:n}))}}]),u);function u(e){!function(e){if(!(e instanceof u))throw new TypeError("Cannot call a class as a function")}(this);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":ms(t))&&"function"!=typeof t?e:t}(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,e));return t.state={},t}t.default=s},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o,i=(o=n(0))&&o.__esModule?o:{default:o},l=n(1),s=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":ms(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(u,i.default.Component),r(u.prototype,[{key:"componentDidMount",value:function(){this.isMount=!0}},{key:"componentWillUnmount",value:function(){this.isMount=!1}},{key:"checkGetAdditionalDataForControl",value:function(){var o=this;this.props.getAdditionalDataForControl||this.props.commands||this.props.states?this.props.getAdditionalDataForControl(this,{loadParameters:!this.props.blockLoadParameters},function(e){var t=e.commands,n=e.states,r=e.processExists,a=e.processParameters;o.setState({commands:t,states:n,processExists:r}),o.props.handleEvent&&o.props.handleEvent({key:o.props.name,eventName:"onReceivedCommands",parameters:{commands:t,states:n,processParameters:a}}),o.isMount&&o.forceUpdate()}):console&&console.log("WorkflowBar: This control requres getAdditionalDataForControl or commands and states not undefined parameters!")}},{key:"renderCommands",value:function(e){if(this.props.blockCommands)return null;if(!this.props.blockSelectScheme&&!this.props.selectedScheme&&1<this.props.schemes.length)return null;if(Array.isArray(e)&&0<e.length){var n=this,r=[];return e.forEach(function(e){var t={};1==e.type?t.primary=!0:2==e.type&&(t.secondary=!0),r.push(i.default.createElement(l.Button,a({},t,{key:e.value,onClick:n.onCommand.bind(n,e)}),e.text))}),r}}},{key:"renderSetState",value:function(e){if(!this.props.blockSetState&&Array.isArray(e)&&0<e.length){var t=null==this.state.setstate||""==this.state.setstate,n="Set state";return null!=this.props.setStateButton&&""!=this.props.setStateButton?n=this.props.setStateButton:window.DWKitAdminLang&&window.DWKitAdminLang.workflowbar&&(n=window.DWKitAdminLang.workflowbar.setstate),[i.default.createElement(l.Dropdown,{key:"setstate",name:"setstate",className:"setstate",placeholder:"States",options:e,onChange:this.handleChanged,selection:!0,search:!0}),i.default.createElement(l.Button,{key:"btnsetstate",disabled:t,onClick:this.onSetState.bind(this)},n)]}}},{key:"renderSelectScheme",value:function(){if(this.state.processExists||this.props.blockSelectScheme||this.props.schemes.length<=1)return null;var e="Select scheme";this.props.selectSchemeDropdown?e=this.props.selectSchemeDropdown:window.DWKitAdminLang&&window.DWKitAdminLang.workflowbar&&window.DWKitAdminLang.workflowbar.selectscheme&&(e=window.DWKitAdminLang.workflowbar.startworkflow);var t=[];return t.push({value:null,text:""}),this.props.schemes.forEach(function(e){return t.push({value:e,text:e})}),i.default.createElement(l.Dropdown,{key:"setstate",name:"setstate",className:"setstate",options:t,placeholder:e,onChange:this.selectWorkflowScheme,selection:!0,search:!0,value:this.props.selectedScheme})}},{key:"onCommand",value:function(e){null!=this.props.handleEvent&&this.props.handleEvent({key:this.props.name,eventName:"onCommandClick",parameters:{command:e}})}},{key:"onSetState",value:function(){if(null!=this.props.handleEvent){for(var e=null!=this.state.states?this.state.states:this.props.states,t=void 0,n=0;n<e.length;n++)if(e[n].value==this.state.setstate){t=e[n];break}this.props.handleEvent({key:this.props.name,eventName:"onSetStateClick",parameters:{state:t}})}}},{key:"render",value:function(){var t=this,e="dwkit-workflowbar";this.props.className&&(e+=" "+this.props.className);var n=this.props.style,r=this.state.commands?this.state.commands:this.props.commands;this.props.selectedScheme&&r&&(r=r.filter(function(e){return e.scheme===t.props.selectedScheme}));var a=this.state.states?this.state.states:this.props.states;return i.default.createElement("div",{className:e,style:n},i.default.createElement("div",{className:"dwkit-workflowbar-items"},this.renderSelectScheme(),this.renderCommands(r),this.renderSetState(a)))}}]),u);function u(e){!function(e){if(!(e instanceof u))throw new TypeError("Cannot call a class as a function")}(this);var l=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":ms(t))&&"function"!=typeof t?e:t}(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,e));return l.selectWorkflowScheme=function(e,t){var n=t.value;l.props.handleEvent({key:l.props.name,eventName:"onSchemeSelected",parameters:{scheme:n}})},l.handleChanged=function(e,t){var n,r,a,o=t.name,i=t.value;l.setState((a=i,(r=o)in(n={})?Object.defineProperty(n,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[r]=a,n))},l.state={commands:e.commands,states:e.states,processExists:e.processExists},l.checkGetAdditionalDataForControl(),l}t.default=s},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o,i,l,s=(o=n(0))&&o.__esModule?o:{default:o},u=n(1),c=n(4),v=n(9),d=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":ms(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(f,s.default.Component),l=[{key:"getDerivedStateFromProps",value:function(e,t){return e.dataModel!==t.dataModel?{getAdditionalDataForControl:e.getAdditionalDataForControl,dataModel:e.dataModel,needFetch:!0,needValueFetch:!0,filters:e.filters}:e.paging&&e.value!==t.value&&void 0!==e.value?{needValueFetch:!0,value:e.value}:e.filters!=t.filters?{needFetch:!0,filters:e.filters}:null}}],r((i=f).prototype,[{key:"componentDidMount",value:function(){this.GetAdditionalData()}},{key:"shouldComponentUpdate",value:function(e,t){return!c(this.state,t)||!c(this.props,e)}},{key:"componentDidUpdate",value:function(e,t){this.GetAdditionalData()}},{key:"GetAdditionalData",value:function(){var r=this;if(void 0===this.state.dataModel)void 0!==console&&!0===this.props.buildermode&&console.log("Dictionary: Set DataModel label!");else if(void 0===this.state.getAdditionalDataForControl)void 0!==console&&!0===this.props.buildermode&&console.log("Dictionary: For paging on server need to set getAdditionalDataForControl func!");else if(this.state.needFetch){var a=this,e={model:this.state.dataModel,filters:this.state.filters};this.props.paging&&(e.startIndex=0,e.pageSize=this.pageSize),this.state.isFetching=!0,this.state.needFetch=!1,this.state.getAdditionalDataForControl(this,e,function(e){var t=e.items,n=e.rowsCount;a.setData({items:t,rowsCount:n,page:0},!0),r.state.needValueFetch&&(r.state.needValueFetch=!1,r.loadCurrentValue())})}else this.state.needValueFetch&&(this.state.needValueFetch=!1,this.loadCurrentValue())}},{key:"render",value:function(){var e=this,t={};for(var n in this.props)"parentIsForm"!==n&&"getAdditionalDataForControl"!==n&&"dataModel"!==n&&"clearable"!==n&&"columns"!==n&&"paging"!==n&&"pageSize"!==n&&"handleEvent"!==n&&(t[n]=this.props[n]);if(this.props.readOnly&&(t.disabled=!0),t.options=this.state.options,t.onChange=this.onChange.bind(this),this.props.paging&&(t.onSearchChange=this.handleSearchChange.bind(this),t.onClose=this.onClose.bind(this),null!=this.state.open&&(this.state.open?t.open=!0:(t.open=!1,this.state.open=void 0,setTimeout(function(){e.forceUpdate()})))),t.multiple&&(void 0!==t.value&&null!==t.value||(t.value=[]),Array.isArray(t.value)||(t.value=this.getArrayValues(t.value))),t.loading=this.state.isFetching,t.searchQuery=this.state.searchQuery,this.props.parentIsForm)return s.default.createElement(u.Form.Dropdown,a({},t,{error:null!=t.error&&null!=t.error}));var r="ui labeled input";return this.props.fluid&&(r+=" fluid"),this.props.error&&(r+=" error"),this.props.className&&(r+=" "+this.props.className),s.default.createElement("div",{className:r},this.props.label&&s.default.createElement("div",{className:"ui label label"},this.props.label),s.default.createElement(u.Dropdown,a({},t,{error:null!=t.error&&null!=t.error})))}},{key:"onChange",value:function(e,t){var n=this,r=(t.name,t.value),a=!1;if(this.props.multiple){if(Array.isArray(r)){var o=!1;new Array,r.forEach(function(e){"string"==typeof e&&0===e.lastIndexOf("__load",0)&&(o=!0)}),o&&(a=!0)}}else"string"==typeof r&&0===r.lastIndexOf("__load",0)&&(a=!0);a?(this.state.open=!0,this.setState({isFetching:!0}),this.loadNextPage(),r=this.props.value):null!=this.state.open&&(this.state.open=!1);var i=null;if(Array.isArray(r))i=new Array,r.forEach(function(t){if("string"==typeof t&&0===t.lastIndexOf("__load",0)){var e=n.state.options.filter(function(e){return e.key===t});0<e.length&&i.push(e[0].values)}});else{var l=this.state.options.filter(function(e){return e.key===r});if(0<l.length)i=l[0].values;else{var s=this.getCollumnsForFilter();s&&(i={},s.split(",").forEach(function(e){i[e]=null}))}}this.props.handleEvent&&this.props.handleEvent({syntheticEvent:e,key:this.props.name,eventName:"onChange",name:this.props.name,propertyName:this.props.propertyName,value:r,additionalValues:i})}},{key:"onClose",value:function(){1!=this.state.open&&this.state.searchQuery?(this.state.isFetching=!0,this.state.searchQuery="",this.state.lastLoadPage=-1,this.loadNextPage(!0)):!1===this.state.open&&this.forceUpdate()}},{key:"handleSearchChange",value:function(e,t){var n=t.searchQuery,r=this;setTimeout(function(){r.setState({isFetching:!0,searchQuery:n,lastLoadPage:-1}),r.loadNextPage(!0)},100)}},{key:"loadNextPage",value:function(r){var a=this,e={model:this.state.dataModel},o=this.state.lastLoadPage+1;a.state.searchQuery&&(e.filters=[{column:this.getCollumnsForFilter(),term:"like",value:a.state.searchQuery}]),e.startIndex=o*this.pageSize,e.pageSize=this.pageSize,this.state.getAdditionalDataForControl(this,e,function(e){var t=e.items,n=e.rowsCount;a.setData({items:t,rowsCount:n,page:o},r),r&&a.loadCurrentValue()})}},{key:"setData",value:function(e,t){var n=e.items,r=e.rowsCount,a=e.page,o=void 0;if(t){if(r>(o=v(n)).length){var i=(null!=this.state.searchQuery?this.state.searchQuery:"")+"...";o.push({key:"__load",value:"__load",text:i})}if(this.props.clearable&&!this.props.multiple&&o.unshift({key:"__reset",value:"",text:"   "}),this.props.multiple)for(var l=this.getArrayValues(this.props.value),s=0;s<l.length;s++)for(var u=l[s],c=0;c<this.state.options.length;c++){var d=this.state.options[c];u==d.value&&o.unshift(d)}}else{var f=void 0;0<(o=this.state.options).length&&"__load"===o[o.length-1].key&&((f=o.pop()).value="__load_"+a);for(var p=0;p<n.length;p++){for(var h=n[p],m=0;m<o.length;m++)if(o[m].key===h.key){o.splice(m,1);break}o.push(h)}void 0!==f&&r>o.length&&o.push(f)}this.setState({needFetch:!1,options:o,rowsCount:r,isFetching:!1,lastLoadPage:a})}},{key:"getArrayValues",value:function(e){var t=e;if(!Array.isArray(t)){var n=void 0;try{n=JSON.parse(t)}catch(e){}Array.isArray(n)||(n=[t]),t=n}return t}},{key:"loadCurrentValue",value:function(){var n=this;if(this.props.value)if(this.props.multiple){for(var e=this.getArrayValues(this.props.value),t=[],r=0;r<e.length;r++){for(var a=e[r],o=!1,i=0;i<this.state.options.length;i++)if(this.state.options[i].value==a){o=!0;break}o||t.push(a)}if(0<t.length){var l={model:this.state.dataModel};l.filters=[{column:"__id",term:"in",value:t}],this.state.isFetching=!0,this.state.getAdditionalDataForControl(this,l,function(e){var t=e.items;n.addAdditionalOptions(t)})}}else{for(var s=!1,u=0;u<this.state.options.length;u++)if(this.state.options[u].value==this.props.value){s=!0;break}if(!s){var c={model:this.state.dataModel};c.filters=[{column:"__id",term:"=",value:n.props.value}],this.state.isFetching=!0,this.state.getAdditionalDataForControl(this,c,function(e){var t=e.items;n.addAdditionalOptions(t)})}}}},{key:"addAdditionalOptions",value:function(e){if(this.state.isFetching=!1,Array.isArray(e)&&e.length){for(var t=this.state.options,n=e.length-1;0<=n;n--){for(var r=!1,a=0;a<t.length;a++)if(t[a].key==e[n].key){r=!0;break}r||t.unshift(e[n])}this.forceUpdate()}}},{key:"getCollumnsForFilter",value:function(){if(this.props.columns){var e=new RegExp(" asc","gi"),t=this.props.columns.replace(e,"");return e=new RegExp(" desc","gi"),t=t.replace(e,""),e=new RegExp(" ","gi"),t.replace(e,"")}}}]),r(i,l),f);function f(e){!function(e){if(!(e instanceof f))throw new TypeError("Cannot call a class as a function")}(this);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":ms(t))&&"function"!=typeof t?e:t}(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,e));return t.state={options:[],value:t.props.value},t.pageSize=e.pageSize,t.pageSize||(t.pageSize=100),t}t.default=d},function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var a,o=(a=n(0))&&a.__esModule?a:{default:a};n(1);var i=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":ms(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(l,o.default.Component),r(l.prototype,[{key:"render",value:function(){return o.default.createElement("div",this.props)}}]),l);function l(e){!function(e){if(!(e instanceof l))throw new TypeError("Cannot call a class as a function")}(this);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":ms(t))&&"function"!=typeof t?e:t}(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,e));return t.state={},t}t.default=i},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o,i=(o=n(0))&&o.__esModule?o:{default:o},l=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":ms(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(s,i.default.Component),a(s.prototype,[{key:"render",value:function(){var e={name:this.props.name,className:this.props["style-customcss"],style:this.props.style,"data-buildertype":this.props["data-buildertype"]};if(this.props.isHtml)return i.default.createElement("span",r({},e,{dangerouslySetInnerHTML:{__html:this.props.content}}));var t=null!=this.props.content?this.props.content.replace("\n","<br/>"):void 0;return i.default.createElement("span",e,t)}}]),s);function s(e){!function(e){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":ms(t))&&"function"!=typeof t?e:t}(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,e));return t.state={},t}t.default=l},function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var a=u(n(0)),l=u(n(5)),o=u(n(6)),i=u(n(3)),s=n(1);function u(e){return e&&e.__esModule?e:{default:e}}var c=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":ms(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(d,a.default.Component),r(d.prototype,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.updateBarPosition.bind(this)),this.updateBarPosition()}},{key:"componentDidUpdate",value:function(){this.updateBarPosition()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateBarPosition.bind(this))}},{key:"updateBarPosition",value:function(){if(this.controlRef&&this.controlRef.current&&this.barRef&&this.barRef.current){var e=l.default.findDOMNode(this.controlRef.current),t=l.default.findDOMNode(this.barRef.current),n=$(e).position(),r=e.getBoundingClientRect(),a=t.getBoundingClientRect(),o=n.left+r.width-a.width;o<15&&(o=15);var i=n.top-a.height/2;t.style.transform="translate3d("+o+"px, "+i+"px, 0)"}}},{key:"render",value:function(){var e=a.default.createElement("div",{key:"bar",ref:this.barRef,style:{position:"absolute",right:"auto",willChange:"transform",top:"0px",left:"0px"},className:"dwkit-formbuilder-item-toolbar-header",onMouseOver:this.onMouseOver.bind(this),onMouseLeave:this.onMouseLeave.bind(this)},a.default.createElement("div",{className:"dwkit-formbuilder-item-toolbar-header-buttons"},a.default.createElement("div",{className:"dwkit-formbuilder-item-toolbar-header-title",title:this.props.text,onDoubleClick:this.onCopyControl.bind(this,this.props.model)},this.props.model.key),a.default.createElement(s.Icon,{key:"move",draggable:!0,onDragStart:this.onDragStart.bind(this,this.props.model),onDragEnd:this.onDragEnd.bind(this,this.props.model),link:!0,name:"move"}),a.default.createElement(s.Icon,{key:"edit",onClick:this.props.onEdit.bind(this.props.parent,this.props.model),link:!0,name:"edit"}),a.default.createElement(s.Icon,{key:"copy",onClick:this.props.onCopy.bind(this.props.parent,this.props.model),link:!0,name:"copy"}),a.default.createElement(s.Icon,{key:"delete",onClick:this.props.onDelete.bind(this.props.parent,this.props.model),link:!0,name:"delete"})));return[a.default.cloneElement(this.props.control,{ref:this.controlRef}),e]}},{key:"onDragStart",value:function(e,t){var n=".dwkit-formbuilder-zone";if(t.dataTransfer.setData("text",""),this.controlRef.current){var r=l.default.findDOMNode(this.controlRef.current),a=r.getBoundingClientRect();t.dataTransfer.setDragImage(r,a.width/2,0)}if(null!=e.forContainerType){var o=e.forContainerType.split(","),i="";o.forEach(function(e){0<i.length&&(i+=","),i+="[data-buildertype='"+e+"'] > "+n}),n=i}$(n).addClass("dwkit-formbuilder-zone-active").on("dragenter",this.onTargetDragEnter.bind(this,e,"dwkit-formbuilder-zone-select")).on("dragleave",this.onTargetDragLeave.bind(this,e,"dwkit-formbuilder-zone-select")).on("dragover",function(e){e.preventDefault()}).on("drop",this.onDrop.bind(this,e))}},{key:"onTargetDragEnter",value:function(e,t,n){$(n.target).addClass(t)}},{key:"onTargetDragLeave",value:function(e,t,n){$(n.target).removeClass(t)}},{key:"onDragEnd",value:function(e){var t=$(".dwkit-formbuilder-zone");t.removeClass("dwkit-formbuilder-zone-active"),t.removeClass("dwkit-formbuilder-zone-select"),t.off()}},{key:"onDrop",value:function(e,t){var n=$(t.target);return 0<n.length&&o.default.move(e.key,n[0]),this.onDragEnd(e),!1}},{key:"onMouseOver",value:function(e){if(this.controlRef.current)var t=l.default.findDOMNode(this.controlRef.current);t&&$(t).addClass("dwkit-formbuilder-item-selected")}},{key:"onMouseLeave",value:function(e){if(this.controlRef.current)var t=l.default.findDOMNode(this.controlRef.current);t&&$(t).removeClass("dwkit-formbuilder-item-selected")}},{key:"onCopyControl",value:function(e,t){var n=i.default.stringify(e),r=document.createElement("textarea");r.value=n,r.setAttribute("readonly",""),r.style.position="absolute",r.style.left="-9999px",document.body.appendChild(r);var a=0<document.getSelection().rangeCount&&document.getSelection().getRangeAt(0);r.select(),document.execCommand("copy"),document.body.removeChild(r),a&&(document.getSelection().removeAllRanges(),document.getSelection().addRange(a))}}]),d);function d(e){!function(e){if(!(e instanceof d))throw new TypeError("Cannot call a class as a function")}(this);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":ms(t))&&"function"!=typeof t?e:t}(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,e));return t.controlRef=a.default.createRef(),t.barRef=a.default.createRef(),t}t.default=c},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o,i=(o=n(0))&&o.__esModule?o:{default:o},l=n(1),s=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":ms(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(u,i.default.Component),r(u.prototype,[{key:"render",value:function(){var r={};for(var e in this.props)"imageUrl"!=e&&"defaultValue"!=e&&"value"!=e&&"handleEvent"!=e&&"items"!=e&&"propertyName"!=e&&(r[e]=this.props[e]);return r.options=[],this.props.items.forEach(function(e){var t=!1;if(void 0!==e.visibleCondition&&null!==e.visibleCondition&&""!==e.visibleCondition){var n="return "+e.visibleCondition;try{new Function("",n)()||(t=!0)}catch(e){}}t||r.options.push({value:e.target,text:e.title,target:e.target})}),r.value="",r.onChange=this.onChange,r.trigger=i.default.createElement("span",null,null!=this.props.imageUrl&&i.default.createElement(l.Image,{avatar:!0,src:this.props.imageUrl})," ",null!=this.props.value?this.props.value:this.props.defaultValue),i.default.createElement(l.Dropdown,a({},r,{onMouseDown:this.onMouseDown}))}}]),u);function u(e){!function(e){if(!(e instanceof u))throw new TypeError("Cannot call a class as a function")}(this);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":ms(t))&&"function"!=typeof t?e:t}(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,e));return r.onChange=function(e,t){t.name;var n=t.value;1!=r.state.opendialog?null!=r.props.handleEvent&&r.props.handleEvent({e:e,key:r.props.name,propertyName:r.props.propertyName,eventName:"onItemClick",parameters:{target:n}}):r.state.opendialog=!1},r.onMouseDown=function(e){r.state.opendialog=!Boolean(r.state.opendialog)},r.state={},r}t.default=s},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var E=a(n(0)),C=n(1),_=a(n(13)),O=a(n(3)),S=a(n(17));function a(e){return e&&e.__esModule?e:{default:e}}var x=n(9),o=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":ms(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,E.default.Component),r(i.prototype,[{key:"render",value:function(){var a=this,o=this,i={};for(var e in this.props)"additionalParams"!==e&&"items"!==e&&"propertyName"!==e&&(i[e]=this.props[e]);var t,n=this.props.additionalParams.model,r=this.props.additionalParams.data,l=this.props.additionalParams.errors,s=this.props.additionalParams.children,u=this.props.additionalParams.parentItem,c=this.props.additionalParams.handleEvent,d=n["data-buildertype"];if("header"===d)t=E.default.createElement(C.Header,k({},i,{textAlign:n.textAlign,size:n.size,content:this.props.content,subheader:this.props.subheader}));else if("button"===d)i.floated=n.floated,i.size=""!==n.size?n.size:null,i.content=this.props.content,i.basic=n.basic,i.circular=n.circular,i.compact=n.compact,i.disabled=n.disabled,i.fluid=n.fluid,i.primary=n.primary,i.secondary=n.secondary,n.icon&&(i.icon=n.icon),void 0!==c&&(i.onClick=function(e){return c({syntheticEvent:e,key:i.name,eventName:"onClick"})}),t=this.isForm(u)?E.default.createElement(C.Form.Button,i):E.default.createElement(C.Button,i);else if("label"===d)t=E.default.createElement(C.Label,k({},i,{size:n.size,content:this.props.content,attached:n.attached,basic:n.basic,circular:n.circular,corner:n.corner,floating:n.floating,pointing:n.pointing}));else if("message"===d)t=E.default.createElement(C.Message,k({},i,{floated:n.floated,size:n.size,content:this.props.content,compact:n.compact,error:n.error,floating:n.floating,info:n.info,negative:n.negative,positive:n.positive,success:n.success,warning:n.warning,header:this.props.header}));else if("input"===d)i.defaultValue=n.defaultvalue,i.size=n.size,null!=n.label&&""!=n.label&&(i.label=n.label),i.labelPosition=n.labelPosition,i.placeholder=n.placeholder,i.type=n.type,i.disabled=n.disabled,i.transparent=n.transparent,i.fluid=n.fluid,i.readOnly=n.readOnly||this.props.readOnly,null!=c&&(i.onChange=function(e,t){var n=t.name,r=t.value;c({syntheticEvent:e,key:i.name,propertyName:o.props.propertyName,eventName:"onChange",name:n,value:"number"===i.type?Number(r):r})}),null==i.value&&(i.value=""),i.error=Boolean(this.props.error),t="file"===i.type?(i.isForm=this.isForm(u),E.default.createElement(_.default,k({},i,{downloadUrl:this.props.additionalParams.downloadUrl,uploadUrl:this.props.additionalParams.uploadUrl}))):"date"===i.type||"time"===i.type||"datetime"===i.type?(i.isForm=this.isForm(u),E.default.createElement(S.default,i)):this.isForm(u)?E.default.createElement(C.Form.Input,i):E.default.createElement(C.Input,i);else if("textarea"===d){if(delete i.autoHeight,i.placeholder=n.placeholder,i.rows=null!==n.rows&&void 0!==n.rows?Number(n.rows):void 0,void 0!==n.label&&""!==n.label&&(i.label=n.label),i.readOnly=n.readOnly||this.props.readOnly,null!==c&&(i.onChange=function(e,t){var n=t.name,r=t.value;c({syntheticEvent:e,key:i.name,propertyName:o.props.propertyName,eventName:"onChange",name:n,value:r})}),null==i.value&&(i.value=""),!this.isForm(u)){var f="ui labeled input";return i.fluid&&(f+=" fluid"),i.error&&(f+=" error"),null==this.props.className&&""==this.props.className||(f+=" "+this.props.className),E.default.createElement("div",{className:f},i.label&&E.default.createElement("div",{className:"ui label label"},i.label),E.default.createElement(C.TextArea,i))}t=E.default.createElement(C.Form.TextArea,i)}else if("checkbox"===d)void 0!==n.label&&""!==n.label&&(i.label=n.label),i.placeholder=n.placeholder,i.type=n.type,i.disabled=n.disabled,i.fitted=n.fitted,i.indeterminate=n.indeterminate,i.readOnly=n.readOnly||this.props.readOnly,i.slider=n.slider,i.toggle=n.toggle,null!==c&&(i.onChange=function(e,t){var n=t.name,r=t.checked;c({syntheticEvent:e,key:i.name,propertyName:o.props.propertyName,eventName:"onChange",name:n,value:r})}),void 0!==r&&("boolean"==typeof variable?i.checked=r[i.name]:"true"===r[i.name]||"1"===r[i.name]?i.checked=!0:"false"===r[i.name]||"0"===r[i.name]?i.checked=!1:i.checked=Boolean(r[i.name])),l&&void 0!==l[n.key]&&1==Boolean(l[n.key])&&(null==i.className||""==i.className?i.className="error":i.className+=" error"),t=this.isForm(u)?E.default.createElement(C.Form.Checkbox,i):E.default.createElement(C.Checkbox,i);else if("dropdown"===d){var p=[];if(void 0!==n["data-elements"]&&(p=Array.isArray(n["data-elements"])?n["data-elements"]:O.default.parse(n["data-elements"])),void 0!==n.label&&""!==n.label&&(i.label=n.label),n.clearable&&!n.multiple&&(p=x(p)).unshift({key:"__reset",value:"",text:"   "}),i.defaultValue=n.defaultvalue,i.placeholder=n.placeholder,i.options=p,i.fluid=n.fluid,i.selection=n.selection,i.multiple=n.multiple,i.search=n.search,i.disabled=n.disabled||n.readOnly||this.props.readOnly,l&&void 0!==l[n.key]&&(i.error=Boolean(i.error)),null!==c&&(i.onChange=function(e,t){var n=t.name,r=t.value;c({syntheticEvent:e,key:i.name,propertyName:o.props.propertyName,eventName:"onChange",name:n,value:r})}),i.allowAdditions=n.allowAddItems,i.allowAdditions&&(i.onAddItem=function(e,t){var n=t.value,r=x(i.value);Array.isArray(r)?r.includes(n)||r.push(n):r=[n],i.onChange(e,{name:i.name,value:r})}),i.multiple){if(void 0!==i.value&&null!==i.value||(i.value=[]),!Array.isArray(i.value)){var h=void 0;try{h=O.default.parse(i.value)}catch(e){}Array.isArray(h)||(h=[i.value]),i.value=h}i.allowAdditions&&this.dropdownCheckAdditional(i.value,i.options)}if(!this.isForm(u)){var m="ui labeled input";return i.fluid&&(m+=" fluid"),i.error&&(m+=" error"),null==this.props.className&&""==this.props.className||(m+=" "+this.props.className),E.default.createElement("div",{className:m},i.label&&E.default.createElement("div",{className:"ui label label"},i.label),E.default.createElement(C.Dropdown,i))}t=E.default.createElement(C.Form.Dropdown,i)}else if("statistic"===d){var v=[];void 0!==n["data-elements"]&&(v=Array.isArray(n["data-elements"])?n["data-elements"]:O.default.parse(n["data-elements"])),t=E.default.createElement(C.Statistic.Group,k({},i,{floated:n.floated,horizontal:n.horizontal,size:n.size,items:v}))}else if("image"===d)t=E.default.createElement(C.Image,k({},i,{avatar:n.avatar,bordered:n.bordered,centered:n.centered,disabled:n.disabled,inline:n.inline,href:this.props.href,src:this.props.src,floated:n.floated,shape:n.shape,spaced:n.spaced,verticalAlign:n.verticalAlign,height:n.height,width:n.width}));else if("form"===d)t=E.default.createElement(C.Form,k({},i,{children:s,size:n.size}));else if("formgroup"===d){var g=n.widths;"custom"===g&&(g=n.widthsCustom),"grouped"==n.orientation&&(i[n.orientation]=!0),t="field"==n.orientation?E.default.createElement(C.Form.Field,k({},i,{children:s})):E.default.createElement(C.Form.Group,k({},i,{widths:g,children:s}))}else if("breadcrumb"===d){var y=[];if(Array.isArray(this.props.items))for(var b=function(e){var n=a.props.items[e],t={key:e};if(t.active=n.active,t.href=n.url,null!==c&&(t.onClick=function(e,t){t.name,t.checked,c({syntheticEvent:e,key:i.name,eventName:"onItemClick",parameters:{target:n.url}}),e.preventDefault()}),y.push(E.default.createElement(C.Breadcrumb.Section,t,void 0===n.text?"<not set>":n.text)),e<a.props.items.length-1){var r={key:e+"_d"};""!==n.divider&&(r.icon=n.divider),y.push(E.default.createElement(C.Breadcrumb.Divider,r))}},w=0;w<this.props.items.length;w++)b(w);t=E.default.createElement(C.Breadcrumb,k({},i,{children:y}))}else t=E.default.createElement("span",null,"Unknow type '",d,"' of '",this.props.name,"' element.");return t}},{key:"isForm",value:function(e){return null!=e&&("form"===e["data-buildertype"]||"formgroup"===e["data-buildertype"])}},{key:"dropdownCheckAdditional",value:function(e,r){Array.isArray(e)&&e.forEach(function(e){for(var t=!1,n=0;n<r.length;n++)if(e===r[n].value){t=!0;break}0==t&&r.push({value:e,text:e})})}}]),i);function i(e){return function(e){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":ms(t))&&"function"!=typeof t?e:t}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,e))}t.default=o},function(e,t){e.exports=f},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o,i=(o=n(0))&&o.__esModule?o:{default:o},l=n(1),s=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":ms(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(u,i.default.Component),a(u.prototype,[{key:"render",value:function(){var e={};for(var t in this.props)"value"!==t&&"handleEvent"!==t&&(e[t]=this.props[t]);return i.default.createElement(l.Search,r({},e,{fluid:!0,loading:this.state.isLoading,onResultSelect:this.handleResultSelect.bind(this),onSearchChange:this.handleSearchChange.bind(this),results:this.state.results,value:this.state.value}))}},{key:"resetSearch",value:function(){this.setState({isLoading:!1,results:[]})}},{key:"handleResultSelect",value:function(e,t){var n=t.result;void 0!==this.props.handleEvent&&this.props.handleEvent({key:this.props.name,propertyName:this.props.propertyName,eventName:"onSelect",parameters:n})}},{key:"handleSearchChange",value:function(e,t){var n=t.value,r=this;r.setState({isLoading:!0,value:n}),setTimeout(function(){if(null===r.state.value||void 0===r.state.value||r.state.value.length<2)return r.resetSearch();r.search(r.state.value)},200)}},{key:"search",value:function(e){var t=this,n=this.props.url;n+=this.props.url.includes("?")?"&":"?",n+="term="+e,fetch(n,{credentials:"same-origin"}).then(function(e){return e.json()}).then(function(e){t.setState({isLoading:!1,results:e})}).catch(function(e){null==console?alert(e):console.error(e)})}}]),u);function u(e){!function(e){if(!(e instanceof u))throw new TypeError("Cannot call a class as a function")}(this);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":ms(t))&&"function"!=typeof t?e:t}(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,e));return t.state={value:""},t}t.default=s},function(e,t,n){function r(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}Object.defineProperty(t,"__esModule",{value:!0});var f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var p=n(1),o=n(0),h=u(o),i=u(n(5)),l=u(n(52)),s=u(n(53));function u(e){return e&&e.__esModule?e:{default:e}}var c=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":ms(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(d,o.Component),r(d,null,[{key:"getDerivedStateFromProps",value:function(e,t){return e.dataModel!==t.dataModel?{getAdditionalDataForControl:e.getAdditionalDataForControl,dataModel:e.dataModel,needFetch:!0,needValueFetch:!0}:e.paging&&e.value!==t.value&&void 0!==e.value?{needValueFetch:!0,value:e.value}:null}}]),r(d,[{key:"componentDidMount",value:function(){this.widget=$(i.default.findDOMNode(this)),this.nodes=[],this.tabs={},this.picked=[],this.opened=[],this.checkFetch()}},{key:"componentDidUpdate",value:function(e,t){this.checkFetch()}},{key:"checkFetch",value:function(){this.state.needFetch?this.getAdditionalData(null):this.state.needValueFetch&&this.loadCurrentValue()}},{key:"getNodeById",value:function(t){var e=this.recursiveNodeSearch(this.nodes,function(e){return""+e.id==""+t});return e.length?e[0]:null}},{key:"getPicked",value:function(){var e=[];return this.props.multiple?this.getArrayValues(this.props.value):(this.props.value&&e.push(this.props.value),e)}},{key:"updatePickedNodes",value:function(e){if(e){var t=function(t){return function(e){return""+e.id==""+t}},n=!0,r=!(this.picked=[]),a=void 0;try{for(var o,i=e[Symbol.iterator]();!(n=(o=i.next()).done);n=!0){var l=o.value,s=this.recursiveNodeSearch(this.nodes,t(l));s.length&&this.picked.push(s[0])}}catch(e){r=!0,a=e}finally{try{!n&&i.return&&i.return()}finally{if(r)throw a}}}}},{key:"initializeNodes",value:function(e){var t=this.renderTree(e,this.state.rowsCount,null,0,{height:"400px",overflowY:"scroll"});return this.tabs.tree.html(t),this.initializeNodeList(t)}},{key:"recursiveNodeSearch",value:function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=Array.from(e)[Symbol.iterator]();!(r=(i=l.next()).done);r=!0){var s=i.value;t(s)&&n.push(s),s[this.props.childrenKey]&&s[this.props.childrenKey].length&&(n=n.concat(this.recursiveNodeSearch(s[this.props.childrenKey],t)))}}catch(e){a=!0,o=e}finally{try{!r&&l.return&&l.return()}finally{if(a)throw o}}return n}},{key:"renderTree",value:function(e,t,n,r,a){var o,i,l,s;a=a||{};var u=$('<div class="ui tree-picker tree"></div>').css(a);for(l=0,s=e.length;l<s;l++){o=e[l];var c=this.opened.includes(o.id)?" opened":"";this.props.hidden(o)||(i=$('<div class="node'+c+'" data-id="'+o.id+'" data-name="'+o.name+'">\n    <div class="head">\n        <i class="add circle icon"></i>\n        <i class="minus circle icon"></i>\n        <i class="radio icon"></i>\n        <a class="name">'+o.name+'</a>\n        <i class="checkmark icon"></i>\n    </div>\n    <div class="content'+c+'"></div>\n</div>').appendTo(u),this.props.disabledClause(o)&&i.addClass("disabled"),o[this.props.childrenKey]&&o[this.props.childrenKey].length?$(".content",i).append(this.renderTree(o[this.props.childrenKey],o.rowsCount,o.id,0)):o.hasChild||i.addClass("childless"))}return this.props.paging&&e.length+r<t&&$('<div class="node pager" data-parent-id="'+n+'" data-start-index="'+(e.length+r)+'">\n    <div class="head">\n        <a class="name">...</a>\n    </div>\n</div>').appendTo(u),u}},{key:"initializeNodeList",value:function(e){var o=this;$(".node",e).each(function(e,t){var n=$(t),r=$(">.head",n),a=$(">.content",n);$(">.name",r).on("click",function(){n.hasClass("pager")?o.pagerClicked(n):o.nodeClicked(n)}),o.nodeIsPicked(n)&&n.addClass("picked"),n.hasClass("childless")||$(">.icon",r).on("click",function(){var t=o.getNodeById(o.getNodeId(n));!t||!t.hasChild||t[o.props.childrenKey]&&t[o.props.childrenKey].length?a.slideToggle():o.getAdditionalData(t.id,n),n.toggleClass("opened"),o.opened.includes(t.id)?o.opened=o.opened.filter(function(e){return e!==t.id}):o.opened.push(t.id)})})}},{key:"pagerClicked",value:function(e){this.getAdditionalData(e.data("parent-id"),e,e.data("start-index"))}},{key:"nodeClicked",value:function(e){if(!e.hasClass("disabled")){if(!this.props.multiple){if(this.picked.length&&this.props.clearable&&this.picked[0].id===this.getNodeId(e))return this.unpickNode(e);$(".node.picked",this.modal).removeClass("picked"),this.picked=[]}return e.toggleClass("picked"),e.hasClass("picked")?this.pickNode(e):this.unpickNode(e)}}},{key:"nodeIsPicked",value:function(t){var n=this;return this.picked.filter(function(e){return""+e.id===n.getNodeId(t)}).length}},{key:"updatePickedCount",value:function(){return this.picked.length?(this.count.closest(".item").addClass("highlighted"),this.count.html("("+this.picked.length+")")):(this.count.closest(".item").removeClass("highlighted"),this.count.html(""))}},{key:"getNodeId",value:function(e){return e.attr("data-id")}},{key:"pickNode",value:function(e){var t=this.getNodeId(e);return this.picked.push({id:t,name:e.attr("data-name")}),this.updatePickedCount(),$(".node[data-id="+t+"]",this.modal).addClass("picked")}},{key:"unpickNode",value:function(e){var t=this.getNodeId(e);return this.picked=this.picked.filter(function(e){return""+e.id!=""+t}),this.updatePickedCount(),$(".node[data-id="+t+"]",this.modal).removeClass("picked")}},{key:"showTree",value:function(){return $(".menu .item",this.modal).removeClass("active"),$(".menu .tree",this.modal).addClass("active"),this.tabs.tree.show(),this.tabs.search.hide(),this.tabs.picked.hide(),this.modal.attr("data-mode","tree")}},{key:"getColumnsForFilter",value:function(){var e=new RegExp(" asc","gi"),t=this.props.columns.replace(e,"");return e=new RegExp(" desc","gi"),t=t.replace(e,""),e=new RegExp(" ","gi"),t.replace(e,"")}},{key:"showSearch",value:function(n){var r=this;if(null!==n&&n.length>=this.props.minSearchQueryLength)if(this.props.paging){var e={model:this.state.dataModel,filters:[{column:this.getColumnsForFilter(),term:"like",value:n}]};this.setState({isFetching:!0},function(){r.state.getAdditionalDataForControl(r,e,function(e){var t=e.items;r.setState({isFetching:!1}),r.renderSearchResults(t,n)})})}else{var t=this.recursiveNodeSearch(this.nodes,function(e){return e.name&&-1<e.name.toLowerCase().indexOf(n.toLowerCase())});this.renderSearchResults(t,n)}else this.showTree()}},{key:"renderSearchResults",value:function(e,n){var t=this.renderList(e,{height:"400px",overflowY:"scroll"});$(".menu .item",this.modal).removeClass("active"),this.tabs.search.show().html(t),this.tabs.tree.hide(),this.tabs.picked.hide(),this.modal.attr("data-mode","search"),this.initializeNodeList(t),$(".name",t).each(function(){var e=$(this).text(),t=RegExp("("+n+")","gi");e=e.replace(t,"<strong class='search-query'>$1</strong>"),$(this).html(e)})}},{key:"showPicked",value:function(){var e;return e=this.renderList(this.picked,{height:"400px",overflowY:"scroll"}),$(".menu .item",this.modal).removeClass("active"),$(".menu .picked",this.modal).addClass("active"),this.tabs.picked.show().html(e),this.tabs.tree.hide(),this.tabs.search.hide(),this.modal.attr("data-mode","picked"),this.initializeNodeList(e)}},{key:"renderList",value:function(e,t){var n,r,a,o,i;for(t=t||{},n=$('<div class="ui tree-picker list"></div>').css(t),o=0,i=e.length;o<i;o++)r=e[o],this.props.hidden(r)||(a=$('<div class="node" data-id="'+r.id+'" data-name="'+r.name+'">\n    <div class="head">\n        <a class="name">'+r.name+'</a>\n        <i class="checkmark icon"></i>\n    </div>\n    <div class="content"></div>\n</div>').appendTo(n),this.props.disabledClause(r)&&a.addClass("disabled"));return n}},{key:"getAdditionalData",value:function(o,i,e){var l=this,s=2<arguments.length&&void 0!==e?e:0;if(this.state.dataModel)if(this.state.getAdditionalDataForControl){var t={model:this.state.dataModel};this.props.paging&&(t.startIndex=s,t.pageSize=this.props.pageSize),this.setState({isFetching:!0,needFetch:!1,parentIdToFetch:o},function(){l.state.getAdditionalDataForControl(l,t,function(e){var t=e.items,n=e.rowsCount,r=l.converter.toNested(t,o);if(l.setData({items:r,rowsCount:n,parentIdToFetch:o},!s),l.props.paging){var a=l.renderTree(r,n,o,s);l.initializeNodeList(a),s?i.replaceWith(a.children()):($(".content",i).append(a),$(">.content",i).slideToggle())}else l.updatePickedNodes(l.getPicked()),l.modal&&l.initializeNodes(l.nodes);l.state.needValueFetch&&l.loadCurrentValue()})})}else this.props.buildermode&&console.log("TreePicker: For paging on server need to set getAdditionalDataForControl func!");else this.props.buildermode&&console.log("TreePicker: Set DataModel label!")}},{key:"loadCurrentValue",value:function(){var n=this;if(this.picked=[],void 0!==this.props.value&&null!==this.props.value)if(this.props.multiple){for(var e=this.getArrayValues(this.props.value),t=[],r=0;r<e.length;r++){var a=e[r],o=this.getNodeById(a);o?this.picked.push(o):t.push(a)}if(0<t.length){var i={model:this.state.dataModel};i.filters=[{column:"__id",term:"in",value:t}],this.setState({isFetching:!0},function(){n.state.getAdditionalDataForControl(n,i,function(e){var t=e.items;n.addSelectedNodes(t)})})}else this.modal&&this.updatePickedCount()}else{var l=this.getNodeById(this.props.value);if(l)this.picked.push(l),this.modal&&this.updatePickedCount();else{var s={model:this.state.dataModel};s.filters=[{column:"__id",term:"=",value:this.props.value}],this.setState({isFetching:!0},function(){n.state.getAdditionalDataForControl(n,s,function(e){var t=e.items;n.addSelectedNodes(t)})})}}this.state.needValueFetch&&this.setState({needValueFetch:!1})}},{key:"setData",value:function(e,t){var n=e.items,r=e.rowsCount,a=e.parentIdToFetch;if(t)if(a){var o=this.getNodeById(a);o&&(o[this.props.childrenKey]=n,o.rowsCount=r)}else this.nodes=n,this.setState({rowsCount:r});else if(a){var i=this.getNodeById(a);i&&(i[this.props.childrenKey]=i[this.props.childrenKey].concat(n))}else this.nodes=this.nodes.concat(n);this.setState({needFetch:!1,isFetching:!1})}},{key:"getArrayValues",value:function(e){var t=e;if(null==t)return[];if(!Array.isArray(t)){var n=void 0;try{n=JSON.parse(t)}catch(e){console.log(e)}Array.isArray(n)||(n=[t]),t=n}return t}},{key:"addSelectedNodes",value:function(e){Array.isArray(e)&&e.length&&(this.picked=this.picked.concat(e),this.modal&&this.updatePickedCount(),this.setState({isFetching:!1}))}},{key:"getLocalized",value:function(e,t){return window.DWKitAdminLang&&window.DWKitAdminLang.treepicker?window.DWKitAdminLang.treepicker[e]:t}},{key:"onChange",value:function(e,t){this.props.handleEvent&&this.props.handleEvent({syntheticEvent:null,key:this.props.name,eventName:"onChange",name:this.props.name,value:e,additionalValues:t})}},{key:"getAdditionalValues",value:function(t){var n;if(this.nodes.length)if(Array.isArray(t)){var r=t.map(function(e){return""+e});n=this.recursiveNodeSearch(this.nodes,function(e){return r.includes(""+e.id)}).map(function(e){return e.values})}else if(t){var e=this.recursiveNodeSearch(this.nodes,function(e){return""+e.id==""+t});e.length&&(n=e[0].values)}else{var a=this.getColumnsForFilter();a&&(n={},a.split(",").forEach(function(e){n[e]=null}))}return n}},{key:"triggerElement",value:function(){var e=this.props.value,t=[];if(this.props.multiple){this.props.value||(e=[]),Array.isArray(this.props.value)||(e=this.getArrayValues(this.props.value));var n=!0,r=!1,a=void 0;try{for(var o,i=e[Symbol.iterator]();!(n=(o=i.next()).done);n=!0){var l=o.value,s=this.getNodeById(l);s&&t.push({value:s.id,text:s.name})}}catch(e){r=!0,a=e}finally{try{!n&&i.return&&i.return()}finally{if(r)throw a}}}else if(e){var u=this.getNodeById(e);u&&t.push({value:u.id,text:u.name})}var c={fluid:this.props.fluid,disabled:this.props.disabled,multiple:this.props.multiple,value:e,className:this.props.className,options:t,selection:this.props.selection};if(this.props.parentIsForm)return c.label=this.props.label,c.error=this.props.error,h.default.createElement(p.Form.Dropdown,f({},c,{onClick:this.handleOpen,onChange:this.onDropdownChange}));var d="ui labeled input";return this.props.fluid&&(d+=" fluid"),this.props.error&&(d+=" error"),h.default.createElement("div",{className:d},this.props.label&&h.default.createElement("div",{className:"ui label label"},this.props.label),h.default.createElement(p.Dropdown,f({},c,{onChange:this.onDropdownChange,onClick:this.handleOpen})))}},{key:"render",value:function(){var e="tree-picker "+this.props.modalCssClass;return h.default.createElement(p.Modal,{style:this.props.modalStyle,className:e,open:this.state.visible,trigger:this.triggerElement()},h.default.createElement(s.default,{name:this.props.label,onMount:this.onMount,selected:this.getLocalized("selected","Selected")}),h.default.createElement("div",{className:"ui search form"},h.default.createElement("div",{className:"field"},h.default.createElement("div",{className:"ui icon input"},h.default.createElement("input",{type:"text",placeholder:this.getLocalized("search","Search")}),h.default.createElement("i",{className:"search icon"})))),h.default.createElement(p.Modal.Content,null,h.default.createElement("div",{className:" active"},h.default.createElement("div",{className:"ui text loader"},this.getLocalized("loadingData","Loading data"))),h.default.createElement("div",{className:"tree-tab"},h.default.createElement("div",{style:{height:"400px"}})),h.default.createElement("div",{className:"search-tab"}),h.default.createElement("div",{className:"picked-tab"})),h.default.createElement(p.Modal.Actions,null,h.default.createElement(p.Button,{onClick:this.pickSearch,className:"pick-search"},h.default.createElement("i",{className:"checkmark icon"}),this.getLocalized("selectAll","Select all")),h.default.createElement(p.Button,{onClick:this.unpickSearch,className:"unpick-search"},h.default.createElement("i",{className:"remove icon"}),this.getLocalized("removeAll","Remove all")),h.default.createElement(p.Button,{onClick:this.unpickPicked,className:"unpick-picked"},h.default.createElement("i",{className:"remove icon"}),this.getLocalized("removeAll","Remove all")),h.default.createElement(p.Button,{onClick:this.handleSave,className:"blue"},this.getLocalized("ok","Ok")),h.default.createElement(p.Button,{onClick:this.handleClose},this.getLocalized("cancel","Cancel"))))}}]),d);function d(e){!function(e){if(!(e instanceof d))throw new TypeError("Cannot call a class as a function")}(this);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":ms(t))&&"function"!=typeof t?e:t}(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,e));return a.onMount=function(e){a.modal=$(i.default.findDOMNode(e)).parent(),a.count=$(".count",a.modal),a.tabs={tree:$(".tree-tab",a.modal),search:$(".search-tab",a.modal),picked:$(".picked-tab",a.modal)},$(".menu .tree",a.modal).on("click",function(){return a.showTree()}),$(".menu .picked",a.modal).on("click",function(){return a.showPicked()}),$(".search input",a.modal).on("keyup",function(e){return a.showSearch($(e.currentTarget).val())}),a.nodes.length&&(a.props.paging?a.loadCurrentValue():(a.updatePickedNodes(a.getPicked()),a.updatePickedCount()),a.initializeNodes(a.nodes))},a.pickSearch=function(){$(".search-tab .node:not(.picked) .name",a.modal).trigger("click")},a.unpickSearch=function(){$(".search-tab .node.picked .name",a.modal).trigger("click")},a.unpickPicked=function(){$(".picked-tab .node.picked .name",a.modal).trigger("click")},a.handleOpen=function(){a.state.visible||a.setState({visible:!0})},a.handleClose=function(){a.setState({visible:!1})},a.handleSave=function(){var e;e=a.props.multiple?a.picked.map(function(e){return e.id}):a.picked.length?a.picked[0].id:null;var t=a.getAdditionalValues(e);a.onChange(e,t),a.setState({visible:!1})},a.onDropdownChange=function(e,t){var n=t.value,r=a.getAdditionalValues(n);a.onChange(n,r)},a.state={visible:!1,value:a.props.value},a.converter=new l.default({children:a.props.childrenKey}),a}c.defaultProps={hidden:function(e){return!1},disabledClause:function(e){return!1},childrenKey:"nodes",multiple:!1,minSearchQueryLength:3,pageSize:100},t.default=c},function(e,t,n){function c(e,t,n){void 0===t[e]&&(t[e]=[]),t[e].push(n)}function d(e,t,n){var r;for(r=n.length,void 0===t[e]&&(t[e]=[]);0<r--;)t[e].push(n.shift())}Object.defineProperty(t,"__esModule",{value:!0});var r=(function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(a.prototype,[{key:"toNested",value:function(e,t){var n,r,a,o,i,l,s,u;for(n=0,o=[],a={},s={},r=e.length;n<r;n++)i=(u=e[n])[this.config.id],l=u[this.config.parent],a[i]=u,l===t?o.push(u):void 0!==a[l]?c(this.config.children,a[l],u):c(l,s,u),this.config.options.deleteParent&&delete u[this.config.parent],void 0!==s[i]&&d(this.config.children,u,s[i]);return o}}]),a);function a(e){!function(e){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this),this.config=e=e||{},this.config.id=e.id||"id",this.config.parent=e.parent||"parent",this.config.children=e.children||"nodes",this.config.options=e.options||{deleteParent:!1}}t.default=r},function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var a,o=n(0),i=(a=o)&&a.__esModule?a:{default:a},l=n(1),s=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":ms(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(u,o.Component),r(u.prototype,[{key:"componentDidMount",value:function(){this.props.onMount(this)}},{key:"render",value:function(){return i.default.createElement(l.Modal.Header,null,this.props.name,i.default.createElement("div",{className:"ui menu"},i.default.createElement(l.Item,{className:"active tree",as:"a"},i.default.createElement("i",{className:"list icon"})," Select"),i.default.createElement(l.Item,{className:"picked item",as:"a"},i.default.createElement("i",{className:"checkmark icon"})," ",this.props.selected," ",i.default.createElement("span",{className:"count"}))))}}]),u);function u(e){return function(e){if(!(e instanceof u))throw new TypeError("Cannot call a class as a function")}(this),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":ms(t))&&"function"!=typeof t?e:t}(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,e))}t.default=s},function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(0)),o=(i(n(3)),n(1));function i(e){return e&&e.__esModule?e:{default:e}}var l,s,u=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":ms(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(c,a.default.Component),s=[{key:"getDerivedStateFromProps",value:function(e,t){return t.activeitem!==e.value?{activeitem:e.value}:null}}],r((l=c).prototype,[{key:"render",value:function(){var e={};e.pointing=this.props.pointing,e.secondary=this.props.secondary,e.tabular=this.props.tabular,e.fluid=this.props.fluid,e.vertical=this.props.vertical;var t=this.props.className;this.props.scroll&&(t="dwkit-tabgroup");var n=this.getPanes(this.props["data-panes"]);return a.default.createElement("div",{className:t,style:this.props.style},a.default.createElement(o.Tab,{menu:e,panes:n,renderActiveOnly:!1,onTabChange:this.onTabChange}))}},{key:"getPanes",value:function(e){var t=[];if(Array.isArray(e))for(var n=0;n<e.length;n++){var r=e[n];if(void 0!==r.visibleCondition&&null!==r.visibleCondition&&""!==r.visibleCondition){var a="return "+r.visibleCondition;try{if(!new Function("",a)())continue}catch(e){}}t.push({menuItem:r.title,pane:{key:r.psid,className:"top",content:this.renderPanel(r)}})}return t}},{key:"renderPanel",value:function(e){var t=void 0;if(null!=this.props.placeholders&&Array.isArray(this.props.placeholders[e.psid])&&0<this.props.placeholders[e.psid].length){var n=this.props.placeholders[e.psid];if(n){t=this.props.createControls(this,{model:n,parentPlaceholder:e.psid,data:this.props.data,errors:this.props.errors,buildermode:this.props.buildermode,parentItem:this.props.model,children:this.props.children,handleEvent:this.props.handleEvent,readOnlyControls:this.props.readOnlyControls,getFormFunc:this.props.getFormFunc,getAdditionalDataForControl:this.props.getAdditionalDataForControl,readOnly:this.props.readOnly,disableRefs:this.props.disableRefs,uploadUrl:this.props.uploadUrl,downloadUrl:this.props.downloadUrl,extendedData:this.props.extendedData,controlsToReplace:this.props.controlsToReplace,needCheckReplace:this.props.needCheckReplace,eventOnEdit:this.props.eventOnEdit,eventOnDelete:this.props.eventOnDelete,eventOnCopy:this.props.eventOnCopy,externalControlRender:this.props.externalControlRender,externalControlList:this.props.externalControlList,adaptiveViewType:this.props.adaptiveViewType});var r=e.psid;this.props.buildermode&&this.props.createBuilderDropzone&&(0<t.length&&0<n.length&&t.unshift(this.props.createBuilderDropzone(r+"tab_dropzone_header",this.props.name,void 0,e.title,e.psid)),t.push(this.props.createBuilderDropzone(r+"tab_dropzone_footer",this.props.name,n[n.length-1].key,e.title,e.psid)))}}else this.props.buildermode&&this.props.createBuilderDropzone&&(t=this.props.createBuilderDropzone("tab_dropzone_footer",this.props.name,void 0,e.title,e.psid));return t}}]),r(l,s),c);function c(e){!function(e){if(!(e instanceof c))throw new TypeError("Cannot call a class as a function")}(this);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":ms(t))&&"function"!=typeof t?e:t}(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,e));return r.onTabChange=function(e,t){var n=t.activeIndex;null!=r.props.handleEvent&&r.props.handleEvent({e:e,key:r.props.name,eventName:"onTabChange",parameters:{targetIndex:n,pane:r.props["data-panes"][n]}})},r.state={},null!=e.value?r.state.activeitem=e.value:null!=e.activeitem&&(r.state.activeitem=e.activeitem),r}t.default=u},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=l(n(0)),a=(l(n(56)),n(58)),i=l(a);function l(e){return e&&e.__esModule?e:{default:e}}var u=(0,a.WidthProvider)(i.default),c=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":ms(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(d,o.default.Component),r(d.prototype,[{key:"render",value:function(){var e=this.getPanes(this.props["data-panes"]),t={isDraggable:!0,isResizable:!0,cols:null!=this.props.cols&&""!=this.props.cols?this.props.cols:12,rowHeight:30,containerPadding:[0,0],draggableCancel:"input,textarea"};this.props.buildermode||(t.isDraggable=this.props.draggable,t.isResizable=this.props.resizable);var n=this.props.className;return this.props.scroll&&(n="react-grid-scroll"),o.default.createElement("div",{className:n,style:this.props.style},o.default.createElement(u,s({onLayoutChange:this.onLayoutChange},t),e))}},{key:"getPanes",value:function(e){var n=this,r=[],t=void 0;if(!this.props.buildermode)try{t=JSON.parse(this.getCookie(window.location.pathname+"_"+this.props.name))}catch(e){}if(Array.isArray(e))for(var a=0;a<e.length;a++){var o=e[a];if(void 0!==o.visibleCondition&&null!==o.visibleCondition&&""!==o.visibleCondition){var i="return "+o.visibleCondition;try{if(!new Function("",i)())continue}catch(e){}}var l=!1;null!=t&&t.forEach(function(e){if(e.i==o.psid){l=!0;var t=s({},o);n.props.draggable&&(t.x=e.x,t.y=e.y),n.props.resizable&&(t.w=e.w,t.h=e.h),r.push(n.renderPanel(t))}}),l||r.push(this.renderPanel(o))}return r}},{key:"renderPanel",value:function(e){var t=void 0;if(null!=this.props.placeholders&&Array.isArray(this.props.placeholders[e.psid])&&0<this.props.placeholders[e.psid].length){var n=this.props.placeholders[e.psid];if(n){t=this.props.createControls(this,{model:n,parentPlaceholder:e.psid,buildermode:this.props.buildermode,data:this.props.data,errors:this.props.errors,parentItem:this.props.model,children:this.props.children,handleEvent:this.props.handleEvent,getFormFunc:this.props.getFormFunc,getAdditionalDataForControl:this.props.getAdditionalDataForControl,readOnlyControls:this.props.readOnlyControls,readOnly:this.props.readOnly,disableRefs:this.props.disableRefs,uploadUrl:this.props.uploadUrl,downloadUrl:this.props.downloadUrl,extendedData:this.props.extendedData,controlsToReplace:this.props.controlsToReplace,needCheckReplace:this.props.needCheckReplace,eventOnEdit:this.props.eventOnEdit,eventOnDelete:this.props.eventOnDelete,eventOnCopy:this.props.eventOnCopy,adaptiveViewType:this.props.adaptiveViewType});var r=e.psid;this.props.buildermode&&this.props.createBuilderDropzone&&(0<t.length&&0<n.length&&t.unshift(this.props.createBuilderDropzone(r+"layout_dropzone_header",this.props.name,void 0,e.title,e.psid)),t.push(this.props.createBuilderDropzone(r+"layout_dropzone_footer",this.props.name,n[n.length-1].key,e.title,e.psid)))}}else this.props.buildermode&&this.props.createBuilderDropzone&&(t=this.props.createBuilderDropzone("layout_dropzone_footer",this.props.name,void 0,e.title,e.psid));var a={x:null!=e.x?e.x:0,y:null!=e.y?e.y:0,w:null!=e.w?e.w:4,h:null!=e.h?e.h:4,i:e.psid};return o.default.createElement("div",{key:e.psid,className:e.cssclass,"data-grid":a},e.title&&o.default.createElement("div",{className:"react-grid-item-title"},e.title),t)}},{key:"getCookie",value:function(e){var t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0}},{key:"setCookie",value:function(e,t,n){var r=(n=n||{}).expires;if("number"==typeof r&&r){var a=new Date;a.setTime(a.getTime()+1e3*r),r=n.expires=a}r&&r.toUTCString&&(n.expires=r.toUTCString());var o=e+"="+(t=encodeURIComponent(t));for(var i in n){o+="; "+i;var l=n[i];!0!==l&&(o+="="+l)}document.cookie=o}}]),d);function d(e){!function(e){if(!(e instanceof d))throw new TypeError("Cannot call a class as a function")}(this);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":ms(t))&&"function"!=typeof t?e:t}(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,e));return n.onLayoutChange=function(e){if(n.props.buildermode){var t=n.props["data-panes"];Array.isArray(t)&&t.forEach(function(t){e.forEach(function(e){t.psid==e.i&&(t.x=e.x,t.y=e.y,t.w=e.w,t.h=e.h)})})}else(n.props.draggable||n.props.resizable)&&n.setCookie(window.location.pathname+"_"+n.props.name,JSON.stringify(e));null!=n.props.handleEvent&&n.props.handleEvent({undefined:void 0,key:n.props.name,eventName:"onLayoutChange",parameters:{layout:e}})},n.state={},n}t.default=c},function(e,z,K){(function(V,W){var B;
/**
       * @license
       * Lodash <https://lodash.com/>
       * Copyright JS Foundation and other contributors <https://js.foundation/>
       * Released under MIT license <https://lodash.com/license>
       * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
       * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
       */
/**
       * @license
       * Lodash <https://lodash.com/>
       * Copyright JS Foundation and other contributors <https://js.foundation/>
       * Released under MIT license <https://lodash.com/license>
       * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
       * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
       */
/**
       * @license
       * Lodash <https://lodash.com/>
       * Copyright JS Foundation and other contributors <https://js.foundation/>
       * Released under MIT license <https://lodash.com/license>
       * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
       * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
       */
/**
       * @license
       * Lodash <https://lodash.com/>
       * Copyright JS Foundation and other contributors <https://js.foundation/>
       * Released under MIT license <https://lodash.com/license>
       * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
       * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
       */(function(){var Jo,Qo="Expected a function",Zo="__lodash_hash_undefined__",Xo="__lodash_placeholder__",ei=9007199254740991,ti=4294967295,ni=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],ri="[object Arguments]",ai="[object Array]",oi="[object Boolean]",ii="[object Date]",li="[object Error]",si="[object Function]",ui="[object GeneratorFunction]",ci="[object Map]",di="[object Number]",fi="[object Object]",pi="[object Promise]",hi="[object RegExp]",mi="[object Set]",vi="[object String]",gi="[object Symbol]",yi="[object WeakMap]",bi="[object ArrayBuffer]",wi="[object DataView]",ki="[object Float32Array]",Ei="[object Float64Array]",Ci="[object Int8Array]",_i="[object Int16Array]",Oi="[object Int32Array]",Si="[object Uint8Array]",xi="[object Uint8ClampedArray]",Ai="[object Uint16Array]",Di="[object Uint32Array]",Fi=/\b__p \+= '';/g,Li=/\b(__p \+=) '' \+/g,Pi=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ji=/&(?:amp|lt|gt|quot|#39);/g,Ti=/[&<>"']/g,Ni=RegExp(ji.source),Ii=RegExp(Ti.source),Mi=/<%-([\s\S]+?)%>/g,Ri=/<%([\s\S]+?)%>/g,Vi=/<%=([\s\S]+?)%>/g,Wi=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Bi=/^\w*$/,zi=/^\./,Ki=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ui=/[\\^$.*+?()[\]{}|]/g,Gi=RegExp(Ui.source),qi=/^\s+|\s+$/g,Hi=/^\s+/,$i=/\s+$/,Yi=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ji=/\{\n\/\* \[wrapped with (.+)\] \*/,Qi=/,? & /,Zi=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Xi=/\\(\\)?/g,el=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,tl=/\w*$/,nl=/^[-+]0x[0-9a-f]+$/i,rl=/^0b[01]+$/i,al=/^\[object .+?Constructor\]$/,ol=/^0o[0-7]+$/i,il=/^(?:0|[1-9]\d*)$/,ll=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,sl=/($^)/,ul=/['\n\r\u2028\u2029\\]/g,e="\\ud800-\\udfff",t="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",n="\\u2700-\\u27bf",r="a-z\\xdf-\\xf6\\xf8-\\xff",a="A-Z\\xc0-\\xd6\\xd8-\\xde",o="\\ufe0e\\ufe0f",i="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",l="["+e+"]",s="["+i+"]",u="["+t+"]",c="\\d+",d="["+n+"]",f="["+r+"]",p="[^"+e+i+c+n+r+a+"]",h="\\ud83c[\\udffb-\\udfff]",m="[^"+e+"]",v="(?:\\ud83c[\\udde6-\\uddff]){2}",g="[\\ud800-\\udbff][\\udc00-\\udfff]",y="["+a+"]",b="(?:"+f+"|"+p+")",w="(?:"+y+"|"+p+")",k="(?:['’](?:d|ll|m|re|s|t|ve))?",E="(?:['’](?:D|LL|M|RE|S|T|VE))?",C="(?:"+u+"|"+h+")?",_="["+o+"]?",O=_+C+"(?:\\u200d(?:"+[m,v,g].join("|")+")"+_+C+")*",S="(?:"+[d,v,g].join("|")+")"+O,x="(?:"+[m+u+"?",u,v,g,l].join("|")+")",cl=RegExp("['’]","g"),dl=RegExp(u,"g"),A=RegExp(h+"(?="+h+")|"+x+O,"g"),fl=RegExp([y+"?"+f+"+"+k+"(?="+[s,y,"$"].join("|")+")",w+"+"+E+"(?="+[s,y+b,"$"].join("|")+")",y+"?"+b+"+"+k,y+"+"+E,"\\d*(?:(?:1ST|2ND|3RD|(?![123])\\dTH)\\b)","\\d*(?:(?:1st|2nd|3rd|(?![123])\\dth)\\b)",c,S].join("|"),"g"),D=RegExp("[\\u200d"+e+t+o+"]"),pl=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,hl=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ml=-1,vl={};vl[ki]=vl[Ei]=vl[Ci]=vl[_i]=vl[Oi]=vl[Si]=vl[xi]=vl[Ai]=vl[Di]=!0,vl[ri]=vl[ai]=vl[bi]=vl[oi]=vl[wi]=vl[ii]=vl[li]=vl[si]=vl[ci]=vl[di]=vl[fi]=vl[hi]=vl[mi]=vl[vi]=vl[yi]=!1;var gl={};gl[ri]=gl[ai]=gl[bi]=gl[wi]=gl[oi]=gl[ii]=gl[ki]=gl[Ei]=gl[Ci]=gl[_i]=gl[Oi]=gl[ci]=gl[di]=gl[fi]=gl[hi]=gl[mi]=gl[vi]=gl[gi]=gl[Si]=gl[xi]=gl[Ai]=gl[Di]=!0,gl[li]=gl[si]=gl[yi]=!1;var F={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},yl=parseFloat,bl=parseInt,L="object"==(void 0===V?"undefined":ms(V))&&V&&V.Object===Object&&V,P="object"==("undefined"==typeof self?"undefined":ms(self))&&self&&self.Object===Object&&self,wl=L||P||Function("return this")(),j=z&&!z.nodeType&&z,T=j&&"object"==(void 0===W?"undefined":ms(W))&&W&&!W.nodeType&&W,kl=T&&T.exports===j,N=kl&&L.process,I=function(){try{return N&&N.binding&&N.binding("util")}catch(e){}}(),El=I&&I.isArrayBuffer,Cl=I&&I.isDate,_l=I&&I.isMap,Ol=I&&I.isRegExp,Sl=I&&I.isSet,xl=I&&I.isTypedArray;function Al(e,t){return e.set(t[0],t[1]),e}function Dl(e,t){return e.add(t),e}function Fl(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Ll(e,t,n,r){for(var a=-1,o=null==e?0:e.length;++a<o;){var i=e[a];t(r,i,n(i),e)}return r}function Pl(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function jl(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function Tl(e,t){for(var n=-1,r=null==e?0:e.length,a=0,o=[];++n<r;){var i=e[n];t(i,n,e)&&(o[a++]=i)}return o}function Nl(e,t){return!(null==e||!e.length)&&-1<Ul(e,t,0)}function Il(e,t,n){for(var r=-1,a=null==e?0:e.length;++r<a;)if(n(t,e[r]))return!0;return!1}function Ml(e,t){for(var n=-1,r=null==e?0:e.length,a=Array(r);++n<r;)a[n]=t(e[n],n,e);return a}function Rl(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}function Vl(e,t,n,r){var a=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++a]);++a<o;)n=t(n,e[a],a,e);return n}function Wl(e,t,n,r){var a=null==e?0:e.length;for(r&&a&&(n=e[--a]);a--;)n=t(n,e[a],a,e);return n}function Bl(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var M=$l("length");function zl(e,r,t){var a;return t(e,function(e,t,n){if(r(e,t,n))return a=t,!1}),a}function Kl(e,t,n,r){for(var a=e.length,o=n+(r?1:-1);r?o--:++o<a;)if(t(e[o],o,e))return o;return-1}function Ul(e,t,a){return t==t?function(e,t){for(var n=a-1,r=e.length;++n<r;)if(e[n]===t)return n;return-1}(e,t):Kl(e,ql,a)}function Gl(e,t,n,r){for(var a=n-1,o=e.length;++a<o;)if(r(e[a],t))return a;return-1}function ql(e){return e!=e}function Hl(e,t){var n=null==e?0:e.length;return n?Jl(e,t)/n:NaN}function $l(t){return function(e){return null==e?Jo:e[t]}}function R(t){return function(e){return null==t?Jo:t[e]}}function Yl(e,r,a,o,t){return t(e,function(e,t,n){a=o?(o=!1,e):r(a,e,t,n)}),a}function Jl(e,t){for(var n,r=-1,a=e.length;++r<a;){var o=t(e[r]);o!==Jo&&(n=n===Jo?o:n+o)}return n}function Ql(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Zl(t){return function(e){return t(e)}}function Xl(t,e){return Ml(e,function(e){return t[e]})}function es(e,t){return e.has(t)}function ts(e,t){for(var n=-1,r=e.length;++n<r&&-1<Ul(t,e[n],0););return n}function ns(e,t){for(var n=e.length;n--&&-1<Ul(t,e[n],0););return n}var rs=R({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),as=R({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function os(e){return"\\"+F[e]}function is(e){return D.test(e)}function ls(e){var n=-1,r=Array(e.size);return e.forEach(function(e,t){r[++n]=[t,e]}),r}function ss(t,n){return function(e){return t(n(e))}}function us(e,t){for(var n=-1,r=e.length,a=0,o=[];++n<r;){var i=e[n];i!==t&&i!==Xo||(e[n]=Xo,o[a++]=n)}return o}function cs(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function ds(e){return is(e)?function(e){for(var t=A.lastIndex=0;A.test(e);)++t;return t}(e):M(e)}function fs(e){return is(e)?e.match(A)||[]:e.split("")}var ps=R({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),hs=function e(t){var n,A=(t=null==t?wl:hs.defaults(wl.Object(),t,hs.pick(wl,hl))).Array,r=t.Date,a=t.Error,v=t.Function,o=t.Math,C=t.Object,g=t.RegExp,c=t.String,D=t.TypeError,i=A.prototype,l=v.prototype,s=C.prototype,u=t["__core-js_shared__"],d=l.toString,_=s.hasOwnProperty,f=0,p=(n=/[^.]+$/.exec(u&&u.keys&&u.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",h=s.toString,m=d.call(C),y=wl._,b=g("^"+d.call(_).replace(Ui,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),w=kl?t.Buffer:Jo,k=t.Symbol,E=t.Uint8Array,O=w?w.allocUnsafe:Jo,S=ss(C.getPrototypeOf,C),x=C.create,F=s.propertyIsEnumerable,L=i.splice,P=k?k.isConcatSpreadable:Jo,j=k?k.iterator:Jo,T=k?k.toStringTag:Jo,N=function(){try{var e=Nn(C,"defineProperty");return e({},"",{}),e}catch(e){}}(),I=t.clearTimeout!==wl.clearTimeout&&t.clearTimeout,M=r&&r.now!==wl.Date.now&&r.now,R=t.setTimeout!==wl.setTimeout&&t.setTimeout,V=o.ceil,W=o.floor,B=C.getOwnPropertySymbols,z=w?w.isBuffer:Jo,K=t.isFinite,U=i.join,G=ss(C.keys,C),q=o.max,H=o.min,$=r.now,Y=t.parseInt,J=o.random,Q=i.reverse,Z=Nn(t,"DataView"),X=Nn(t,"Map"),ee=Nn(t,"Promise"),te=Nn(t,"Set"),ne=Nn(t,"WeakMap"),re=Nn(C,"create"),ae=ne&&new ne,oe={},ie=sr(Z),le=sr(X),se=sr(ee),ue=sr(te),ce=sr(ne),de=k?k.prototype:Jo,fe=de?de.valueOf:Jo,pe=de?de.toString:Jo;function he(e){if(Oa(e)&&!ha(e)&&!(e instanceof be)){if(e instanceof ye)return e;if(_.call(e,"__wrapped__"))return ur(e)}return new ye(e)}var me=function(e){if(!_a(e))return{};if(x)return x(e);ve.prototype=e;var t=new ve;return ve.prototype=Jo,t};function ve(){}function ge(){}function ye(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=Jo}function be(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ti,this.__views__=[]}function we(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ke(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ee(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ce(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Ee;++t<n;)this.add(e[t])}function _e(e){var t=this.__data__=new ke(e);this.size=t.size}function Oe(e,t){var n=ha(e),r=!n&&pa(e),a=!n&&!r&&ya(e),o=!n&&!r&&!a&&ja(e),i=n||r||a||o,l=i?Ql(e.length,c):[],s=l.length;for(var u in e)!t&&!_.call(e,u)||i&&("length"==u||a&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||zn(u,s))||l.push(u);return l}function Se(e){var t=e.length;return t?e[wt(0,t-1)]:Jo}function xe(e,t,n){(n===Jo||ca(e[t],n))&&(n!==Jo||t in e)||Pe(e,t,n)}function Ae(e,t,n){var r=e[t];_.call(e,t)&&ca(r,n)&&(n!==Jo||t in e)||Pe(e,t,n)}function De(e,t){for(var n=e.length;n--;)if(ca(e[n][0],t))return n;return-1}function Fe(e,r,a,o){return Ve(e,function(e,t,n){r(o,e,a(e),n)}),o}function Le(e,t){return e&&Xt(t,to(t),e)}function Pe(e,t,n){"__proto__"==t&&N?N(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function je(e,t){for(var n=-1,r=t.length,a=A(r),o=null==e;++n<r;)a[n]=o?Jo:Ja(e,t[n]);return a}function Te(e,t,n){return e==e&&(n!==Jo&&(e=e<=n?e:n),t!==Jo&&(e=t<=e?e:t)),e}function Ne(n,r,a,e,t,o){var i,l=1&r,s=2&r,u=4&r;if(a&&(i=t?a(n,e,t,o):a(n)),i!==Jo)return i;if(!_a(n))return n;var c,d,f,p,h,m,v,g,y=ha(n);if(y){if(v=(m=n).length,g=m.constructor(v),v&&"string"==typeof m[0]&&_.call(m,"index")&&(g.index=m.index,g.input=m.input),i=g,!l)return Zt(n,i)}else{var b=Rn(n),w=b==si||b==ui;if(ya(n))return qt(n,l);if(b==fi||b==ri||w&&!t){if(i=s||w?{}:Wn(n),!l)return s?(f=n,p=(h=i)&&Xt(n,no(n),h),Xt(f,Mn(f),p)):(d=Le(i,c=n),Xt(c,In(c),d))}else{if(!gl[b])return t?n:{};i=function(e,t,n,r){var a,o,i,l,s,u,c,d=e.constructor;switch(t){case bi:return Ht(e);case oi:case ii:return new d(+e);case wi:return u=e,c=r?Ht(u.buffer):u.buffer,new u.constructor(c,u.byteOffset,u.byteLength);case ki:case Ei:case Ci:case _i:case Oi:case Si:case xi:case Ai:case Di:return $t(e,r);case ci:return s=e,Vl(r?n(ls(s),1):ls(s),Al,new s.constructor);case di:case vi:return new d(e);case hi:return(l=new(i=e).constructor(i.source,tl.exec(i))).lastIndex=i.lastIndex,l;case mi:return o=e,Vl(r?n(cs(o),1):cs(o),Dl,new o.constructor);case gi:return a=e,fe?C(fe.call(a)):{}}}(n,b,Ne,l)}}var k=(o=o||new _e).get(n);if(k)return k;o.set(n,i);var E=y?Jo:(u?s?An:xn:s?no:to)(n);return Pl(E||n,function(e,t){E&&(e=n[t=e]),Ae(i,t,Ne(e,r,a,t,n,o))}),i}function Ie(e,t,n){var r=n.length;if(null==e)return!r;for(e=C(e);r--;){var a=n[r],o=t[a],i=e[a];if(i===Jo&&!(a in e)||!o(i))return!1}return!0}function Me(e,t,n){if("function"!=typeof e)throw new D(Qo);return Xn(function(){e.apply(Jo,n)},t)}function Re(e,t,n,r){var a=-1,o=Nl,i=!0,l=e.length,s=[],u=t.length;if(!l)return s;n&&(t=Ml(t,Zl(n))),r?(o=Il,i=!1):200<=t.length&&(o=es,i=!1,t=new Ce(t));e:for(;++a<l;){var c=e[a],d=null==n?c:n(c);if(c=r||0!==c?c:0,i&&d==d){for(var f=u;f--;)if(t[f]===d)continue e;s.push(c)}else o(t,d,r)||s.push(c)}return s}he.templateSettings={escape:Mi,evaluate:Ri,interpolate:Vi,variable:"",imports:{_:he}},(he.prototype=ge.prototype).constructor=he,(ye.prototype=me(ge.prototype)).constructor=ye,(be.prototype=me(ge.prototype)).constructor=be,we.prototype.clear=function(){this.__data__=re?re(null):{},this.size=0},we.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},we.prototype.get=function(e){var t=this.__data__;if(re){var n=t[e];return n===Zo?Jo:n}return _.call(t,e)?t[e]:Jo},we.prototype.has=function(e){var t=this.__data__;return re?t[e]!==Jo:_.call(t,e)},we.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=re&&t===Jo?Zo:t,this},ke.prototype.clear=function(){this.__data__=[],this.size=0},ke.prototype.delete=function(e){var t=this.__data__,n=De(t,e);return!(n<0||(n==t.length-1?t.pop():L.call(t,n,1),--this.size,0))},ke.prototype.get=function(e){var t=this.__data__,n=De(t,e);return n<0?Jo:t[n][1]},ke.prototype.has=function(e){return-1<De(this.__data__,e)},ke.prototype.set=function(e,t){var n=this.__data__,r=De(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Ee.prototype.clear=function(){this.size=0,this.__data__={hash:new we,map:new(X||ke),string:new we}},Ee.prototype.delete=function(e){var t=jn(this,e).delete(e);return this.size-=t?1:0,t},Ee.prototype.get=function(e){return jn(this,e).get(e)},Ee.prototype.has=function(e){return jn(this,e).has(e)},Ee.prototype.set=function(e,t){var n=jn(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Ce.prototype.add=Ce.prototype.push=function(e){return this.__data__.set(e,Zo),this},Ce.prototype.has=function(e){return this.__data__.has(e)},_e.prototype.clear=function(){this.__data__=new ke,this.size=0},_e.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},_e.prototype.get=function(e){return this.__data__.get(e)},_e.prototype.has=function(e){return this.__data__.has(e)},_e.prototype.set=function(e,t){var n=this.__data__;if(n instanceof ke){var r=n.__data__;if(!X||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Ee(r)}return n.set(e,t),this.size=n.size,this};var Ve=nn(He),We=nn($e,!0);function Be(e,r){var a=!0;return Ve(e,function(e,t,n){return a=!!r(e,t,n)}),a}function ze(e,t,n){for(var r=-1,a=e.length;++r<a;){var o=e[r],i=t(o);if(null!=i&&(l===Jo?i==i&&!Pa(i):n(i,l)))var l=i,s=o}return s}function Ke(e,r){var a=[];return Ve(e,function(e,t,n){r(e,t,n)&&a.push(e)}),a}function Ue(e,t,n,r,a){var o=-1,i=e.length;for(n=n||Bn,a=a||[];++o<i;){var l=e[o];0<t&&n(l)?1<t?Ue(l,t-1,n,r,a):Rl(a,l):r||(a[a.length]=l)}return a}var Ge=rn(),qe=rn(!0);function He(e,t){return e&&Ge(e,t,to)}function $e(e,t){return e&&qe(e,t,to)}function Ye(t,e){return Tl(e,function(e){return ka(t[e])})}function Je(e,t){for(var n=0,r=(t=zt(t,e)).length;null!=e&&n<r;)e=e[lr(t[n++])];return n&&n==r?e:Jo}function Qe(e,t,n){var r=t(e);return ha(e)?r:Rl(r,n(e))}function Ze(e){return null==e?e===Jo?"[object Undefined]":"[object Null]":T&&T in C(e)?function(e){var t=_.call(e,T),n=e[T];try{e[T]=Jo;var r=!0}catch(e){}var a=h.call(e);return r&&(t?e[T]=n:delete e[T]),a}(e):(t=e,h.call(t));var t}function Xe(e,t){return t<e}function et(e,t){return null!=e&&_.call(e,t)}function tt(e,t){return null!=e&&t in C(e)}function nt(e,t,n){for(var r=n?Il:Nl,a=e[0].length,o=e.length,i=o,l=A(o),s=1/0,u=[];i--;){var c=e[i];i&&t&&(c=Ml(c,Zl(t))),s=H(c.length,s),l[i]=!n&&(t||120<=a&&120<=c.length)?new Ce(i&&c):Jo}c=e[0];var d=-1,f=l[0];e:for(;++d<a&&u.length<s;){var p=c[d],h=t?t(p):p;if(p=n||0!==p?p:0,!(f?es(f,h):r(u,h,n))){for(i=o;--i;){var m=l[i];if(!(m?es(m,h):r(e[i],h,n)))continue e}f&&f.push(h),u.push(p)}}return u}function rt(e,t,n){var r=null==(e=Qn(e,t=zt(t,e)))?e:e[lr(wr(t))];return null==r?Jo:Fl(r,e,n)}function at(e){return Oa(e)&&Ze(e)==ri}function ot(e,t,n,r,a){return e===t||(null==e||null==t||!Oa(e)&&!Oa(t)?e!=e&&t!=t:function(e,t,n,r,a,o){var i=ha(e),l=ha(t),d=i?ai:Rn(e),s=l?ai:Rn(t),u=(d=d==ri?fi:d)==fi,c=(s=s==ri?fi:s)==fi,f=d==s;if(f&&ya(e)){if(!ya(t))return!1;u=!(i=!0)}if(f&&!u)return o=o||new _e,i||ja(e)?On(e,t,n,r,a,o):function(e,t,n,r,a,o,i){switch(d){case wi:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case bi:return!(e.byteLength!=t.byteLength||!o(new E(e),new E(t)));case oi:case ii:case di:return ca(+e,+t);case li:return e.name==t.name&&e.message==t.message;case hi:case vi:return e==t+"";case ci:var l=ls;case mi:var s=1&r;if(l=l||cs,e.size!=t.size&&!s)return!1;var u=i.get(e);if(u)return u==t;r|=2,i.set(e,t);var c=On(l(e),l(t),r,a,o,i);return i.delete(e),c;case gi:if(fe)return fe.call(e)==fe.call(t)}return!1}(e,t,0,n,r,a,o);if(!(1&n)){var p=u&&_.call(e,"__wrapped__"),h=c&&_.call(t,"__wrapped__");if(p||h)return a(p?e.value():e,h?t.value():t,n,r,o=o||new _e)}return f&&function(e,t,n,r,a,o){var i=1&n,l=xn(e),s=l.length;if(s!=xn(t).length&&!i)return!1;for(var u=s;u--;){var c=l[u];if(!(i?c in t:_.call(t,c)))return!1}var d=o.get(e);if(d&&o.get(t))return d==t;var f=!0;o.set(e,t),o.set(t,e);for(var p=i;++u<s;){var h=e[c=l[u]],m=t[c];if(r)var v=i?r(m,h,c,t,e,o):r(h,m,c,e,t,o);if(!(v===Jo?h===m||a(h,m,n,r,o):v)){f=!1;break}p=p||"constructor"==c}if(f&&!p){var g=e.constructor,y=t.constructor;g!=y&&"constructor"in e&&"constructor"in t&&!("function"==typeof g&&g instanceof g&&"function"==typeof y&&y instanceof y)&&(f=!1)}return o.delete(e),o.delete(t),f}(e,t,n,r,a,o=o||new _e)}(e,t,n,r,ot,a))}function it(e,t,n,r){var a=n.length,o=a,i=!r;if(null==e)return!o;for(e=C(e);a--;){var l=n[a];if(i&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<o;){var s=(l=n[a])[0],u=e[s],c=l[1];if(i&&l[2]){if(u===Jo&&!(s in e))return!1}else{var d=new _e;if(r)var f=r(u,c,s,e,t,d);if(!(f===Jo?ot(c,u,3,r,d):f))return!1}}return!0}function lt(e){return!(!_a(e)||p&&p in e)&&(ka(e)?b:al).test(sr(e))}function st(e){return"function"==typeof e?e:null==e?Ao:"object"==(void 0===e?"undefined":ms(e))?ha(e)?pt(e[0],e[1]):ft(e):Mo(e)}function ut(e){if(!Hn(e))return G(e);var t=[];for(var n in C(e))_.call(e,n)&&"constructor"!=n&&t.push(n);return t}function ct(e,t){return e<t}function dt(e,r){var a=-1,o=va(e)?A(e.length):[];return Ve(e,function(e,t,n){o[++a]=r(e,t,n)}),o}function ft(t){var n=Tn(t);return 1==n.length&&n[0][2]?Yn(n[0][0],n[0][1]):function(e){return e===t||it(e,t,n)}}function pt(n,r){return Un(n)&&$n(r)?Yn(lr(n),r):function(e){var t=Ja(e,n);return t===Jo&&t===r?Qa(e,n):ot(r,t,3)}}function ht(r,a,o,i,l){r!==a&&Ge(a,function(e,t){if(_a(e))l=l||new _e,function(e,t,n,r,a,o,i){var l=e[n],s=t[n],u=i.get(s);if(u)return xe(e,n,u);var c=o?o(l,s,n+"",e,t,i):Jo,d=c===Jo;if(d){var f=ha(s),p=!f&&ya(s),h=!f&&!p&&ja(s);c=s,f||p||h?c=ha(l)?l:ga(l)?Zt(l):p?qt(s,!(d=!1)):h?$t(s,!(d=!1)):[]:Aa(s)||pa(s)?pa(c=l)?c=Ba(l):(!_a(l)||r&&ka(l))&&(c=Wn(s)):d=!1}d&&(i.set(s,c),a(c,s,r,o,i),i.delete(s)),xe(e,n,c)}(r,a,t,o,ht,i,l);else{var n=i?i(r[t],e,t+"",r,a,l):Jo;n===Jo&&(n=e),xe(r,t,n)}},no)}function mt(e,t){var n=e.length;if(n)return zn(t+=t<0?n:0,n)?e[t]:Jo}function vt(e,r,n){var a=-1;return r=Ml(r.length?r:[Ao],Zl(Pn())),function(e){var t=e.length;for(e.sort(function(e,t){return function(e,t,n){for(var r=-1,a=e.criteria,o=t.criteria,i=a.length,l=n.length;++r<i;){var s=Yt(a[r],o[r]);if(s)return l<=r?s:s*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)});t--;)e[t]=e[t].value;return e}(dt(e,function(t,e,n){return{criteria:Ml(r,function(e){return e(t)}),index:++a,value:t}}))}function gt(e,t,n){for(var r=-1,a=t.length,o={};++r<a;){var i=t[r],l=Je(e,i);n(l,i)&&Ct(o,zt(i,e),l)}return o}function yt(e,t,n,r){var a=r?Gl:Ul,o=-1,i=t.length,l=e;for(e===t&&(t=Zt(t)),n&&(l=Ml(e,Zl(n)));++o<i;)for(var s=0,u=t[o],c=n?n(u):u;-1<(s=a(l,c,s,r));)l!==e&&L.call(l,s,1),L.call(e,s,1);return e}function bt(e,t){for(var n=e?t.length:0,r=n-1;n--;){var a=t[n];if(n==r||a!==o){var o=a;zn(a)?L.call(e,a,1):Tt(e,a)}}return e}function wt(e,t){return e+W(J()*(t-e+1))}function kt(e,t){var n="";if(!e||t<1||ei<t)return n;for(;t%2&&(n+=e),(t=W(t/2))&&(e+=e),t;);return n}function Et(e,t){return er(Jn(e,t,Ao),e+"")}function Ct(e,t,n,r){if(!_a(e))return e;for(var a=-1,o=(t=zt(t,e)).length,i=o-1,l=e;null!=l&&++a<o;){var s=lr(t[a]),u=n;if(a!=i){var c=l[s];(u=r?r(c,s,l):Jo)===Jo&&(u=_a(c)?c:zn(t[a+1])?[]:{})}Ae(l,s,u),l=l[s]}return e}var _t=ae?function(e,t){return ae.set(e,t),e}:Ao,Ot=N?function(e,t){return N(e,"toString",{configurable:!0,enumerable:!1,value:Oo(t),writable:!0})}:Ao;function St(e,t,n){var r=-1,a=e.length;t<0&&(t=a<-t?0:a+t),(n=a<n?a:n)<0&&(n+=a),a=n<t?0:n-t>>>0,t>>>=0;for(var o=A(a);++r<a;)o[r]=e[r+t];return o}function xt(e,r){var a;return Ve(e,function(e,t,n){return!(a=r(e,t,n))}),!!a}function At(e,t,n){var r=0,a=null==e?r:e.length;if("number"==typeof t&&t==t&&a<=2147483647){for(;r<a;){var o=r+a>>>1,i=e[o];null!==i&&!Pa(i)&&(n?i<=t:i<t)?r=1+o:a=o}return a}return Dt(e,t,Ao,n)}function Dt(e,t,n,r){t=n(t);for(var a=0,o=null==e?0:e.length,i=t!=t,l=null===t,s=Pa(t),u=t===Jo;a<o;){var c=W((a+o)/2),d=n(e[c]),f=d!==Jo,p=null===d,h=d==d,m=Pa(d);if(i)var v=r||h;else v=u?h&&(r||f):l?h&&f&&(r||!p):s?h&&f&&!p&&(r||!m):!p&&!m&&(r?d<=t:d<t);v?a=c+1:o=c}return H(o,4294967294)}function Ft(e,t){for(var n=-1,r=e.length,a=0,o=[];++n<r;){var i=e[n],l=t?t(i):i;if(!n||!ca(l,s)){var s=l;o[a++]=0===i?0:i}}return o}function Lt(e){return"number"==typeof e?e:Pa(e)?NaN:+e}function Pt(e){if("string"==typeof e)return e;if(ha(e))return Ml(e,Pt)+"";if(Pa(e))return pe?pe.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function jt(e,t,n){var r=-1,a=Nl,o=e.length,i=!0,l=[],s=l;if(n)i=!1,a=Il;else if(200<=o){var u=t?null:bn(e);if(u)return cs(u);i=!1,a=es,s=new Ce}else s=t?[]:l;e:for(;++r<o;){var c=e[r],d=t?t(c):c;if(c=n||0!==c?c:0,i&&d==d){for(var f=s.length;f--;)if(s[f]===d)continue e;t&&s.push(d),l.push(c)}else a(s,d,n)||(s!==l&&s.push(d),l.push(c))}return l}function Tt(e,t){return null==(e=Qn(e,t=zt(t,e)))||delete e[lr(wr(t))]}function Nt(e,t,n,r){return Ct(e,t,n(Je(e,t)),r)}function It(e,t,n,r){for(var a=e.length,o=r?a:-1;(r?o--:++o<a)&&t(e[o],o,e););return n?St(e,r?0:o,r?o+1:a):St(e,r?o+1:0,r?a:o)}function Mt(e,t){var n=e;return n instanceof be&&(n=n.value()),Vl(t,function(e,t){return t.func.apply(t.thisArg,Rl([e],t.args))},n)}function Rt(e,t,n){var r=e.length;if(r<2)return r?jt(e[0]):[];for(var a=-1,o=A(r);++a<r;)for(var i=e[a],l=-1;++l<r;)l!=a&&(o[a]=Re(o[a]||i,e[l],t,n));return jt(Ue(o,1),t,n)}function Vt(e,t,n){for(var r=-1,a=e.length,o=t.length,i={};++r<a;){var l=r<o?t[r]:Jo;n(i,e[r],l)}return i}function Wt(e){return ga(e)?e:[]}function Bt(e){return"function"==typeof e?e:Ao}function zt(e,t){return ha(e)?e:Un(e,t)?[e]:ir(za(e))}var Kt=Et;function Ut(e,t,n){var r=e.length;return n=n===Jo?r:n,!t&&r<=n?e:St(e,t,n)}var Gt=I||function(e){return wl.clearTimeout(e)};function qt(e,t){if(t)return e.slice();var n=e.length,r=O?O(n):new e.constructor(n);return e.copy(r),r}function Ht(e){var t=new e.constructor(e.byteLength);return new E(t).set(new E(e)),t}function $t(e,t){var n=t?Ht(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Yt(e,t){if(e!==t){var n=e!==Jo,r=null===e,a=e==e,o=Pa(e),i=t!==Jo,l=null===t,s=t==t,u=Pa(t);if(!l&&!u&&!o&&t<e||o&&i&&s&&!l&&!u||r&&i&&s||!n&&s||!a)return 1;if(!r&&!o&&!u&&e<t||u&&n&&a&&!r&&!o||l&&n&&a||!i&&a||!s)return-1}return 0}function Jt(e,t,n,r){for(var a=-1,o=e.length,i=n.length,l=-1,s=t.length,u=q(o-i,0),c=A(s+u),d=!r;++l<s;)c[l]=t[l];for(;++a<i;)(d||a<o)&&(c[n[a]]=e[a]);for(;u--;)c[l++]=e[a++];return c}function Qt(e,t,n,r){for(var a=-1,o=e.length,i=-1,l=n.length,s=-1,u=t.length,c=q(o-l,0),d=A(c+u),f=!r;++a<c;)d[a]=e[a];for(var p=a;++s<u;)d[p+s]=t[s];for(;++i<l;)(f||a<o)&&(d[p+n[i]]=e[a++]);return d}function Zt(e,t){var n=-1,r=e.length;for(t=t||A(r);++n<r;)t[n]=e[n];return t}function Xt(e,t,n,r){var a=!n;n=n||{};for(var o=-1,i=t.length;++o<i;){var l=t[o],s=r?r(n[l],e[l],l,n,e):Jo;s===Jo&&(s=e[l]),a?Pe(n,l,s):Ae(n,l,s)}return n}function en(a,o){return function(e,t){var n=ha(e)?Ll:Fe,r=o?o():{};return n(e,a,Pn(t,2),r)}}function tn(l){return Et(function(e,t){var n=-1,r=t.length,a=1<r?t[r-1]:Jo,o=2<r?t[2]:Jo;for(a=3<l.length&&"function"==typeof a?(r--,a):Jo,o&&Kn(t[0],t[1],o)&&(a=r<3?Jo:a,r=1),e=C(e);++n<r;){var i=t[n];i&&l(e,i,n,a)}return e})}function nn(o,i){return function(e,t){if(null==e)return e;if(!va(e))return o(e,t);for(var n=e.length,r=i?n:-1,a=C(e);(i?r--:++r<n)&&!1!==t(a[r],r,a););return e}}function rn(s){return function(e,t,n){for(var r=-1,a=C(e),o=n(e),i=o.length;i--;){var l=o[s?i:++r];if(!1===t(a[l],l,a))break}return e}}function an(a){return function(e){var t=is(e=za(e))?fs(e):Jo,n=t?t[0]:e.charAt(0),r=t?Ut(t,1).join(""):e.slice(1);return n[a]()+r}}function on(t){return function(e){return Vl(Eo(ho(e).replace(cl,"")),t,"")}}function ln(r){return function(){var e=arguments;switch(e.length){case 0:return new r;case 1:return new r(e[0]);case 2:return new r(e[0],e[1]);case 3:return new r(e[0],e[1],e[2]);case 4:return new r(e[0],e[1],e[2],e[3]);case 5:return new r(e[0],e[1],e[2],e[3],e[4]);case 6:return new r(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new r(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var t=me(r.prototype),n=r.apply(t,e);return _a(n)?n:t}}function sn(i){return function(e,t,n){var r=C(e);if(!va(e)){var a=Pn(t,3);e=to(e),t=function(e){return a(r[e],e,r)}}var o=i(e,t,n);return-1<o?r[a?e[o]:o]:Jo}}function un(s){return Sn(function(a){var o=a.length,e=o,t=ye.prototype.thru;for(s&&a.reverse();e--;){var n=a[e];if("function"!=typeof n)throw new D(Qo);if(t&&!i&&"wrapper"==Fn(n))var i=new ye([],!0)}for(e=i?e:o;++e<o;){var r=Fn(n=a[e]),l="wrapper"==r?Dn(n):Jo;i=l&&Gn(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?i[Fn(l[0])].apply(i,l[3]):1==n.length&&Gn(n)?i[r]():i.thru(n)}return function(){var e=arguments,t=e[0];if(i&&1==e.length&&ha(t))return i.plant(t).value();for(var n=0,r=o?a[n].apply(this,e):t;++n<o;)r=a[n].call(this,r);return r}})}function cn(u,c,d,f,p,h,m,v,g,y){var b=128&c,w=1&c,k=2&c,E=24&c,C=512&c,_=k?Jo:ln(u);return function e(){for(var t=arguments.length,n=A(t),r=t;r--;)n[r]=arguments[r];if(E)var a=Ln(e),o=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}(n,a);if(f&&(n=Jt(n,f,p,E)),h&&(n=Qt(n,h,m,E)),t-=o,E&&t<y){var i=us(n,a);return gn(u,c,cn,e.placeholder,d,n,i,v,g,y-t)}var l=w?d:this,s=k?l[u]:u;return t=n.length,v?n=function(e,t){for(var n=e.length,r=H(t.length,n),a=Zt(e);r--;){var o=t[r];e[r]=zn(o,n)?a[o]:Jo}return e}(n,v):C&&1<t&&n.reverse(),b&&g<t&&(n.length=g),this&&this!==wl&&this instanceof e&&(s=_||ln(s)),s.apply(l,n)}}function dn(i,l){return function(e,t){return n=e,r=i,a=l(t),o={},He(n,function(e,t,n){r(o,a(e),t,n)}),o;var n,r,a,o}}function fn(r,a){return function(e,t){var n;if(e===Jo&&t===Jo)return a;if(e!==Jo&&(n=e),t!==Jo){if(n===Jo)return t;t="string"==typeof e||"string"==typeof t?(e=Pt(e),Pt(t)):(e=Lt(e),Lt(t)),n=r(e,t)}return n}}function pn(r){return Sn(function(e){return e=Ml(e,Zl(Pn())),Et(function(t){var n=this;return r(e,function(e){return Fl(e,n,t)})})})}function hn(e,t){var n=(t=t===Jo?" ":Pt(t)).length;if(n<2)return n?kt(t,e):t;var r=kt(t,V(e/ds(t)));return is(t)?Ut(fs(r),0,e).join(""):r.slice(0,e)}function mn(r){return function(e,t,n){return n&&"number"!=typeof n&&Kn(e,t,n)&&(t=n=Jo),e=Ma(e),t===Jo?(t=e,e=0):t=Ma(t),function(e,t,n,r){for(var a=-1,o=q(V((t-e)/(n||1)),0),i=A(o);o--;)i[r?o:++a]=e,e+=n;return i}(e,t,n=n===Jo?e<t?1:-1:Ma(n),r)}}function vn(n){return function(e,t){return"string"==typeof e&&"string"==typeof t||(e=Wa(e),t=Wa(t)),n(e,t)}}function gn(e,t,n,r,a,o,i,l,s,u){var c=8&t;t|=c?32:64,4&(t&=~(c?64:32))||(t&=-4);var d=[e,t,a,c?o:Jo,c?i:Jo,c?Jo:o,c?Jo:i,l,s,u],f=n.apply(Jo,d);return Gn(e)&&Zn(f,d),f.placeholder=r,tr(f,e,t)}function yn(e){var r=o[e];return function(e,t){if(e=Wa(e),t=null==t?0:H(Ra(t),292)){var n=(za(e)+"e").split("e");return+((n=(za(r(n[0]+"e"+(+n[1]+t)))+"e").split("e"))[0]+"e"+(+n[1]-t))}return r(e)}}var bn=te&&1/cs(new te([,-0]))[1]==1/0?function(e){return new te(e)}:jo;function wn(i){return function(e){var t,n,r,a,o=Rn(e);return o==ci?ls(e):o==mi?(n=e,r=-1,a=Array(n.size),n.forEach(function(e){a[++r]=[e,e]}),a):Ml(i(t=e),function(e){return[e,t[e]]})}}function kn(e,t,n,r,a,o,i,l){var s=2&t;if(!s&&"function"!=typeof e)throw new D(Qo);var u=r?r.length:0;if(u||(t&=-97,r=a=Jo),i=i===Jo?i:q(Ra(i),0),l=l===Jo?l:Ra(l),u-=a?a.length:0,64&t){var c=r,d=a;r=a=Jo}var f,p,h,m,v,g,y,b,w,k,E,C,_,O=s?Jo:Dn(e),S=[e,t,n,r,a,c,d,o,i,l];if(O&&function(e,t){var n=e[1],r=t[1],a=n|r,o=a<131,i=128==r&&8==n||128==r&&256==n&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(o||i){1&r&&(e[2]=t[2],a|=1&n?0:4);var l=t[3];if(l){var s=e[3];e[3]=s?Jt(s,l,t[4]):l,e[4]=s?us(e[3],Xo):t[4]}(l=t[5])&&(s=e[5],e[5]=s?Qt(s,l,t[6]):l,e[6]=s?us(e[5],Xo):t[6]),(l=t[7])&&(e[7]=l),128&r&&(e[8]=null==e[8]?t[8]:H(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=a}}(S,O),e=S[0],t=S[1],n=S[2],r=S[3],a=S[4],!(l=S[9]=S[9]===Jo?s?0:e.length:q(S[9]-u,0))&&24&t&&(t&=-25),t&&1!=t)x=8==t||16==t?(E=t,C=l,_=ln(k=e),function e(){for(var t=arguments.length,n=A(t),r=t,a=Ln(e);r--;)n[r]=arguments[r];var o=t<3&&n[0]!==a&&n[t-1]!==a?[]:us(n,a);return(t-=o.length)<C?gn(k,E,cn,e.placeholder,Jo,n,o,Jo,Jo,C-t):Fl(this&&this!==wl&&this instanceof e?_:k,this,n)}):32!=t&&33!=t||a.length?cn.apply(Jo,S):(g=n,y=r,b=1&t,w=ln(v=e),function e(){for(var t=-1,n=arguments.length,r=-1,a=y.length,o=A(a+n),i=this&&this!==wl&&this instanceof e?w:v;++r<a;)o[r]=y[r];for(;n--;)o[r++]=arguments[++t];return Fl(i,b?g:this,o)});else var x=(p=n,h=1&t,m=ln(f=e),function e(){return(this&&this!==wl&&this instanceof e?m:f).apply(h?p:this,arguments)});return tr((O?_t:Zn)(x,S),e,t)}function En(e,t,n,r){return e===Jo||ca(e,s[n])&&!_.call(r,n)?t:e}function Cn(e,t,n,r,a,o){return _a(e)&&_a(t)&&(o.set(t,e),ht(e,t,Jo,Cn,o),o.delete(t)),e}function _n(e){return Aa(e)?Jo:e}function On(e,t,n,r,a,o){var i=1&n,l=e.length,s=t.length;if(l!=s&&!(i&&l<s))return!1;var u=o.get(e);if(u&&o.get(t))return u==t;var c=-1,d=!0,f=2&n?new Ce:Jo;for(o.set(e,t),o.set(t,e);++c<l;){var p=e[c],h=t[c];if(r)var m=i?r(h,p,c,t,e,o):r(p,h,c,e,t,o);if(m!==Jo){if(m)continue;d=!1;break}if(f){if(!Bl(t,function(e,t){if(!es(f,t)&&(p===e||a(p,e,n,r,o)))return f.push(t)})){d=!1;break}}else if(p!==h&&!a(p,h,n,r,o)){d=!1;break}}return o.delete(e),o.delete(t),d}function Sn(e){return er(Jn(e,Jo,mr),e+"")}function xn(e){return Qe(e,to,In)}function An(e){return Qe(e,no,Mn)}var Dn=ae?function(e){return ae.get(e)}:jo;function Fn(e){for(var t=e.name+"",n=oe[t],r=_.call(oe,t)?n.length:0;r--;){var a=n[r],o=a.func;if(null==o||o==e)return a.name}return t}function Ln(e){return(_.call(he,"placeholder")?he:e).placeholder}function Pn(){var e=he.iteratee||Do;return e=e===Do?st:e,arguments.length?e(arguments[0],arguments[1]):e}function jn(e,t){var n,r,a=e.__data__;return("string"==(r=void 0===(n=t)?"undefined":ms(n))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?a["string"==typeof t?"string":"hash"]:a.map}function Tn(e){for(var t=to(e),n=t.length;n--;){var r=t[n],a=e[r];t[n]=[r,a,$n(a)]}return t}function Nn(e,t){var n=null==e?Jo:e[t];return lt(n)?n:Jo}var In=B?function(t){return null==t?[]:(t=C(t),Tl(B(t),function(e){return F.call(t,e)}))}:Wo,Mn=B?function(e){for(var t=[];e;)Rl(t,In(e)),e=S(e);return t}:Wo,Rn=Ze;function Vn(e,t,n){for(var r=-1,a=(t=zt(t,e)).length,o=!1;++r<a;){var i=lr(t[r]);if(!(o=null!=e&&n(e,i)))break;e=e[i]}return o||++r!=a?o:!!(a=null==e?0:e.length)&&Ca(a)&&zn(i,a)&&(ha(e)||pa(e))}function Wn(e){return"function"!=typeof e.constructor||Hn(e)?{}:me(S(e))}function Bn(e){return ha(e)||pa(e)||!!(P&&e&&e[P])}function zn(e,t){return!!(t=null==t?ei:t)&&("number"==typeof e||il.test(e))&&-1<e&&e%1==0&&e<t}function Kn(e,t,n){if(!_a(n))return!1;var r=void 0===t?"undefined":ms(t);return!!("number"==r?va(n)&&zn(t,n.length):"string"==r&&t in n)&&ca(n[t],e)}function Un(e,t){if(ha(e))return!1;var n=void 0===e?"undefined":ms(e);return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Pa(e))||Bi.test(e)||!Wi.test(e)||null!=t&&e in C(t)}function Gn(e){var t=Fn(e),n=he[t];if("function"!=typeof n||!(t in be.prototype))return!1;if(e===n)return!0;var r=Dn(n);return!!r&&e===r[0]}(Z&&Rn(new Z(new ArrayBuffer(1)))!=wi||X&&Rn(new X)!=ci||ee&&Rn(ee.resolve())!=pi||te&&Rn(new te)!=mi||ne&&Rn(new ne)!=yi)&&(Rn=function(e){var t=Ze(e),n=t==fi?e.constructor:Jo,r=n?sr(n):"";if(r)switch(r){case ie:return wi;case le:return ci;case se:return pi;case ue:return mi;case ce:return yi}return t});var qn=u?ka:Bo;function Hn(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||s)}function $n(e){return e==e&&!_a(e)}function Yn(t,n){return function(e){return null!=e&&e[t]===n&&(n!==Jo||t in C(e))}}function Jn(o,i,l){return i=q(i===Jo?o.length-1:i,0),function(){for(var e=arguments,t=-1,n=q(e.length-i,0),r=A(n);++t<n;)r[t]=e[i+t];t=-1;for(var a=A(i+1);++t<i;)a[t]=e[t];return a[i]=l(r),Fl(o,this,a)}}function Qn(e,t){return t.length<2?e:Je(e,St(t,0,-1))}var Zn=nr(_t),Xn=R||function(e,t){return wl.setTimeout(e,t)},er=nr(Ot);function tr(e,t,n){var r,a,o,i=t+"";return er(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(1<n?"& ":"")+t[r],t=t.join(2<n?", ":" "),e.replace(Yi,"{\n/* [wrapped with "+t+"] */\n")}(i,(o=i.match(Ji),r=o?o[1].split(Qi):[],a=n,Pl(ni,function(e){var t="_."+e[0];a&e[1]&&!Nl(r,t)&&r.push(t)}),r.sort())))}function nr(n){var r=0,a=0;return function(){var e=$(),t=16-(e-a);if(a=e,0<t){if(800<=++r)return arguments[0]}else r=0;return n.apply(Jo,arguments)}}function rr(e,t){var n=-1,r=e.length,a=r-1;for(t=t===Jo?r:t;++n<t;){var o=wt(n,a),i=e[o];e[o]=e[n],e[n]=i}return e.length=t,e}var ar,or,ir=(or=(ar=aa(function(e){var a=[];return zi.test(e)&&a.push(""),e.replace(Ki,function(e,t,n,r){a.push(n?r.replace(Xi,"$1"):t||e)}),a},function(e){return 500===or.size&&or.clear(),e})).cache,ar);function lr(e){if("string"==typeof e||Pa(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function sr(e){if(null!=e){try{return d.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function ur(e){if(e instanceof be)return e.clone();var t=new ye(e.__wrapped__,e.__chain__);return t.__actions__=Zt(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var cr=Et(function(e,t){return ga(e)?Re(e,Ue(t,1,ga,!0)):[]}),dr=Et(function(e,t){var n=wr(t);return ga(n)&&(n=Jo),ga(e)?Re(e,Ue(t,1,ga,!0),Pn(n,2)):[]}),fr=Et(function(e,t){var n=wr(t);return ga(n)&&(n=Jo),ga(e)?Re(e,Ue(t,1,ga,!0),Jo,n):[]});function pr(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var a=null==n?0:Ra(n);return a<0&&(a=q(r+a,0)),Kl(e,Pn(t,3),a)}function hr(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var a=r-1;return n!==Jo&&(a=Ra(n),a=n<0?q(r+a,0):H(a,r-1)),Kl(e,Pn(t,3),a,!0)}function mr(e){return null!=e&&e.length?Ue(e,1):[]}function vr(e){return e&&e.length?e[0]:Jo}var gr=Et(function(e){var t=Ml(e,Wt);return t.length&&t[0]===e[0]?nt(t):[]}),yr=Et(function(e){var t=wr(e),n=Ml(e,Wt);return t===wr(n)?t=Jo:n.pop(),n.length&&n[0]===e[0]?nt(n,Pn(t,2)):[]}),br=Et(function(e){var t=wr(e),n=Ml(e,Wt);return(t="function"==typeof t?t:Jo)&&n.pop(),n.length&&n[0]===e[0]?nt(n,Jo,t):[]});function wr(e){var t=null==e?0:e.length;return t?e[t-1]:Jo}var kr=Et(Er);function Er(e,t){return e&&e.length&&t&&t.length?yt(e,t):e}var Cr=Sn(function(e,t){var n=null==e?0:e.length,r=je(e,t);return bt(e,Ml(t,function(e){return zn(e,n)?+e:e}).sort(Yt)),r});function _r(e){return null==e?e:Q.call(e)}var Or=Et(function(e){return jt(Ue(e,1,ga,!0))}),Sr=Et(function(e){var t=wr(e);return ga(t)&&(t=Jo),jt(Ue(e,1,ga,!0),Pn(t,2))}),xr=Et(function(e){var t=wr(e);return t="function"==typeof t?t:Jo,jt(Ue(e,1,ga,!0),Jo,t)});function Ar(t){if(!t||!t.length)return[];var n=0;return t=Tl(t,function(e){if(ga(e))return n=q(e.length,n),!0}),Ql(n,function(e){return Ml(t,$l(e))})}function Dr(e,t){if(!e||!e.length)return[];var n=Ar(e);return null==t?n:Ml(n,function(e){return Fl(t,Jo,e)})}var Fr=Et(function(e,t){return ga(e)?Re(e,t):[]}),Lr=Et(function(e){return Rt(Tl(e,ga))}),Pr=Et(function(e){var t=wr(e);return ga(t)&&(t=Jo),Rt(Tl(e,ga),Pn(t,2))}),jr=Et(function(e){var t=wr(e);return t="function"==typeof t?t:Jo,Rt(Tl(e,ga),Jo,t)}),Tr=Et(Ar),Nr=Et(function(e){var t=e.length,n=1<t?e[t-1]:Jo;return n="function"==typeof n?(e.pop(),n):Jo,Dr(e,n)});function Ir(e){var t=he(e);return t.__chain__=!0,t}function Mr(e,t){return t(e)}var Rr=Sn(function(t){function e(e){return je(e,t)}var n=t.length,r=n?t[0]:0,a=this.__wrapped__;return!(1<n||this.__actions__.length)&&a instanceof be&&zn(r)?((a=a.slice(r,+r+(n?1:0))).__actions__.push({func:Mr,args:[e],thisArg:Jo}),new ye(a,this.__chain__).thru(function(e){return n&&!e.length&&e.push(Jo),e})):this.thru(e)}),Vr=en(function(e,t,n){_.call(e,n)?++e[n]:Pe(e,n,1)}),Wr=sn(pr),Br=sn(hr);function zr(e,t){return(ha(e)?Pl:Ve)(e,Pn(t,3))}function Kr(e,t){return(ha(e)?function(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}:We)(e,Pn(t,3))}var Ur=en(function(e,t,n){_.call(e,n)?e[n].push(t):Pe(e,n,[t])}),Gr=Et(function(e,t,n){var r=-1,a="function"==typeof t,o=va(e)?A(e.length):[];return Ve(e,function(e){o[++r]=a?Fl(t,e,n):rt(e,t,n)}),o}),qr=en(function(e,t,n){Pe(e,n,t)});function Hr(e,t){return(ha(e)?Ml:dt)(e,Pn(t,3))}var $r=en(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),Yr=Et(function(e,t){if(null==e)return[];var n=t.length;return 1<n&&Kn(e,t[0],t[1])?t=[]:2<n&&Kn(t[0],t[1],t[2])&&(t=[t[0]]),vt(e,Ue(t,1),[])}),Jr=M||function(){return wl.Date.now()};function Qr(e,t,n){return t=n?Jo:t,t=e&&null==t?e.length:t,kn(e,128,Jo,Jo,Jo,Jo,t)}function Zr(e,t){var n;if("function"!=typeof t)throw new D(Qo);return e=Ra(e),function(){return 0<--e&&(n=t.apply(this,arguments)),e<=1&&(t=Jo),n}}var Xr=Et(function(e,t,n){var r=1;if(n.length){var a=us(n,Ln(Xr));r|=32}return kn(e,r,t,n,a)}),ea=Et(function(e,t,n){var r=3;if(n.length){var a=us(n,Ln(ea));r|=32}return kn(t,r,e,n,a)});function ta(r,a,e){var o,i,n,l,s,u,c=0,d=!1,f=!1,t=!0;if("function"!=typeof r)throw new D(Qo);function p(e){var t=o,n=i;return o=i=Jo,c=e,l=r.apply(n,t)}function h(e){var t=e-u;return u===Jo||a<=t||t<0||f&&n<=e-c}function m(){var e,t=Jr();if(h(t))return v(t);s=Xn(m,(e=a-(t-u),f?H(e,n-(t-c)):e))}function v(e){return s=Jo,t&&o?p(e):(o=i=Jo,l)}function g(){var e,t=Jr(),n=h(t);if(o=arguments,i=this,u=t,n){if(s===Jo)return c=e=u,s=Xn(m,a),d?p(e):l;if(f)return s=Xn(m,a),p(u)}return s===Jo&&(s=Xn(m,a)),l}return a=Wa(a)||0,_a(e)&&(d=!!e.leading,n=(f="maxWait"in e)?q(Wa(e.maxWait)||0,a):n,t="trailing"in e?!!e.trailing:t),g.cancel=function(){s!==Jo&&Gt(s),c=0,o=u=i=s=Jo},g.flush=function(){return s===Jo?l:v(Jr())},g}var na=Et(function(e,t){return Me(e,1,t)}),ra=Et(function(e,t,n){return Me(e,Wa(t)||0,n)});function aa(a,o){if("function"!=typeof a||null!=o&&"function"!=typeof o)throw new D(Qo);function i(){var e=arguments,t=o?o.apply(this,e):e[0],n=i.cache;if(n.has(t))return n.get(t);var r=a.apply(this,e);return i.cache=n.set(t,r)||n,r}return i.cache=new(aa.Cache||Ee),i}function oa(t){if("function"!=typeof t)throw new D(Qo);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}aa.Cache=Ee;var ia=Kt(function(r,a){var o=(a=1==a.length&&ha(a[0])?Ml(a[0],Zl(Pn())):Ml(Ue(a,1),Zl(Pn()))).length;return Et(function(e){for(var t=-1,n=H(e.length,o);++t<n;)e[t]=a[t].call(this,e[t]);return Fl(r,this,e)})}),la=Et(function(e,t){var n=us(t,Ln(la));return kn(e,32,Jo,t,n)}),sa=Et(function(e,t){var n=us(t,Ln(sa));return kn(e,64,Jo,t,n)}),ua=Sn(function(e,t){return kn(e,256,Jo,Jo,Jo,t)});function ca(e,t){return e===t||e!=e&&t!=t}var da=vn(Xe),fa=vn(function(e,t){return t<=e}),pa=at(function(){return arguments}())?at:function(e){return Oa(e)&&_.call(e,"callee")&&!F.call(e,"callee")},ha=A.isArray,ma=El?Zl(El):function(e){return Oa(e)&&Ze(e)==bi};function va(e){return null!=e&&Ca(e.length)&&!ka(e)}function ga(e){return Oa(e)&&va(e)}var ya=z||Bo,ba=Cl?Zl(Cl):function(e){return Oa(e)&&Ze(e)==ii};function wa(e){if(!Oa(e))return!1;var t=Ze(e);return t==li||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!Aa(e)}function ka(e){if(!_a(e))return!1;var t=Ze(e);return t==si||t==ui||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Ea(e){return"number"==typeof e&&e==Ra(e)}function Ca(e){return"number"==typeof e&&-1<e&&e%1==0&&e<=ei}function _a(e){var t=void 0===e?"undefined":ms(e);return null!=e&&("object"==t||"function"==t)}function Oa(e){return null!=e&&"object"==(void 0===e?"undefined":ms(e))}var Sa=_l?Zl(_l):function(e){return Oa(e)&&Rn(e)==ci};function xa(e){return"number"==typeof e||Oa(e)&&Ze(e)==di}function Aa(e){if(!Oa(e)||Ze(e)!=fi)return!1;var t=S(e);if(null===t)return!0;var n=_.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&d.call(n)==m}var Da=Ol?Zl(Ol):function(e){return Oa(e)&&Ze(e)==hi},Fa=Sl?Zl(Sl):function(e){return Oa(e)&&Rn(e)==mi};function La(e){return"string"==typeof e||!ha(e)&&Oa(e)&&Ze(e)==vi}function Pa(e){return"symbol"==(void 0===e?"undefined":ms(e))||Oa(e)&&Ze(e)==gi}var ja=xl?Zl(xl):function(e){return Oa(e)&&Ca(e.length)&&!!vl[Ze(e)]},Ta=vn(ct),Na=vn(function(e,t){return e<=t});function Ia(e){if(!e)return[];if(va(e))return La(e)?fs(e):Zt(e);if(j&&e[j])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[j]());var t=Rn(e);return(t==ci?ls:t==mi?cs:co)(e)}function Ma(e){return e?(e=Wa(e))!==1/0&&e!==-1/0?e==e?e:0:17976931348623157e292*(e<0?-1:1):0===e?e:0}function Ra(e){var t=Ma(e),n=t%1;return t==t?n?t-n:t:0}function Va(e){return e?Te(Ra(e),0,ti):0}function Wa(e){if("number"==typeof e)return e;if(Pa(e))return NaN;if(_a(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=_a(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(qi,"");var n=rl.test(e);return n||ol.test(e)?bl(e.slice(2),n?2:8):nl.test(e)?NaN:+e}function Ba(e){return Xt(e,no(e))}function za(e){return null==e?"":Pt(e)}var Ka=tn(function(e,t){if(Hn(t)||va(t))Xt(t,to(t),e);else for(var n in t)_.call(t,n)&&Ae(e,n,t[n])}),Ua=tn(function(e,t){Xt(t,no(t),e)}),Ga=tn(function(e,t,n,r){Xt(t,no(t),e,r)}),qa=tn(function(e,t,n,r){Xt(t,to(t),e,r)}),Ha=Sn(je),$a=Et(function(e){return e.push(Jo,En),Fl(Ga,Jo,e)}),Ya=Et(function(e){return e.push(Jo,Cn),Fl(ao,Jo,e)});function Ja(e,t,n){var r=null==e?Jo:Je(e,t);return r===Jo?n:r}function Qa(e,t){return null!=e&&Vn(e,t,tt)}var Za=dn(function(e,t,n){e[t]=n},Oo(Ao)),Xa=dn(function(e,t,n){_.call(e,t)?e[t].push(n):e[t]=[n]},Pn),eo=Et(rt);function to(e){return va(e)?Oe(e):ut(e)}function no(e){return va(e)?Oe(e,!0):function(e){if(!_a(e))return function(e){var t=[];if(null!=e)for(var n in C(e))t.push(n);return t}(e);var t=Hn(e),n=[];for(var r in e)("constructor"!=r||!t&&_.call(e,r))&&n.push(r);return n}(e)}var ro=tn(function(e,t,n){ht(e,t,n)}),ao=tn(function(e,t,n,r){ht(e,t,n,r)}),oo=Sn(function(t,e){var n={};if(null==t)return n;var r=!1;e=Ml(e,function(e){return e=zt(e,t),r=r||1<e.length,e}),Xt(t,An(t),n),r&&(n=Ne(n,7,_n));for(var a=e.length;a--;)Tt(n,e[a]);return n}),io=Sn(function(e,t){return null==e?{}:gt(n=e,t,function(e,t){return Qa(n,t)});var n});function lo(e,n){if(null==e)return{};var t=Ml(An(e),function(e){return[e]});return n=Pn(n),gt(e,t,function(e,t){return n(e,t[0])})}var so=wn(to),uo=wn(no);function co(e){return null==e?[]:Xl(e,to(e))}var fo=on(function(e,t,n){return t=t.toLowerCase(),e+(n?po(t):t)});function po(e){return ko(za(e).toLowerCase())}function ho(e){return(e=za(e))&&e.replace(ll,rs).replace(dl,"")}var mo=on(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),vo=on(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),go=an("toLowerCase"),yo=on(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),bo=on(function(e,t,n){return e+(n?" ":"")+ko(t)}),wo=on(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),ko=an("toUpperCase");function Eo(e,t,n){return e=za(e),(t=n?Jo:t)===Jo?(r=e,pl.test(r)?e.match(fl)||[]:e.match(Zi)||[]):e.match(t)||[];var r}var Co=Et(function(e,t){try{return Fl(e,Jo,t)}catch(e){return wa(e)?e:new a(e)}}),_o=Sn(function(t,e){return Pl(e,function(e){e=lr(e),Pe(t,e,Xr(t[e],t))}),t});function Oo(e){return function(){return e}}var So=un(),xo=un(!0);function Ao(e){return e}function Do(e){return st("function"==typeof e?e:Ne(e,1))}var Fo=Et(function(t,n){return function(e){return rt(e,t,n)}}),Lo=Et(function(t,n){return function(e){return rt(t,e,n)}});function Po(r,t,e){var n=to(t),a=Ye(t,n);null!=e||_a(t)&&(a.length||!n.length)||(e=t,t=r,r=this,a=Ye(t,to(t)));var o=!(_a(e)&&"chain"in e&&!e.chain),i=ka(r);return Pl(a,function(e){var n=t[e];r[e]=n,i&&(r.prototype[e]=function(){var e=this.__chain__;if(o||e){var t=r(this.__wrapped__);return(t.__actions__=Zt(this.__actions__)).push({func:n,args:arguments,thisArg:r}),t.__chain__=e,t}return n.apply(r,Rl([this.value()],arguments))})}),r}function jo(){}var To=pn(Ml),No=pn(jl),Io=pn(Bl);function Mo(e){return Un(e)?$l(lr(e)):(t=e,function(e){return Je(e,t)});var t}var Ro=mn(),Vo=mn(!0);function Wo(){return[]}function Bo(){return!1}var zo,Ko=fn(function(e,t){return e+t},0),Uo=yn("ceil"),Go=fn(function(e,t){return e/t},1),qo=yn("floor"),Ho=fn(function(e,t){return e*t},1),$o=yn("round"),Yo=fn(function(e,t){return e-t},0);return he.after=function(e,t){if("function"!=typeof t)throw new D(Qo);return e=Ra(e),function(){if(--e<1)return t.apply(this,arguments)}},he.ary=Qr,he.assign=Ka,he.assignIn=Ua,he.assignInWith=Ga,he.assignWith=qa,he.at=Ha,he.before=Zr,he.bind=Xr,he.bindAll=_o,he.bindKey=ea,he.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return ha(e)?e:[e]},he.chain=Ir,he.chunk=function(e,t,n){t=(n?Kn(e,t,n):t===Jo)?1:q(Ra(t),0);var r=null==e?0:e.length;if(!r||t<1)return[];for(var a=0,o=0,i=A(V(r/t));a<r;)i[o++]=St(e,a,a+=t);return i},he.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,a=[];++t<n;){var o=e[t];o&&(a[r++]=o)}return a},he.concat=function(){var e=arguments.length;if(!e)return[];for(var t=A(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return Rl(ha(n)?Zt(n):[n],Ue(t,1))},he.cond=function(r){var a=null==r?0:r.length,t=Pn();return r=a?Ml(r,function(e){if("function"!=typeof e[1])throw new D(Qo);return[t(e[0]),e[1]]}):[],Et(function(e){for(var t=-1;++t<a;){var n=r[t];if(Fl(n[0],this,e))return Fl(n[1],this,e)}})},he.conforms=function(e){return t=Ne(e,1),n=to(t),function(e){return Ie(e,t,n)};var t,n},he.constant=Oo,he.countBy=Vr,he.create=function(e,t){var n=me(e);return null==t?n:Le(n,t)},he.curry=function e(t,n,r){var a=kn(t,8,Jo,Jo,Jo,Jo,Jo,n=r?Jo:n);return a.placeholder=e.placeholder,a},he.curryRight=function e(t,n,r){var a=kn(t,16,Jo,Jo,Jo,Jo,Jo,n=r?Jo:n);return a.placeholder=e.placeholder,a},he.debounce=ta,he.defaults=$a,he.defaultsDeep=Ya,he.defer=na,he.delay=ra,he.difference=cr,he.differenceBy=dr,he.differenceWith=fr,he.drop=function(e,t,n){var r=null==e?0:e.length;return r?St(e,(t=n||t===Jo?1:Ra(t))<0?0:t,r):[]},he.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?St(e,0,(t=r-(t=n||t===Jo?1:Ra(t)))<0?0:t):[]},he.dropRightWhile=function(e,t){return e&&e.length?It(e,Pn(t,3),!0,!0):[]},he.dropWhile=function(e,t){return e&&e.length?It(e,Pn(t,3),!0):[]},he.fill=function(e,t,n,r){var a=null==e?0:e.length;return a?(n&&"number"!=typeof n&&Kn(e,t,n)&&(n=0,r=a),function(e,t,n,r){var a=e.length;for((n=Ra(n))<0&&(n=a<-n?0:a+n),(r=r===Jo||a<r?a:Ra(r))<0&&(r+=a),r=r<n?0:Va(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},he.filter=function(e,t){return(ha(e)?Tl:Ke)(e,Pn(t,3))},he.flatMap=function(e,t){return Ue(Hr(e,t),1)},he.flatMapDeep=function(e,t){return Ue(Hr(e,t),1/0)},he.flatMapDepth=function(e,t,n){return n=n===Jo?1:Ra(n),Ue(Hr(e,t),n)},he.flatten=mr,he.flattenDeep=function(e){return null!=e&&e.length?Ue(e,1/0):[]},he.flattenDepth=function(e,t){return null!=e&&e.length?Ue(e,t=t===Jo?1:Ra(t)):[]},he.flip=function(e){return kn(e,512)},he.flow=So,he.flowRight=xo,he.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var a=e[t];r[a[0]]=a[1]}return r},he.functions=function(e){return null==e?[]:Ye(e,to(e))},he.functionsIn=function(e){return null==e?[]:Ye(e,no(e))},he.groupBy=Ur,he.initial=function(e){return null!=e&&e.length?St(e,0,-1):[]},he.intersection=gr,he.intersectionBy=yr,he.intersectionWith=br,he.invert=Za,he.invertBy=Xa,he.invokeMap=Gr,he.iteratee=Do,he.keyBy=qr,he.keys=to,he.keysIn=no,he.map=Hr,he.mapKeys=function(e,r){var a={};return r=Pn(r,3),He(e,function(e,t,n){Pe(a,r(e,t,n),e)}),a},he.mapValues=function(e,r){var a={};return r=Pn(r,3),He(e,function(e,t,n){Pe(a,t,r(e,t,n))}),a},he.matches=function(e){return ft(Ne(e,1))},he.matchesProperty=function(e,t){return pt(e,Ne(t,1))},he.memoize=aa,he.merge=ro,he.mergeWith=ao,he.method=Fo,he.methodOf=Lo,he.mixin=Po,he.negate=oa,he.nthArg=function(t){return t=Ra(t),Et(function(e){return mt(e,t)})},he.omit=oo,he.omitBy=function(e,t){return lo(e,oa(Pn(t)))},he.once=function(e){return Zr(2,e)},he.orderBy=function(e,t,n,r){return null==e?[]:(ha(t)||(t=null==t?[]:[t]),ha(n=r?Jo:n)||(n=null==n?[]:[n]),vt(e,t,n))},he.over=To,he.overArgs=ia,he.overEvery=No,he.overSome=Io,he.partial=la,he.partialRight=sa,he.partition=$r,he.pick=io,he.pickBy=lo,he.property=Mo,he.propertyOf=function(t){return function(e){return null==t?Jo:Je(t,e)}},he.pull=kr,he.pullAll=Er,he.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?yt(e,t,Pn(n,2)):e},he.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?yt(e,t,Jo,n):e},he.pullAt=Cr,he.range=Ro,he.rangeRight=Vo,he.rearg=ua,he.reject=function(e,t){return(ha(e)?Tl:Ke)(e,oa(Pn(t,3)))},he.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,a=[],o=e.length;for(t=Pn(t,3);++r<o;){var i=e[r];t(i,r,e)&&(n.push(i),a.push(r))}return bt(e,a),n},he.rest=function(e,t){if("function"!=typeof e)throw new D(Qo);return Et(e,t=t===Jo?t:Ra(t))},he.reverse=_r,he.sampleSize=function(e,t,n){return t=(n?Kn(e,t,n):t===Jo)?1:Ra(t),(ha(e)?function(e,t){return rr(Zt(e),Te(t,0,e.length))}:function(e,t){var n=co(e);return rr(n,Te(t,0,n.length))})(e,t)},he.set=function(e,t,n){return null==e?e:Ct(e,t,n)},he.setWith=function(e,t,n,r){return r="function"==typeof r?r:Jo,null==e?e:Ct(e,t,n,r)},he.shuffle=function(e){return(ha(e)?function(e){return rr(Zt(e))}:function(e){return rr(co(e))})(e)},he.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n=n&&"number"!=typeof n&&Kn(e,t,n)?(t=0,r):(t=null==t?0:Ra(t),n===Jo?r:Ra(n)),St(e,t,n)):[]},he.sortBy=Yr,he.sortedUniq=function(e){return e&&e.length?Ft(e):[]},he.sortedUniqBy=function(e,t){return e&&e.length?Ft(e,Pn(t,2)):[]},he.split=function(e,t,n){return n&&"number"!=typeof n&&Kn(e,t,n)&&(t=n=Jo),(n=n===Jo?ti:n>>>0)?(e=za(e))&&("string"==typeof t||null!=t&&!Da(t))&&!(t=Pt(t))&&is(e)?Ut(fs(e),0,n):e.split(t,n):[]},he.spread=function(r,a){if("function"!=typeof r)throw new D(Qo);return a=null==a?0:q(Ra(a),0),Et(function(e){var t=e[a],n=Ut(e,0,a);return t&&Rl(n,t),Fl(r,this,n)})},he.tail=function(e){var t=null==e?0:e.length;return t?St(e,1,t):[]},he.take=function(e,t,n){return e&&e.length?St(e,0,(t=n||t===Jo?1:Ra(t))<0?0:t):[]},he.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?St(e,(t=r-(t=n||t===Jo?1:Ra(t)))<0?0:t,r):[]},he.takeRightWhile=function(e,t){return e&&e.length?It(e,Pn(t,3),!1,!0):[]},he.takeWhile=function(e,t){return e&&e.length?It(e,Pn(t,3)):[]},he.tap=function(e,t){return t(e),e},he.throttle=function(e,t,n){var r=!0,a=!0;if("function"!=typeof e)throw new D(Qo);return _a(n)&&(r="leading"in n?!!n.leading:r,a="trailing"in n?!!n.trailing:a),ta(e,t,{leading:r,maxWait:t,trailing:a})},he.thru=Mr,he.toArray=Ia,he.toPairs=so,he.toPairsIn=uo,he.toPath=function(e){return ha(e)?Ml(e,lr):Pa(e)?[e]:Zt(ir(za(e)))},he.toPlainObject=Ba,he.transform=function(e,r,a){var t=ha(e),n=t||ya(e)||ja(e);if(r=Pn(r,4),null==a){var o=e&&e.constructor;a=n?t?new o:[]:_a(e)&&ka(o)?me(S(e)):{}}return(n?Pl:He)(e,function(e,t,n){return r(a,e,t,n)}),a},he.unary=function(e){return Qr(e,1)},he.union=Or,he.unionBy=Sr,he.unionWith=xr,he.uniq=function(e){return e&&e.length?jt(e):[]},he.uniqBy=function(e,t){return e&&e.length?jt(e,Pn(t,2)):[]},he.uniqWith=function(e,t){return t="function"==typeof t?t:Jo,e&&e.length?jt(e,Jo,t):[]},he.unset=function(e,t){return null==e||Tt(e,t)},he.unzip=Ar,he.unzipWith=Dr,he.update=function(e,t,n){return null==e?e:Nt(e,t,Bt(n))},he.updateWith=function(e,t,n,r){return r="function"==typeof r?r:Jo,null==e?e:Nt(e,t,Bt(n),r)},he.values=co,he.valuesIn=function(e){return null==e?[]:Xl(e,no(e))},he.without=Fr,he.words=Eo,he.wrap=function(e,t){return la(Bt(t),e)},he.xor=Lr,he.xorBy=Pr,he.xorWith=jr,he.zip=Tr,he.zipObject=function(e,t){return Vt(e||[],t||[],Ae)},he.zipObjectDeep=function(e,t){return Vt(e||[],t||[],Ct)},he.zipWith=Nr,he.entries=so,he.entriesIn=uo,he.extend=Ua,he.extendWith=Ga,Po(he,he),he.add=Ko,he.attempt=Co,he.camelCase=fo,he.capitalize=po,he.ceil=Uo,he.clamp=function(e,t,n){return n===Jo&&(n=t,t=Jo),n!==Jo&&(n=(n=Wa(n))==n?n:0),t!==Jo&&(t=(t=Wa(t))==t?t:0),Te(Wa(e),t,n)},he.clone=function(e){return Ne(e,4)},he.cloneDeep=function(e){return Ne(e,5)},he.cloneDeepWith=function(e,t){return Ne(e,5,t="function"==typeof t?t:Jo)},he.cloneWith=function(e,t){return Ne(e,4,t="function"==typeof t?t:Jo)},he.conformsTo=function(e,t){return null==t||Ie(e,t,to(t))},he.deburr=ho,he.defaultTo=function(e,t){return null==e||e!=e?t:e},he.divide=Go,he.endsWith=function(e,t,n){e=za(e),t=Pt(t);var r=e.length,a=n=n===Jo?r:Te(Ra(n),0,r);return 0<=(n-=t.length)&&e.slice(n,a)==t},he.eq=ca,he.escape=function(e){return(e=za(e))&&Ii.test(e)?e.replace(Ti,as):e},he.escapeRegExp=function(e){return(e=za(e))&&Gi.test(e)?e.replace(Ui,"\\$&"):e},he.every=function(e,t,n){var r=ha(e)?jl:Be;return n&&Kn(e,t,n)&&(t=Jo),r(e,Pn(t,3))},he.find=Wr,he.findIndex=pr,he.findKey=function(e,t){return zl(e,Pn(t,3),He)},he.findLast=Br,he.findLastIndex=hr,he.findLastKey=function(e,t){return zl(e,Pn(t,3),$e)},he.floor=qo,he.forEach=zr,he.forEachRight=Kr,he.forIn=function(e,t){return null==e?e:Ge(e,Pn(t,3),no)},he.forInRight=function(e,t){return null==e?e:qe(e,Pn(t,3),no)},he.forOwn=function(e,t){return e&&He(e,Pn(t,3))},he.forOwnRight=function(e,t){return e&&$e(e,Pn(t,3))},he.get=Ja,he.gt=da,he.gte=fa,he.has=function(e,t){return null!=e&&Vn(e,t,et)},he.hasIn=Qa,he.head=vr,he.identity=Ao,he.includes=function(e,t,n,r){e=va(e)?e:co(e),n=n&&!r?Ra(n):0;var a=e.length;return n<0&&(n=q(a+n,0)),La(e)?n<=a&&-1<e.indexOf(t,n):!!a&&-1<Ul(e,t,n)},he.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var a=null==n?0:Ra(n);return a<0&&(a=q(r+a,0)),Ul(e,t,a)},he.inRange=function(e,t,n){return t=Ma(t),n===Jo?(n=t,t=0):n=Ma(n),(r=e=Wa(e))>=H(a=t,o=n)&&r<q(a,o);var r,a,o},he.invoke=eo,he.isArguments=pa,he.isArray=ha,he.isArrayBuffer=ma,he.isArrayLike=va,he.isArrayLikeObject=ga,he.isBoolean=function(e){return!0===e||!1===e||Oa(e)&&Ze(e)==oi},he.isBuffer=ya,he.isDate=ba,he.isElement=function(e){return Oa(e)&&1===e.nodeType&&!Aa(e)},he.isEmpty=function(e){if(null==e)return!0;if(va(e)&&(ha(e)||"string"==typeof e||"function"==typeof e.splice||ya(e)||ja(e)||pa(e)))return!e.length;var t=Rn(e);if(t==ci||t==mi)return!e.size;if(Hn(e))return!ut(e).length;for(var n in e)if(_.call(e,n))return!1;return!0},he.isEqual=function(e,t){return ot(e,t)},he.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:Jo)?n(e,t):Jo;return r===Jo?ot(e,t,Jo,n):!!r},he.isError=wa,he.isFinite=function(e){return"number"==typeof e&&K(e)},he.isFunction=ka,he.isInteger=Ea,he.isLength=Ca,he.isMap=Sa,he.isMatch=function(e,t){return e===t||it(e,t,Tn(t))},he.isMatchWith=function(e,t,n){return n="function"==typeof n?n:Jo,it(e,t,Tn(t),n)},he.isNaN=function(e){return xa(e)&&e!=+e},he.isNative=function(e){if(qn(e))throw new a("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return lt(e)},he.isNil=function(e){return null==e},he.isNull=function(e){return null===e},he.isNumber=xa,he.isObject=_a,he.isObjectLike=Oa,he.isPlainObject=Aa,he.isRegExp=Da,he.isSafeInteger=function(e){return Ea(e)&&-ei<=e&&e<=ei},he.isSet=Fa,he.isString=La,he.isSymbol=Pa,he.isTypedArray=ja,he.isUndefined=function(e){return e===Jo},he.isWeakMap=function(e){return Oa(e)&&Rn(e)==yi},he.isWeakSet=function(e){return Oa(e)&&"[object WeakSet]"==Ze(e)},he.join=function(e,t){return null==e?"":U.call(e,t)},he.kebabCase=mo,he.last=wr,he.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var a=r;return n!==Jo&&(a=(a=Ra(n))<0?q(r+a,0):H(a,r-1)),t==t?function(e,t){for(var n=a+1;n--;)if(e[n]===t)return n;return n}(e,t):Kl(e,ql,a,!0)},he.lowerCase=vo,he.lowerFirst=go,he.lt=Ta,he.lte=Na,he.max=function(e){return e&&e.length?ze(e,Ao,Xe):Jo},he.maxBy=function(e,t){return e&&e.length?ze(e,Pn(t,2),Xe):Jo},he.mean=function(e){return Hl(e,Ao)},he.meanBy=function(e,t){return Hl(e,Pn(t,2))},he.min=function(e){return e&&e.length?ze(e,Ao,ct):Jo},he.minBy=function(e,t){return e&&e.length?ze(e,Pn(t,2),ct):Jo},he.stubArray=Wo,he.stubFalse=Bo,he.stubObject=function(){return{}},he.stubString=function(){return""},he.stubTrue=function(){return!0},he.multiply=Ho,he.nth=function(e,t){return e&&e.length?mt(e,Ra(t)):Jo},he.noConflict=function(){return wl._===this&&(wl._=y),this},he.noop=jo,he.now=Jr,he.pad=function(e,t,n){e=za(e);var r=(t=Ra(t))?ds(e):0;if(!t||t<=r)return e;var a=(t-r)/2;return hn(W(a),n)+e+hn(V(a),n)},he.padEnd=function(e,t,n){e=za(e);var r=(t=Ra(t))?ds(e):0;return t&&r<t?e+hn(t-r,n):e},he.padStart=function(e,t,n){e=za(e);var r=(t=Ra(t))?ds(e):0;return t&&r<t?hn(t-r,n)+e:e},he.parseInt=function(e,t,n){return t=n||null==t?0:t&&+t,Y(za(e).replace(Hi,""),t||0)},he.random=function(e,t,n){if(n&&"boolean"!=typeof n&&Kn(e,t,n)&&(t=n=Jo),n===Jo&&("boolean"==typeof t?(n=t,t=Jo):"boolean"==typeof e&&(n=e,e=Jo)),e===Jo&&t===Jo?(e=0,t=1):(e=Ma(e),t===Jo?(t=e,e=0):t=Ma(t)),t<e){var r=e;e=t,t=r}if(n||e%1||t%1){var a=J();return H(e+a*(t-e+yl("1e-"+((a+"").length-1))),t)}return wt(e,t)},he.reduce=function(e,t,n){var r=ha(e)?Vl:Yl,a=arguments.length<3;return r(e,Pn(t,4),n,a,Ve)},he.reduceRight=function(e,t,n){var r=ha(e)?Wl:Yl,a=arguments.length<3;return r(e,Pn(t,4),n,a,We)},he.repeat=function(e,t,n){return t=(n?Kn(e,t,n):t===Jo)?1:Ra(t),kt(za(e),t)},he.replace=function(){var e=arguments,t=za(e[0]);return e.length<3?t:t.replace(e[1],e[2])},he.result=function(e,t,n){var r=-1,a=(t=zt(t,e)).length;for(a||(a=1,e=Jo);++r<a;){var o=null==e?Jo:e[lr(t[r])];o===Jo&&(r=a,o=n),e=ka(o)?o.call(e):o}return e},he.round=$o,he.runInContext=e,he.sample=function(e){return(ha(e)?Se:function(e){return Se(co(e))})(e)},he.size=function(e){if(null==e)return 0;if(va(e))return La(e)?ds(e):e.length;var t=Rn(e);return t==ci||t==mi?e.size:ut(e).length},he.snakeCase=yo,he.some=function(e,t,n){var r=ha(e)?Bl:xt;return n&&Kn(e,t,n)&&(t=Jo),r(e,Pn(t,3))},he.sortedIndex=function(e,t){return At(e,t)},he.sortedIndexBy=function(e,t,n){return Dt(e,t,Pn(n,2))},he.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=At(e,t);if(r<n&&ca(e[r],t))return r}return-1},he.sortedLastIndex=function(e,t){return At(e,t,!0)},he.sortedLastIndexBy=function(e,t,n){return Dt(e,t,Pn(n,2),!0)},he.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var n=At(e,t,!0)-1;if(ca(e[n],t))return n}return-1},he.startCase=bo,he.startsWith=function(e,t,n){return e=za(e),n=null==n?0:Te(Ra(n),0,e.length),t=Pt(t),e.slice(n,n+t.length)==t},he.subtract=Yo,he.sum=function(e){return e&&e.length?Jl(e,Ao):0},he.sumBy=function(e,t){return e&&e.length?Jl(e,Pn(t,2)):0},he.template=function(i,e,t){var n=he.templateSettings;t&&Kn(i,e,t)&&(e=Jo),i=za(i),e=Ga({},e,n,En);var l,s,r=Ga({},e.imports,n.imports,En),a=to(r),o=Xl(r,a),u=0,c=e.interpolate||sl,d="__p += '",f=g((e.escape||sl).source+"|"+c.source+"|"+(c===Vi?el:sl).source+"|"+(e.evaluate||sl).source+"|$","g"),p="//# sourceURL="+("sourceURL"in e?e.sourceURL:"lodash.templateSources["+ ++ml+"]")+"\n";i.replace(f,function(e,t,n,r,a,o){return n=n||r,d+=i.slice(u,o).replace(ul,os),t&&(l=!0,d+="' +\n__e("+t+") +\n'"),a&&(s=!0,d+="';\n"+a+";\n__p += '"),n&&(d+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),u=o+e.length,e}),d+="';\n";var h=e.variable;h||(d="with (obj) {\n"+d+"\n}\n"),d=(s?d.replace(Fi,""):d).replace(Li,"$1").replace(Pi,"$1;"),d="function("+(h||"obj")+") {\n"+(h?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(l?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var m=Co(function(){return v(a,p+"return "+d).apply(Jo,o)});if(m.source=d,wa(m))throw m;return m},he.times=function(e,t){if((e=Ra(e))<1||ei<e)return[];var n=ti,r=H(e,ti);t=Pn(t),e-=ti;for(var a=Ql(r,t);++n<e;)t(n);return a},he.toFinite=Ma,he.toInteger=Ra,he.toLength=Va,he.toLower=function(e){return za(e).toLowerCase()},he.toNumber=Wa,he.toSafeInteger=function(e){return e?Te(Ra(e),-ei,ei):0===e?e:0},he.toString=za,he.toUpper=function(e){return za(e).toUpperCase()},he.trim=function(e,t,n){if((e=za(e))&&(n||t===Jo))return e.replace(qi,"");if(!e||!(t=Pt(t)))return e;var r=fs(e),a=fs(t);return Ut(r,ts(r,a),ns(r,a)+1).join("")},he.trimEnd=function(e,t,n){if((e=za(e))&&(n||t===Jo))return e.replace($i,"");if(!e||!(t=Pt(t)))return e;var r=fs(e);return Ut(r,0,ns(r,fs(t))+1).join("")},he.trimStart=function(e,t,n){if((e=za(e))&&(n||t===Jo))return e.replace(Hi,"");if(!e||!(t=Pt(t)))return e;var r=fs(e);return Ut(r,ts(r,fs(t))).join("")},he.truncate=function(e,t){var n=30,r="...";if(_a(t)){var a="separator"in t?t.separator:a;n="length"in t?Ra(t.length):n,r="omission"in t?Pt(t.omission):r}var o=(e=za(e)).length;if(is(e)){var i=fs(e);o=i.length}if(o<=n)return e;var l=n-ds(r);if(l<1)return r;var s=i?Ut(i,0,l).join(""):e.slice(0,l);if(a===Jo)return s+r;if(i&&(l+=s.length-l),Da(a)){if(e.slice(l).search(a)){var u,c=s;for(a.global||(a=g(a.source,za(tl.exec(a))+"g")),a.lastIndex=0;u=a.exec(c);)var d=u.index;s=s.slice(0,d===Jo?l:d)}}else if(e.indexOf(Pt(a),l)!=l){var f=s.lastIndexOf(a);-1<f&&(s=s.slice(0,f))}return s+r},he.unescape=function(e){return(e=za(e))&&Ni.test(e)?e.replace(ji,ps):e},he.uniqueId=function(e){var t=++f;return za(e)+t},he.upperCase=wo,he.upperFirst=ko,he.each=zr,he.eachRight=Kr,he.first=vr,Po(he,(zo={},He(he,function(e,t){_.call(he.prototype,t)||(zo[t]=e)}),zo),{chain:!1}),he.VERSION="4.17.4",Pl(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){he[e].placeholder=he}),Pl(["drop","take"],function(n,r){be.prototype[n]=function(e){e=e===Jo?1:q(Ra(e),0);var t=this.__filtered__&&!r?new be(this):this.clone();return t.__filtered__?t.__takeCount__=H(e,t.__takeCount__):t.__views__.push({size:H(e,ti),type:n+(t.__dir__<0?"Right":"")}),t},be.prototype[n+"Right"]=function(e){return this.reverse()[n](e).reverse()}}),Pl(["filter","map","takeWhile"],function(e,t){var n=t+1,r=1==n||3==n;be.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Pn(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}}),Pl(["head","last"],function(e,t){var n="take"+(t?"Right":"");be.prototype[e]=function(){return this[n](1).value()[0]}}),Pl(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");be.prototype[e]=function(){return this.__filtered__?new be(this):this[n](1)}}),be.prototype.compact=function(){return this.filter(Ao)},be.prototype.find=function(e){return this.filter(e).head()},be.prototype.findLast=function(e){return this.reverse().find(e)},be.prototype.invokeMap=Et(function(t,n){return"function"==typeof t?new be(this):this.map(function(e){return rt(e,t,n)})}),be.prototype.reject=function(e){return this.filter(oa(Pn(e)))},be.prototype.slice=function(e,t){e=Ra(e);var n=this;return n.__filtered__&&(0<e||t<0)?new be(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==Jo&&(n=(t=Ra(t))<0?n.dropRight(-t):n.take(t-e)),n)},be.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},be.prototype.toArray=function(){return this.take(ti)},He(be.prototype,function(d,e){var f=/^(?:filter|find|map|reject)|While$/.test(e),p=/^(?:head|last)$/.test(e),h=he[p?"take"+("last"==e?"Right":""):e],m=p||/^find/.test(e);h&&(he.prototype[e]=function(){function e(e){var t=h.apply(he,Rl([e],n));return p&&i?t[0]:t}var t=this.__wrapped__,n=p?[1]:arguments,r=t instanceof be,a=n[0],o=r||ha(t);o&&f&&"function"==typeof a&&1!=a.length&&(r=o=!1);var i=this.__chain__,l=!!this.__actions__.length,s=m&&!i,u=r&&!l;if(m||!o)return s&&u?d.apply(this,n):(c=this.thru(e),s?p?c.value()[0]:c.value():c);t=u?t:new be(this);var c=d.apply(t,n);return c.__actions__.push({func:Mr,args:[e],thisArg:Jo}),new ye(c,i)})}),Pl(["pop","push","shift","sort","splice","unshift"],function(e){var n=i[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",a=/^(?:pop|shift)$/.test(e);he.prototype[e]=function(){var t=arguments;if(!a||this.__chain__)return this[r](function(e){return n.apply(ha(e)?e:[],t)});var e=this.value();return n.apply(ha(e)?e:[],t)}}),He(be.prototype,function(e,t){var n=he[t];if(n){var r=n.name+"";(oe[r]||(oe[r]=[])).push({name:t,func:n})}}),oe[cn(Jo,2).name]=[{name:"wrapper",func:Jo}],be.prototype.clone=function(){var e=new be(this.__wrapped__);return e.__actions__=Zt(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Zt(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Zt(this.__views__),e},be.prototype.reverse=function(){if(this.__filtered__){var e=new be(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},be.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=ha(e),r=t<0,a=n?e.length:0,o=function(e,t,n){for(var r=-1,a=n.length;++r<a;){var o=n[r],i=o.size;switch(o.type){case"drop":e+=i;break;case"dropRight":t-=i;break;case"take":t=H(t,e+i);break;case"takeRight":e=q(e,t-i)}}return{start:e,end:t}}(0,a,this.__views__),i=o.start,l=o.end,s=l-i,u=r?l:i-1,c=this.__iteratees__,d=c.length,f=0,p=H(s,this.__takeCount__);if(!n||!r&&a==s&&p==s)return Mt(e,this.__actions__);var h=[];e:for(;s--&&f<p;){for(var m=-1,v=e[u+=t];++m<d;){var g=c[m],y=g.iteratee,b=g.type,w=y(v);if(2==b)v=w;else if(!w){if(1==b)continue e;break e}}h[f++]=v}return h},he.prototype.at=Rr,he.prototype.chain=function(){return Ir(this)},he.prototype.commit=function(){return new ye(this.value(),this.__chain__)},he.prototype.next=function(){this.__values__===Jo&&(this.__values__=Ia(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?Jo:this.__values__[this.__index__++]}},he.prototype.plant=function(e){for(var t,n=this;n instanceof ge;){var r=ur(n);r.__index__=0,r.__values__=Jo,t?a.__wrapped__=r:t=r;var a=r;n=n.__wrapped__}return a.__wrapped__=e,t},he.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof be){var t=e;return this.__actions__.length&&(t=new be(this)),(t=t.reverse()).__actions__.push({func:Mr,args:[_r],thisArg:Jo}),new ye(t,this.__chain__)}return this.thru(_r)},he.prototype.toJSON=he.prototype.valueOf=he.prototype.value=function(){return Mt(this.__wrapped__,this.__actions__)},he.prototype.first=he.prototype.head,j&&(he.prototype[j]=function(){return this}),he}();wl._=hs,(B=function(){return hs}.call(z,K,z,W))===Jo||(W.exports=B)}).call(this)}).call(this,K(18),K(57)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){e.exports=p},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var f=i(n(0)),a=i(n(60)),o=i(n(3)),p=n(1),l=i(n(61));function i(e){return e&&e.__esModule?e:{default:e}}var s,u,c=n(4),h=n(9),m=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":ms(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(v,f.default.Component),u=[{key:"getDerivedStateFromProps",value:function(e,t){var n={needUpdate:!1};if(c(t.filter,e.filter)){if(!v.staticIsServerMode(e)&&!c(t.originalItems,e.value)){var r=v.staticGetSortedAndFilteredItems(e.value,t.filter,t.sort,e.defaultSort);n.items=r,n.rowsCount=r.length,n.selectedIndexes=[],n.originalItems=e.value,n.needUpdate=!0}}else if(n.filter=e.filter,n.needUpdate=!0,v.staticIsServerMode(e))n.items=[],n.firstLoad=!0,n.rowsCount=void 0;else{var a=v.staticGetSortedAndFilteredItems(e.value,e.filter,t.sort,e.defaultSort);n.items=a,n.selectedIndexes=[],n.rowsCount=a.length}return n}},{key:"staticIsServerMode",value:function(e){return"server"===e.pagerType}},{key:"staticCheckData",value:function(e){var t=e||[];if(Array.isArray(t))t=h(t);else try{t=o.default.parse(t)}catch(e){}return t}},{key:"staticGetSortedAndFilteredItems",value:function(e,t,n,r){var a=v.staticCheckData(e);if(void 0===a)return a;void 0!==t&&(a=a.filter(function(e){return t.IsRowMatched(e)}));var o=n;if("NONE"===n||""===n){if(void 0===r)return a;o=r}var i=o.indexOf(" "),l=o.substring(0,i),s=o.substring(i+1,o.length);return a.sort(function(e,t){var n=void 0!==e[l]&&null!==e[l]&&void 0!==e[l].toLowerCase?e[l].toLowerCase():e[l],r=void 0!==t[l]&&null!==t[l]&&void 0!==t[l].toLowerCase?t[l].toLowerCase():t[l];return n===r?0:null==n?1:null==r?-1:"ASC"===s?r<n?1:-1:"DESC"===s?n<r?1:-1:void 0})}}],r((s=v).prototype,[{key:"shouldComponentUpdate",value:function(e,t){return!!t.needUpdate||!c(this.props,e)}},{key:"render",value:function(){var e="dwkit-repeater";return this.props.className&&(e+=" "+this.props.className),this.isServerMode()&&this.state.firstLoad?(this.state.firstLoad=!1,this.loadNextPage(),f.default.createElement("div",{className:e,style:this.props.style},this.state.loading&&f.default.createElement(p.Loader,{active:!0,inline:"centered"}))):this.props.slider&&0<this.state.items.length?f.default.createElement("div",{className:e,style:this.props.style},f.default.createElement(a.default,{dots:!0,infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1},this.renderItems(this.state.items,this.state.rowsCount,!0)),this.state.loading&&f.default.createElement(p.Loader,{active:!0,inline:"centered"})):f.default.createElement("div",{className:e,style:this.props.style},this.renderItems(this.state.items,this.state.rowsCount),this.state.loading&&f.default.createElement(p.Loader,{active:!0,inline:"centered"}))}},{key:"renderItems",value:function(e,t,n){var r=this,a=[],o=0;if(Array.isArray(e)&&0<e.length)e.forEach(function(e){var t=r.renderItem(o,e,!o&&r.props.controlProps.buildermode);null!=t&&(n?a.push(f.default.createElement("div",{key:o},t)):a.push(t)),o++});else if(this.props.controlProps.buildermode){var i=this.renderItem(o,{},0===o);null!=i&&(n?a.push(f.default.createElement("div",null,i)):a.push(i))}else if(!this.state.loading&&this.isServerMode()){var l=this.props.noRecordsLabel;null!=l&&""!=l||(l="No records. Refresh...");var s=f.default.createElement("div",{key:"norecords",className:"dwkit-repeater-norecords"},f.default.createElement(p.Button,{onClick:this.loadNextPage},l));a.push(s)}if(!this.state.loading&&this.isServerMode()&&t>e.length&&0<e.length){var u=this.props.loadButtonLabel;null!=u&&""!=u||(u="Load more...");var c=f.default.createElement("div",{key:"loadmore",className:"dwkit-repeater-loadmore"},f.default.createElement(p.Button,{onClick:this.loadNextPage},u));a.push(c)}return a}},{key:"renderItem",value:function(e,t,n){if(!this.props.controlProps.buildermode&&""!==this.props["item-visibleCondition"]&&void 0!==this.props["item-visibleCondition"]&&null!==this.props["item-visibleCondition"]){var r="return "+this.props["item-visibleCondition"];try{if(!new Function("data",r)(t))return}catch(e){return}}var a=void 0,o=this.props.controlProps.createBuilderDropzone;if(null!=this.props.placeholders&&Array.isArray(this.props.placeholders[this.psTemplate])&&0<this.props.placeholders[this.psTemplate].length){var i=this.props.placeholders[this.psTemplate];null!=i&&(a=f.default.createElement(l.default,{key:e,parent:this,model:i,psTemplate:this.psTemplate,item:t,controlProps:this.props.controlProps,includeDropzone:n,errors:Array.isArray(this.props.error)?this.props.error[e]:void 0,index:e,handleChange:this.handleChange,data:this.props.data,parentItem:this.props.model}))}else n&&o&&(a=o("repeater_dropzone_footer",this.props.model.key,void 0,void 0,this.psTemplate));return a}},{key:"sendChangesToParent",value:function(){var e=this.state.items,t="string"==typeof this.props.value?o.default.stringify(e):e;this.props.controlProps.buildermode?this.props.value=t:this.props.controlProps.handleEvent({syntheticEvent:null,key:this.props.name,propertyName:this.props.propertyName,eventName:"onChange",name:this.name,value:t})}},{key:"loadPage",value:function(a,e){var o=this;if(this.props.controlProps&&void 0!==this.props.controlProps.getAdditionalDataForControl){var t=this.state.sort;""===t&&void 0!==this.props.defaultSort&&(t=this.props.defaultSort),this.state.loading=!0,this.forceUpdate(),this.props.controlProps.getAdditionalDataForControl(this,{startIndex:a,pageSize:e,filters:void 0!==this.state.filter?this.state.filter.GetFilterAsObjects():[],sort:t},function(e){e.sIndex,e.pageSize;var t=e.rowsCount,n=e.items;if(void 0===t||void 0===n);else if(o.state.rowsCount=t,o.state.items.length==a)for(var r=0;r<n.length;r++)o.state.items.push(n[r]);o.state.loading=!1,o.forceUpdate()})}else void 0!==console&&console.log("Repeater: For paging on server need to set getAdditionalDataForControl func!")}},{key:"isServerMode",value:function(){return v.staticIsServerMode(this.props)}}]),r(s,u),v);function v(e){!function(e){if(!(e instanceof v))throw new TypeError("Cannot call a class as a function")}(this);var c=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":ms(t))&&"function"!=typeof t?e:t}(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,e));return c.handleChange=function(e,t,n){var r=n.name,a=n.propertyName,o=n.value,i=n.checked,l=n.parameters;if(c.props.controlProps.handleEvent||c.props.controlProps.buildermode){var s=a;if(void 0===s&&(s=r),l&&void 0!==l.index){var u=c.state.items;u[l.index]=d({},e),e=u[l.index]}e[s]=null==o&&null!=i?i:o,c.isServerMode()?c.forceUpdate():(c.sendChangesToParent(),t?t.preventDefault():c.forceUpdate())}},c.loadNextPage=function(){var e=c.state.pageSize,t=0;null!=c.state.items&&(t=c.state.items.length),c.loadPage(t,e)},c.psTemplate="template",c.state={items:[],sort:"",filter:e.filter,firstLoad:!e.controlProps.buildermode&&v.staticIsServerMode(e),pageSize:e.pageSize?e.pageSize:20},c}t.default=m},function(e,t){e.exports=h},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=n(0);function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":ms(t))&&"function"!=typeof t?e:t}var l=n(4),s=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":ms(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(u,a.Component),r(u.prototype,[{key:"shouldComponentUpdate",value:function(e){return!l(this.props,e)}},{key:"render",value:function(){var e=this.props.controlProps.createBuilderDropzone,t=this.props.model,n=this.props.index+"_",r=this.props.psTemplate,a=this.props.controlProps.createControls(this.props.parent,o({},this.props.controlProps,{model:t,parentPlaceholder:r,data:this.props.item,errors:this.props.errors,needCheckReplace:!0,formData:this.props.data,parentItem:this.props.parentItem,handleEvent:this.handleEvent,getAdditionalDataForControl:this.getAdditionalDataForControl}));return this.props.includeDropzone&&e&&(0<a.length&&0<t.length&&a.unshift(e(n+"repeter_dropzone_header",this.props.parentItem.key,void 0,void 0,r)),a.push(e(n+"repeter_dropzone_footer",this.props.parentItem.key,t[t.length-1].key,void 0,r))),a}}]),u);function u(){var e,t,n;!function(e){if(!(e instanceof u))throw new TypeError("Cannot call a class as a function")}(this);for(var r=arguments.length,a=Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=n=i(this,(e=u.__proto__||Object.getPrototypeOf(u)).call.apply(e,[this].concat(a))),c.call(n),i(n,t)}var c=function(){var r=this;this.handleEvent=function(e){e.parameters||(e.parameters={}),e.parameters.row||(e.parameters.row=r.props.item),e.parameters.index||(e.parameters.index=r.props.index),"onChange"===e.eventName?r.props.handleChange(r.props.item,e.syntheticEvent,e):r.props.controlProps.handleEvent(e)},this.getAdditionalDataForControl=function(e,t,n){return(t=t||{}).row||(t.row=r.props.item),r.props.controlProps.getAdditionalDataForControl(e,t,n)}};t.default=s},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=c(n(0)),i=c(n(10)),l=c(n(21)),s=c(n(16)),u=c(n(13));function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":ms(t))&&"function"!=typeof t?e:t}var f=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":ms(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(p,o.default.Component),r(p.prototype,[{key:"onFileUploaded",value:function(e){var t=this.props.value?[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(this.props.value)):[],n=e.properties,r={__id:"CLIENT_"+s.default.v1()};this.props.columns.filter(function(e){return e.field}).forEach(function(e){r[e.field]=n[e.property]}),t.push(r),this.props.additionalParams.handleEvent({syntheticEvent:null,key:this.props.name,eventName:"onChange",name:this.props.name,value:t,propertyName:this.props.propertyName}),this.props.additionalParams.handleEvent({syntheticEvent:null,key:this.props.name,eventName:"onUploadSuccess",name:this.props.name,parameters:e,propertyName:this.props.propertyName})}},{key:"onFail",value:function(e){this.props.additionalParams.handleEvent({syntheticEvent:null,key:this.props.name,eventName:"onUploadFail",name:this.props.name,parameters:e,propertyName:this.props.propertyName})}},{key:"getUploadControl",value:function(){if(this.props.readOnly)return null;if(this.props.useDropzone){var e={iconFiletypes:this.props.iconFiletypes,postUrl:this.props.postUrl,showFiletypeIcon:this.props.showFiletypeIcon,autoProcessQueue:this.props.autoProcessQueue,additionalParams:this.props.additionalParams,onSuccess:this.onDropzoneUploadSuccess,onFail:this.onDropzoneUploadFail};return o.default.createElement(l.default,a({addRemoveLinks:!0},e))}var t={uploadUrl:this.props.postUrl,downloadUrl:this.props.downloadUrl,readOnly:this.props.readOnly,onChange:this.onUploadChange,onUploadFail:this.onUploadFail};return o.default.createElement(u.default,a({isForm:!0},t))}},{key:"render",value:function(){var n=this,r=[];this.props.columns.filter(function(e){return e.showcolumn}).forEach(function(e){var t={key:e.field,name:e.title,control:e.control};"Token"===e.property&&(t.additionalData={customNameGetter:n.nameGetter,customContentTypeGetter:n.contentTypeGetter}),r.push(t)});var e={readOnly:this.props.readOnly,value:this.props.value,idField:this.props.idField,downloadUrl:this.props.downloadUrl,columns:r,handleEvent:this.onCollectionEditorChange};return o.default.createElement("div",null,o.default.createElement(i.default,a({disableAdd:!0},e)),this.getUploadControl())}}]),p);function p(){var e,t,a;!function(e){if(!(e instanceof p))throw new TypeError("Cannot call a class as a function")}(this);for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=a=d(this,(e=p.__proto__||Object.getPrototypeOf(p)).call.apply(e,[this].concat(r)))).onDropzoneUploadSuccess=function(e,t,n){a.onFileUploaded(n)},a.onDropzoneUploadFail=function(e,t,n){a.onFail(n)},a.onCollectionEditorChange=function(e){var t=e.eventName,n=e.parameters,r=e.value;"onDelete"===t&&a.props.additionalParams.handleEvent({key:a.props.name,propertyName:a.props.propertyName,eventName:t,parameters:n}),"onChange"===t&&a.props.additionalParams.handleEvent({syntheticEvent:null,key:a.props.name,eventName:t,name:a.props.name,value:r,propertyName:a.props.propertyName})},a.onUploadChange=function(e,t){var n=t.parameters;a.onFileUploaded(n)},a.onUploadFail=function(e,t){a.onFail(t)},a.nameGetter=function(e){return e[a.props.columns.find(function(e){return"Name"===e.property}).field]},a.contentTypeGetter=function(e){return e[a.props.columns.find(function(e){return"ContentType"===e.property}).field]},d(a,t)}t.default=f},function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(0)),i=n(1),l=a(n(64));function a(e){return e&&e.__esModule?e:{default:e}}var s=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":ms(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(u,o.default.Component),r(u.prototype,[{key:"render",value:function(){var t={};for(var e in this.props)"additionalParams"!==e&&"items"!==e&&"propertyName"!==e&&(t[e]=this.props[e]);var n=this.props.additionalParams.model,r=this.props.additionalParams.parentItem,a=this.props.additionalParams.handleEvent;return t.defaultValue=n.defaultvalue,t.size=n.size,null!=n.label&&""!=n.label&&(t.label=n.label),t.labelPosition=n.labelPosition,t.type=n.type,t.disabled=n.disabled,t.transparent=n.transparent,t.fluid=n.fluid,t.readOnly=n.readOnly||this.props.readOnly,null==t.value&&(t.value=""),t.error=Boolean(this.props.error),t.format=n.format?n.format:void 0,t.mask=n.mask?n.mask:void 0,t.onValueChange=function(e){a({key:t.name,propertyName:t.propertyName,eventName:"onChange",name:t.name,value:Number(e.value)})},this.isForm(r)?t.customInput=i.Form.Input:t.customInput=i.Input,o.default.createElement(l.default,t)}},{key:"isForm",value:function(e){return null!=e&&("form"===e["data-buildertype"]||"formgroup"===e["data-buildertype"])}}]),u);function u(e){return function(e){if(!(e instanceof u))throw new TypeError("Cannot call a class as a function")}(this),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":ms(t))&&"function"!=typeof t?e:t}(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,e))}t.default=s},function(e,t){e.exports=m},function(e,t,n){function r(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o,c=(o=n(0))&&o.__esModule?o:{default:o},d=n(66),f=n(1),p=n(67);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":ms(t))&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":ms(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=(s(m,c.default.Component),r(m,[{key:"render",value:function(){var r=this,a={},e={};for(var t in this.props)"className"===t||"style"===t?e[t]=this.props[t]:a[t]=this.props[t];var n=this.props.additionalParams.model,o=this.props.additionalParams.handleEvent,i=this.props.additionalParams.parentItem;a.placeholder=n.placeholder,a.onChange=this.onChange=function(e){var t=e.getCurrentContent(),n=(0,p.convertToHTML)(t);r.setState({editorState:e,value:n}),o({key:a.name,propertyName:a.propertyName,eventName:"onChange",name:a.name,value:n})};var l="dwkit-richtextcontrol RichEditor-root";e.className?e.className+=" "+l:e.className=l;var s=c.default.createElement("div",e,!a.readOnly&&c.default.createElement(k,{editorState:this.state.editorState,onToggle:this.toggleBlockType}),!a.readOnly&&c.default.createElement(C,{editorState:this.state.editorState,onToggle:this.toggleInlineStyle}),c.default.createElement("div",{onClick:this.focus},c.default.createElement(d.Editor,u({},a,{editorState:this.state.editorState,blockStyleFn:g,customStyleMap:v,handleKeyCommand:this.handleKeyCommand,keyBindingFn:this.mapKeyToEditorCommand,ref:"editor",spellCheck:!0}))));return this.isForm(i)?c.default.createElement(f.Form.Field,null,c.default.createElement("label",null,n.label),s):s}},{key:"isForm",value:function(e){return null!=e&&("form"===e["data-buildertype"]||"formgroup"===e["data-buildertype"])}},{key:"_handleKeyCommand",value:function(e,t){var n=d.RichUtils.handleKeyCommand(t,e);return!!n&&(this.onChange(n),!0)}},{key:"_mapKeyToEditorCommand",value:function(e){if(9!==e.keyCode)return(0,d.getDefaultKeyBinding)(e);var t=d.RichUtils.onTab(e,this.state.editorState,4);t!==this.state.editorState&&this.onChange(t)}},{key:"_toggleBlockType",value:function(e){this.onChange(d.RichUtils.toggleBlockType(this.state.editorState,e))}},{key:"_toggleInlineStyle",value:function(e){this.onChange(d.RichUtils.toggleInlineStyle(this.state.editorState,e))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(e.value===t.value)return null;var n=d.EditorState.createEmpty();try{var r=(0,p.convertFromHTML)(e.value);n=d.EditorState.createWithContent(r)}catch(e){}return{value:e.value,editorState:n}}}]),m);function m(e){i(this,m);var t=l(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,e));return t.state={editorState:d.EditorState.createEmpty()},t.handleKeyCommand=t._handleKeyCommand.bind(t),t.mapKeyToEditorCommand=t._mapKeyToEditorCommand.bind(t),t.toggleBlockType=t._toggleBlockType.bind(t),t.toggleInlineStyle=t._toggleInlineStyle.bind(t),t}t.default=h;var v={CODE:{backgroundColor:"rgba(0, 0, 0, 0.05)",fontFamily:'"Inconsolata", "Menlo", "Consolas", monospace',fontSize:16,padding:2}};function g(e){switch(e.getType()){case"blockquote":return"RichEditor-blockquote";default:return null}}var y=(s(b,c.default.Component),r(b,[{key:"render",value:function(){var e="RichEditor-styleButton";return this.props.active&&(e+=" RichEditor-activeButton"),c.default.createElement("span",{className:e,onMouseDown:this.onToggle},this.props.label)}}]),b);function b(){i(this,b);var t=l(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));return t.onToggle=function(e){e.preventDefault(),t.props.onToggle(t.props.style)},t}var w=[{label:"H1",style:"header-one"},{label:"H2",style:"header-two"},{label:"UL",style:"unordered-list-item"},{label:"OL",style:"ordered-list-item"}],k=function(t){var e=t.editorState,n=e.getSelection(),r=e.getCurrentContent().getBlockForKey(n.getStartKey()).getType();return c.default.createElement("div",{className:"RichEditor-controls"},w.map(function(e){return c.default.createElement(y,{key:e.label,active:e.style===r,label:e.label,onToggle:t.onToggle,style:e.style})}))},E=[{label:"Bold",style:"BOLD"},{label:"Italic",style:"ITALIC"},{label:"Underline",style:"UNDERLINE"},{label:"Code",style:"CODE"}],C=function(t){var n=t.editorState.getCurrentInlineStyle();return c.default.createElement("div",{className:"RichEditor-controls"},E.map(function(e){return c.default.createElement(y,{key:e.label,active:n.has(e.style),label:e.label,onToggle:t.onToggle,style:e.style})}))}},function(e,t){e.exports=v},function(e,t){e.exports=g},function(e,t){e.exports=y},function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var a=s(n(0)),o=s(n(11)),i=s(n(6)),l=s(n(7));function s(e){return e&&e.__esModule?e:{default:e}}n(1);var u=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":ms(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(c,a.default.Component),r(c.prototype,[{key:"dataChanged",value:function(e){this.setState({data:e,editElement:null})}},{key:"_onEdit",value:function(e){i.default.showEditForm(e.key)}},{key:"_onCopy",value:function(e){o.default.copy(e)}},{key:"_onDestroy",value:function(e){o.default.remove(e)}},{key:"_handleEvent",value:function(e){}},{key:"render",value:function(){var e=l.default.createControls(this,{model:this.state.data,data:void 0,buildermode:!0,eventOnEdit:this._onEdit,eventOnDelete:this._onDestroy,eventOnCopy:this._onCopy,parentItem:void 0,handleEvent:this._handleEvent,getFormFunc:this.props.getFormFunc,getFormFist:this.props.getFormFist,getAdditionalDataForControl:this.props.getAdditionalDataForControl,disableRefs:!0,downloadUrl:this.props.downloadUrl,uploadUrl:this.props.uploadUrl,controlsToReplace:[],needCheckReplace:!1,externalControlRender:this.props.externalControlRender,externalControlList:this.props.externalControlList}),t=void 0;null!=this.props.localization&&null!=this.props.localization.preview&&(t=this.props.localization.preview.dropzonetext);var n=l.default.createBuilderDropzone("dropzone_header",void 0,void 0,t),r=0<e.length?l.default.createBuilderDropzone("dropzone_footer",void 0,void 0,t):"";return a.default.createElement("div",{className:"dwkit-formbuilder-preview"},n,e,r)}}]),c);function c(e){!function(e){if(!(e instanceof c))throw new TypeError("Cannot call a class as a function")}(this);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":ms(t))&&"function"!=typeof t?e:t}(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,e));return t.state={data:[],editElement:null},o.default.listen(t.dataChanged.bind(t)),t}t.default=u},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==ms(Symbol.iterator)?function(e){return void 0===e?"undefined":ms(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":ms(e)};function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=c(n(0)),o=(c(n(5)),c(n(11))),l=c(n(6)),s=c(n(7)),u=n(1);function c(e){return e&&e.__esModule?e:{default:e}}var d=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":ms(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(f,i.default.Component),r(f.prototype,[{key:"handleChange",value:function(e,t){var n=t.name,r=t.value,a=t.checked,o=this.state.item;o[n]=null==r?a:r,this.setState({item:o})}},{key:"onShow",value:function(e){var t=o.default.getByKey(e),n={};for(var r in t)"object"===a(t[r])?n[r]=JSON.parse(JSON.stringify(t[r])):n[r]=t[r];this.setState({key:e,item:n,open:!0})}},{key:"isChangedItem",value:function(){var e=o.default.getByKey(this.state.key),t=this.state.item;for(var n in t)if(JSON.stringify(t[n])==JSON.stringify(e[n]));else if("events"!=n||null!=t[n]&&"{}"!=JSON.stringify(t[n])||null!=e[n]&&"{}"!=JSON.stringify(e[n]))return!0;return!1}},{key:"getControlsList",value:function(){return o.default.getAllKeys(o.default.getData())}},{key:"showConfirm",value:function(e,t){this.setState({confirm:!0,confirmtext:e,confirmHandle:t})}},{key:"onClose",value:function(){if(this.isChangedItem()){var e="Close without save?";null!=this.props.localization&&(e=this.props.localization.base.closewithoutsavequestion),this.showConfirm(e,this.onCloseConfirmed.bind(this))}else this.onCloseConfirmed()}},{key:"onSave",value:function(){o.default.updateItemByKey(this.state.key,this.state.item),this.onCloseConfirmed(),"gridlayout"==this.state.item["data-buildertype"]&&setTimeout(function(){if("function"==typeof Event)window.dispatchEvent(new Event("resize"));else{var e=window.document.createEvent("UIEvents");e.initUIEvent("resize",!0,!1,window,0),window.dispatchEvent(e)}},100)}},{key:"onCloseConfirmed",value:function(){this.setState({open:!1,confirm:!1})}},{key:"createError",value:function(e){var t="Close";return null!=this.props.localization&&(t=this.props.localization.base.closebutton),i.default.createElement(u.Modal,{open:this.state.open,onClose:this.onClose.bind(this)},i.default.createElement(u.Modal.Header,null,"Error"),i.default.createElement(u.Modal.Content,null,i.default.createElement("p",null,e)),i.default.createElement(u.Modal.Actions,null,i.default.createElement(u.Button,{onClick:this.onClose.bind(this)},t)))}},{key:"render",value:function(){var e=this;if(null==this.state.item)return i.default.createElement("div",null);var t=s.default.getEditControlByType(this.state.item["data-buildertype"],this.props.externalControlList);if(!t)return this.createError("EditForm is not found for this control!");var n="OK";null!=this.props.localization&&(n=this.props.localization.base.okbutton);var r="Cancel";null!=this.props.localization&&(r=this.props.localization.base.cancelbutton);var a="Question";function o(){return e.setState({confirm:!1})}return null!=this.props.localization&&(a=this.props.localization.base.questiontitle),i.default.createElement("div",null,i.default.createElement(t,{key:"editform",data:this.state.item,parent:this,open:this.state.open,onSave:this.onSave,onClose:this.onClose,actions:this.props.actions,className:"dwkit-formbuilder-editform",localization:this.props.localization}),i.default.createElement(u.Modal,{size:"small",open:this.state.confirm,dimmer:"inverted",onClose:o},i.default.createElement(u.Modal.Header,null,a),i.default.createElement(u.Modal.Content,null,i.default.createElement("p",null,this.state.confirmtext)),i.default.createElement(u.Modal.Actions,null,i.default.createElement(u.Button,{className:"buttontype1",onClick:this.state.confirmHandle},n),i.default.createElement(u.Button,{className:"buttontype2",onClick:o},r))))}}]),f);function f(e){!function(e){if(!(e instanceof f))throw new TypeError("Cannot call a class as a function")}(this);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":ms(t))&&"function"!=typeof t?e:t}(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,e));return t.state={key:void 0,item:void 0,open:!1},o.default.listenTo(l.default.showEditForm,t.onShow.bind(t)),t}t.default=d},function(e,t,n){e.exports={clearbutton:"Clear",uploadbutton:"Upload",downloadbutton:"Download",toolbar:{sepContainers:"Containers",container:"DIV",form:"Form",formgroup:"Form Group",menu:"Menu",workflowbar:"Workflow bar",customblock:"Custom block",sepCollection:"Collections",gridview:"GridView",collectioneditor:"Collection Editor",sepControls:"Controls",header:"Header",input:"Input",textarea:"TextArea",dictionary:"Dictionary",dropdown:"Dropdown",checkbox:"CheckBox",radiogroup:"Radio group",button:"Button",label:"Label",message:"Message",image:"Image",statistic:"Statistic",customcontrol:"Custom control",staticcontent:"Static Content",dropdowntrigger:"Dropdown trigger",sepCharts:"Charts",barchart:"Bar",linechart:"Line",scatterchart:"Scatter",doughnutchart:"Doughnut",piechart:"Pie",radarchart:"Radar"},preview:{dropzonetext:"DROP ZONE"},editforms:{base:{generaltab:"General",styletab:"Style",eventstab:"Events",othertab:"Other",widthfield:"Width",heightfield:"Height",margintopfield:"Margin Top",marginbottomfield:"Margin Bottom",marginleftfield:"Margin Left",marginrightfield:"Margin Right",customcssclassfield:"Custom CSS class",stylefield:"Style",hiddenfield:"Hidden",controlhasnoeventsmsg:"This control has no events.",eventsinfomsg:"These flags enable processing from this element.",requiredfield:"Required",defaultvaluefield:"Default value",customvalidationfield:"Custom Validation",visibleconditionfield:"Visible condition",readonlyconditionfield:"ReadOnly condition",savebutton:"Save",cancelbutton:"Cancel",okbutton:"OK",closebutton:"Close",sizedefault:"Default",sizemini:"Mini",sizetiny:"Tiny",sizesmall:"Small",sizemedium:"Medium",sizelarge:"Large",sizebig:"Big",sizehuge:"Huge",sizemassive:"Massive",attachednone:"None",attachedtop:"Top",attachedbottom:"Bottom",attachedtopright:"Top right",attachedtopleft:"Top left",attachedbottomleft:"Bottom left",attachedbottomright:"Bottom right",labeldefault:"Default",labelleft:"Left",labelright:"Right",labelleftcorner:"Left corner",labelrightcorner:"Right corner",closewithoutsavequestion:"Close without save?",questiontitle:"Question",onchangetimeout:"onChange timeout"},headerform:{namefield:"Name",sizefield:"Size",contentfield:"Content",textalignfield:"Text Align",textalignleft:"Left",textaligncenter:"Center",textalignright:"Right",subheaderfield:"Subheader"},buttonform:{namefield:"Name",typefield:"Type",typenonefield:"None",typesubmitfield:"Submit",sizefield:"Size",contentfield:"Content",optionsfield:"Options",basicfield:"Basic",circularfield:"Circular",compactfield:"Compact",disabledfield:"Disabled",fluidfield:"Fluid",invertedfield:"Inverted",loadingfield:"Loading",primaryfield:"Primary",secondaryfield:"Secondary",togglefield:"Toggle",floatedfield:"Floated",floateddefaultfield:"Default",floatedleftfield:"Left",floatedrightfield:"Right"},labelform:{namefield:"Name",attachedfield:"Attached",contentfield:"Content",sizefield:"Size",optionsfield:"Options",basicfield:"Basic",circularfield:"Circular",cornerfield:"Corner",floatingfield:"Floating",horizontalfield:"Horizontal",pointingfield:"Pointing"},staticcontentform:{namefield:"Name",fontsizefield:"Font size",contentfield:"Content",allowhtmlfield:"Allow HTML"},messageform:{namefield:"Name",headerfield:"Header",optionsfield:"Options",compactfield:"Compact",errorfield:"Error",floatingfield:"Floating",infofield:"Info",negativefield:"Negative",positivefield:"Positive",successfield:"Success",warningfield:"Warning",contentfield:"Content",sizefield:"Size"},inputform:{namefield:"Name",labelfield:"Label",typefield:"Type",typetext:"Text",typenumber:"Number",typedate:"Date",typetime:"Time",typedatetime:"Date & Time",typepasswod:"Password",labelpositionfield:"Label position",optionsfield:"Options",loadingfield:"Loading",invertedfield:"Inverted",errorfield:"Error",disabledfield:"Disabled",transparentfield:"Transparent",fluidfield:"Fluid",readonlyfield:"Read only",placeholderfield:"Placeholder",sizefield:"Size",dateformatfield:"Date Format"},textareaform:{namefield:"Name",labelfield:"Label",rowsfield:"Rows",optionsfield:"Options",placeholderfield:"Placeholder",readonlyfield:"Read only"},checkboxform:{namefield:"Name",labelfield:"Label",optionsfield:"Options",fittedfield:"Fitted",indeterminatefield:"Indeterminate",readonlyfield:"ReadOnly",disabledfield:"Disabled",sliderfield:"Slider",togglefield:"Toggle"},dropdownform:{namefield:"Name",labelfield:"Label",datafield:"Data",datakeycolumn:"Key",datavaluecolumn:"Value",datatextcolumn:"Text",optionsfield:"Options",loadingfield:"Loading",errorfield:"Error",disabledfield:"Disabled",fluidfield:"Fluid",multiplefield:"Multiple",searchfield:"Search",selectionfield:"Selection",readonlyfield:"Read only",clearablefield:"Clearable",allowAddItemsfield:"Allow add items"},dictionaryform:{namefield:"Name",labelfield:"Label",datamodelfield:"Data model",placeholderfield:"Placeholder",columnsfield:"Columns (Name ASC, Email)",optionsfield:"Options",loadingfield:"Loading",errorfield:"Error",disabledfield:"Disabled",fluidfield:"Fluid",multiplefield:"Multiple",searchfield:"Search",selectionfield:"Selection",readonlyfield:"Read only",clearablefield:"Clearable",pagingfield:"Server pagination",pagesizefield:"Page Size",parentidfield:"Parent Field",textfield:"Text expression"},radiogroupform:{namefield:"Name",labelfield:"Label",datafield:"Data",datakeycolumn:"Key",datavaluecolumn:"Value",datatextcolumn:"Text",groupdirectfield:"Group direction",directionhorizontalfield:"Horizontal",directionverticalfield:"Vertical",readonlyfield:"Read only"},form:{namefield:"Name",sizefield:"Size",optionsfield:"Options",loadingfield:"Loading",errorfield:"Error",invertedfield:"Inverted",replyfield:"Reply",successfield:"Success",warningfield:"Warning"},formgroupform:{namefield:"Name",widthsfield:"Widths",widthsdefaultfield:"Default",widthsequalfield:"Equal",widthscustomfield:"Custom (1 - 16)",typefield:"Type",orientationcolumnsfield:"Columns",orientationrowsfield:"Rows",orientationfieldfield:"Field"},containerform:{namefield:"Name",floatfield:"Float",floatnonefield:"None",floatleftfield:"Left",floatrightfield:"Right",flexbaselinefield:"Baseline",flexstretchfield:"Stretch",flexcenterfield:"Center",flexstartfield:"Start",flexendfield:"End",flexspacearoundfield:"Space Around",flexspacebetweenfield:"Space Between",displayhorizontalalignfield:"Horizontal Align",displayverticalalignfield:"Vertical Align"},imageform:{namefield:"Name",srcfield:"Src",hreffield:"Href",optionsfield:"Options",avatarfield:"Avatar",borderedfield:"Bordered",centeredfield:"Centered",disabledfield:"Disabled",inlinefield:"Inline",spacedfield:"Spaced",floatedfield:"Floated",floatedleftfield:"Left",floatedrightfield:"Right",verticalalignfield:"Vertical align",verticalaligntopfield:"Top",verticalalignmiddlefield:"Middle",verticalalignbottomfield:"Bottom"},statisticform:{namefield:"Name",optionsfield:"Options",floatedfield:"Floated",horizontalfield:"Horizontal",datafield:"Data",sizefield:"Size"},gridform:{namefield:"Name",optionsfield:"Options",multiselectfield:"Multiselect",filterrowfield:"Filter row",disablesortfield:"Disable sorting",editformfield:"Edit form",editformshowtypefield:"Edit form show type",editformsidebardirectionfield:"Sidebar comes from",editformtypedefaultfield:"Default",editformtypemodalfield:"Modal",editformtypesidebarfield:"Sidebar",columnsfield:"Columns",keycolumn:"Key",namecolumn:"Name",typecolumn:"Type",widthcolumn:"Width",resizablecolumn:"Resizable",rowkeyfield:"Row key",pagertypefield:"Pagination type",pagertypenonefield:"None",pagertypeserverfield:"Server",pagesizefield:"Page size",defaultsortfield:"Default sort",rowheightfield:"Row height",minheightfield:"Min height",autoheightfield:"Auto Height",offsetfield:"OffSet",editType:"Edit type",editflowfield:"Edit flow",editformsidebarderectionleftfield:"Left",editformsidebarderectionrightfield:"Right",editformsidebarderectionbottomfield:"Bottom"},collectioneditorform:{namefield:"Name",idfield:"Id field",optionsfield:"Options",readonlyfield:"ReadOnly",draggablefield:"Draggable",hierarchicalfield:"Hierarchical",collapseallfield:"Collapse all",parentidfield:"ParentId field",columnsfield:"Columns",keycolumn:"Key",namecolumn:"Name",controlcolumn:"Control",widthcolumn:"Width",disableAdd:"Disable Add",childrenField:"Children field"},customform:{namefield:"Name",typefield:"Control type",propsfield:"Props",childrenfield:"Children"},customblockform:{namefield:"Name",sourcetypefield:"Source type",sourcetypeformfield:"Form name",sourcetypejsonfield:"JSON source",formnamefield:"Form name",sourcefield:"JSON source",placeholderfield:"Placeholder"},menuform:{namefield:"Name",activeitemfield:"Active Item",itemsfield:"Items",itemstargetcolumn:"Target",itemstitlecolumn:"Title",optionsfield:"Options",pointingfield:"Pointing",secondaryfield:"Secondary",tabularfield:"Tabular",fluidfield:"Fluid",verticalfield:"Vertical",linkfield:"Link",visibleConditioncolumn:"Visible Condition"},dropdowntriggerform:{namefield:"Name",defaultvaluefield:"Default Value",itemsfield:"Items",itemstargetcolumn:"Target",itemstitlecolumn:"Title",itemsvisibleconditioncolumn:"Visible Condition",imageurlfield:"ImageUrl"},chartform:{namefield:"Name",titlefield:"Title",titlesizefield:"Title size",legendpositionfield:"Legend position",responsivefield:"Responsive",datasetcustomfield:"Dataset custom",datalabelsplaceholder:"Q1, Q2, Q3, Q4",datalabelsfield:"Data labels",datasetlabelfield:"Dataset Label",datasetbackgroundcolorfield:"Dataset BackgroundColor"},workflowform:{namefield:"Name",setstatebuttonfield:"Set state button",blocksetstatefield:"Block SetState",blockloadparametersfield:"Block load parameters",blockselectschemefield:"Block select scheme",selectschemedropdownfield:"Select scheme dropdown"},uploadform:{namefield:"Name",iconFiletypes:"Icon file types",customPostUrl:"Custom post url",showFiletypeIcon:"Show file type icon",autoProcessQueue:"Auto process queue",addRemoveLinks:"Add remove links",multile:"Multiple file upload"},breadcrumbform:{namefield:"Name",itemsfield:"Items",itemstextcolumn:"Text",itemsurlcolumn:"Url",itemsactivecolumn:"Active",itemsiconcolumn:"Divider Icon"},searchform:{namefield:"Name",urlfield:"Url",categoryfield:"Enable Categories"},treepickerform:{namefield:"Name",labelfield:"Label",datamodelfield:"Data model",columnsfield:"Columns (Name ASC, Email)",optionsfield:"Options",errorfield:"Error",disabledfield:"Disabled",fluidfield:"Fluid",multiplefield:"Multiple",selectionfield:"Selection",readonlyfield:"Read only",clearablefield:"Clearable",pagingfield:"Server pagination",pagesizefield:"Page Size",parentidfield:"Parent Field",buttoncssclass:"Custom CSS class for Button",buttonstyle:"Button style",modalcssclass:"Custom CSS class for modal",modalstyle:"Modal style",textfield:"Text expression"},filecontrolform:{namefield:"Name",iconFiletypes:"Icon file types",customPostUrl:"Custom post url",showFiletypeIcon:"Show file type icon",autoProcessQueue:"Auto process queue",readonlyfield:"Read only",usedropzonefield:"Use dropzone",propertiesfield:"File properties",titlecolumn:"Column title",showpropertycolumn:"Show property",idfield:"Id field",fieldcolumn:"Table field",propertycolumn:"File property"}}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a={},r=(function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(o,[{key:"Set",value:function(e,t,n){a.hasOwnProperty(e)&&clearTimeout(a[e]);var r=setTimeout(t,n);a[e]=r}},{key:"Clear",value:function(e){a.hasOwnProperty(e)&&(clearTimeout(a[e]),delete a[e])}}]),o);function o(){!function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this)}t.default=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=c(n(0)),i=(c(n(5)),c(n(22))),l=n(1),s=c(n(3)),u=c(n(76));function c(e){return e&&e.__esModule?e:{default:e}}var d=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":ms(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(f,o.default.Component),a(f.prototype,[{key:"setData",value:function(e){this.setState({data:s.default.stringify(e,null,4)})}},{key:"setModel",value:function(e){this.setState({model:e})}},{key:"render",value:function(){var e=this,t=[],n=void 0;try{t=s.default.parse(this.state.data),null==this.state.errors&&""!=this.state.errors||(n=s.default.parse(this.state.errors))}catch(e){}return o.default.createElement("div",{className:"dwkit-formviewer"},o.default.createElement(u.default,{style:{display:"flex"},sizes:[75,25],onDrag:function(){return e.forceUpdate()}},o.default.createElement(l.Segment,{style:{overflow:"auto"}},o.default.createElement("h1",null,"Form"),o.default.createElement(i.default,{model:this.state.model,data:t,errors:n,eventFunc:this.eventFunc.bind(this),eventErrFunc:this.props.eventErrProcess,getFormFunc:this.props.getFormFunc,dataChanged:this.formDataChaged.bind(this),getAdditionalDataForControl:this.getAdditionalDataForControl.bind(this),downloadUrl:this.props.downloadUrl,uploadUrl:this.props.uploadUrl,externalControlList:this.props.externalControlList,externalControlRender:this.props.externalControlRender,adaptiveViewType:this.state.adaptiveViewType})),o.default.createElement("div",null,o.default.createElement("div",null,o.default.createElement(l.Checkbox,{style:{marginRight:"10px"},radio:!0,name:"adaptiveViewTypeDesktop",label:"Desktop",checked:"desktop"==this.state.adaptiveViewType,onChange:function(){e.setState({adaptiveViewType:"desktop"})}}),o.default.createElement(l.Checkbox,{radio:!0,name:"adaptiveViewTypeMobile",label:"Mobile",checked:"mobile"==this.state.adaptiveViewType,onChange:function(){e.setState({adaptiveViewType:"mobile"})}})),o.default.createElement("h1",null,"Data"),o.default.createElement(l.TextArea,{rows:12,onChange:this.handleChange.bind(this),value:this.state.data}),o.default.createElement("h1",null,"Errors"),o.default.createElement(l.TextArea,{rows:4,onChange:this.handleChangeErrors.bind(this),value:this.state.errors}),o.default.createElement("h1",null,"Model"),o.default.createElement(l.TextArea,{rows:4,value:s.default.stringify(this.state.model,null,4)}))),o.default.createElement("div",{style:{clear:"both"}},o.default.createElement("h1",null,"Events"),o.default.createElement(l.TextArea,{rows:12,readOnly:!0,value:this.state.eventslog})))}},{key:"getAdditionalDataForControl",value:function(r,e,f){var p=e.startIndex,h=e.pageSize,m=e.filters;e.sort,e.model,"dictionary"==r.props["data-buildertype"]?setTimeout(function(){for(var e=[],t=0;t<500;t++){var n={};n.key="Test_"+t,n.text="Test_"+t,n.value=t,e.push(n)}var r=[],a=e.length;if(Array.isArray(m)&&0<m.length){var o=m[0];if("="==o.term)for(var i=0;i<e.length;i++)e[i].value==o.value&&r.push(e[i]);else if("in"==o.term){for(var l=0;l<e.length;l++)for(var s=0;s<o.value.length;s++)if(e[l].value==o.value[s]){r.push(e[l]);break}}else if("like"==o.term){o.value;for(var u=0,c=0;c<e.length;c++)if(e[c].text.includes(o.value)){if(++u<p)continue;r.length<=h&&r.push(e[c])}return void f({items:r,rowsCount:u})}f({items:r,rowsCount:r.length})}else if(null!=p&&null!=h){for(var d=0;d<h;d++)r.push(e[p+d]);f({items:r,rowsCount:a})}else f({items:e,rowsCount:a})},100):"dictionarytree"==r.props["data-buildertype"]?setTimeout(function(){for(var e=[],t=0;t<10;t++){var n={};n.key="Test_"+t,n.text="Test_"+t,n.value=t,n.children=[];for(var r=0;r<10;r++){var a={};a.key=n.key+"_"+r,a.text=n.key+"_"+r,a.value=r,n.children.push(a)}e.push(n)}f({items:e,rowsCount:e.length})}):"workflowbar"==r.props["data-buildertype"]?f({commands:[{value:"approve",type:"1",text:"Approve"},{value:"back",type:"2",text:"Back"}],states:[{value:"draft",text:"Draft"},{value:"state1",text:"State 1"},{value:"state2",text:"State 2"},{value:"final",text:"Final"}]}):setTimeout(function(){for(var e=[],t=0;t<h;t++){var n={};null==r.props.columns?(n.col1="col1_"+(Number(p)+Number(t)),n.col2="col2_"+(Number(p)+Number(t)),n.col3="col3_"+(Number(p)+Number(t))):r.props.columns.forEach(function(e){n[e.key]=e.key+"_"+(Number(p)+Number(t))}),e.push(n)}f({startIndex:p,pageSize:h,rowsCount:100,items:e})},100)}},{key:"eventFunc",value:function(e){e.syntheticEvent=void 0,e.component=void 0,e.controlRef=void 0,e.sourceEvent=void 0;var t=this.state.eventslog,n="";0<t.length&&(n="\n"),t=(new Date).toLocaleTimeString()+": "+s.default.stringify(r({},e,{e:void 0,sourceControlRef:void 0}))+n+t,this.setState({eventslog:t})}},{key:"getModel",value:function(){return this.state.model}},{key:"setModel",value:function(e){this.setState({model:e})}},{key:"formDataChaged",value:function(e,t){t.key,t.value,this.setState({data:s.default.stringify(e.state.data,null,4)})}},{key:"handleChange",value:function(e,t){var n=t.value;this.setState({data:n})}},{key:"handleChangeErrors",value:function(e,t){var n=t.value;this.setState({errors:n})}},{key:"handleChangeModel",value:function(e,t){var n=t.value;this.setState({model:n})}},{key:"sendrequest",value:function(e,t){$.getJSON(e).done(function(e){t(e)}).fail(function(e,t,n){var r=t+", "+n;console.error(r)})}}]),f);function f(e){!function(e){if(!(e instanceof f))throw new TypeError("Cannot call a class as a function")}(this);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":ms(t))&&"function"!=typeof t?e:t}(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,e));t.state={adaptiveViewType:"desktop",model:null!=e.model?e.model:[],data:null!=e.data?e.data:"{}",errors:null!=e.errors?e.errors:"{}",eventslog:""};var n=t;return null!=e.modelurl&&t.sendrequest(e.modelurl,function(e){n.setState({model:e})}),null!=e.dataurl&&t.sendrequest(e.dataurl,function(e){n.setState({data:s.default.stringify(e,null,4)})}),t}t.default=d},function(e,t,n){var l=n(75);function r(){}e.exports=function(){function e(e,t,n,r,a,o){if(o!==l){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function t(){return e}var n={array:e.isRequired=e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=r,n.PropTypes=n}},function(e,t,n){e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){function N(){return!1}function a(e){return"string"==typeof e||e instanceof String}function I(e){if(a(e)){var t=K.querySelector(e);if(!t)throw new Error("Selector "+e+" did not match a DOM element");return t}return e}function M(e,t,n){var r=e[t];return void 0!==r?r:n}function R(e,t,n,r){if(t){if("end"===r)return 0;if("center"===r)return e/2}else if(n){if("start"===r)return 0;if("center"===r)return e/2}return e}function V(e,t){var n=K.createElement("div");return n.className="gutter gutter-"+t,n}function W(e,t,n){var r={};return a(t)?r[e]=t:r[e]=$?t+"%":s+"("+t+"% - "+n+"px)",r}function B(e,t){var n;return(n={})[e]=t+"px",n}function p(e,s){void 0===s&&(s={});var u,t,a,o,r,c,d=e;Array.from&&(d=Array.from(d));var f=I(d[0]).parentNode,n=getComputedStyle?getComputedStyle(f):null,p=n?n.flexDirection:null,h=M(s,"sizes")||d.map(function(){return 100/d.length}),i=M(s,"minSize",100),m=Array.isArray(i)?i:d.map(function(){return i}),l=M(s,"expandToMin",!1),v=M(s,"gutterSize",10),g=M(s,"gutterAlign","center"),y=M(s,"snapOffset",30),b=M(s,"dragInterval",1),w=M(s,"direction",H),k=M(s,"cursor",w===H?"col-resize":"row-resize"),E=M(s,"gutter",V),C=M(s,"elementStyle",W),_=M(s,"gutterStyle",B);function O(t,e,n,r){var a=C(u,e,n,r);Object.keys(a).forEach(function(e){t.style[e]=a[e]})}function S(){return c.map(function(e){return e.size})}function x(e){return"touches"in e?e.touches[0][t]:e[t]}function A(e){var t=c[this.a],n=c[this.b],r=t.size+n.size;t.size=e/this.size*r,n.size=r-e/this.size*r,O(t.element,t.size,this._b,t.i),O(n.element,n.size,this._c,n.i)}function D(){var e=c[this.a].element,t=c[this.b].element,n=e[q](),r=t[q]();this.size=n[u]+r[u]+this._b+this._c,this.start=n[a],this.end=n[o]}function F(o){var i=function(e){if(!getComputedStyle)return null;var t=getComputedStyle(e);if(!t)return null;var n=e[r];return 0===n?null:n-=w===H?parseFloat(t.paddingLeft)+parseFloat(t.paddingRight):parseFloat(t.paddingTop)+parseFloat(t.paddingBottom)}(f);if(null===i)return o;if(m.reduce(function(e,t){return e+t},0)>i)return o;var l=0,s=[],e=o.map(function(e,t){var n=i*e/100,r=R(v,0===t,t===o.length-1,g),a=m[t]+r;return n<a?(l+=a-n,s.push(0),a):(s.push(n-a),n)});return 0===l?o:e.map(function(e,t){var n=e;if(0<l&&0<s[t]-l){var r=Math.min(l,s[t]-l);l-=r,n=e-r}return n/i*100})}w===H?(u="width",t="clientX",a="left",o="right",r="clientWidth"):"vertical"===w&&(u="height",t="clientY",a="top",o="bottom",r="clientHeight"),h=F(h);var L=[];function P(e){var t=e.i===L.length,n=t?L[e.i-1]:L[e.i];D.call(n);var r=t?n.size-e.minSize-n._c:e.minSize+n._b;A.call(n,r)}function j(e){var o=F(e);o.forEach(function(e,t){if(0<t){var n=L[t-1],r=c[n.a],a=c[n.b];r.size=o[t-1],a.size=e,O(r.element,r.size,n._b,r.i),O(a.element,a.size,n._c,a.i)}})}function T(n,r){L.forEach(function(t){if(!0!==r?t.parent.removeChild(t.gutter):(t.gutter[G]("mousedown",t._a),t.gutter[G]("touchstart",t._a)),!0!==n){var e=C(u,t.a.size,t._b);Object.keys(e).forEach(function(e){c[t.a].element.style[e]="",c[t.b].element.style[e]=""})}})}return(c=d.map(function(e,t){var n,r,a,o={element:I(e),size:h[t],minSize:m[t],i:t};if(0<t&&((n={a:t-1,b:t,dragging:!1,direction:w,parent:f})._b=R(v,t-1==0,!1,g),n._c=R(v,!1,t===d.length-1,g),"row-reverse"===p||"column-reverse"===p)){var i=n.a;n.a=n.b,n.b=i}if(!$&&0<t){var l=E(t,w,o.element);r=l,a=_(u,v,t),Object.keys(a).forEach(function(e){r.style[e]=a[e]}),n._a=function(e){if(!("button"in e&&0!==e.button)){var t=this,n=c[t.a].element,r=c[t.b].element;t.dragging||M(s,"onDragStart",N)(S()),e.preventDefault(),t.dragging=!0,t.move=function(e){var t,n=c[this.a],r=c[this.b];this.dragging&&(t=x(e)-this.start+(this._b-this.dragOffset),1<b&&(t=Math.round(t/b)*b),t<=n.minSize+y+this._b?t=n.minSize+this._b:t>=this.size-(r.minSize+y+this._c)&&(t=this.size-(r.minSize+this._c)),A.call(this,t),M(s,"onDrag",N)())}.bind(t),t.stop=function(){var e=this,t=c[e.a].element,n=c[e.b].element;e.dragging&&M(s,"onDragEnd",N)(S()),e.dragging=!1,z[G]("mouseup",e.stop),z[G]("touchend",e.stop),z[G]("touchcancel",e.stop),z[G]("mousemove",e.move),z[G]("touchmove",e.move),e.stop=null,e.move=null,t[G]("selectstart",N),t[G]("dragstart",N),n[G]("selectstart",N),n[G]("dragstart",N),t.style.userSelect="",t.style.webkitUserSelect="",t.style.MozUserSelect="",t.style.pointerEvents="",n.style.userSelect="",n.style.webkitUserSelect="",n.style.MozUserSelect="",n.style.pointerEvents="",e.gutter.style.cursor="",e.parent.style.cursor="",K.body.style.cursor=""}.bind(t),z[U]("mouseup",t.stop),z[U]("touchend",t.stop),z[U]("touchcancel",t.stop),z[U]("mousemove",t.move),z[U]("touchmove",t.move),n[U]("selectstart",N),n[U]("dragstart",N),r[U]("selectstart",N),r[U]("dragstart",N),n.style.userSelect="none",n.style.webkitUserSelect="none",n.style.MozUserSelect="none",n.style.pointerEvents="none",r.style.userSelect="none",r.style.webkitUserSelect="none",r.style.MozUserSelect="none",r.style.pointerEvents="none",t.gutter.style.cursor=k,t.parent.style.cursor=k,K.body.style.cursor=k,D.call(t),t.dragOffset=x(e)-t.end}}.bind(n),l[U]("mousedown",n._a),l[U]("touchstart",n._a),f.insertBefore(l,o.element),n.gutter=l}return O(o.element,o.size,R(v,0===t,t===d.length-1,g),t),0<t&&L.push(n),o})).forEach(function(e){var t=e.element[q]()[u];t<e.minSize&&(l?P(e):e.minSize=t)}),$?{setSizes:j,destroy:T}:{setSizes:j,getSizes:S,collapse:function(e){P(c[e])},destroy:T,parent:f,pairs:L}}n.r(t);var r=n(0),o=n.n(r),i=n(2),l=n.n(i),z=window,K=z.document,U="addEventListener",G="removeEventListener",q="getBoundingClientRect",H="horizontal",$=z.attachEvent&&!z[U],s=["","-webkit-","-moz-","-o-"].filter(function(e){var t=K.createElement("div");return t.style.cssText="width:"+e+"calc(9px)",!!t.style.length}).shift()+"calc";function h(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&-1===t.indexOf(r)&&(n[r]=e[r]);return n}var u,c=((u=o.a.Component)&&(d.__proto__=u),((d.prototype=Object.create(u&&u.prototype)).constructor=d).prototype.componentDidMount=function(){var e=this.props,r=(e.children,e.gutter),t=h(e,["children","gutter"]);t.gutter=function(e,t){var n;return r?n=r(e,t):(n=document.createElement("div")).className="gutter gutter-"+t,n.__isSplitGutter=!0,n},this.split=p(this.parent.children,t)},d.prototype.componentDidUpdate=function(t){var n=this,e=this.props,r=(e.children,e.minSize),a=e.sizes,o=e.collapsed,i=h(e,["children","minSize","sizes","collapsed"]),l=t.minSize,s=t.sizes,u=t.collapsed,c=["expandToMin","gutterSize","gutterAlign","snapOffset","dragInterval","direction","cursor"].map(function(e){return n.props[e]!==t[e]}).reduce(function(e,t){return e||t},!1);if(Array.isArray(r)&&Array.isArray(l)){var d=!1;r.forEach(function(e,t){d=d||e!==l[t]}),c=c||d}else c=!(!Array.isArray(r)&&!Array.isArray(l))||c||r!==l;if(c)i.minSize=r,i.sizes=a||this.split.getSizes(),this.split.destroy(!0,!0),i.gutter=function(e,t,n){return n.previousSibling},this.split=p(Array.from(this.parent.children).filter(function(e){return!e.__isSplitGutter}),i);else if(a){var f=!1;a.forEach(function(e,t){f=f||e!==s[t]}),f&&this.split.setSizes(this.props.sizes)}Number.isInteger(o)&&(o!==u||c)&&this.split.collapse(o)},d.prototype.componentWillUnmount=function(){this.split.destroy(),delete this.split},d.prototype.render=function(){var t=this,e=this.props,n=(e.sizes,e.minSize,e.expandToMin,e.gutterSize,e.gutterAlign,e.snapOffset,e.dragInterval,e.direction,e.cursor,e.gutter,e.elementStyle,e.gutterStyle,e.onDrag,e.onDragStart,e.onDragEnd,e.collapsed,e.children),r=h(e,["sizes","minSize","expandToMin","gutterSize","gutterAlign","snapOffset","dragInterval","direction","cursor","gutter","elementStyle","gutterStyle","onDrag","onDragStart","onDragEnd","collapsed","children"]);return o.a.createElement("div",Object.assign({},{ref:function(e){t.parent=e}},r),n)},d);function d(){u.apply(this,arguments)}c.propTypes={sizes:l.a.arrayOf(l.a.number),minSize:l.a.oneOfType([l.a.number,l.a.arrayOf(l.a.number)]),expandToMin:l.a.bool,gutterSize:l.a.number,gutterAlign:l.a.string,snapOffset:l.a.number,dragInterval:l.a.number,direction:l.a.string,cursor:l.a.string,gutter:l.a.func,elementStyle:l.a.func,gutterStyle:l.a.func,onDrag:l.a.func,onDragStart:l.a.func,onDragEnd:l.a.func,collapsed:l.a.number,children:l.a.arrayOf(l.a.element)},c.defaultProps={sizes:void 0,minSize:void 0,expandToMin:void 0,gutterSize:void 0,gutterAlign:void 0,snapOffset:void 0,dragInterval:void 0,direction:void 0,cursor:void 0,gutter:void 0,elementStyle:void 0,gutterStyle:void 0,onDrag:void 0,onDragStart:void 0,onDragEnd:void 0,collapsed:void 0,children:void 0},t.default=c}],b.c=k,b.d=function(e,t,n){b.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},b.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},b.t=function(t,e){if(1&e&&(t=b(t)),8&e)return t;if(4&e&&"object"==(void 0===t?"undefined":ms(t))&&t&&t.__esModule)return t;var n=Object.create(null);if(b.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)b.d(n,r,function(e){return t[e]}.bind(null,r));return n},b.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return b.d(t,"a",t),t},b.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},b.p="",b(b.s=23);function b(e){if(k[e])return k[e].exports;var t=k[e]={i:e,l:!1,exports:{}};return w[e].call(t.exports,t,t.exports,b),t.l=!0,t.exports}var w,k},"object"==ms(o)&&"object"==ms(e)?e.exports=a(i(0),i(1),i(3),i(9),i(2),i(10),i(22),i(11),i(12),i(15),i(14),i(23),i(24),i(25),i(26),i(27),i(28)):(n=[i(0),i(1),i(3),i(9),i(2),i(10),i(22),i(11),i(12),i(15),i(14),i(23),i(24),i(25),i(26),i(27),i(28)],void 0===(r="function"==typeof(t=a)?t.apply(o,n):t)||(e.exports=r))}).call(this,i(71)(e))},function(e,t){e.exports=f},function(e,t){e.exports=p},function(e,t){e.exports=h},function(e,t){e.exports=m},function(e,t){e.exports=v},function(e,t){e.exports=g},function(e,t){e.exports=y},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=s(n(0)),l=(s(n(2)),n(1)),a=(s(n(3)),s(n(4))),o=s(n(30));function s(e){return e&&e.__esModule?e:{default:e}}var u,c,d,f=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":R(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(p,a.default),u=p,(c=[{key:"onShowRef",value:function(e){this.addMissingDataMap(),this.setState({showref:e})}},{key:"render",value:function(){var e,t,n=this.props.item,r=this.state.showref;if(null!=n.referenceEntityId&&null!=this.props.dataMap&&(e=r?i.default.createElement("img",{onClick:this.onShowRef.bind(this,!1),className:"dwkit-formadmin-imgbutton",src:"/images/collapse.svg"}):i.default.createElement("img",{onClick:this.onShowRef.bind(this,!0),className:"dwkit-formadmin-imgbutton",src:"/images/expand.svg"})),this.props.hidedropzone){var a=null==n.control?"":n.control;t=i.default.createElement(l.Form.Input,{key:"control",name:"control",list:this.props.datalist,placeholder:"Alias",value:a,onChange:this.handleChange.bind(this)})}else if(null==n.control)t=i.default.createElement("div",{key:"dz",className:"dwkit-formmapping-zone","data-id":n.id},DWKitAdminLang.datamap.placefortoncroltitle);else{var o=this.props.parent.props.parent;t=i.default.createElement("div",{key:"control",className:"mapdatacontrol",draggable:"true",onDragStart:o.onDragStart.bind(o,n.control),onDragEnd:o.onDragEnd.bind(o,n.control),onDoubleClick:o.onDoubleClick.bind(o,n.control)},i.default.createElement("span",{key:"span"},n.control))}return i.default.createElement("div",{key:this.props.item.id},i.default.createElement(l.Form.Group,{key:"group",className:"dwkit-formadmin-mapping-attribute"},null!=e&&i.default.createElement("div",{className:"dwkit-formadmin-imgbuttondiv"},e),i.default.createElement(l.Form.Input,{className:"attributename",key:"attributeName",name:"attributeName",value:n.attributeName,readOnly:!0}),i.default.createElement(l.Form.Checkbox,{className:"gridcheckbox",key:"isLoadable",label:DWKitAdminLang.datamap.loadfield,name:"isLoadable",checked:n.isLoadable,onChange:this.handleChange.bind(this)}),t),r&&i.default.createElement("div",{key:"ref",className:"dwkit-formmapping-ref"},this.renderRef()))}},{key:"renderRef",value:function(){var t=this,n=[],r=this.props.item,a=this.props.dataMap;return a.forEach(function(e){e.parentId==r.id&&n.push(i.default.createElement(p,{key:e.id,item:e,parent:t.props.parent,dataMap:a,collectionId:t.props.collectionId,hidedropzone:t.props.hidedropzone,datalist:t.props.datalist}))}),n}},{key:"handleChange",value:function(e,t){var n=t.name,r=t.checked,a=t.value,o=this.props.item;"isLoadable"==n||"isEditable"==n?o[n]=r:(o[n]=a,"control"==n&&(o.isLoadable=Boolean(null!=a&&0<a.length))),this.forceUpdate()}},{key:"iAmInCollection",value:function(){return this.props.parent instanceof o.default}},{key:"addMissingDataMap",value:function(){var t=this.props.item,e=this.props.dataMap;if(!e.some(function(e){return e.parentId===t.id})){var n=this.props.parent.props.parent,r=n.createDataMap(t.referenceEntityId,t.id,t.attributeName+"_",e);if(this.iAmInCollection()){this.props.parent;var a=this.props.collectionId,o=n.state.form,i=o.dataColl.find(function(e){return e.id===a});if(void 0===i)return;i.dataMap=i.dataMap.concat(r),n.setState({form:o})}else{var l=n.state.form;l.dataMap=l.dataMap.concat(r),n.setState({form:l})}}}}])&&r(u.prototype,c),d&&r(u,d),p);function p(e){!function(e){if(!(e instanceof p))throw new TypeError("Cannot call a class as a function")}(this);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":R(t))&&"function"!=typeof t?e:t}(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,e));return t.state={showref:!1},t}t.default=f},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var f=o(n(0)),a=(o(n(2)),o(n(4))),p=n(1),i=(o(n(3)),o(n(29))),h=o(n(16)),m=o(n(13));function o(e){return e&&e.__esModule?e:{default:e}}var l,s,u,c=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":R(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(d,a.default),l=d,(s=[{key:"onExpand",value:function(e,t){this.state.expanded[e]=t,this.forceUpdate()}},{key:"onDelete",value:function(e){for(var t,n=this.props.form.dataColl,r=0;r<n.length;r++)if(n[r].id==e){t=r;break}null!=t&&(n.splice(t,1),this.props.parent.forceUpdate())}},{key:"render",value:function(){var e=this.props.form.dataColl;return f.default.createElement("div",{className:"dwkit-formmapping-collection"},f.default.createElement("h2",null,"Collections"),f.default.createElement("div",{className:"dwkit-formmapping-collection-toolbar"},f.default.createElement("a",{onClick:this.onCreate},DWKitAdminLang.button.create)),this.renderColl(e))}},{key:"handleChanged",value:function(e,t,n){var r=n.name,a=n.value,o=n.checked;e[r]="readOnly"===r?o:a,"entityId"===r&&(e.dataMap=this.props.parent.createDataMap(a,void 0,"",[])),this.props.parent.validate(),this.forceUpdate()}},{key:"renderColl",value:function(e){var c=[],d=this;return e.forEach(function(e){var t=e.id;void 0!==e.triggers&&null!==e.triggers||(e.triggers=[]);var n,r,a=d.state.expanded[t];if(n=a?f.default.createElement("img",{onClick:d.onExpand.bind(d,t,!1),className:"dwkit-formadmin-imgbutton",src:"/images/collapse.svg"}):f.default.createElement("img",{onClick:d.onExpand.bind(d,t,!0),className:"dwkit-formadmin-imgbutton",src:"/images/expand.svg"}),null==e.control)r=f.default.createElement("div",{key:"dz",className:"dwkit-formmapping-zone","data-id":e.id},"Control...");else{var o=d.props.parent;r=f.default.createElement("div",{key:"control",className:"mapdatacontrol",draggable:"true",onDragStart:o.onDragStart.bind(o,e.control),onDragEnd:o.onDragEnd.bind(o,e.control),onDoubleClick:o.onDoubleClick.bind(o,e.control)},f.default.createElement("span",{key:"span"},e.control))}var i=d.actionParameterSuggestions(e.dataMap),l=f.default.createElement("label",null,DWKitAdminLang.datamap.collectionfilterfield,f.default.createElement(p.Popup,{content:"Here you can select Filter Action which will be applied when requesting collections for the form instead of a standard filter.\nStandard filter automatically binds collection with main entity, if there's a reference to Main entity data model in collection Data Model.",trigger:f.default.createElement(p.Icon,{name:"question"})})),s=e.entityId?f.default.createElement("label",null,DWKitAdminLang.datamap.collectionentityfield,f.default.createElement("a",{target:"_blank",href:"?apanel=datamodel&aid="+e.entityId},f.default.createElement(p.Icon,{name:"database"}))):DWKitAdminLang.datamap.collectionentityfield,u=f.default.createElement("div",{key:t+"_div",className:"dwkit-formmapping-collection-row"},f.default.createElement(p.Form,null,f.default.createElement(p.Form.Group,{widths:"equal"},f.default.createElement("div",{className:"dwkit-formadmin-imgbuttondiv2"},n),f.default.createElement(p.Form.Dropdown,{key:"entityId",label:s,name:"entityId",options:d.props.entities,value:e.entityId,onChange:d.handleChanged.bind(d,e),error:Boolean(e.__error&&e.__error.entityId),selection:!0,fluid:!0,search:!0}),f.default.createElement(p.Form.Dropdown,{key:"filter",label:l,name:"filter",options:d.props.codeactions,value:e.filter,onChange:d.handleChanged.bind(d,e),error:Boolean(e.__error&&e.__error.filter),selection:!0,fluid:!0,search:!0}),e.filter&&f.default.createElement(m.default,{key:"parameter",suggestions:i,extraServerVariables:["@ParentId"],name:"parameter",label:DWKitAdminLang.field.parameter,value:null!=e.parameter?e.parameter:"",onChange:d.handleChanged.bind(d,e)}),r,f.default.createElement(p.Form.Checkbox,{key:"readOnly",label:DWKitAdminLang.field.readonly,name:"readOnly",style:{width:"100px"},checked:e.readOnly,onChange:d.handleChanged.bind(d,e)}),f.default.createElement("div",{className:"dwkit-formadmin-imgbuttondiv2"},f.default.createElement("img",{className:"dwkit-formadmin-imgbutton",onClick:d.onDelete.bind(d,t),src:"/images/delete.svg"}))),a&&f.default.createElement("div",{key:t+"_att",className:"field children"},f.default.createElement("label",{key:t+"_label"},DWKitAdminLang.field.attributes),null!=e.entityId&&d.renderFields(e)),f.default.createElement("div",null,f.default.createElement(h.default,{data:e.triggers,types:["AfterSelect","BeforeInsert","AfterInsert","BeforeUpdate","AfterUpdate","BeforeDelete","AfterDelete","AfterNew"],suggestions:i,codeactions:d.props.codeActionsTriggers}))));c.push(u)}),c}},{key:"renderFields",value:function(t){var n=[],r=this,e=void 0,a=void 0;if(null!=t.control&&null!=this.props.formsource){e=this.getOptionsByControl(t.control,this.props.formsource),a=t.id+"_datalist";var o=[];Array.isArray(e)&&e.forEach(function(e){o.push(f.default.createElement("option",{key:e,value:e}))}),n.push(f.default.createElement("datalist",{key:a,id:a},o))}return t.dataMap.forEach(function(e){null==e.parentId&&n.push(f.default.createElement(i.default,{key:e.id,collectionId:t.id,item:e,parent:r,dataMap:t.dataMap,hidedropzone:!0,datalist:a}))}),n}},{key:"getOptionsByControl",value:function(e,t){var n=this.findControl(e,t);if(null!=n){if(Array.isArray(n.columns)){var r=[];return n.columns.forEach(function(e){r.push(e.key)}),r}if("repeater"!==n["data-buildertype"])return[];var a=this.props.parent.getControlsByFormForDataMapping(n.placeholders.template,null,!0).map(function(e){return e.key});return a.sort(function(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())}),a}}},{key:"findControl",value:function(e,t){for(var n=0;n<t.length;n++){if(t[n].key==e)return t[n];if(Array.isArray(t[n].children)){var r=this.findControl(e,t[n].children);if(null!=r)return r}if(null!=t[n].placeholders)for(var a in t[n].placeholders)if(Array.isArray(t[n].placeholders[a])){var o=this.findControl(e,t[n].placeholders);if(null!=o)return o}}}},{key:"actionParameterSuggestions",value:function(e){var t=[];function n(e,t){return'"'+e+'": { "'+t+'" : { "Column": "Value" }}'}return Array.isArray(e)&&e.forEach(function(e){e.isLoadable&&t.push({caption:e.attributeName,value:'"'+e.attributeName+'"',meta:"Collection Column"})}),t.push({caption:"_ForRole",value:n("_ForRole","RoleCode"),meta:"snippet"}),t.push({caption:"_ForGroup",value:n("_ForGroup","Group"),meta:"snippet"}),t.push({caption:"_ForPermission",value:n("_ForPermission","PermissionGroupCode.PermissionCode"),meta:"snippet"}),t}}])&&r(l.prototype,s),u&&r(l,u),d);function d(e){!function(e){if(!(e instanceof d))throw new TypeError("Cannot call a class as a function")}(this);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":R(t))&&"function"!=typeof t?e:t}(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,e));return t.onCreate=function(){t.props.form.dataColl.push({id:t.NewGUID(),dataMap:[]}),t.props.parent.validate(),t.forceUpdate()},t.state={expanded:{}},t}t.default=c},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=s(n(0)),o=(s(n(2)),s(n(4)),n(1)),i=(s(n(3)),s(n(5))),l=s(n(20));function s(e){return e&&e.__esModule?e:{default:e}}var u,c,d,f=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":R(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(p,i.default),u=p,(c=[{key:"renderMainForm",value:function(){var t=this,e=this,n=(null==this.props.data[this.dataindex]||this.props.data[this.dataindex].length,this.gridColumns()),r="";return 0<n.length&&(r=n[0].key+" ASC"),a.default.createElement("div",null,a.default.createElement("h1",null,this.titleGetter?this.titleGetter(DWKitAdminLang):this.title),this.renderToolbar(),a.default.createElement(l.default,{key:"Formgrid",rowKey:this.idfield,rowHeight:40,columns:this.gridColumns(),defaultSort:r,minHeight:this.state.gridHeight,multiselect:!0,pagerType:"server",getAdditionalDataForControl:this.getAdditionalDataForControl.bind(this),handleEvent:this.gridHandleEvent.bind(this),ref:function(e){t.grid=e}}),a.default.createElement(o.Confirm,{open:this.state.confirmdeleteshow,dimmer:"blurring",content:DWKitAdminLang.msg.confirmdelete,onCancel:function(){e.setState({confirmdeleteshow:!1})},onConfirm:this.onDelete.bind(this)}))}},{key:"handlePopupChange",value:function(e,t){var n=t.name,r=t.value;t.checked,this.state.popup[n]=r,this.forceUpdate()}},{key:"onDelete",value:function(){for(var e=this,t=[],n=this.grid.getSeletedRowKeys(),r=0;r<n.length;r++){var a={};a[this.idfield]=n[r],a.__type=this.datatype,a.__state="deleted",t.push(a)}e.setState({confirmdeleteshow:!1}),this.ChangeData(t,function(){e.grid.refresh()})}}])&&r(u.prototype,c),d&&r(u,d),p);function p(e){return function(e){if(!(e instanceof p))throw new TypeError("Cannot call a class as a function")}(this),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":R(t))&&"function"!=typeof t?e:t}(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,e))}t.default=f},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,a=(r=n(33))&&r.__esModule?r:{default:r};t.default=a.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=P(n(0)),i=(P(n(2)),P(n(3)),n(1)),l=P(n(34)),s=P(n(35)),u=P(n(4)),c=n(18),d=P(n(36)),f=n(40),p=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(41)),h=P(n(42)),m=P(n(60)),v=P(n(61)),g=P(n(64)),y=P(n(66)),b=P(n(67)),w=P(n(69)),k=P(n(74)),E=P(n(80)),C=P(n(82)),_=P(n(84)),O=P(n(86)),S=P(n(88)),x=P(n(90)),A=P(n(92)),D=P(n(95)),F=P(n(98)),L=P(n(101));function P(e){return e&&e.__esModule?e:{default:e}}var j,T,N,I=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":R(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(M,u.default),j=M,(T=[{key:"setAutocompleteUpdate",value:function(){(new WorkflowDesignerAutocompleter).initSignalRCore({url:this.props.autocompleteHub,connectionBuilder:new p.HubConnectionBuilder})}},{key:"configureAuthAndLoad",value:function(){var t=this,e=this.props.authServerHost?this.props.authServerHost:window.location.protocol+"//"+window.location.host,n={client_id:"spa",redirect_uri:window.location.protocol+"//"+window.location.host,response_type:"token id_token",scope:"openid profile IdentityServerApi",authority:e,silent_redirect_uri:window.location.protocol+"//"+window.location.host+"/silentRenew.html",automaticSilentRenew:!0,filterProtocolClaims:!0,loadUserInfo:!0,monitorSession:!0};if(this.userManager=new f.UserManager(n),this.userManager.events.addUserLoaded(function(){t.userManager.getUser().then(function(e){e&&!e.expired&&t.configureHeaders(e)})}),this.userManager.events.addUserSignedOut(function(){t.userManager.signinRedirect()}),window.location.hash&&-1<window.location.hash.substring(1,window.location.hash.length-1).split("=").indexOf("id_token"))return this.getUserCallback(this.userManager.signinRedirectCallback()),void history.pushState(void 0,void 0,window.location.pathname);this.getUserCallback(this.userManager.getUser())}},{key:"getUserCallback",value:function(e){var t=this;e.then(function(e){return e&&!e.expired?(t.configureHeaders(e),Promise.resolve()):t.userManager.signinSilent()}).catch(function(){t.userManager.signinRedirect()}).then(function(){t.load()})}},{key:"configureHeaders",value:function(e){var t="Bearer "+e.access_token;$.ajaxSetup({beforeSend:function(e){e.setRequestHeader("Authorization",t)}}),this.bearerHeader=t}},{key:"load",value:function(n){var r=this,e=new Array;e.push({name:"operation",value:"load"}),$.ajax({url:r.props.apiUrl,data:e,async:!0,success:function(e){if(e.success)r.setState({isloadig:!1,data:r.CorrectData(e.item)},n);else{var t=e.message;null==t&&(t=DWKitAdminLang.requesterror.configapi+": "+r.props.apiUrl+"!","string"==typeof e&&(console.error(DWKitAdminLang.requesterror.configapi+":",e),t+=" "+DWKitAdminLang.msg.lookdevconsole)),r.setState({progresserror:!0,progressmsg:t})}},error:function(e,t){r.processLoadError(e,t)}})}},{key:"processLoadError",value:function(e,t){var n=this.getProcessLoadError(e,t);this.setState({progresserror:!0,progressmsg:n})}},{key:"CorrectData",value:function(e){return null==e.modules&&(e.modules=[]),null==e.dataModel&&(e.dataModel=[]),null==e.localization&&(e.localization=[]),e}},{key:"handleErrEvent",value:function(e){this.props.eventerrfunc&&this.props.eventerrfunc(this,e)}},{key:"handleMenuItemClick",value:function(e,t){var n=t.name;this.openpage(n,void 0)}},{key:"openpage",value:function(e,t,n){var r=window.location.href;r=this.updateQueryStringParameter(r,"apanel",e),r=this.updateQueryStringParameter(r,"aid",t),history.pushState(void 0,void 0,r),this.setState({apanel:e,aid:t,copyid:n})}},{key:"render",value:function(){if(this.state.isloadig)return this.RenderLoading();var e,t=this.state.apanel,n={id:this.getQueryString().aid,copyid:this.state.copyid,data:this.state.data,apiUrl:this.props.apiUrl,deltaWidth:this.props.deltaWidth,deltaHeight:this.props.deltaHeight,controlActions:this.props.controlActions,parent:this};e="dashboard"===t?o.default.createElement(h.default,a({},n,{themesFolder:this.props.themesFolder})):"resources"===t?o.default.createElement(m.default,n):"datamodel"===t?o.default.createElement(g.default,n):"datasync"===t?o.default.createElement(y.default,n):"codeactions"===t?o.default.createElement(b.default,a({},n,{autocomplete:!!this.props.autocompleteHub})):"workflow"===t?o.default.createElement(_.default,a({},n,{workflowApi:this.props.workflowApi})):"businessflow"===t?o.default.createElement(S.default,a({},n,{workflowApi:this.props.workflowApi})):"commandform"===t?o.default.createElement(x.default,a({},n,{workflowApi:this.props.workflowApi})):"forms"===t?o.default.createElement(w.default,a({},n,{externalControlList:this.props.externalControlList,externalControlRender:this.props.externalControlRender,externalControlsOnly:this.props.externalControlsOnly})):"formdata"===t?o.default.createElement(k.default,n):"actionhandlers"===t?o.default.createElement(E.default,n):"localization"===t?o.default.createElement(C.default,n):"users"===t?o.default.createElement(A.default,n):"groups"===t?o.default.createElement(F.default,n):"roles"===t?o.default.createElement(D.default,n):"permissions"===t?o.default.createElement(L.default,n):"modules"===t?o.default.createElement(v.default,n):"workflowinstances"===t?o.default.createElement(O.default,a({},n,{workflowApi:this.props.workflowApi})):o.default.createElement("div",null,"The unknown part of DWKIT. Please, send the isssue to us via ",o.default.createElement("a",{href:"https://dwkit.com/contacts/"},"dwkit.com contact form"),".");var r=this.getFormMappingMessage();return null==r&&(r=this.getCodeActionsMessage()),o.default.createElement("div",{className:"dwkit-formadmin-container"},o.default.createElement("div",{className:"dwkit-formadmin-header"},o.default.createElement("div",{className:"dwkit-formadmin-header-left"},o.default.createElement("img",{className:"dwkit-formadmin-header-logo",onClick:this.onApp.bind(this),src:"/images/logo.svg"})),o.default.createElement("div",{className:"dwkit-formadmin-header-center"},r,null==r&&o.default.createElement(s.default,{data:this.state.data,parent:this})),o.default.createElement("div",{className:"dwkit-formadmin-header-right"},o.default.createElement(i.Button,{name:"btnApp",className:"buttontype2",onClick:this.onApp.bind(this)},DWKitAdminLang.common.toolbarappbutton),o.default.createElement(d.default,{folder:this.props.localizationFolder,locale:this.props.locale,parent:this}))),o.default.createElement("div",{className:"dwkit-formadmin"},o.default.createElement("div",{className:"dwkit-formadmin-menu"},o.default.createElement(l.default,{parent:this,activeItem:t})),o.default.createElement("div",{className:"dwkit-formadmin-basecontent"},o.default.createElement("div",{className:"dwkit-formadmin-top"}),o.default.createElement("div",{className:"dwkit-formadmin-content"},e))))}},{key:"onApp",value:function(){null!=this.props.returnToAppUrl&&(window.location=this.props.returnToAppUrl)}},{key:"getCodeActionsMessage",value:function(){var e=void 0!==this.state.data.additionalParams&&void 0!==this.state.data.additionalParams.CodeActionErrors&&null!==this.state.data.additionalParams.CodeActionErrors&&0!==Object.getOwnPropertyNames(this.state.data.additionalParams.CodeActionErrors).length;if(!this.state.errorCodeActionsMessageHidden&&e){var t=this;return o.default.createElement("div",{style:{maxHeight:"45px",overflow:"hidden"}},o.default.createElement("div",{style:{float:"left",marginRight:"20px",color:"red"}},o.default.createElement("b",null,DWKitAdminLang.msg.serverglobalerror),o.default.createElement("br",null),o.default.createElement("span",null,DWKitAdminLang.msg.globalcodeactionshaveerrors)),o.default.createElement("div",null,o.default.createElement("button",{onClick:function(){t.state.errorCodeActionsMessageHidden=!0,t.forceUpdate()},className:"ui button secondary"},DWKitAdminLang.button.close)))}}},{key:"getFormMappingMessage",value:function(){var e=void 0!==this.state.data.additionalParams&&void 0!==this.state.data.additionalParams.FormMappingErrors&&null!==this.state.data.additionalParams.FormMappingErrors&&0<this.state.data.additionalParams.FormMappingErrors.length;if(!this.state.errorFormMappingMessageHidden&&e){var t=this,n=this.state.data.additionalParams.FormMappingErrors;return o.default.createElement("div",{style:{maxHeight:"45px",overflow:"hidden"}},o.default.createElement("div",{style:{float:"left",marginRight:"20px",color:"orange"}},o.default.createElement("b",null,DWKitAdminLang.msg.formmappingerror),o.default.createElement("br",null),o.default.createElement("span",null,n.join(", "))),o.default.createElement("div",null,o.default.createElement("a",{href:"?apanel=formdata",onClick:this.openFormMapping.bind(this),className:"ui button primary"},DWKitAdminLang.sidemenu.formdata),o.default.createElement("button",{onClick:function(){t.state.errorFormMappingMessageHidden=!0,t.forceUpdate()},className:"ui button secondary"},DWKitAdminLang.button.close)))}}},{key:"openFormMapping",value:function(e){document.location.hash="",this.openpage("formdata",void 0),e.preventDefault()}}])&&r(j.prototype,T),N&&r(j,N),M);function M(e){!function(e){if(!(e instanceof M))throw new TypeError("Cannot call a class as a function")}(this);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":R(t))&&"function"!=typeof t?e:t}(this,(M.__proto__||Object.getPrototypeOf(M)).call(this,e)),n=t.getQueryString();t.state={apanel:null==n.apanel?"dashboard":n.apanel,aid:n.aid,isloadig:!0,bearerHeader:null};var r=t;return window.onpopstate=function(e){var t=r.getQueryString();r.setState({apanel:null==t.apanel?"dashboard":t.apanel,aid:t.aid})},null==window.DWKitAdminLang&&(window.DWKitAdminLang=c.defaultLocalization),"cookies"!==t.props.authType?t.configureAuthAndLoad():t.load(),t.props.autocompleteHub&&t.setAutocompleteUpdate(),t}t.default=I},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=i(n(0)),o=(i(n(2)),n(1));function i(e){return e&&e.__esModule?e:{default:e}}var l,s,u,c=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":R(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(d,a.default.Component),l=d,(s=[{key:"handleItemClick",value:function(e,t){var n=t.name;document.location.hash="",this.props.parent.handleMenuItemClick(e,{name:n}),e.preventDefault()}},{key:"render",value:function(){var e=this.props.activeItem;return a.default.createElement(o.Menu,{vertical:!0,size:"huge"},a.default.createElement(o.Menu.Item,{name:"dashboard",active:"dashboard"===e,href:"?apanel=dashboard",onClick:this.handleItemClick.bind(this).bind(this)},DWKitAdminLang.sidemenu.dashboard),a.default.createElement(o.Menu.Item,null,a.default.createElement(o.Menu.Header,null,DWKitAdminLang.sidemenu.data),a.default.createElement(o.Menu.Menu,null,a.default.createElement(o.Menu.Item,{name:"datamodel",active:"datamodel"===e,href:"?apanel=datamodel",onClick:this.handleItemClick.bind(this)},DWKitAdminLang.sidemenu.datamodel),a.default.createElement(o.Menu.Item,{name:"datasync",active:"datasync"===e,href:"?apanel=datasync",onClick:this.handleItemClick.bind(this)},DWKitAdminLang.sidemenu.datasync))),a.default.createElement(o.Menu.Item,{name:"codeactions",active:"codeactions"===e,href:"?apanel=codeactions",onClick:this.handleItemClick.bind(this)},DWKitAdminLang.sidemenu.codeactions),a.default.createElement(o.Menu.Item,null,a.default.createElement(o.Menu.Header,null,DWKitAdminLang.sidemenu.form),a.default.createElement(o.Menu.Menu,null,a.default.createElement(o.Menu.Item,{name:"forms",active:"forms"===e,href:"?apanel=forms",onClick:this.handleItemClick.bind(this)},DWKitAdminLang.sidemenu.forms),a.default.createElement(o.Menu.Item,{name:"formdata",active:"formdata"===e,href:"?apanel=formdata",onClick:this.handleItemClick.bind(this)},DWKitAdminLang.sidemenu.formdata),a.default.createElement(o.Menu.Item,{name:"actionhandlers",active:"actionhandlers"===e,href:"?apanel=actionhandlers",onClick:this.handleItemClick.bind(this)},DWKitAdminLang.sidemenu.actionhandlers),a.default.createElement(o.Menu.Item,{name:"localization",active:"localization"===e,href:"?apanel=localization",onClick:this.handleItemClick.bind(this)},DWKitAdminLang.sidemenu.localization))),a.default.createElement(o.Menu.Item,null,a.default.createElement(o.Menu.Header,null,DWKitAdminLang.sidemenu.workflow),a.default.createElement(o.Menu.Menu,null,a.default.createElement(o.Menu.Item,{name:"workflow",active:"workflow"===e,href:"?apanel=workflow",onClick:this.handleItemClick.bind(this)},DWKitAdminLang.sidemenu.schemes),a.default.createElement(o.Menu.Item,{name:"workflowinstances",active:"workflowinstances"===e,href:"?apanel=workflowinstances",onClick:this.handleItemClick.bind(this)},DWKitAdminLang.sidemenu.workflowinstances),a.default.createElement(o.Menu.Item,{name:"businessflow",active:"businessflow"===e,href:"?apanel=businessflow",onClick:this.handleItemClick.bind(this)},DWKitAdminLang.sidemenu.businessflow),a.default.createElement(o.Menu.Item,{name:"commandform",active:"commandform"===e,href:"?apanel=commandform",onClick:this.handleItemClick.bind(this)},DWKitAdminLang.sidemenu.commandform))),a.default.createElement(o.Menu.Item,null,a.default.createElement(o.Menu.Header,null,DWKitAdminLang.sidemenu.security),a.default.createElement(o.Menu.Menu,null,a.default.createElement(o.Menu.Item,{name:"users",active:"users"===e,href:"?apanel=users",onClick:this.handleItemClick.bind(this)},DWKitAdminLang.sidemenu.users),a.default.createElement(o.Menu.Item,{name:"groups",active:"groups"===e,href:"?apanel=groups",onClick:this.handleItemClick.bind(this)},DWKitAdminLang.sidemenu.groups),a.default.createElement(o.Menu.Item,{name:"roles",active:"roles"===e,href:"?apanel=roles",onClick:this.handleItemClick.bind(this)},DWKitAdminLang.sidemenu.roles),a.default.createElement(o.Menu.Item,{name:"permissions",active:"permissions"===e,href:"?apanel=permissions",onClick:this.handleItemClick.bind(this)},DWKitAdminLang.sidemenu.permissions))),a.default.createElement(o.Menu.Item,{name:"resources",active:"resources"===e,href:"?apanel=resources",onClick:this.handleItemClick.bind(this)},DWKitAdminLang.sidemenu.resourceEditor),a.default.createElement(o.Menu.Item,{href:"https://dwkit.com/contacts/",target:"_blank"},DWKitAdminLang.sidemenu.support))}}])&&r(l.prototype,s),u&&r(l,u),d);function d(e){return function(e){if(!(e instanceof d))throw new TypeError("Cannot call a class as a function")}(this),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":R(t))&&"function"!=typeof t?e:t}(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,e))}t.default=c},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=i(n(0)),o=(i(n(2)),i(n(3)),n(1));function i(e){return e&&e.__esModule?e:{default:e}}var l,s,u,c=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":R(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(d,a.default.Component),l=d,(s=[{key:"resetSearch",value:function(){this.setState({isLoading:!1,results:[]})}},{key:"handleResultSelect",value:function(e,t){var n=t.result;this.props.parent.openpage(n.panelindex,n.id)}},{key:"handleSearchChange",value:function(e,t){var n=t.value,r=this;""!=n?(this.setState({isLoading:!0,value:n}),setTimeout(function(){if(r.state.value.length<1)return r.resetSearch();r.setState({isLoading:!1,results:r.search(r.state.value)})},500)):this.setState({isLoading:!1,value:n,results:[]})}},{key:"search",value:function(e){var t={};return this.addResult(t,e,DWKitAdminLang.searchbox.model,this.props.data.dataModel,"datamodel","id",["name","dbObjectName"]),this.addResult(t,e,DWKitAdminLang.searchbox.form,this.props.data.forms,"forms","name",["name"]),this.addResult(t,e,DWKitAdminLang.searchbox.formdata,this.props.data.forms,"formdata","name",["name"]),this.addResult(t,e,DWKitAdminLang.searchbox.actionhandler,this.props.data.forms,"actionhandlers","name",["name"]),this.addResult(t,e,DWKitAdminLang.searchbox.workflow,this.props.data.workflow,"workflow","code",["code"]),this.addResult(t,e,DWKitAdminLang.searchbox.user,this.props.data.users,"users","id",["name","domainLogin","login"]),this.addResult(t,e,DWKitAdminLang.searchbox.group,this.props.data.groups,"groups","id",["name"]),this.addResult(t,e,DWKitAdminLang.searchbox.role,this.props.data.roles,"roles","id",["code","name"]),this.addResult(t,e,DWKitAdminLang.searchbox.codeaction,this.props.data.codeActions,"codeactions","id",["name"]),t}},{key:"addResult",value:function(e,t,n,r,a,o,i){var l=this.searchInArray(t,r,a,o,i);Array.isArray(l)&&0<l.length&&(e[n]={name:n,results:l})}},{key:"searchInArray",value:function(e,t,n,r,a){var o=[];for(var i in t){for(var l=t[i],s=0;s<a.length;s++){var u=a[s];if(null!=l[u]&&0<=l[u].search(new RegExp(e,"i"))){o.push({title:l[u],panelindex:n,id:l[r]});break}}if(4<o.length){o.push({title:"...",panelindex:n});break}}return o}},{key:"render",value:function(){return a.default.createElement(o.Search,{category:!0,fluid:!0,loading:this.state.isLoading,onResultSelect:this.handleResultSelect.bind(this),onSearchChange:this.handleSearchChange.bind(this),results:this.state.results,value:this.state.value})}}])&&r(l.prototype,s),u&&r(l,u),d);function d(e){!function(e){if(!(e instanceof d))throw new TypeError("Cannot call a class as a function")}(this);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":R(t))&&"function"!=typeof t?e:t}(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,e));return t.state={value:""},t}t.default=c},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=u(n(0)),o=n(1),i=u(n(37)),l=n(18),s=n(38);function u(e){return e&&e.__esModule?e:{default:e}}var c,d,f,p="dwkitadmin_locale",h=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":R(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(m,a.default.Component),c=m,(d=[{key:"render",value:function(){return Array.isArray(this.state.options)?a.default.createElement("div",{className:"localization"},a.default.createElement(o.Dropdown,{selection:!0,options:this.state.options,value:this.state.locale,onChange:this.onChange.bind(this)})):a.default.createElement("div",null)}},{key:"init",value:function(e,a){if(null!=e){var o=this;(0,i.default)(e+"localization_manifest.json").then(function(e){return e.json()}).then(function(e){var t=[],n=0;e.langs.forEach(function(e){t.push({key:n,value:e.locale,flag:e.flag?e.flag:e.locale,text:e.name}),n++});var r=a;null!=r&&""!=r||(r=o.getCookie(p)),null!=r&&""!=r||(r="en"),o.state.options=t,o.state.langs=e.langs,o.registerLocale(r),o.forceUpdate()})}}},{key:"registerLocale",value:function(e){var t=this;if(null!=t.state.locale||"en"!=e){var n=t.state.langs,r=void 0;for(var a in n)if(n[a].locale==e){r=n[a];break}null!=r&&(Array.isArray(r.scripts)&&r.scripts.forEach(function(e){t.loadScript(t.props.folder+e)}),t.setCookie(p,e))}t.setState({locale:e}),null!=t.props.parent&&setTimeout(function(){window.DWKitAdminLang=(0,s.mergeDeep)(l.defaultLocalization,window.DWKitAdminLang),t.props.parent.forceUpdate()},200)}},{key:"onChange",value:function(e,t){t.value!=this.state.locale&&this.registerLocale(t.value)}},{key:"getCookie",value:function(e){var t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0}},{key:"setCookie",value:function(e,t,n){var r=(n=n||{}).expires;if("number"==typeof r&&r){var a=new Date;a.setTime(a.getTime()+1e3*r),r=n.expires=a}r&&r.toUTCString&&(n.expires=r.toUTCString());var o=e+"="+(t=encodeURIComponent(t));for(var i in n){o+="; "+i;var l=n[i];!0!==l&&(o+="="+l)}document.cookie=o}},{key:"loadScript",value:function(e){var t=document.createElement("script");t.async=!1,t.src=e,document.getElementsByTagName("body")[0].appendChild(t)}}])&&r(c.prototype,d),f&&r(c,f),m);function m(e){!function(e){if(!(e instanceof m))throw new TypeError("Cannot call a class as a function")}(this);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":R(t))&&"function"!=typeof t?e:t}(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,e));return t.state={},t.init(e.folder,e.locale),t}t.default=h},function(e,t){e.exports=b},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.mergeDeep=void 0;var r,a=(r=n(39))&&r.__esModule?r:{default:r};function o(e,t){return t}t.mergeDeep=function(e,t){return(0,a.default)(e,t,{arrayMerge:o})}},function(e,t){e.exports=w},function(e,t){e.exports=k},function(e,t){e.exports=E},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=f(n(0)),i=(f(n(2)),f(n(3)),n(1)),l=f(n(4)),s=f(n(43)),u=f(n(57)),c=f(n(58)),d=f(n(59));function f(e){return e&&e.__esModule?e:{default:e}}var p,h,m,v=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":R(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(g,l.default),p=g,(h=[{key:"onRequestRenewLicense",value:function(){window.open("https://dwkit.com/contacts/")}},{key:"initData",value:function(e){var t=this.СloneObj(e);t=t.sort(function(e,t){return e.order!=t.order?e.order-t.order:e.groupName>t.groupName?1:e.groupName<t.groupName?-1:e.name>t.name?1:e.name<t.name?-1:0}),this.state.data=t}},{key:"onResetAppCache",value:function(){var e=new Array;e.push({name:"operation",value:"resetappcache"}),$.ajax({url:this.props.apiUrl,data:e,async:!0,type:"post",success:function(e){e.success?alertify.success(DWKitAdminLang.msg.appcachereseted):alertify.error(e.message)}})}},{key:"render",value:function(){var e=[];e.push({menuItem:"License",pane:{key:"license",className:"top",content:o.default.createElement(u.default,{data:this.props.data.licenseInfo,metadata:this.props.data,parent:this.props.parent})}}),e.push({menuItem:"Settings",pane:{key:"settings",className:"top",content:o.default.createElement(s.default,{data:this.state.data,mdSettings:this.state.mdSettings,metadata:this.props.data,parent:this,apiUrl:this.props.parent.props.apiUrl,themesFolder:this.props.themesFolder})}}),e.push({menuItem:"Plugins",pane:{key:"plugins",className:"top",content:o.default.createElement(d.default,{data:this.props.data.plugins,metadata:this.props.data,parent:this.props.parent,apiUrl:this.props.parent.props.apiUrl})}}),e.push({menuItem:DWKitAdminLang.dashboard.integrationapi,pane:{key:"ingeration",className:"top",content:o.default.createElement(c.default,{metadata:this.props.data,parent:this.props.parent,apiUrl:this.props.parent.props.apiUrl})}});var t=this.getSettings("ApplicationName",this.props.data.appSettings),n=this.getSettings("ApplicationDesc",this.props.data.appSettings);return o.default.createElement("div",null,t&&o.default.createElement(i.Header,{as:"h1"},t.value,n&&o.default.createElement(i.Header.Subheader,null,n.value)),o.default.createElement(i.Tab,{menu:{secondary:!0,pointing:!0},renderActiveOnly:!1,panes:e}))}},{key:"onSave",value:function(){var t=this,n=[];this.state.data.forEach(function(e){null!=e.__state&&n.push(r({},e,{__type:t.datatype}))}),this.state.mdSettings.forEach(function(e){null!=e.__state&&n.push(r({},e,{__type:"settings"}))}),this.ChangeData(n,function(){t.ResetSystemProps(t.state.mdSettings),t.props.data.settings=t.state.mdSettings,t.forceUpdate()})}},{key:"onCancel",value:function(){this.initData(this.props.data.appSettings),this.state.mdSettings=this.props.data.settings,this.forceUpdate()}},{key:"getSettings",value:function(t,e){if(Array.isArray(e)){var n=void 0;return e.forEach(function(e){e&&e.name==t&&(n=e)}),n}}}])&&a(p.prototype,h),m&&a(p,m),g);function g(e){!function(e){if(!(e instanceof g))throw new TypeError("Cannot call a class as a function")}(this);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":R(t))&&"function"!=typeof t?e:t}(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,e));return t.datatype="appsettings",t.state={},t.initData(e.data.appSettings),t.state.mdSettings=e.data.settings?e.data.settings:[],t}t.default=v},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=s(n(0)),o=(s(n(2)),s(n(4))),i=s(n(8)),l=n(1);function s(e){return e&&e.__esModule?e:{default:e}}var u,c,d,f=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":R(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(p,o.default),u=p,(c=[{key:"getStateFromPros",value:function(){var e=this.СloneObj(this.props.mdSettings),t=this.checkSettings("DefaultForm",e),n=this.checkSettings("RTL",e);""!=n.value&&"string"==typeof n.value&&(n.value=this.stringToBoolean(n.value));var r=void 0;this.props.themesFolder&&(r=this.checkSettings("DefaultTheme",e));var a=this.props.metadata.appSettings,o=this.getSettings("ApplicationName",a),i=this.getSettings("ApplicationDesc",a),l=[];return a.forEach(function(e){"DataSequence"==e.groupName&&l.push({name:e.name,value:e.value})}),{array:e,defaultform:t?t.value:"",defaulttheme:r?r.value:"",rtl:!!n&&n.value,applicationName:o?o.value:"",applicationDesc:i?i.value:"",sequences:l}}},{key:"onChange",value:function(e,t){var n=t.name,r=t.checked,a=t.value;this.state[n]=void 0===r?a:r,this.forceUpdate()}},{key:"render",value:function(){var e=this;return a.default.createElement(l.Form,null,a.default.createElement(l.Form.Field,null,a.default.createElement("a",{className:"buttontype1",onClick:this.props.parent.onResetAppCache.bind(this)},DWKitAdminLang.button.resetappcache)),a.default.createElement(l.Form.Input,{key:"applicationName",label:"Name",name:"applicationName",value:this.state.applicationName,onChange:this.onChange.bind(this)}),a.default.createElement(l.Form.Input,{key:"applicationDesc",label:"Description",name:"applicationDesc",value:this.state.applicationDesc,onChange:this.onChange.bind(this)}),a.default.createElement(l.Form.Input,{key:"defaultform",label:"Default Form",name:"defaultform",list:"formslist",value:this.state.defaultform,onChange:this.onChange.bind(this)}),this.renderFormsList("formslist"),a.default.createElement(l.Form.Dropdown,{selection:!0,key:"defaulttheme",name:"defaulttheme",label:"Default Theme",options:this.state.themeOptions,value:this.state.defaulttheme,onChange:this.onChange.bind(this)}),a.default.createElement(l.Form.Checkbox,{key:"rtl",label:"Default RTL for new users",name:"rtl",checked:this.state.rtl,onChange:this.onChange.bind(this)}),a.default.createElement(l.Form.Field,null,a.default.createElement("label",null,"Data Sequences ",this.state.sequencesReadOnly&&a.default.createElement("a",{onClick:function(){e.setState({sequencesReadOnly:!1})}},"Unlock")),a.default.createElement(i.default,{readOnly:this.state.sequencesReadOnly,columns:[{key:"name",name:"Name",control:"input"},{key:"value",name:"Value",control:"input"}],name:"sequences",value:this.state.sequences,draggable:!1,onChange:this.onChange.bind(this)})),a.default.createElement("div",{className:"dwkitadmin-toolbar-editform"},a.default.createElement(l.Button,{className:"buttontype1",onClick:this.onSave.bind(this)},DWKitAdminLang.button.save),a.default.createElement(l.Button,{className:"buttontype2",onClick:this.onCancel.bind(this)},DWKitAdminLang.button.cancel)))}},{key:"onSave",value:function(){var r=this.state.array;this.setSettings("DefaultForm",this.state.defaultform,r),this.setSettings("RTL",this.state.rtl,r),this.setSettings("DefaultTheme",this.state.defaulttheme,r);var e=this.generateCustomSettings("ApplicationName","appsettings",this.props.metadata.appSettings);e.value!==this.state.applicationName&&(e.value=this.state.applicationName,this.setUpdatedState(e),r.push(e));var t=this.generateCustomSettings("ApplicationDesc","appsettings",this.props.metadata.appSettings);t.value!==this.state.applicationDesc&&(t.value=this.state.applicationDesc,this.setUpdatedState(t),r.push(t));var a=this;Array.isArray(this.state.sequences)&&this.state.sequences.forEach(function(e){var t=a.generateCustomSettings(e.name,"appsettings",a.props.metadata.appSettings,"DataSequence");t.value!==e.value&&(t.value=e.value,a.setUpdatedState(t),r.push(t))}),a.props.metadata.appSettings.forEach(function(t){if("DataSequence"==t.groupName){var n=!1;if(Array.isArray(a.state.sequences)&&a.state.sequences.forEach(function(e){t.name===e.name&&(n=!0)}),!n){var e=a.СloneObj(t);e.__type="appsettings",e.__state="deleted",r.push(e)}}}),(a=this).ChangeData(r,function(e){a.props.parent.props.parent.load(),a.forceUpdate()})}},{key:"generateCustomSettings",value:function(e,t,n,r){var a=this.getSettings(e,n);return(a=a?this.СloneObj(a):{name:e,paramName:e,__state:"inserted",groupName:r}).__type=t,a}},{key:"onCancel",value:function(){var e=this.getStateFromPros();this.setState(e)}},{key:"checkSettings",value:function(t,e){var n=void 0;return e.forEach(function(e){e&&e.name==t&&(n=e)}),null==n&&(n={name:t,value:"",__state:"inserted"},e.push(n)),n}},{key:"setSettings",value:function(t,e,n){var r=void 0;return n.forEach(function(e){e&&e.name==t&&(r=e)}),null==r?(r={name:t,value:e,__state:"inserted"},n.push(r)):r.value!=e&&(r.value=e,this.setUpdatedState(r)),r.__type=this.datatype,r}},{key:"getSettings",value:function(t,e){var n=void 0;return e.forEach(function(e){e&&e.name==t&&(n=e)}),n}},{key:"renderFormsList",value:function(e){var t=this.props.metadata.forms,n=[];return Array.isArray(t)&&t.forEach(function(e){n.push(a.default.createElement("option",{key:e.name,value:e.name}))}),a.default.createElement("datalist",{key:e,id:e},n)}},{key:"initThemeOptions",value:function(){var e=this.props.themesFolder;if(null!=e){var r=this;fetch(e+"theme_manifest.json").then(function(e){return e.json()}).then(function(e){var t=[],n=0;t.push({key:n,value:"",text:""}),n++,e.themes.forEach(function(e){t.push({key:n,value:e.name,text:e.title}),n++}),r.state.themeOptions=t,r.forceUpdate()})}}},{key:"stringToBoolean",value:function(e){switch(e.toLowerCase().trim()){case"true":case"yes":case"1":return!0;case"false":case"no":case"0":case null:return!1;default:return Boolean(e)}}}])&&r(u.prototype,c),d&&r(u,d),p);function p(e){!function(e){if(!(e instanceof p))throw new TypeError("Cannot call a class as a function")}(this);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":R(t))&&"function"!=typeof t?e:t}(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,e));return t.datatype="settings",t.state=t.getStateFromPros(),t.state.sequencesReadOnly=!0,t.initThemeOptions(),t}t.default=f},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":R(t))&&"function"!=typeof t?e:t}var a,o,l,s=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":R(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(u,n(0).Component),a=u,(o=[{key:"render",value:function(){var e=this.props.model;return this.props.createControl(this.props.parent,e["data-buildertype"],{model:e,data:this.props.row,errors:this.props.errorOnRow,parentItem:this.props.name,buildermode:this.props.buildermode,handleEvent:this.handleEvent,getAdditionalDataForControl:this.getAdditionalDataForControl,readOnly:this.props.readOnly,uploadUrl:this.props.uploadUrl,downloadUrl:this.props.downloadUrl,controlsToReplace:[],formData:this.props.data,adaptiveViewType:this.props.adaptiveViewType},this.props.controlBarParams)}}])&&r(a.prototype,o),l&&r(a,l),u);function u(){var e,t,n;!function(e){if(!(e instanceof u))throw new TypeError("Cannot call a class as a function")}(this);for(var r=arguments.length,a=Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=n=i(this,(e=u.__proto__||Object.getPrototypeOf(u)).call.apply(e,[this].concat(a))),c.call(n),i(n,t)}var c=function(){var r=this;this.handleEvent=function(e){e.parameters||(e.parameters={}),e.parameters.row||(e.parameters.row=r.props.row),"onChange"===e.eventName?r.props.handleChange(r.props.row,e.syntheticEvent,e):r.props.handleEvent(e)},this.getAdditionalDataForControl=function(e,t,n){return(t=t||{}).row||(t.row=r.props.row),r.props.getAdditionalDataForControl(e,t,n)}};t.default=s},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=l(n(0)),i=n(1);function l(e){return e&&e.__esModule?e:{default:e}}var s,u,c,d=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":R(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(f,l(n(6)).default),s=f,(u=[{key:"render",value:function(){return o.default.createElement(i.Form.Input,r({},this.props.inputProps,{onChange:this.handleChange}))}}])&&a(s.prototype,u),c&&a(s,c),f);function f(){return function(e){if(!(e instanceof f))throw new TypeError("Cannot call a class as a function")}(this),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":R(t))&&"function"!=typeof t?e:t}(this,(f.__proto__||Object.getPrototypeOf(f)).apply(this,arguments))}t.default=d},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=i(n(0)),o=i(n(47));function i(e){return e&&e.__esModule?e:{default:e}}var l,s,u,c=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":R(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(d,i(n(6)).default),l=d,(s=[{key:"render",value:function(){return a.default.createElement(o.default,{name:this.props.colName,error:this.props.errorFlag,value:this.props.value,readOnly:this.props.readOnly,onChange:this.handleChange,downloadUrl:this.props.downloadUrl,uploadUrl:this.props.uploadUrl,additionalData:this.props.additionalData,additionalDataContext:this.props.row,isForm:!0,hideClearButton:"file2"===this.props.control})}}])&&r(l.prototype,s),u&&r(l,u),d);function d(){return function(e){if(!(e instanceof d))throw new TypeError("Cannot call a class as a function")}(this),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":R(t))&&"function"!=typeof t?e:t}(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}t.default=c},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a,o,i,l,s=(a=n(0))&&a.__esModule?a:{default:a},u=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":R(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(c,s.default.Component),o=c,(i=[{key:"getCustomFileName",value:function(){return this.props.additionalData&&this.props.additionalDataContext&&this.props.additionalData.customNameGetter?this.props.additionalData.customNameGetter(this.props.additionalDataContext):null}},{key:"getCustomContentType",value:function(){return this.props.additionalData&&this.props.additionalDataContext&&this.props.additionalData.customContentTypeGetter?this.props.additionalData.customContentTypeGetter(this.props.additionalDataContext):null}},{key:"render",value:function(){var e=this.props.type,t=[],n=this.props.isForm,r=this.props.value;if(null!=r&&null!=r&&""!=r){var a="Download",o="Clear";null!=window.DWKitAdminLang&&null!=window.DWKitAdminLang.button&&(a=window.DWKitAdminLang.button.download,o=window.DWKitAdminLang.button.clear);var i=this.props.disabled||this.props.readOnly||this.props.hideClearButton;t.push(s.default.createElement("a",{key:"download",className:"ui button",target:"blank",onClick:this.onDownload,href:"#"},a)),i||(t.push(s.default.createElement("span",{key:"sparator"},"  ")),t.push(s.default.createElement("button",{key:"clear",className:"ui button",onClick:this.onClear},o)))}else this.props.disabled||this.props.readOnly?t.push(s.default.createElement("span",null)):t.push(s.default.createElement("input",{key:"uploadcontrol",type:"file",name:this.props.name,onChange:this.onChange,value:""}));if(n)return s.default.createElement("div",{className:"field"},null!=this.props.label&&s.default.createElement("label",null,this.props.label),s.default.createElement("div",{"data-buildertype":e},t));var l="ui labeled input";return this.props.fluid&&(l+=" fluid"),this.props.error&&(l+=" error"),null==this.props.className&&""==this.props.className||(l+=" "+this.props.className),s.default.createElement("div",{className:l,"data-buildertype":e},this.props.label&&s.default.createElement("div",{className:"ui label label"},this.props.label),t)}}])&&r(o.prototype,i),l&&r(o,l),c);function c(e){!function(e){if(!(e instanceof c))throw new TypeError("Cannot call a class as a function")}(this);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":R(t))&&"function"!=typeof t?e:t}(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,e));return i.onDownload=function(e){e.preventDefault();var t=i.props.value,o=new XMLHttpRequest;o.open("POST",i.props.downloadUrl+t,!0),o.responseType="arraybuffer",o.onload=function(){var e=i.getCustomFileName();if(!e){var t=o.getResponseHeader("Content-Disposition");if(t&&-1!==t.indexOf("attachment")){var n=/filename[^;=\n]*=((['"]).*?\2|[^;\n]*)/.exec(t);n&&n[1]&&(e=n[1].replace(/['"]/g,""))}}var r=i.getCustomContentType();r=r||o.getResponseHeader("Content-Type");var a=document.createElement("a");a.setAttribute("href",window.URL.createObjectURL(new Blob([o.response],{type:r}))),a.setAttribute("download",e||"unknown"),document.body.appendChild(a),a.onclick=function(){document.body.removeChild(a)},a.click()},o.send(null)},i.onChange=function(t){var n=i,e=new FormData;e.append(n.props.name,t.target.files[0]),$.ajax({url:n.props.uploadUrl,type:"POST",processData:!1,contentType:!1,dataType:"json",data:e,success:function(e){e.success?n.props.onChange&&n.props.onChange(t,{name:n.props.name,propertyName:n.props.propertyName,value:e.result.properties.Token,parameters:{success:!0,properties:e.result.properties}}):n.props.onUploadFail&&n.props.onUploadFail(t,{name:n.props.name,propertyName:n.props.propertyName,message:e.message,details:e.details,success:!1})}})},i.onClear=function(){i.props.onChange&&i.props.onChange(void 0,{name:i.props.name,propertyName:i.props.propertyName,value:null})},i}t.default=u},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=i(n(0)),o=n(1);function i(e){return e&&e.__esModule?e:{default:e}}var l,s,u,c=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":R(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(d,i(n(6)).default),l=d,(s=[{key:"render",value:function(){return a.default.createElement(o.Form.Dropdown,{name:this.props.colName,multiple:this.props.multiple,placeholder:this.props.placeholder,options:this.props.options,error:this.props.errorFlag,value:this.props.value,readOnly:this.props.readOnly,onChange:this.handleChange,selection:!0,fluid:!0,search:!0})}}])&&r(l.prototype,s),u&&r(l,u),d);function d(){return function(e){if(!(e instanceof d))throw new TypeError("Cannot call a class as a function")}(this),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":R(t))&&"function"!=typeof t?e:t}(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}t.default=c},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=i(n(50)),o=i(n(0));function i(e){return e&&e.__esModule?e:{default:e}}var l,s,u,c=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":R(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(d,i(n(6)).default),l=d,(s=[{key:"render",value:function(){return o.default.createElement(a.default,{name:this.props.colName,error:this.props.errorFlag,value:this.props.value,readOnly:this.props.readOnly,onChange:this.handleChange,type:this.props.type,isForm:!0})}}])&&r(l.prototype,s),u&&r(l,u),d);function d(){return function(e){if(!(e instanceof d))throw new TypeError("Cannot call a class as a function")}(this),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":R(t))&&"function"!=typeof t?e:t}(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}t.default=c},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var l=a(n(0)),s=a(n(12)),u=a(n(10));function a(e){return e&&e.__esModule?e:{default:e}}var o,c,d,f=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":R(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(p,l.default.Component),o=p,(c=[{key:"render",value:function(){var e=this.props.type,t=this.props.isForm,n=this.props.value?(0,u.default)(this.props.value):void 0;n&&!n.isValid()&&(n=void 0);var r={style:this.props.style,className:this.props.className,onBlur:this.props.onBlur,onClick:this.props.onClick,onFocus:this.props.onFocus,onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave},a={};"date"===e?void 0!==window.DWKitLang&&null!=window.DWKitLang.common&&null!=window.DWKitLang.common.dateFormat?a.dateFormat=window.DWKitLang.common.dateFormat:a.dateFormat="DD.MM.YYYY":"time"===e?(a.showTimeSelect=!0,a.showTimeSelectOnly=!0,a.timeIntervals=10,void 0!==window.DWKitLang&&void 0!==window.DWKitLang.common&&null!=window.DWKitLang.common.timeFormat?a.dateFormat=window.DWKitLang.common.timeFormat:(a.dateFormat="HH:mm",a.timeFormat="HH:mm")):"datetime"===e&&(a.showTimeSelect=!0,void 0!==window.DWKitLang&&void 0!==window.DWKitLang.common&&null!=window.DWKitLang.common.dateFormat?(a.timeFormat=window.DWKitLang.common.timeFormat,a.dateFormat=window.DWKitLang.common.dateFormat+" "+(null==window.DWKitLang.common.timeFormat?"HH:ss":window.DWKitLang.common.timeFormat)):(a.dateFormat="DD.MM.YYYY HH:mm",a.timeFormat="HH:mm")),this.state.dateFormat=a.dateFormat;var o=l.default.createElement(s.default,i({},a,{peekNextMonth:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",isClearable:!this.props.readOnly,placeholderText:this.placeholder,selected:n,onChange:this.onChange,onChangeRaw:this.handleChangeRaw}));return t?(r.className?r.className+=" field":r.className="field",this.props.error&&(r.className+=" error"),this.props.readOnly&&(r.className+=" datepicker-readonly"),l.default.createElement("div",r,null!=this.props.label&&l.default.createElement("label",null,this.props.label),l.default.createElement("div",{"data-buildertype":e},o))):(r.className?r.className+=" ui fluid labeled input":r.className="ui fluid labeled input",this.props.error&&(r.className+=" error"),this.props.readOnly&&(r.className+=" datepicker-readonly"),l.default.createElement("div",i({},r,{"data-buildertype":e}),null!=this.props.label&&l.default.createElement("div",{className:"ui label label"},this.props.label),o))}}])&&r(o.prototype,c),d&&r(o,d),p);function p(e){!function(e){if(!(e instanceof p))throw new TypeError("Cannot call a class as a function")}(this);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":R(t))&&"function"!=typeof t?e:t}(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,e));return n.handleChangeRaw=function(e){var t=(0,u.default)(e.target.value,n.state.dateFormat);n.onChange(t)},n.onChange=function(e){if(!n.props.readOnly&&null!=n.props.onChange){var t=null;null!=e&&null!=e&&(t="date"===n.props.type?e.format("YYYY-MM-DD"):e.toJSON()),n.props.onChange(null,{propertyName:n.props.propertyName,name:n.props.name,value:t})}},n.state={},n}t.default=f},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=i(n(0)),o=n(1);function i(e){return e&&e.__esModule?e:{default:e}}var l,s,u,c=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":R(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(d,i(n(6)).default),l=d,(s=[{key:"render",value:function(){return a.default.createElement(o.Form.Checkbox,{name:this.props.colName,checked:this.props.checked,error:this.props.errorFlag,readOnly:this.props.readOnly,onChange:this.handleChange})}}])&&r(l.prototype,s),u&&r(l,u),d);function d(){return function(e){if(!(e instanceof d))throw new TypeError("Cannot call a class as a function")}(this),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":R(t))&&"function"!=typeof t?e:t}(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}t.default=c},function(t,e,n){(function(O){var e=function(){function b(e,t){return null!=t&&e instanceof t}var w,k,E;try{w=Map}catch(e){w=function(){}}try{k=Set}catch(e){k=function(){}}try{E=Promise}catch(e){E=function(){}}function C(e,p,t,h,m){"object"==(void 0===p?"undefined":R(p))&&(t=p.depth,h=p.prototype,m=p.includeNonEnumerable,p=p.circular);var v=[],g=[],y=void 0!==O;return void 0===p&&(p=!0),void 0===t&&(t=1/0),function a(e,o){if(null===e)return null;if(0===o)return e;var i,t;if("object"!=(void 0===e?"undefined":R(e)))return e;if(b(e,w))i=new w;else if(b(e,k))i=new k;else if(b(e,E))i=new E(function(t,n){e.then(function(e){t(a(e,o-1))},function(e){n(a(e,o-1))})});else if(C.__isArray(e))i=[];else if(C.__isRegExp(e))i=new RegExp(e.source,_(e)),e.lastIndex&&(i.lastIndex=e.lastIndex);else if(C.__isDate(e))i=new Date(e.getTime());else{if(y&&O.isBuffer(e))return i=O.allocUnsafe?O.allocUnsafe(e.length):new O(e.length),e.copy(i),i;b(e,Error)?i=Object.create(e):void 0===h?(t=Object.getPrototypeOf(e),i=Object.create(t)):(i=Object.create(h),t=h)}if(p){var n=v.indexOf(e);if(-1!=n)return g[n];v.push(e),g.push(i)}for(var r in b(e,w)&&e.forEach(function(e,t){var n=a(t,o-1),r=a(e,o-1);i.set(n,r)}),b(e,k)&&e.forEach(function(e){var t=a(e,o-1);i.add(t)}),e){var l;t&&(l=Object.getOwnPropertyDescriptor(t,r)),l&&null==l.set||(i[r]=a(e[r],o-1))}if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++){var u=s[r];(d=Object.getOwnPropertyDescriptor(e,u))&&!d.enumerable&&!m||(i[u]=a(e[u],o-1),d.enumerable||Object.defineProperty(i,u,{enumerable:!1}))}}if(m){var c=Object.getOwnPropertyNames(e);for(r=0;r<c.length;r++){var d,f=c[r];(d=Object.getOwnPropertyDescriptor(e,f))&&d.enumerable||(i[f]=a(e[f],o-1),Object.defineProperty(i,f,{enumerable:!1}))}}return i}(e,t)}function t(e){return Object.prototype.toString.call(e)}function _(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}return C.clonePrototype=function(e){if(null===e)return null;function t(){}return t.prototype=e,new t},C.__objToStr=t,C.__isDate=function(e){return"object"==(void 0===e?"undefined":R(e))&&"[object Date]"===t(e)},C.__isArray=function(e){return"object"==(void 0===e?"undefined":R(e))&&"[object Array]"===t(e)},C.__isRegExp=function(e){return"object"==(void 0===e?"undefined":R(e))&&"[object RegExp]"===t(e)},C.__getRegExpFlags=_,C}();t.exports&&(t.exports=e)}).call(this,n(19).Buffer)},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==("undefined"==typeof window?"undefined":R(window))&&(n=window)}e.exports=n},function(e,t,n){t.byteLength=function(e){var t=d(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){for(var t,n=d(e),r=n[0],a=n[1],o=new c(3*(r+a)/4-a),i=0,l=0<a?r-4:r,s=0;s<l;s+=4)t=u[e.charCodeAt(s)]<<18|u[e.charCodeAt(s+1)]<<12|u[e.charCodeAt(s+2)]<<6|u[e.charCodeAt(s+3)],o[i++]=t>>16&255,o[i++]=t>>8&255,o[i++]=255&t;return 2===a&&(t=u[e.charCodeAt(s)]<<2|u[e.charCodeAt(s+1)]>>4,o[i++]=255&t),1===a&&(t=u[e.charCodeAt(s)]<<10|u[e.charCodeAt(s+1)]<<4|u[e.charCodeAt(s+2)]>>2,o[i++]=t>>8&255,o[i++]=255&t),o},t.fromByteArray=function(e){for(var t,n=e.length,r=n%3,a=[],o=0,i=n-r;o<i;o+=16383)a.push(s(e,o,i<o+16383?i:o+16383));return 1==r?(t=e[n-1],a.push(l[t>>2]+l[t<<4&63]+"==")):2==r&&(t=(e[n-2]<<8)+e[n-1],a.push(l[t>>10]+l[t>>4&63]+l[t<<2&63]+"=")),a.join("")};for(var l=[],u=[],c="undefined"!=typeof Uint8Array?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,o=r.length;a<o;++a)l[a]=r[a],u[r.charCodeAt(a)]=a;function d(e){var t=e.length;if(0<t%4)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function s(e,t,n){for(var r,a,o=[],i=t;i<n;i+=3)r=(e[i]<<16&16711680)+(e[i+1]<<8&65280)+(255&e[i+2]),o.push(l[(a=r)>>18&63]+l[a>>12&63]+l[a>>6&63]+l[63&a]);return o.join("")}u["-".charCodeAt(0)]=62,u["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,a){var o,i,l=8*a-r-1,s=(1<<l)-1,u=s>>1,c=-7,d=n?a-1:0,f=n?-1:1,p=e[t+d];for(d+=f,o=p&(1<<-c)-1,p>>=-c,c+=l;0<c;o=256*o+e[t+d],d+=f,c-=8);for(i=o&(1<<-c)-1,o>>=-c,c+=r;0<c;i=256*i+e[t+d],d+=f,c-=8);if(0===o)o=1-u;else{if(o===s)return i?NaN:1/0*(p?-1:1);i+=Math.pow(2,r),o-=u}return(p?-1:1)*i*Math.pow(2,o-r)},t.write=function(e,t,n,r,a,o){var i,l,s,u=8*o-a-1,c=(1<<u)-1,d=c>>1,f=23===a?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,h=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(l=isNaN(t)?1:0,i=c):(i=Math.floor(Math.log(t)/Math.LN2),t*(s=Math.pow(2,-i))<1&&(i--,s*=2),2<=(t+=1<=i+d?f/s:f*Math.pow(2,1-d))*s&&(i++,s/=2),c<=i+d?(l=0,i=c):1<=i+d?(l=(t*s-1)*Math.pow(2,a),i+=d):(l=t*Math.pow(2,d-1)*Math.pow(2,a),i=0));8<=a;e[n+p]=255&l,p+=h,l/=256,a-=8);for(i=i<<a|l,u+=a;0<u;e[n+p]=255&i,p+=h,i/=256,u-=8);e[n+p-h]|=128*m}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var l=o(n(0)),a=(o(n(2)),o(n(3)),o(n(4))),s=n(1);function o(e){return e&&e.__esModule?e:{default:e}}var i,u,c,d=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":R(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(f,a.default),i=f,(u=[{key:"render",value:function(){var e=this.props.data,t=[];for(var n in e.limits){var r="-1"==e.limits[n]?"∞":e.limits[n],a=void 0;"Users"==n?a=void 0!==this.props.metadata.additionalParams&&null!==this.props.metadata.additionalParams?this.props.metadata.additionalParams.UsersCount:0:"Workflow"==n?a=this.props.metadata.workflow.length:"Forms"==n&&(a=this.props.metadata.forms.length);var o=!1;null!=a&&(o=Boolean(r<a),r=a+" / "+r),t.push(l.default.createElement(s.Form.Input,{style:{width:"100px"},key:n,label:n,error:o,readOnly:!0,value:r}))}var i=[];return e.holder.includes("_Trial")&&i.push(l.default.createElement("b",{key:"trialmsg"},"This is a trial version of DWKit. Don't forget to purchase the commercial license via ",l.default.createElement("a",{href:"https://dwkit.com"},"web-site"),".")),i.push(l.default.createElement("br",{key:"br"})),i.push(l.default.createElement("span",{key:"purchasemsg"},"You can ",l.default.createElement("a",{onClick:this.onUpload.bind(this)},"upload a license")," or create a ",l.default.createElement("a",{href:"https://dwkit.com/contacts/"},"request a new license"),".")),l.default.createElement("div",null,l.default.createElement(s.Form,null,l.default.createElement(s.Form.Input,{label:"License holder",readOnly:!0,value:e.holder}),l.default.createElement(s.Form.Group,{widths:"equal"},null!=e.licenseExpiry&&l.default.createElement(s.Form.Input,{label:DWKitAdminLang.license.expipedlabel,readOnly:!0,value:e.licenseExpiry}),null!=e.releaseExpiry&&l.default.createElement(s.Form.Input,{label:DWKitAdminLang.license.freeupdatedatalabel,readOnly:!0,value:e.releaseExpiry}),l.default.createElement(s.Form.Input,{label:DWKitAdminLang.license.licensechecktype,readOnly:!0,value:e.licenseCheckType})),l.default.createElement(s.Form.Field,null,i),l.default.createElement(s.Form.Group,null,t)),l.default.createElement("form",{is:!0,action:"",id:"dwkitadmin-license-uploadform",method:"post",style:{display:"none"},enctype:"multipart/form-data",onsubmit:"tmp()"},l.default.createElement("input",{type:"file",name:"dwkitadmin-license-uploadfile",id:"dwkitadmin-license-uploadfile",onChange:this.onUpload_onchange.bind(this)})))}},{key:"onUpload",value:function(){$("#dwkitadmin-license-uploadfile").trigger("click")}},{key:"onUpload_onchange",value:function(){this.uploadLicense($("#dwkitadmin-license-uploadform")[0],function(){alertify.success("The file is uploaded!"),location.reload()})}},{key:"uploadLicense",value:function(e,t){var n=this;$.ajax({type:"POST",url:this.createurl("uploadlicense"),data:new FormData(e),processData:!1,contentType:!1,success:function(e){t(n,e)}})}}])&&r(i.prototype,u),c&&r(i,c),f);function f(e){!function(e){if(!(e instanceof f))throw new TypeError("Cannot call a class as a function")}(this);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":R(t))&&"function"!=typeof t?e:t}(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,e));return t.createurl=function(e){var t=this.props.parent.props.apiUrl,n="?";return 0<=t.indexOf("?")&&(n="&"),t+(n+"operation=")+e},t}t.default=d},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=l(n(0)),o=(l(n(2)),l(n(3)),l(n(4))),i=n(1);function l(e){return e&&e.__esModule?e:{default:e}}var s,u,c,d=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":R(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(f,o.default),s=f,(u=[{key:"render",value:function(){var e=DWKitAdminLang.integration.accessTokenInfo;return a.default.createElement("div",null,this.state.accessToken&&a.default.createElement(i.Message,{info:!0,content:e}),a.default.createElement(i.Form,{style:{width:"500px"}},a.default.createElement(i.Form.Input,{action:{icon:"copy",content:DWKitAdminLang.button.copy,onClick:this.onCopyControl.bind(this)},name:"accessToken",label:a.default.createElement("label",null,DWKitAdminLang.integration.accessToken," ",a.default.createElement("a",{onClick:this.onGenerate.bind(this)},"Generate")),value:this.state.accessToken,onChange:this.onChange.bind(this)}),a.default.createElement(i.Form.Field,null,a.default.createElement("span",null,DWKitAdminLang.dashboard.integrationapiswagger," "),a.default.createElement("a",{className:"ui button",target:"_blank",href:"/swagger"},DWKitAdminLang.button.download)),a.default.createElement("div",{className:"dwkitadmin-toolbar-editform"},a.default.createElement(i.Button,{className:"buttontype1",onClick:this.onSave.bind(this)},DWKitAdminLang.button.save),a.default.createElement(i.Button,{className:"buttontype2",onClick:this.onCancel.bind(this)},DWKitAdminLang.button.cancel))))}},{key:"onChange",value:function(e,t){var n=t.name,r=t.value;this.state[n]=r,this.forceUpdate()}},{key:"onGenerate",value:function(){this.setState({accessToken:this.makeid(128)})}},{key:"getStateFromPros",value:function(){var e=this.props.metadata.appSettings,t=this.getSettings("IntegrationApiKey",e);return{accessToken:t?t.value:""}}},{key:"onSave",value:function(){var e=this.props.metadata.appSettings,t=this.getSettings("IntegrationApiKey",e);(t=t?this.СloneObj(t):{name:"IntegrationApiKey",paramName:"IntegrationApiKey",__state:"inserted"}).value=this.state.accessToken,t.__type=this.datatype,this.setUpdatedState(t);var n=[t],r=this;this.ChangeData(n,function(e){r.props.parent.load(),r.forceUpdate()})}},{key:"onCancel",value:function(){var e=this.getStateFromPros();this.setState(e)}},{key:"getSettings",value:function(t,e){var n=void 0;return e.forEach(function(e){e&&e.name==t&&(n=e)}),n}},{key:"onCopyControl",value:function(){this.copyToClipboard(this.state.accessToken)}},{key:"makeid",value:function(e){for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=n.length,a=0;a<e;a++)t+=n.charAt(Math.floor(Math.random()*r));return t}}])&&r(s.prototype,u),c&&r(s,c),f);function f(e){!function(e){if(!(e instanceof f))throw new TypeError("Cannot call a class as a function")}(this);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":R(t))&&"function"!=typeof t?e:t}(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,e));return t.datatype="appsettings",t.state=t.getStateFromPros(),t}t.default=d},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=c(n(4)),i=c(n(8)),l=n(1),s=c(n(0)),u=c(n(13));function c(e){return e&&e.__esModule?e:{default:e}}var d,f,p,h=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":R(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(m,a.default),d=m,(f=[{key:"onSave",value:function(){var t=this.СloneObj(this.state.BasicPlugin);this.state.BasicPlugin.pluginSettings.RequestHeaders&&(t.pluginSettings.RequestHeaders={},this.state.BasicPlugin.pluginSettings.RequestHeaders.forEach(function(e){e.name&&(t.pluginSettings.RequestHeaders[e.name]=e.value?e.value:"")})),t.pluginSettings&&Array.isArray(t.pluginSettings.DeleteCascadeList)&&t.pluginSettings.DeleteCascadeList.forEach(function(e){e.__id&&delete e.__id});var e=this.СloneObj(this.state.WorkflowPlugin),n=this.СloneObj(this.state.NotificationPlugin);n.pluginSettings&&Array.isArray(n.pluginSettings.ObjectCountList)&&n.pluginSettings.ObjectCountList.forEach(function(e){e.__id&&delete e.__id});var r=[t,e,n],a=this;this.ChangeData(r,function(e){a.props.parent.load(),a.forceUpdate()})}},{key:"onCancel",value:function(){this.setState(this.getStateFromPros())}},{key:"getStateFromPros",value:function(){var e={enabled:!1,__type:this.datatype,__state:"inserted"},n=o({},e,{name:"BasicPlugin",pluginSettings:{MailServerPort:25,MailServerSsl:!0}}),r=o({},e,{name:"WorkflowPlugin",pluginSettings:{}}),a=o({},e,{name:"NotificationPlugin",pluginSettings:{}}),t=this.props.data;return Array.isArray(t)&&t.forEach(function(e){if(e.name==n.name){if(delete n.__state,n.enabled=e.enabled,e.pluginSettings)for(t in e.pluginSettings)if("RequestHeaders"==t)for(var t in n.pluginSettings.RequestHeaders=[],e.pluginSettings.RequestHeaders)n.pluginSettings.RequestHeaders.push({name:t,value:e.pluginSettings.RequestHeaders[t]});else n.pluginSettings[t]=e.pluginSettings[t]}else if(e.name==r.name){if(delete r.__state,r.enabled=e.enabled,e.pluginSettings)for(t in e.pluginSettings)r.pluginSettings[t]=e.pluginSettings[t]}else if(e.name==a.name&&(delete r.__state,a.enabled=e.enabled,e.pluginSettings))for(t in e.pluginSettings)a.pluginSettings[t]=e.pluginSettings[t]}),{BasicPlugin:n,WorkflowPlugin:r,NotificationPlugin:a}}},{key:"render",value:function(){var e=this.state.BasicPlugin,t=this.state.WorkflowPlugin,n=this.state.NotificationPlugin;return s.default.createElement(l.Form,null,s.default.createElement(l.Form.Checkbox,{toggle:!0,name:"enabled",label:"Basic Plugin",checked:e.enabled,onChange:this.onChange.bind(this,"BasicPlugin")}),e.enabled&&this.renderBasicPlugin(e,"BasicPlugin"),s.default.createElement(l.Form.Checkbox,{toggle:!0,name:"enabled",label:"Workflow Plugin",checked:t.enabled,onChange:this.onChange.bind(this,"WorkflowPlugin")}),t.enabled&&this.renderWorkflowPlugin(t,"WorkflowPlugin"),s.default.createElement(l.Form.Checkbox,{toggle:!0,name:"enabled",label:"Notification Plugin",checked:n.enabled,onChange:this.onChange.bind(this,"NotificationPlugin")}),n.enabled&&this.renderNotificationPlugin(n,"NotificationPlugin"),s.default.createElement(l.Form.Field,{className:"dwkitadmin-toolbar-editform"},s.default.createElement(l.Button,{className:"buttontype1",onClick:this.onSave.bind(this)},DWKitAdminLang.button.save),s.default.createElement(l.Button,{className:"buttontype2",onClick:this.onCancel.bind(this)},DWKitAdminLang.button.cancel)))}},{key:"onChange",value:function(e,t,n){var r=n.name,a=n.value,o=n.checked;this.state[e][r]=null==a?o:a,this.setUpdatedState(this.state[e]),this.forceUpdate()}},{key:"onChangeParameter",value:function(e,t,n){var r=n.name,a=n.value,o=n.checked;this.state[e].pluginSettings[r]=null==a?o:a,this.setUpdatedState(this.state[e]),this.forceUpdate()}},{key:"renderBasicPlugin",value:function(e,t){var n=[];this.props.metadata.dataModel.forEach(function(e){n.push({text:e.name,value:e.name})});var r=[{key:"ParentDataModel",name:"Parent model",control:"dropdown",options:n},{key:"ChildDataModel",name:"Child model",control:"dropdown",options:n},{key:"RefColumn",name:"Custom reference column",control:"input"}],a=e.pluginSettings;return s.default.createElement(l.Segment,null,s.default.createElement(l.Form.Group,null,s.default.createElement(l.Form.Input,{name:"MailServer",label:"Mail Server",value:a.MailServer,onChange:this.onChangeParameter.bind(this,t)}),s.default.createElement(l.Form.Input,{name:"MailServerPort",label:"Port",type:"number",value:a.MailServerPort,onChange:this.onChangeParameter.bind(this,t)}),s.default.createElement(l.Form.Checkbox,{name:"MailServerSsl",label:"SSL",checked:a.MailServerSsl,onChange:this.onChangeParameter.bind(this,t)})),s.default.createElement(l.Form.Group,null,s.default.createElement(l.Form.Input,{name:"MailServerLogin",label:"Login",value:a.MailServerLogin,onChange:this.onChangeParameter.bind(this,t)}),s.default.createElement(l.Form.Input,{name:"MailServerPass",label:"Password",type:"password",value:a.MailServerPass,onChange:this.onChangeParameter.bind(this,t)}),s.default.createElement(l.Form.Input,{name:"MailServerFrom",label:"From Address",value:a.MailServerFrom,onChange:this.onChangeParameter.bind(this,t)})),s.default.createElement("h3",null,"Cascade Deletion"),s.default.createElement(i.default,{columns:r,name:"DeleteCascadeList",value:a.DeleteCascadeList,draggable:!0,onChange:this.onChangeParameter.bind(this,t)}),s.default.createElement("h3",null,"HTTP RequestHeaders"),s.default.createElement(i.default,{columns:[{key:"name",name:"Name",control:"input"},{key:"value",name:"Value",control:"input"}],name:"RequestHeaders",value:a.RequestHeaders,draggable:!1,onChange:this.onChangeParameter.bind(this,t)}))}},{key:"renderWorkflowPlugin",value:function(e,t){var n=e.pluginSettings,r=[];return this.props.metadata.dataModel.forEach(function(e){r.push({text:e.name,value:e.name})}),s.default.createElement(l.Segment,null,s.default.createElement(l.Form,null,s.default.createElement(l.Form.Checkbox,{name:"EnableInboxOutbox",label:"Inbox/Outbox feature",checked:n.EnableInboxOutbox,onChange:this.onChangeParameter.bind(this,t)}),s.default.createElement(l.Form.Group,null,s.default.createElement(l.Form.Input,{name:"EntityStateColumn",label:"State column in an Entity with workflow",value:n.EntityStateColumn,onChange:this.onChangeParameter.bind(this,t)}),s.default.createElement(l.Form.Input,{name:"EntityLocalizedStateColumn",label:"Localized State column in an Entity with workflow",value:n.EntityLocalizedStateColumn,onChange:this.onChangeParameter.bind(this,t)})),s.default.createElement(l.Form.Checkbox,{name:"EnableDeleteWorkflow",label:"Delete workflow processes after an entity has been deleted",checked:n.EnableDeleteWorkflow,onChange:this.onChangeParameter.bind(this,t)}),n.EnableDeleteWorkflow&&s.default.createElement(l.Form.Dropdown,{selection:!0,multiple:!0,search:!0,options:r,name:"DeleteWorkflowDataModels",label:"Data models for controlling workflow deletion",value:n.DeleteWorkflowDataModels,onChange:this.onChangeParameter.bind(this,t)}),s.default.createElement(l.Form.Checkbox,{name:"EnableTransitionHistory",label:"Enable Transition History",checked:n.EnableTransitionHistory,onChange:this.onChangeParameter.bind(this,t)}),n.EnableTransitionHistory&&s.default.createElement(l.Form.Input,{name:"TransitionHistoryModel",label:"Data models for storing transition history",value:n.TransitionHistoryModel,onChange:this.onChangeParameter.bind(this,t)})))}},{key:"renderNotificationPlugin",value:function(e,t){var n=[];this.props.metadata.dataModel.forEach(function(e){n.push({text:e.name,value:e.name})});var r=[];r.push({text:"",value:""}),this.props.metadata.codeActions.forEach(function(e){0==e.type&&r.push({text:e.name,value:e.name})});var a=[{key:"Name",name:"Name",control:"input"},{key:"DataModel",name:"DataModel",control:"dropdown",options:n},{key:"Filter",name:"Filter",control:"dropdown",options:r},{key:"Parameter",name:"Parameter",control:"custom",customControl:u.default,customControlGetPropsFunc:this.actionParameterGetProps.bind(this)}],o=e.pluginSettings;return s.default.createElement(l.Segment,null,s.default.createElement(l.Form,null,s.default.createElement("h3",null,"Object counts for app.extra values ",s.default.createElement(l.Icon,{style:{cursor:"pointer"},onClick:function(){return window.open("https://dwkit.com/documentation/dwkit-solution/signalr/#main-operations")},name:"info"})),s.default.createElement(i.default,{columns:a,name:"ObjectCountList",value:o.ObjectCountList,draggable:!1,onChange:this.onChangeParameter.bind(this,t)})))}},{key:"actionParameterGetProps",value:function(t){var n=[];return this.props.metadata.dataModel.forEach(function(e){e.name==t.DataModel&&e.attributes.forEach(function(e){n.push(e.name)})}),{suggestions:n.map(function(e){return{caption:e,value:'"'+e+'"',meta:"DataModel Column"}})}}}])&&r(d.prototype,f),p&&r(d,p),m);function m(e){!function(e){if(!(e instanceof m))throw new TypeError("Cannot call a class as a function")}(this);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":R(t))&&"function"!=typeof t?e:t}(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,e));return t.datatype="plugins",t.state=t.getStateFromPros(),t}t.default=h},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=o(n(0)),u=n(1),c=o(n(14));function o(e){return e&&e.__esModule?e:{default:e}}var i,l,d,f=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":R(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(p,o(n(4)).default),i=p,(l=[{key:"componentDidMount",value:function(){this.openPath(this.getCurrentPath())}},{key:"render",value:function(){var t=this,o=this;if(this.state.error)return s.default.createElement("div",null,this.state.errorMsg);var e,n=window.innerHeight-200;n<400&&(n=400),null!=this.state.popup.errors&&(e=s.default.createElement(u.Message,{negative:!0},s.default.createElement("p",null,this.state.popup.errors)));var r=void 0;if(null!=this.state.imgcontent)r=s.default.createElement("div",{className:"dwkit-admin-resourceimg"},s.default.createElement("img",{src:this.state.imgcontent}));else if(null==this.state.item||this.state.item.isDirectory){var a={postUrl:o.props.apiUrl,iconFiletypes:[".jpg",".png",".css",".js"],showFiletypeIcon:!0},i={autoProcessQueue:!0,params:{operation:"resources",suboperation:"filecreate"}};this.props.parent.bearerHeader&&(i.headers={Authorization:this.props.parent.bearerHeader});var l={init:function(e){return t.dropzone=e},sending:function(e,t,n){var r=o.getCurrentDir(),a=r?r.id+"\\"+e.name:e.name;n.append("id",a)},complete:function(){o.loadDir(o.state.item)}};r=s.default.createElement("div",{className:"dwkit-admin-resourceupload"},s.default.createElement(c.default,{config:a,eventHandlers:l,djsConfig:i}))}return s.default.createElement("div",null,s.default.createElement("h1",null,DWKitAdminLang.resourceeditor.title),s.default.createElement("div",{className:"dwkit-admin-form-buttons"},s.default.createElement(u.Button,{className:"buttontype2",onClick:function(){o.setState({popup:{show:!0,type:"dir"}})}},DWKitAdminLang.resourceeditor.createfolder),s.default.createElement(u.Button,{className:"buttontype2",onClick:function(){o.setState({popup:{show:!0,type:"file"}})}},DWKitAdminLang.resourceeditor.createfile),this.state.item&&s.default.createElement(u.Button,{className:"buttontype2",style:{marginRight:10},onClick:function(){o.setState({confirmdeleteshow:!0})}},DWKitAdminLang.button.delete),s.default.createElement(u.Button,{className:"buttontype1",style:{display:this.state.haschanges?"":"none"},onClick:this.onSave.bind(this)},DWKitAdminLang.button.save),s.default.createElement(u.Button,{className:"buttontype2",style:{display:this.state.haschanges?"":"none"},onClick:this.onCancel.bind(this)},DWKitAdminLang.button.cancel)),s.default.createElement("div",{className:"dwkit-admin-resourcelist"},this.renderList(this.state.items,!0)),r,s.default.createElement("div",{id:"dwkit-admin-resourceeditor",style:{height:n,display:null==this.state.content?"none":""}}),s.default.createElement(u.Modal,{dimmer:"blurring",open:this.state.popup.show},s.default.createElement(u.Modal.Header,null,"Creating"),s.default.createElement(u.Modal.Content,null,s.default.createElement(u.Form,null,e,s.default.createElement(u.Form.Input,{key:"name",name:"newobjectname",label:DWKitAdminLang.field.name,required:!0,value:this.state.popup.name,onChange:this.handlePopupChange.bind(this),error:null!=this.state.popup.errors}))),s.default.createElement(u.Modal.Actions,null,s.default.createElement(u.Button,{className:"buttontype1",content:DWKitAdminLang.button.create,onClick:this.onCreateItem.bind(this)}),s.default.createElement(u.Button,{className:"buttontype2",content:DWKitAdminLang.button.cancel,onClick:function(){o.setState({popup:{show:!1}})}}))),s.default.createElement(u.Confirm,{open:this.state.confirmdeleteshow,dimmer:"blurring",content:DWKitAdminLang.resourceeditor.confirmdelete,onCancel:function(){o.setState({confirmdeleteshow:!1})},onConfirm:this.onDelete.bind(this)}))}},{key:"handlePopupChange",value:function(e,t){t.name;var n=t.value;t.checked,this.setState({popup:r({},this.state.popup,{name:n})})}},{key:"renderList",value:function(e,t){if(null!=e){var r=this,a=[];t&&a.push(s.default.createElement(u.List.Item,{key:"root"},s.default.createElement(u.List.Icon,{name:"folder"}),s.default.createElement(u.List.Content,null," ",s.default.createElement("a",{href:"#",onClick:r.onItemClick.bind(r,void 0)},"...")," ")));var o=r.getCurrentPath();return e.forEach(function(e){var t="#"+e.id,n=s.default.createElement("a",{href:t,onClick:r.onItemClick.bind(r,e)},e.name);o==t&&(n=s.default.createElement("b",null,n)),e.isDirectory?a.push(s.default.createElement(u.List.Item,{key:e.id},s.default.createElement(u.List.Icon,{name:"folder"}),s.default.createElement(u.List.Content,null,s.default.createElement(u.List.Header,null,n),e.children&&r.renderList(e.children)))):a.push(s.default.createElement(u.List.Item,{key:e.id},s.default.createElement(u.List.Icon,{name:"file text outline"}),s.default.createElement(u.List.Content,null," ",n," ")))}),s.default.createElement(u.List.List,null,a)}}},{key:"onItemClick",value:function(e){if(this.state.item=e,this.state.haschanges=!1,this.state.content=void 0,this.state.imgcontent=void 0,null!=e)if(e.isDirectory)if(null!=e.children){e.children=void 0;var t=this.getParentDir(e);setTimeout(function(){document.location.hash=null!=t?t.id:""},100),this.forceUpdate()}else this.loadDir(e);else this.openFile(e.id);else this.loadDir(void 0)}},{key:"loadDir",value:function(t,n){var r=this;this.sendRequest("dirload",null==t?"":t.id,function(e){e.success?(null==t?r.state.items=e.item:t.children=e.item,null!=n&&n(e.item),r.forceUpdate()):alertify.error(e.message)})}},{key:"openFile",value:function(e){var t=this,n=void 0;this.state.content=void 0,this.redrawEditor();var r=e.lastIndexOf(".");0<r&&(n=e.substring(r+1,e.length)),"png"==n||"jpg"==n||"jpeg"==n||"bmp"==n||"ico"==n?this.sendRequest("fileloadbase64",e,function(e){e.success?(t.state.imgcontent="data:image/"+n+";base64,"+e.item,t.state.content=void 0,t.state.haschanges=!1,t.forceUpdate()):alertify.error(e.message)}):this.sendRequest("fileload",e,function(e){e.success?(t.state.imgcontent=void 0,t.state.content=e.item,t.state.haschanges=!0,t.redrawEditor(n),t.forceUpdate()):alertify.error(e.message)})}},{key:"onSave",value:function(){var t=this,e=[],n=this.editor.getValue();e.push({name:"content",value:n}),this.sendRequest("fileupdate",t.state.item.id,function(e){e.success?(t.openFile(t.state.item.id),alertify.success(DWKitAdminLang.msg.saveok)):alertify.error(e.message)},e)}},{key:"onCancel",value:function(){this.redrawEditor()}},{key:"openPath",value:function(e){var n=this,r=void 0;if(null!=e&&""!=e){"#"==e[0]&&(e=e.substring(1,e.length));var a;if(0<(a=0<e.indexOf("/")?e.split("/"):0<e.indexOf("\\")?e.split("\\"):[e]).length){var o=0;r=function(e){if(0!=e.length)for(var t=0;t<e.length;t++)if(e[t].name==a[o]){if(n.state.item=e[t],e[t].isDirectory){n.state.item=e[t],n.loadDir(e[t],r),o++;break}return void n.openFile(e[t].id)}}}}this.loadDir(void 0,r)}},{key:"redrawEditor",value:function(e){if(0<$("#dwkit-admin-resourceeditor").length){if(null==this.editor&&(this.editor=ace.edit("dwkit-admin-resourceeditor")),null!=e){var t="";"js"==e?t="ace/mode/javascript":"jsx"==e?t="ace/mode/jsx":"cs"==e?t="ace/mode/csharp":"css"==e?t="ace/mode/css":"svg"==e?t="ace/mode/svg":"xml"==e?t="ace/mode/xml":"html"==e&&(t="ace/mode/html"),this.editor.getSession().setMode(t)}var n=this.state.content;null==n&&(n=""),this.editor.setValue(n,-1)}}},{key:"onCreateItem",value:function(){var e=this.state.popup.name;""!=e&&null!=e?("dir"==this.state.popup.type?this.createDirectory(e):this.createFile(e),this.setState({popup:{show:!1}})):this.setState({popup:r({},this.state.popup,{errors:DWKitAdminLang.msg.fieldrequired})})}},{key:"createDirectory",value:function(e){var t=this,n=void 0;null!=this.state.item&&(n=this.state.item.isDirectory?this.state.item:this.getParentDir(this.state.item));var r=null==n?e:n.id+"\\"+e;this.sendRequest("dircreate",r,function(e){e.success?(t.loadDir(n),alertify.success(DWKitAdminLang.resourceeditor.foldercreated)):alertify.error(e.message)})}},{key:"createFile",value:function(e,t){var n=this,r=this.getCurrentDir(),a=[];null!=t&&a.push({name:"content",value:t});var o=null==r?e:r.id+"\\"+e;this.sendRequest("filecreate",o,function(e){e.success?(alertify.success(DWKitAdminLang.resourceeditor.filecreated),document.location.hash=null==r?"":r.id,n.state.item=r,n.state.content=void 0,n.state.haschanges=!1,n.loadDir(r)):alertify.error(e.message)},a)}},{key:"onDelete",value:function(){var t=this;if(null!=this.state.item){var n=this.state.item.isDirectory?"dirdelete":"filedelete",r=this.getParentDir(this.state.item);this.sendRequest(n,this.state.item.id,function(e){e.success?(t.state.imgcontent=void 0,t.state.content=void 0,t.state.haschanges=!1,t.state.item=r,document.location.hash=null==r?"":r.id,t.loadDir(r),t.forceUpdate(),alertify.success("dirdeleted"==n?DWKitAdminLang.resourceeditor.folderdeleted:DWKitAdminLang.resourceeditor.filedeleted)):alertify.error(e.message)}),this.setState({confirmdeleteshow:!1}),window.location.hash=null!=r?r.id:""}}},{key:"getParentDir",value:function(e,t){var n;if(null!=(n=null==t?this.state.items:t.children))for(var r=0;r<n.length;r++){if(n[r].id==e.id)return t;if(null!=n[r].children){var a=this.getParentDir(e,n[r]);if(null!=a)return a}}}},{key:"sendRequest",value:function(e,t,n,r){var a=new Array;this.state.id=t,a.push({name:"operation",value:"resources"}),a.push({name:"suboperation",value:e}),a.push({name:"id",value:t}),null!=r&&r.forEach(function(e){a.push(e)}),$.ajax({url:this.props.apiUrl,data:a,async:!0,type:"post",success:function(e){n(e),Pace.stop()}})}},{key:"getCurrentPath",value:function(){return window.location.hash}}])&&a(i.prototype,l),d&&a(i,d),p);function p(e){!function(e){if(!(e instanceof p))throw new TypeError("Cannot call a class as a function")}(this);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":R(t))&&"function"!=typeof t?e:t}(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,e));return t.getCurrentDir=function(){var e=void 0;return t.state.item&&(e=t.state.item.isDirectory?t.state.item:t.getParentDir(t.state.item)),e},t.state={popup:{show:!1}},t}t.default=f},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}i(n(0)),i(n(2)),n(1);var a=i(n(5)),o=i(n(63));function i(e){return e&&e.__esModule?e:{default:e}}var l,s,u,c=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":R(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(d,a.default),l=d,(s=[{key:"gridColumns",value:function(){return[{key:"name",name:DWKitAdminLang.column.name,resizable:!0}]}},{key:"validate",value:function(){var e=!0,t=this.state.editrow,n=DWKitAdminLang.msg.fieldrequired;return t.__error={name:null==t.name||""==t.name?n:void 0},e&null==t.__error.name}}])&&r(l.prototype,s),u&&r(l,u),d);function d(e){!function(e){if(!(e instanceof d))throw new TypeError("Cannot call a class as a function")}(this);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":R(t))&&"function"!=typeof t?e:t}(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,e));return t.dataindex="modules",t.panelindex="modules",t.idfield="id",t.editform=o.default,t.title="Modules",t.datatype="modules",t}t.default=c},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});function r(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}var a="function"==typeof Symbol&&"symbol"==R(Symbol.iterator)?function(e){return void 0===e?"undefined":R(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":R(e)};function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var c=(r(l,null,[{key:"IsGreater",value:function(e){return e===l.Greater}},{key:"IsLess",value:function(e){return e===l.Less}},{key:"IsEqual",value:function(e){return e===l.Equal}},{key:"IsGreaterOrEqual",value:function(e){return e===l.GreaterOrEqual}},{key:"IsLessOrEqual",value:function(e){return e===l.LessOrEqual}},{key:"IsNotEqual",value:function(e){return e===l.NotEqual}},{key:"IsLike",value:function(e){return e.toLowerCase()===l.Like||"*like*"===e.toLowerCase()}},{key:"IsStartsWith",value:function(e){return e.toLowerCase()===l.StartsWith}},{key:"IsEndsWith",value:function(e){return e.toLowerCase()===l.EndsWith}},{key:"Evaluate",value:function(e,t,n){if(l.IsGreater(n))return l.compareWithTypeCheck(e,t,function(e,t){return t<e});if(l.IsLess(n))return l.compareWithTypeCheck(e,t,function(e,t){return e<t});if(l.IsEqual(n))return l.compareWithTypeCheck(e,t,function(e,t){return e===t});if(l.IsGreaterOrEqual(n))return l.compareWithTypeCheck(e,t,function(e,t){return t<=e});if(l.IsLessOrEqual(n))return l.compareWithTypeCheck(e,t,function(e,t){return e<=t});if(l.IsNotEqual(n))return l.compareWithTypeCheck(e,t,function(e,t){return e!==t});if(l.IsLike(n))return l.likeCompare(e,t,function(e,t){return 0<=e.indexOf(t)});if(l.IsStartsWith(n))return l.likeCompare(e,t,function(e,t){return e.startsWith(t)});if(l.IsEndsWith(n))return l.likeCompare(e,t,function(e,t){return e.endsWith(t)});throw"Unknown term "+n}},{key:"likeCompare",value:function(e,t,n){return null===e&&null===t||void 0===e&&void 0===t||null!=e&&null!=t&&n(e.toString().toLowerCase(),t.toString().toLowerCase())}},{key:"compareWithTypeCheck",value:function(e,t,n){return null===e&&null===t||void 0===e&&void 0===t||null!=e&&null!=t&&(e instanceof Date&&"string"==typeof t?n(e.getTime(),new Date(t).getTime()):"string"==typeof e&&t instanceof Date?n(new Date(e).getTime(),t.getTime()):e instanceof Date&&t instanceof Date?n(e.getTime(),t.getTime()):(void 0===e?"undefined":a(e))===(void 0===t?"undefined":a(t))?n(e,t):n(e,"number"==typeof e&&"string"==typeof t?parseFloat(t):"string"==typeof e&&"number"==typeof t?t.toString():t))}},{key:"Greater",get:function(){return">"}},{key:"Less",get:function(){return">"}},{key:"Equal",get:function(){return"="}},{key:"GreaterOrEqual",get:function(){return">="}},{key:"LessOrEqual",get:function(){return"<="}},{key:"NotEqual",get:function(){return"!="}},{key:"Like",get:function(){return"like"}},{key:"StartsWith",get:function(){return"like*"}},{key:"EndsWith",get:function(){return"*like"}}]),l);function l(){i(this,l)}var s=(r(u,[{key:"AddFilter",value:function(e){var n=this,r=e.names,a=e.expected,o=e.term,t=e.id;if(!(r.length<1)){var i=1===r.length?r[0]:r.sort().join(","),l=void 0;this._innerFilter.hasOwnProperty(i)?l=this._innerFilter[i]:((l=this._innerFilter[i]={}).funcs=[],l.items=[],l.test=function(t){return n._innerFilter[i].funcs.every(function(e){return e(t)})});var s,u=function(e,t){var n=Object.keys(e).find(function(e){return e.toString().toLowerCase()===t.toLowerCase()});return void 0!==n&&c.Evaluate(e[n],a,o)};s=1===r.length?function(e){return u(e,r[0])}:function(t){return r.some(function(e){return u(t,e)})},l.funcs.push(s),l.items.push({expected:a,term:o,id:t})}}},{key:"RemoveFilter",value:function(e){var a=this,t=e.name,n=e.id,r=void 0,o=void 0;if(void 0!==t&&(o=Array.isArray(t)?(r=1===t.length?t[0]:t.sort().join(","),t):[r=t]),void 0!==t&&void 0===n)delete this._innerFilter[r];else if(void 0===t&&void 0===n)this._innerFilter={};else{var i=function(e,t,n){if(a._innerFilter.hasOwnProperty(e)){var r=a._innerFilter[e].items.filter(function(e){return e.id!==n});r.length<a._innerFilter[e].items.length&&(delete a._innerFilter[e],r.forEach(function(e){a.AddFilter({names:t,expected:e.expected,term:e.term,id:e.id})}))}};void 0!==t&&void 0!==n?i(r,o,n):Object.keys(this._innerFilter).forEach(function(e){i(e,e.split(","),n)})}}},{key:"IsRowMatched",value:function(e){var t=Object.keys(this._innerFilter);if(t.length<=0)return!0;for(var n=0;n<t.length;n++)if(!this._innerFilter[t[n]].test(e))return!1;return!0}},{key:"GetFilterAsObjects",value:function(){var e=this;if(void 0===this._innerFilter)return[];var n=[];return Object.keys(this._innerFilter).forEach(function(t){e._innerFilter[t].items.forEach(function(e){n.push({column:t,value:e.expected,term:e.term})})}),n}}]),u);function u(e,n){var r=this;if(i(this,u),this._innerFilter={},void 0!==e&&Array.isArray(e)){if(void 0===n||!Array.isArray(n))throw"columns must be array";e.forEach(function(e){if(void 0!==e){var t;t="*"===e.column?n:e.column.split(",").map(function(e){return e.trim()}),r.AddFilter({names:t,expected:e.value,term:e.term})}})}}t.FilterTerms=c,t.FunctionalFilter=s},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var w=o(n(0)),a=(o(n(2)),o(n(4))),k=n(1);function o(e){return e&&e.__esModule?e:{default:e}}var i,l,s,u=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":R(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(c,a.default),i=c,(l=[{key:"validate",value:function(){return this.props.parent.validate()}},{key:"render",value:function(){this.validate();var e=this.props.metadata.forms,t=[];if(null!=e)for(var n=0;n<e.length;n++){var r=e[n];t.push({text:r.code,value:r.code})}var a=this.props.metadata.dataModel,o=[];if(null!=a)for(n=0;n<a.length;n++){var i=a[n];o.push({text:i.name,value:i.id})}var l=this.props.metadata.codeActions,s=[];if(null!=l)for(n=0;n<l.length;n++){var u=l[n];s.push({text:u.name,value:u.id})}var c=this.props.metadata.workflow,d=[];if(null!=c)for(n=0;n<c.length;n++){var f=c[n];d.push({text:f.code,value:f.code})}var p=this.props.metadata.businessFlow,h=[];if(null!=p)for(n=0;n<p.length;n++)f=p[n],h.push({text:f.name,value:f.id});var m=this.props.metadata.roles,v=[];if(null!=m)for(n=0;n<m.length;n++)f=m[n],v.push({text:f.name,value:f.id});var g=null==this.props.data?[]:this.props.data;this.correctData(g);var y=this.props.onSave.bind(this.props.parent),b=this.props.onCancel.bind(this.props.parent);return w.default.createElement("div",{className:"dwkit-formadmin-formedit"},w.default.createElement(k.Breadcrumb,null,w.default.createElement(k.Breadcrumb.Section,{onClick:this.props.parent.back.bind(this.props.parent),link:!0},"Modules"),w.default.createElement(k.Breadcrumb.Divider,null),w.default.createElement(k.Breadcrumb.Section,{active:!0},g.name)),w.default.createElement("div",{className:"dwkitadmin-toolbar-editform"},w.default.createElement(k.Button,{className:"buttontype1",onClick:y},DWKitAdminLang.button.save),w.default.createElement(k.Button,{className:"buttontype2",onClick:b},DWKitAdminLang.button.cancel)),w.default.createElement("h1",null,this.props.parent.title),w.default.createElement(k.Form,null,w.default.createElement(k.Form.Input,{name:"name",label:DWKitAdminLang.field.name,error:Boolean(g.__error.name),value:g.name,onChange:this.handleChange.bind(this,g)}),w.default.createElement(k.Form.TextArea,{autoHeight:!0,name:"commnet",label:"Comment",error:Boolean(g.__error.comment),onChange:this.handleChange.bind(this,g)}),w.default.createElement("h1",null,"Objects"),w.default.createElement(k.Form.Group,{widths:"equal"},w.default.createElement(k.Form.Dropdown,{label:"Roles",error:Boolean(g.__error.roles),name:"roles",search:!0,options:v,multiple:!0,value:g.roles,onChange:this.handleChange.bind(this,g)}),w.default.createElement(k.Form.Dropdown,{label:"Business flow",error:Boolean(g.__error.businessFlows),name:"businessFlows",search:!0,options:h,multiple:!0,value:g.businessFlows,onChange:this.handleChange.bind(this,g)})),w.default.createElement(k.Form.Group,{widths:"equal"},w.default.createElement(k.Form.Dropdown,{label:"Forms",name:"forms",error:Boolean(g.__error.forms),search:!0,options:t,multiple:!0,value:g.forms,onChange:this.handleChange.bind(this,g)}),w.default.createElement(k.Form.Dropdown,{label:"Worflow schemes",error:Boolean(g.__error.schemes),name:"schemes",search:!0,options:d,multiple:!0,value:g.schemes,onChange:this.handleChange.bind(this,g)})),w.default.createElement(k.Form.Group,{widths:"equal"},w.default.createElement(k.Form.Dropdown,{label:"Entities",error:Boolean(g.__error.entities),name:"entities",search:!0,options:o,multiple:!0,value:g.entities,onChange:this.handleChange.bind(this,g)}),w.default.createElement(k.Form.Dropdown,{label:"CodeActions",error:Boolean(g.__error.codeActions),name:"codeActions",search:!0,options:s,multiple:!0,value:g.codeActions,onChange:this.handleChange.bind(this,g)}))))}},{key:"correctData",value:function(e){null==e.roles&&(e.roles=[]),null==e.businessFlows&&(e.businessFlows=[]),null==e.forms&&(e.forms=[]),null==e.schemes&&(e.schemes=[]),null==e.entities&&(e.entities=[]),null==e.codeActions&&(e.codeActions=[])}},{key:"handleChange",value:function(e,t,n){var r=n.name,a=n.value,o=n.checked;e[r],e[r]=null==a?o:a,this.setUpdatedState(this.props.data),this.forceUpdate()}}])&&r(i.prototype,l),s&&r(i,s),c);function c(e){!function(e){if(!(e instanceof c))throw new TypeError("Cannot call a class as a function")}(this);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":R(t))&&"function"!=typeof t?e:t}(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,e));return t.state={},t}t.default=u},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=u(n(0)),o=(u(n(2)),n(1)),i=u(n(5)),l=u(n(65)),s=n(17);function u(e){return e&&e.__esModule?e:{default:e}}var c,d,f,p=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":R(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(h,i.default),c=h,(d=[{key:"createNewObject",value:function(){var e=function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0}(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"createNewObject",this).call(this);return e.mode=s.Modes.SIMPLIFIED,e}},{key:"renderToolbar",value:function(){var t=this,n=this;return a.default.createElement("div",{className:"dwkitadmin-toolbar"},a.default.createElement(o.Button,{className:"buttontype1",onClick:function(){n.props.parent.openpage(t.panelindex,"new")}},DWKitAdminLang.button.create),a.default.createElement(o.Button,{className:"buttontype2",onClick:function(){var e=t.grid.getSeletedRowKeys();1!==e.length?alertify.error(DWKitAdminLang.msg.needtoselectoneitem):n.props.parent.openpage(t.panelindex,"new",e[0])}},DWKitAdminLang.button.copy),a.default.createElement(o.Button,{className:"buttontype2",onClick:function(){n.setState({confirmdeleteshow:!0})}},DWKitAdminLang.button.delete))}},{key:"gridColumns",value:function(){return[{key:"name",name:DWKitAdminLang.column.name,resizable:!0},{key:"dbObjectName",name:DWKitAdminLang.data.dbobjectfield,resizable:!0}]}},{key:"checkAttributeExists",value:function(e){var t=this.state.editrow;if(e&&t.mode!==s.Modes.SIMPLIFIED){if(t.attributes)for(var n=0;n<t.attributes.length;n++)if(e===t.attributes[n].name)return!0;return!1}return!0}},{key:"validate",value:function(){var t=!0,r=this.state.editrow,a=DWKitAdminLang.msg.fieldrequired,o=DWKitAdminLang.msg.fieldduplicated,i=r.mode===s.Modes.SIMPLIFIED,e=!!r.name&&this.props.data.dataModel.some(function(e){return e.name.toLowerCase()===r.name.toLowerCase()&&e.id!==r.id});r.__error={name:r.name?void 0:a,dbObjectName:r.dbObjectName||i?void 0:a,primaryKeyAttribute:!this.checkAttributeExists(r.primaryKeyAttribute),extensionsContainerAttribute:!this.checkAttributeExists(r.extensionsContainerAttribute),workflowSchemeAttribute:!this.checkAttributeExists(r.workflowSchemeAttribute),duplicateName:e},t&=!(r.__error.name||r.__error.dbObjectName||r.__error.primaryKeyAttribute||r.__error.extensionsContainerAttribute||r.__error.workflowSchemeAttribute||r.__error.duplicateName);var l=r.attributes;if(r.mode===s.Modes.SIMPLIFIED){var n=this.props.data.additionalParams&&this.props.data.additionalParams.MasterTableAttributes?this.props.data.additionalParams.MasterTableAttributes:[];l=[].concat(l,n)}return r.attributes&&r.attributes.forEach(function(n){n.__error={name:n.name?void 0:a,type:0===n.typeId?n.type?void 0:a:void 0,referenceEntityId:1===n.typeId?n.referenceEntityId?void 0:a:void 0},!n.isExtension||r.extensionsContainerAttribute||i||(n.__error.isExtension=DWKitAdminLang.msg.extensionscontainerfieldrequired,r.__error.extensionsContainerAttribute=DWKitAdminLang.msg.extensionscontainerfieldrequired);var e=!!n.name&&1<l.reduce(function(e,t){return t.name===n.name?e+1:e},0);n.__error.duplicateName=e?o:void 0,t&=!(n.__error.name||n.__error.type||n.__error.referenceEntityId||n.__error.isExtension||e)}),null!=r.triggers&&r.triggers.forEach(function(e){e.__error={triggers:Array.isArray(e.triggers)&&0<e.triggers.length?void 0:a,codeActionId:null==e.codeActionId||""==e.codeActionId?a:void 0},t&=null==e.__error.triggers&&null==e.__error.codeActionId}),t}}])&&r(c.prototype,d),f&&r(c,f),h);function h(e){!function(e){if(!(e instanceof h))throw new TypeError("Cannot call a class as a function")}(this);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":R(t))&&"function"!=typeof t?e:t}(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,e));return t.dataindex="dataModel",t.panelindex="datamodel",t.defaultNamePrefix="table",t.datatype="datamodel",t.title=DWKitAdminLang.data.title,t.titleGetter=function(e){return e.data.title},t.idfield="id",t.editform=l.default,t}t.default=p},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var f=o(n(0)),a=(o(n(3)),o(n(4))),p=n(1),u=(o(n(16)),n(17));function o(e){return e&&e.__esModule?e:{default:e}}var i,l,s,c=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":R(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(d,a.default),i=d,s=[{key:"getDerivedStateFromProps",value:function(e,t){return{needValidate:!0}}}],(l=[{key:"validate",value:function(){return this.props.parent.validate()}},{key:"render",value:function(){this.state.needValidate&&(this.validate(),this.state.needValidate=!1);var e=this.props.data;e.attributes||(e.attributes=[]),e.triggers||(e.triggers=[]);var t=[];this.props.metadata.dataModel.forEach(function(e){t.push({value:e.id,text:e.name})});var n=[];this.props.metadata.codeActions.forEach(function(e){n.push({value:e.name,text:e.name})});var r=[];this.props.metadata.additionalParams.Types.forEach(function(e){r.push({value:e,text:e})});var a=this.props.onCancel.bind(this.props.parent),o=e.__error?e.__error:{},i=[{text:DWKitAdminLang.data.standardmode,value:u.Modes.STANDARD},{text:DWKitAdminLang.data.simplifiedmode,value:u.Modes.SIMPLIFIED}],l=e.mode?e.mode:u.Modes.STANDARD,s=this.state.isSimplified?u.MasterTableDefaults.TABLE_NAME:e.dbObjectName;return this.state.isSimplified?u.MasterTableDefaults.PRIMARY_KEY:e.primaryKeyAttribute,f.default.createElement("div",{className:"dwkit-formadmin-formedit"},f.default.createElement(p.Breadcrumb,null,f.default.createElement(p.Breadcrumb.Section,{onClick:this.props.parent.back.bind(this.props.parent),link:!0},DWKitAdminLang.data.title),f.default.createElement(p.Breadcrumb.Divider,null),f.default.createElement(p.Breadcrumb.Section,{active:!0},e.name)),f.default.createElement("div",{className:"dwkitadmin-toolbar-editform"},f.default.createElement(p.Button,{className:"buttontype1",onClick:this.onSave},DWKitAdminLang.button.save),f.default.createElement(p.Button,{className:"buttontype2",onClick:a},DWKitAdminLang.button.cancel)),!e.primaryKeyAttribute&&!this.state.isSimplified&&f.default.createElement(p.Message,{color:"orange"},DWKitAdminLang.data.notsetprimarykeymsg),o.primaryKeyAttribute&&f.default.createElement(p.Message,{color:"red"},DWKitAdminLang.data.notfoundprimarykeymsg),o.extensionsContainerAttribute&&f.default.createElement(p.Message,{color:"red"},DWKitAdminLang.data.notfoundprimaryextcontmsg),o.duplicateName&&f.default.createElement(p.Message,{color:"red"},DWKitAdminLang.data.nameexistsmsg),f.default.createElement(p.Form,null,f.default.createElement(p.Form.Group,{widths:"equal"},f.default.createElement(p.Form.Field,null,f.default.createElement(p.Form.Dropdown,{name:"mode",label:DWKitAdminLang.data.modefield,value:l,options:i,onChange:this.onModeChange,selection:!0,fluid:!0}))),f.default.createElement(p.Form.Group,{widths:"equal"},f.default.createElement(p.Form.Field,null,f.default.createElement(p.Form.Input,{name:"name",label:DWKitAdminLang.field.name,error:o.name||o.duplicateName,value:e.name,onChange:this.handleChange.bind(this,e)}),f.default.createElement(p.Form.Input,{name:"dbObjectName",label:DWKitAdminLang.data.dbobjectfield,error:Boolean(o.dbObjectName),value:s,onChange:this.handleChange.bind(this,e),readOnly:this.state.isSimplified}),!this.state.isSimplified&&f.default.createElement(p.Form.Input,{name:"extensionsContainerAttribute",label:DWKitAdminLang.data.extensionscontainerfield,error:Boolean(o.extensionsContainerAttribute),value:e.extensionsContainerAttribute,onChange:this.handleChange.bind(this,e)})),!this.state.isSimplified&&f.default.createElement(p.Form.Field,null,f.default.createElement(p.Form.Input,{name:"primaryKeyAttribute",label:DWKitAdminLang.data.primarykeyfield,error:Boolean(o.primaryKeyAttribute),value:e.primaryKeyAttribute,onChange:this.handleChange.bind(this,e)}),f.default.createElement(p.Form.Input,{name:"schemaName",label:DWKitAdminLang.data.schemenamefield,error:Boolean(o.schemaName),value:e.schemaName,onChange:this.handleChange.bind(this,e)}),f.default.createElement(p.Form.Input,{name:"workflowSchemeAttribute",label:DWKitAdminLang.data.workflowschemefield,error:Boolean(o.workflowSchemeAttribute),value:e.workflowSchemeAttribute,onChange:this.handleChange.bind(this,e)}))),f.default.createElement("div",null,f.default.createElement("h1",{className:"dwkit-formadmin-dataedit-attributeheader"},DWKitAdminLang.field.attributes),!this.state.isSimplified&&f.default.createElement(p.Checkbox,{className:"dwkit-formadmin-dataedit-attributeslider",slider:!0,checked:this.state.showextensioncolumns,onClick:this.onShowExtension.bind(this),label:DWKitAdminLang.data.showextensioncolumnsonly})),f.default.createElement("div",{className:"field",widths:"16"},this.renderAttributes(e.attributes,t,r,this.state.isSimplified))))}},{key:"renderAttributes",value:function(e,t,n,r){var a=[];a.push(f.default.createElement("a",{key:"btnadd",onClick:this.onAddAttribute.bind(this,e)},DWKitAdminLang.data.addattbutton));for(var o=0;o<e.length;o++){var i=e[o];if(!0!==this.state.showextensioncolumns||!1!==i.isExtension){var l=this.renderAttribute(i,e,t,n,!1);a.push(l)}}if(r){var s=this.props.metadata.additionalParams&&this.props.metadata.additionalParams.MasterTableAttributes?this.props.metadata.additionalParams.MasterTableAttributes:[];for(o=0;o<s.length;o++){var u=s[o];l=this.renderAttribute(u,e,t,n,!0),a.push(l)}}return e.length||a.push(f.default.createElement("div",{className:"dwkit-formadmin-info",key:"message"},DWKitAdminLang.data.noattributesmsg,f.default.createElement("br",null),DWKitAdminLang.msg.click," ",f.default.createElement("a",{key:"btnadd2",onClick:this.onAddAttribute.bind(this,e)},DWKitAdminLang.msg.here)," ",DWKitAdminLang.data.forcreatetingmsg)),a}},{key:"renderAttribute",value:function(t,e,n,r,a){var o,i=null!=t.__error?t.__error:{},l="att_"+t.id,s=1==t.typeId;o=s?f.default.createElement(p.Form.Dropdown,{key:"type",name:"referenceEntityId",selection:!0,fluid:!0,search:!0,label:DWKitAdminLang.data.refentityfield,value:t.referenceEntityId,error:Boolean(i.referenceEntityId),options:n,disabled:a,onChange:this.handleChange.bind(this,t)}):f.default.createElement(p.Form.Dropdown,{key:"type",options:r,selection:!0,fluid:!0,search:!0,name:"type",label:DWKitAdminLang.data.datatypefield,placeholder:"Choose a data type",error:Boolean(i.type),value:t.type,disabled:a,onChange:this.handleChange.bind(this,t)});var u=void 0;if(a){var c="";if(s){var d="";n.forEach(function(e){e.value==t.referenceEntityId&&(d=e.text)}),c+=DWKitAdminLang.data.reffield+": "+d}else c+=DWKitAdminLang.data.columnfield+": "+t.type;t.isNullable&&(c+=", "+DWKitAdminLang.data.nullablefield),t.isCalculated&&(c+=", "+DWKitAdminLang.data.calculatefield),u=f.default.createElement(p.Form.Group,{key:l,widths:"equal",className:"dwkit-formadmin-item"},f.default.createElement(p.Form.Input,{key:"name",name:"name",readOnly:!0,label:DWKitAdminLang.field.name,error:i.name?i.name:i.duplicateName,value:t.name,onChange:this.handleChange.bind(this,t)}),f.default.createElement(p.Form.Input,{key:"type",name:"type",readOnly:!0,label:DWKitAdminLang.field.type,value:c}))}else u=f.default.createElement(p.Form.Group,{key:l,widths:"equal",className:"dwkit-formadmin-item"},f.default.createElement("div",{key:"c1",className:"field"},f.default.createElement(p.Form.Input,{key:"name",name:"name",readOnly:a,label:DWKitAdminLang.field.name,error:i.name?i.name:i.duplicateName,value:t.name,onChange:this.handleChange.bind(this,t)}),f.default.createElement("label",{key:"c1label"},DWKitAdminLang.data.optionsfield),f.default.createElement(p.Form.Group,{widths:"equal"},f.default.createElement(p.Form.Checkbox,{name:"isNullable",readOnly:a,label:DWKitAdminLang.data.nullablefield,error:Boolean(i.isNullable),checked:t.isNullable,onChange:this.handleChange.bind(this,t)}),!this.state.isSimplified&&f.default.createElement(p.Form.Checkbox,{name:"isCalculated",label:DWKitAdminLang.data.calculatefield,error:Boolean(i.isCalculated),checked:t.isCalculated,onChange:this.handleChange.bind(this,t)}),!this.state.isSimplified&&f.default.createElement(p.Form.Checkbox,{name:"isExtension",readOnly:a,label:DWKitAdminLang.data.extensionfield,error:Boolean(i.isExtension),checked:t.isExtension,onChange:this.handleChange.bind(this,t)}))),f.default.createElement("div",{key:"c2",className:"field"},f.default.createElement("label",{key:"c2label"},DWKitAdminLang.field.type),f.default.createElement(p.Form.Group,{key:"c2g"},f.default.createElement(p.Form.Radio,{key:"typeColumn",readOnly:a,name:l+"_typeId",error:Boolean(i.typeId),label:DWKitAdminLang.data.columnfield,value:0,checked:0==s,onChange:this.handleChangeTypeId.bind(this,t)}),f.default.createElement(p.Form.Radio,{key:"typeRef",readOnly:a,name:l+"_typeId",error:Boolean(i.typeId),label:DWKitAdminLang.data.reffield,value:1,checked:s,onChange:this.handleChangeTypeId.bind(this,t)})),o),!a&&f.default.createElement(p.Image,{className:"dwkit-buttonimage",key:"btndelete",src:"/images/dwkit-delete.png",onClick:this.onDeleteAttribute.bind(this,e,t.id)}));return u}},{key:"handleChangeTypeId",value:function(e,t,n){n.name;var r=n.value;this.handleChange(e,t,{name:"typeId",value:r})}},{key:"handleChange",value:function(e,t,n){var r=n.name,a=n.value,o=n.checked;null==a?(e[r]=o,"isCalculated"===r&&o?e.isExtension=!1:"isExtension"===r&&o&&(e.isCalculated=!1)):e[r]=a,this.updateStateAndForce()}},{key:"onAddAttribute",value:function(e){var t={id:this.NewGUID(),type:"String",typeId:0,isExtension:this.state.showextensioncolumns||this.state.isSimplified};e.unshift(t),this.updateStateAndForce()}},{key:"onDeleteAttribute",value:function(e,t){for(var n=void 0,r=0;r<e.length;r++)if(e[r].id==t){n=r;break}null!=n&&e.splice(n,1),this.updateStateAndForce()}},{key:"updateStateAndForce",value:function(){this.setUpdatedState(this.props.data),this.forceUpdate()}},{key:"onShowExtension",value:function(){this.setState({showextensioncolumns:!this.state.showextensioncolumns})}}])&&r(i.prototype,l),s&&r(i,s),d);function d(e){!function(e){if(!(e instanceof d))throw new TypeError("Cannot call a class as a function")}(this);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":R(t))&&"function"!=typeof t?e:t}(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,e));return n.onSave=function(){if(n.state.isSimplified){var e=n.props.data;e.dbObjectName=u.MasterTableDefaults.TABLE_NAME,e.extensionsContainerAttribute=u.MasterTableDefaults.EXTENSION_CONTAINER,e.primaryKeyAttribute=u.MasterTableDefaults.PRIMARY_KEY,e.workflowSchemeAttribute=u.MasterTableDefaults.WORKFLOW_SCHEME,Array.isArray(e.attributes)&&e.attributes.forEach(function(e){e.isCalculated=!1,e.isExtension=!0})}var t=n.props.onSave.bind(n.props.parent);n.props.parent.state.needGlobalReload=!0,t(),n.forceUpdate()},n.onModeChange=function(e,t){n.setState({isSimplified:t.value===u.Modes.SIMPLIFIED}),n.handleChange(n.props.data,e,t)},n.state={showextensioncolumns:!1,isSimplified:n.props.data&&n.props.data.mode===u.Modes.SIMPLIFIED},n}t.default=c},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var l=i(n(0)),o=(i(n(2)),i(n(4))),s=n(1);function i(e){return e&&e.__esModule?e:{default:e}}var u,c,d,f=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":R(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(p,o.default),u=p,(c=[{key:"render",value:function(){var e,r=this,t=this.state.data;function n(e){return l.default.createElement("label",null,e,l.default.createElement(s.Popup,{content:DWKitAdminLang.datasync.searchTips,trigger:l.default.createElement(s.Icon,{name:"question"})}))}return e=null==t?l.default.createElement("div",null):t.length?this.renderChanges(t):l.default.createElement("div",null,l.default.createElement("div",{className:"dwkit-formadmin-info"},l.default.createElement("br",null),l.default.createElement("br",null),DWKitAdminLang.datasync.noneedsyncmsg,l.default.createElement("br",null),l.default.createElement("a",{onClick:this.onRefresh},DWKitAdminLang.datasync.analysingagainmsg))),l.default.createElement("div",{className:"dwkit-formadmin-sync"},l.default.createElement("h1",null,this.titleGetter(DWKitAdminLang)),l.default.createElement("div",{className:"dwkitadmin-toolbar"},l.default.createElement(s.Form,null,l.default.createElement(s.Form.Group,null,l.default.createElement(s.Form.Input,{name:"searchInclude",label:n(DWKitAdminLang.datasync.searchInclude),value:this.state.searchInclude,onChange:function(e,t){t.name;var n=t.value;return r.setState({searchInclude:n})}}),l.default.createElement(s.Form.Input,{name:"searchExclude",label:n(DWKitAdminLang.datasync.searchExclude),value:this.state.searchExclude,onChange:function(e,t){t.name;var n=t.value;return r.setState({searchExclude:n})}}),l.default.createElement(s.Form.Field,null,l.default.createElement(s.Button,{className:"buttontype2",style:{marginTop:"20px"},onClick:this.onRefresh.bind(this)},DWKitAdminLang.datasync.searchanalyse))))),l.default.createElement("hr",null),null!=t&&l.default.createElement("div",{className:"dwkitadmin-toolbar"},l.default.createElement(s.Button,{className:"buttontype1",onClick:this.onApply},DWKitAdminLang.button.applyselectedchanges),l.default.createElement(s.Button,{className:"buttontype2",onClick:this.massChangeSelect.bind(this,void 0,!0)},DWKitAdminLang.button.selectall),l.default.createElement(s.Button,{className:"buttontype2",onClick:this.massChangeSelect.bind(this,void 0,!1)},DWKitAdminLang.button.deselectall),l.default.createElement(s.Checkbox,{slider:!0,checked:this.state.showsystemtables,onClick:this.onShowSystems,label:DWKitAdminLang.datasync.showsystemtables})),e)}},{key:"renderChanges",value:function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];if(0!=this.state.showsystemtables||!this.isSystem(r)){var a=r.id,o=this.getChangedTitle(r.changedType),i=l.default.createElement("div",{key:a,className:"dwkit-formadmin-item"},l.default.createElement(s.Form,{key:"form"},l.default.createElement(s.Form.Group,{key:"formgroup",widths:"equal"},l.default.createElement("div",{key:"formgroupdiv",className:"field eight wide "+(r.__select?"syncselected":"syncnotselected")},l.default.createElement(s.Form.Group,{key:"formgroup2",widths:"equal",style:{width:"400px"}},l.default.createElement(s.Form.Checkbox,{width:1,name:"select",key:"check",checked:r.__select,onChange:this.handleSelectGroupChange.bind(this,r)}),l.default.createElement("div",{className:"field"},l.default.createElement(s.Form.Input,{key:"name",name:"name",label:DWKitAdminLang.field.name,value:r.name,readOnly:!0}),l.default.createElement(s.Form.Input,{key:"changeTitle",name:"changeTitle",label:DWKitAdminLang.datasync.changedtypefield,error:"deleted"===r.changedType,value:o,readOnly:!0}))),r.changes&&0<r.changes.length&&l.default.createElement("div",{style:{marginTop:"10px"}},l.default.createElement("a",{key:"selectbutton",onClick:this.massChangeSelect.bind(this,r,!0)},DWKitAdminLang.button.select),"  ",l.default.createElement("a",{key:"deselectbutton",onClick:this.massChangeSelect.bind(this,r,!1)},DWKitAdminLang.button.deselect))),l.default.createElement("div",{key:"childrendiv",className:"field"},this.renderChildren(r)))));t.push(i)}}return t}},{key:"isSystem",value:function(e){if(!e||!e.name)return!1;for(var t=["dwAppSettings","dwSecurity","dwUploadedFiles","Workflow","dwV_Security","DWAPPSETTINGS","DWSECURITY","DWUPLOADEDFILES","WORKFLOW","DWV_SECURITY","dwEntities"],n=0;n<t.length;n++)if(e.name.startsWith(t[n]))return!0;return!1}},{key:"renderChildren",value:function(e){if(e.changes&&e.changes.length){for(var t=[],n=0;n<e.changes.length;n++){var r,a=e.changes[n],o=a.id;r=null==a.originalValue?this.getChangedTitle(a.changedType):a.originalValue+" -> "+a.newValue;var i=l.default.createElement(s.Form.Group,{key:o,className:a.__select?"syncselected":"syncnotselected",widths:"equal"},l.default.createElement(s.Form.Checkbox,{name:"changeselect",width:1,key:"check",checked:a.__select,onChange:this.handleSelectChange.bind(this,e,a)}),l.default.createElement(s.Form.Input,{name:"parameter",width:5,key:"parameter",label:DWKitAdminLang.field.parameter,value:a.parameter,readOnly:!0}),l.default.createElement(s.Form.Input,{name:"change",width:10,key:"value",label:DWKitAdminLang.datasync.chages,error:"deleted"===a.changedType,value:r,readOnly:!0}));t.push(i)}return t}}},{key:"getChangedTitle",value:function(e){return"new"===e?DWKitAdminLang.datasync.changestypenew:"changed"===e?DWKitAdminLang.datasync.changetypechanged:"deleted"===e?DWKitAdminLang.datasync.changetypedeleted:void 0}},{key:"getChangesForApply",value:function(e){var n=[];return e.forEach(function(e){if(e.__select)n.push(r({},e,{__type:"datasync",__state:"inserted"}));else if(null!=e.changes&&0<e.changes.length){var t=[];e.changes.forEach(function(e){e.__select&&t.push(e)}),0<t.length&&n.push(r({},e,{changes:t,__type:"datasync",__state:"inserted"}))}}),n}},{key:"onSelectAll",value:function(){this.massChangeSelect(void 0,!0)}},{key:"onDeselectAll",value:function(){this.massChangeSelect(void 0,!1)}},{key:"onSelectGroup",value:function(e){this.massChangeSelect(e,!0)}},{key:"onDeselectGroup",value:function(e){this.massChangeSelect(e,!1)}},{key:"massChangeSelect",value:function(e,t){null!=e?(e.__select=t,null!=e.changes&&e.changes.forEach(function(e){e.__select=t})):this.state.data.forEach(function(e){e.__select=t,null!=e.changes&&e.changes.forEach(function(e){e.__select=t})}),this.forceUpdate()}},{key:"handleSelectChange",value:function(e,t,n,r){var a=r.checked;if(t.__select=a,null!=e.changes&&0<e.changes.length){var o=!0;e.changes.forEach(function(e){o&=e.__select}),e.__select=o}this.forceUpdate()}},{key:"handleSelectGroupChange",value:function(e,t,n){var r=n.checked;e.__select=r,null!=e.changes&&e.changes.forEach(function(e){e.__select=r}),this.forceUpdate()}},{key:"filterArray",value:function(e){var n=this,r=this.state.searchInclude,a=this.state.searchExclude;if(!r&&!a)return e;r&&-1==r.indexOf("*")&&(r="*"+r+"*"),a&&-1==a.indexOf("*")&&(a="*"+a+"*");var o=[];return e.forEach(function(e){var t=!0;r&&(t=n.matchRuleShort(e.name,r)),t&&a&&(t=!n.matchRuleShort(e.name,a)),t&&o.push(e)}),o}},{key:"matchRuleShort",value:function(e,t){return new RegExp("^"+t.split("*").map(function(e){return e.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")}).join(".*")+"$","i").test(e)}}])&&a(u.prototype,c),d&&a(u,d),p);function p(e){!function(e){if(!(e instanceof p))throw new TypeError("Cannot call a class as a function")}(this);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":R(t))&&"function"!=typeof t?e:t}(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,e));return n.onApply=function(){var t=n,e=n.getChangesForApply(n.state.data);e.length?n.ChangeData(e,function(e){t.onRefresh()}):alertify.error(DWKitAdminLang.msg.needtoselectitems)},n.onRefresh=function(){var r=n,e=new Array;e.push({name:"operation",value:"analysedb"}),$.ajax({url:r.props.apiUrl,data:e,async:!0,type:"post",success:function(e){e.success?r.setState({isloadig:!1,data:r.filterArray(e.items)}):alertify.error(e.message)},error:function(e,t){var n=r.getProcessLoadError(e,t);alertify.error(n)}})},n.onShowSystems=function(){n.setState({showsystemtables:!n.state.showsystemtables})},n.titleGetter=function(e){return e.datasync.title},n.state={showsystemtables:!1},n}t.default=f},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});function r(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=u(n(0)),i=(u(n(2)),n(1)),l=u(n(5)),s=u(n(68));function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":R(t))&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":R(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p=(f(h,l.default),r(h,[{key:"getTypeName",value:function(e){var t="Unknown";return 0===e&&(t="Filter"),1===e&&(t="Action"),2===e&&(t="Trigger"),t}},{key:"renderToolbar",value:function(){var e=this;return o.default.createElement("div",{className:"dwkitadmin-toolbar"},o.default.createElement(i.Button,{className:"buttontype1",onClick:function(){e.props.parent.openpage(e.panelindex,"new")}},DWKitAdminLang.button.create),o.default.createElement(i.Button,{className:"buttontype2",onClick:function(){e.setState({confirmdeleteshow:!0})}},DWKitAdminLang.button.delete),o.default.createElement(i.Button,{className:"buttontype1",onClick:this.recompileAll.bind(this)},DWKitAdminLang.button.recompileAll))}},{key:"gridColumns",value:function(){var n=this;return[{key:"name",name:DWKitAdminLang.column.name,resizable:!0,formatter:o.default.createElement(m,{data:this.props.data[this.dataindex],parent:this}),getRowMetaData:function(e){return e}},{key:"definedOnServer",name:DWKitAdminLang.codeaction.defineonservercolumn,resizable:!0,type:"checkbox"},{key:"type",name:DWKitAdminLang.column.type,resizable:!0,type:"custom",customFormatter:function(e){var t=e.value;return n.getTypeName(t)}}]}},{key:"getDefaultObjectCode",value:function(){return""}},{key:"showedit",value:function(e){e.definedOnServer?alertify.error(DWKitAdminLang.codeaction.defineonservermsg):function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0}(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"showedit",this).call(this,e)}},{key:"validate",value:function(){var e=!0,t=this.state.editrow,n=DWKitAdminLang.msg.fieldrequired;return t.__error={name:null==t.name||""==t.name?n:void 0},e&null==t.__error.name}},{key:"onDelete",value:function(){for(var e=this,t=[],n=[],r=this.grid.getSeletedRowKeys(),a=0;a<this.props.data[this.dataindex].length;a++){for(var o=this.props.data[this.dataindex][a],i=!1,l=0;l<r.length;l++)if(o[this.idfield]==r[l]){i=!0;break}if(i){var s=o;if(s.definedOnServer)return e.setState({confirmdeleteshow:!1}),void alertify.error(DWKitAdminLang.codeaction.defineonserverblockdeletemsg);s.__type=this.datatype,s.__state="deleted",n.push(s)}else t.push(o)}this.ChangeData(n,function(){e.props.data[e.dataindex]=t,e.setState({selectedIndexes:[],confirmdeleteshow:!1})})}}]),h);function h(e){c(this,h);var n=d(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,e));return n.recompileAll=function(){var t=n,e=[];e.push({name:"operation",value:"recompileall"}),$.ajax({url:n.props.apiUrl,data:e,async:!0,type:"post",success:function(e){e.success?(alertify.success(DWKitAdminLang.msg.recompiled),null!==e.result&&void 0!==e.result&&(t.props.parent.state.data.additionalParams.CodeActionErrors=e.result.CodeActionErrors,t.props.parent.forceUpdate())):alertify.error(e.message)}})},n.dataindex="codeActions",n.panelindex="codeactions",n.defaultNamePrefix="",n.idfield="id",n.title=DWKitAdminLang.codeaction.title,n.titleGetter=function(e){return e.codeaction.title},n.datatype="codeactions",n.editform=s.default,n}t.default=p;var m=(f(v,o.default.Component),r(v,[{key:"render",value:function(){var e=this.props.value,t=this.props.parent.props,n=null!=t.data.additionalParams&&null!=t.data.additionalParams.CodeActionErrors?t.data.additionalParams.CodeActionErrors:void 0,r=this.props.dependentValues;return null!=n&&n.hasOwnProperty(this.props.parent.getTypeName(r.type)+"_"+r.name)?o.default.createElement("span",{style:{color:"red"}},o.default.createElement("div",{title:e},e)):o.default.createElement("span",null,o.default.createElement("div",{title:e},e))}},{key:"decapitalizeFirstLetter",value:function(e){return e.charAt(0).toLowerCase()+e.slice(1)}}]),v);function v(e){return c(this,v),d(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,e))}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=l(n(0)),a=n(1),i=l(n(3));function l(e){return e&&e.__esModule?e:{default:e}}var s,u,c,d=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":R(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(f,l(n(4)).default),s=f,(u=[{key:"validate",value:function(){return this.props.parent.validate()}},{key:"componentDidMount",value:function(){this.redrawEditor()}},{key:"redrawEditor",value:function(){var e=this,t=null==this.props.data?[]:this.props.data,n=($(window).width(),$(window).height(),ace.edit("dwkit-admin-codeactions-editcode"));n.getSession().setMode("ace/mode/csharp"),null!=t.source&&n.setValue(t.source,-1),this.props.parent.props.autocomplete&&(new WorkflowDesignerAutocompleter).enableAceEditor({editor:n,getUsingsCallback:function(){return e.props.data.usings},getVariablesCallback:function(){switch(e.props.data.type){case 0:return[{name:"model",type:"OptimaJet.DWKit.Core.Model.EntityModel"},{name:"entities",type:"System.Collections.Generic.List",typeArguments:["dynamic"]},{name:"options",type:"dynamic"}];case 1:return[{name:"request",type:"dynamic"}];case 2:return[{name:"model",type:"OptimaJet.DWKit.Core.Model.EntityModel"},{name:"entities",type:"System.Collections.Generic.List<dynamic>"},{name:"options",type:"dynamic"},{name:"context",type:"OptimaJet.DWKit.Core.TriggerExecutionContext"}]}return[]}})}},{key:"render",value:function(){this.validate();var e=this.props.data;return o.default.createElement("div",null,o.default.createElement("div",{className:"dwkitadmin-toolbar-editform"},o.default.createElement(a.Breadcrumb,null,o.default.createElement(a.Breadcrumb.Section,{onClick:this.props.parent.back.bind(this.props.parent),link:!0},DWKitAdminLang.codeaction.title),o.default.createElement(a.Breadcrumb.Divider,null),o.default.createElement(a.Breadcrumb.Section,{active:!0},e.name)),o.default.createElement("div",{className:"dwkitadmin-toolbar-editform"},o.default.createElement(a.Button,{className:"buttontype2",onClick:this.onCompile.bind(this)},DWKitAdminLang.button.compile),o.default.createElement(a.Button,{className:"buttontype1",onClick:this.onSave.bind(this)},DWKitAdminLang.button.save),o.default.createElement(a.Button,{className:"buttontype2",onClick:this.onCancel.bind(this)},DWKitAdminLang.button.cancel)),o.default.createElement("h1",null,this.props.parent.title),o.default.createElement(a.Form,null,o.default.createElement(a.Form.Group,{widths:"equal"},o.default.createElement(a.Form.Input,{name:"name",label:DWKitAdminLang.field.name,error:Boolean(e.__error.name),value:e.name,onChange:this.handleChange.bind(this,e)}),o.default.createElement("div",{className:"field"},o.default.createElement("label",null,DWKitAdminLang.field.type),o.default.createElement(a.Form.Group,{widths:"equal"},o.default.createElement(a.Form.Radio,{name:"type",label:"Filter",value:0,checked:0===e.type,onChange:this.handleChange.bind(this,e)}),o.default.createElement(a.Form.Radio,{name:"type",label:"Action",value:1,checked:1===e.type,onChange:this.handleChange.bind(this,e)}),o.default.createElement(a.Form.Radio,{name:"type",label:"Trigger",value:2,checked:2===e.type,onChange:this.handleChange.bind(this,e)}),o.default.createElement(a.Form.Checkbox,{name:"isAsync",label:"IsAsync",checked:e.isAsync,onChange:this.handleChange.bind(this,e)})))),o.default.createElement(a.Form.Group,{widths:"equal"},o.default.createElement(a.Form.TextArea,{rows:6,name:"usings",label:DWKitAdminLang.codeaction.usingsfield,value:e.usings,onChange:this.handleChange.bind(this,e)}),o.default.createElement(a.Form.TextArea,{rows:6,name:"comment",label:DWKitAdminLang.field.comment,value:e.comment,onChange:this.handleChange.bind(this,e)}))),o.default.createElement("span",null,this.getDefine(e.name,e.type,e.isAsync)),o.default.createElement("div",{id:"dwkit-admin-codeactions-editcode",style:{height:"415px"}}),this.state.message&&o.default.createElement(a.TextArea,{className:"dwkit-admin-codeactions-result",readOnly:!0,value:this.state.message})),o.default.createElement(a.Modal,{open:this.state.showConfirmRebuild,onClose:this.confirmNoHandler},o.default.createElement(a.Modal.Header,null,DWKitAdminLang.form.messagetitle),o.default.createElement(a.Modal.Content,null,o.default.createElement("p",null,DWKitAdminLang.msg.recompiledialog)),o.default.createElement(a.Modal.Actions,null,o.default.createElement(a.Button,{className:"buttontype1",content:DWKitAdminLang.button.yes,onClick:this.confirmYesHandler}),o.default.createElement(a.Button,{className:"buttontype2",content:DWKitAdminLang.button.no,onClick:this.confirmNoHandler}))))}},{key:"onSave",value:function(){var t=this,e=ace.edit("dwkit-admin-codeactions-editcode").getValue(),n=this.props.data;n.source=e;var r=this.props.parent.getEditRow(),a=r.source!==n.source||r.name!==n.name||r.type!==n.type||r.isAsync!==n.isAsync;this.setUpdatedState(n),this.props.onSave.bind(this.props.parent)(function(e){a&&t.setState({showConfirmRebuild:!0})})}},{key:"onCancel",value:function(){this.props.onCancel.bind(this.props.parent)(),this.redrawEditor()}},{key:"handleChange",value:function(e,t,n){var r=n.name,a=n.value,o=n.checked;if(e[r],e[r]=null==a?o:a,"type"===r){var i=this.getDefaultCodeByType(a);ace.edit("dwkit-admin-codeactions-editcode").setValue(i,-1)}this.setUpdatedState(this.props.data),this.forceUpdate()}},{key:"onCompile",value:function(){var t=this,e=ace.edit("dwkit-admin-codeactions-editcode").getValue();this.props.data.source=e;var n=new Array;n.push({name:"operation",value:"compile"}),n.push({name:"item",value:i.default.stringify(this.props.data)}),$.ajax({url:t.props.apiUrl,data:n,async:!0,type:"post",success:function(e){e.success?(alertify.success(DWKitAdminLang.msg.compileok),t.setState({message:void 0})):(alertify.error(e.message),t.setState({message:e.message}))}})}},{key:"getDefaultUsings",value:function(){return"System;\nSystem.Collections;\nSystem.Collections.Generic;\nSystem.Linq;\nSystem.Threading;\nSystem.Threading.Tasks;\nOptimaJet.Workflow;\nOptimaJet.Workflow.Core.Runtime;\nOptimaJet.Workflow.Core.Model;\nOptimaJet.DWKit.Core;\nOptimaJet.DWKit.Core.Model;"}},{key:"getDefaultCodeByType",value:function(e,t){var n="";return 0==e?n="//TODO: Replace the emplty filter to your filter;\nreturn Filter.Empty;":1==e?n="//TODO: Call your actons;\nreturn null;":2==e&&(n="//TODO: Check your trigger;\nreturn TriggerResult.Success();"),n}},{key:"getDefine",value:function(e,t,n){var r="",a="";return null==e&&(e="____"),0==t?(r=n?"public static async Task<Filter>":"public static Filter",a="(EntityModel model, List<dynamic> entities, dynamic options)"):1==t?(r=n?"public static async Task<object>":"public static object",a="(dynamic request)"):2==t&&(r=n?"public static async Task<TriggerResult>":"public static TriggerResult",a="(EntityModel model, List<dynamic> entities, TriggerExecutionContext context, dynamic options)"),o.default.createElement("span",{className:"dwkit-admin-codeactions-define"},r," ",o.default.createElement("span",{className:"dwkit-admin-codeactions-definefunctionname"},e),a)}}])&&r(s.prototype,u),c&&r(s,c),f);function f(e){!function(e){if(!(e instanceof f))throw new TypeError("Cannot call a class as a function")}(this);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":R(t))&&"function"!=typeof t?e:t}(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,e));return t.confirmYesHandler=function(){t.setState({showConfirmRebuild:!1}),t.props.parent.recompileAll()},t.confirmNoHandler=function(){t.setState({showConfirmRebuild:!1})},t.state={},"inserted"===e.data.__state&&null==e.data.type&&(e.data.type=0,e.data.usings=t.getDefaultUsings(),e.data.source=t.getDefaultCodeByType(e.data.type,e.data.isAsync)),t}t.default=d},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}i(n(0)),i(n(2)),n(1),i(n(3));var a=i(n(7)),o=i(n(70));function i(e){return e&&e.__esModule?e:{default:e}}var l,s,u,c=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":R(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(d,a.default),l=d,(s=[{key:"gridColumns",value:function(){return[{key:"name",name:DWKitAdminLang.column.name,resizable:!0},{key:"isTemplate",name:DWKitAdminLang.column.template,resizable:!0,type:"checkbox"}]}}])&&r(l.prototype,s),u&&r(l,u),d);function d(e){!function(e){if(!(e instanceof d))throw new TypeError("Cannot call a class as a function")}(this);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":R(t))&&"function"!=typeof t?e:t}(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,e));return t.editform=o.default,t.dataindex="forms",t.idfield="name",t.panelindex="forms",t.datatype="form",t.title=DWKitAdminLang.form.title,t.titleGetter=function(e){return e.form.title},t.ignoreidcase=!0,t}t.default=c},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var l=d(n(0)),s=(d(n(2)),n(1)),i=n(21),a=d(n(72)),u=d(n(3)),c=d(n(4));function d(e){return e&&e.__esModule?e:{default:e}}var f,p,h,m={icon:"browser"},v={icon:"server"},g={icon:"lightning"},y=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":R(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(b,c.default),f=b,(p=[{key:"componentDidMount",value:function(){this.state.id!==this.props.data.name&&this.loadform()}},{key:"loadform",value:function(){var n=this,t=!1;if(n.state.id=n.props.data.name,this.props.metadata.forms.forEach(function(e){e.name===n.props.data.name&&(t=!0)}),!t)return this.props.data.__state="inserted",void(null!=n.builder&&n.builder.create());var e=new Array;e.push({name:"operation",value:"loadform"}),e.push({name:"name",value:n.props.data.name}),$.ajax({url:n.props.apiUrl,data:e,async:!0,type:"post",success:function(e){if(e.success){var t=JSON.parse(e.item.source);null!=n.builder&&n.builder.loadData(t),n.setState({actionHandlers:e.item.actionHandlers}),n.forceUpdate()}else alertify.error(e.message)}})}},{key:"messageClose",value:function(){this.setState({message:void 0})}},{key:"getForm",value:function(e){Pace.start();var t=new Array;t.push({name:"operation",value:"loadform"}),t.push({name:"name",value:e});var n=$.ajax({url:this.props.apiUrl,data:t,async:!1,type:"post"}).responseJSON;Pace.stop();var r=void 0;if(n.success)if(null!=n.item&&null!=n.item.source)r=u.default.parse(n.item.source);else{var a="Builder: Incorrect source of '"+e+"' form!";alertify.error(a)}else alertify.error(n.message);return r}},{key:"getFormList",value:function(){var t=[];return this.props.metadata.forms.forEach(function(e){t.push(e.name)}),t}},{key:"getTemplateList",value:function(){var t=this,n=[];return this.props.metadata.forms.forEach(function(e){e.isTemplate&&e.name!==t.props.data.name&&n.push(e.name)}),n}},{key:"getAdditionalDataForControl",value:function(e,t,n){var r=t.startIndex,a=t.pageSize,o=(t.filters,t.sort,t.model);if("dictionary"===e.props["data-buildertype"]||"treepicker"===e.props["data-buildertype"]){for(var i=[],l=0;l<3;l++){var s={};s.key=o+"_"+l,s.text=o+"_"+l,s.value=l,i.push(s)}n({items:i})}else{var u=[];if(Array.isArray(e.props.columns))for(var c=function(t){var n={};e.props.columns.forEach(function(e){n[e.key]=e.key+"_"+(Number(r)+Number(t))}),u.push(n)},d=0;d<a;d++)c(d);else u.push({}),u.push({}),u.push({}),u.push({}),u.push({});var f=u.length;n({startIndex:r,pageSize:a,rowsCount:f,items:u})}}},{key:"render",value:function(){var e=this;this.state.id!==this.props.data.name&&this.loadform();var t=[];function n(){e.setState({workflowopen:!1})}function r(){e.setState({securityopen:!1})}this.props.metadata.workflow.forEach(function(e){t.push({text:e.code,value:e.code})});var a=null!=this.state.message,o=this.state.showbuilder?"":"dwkit-formbuilder-selector-preview",i=this.state.isFullScreen?"dwkit-admin-formbuilder-container-fullscreen":"dwkit-admin-formbuilder-container";return l.default.createElement("div",null,l.default.createElement("div",null,l.default.createElement("div",{className:"dwkit-admin-formheader-breadcrumb"},l.default.createElement(s.Breadcrumb,null,l.default.createElement(s.Breadcrumb.Section,{onClick:this.props.parent.back.bind(this.props.parent),link:!0},DWKitAdminLang.form.title),l.default.createElement(s.Breadcrumb.Divider,null),l.default.createElement(s.Breadcrumb.Section,{active:!0},this.props.data.name),l.default.createElement(s.Breadcrumb.Divider,{icon:"right angle"}),l.default.createElement(s.Breadcrumb.Section,{href:"?apanel=formdata&aid="+this.state.id,onClick:this.openDataMap.bind(this)},DWKitAdminLang.form.datamap),l.default.createElement(s.Breadcrumb.Divider,null),l.default.createElement(s.Breadcrumb.Section,{href:"?apanel=actionhandlers&aid="+this.state.id,onClick:this.openActionHandlers.bind(this)},DWKitAdminLang.form.actionhandler))),l.default.createElement("div",{className:"dwkit-admin-formheader-parameters"},l.default.createElement(s.Checkbox,{name:"isTemplate",label:DWKitAdminLang.form.template,checked:this.props.data.isTemplate,onChange:this.handleChange.bind(this)}))),l.default.createElement("div",{id:"formbuildercontainer",className:i},l.default.createElement("div",null,l.default.createElement("div",{className:"dwkit-admin-form-buttons"},l.default.createElement(s.Button,{className:"buttontype1",onClick:this.onSave.bind(this)},DWKitAdminLang.button.save),l.default.createElement(s.Button,{className:"buttontype2",onClick:this.onDownload.bind(this)},DWKitAdminLang.button.download),l.default.createElement(s.Button,{className:"buttontype2",onClick:this.onUpload.bind(this)},DWKitAdminLang.button.upload),l.default.createElement(s.Button,{className:"buttontype2",onClick:function(){e.setState({workflowopen:!0})}},DWKitAdminLang.button.workflow),l.default.createElement(s.Button,{className:"buttontype2",onClick:function(){e.setState({securityopen:!0})}},DWKitAdminLang.button.security),l.default.createElement("div",{style:{display:"inline",float:"right"}},l.default.createElement("div",{className:"dwkit-formbuilder-selector"},l.default.createElement("span",{className:o},DWKitAdminLang.form.viewer),l.default.createElement(s.Checkbox,{toggle:!0,name:"cbShowDropzones",label:DWKitAdminLang.form.builder,checked:this.state.showbuilder,onChange:this.handlePreviewClick.bind(this)})),l.default.createElement(s.Button,{className:"buttontype2",onClick:this.onFullscreen.bind(this)},DWKitAdminLang.form.fullscreenbutton),l.default.createElement(s.Button,{className:"buttontype2",disabled:!this.state.showbuilder,onClick:this.onClearForm.bind(this)},DWKitAdminLang.form.clearformbutton))),l.default.createElement("form",{action:"",id:"dwkitadmin-form-uploadform",method:"post",style:{display:"none"},encType:"multipart/form-data",onSubmit:this.onEmpty.bind(this)},l.default.createElement("input",{type:"file",name:"dwkitadmin-form-uploadfile",id:"dwkitadmin-form-uploadfile",onChange:this.onUpload_onchange.bind(this)})),this.renderBuilder(),this.renderViewer(),l.default.createElement(s.Modal,{dimmer:"blurring",open:a,onClose:this.messageClose.bind(this)},l.default.createElement(s.Modal.Header,null,DWKitAdminLang.form.messagetitle),l.default.createElement(s.Modal.Content,null,l.default.createElement("p",null,this.state.message)),l.default.createElement(s.Modal.Actions,null,l.default.createElement(s.Button,{icon:"check",content:DWKitAdminLang.button.ok,onClick:this.messageClose.bind(this)}))),l.default.createElement(s.Modal,{dimmer:"blurring",open:this.state.workflowopen,onClose:n},l.default.createElement(s.Modal.Header,null,DWKitAdminLang.form.workflowwindowtitle),l.default.createElement(s.Modal.Content,null,l.default.createElement("p",null,DWKitAdminLang.form.workflowinfoblock),l.default.createElement(s.Form.Dropdown,{label:DWKitAdminLang.form.workflowschemesfield,name:"schemes",multiple:!0,search:!0,selection:!0,options:t,value:null==this.props.data.schemes?[]:this.props.data.schemes,onChange:this.handleChange.bind(this)})),l.default.createElement(s.Modal.Actions,null,l.default.createElement(s.Button,{className:"buttontype1",content:DWKitAdminLang.button.apply,onClick:n}))),l.default.createElement(s.Modal,{dimmer:"blurring",open:this.state.securityopen,onClose:r},l.default.createElement(s.Modal.Header,null,DWKitAdminLang.form.securitywindowtitle),l.default.createElement(s.Modal.Content,null,l.default.createElement("p",null,DWKitAdminLang.form.securityinfoblock),l.default.createElement(s.Form.Input,{label:DWKitAdminLang.form.permissionsgroupfield,name:"securityGroup",value:this.props.data.securityGroup,onChange:this.handleChange.bind(this)})),l.default.createElement(s.Modal.Actions,null,l.default.createElement(s.Button,{className:"buttontype1",content:DWKitAdminLang.button.apply,onClick:r}))))))}},{key:"renderBuilder",value:function(){var t=this,e=[];if(this.state.actionHandlers&&(e=this.state.actionHandlers.map(function(e){return o({},g,{text:e})})),this.props.parent.props.controlActions){var n=this.props.parent.props.controlActions.map(function(e){return"string"==typeof e?o({},m,{text:e}):e});e=e.concat(n.filter(function(t){return e.every(function(e){return e.text!==t.text})}))}if(this.props.parent.props.data&&this.props.parent.props.data.codeActions){var r=this.props.parent.props.data.codeActions.filter(function(e){return 1===e.type});e=e.concat(r.filter(function(t){return e.every(function(e){return e.text!==t.name})}).map(function(e){return o({},v,{text:e.name})}))}e.sort(function(e,t){return e.text.localeCompare(t.text)});var a={};return this.state.showbuilder||(a.style={display:"none"}),l.default.createElement("div",a,l.default.createElement(i.DWKitFormBuilder,{formName:this.state.id,actions:e,getFormFunc:this.getForm.bind(this),getFormList:this.getFormList.bind(this),getAdditionalDataForControl:this.getAdditionalDataForControl.bind(this),ref:function(e){t.builder=e},localization:window.DWKitAdminLang.formbuilder,templates:this.getTemplateList(),externalControlList:this.props.externalControlList,externalControlRender:this.props.externalControlRender,externalControlsOnly:this.props.externalControlsOnly}))}},{key:"renderViewer",value:function(){var e={name:this.state.id};return this.state.showbuilder&&(e.style={display:"none"}),l.default.createElement("div",e,l.default.createElement(a.default,{name:this.state.id,model:this.state.viewerModel,getFormFunc:this.getForm.bind(this),getAdditionalDataForControl:this.getAdditionalDataForControl.bind(this),externalControlList:this.props.externalControlList,externalControlRender:this.props.externalControlRender}))}},{key:"openDataMap",value:function(e){this.props.parent.props.parent.openpage("formdata",this.state.id),e.preventDefault()}},{key:"openActionHandlers",value:function(e){this.props.parent.props.parent.openpage("actionhandlers",this.state.id),e.preventDefault()}},{key:"onClearForm",value:function(){this.builder.create()}},{key:"onSave",value:function(){var t=this;this.props.data.source=JSON.stringify(this.builder.getData()),t.setUpdatedState(this.props.data),this.props.data.__type=this.props.parent.datatype,this.ChangeData([this.props.data],function(e){t.props.data.__state,t.ResetSystemProps(t.props.data),t.props.parent.applyeditrow()})}},{key:"onDownload",value:function(){this.builder.download()}},{key:"onUpload",value:function(){$("#dwkitadmin-form-uploadfile").trigger("click")}},{key:"onUpload_onchange",value:function(){this.builder.upload($("#dwkitadmin-form-uploadfile")[0],function(){alertify.success(DWKitAdminLang.msg.fileupoaded)})}},{key:"onFullscreen",value:function(){this.setState({isFullScreen:!this.state.isFullScreen})}},{key:"handleShowDropzonesClick",value:function(e,t){t.name;var n=t.checked;this.builder.setBuilderMode(n),this.setState({dropzoneactive:n})}},{key:"handlePreviewClick",value:function(e,t){t.name;var n=t.checked;this.setState({showbuilder:n,viewerModel:n?[]:this.builder.getData()})}},{key:"handleChange",value:function(e,t){var n=t.name,r=t.value,a=t.checked;this.props.data[n]=void 0!==a?a:r,this.forceUpdate()}},{key:"onEmpty",value:function(){}}])&&r(f.prototype,p),h&&r(f,h),b);function b(e){!function(e){if(!(e instanceof b))throw new TypeError("Cannot call a class as a function")}(this);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":R(t))&&"function"!=typeof t?e:t}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,e));return t.state={dropzoneactive:!0,actionHandlers:[],showbuilder:!0},t}t.default=y},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=c(n(0)),i=(c(n(2)),n(21)),l=n(1),s=c(n(3)),u=c(n(73));function c(e){return e&&e.__esModule?e:{default:e}}var d,f,p,h=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":R(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(m,o.default.Component),d=m,(f=[{key:"setData",value:function(e){this.setState({data:s.default.stringify(e,null,4)})}},{key:"setModel",value:function(e){this.setState({model:e})}},{key:"render",value:function(){var e=this,t=[],n=void 0;try{t=s.default.parse(this.state.data),null==this.state.errors&&""!=this.state.errors||(n=s.default.parse(this.state.errors))}catch(e){}return o.default.createElement(u.default,{style:{display:"flex"},sizes:[75,25],onDrag:function(){return e.forceUpdate()}},o.default.createElement(l.Segment,{style:{overflow:"auto"}},o.default.createElement(i.DWKitForm,{model:this.props.model,data:t,errors:n,eventFunc:this.eventFunc.bind(this),dataChanged:this.formDataChaged.bind(this),getFormFunc:this.props.getFormFunc,getAdditionalDataForControl:this.props.getAdditionalDataForControl,externalControlList:this.props.externalControlList,externalControlRender:this.props.externalControlRender,adaptiveViewType:this.state.adaptiveViewType})),o.default.createElement("div",null,o.default.createElement("div",null,o.default.createElement(l.Checkbox,{style:{marginRight:"10px"},radio:!0,name:"adaptiveViewTypeDesktop",label:"Desktop",checked:"desktop"==this.state.adaptiveViewType,onChange:function(){e.setState({adaptiveViewType:"desktop"})}}),o.default.createElement(l.Checkbox,{radio:!0,name:"adaptiveViewTypeMobile",label:"Mobile",checked:"mobile"==this.state.adaptiveViewType,onChange:function(){e.setState({adaptiveViewType:"mobile"})}})),o.default.createElement("h3",null,"Data"),o.default.createElement(l.TextArea,{rows:12,wrap:"off",style:{width:"100%"},onChange:this.handleChange.bind(this),value:this.state.data}),o.default.createElement("h3",null,"Errors"),o.default.createElement(l.TextArea,{rows:4,wrap:"off",style:{width:"100%"},onChange:this.handleChangeErrors.bind(this),value:this.state.errors}),o.default.createElement("h3",null,"Events"),o.default.createElement(l.TextArea,{rows:12,wrap:"off",style:{width:"100%"},readOnly:!0,value:this.state.eventslog})))}},{key:"eventFunc",value:function(e){if("onChange"!=e.eventName||!Array.isArray(e.actions)||1!=e.actions.length||"checkConditions"!=e.actions[0]){e.syntheticEvent=void 0,e.component=void 0,e.controlRef=void 0,e.sourceEvent=void 0;var t=this.state.eventslog,n="";0<t.length&&(n="\n"),t=(new Date).toLocaleTimeString()+": "+s.default.stringify(r({},e,{e:void 0,sourceControlRef:void 0}))+n+t,this.setState({eventslog:t})}}},{key:"formDataChaged",value:function(e,t){t.key,t.value;var n=s.default.stringify(e.state.data,null,4);this.saveObjToStorage("data",n),this.setState({data:n})}},{key:"handleChange",value:function(e,t){var n=t.value;this.saveObjToStorage("data",n),this.setState({data:n})}},{key:"handleChangeErrors",value:function(e,t){var n=t.value;this.saveObjToStorage("errors",n),this.setState({errors:n})}},{key:"saveObjToStorage",value:function(e,t){window.localStorage&&localStorage.setItem(this.props.name+"_"+e,t)}},{key:"getObjToStorage",value:function(e){return window.localStorage&&localStorage.getItem(this.props.name+"_"+e)||"{\n\t\n}"}}])&&a(d.prototype,f),p&&a(d,p),m);function m(e){!function(e){if(!(e instanceof m))throw new TypeError("Cannot call a class as a function")}(this);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":R(t))&&"function"!=typeof t?e:t}(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,e));return t.state={adaptiveViewType:"desktop",data:t.getObjToStorage("data"),errors:t.getObjToStorage("errors"),eventslog:""},t}t.default=h},function(e,t){e.exports=C},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});function r(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=s(n(0)),i=(s(n(2)),n(1),s(n(3)),s(n(7))),l=s(n(75));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":R(t))&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":R(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var f=(d(p,i.default),r(p,[{key:"gridColumns",value:function(){var e=void 0;return null!=this.props.data.additionalParams&&null!=this.props.data.additionalParams.FormMappingErrors&&(e=this.props.data.additionalParams.FormMappingErrors),[{key:"name",name:DWKitAdminLang.column.name,resizable:!0,formatter:o.default.createElement(h,{data:this.props.data[this.dataindex],errors:e,parent:this}),getRowMetaData:function(e){return e}}]}}]),p);function p(e){u(this,p);var t=c(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,e));return t.editform=l.default,t.dataindex="forms",t.idfield="name",t.panelindex="formdata",t.datatype="form",t.title=DWKitAdminLang.datamap.title,t.titleGetter=function(e){return e.datamap.title},t.hidebuttons=!0,t.ignoreidcase=!0,t}t.default=f;var h=(d(m,o.default.Component),r(m,[{key:"render",value:function(){var e=this.props.value,t=this.props.errors;return this.props.dependentValues,null!=t&&t.includes(e)?o.default.createElement("span",{style:{color:"red"}},o.default.createElement("div",{title:e},e)):o.default.createElement("span",null,o.default.createElement("div",{title:e},e))}},{key:"decapitalizeFirstLetter",value:function(e){return e.charAt(0).toLowerCase()+e.slice(1)}}]),m);function m(e){return u(this,m),c(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,e))}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var h=o(n(0)),a=o(n(4)),m=n(1),v=o(n(3)),g=o(n(76)),y=o(n(77)),b=o(n(30)),w=o(n(16)),s=n(17),k=o(n(78));function o(e){return e&&e.__esModule?e:{default:e}}var i,l,u,c,d=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":R(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(f,a.default),l=f,(u=[{key:"scroll",value:(i=function(e){var t=$(window).scrollTop();$(window).scrollTop(t+e),stop||setTimeout(function(){scroll(e)},20)},E.toString=function(){return i.toString()},E)},{key:"render",value:function(){var t=this;if(this.state.id!=this.props.data.name)return this.setForm(this.props.data.name),null;for(var e=[{text:"...",value:""}],n=this.props.metadata.dataModel,r=0;r<n.length;r++){var a=n[r];e.push({text:a.name,value:a.id})}for(var o=this.props.metadata.codeActions,i=[{text:"...",value:""}],l=[],s=[{text:"...",value:""}],u=0;u<o.length;u++){var c=o[u];0===c.type?i.push({text:c.name,value:c.name}):1===c.type?s.push({text:c.name,value:c.name}):2===c.type&&l.push({text:c.name,value:c.name})}this.state.form.triggers||(this.state.form.triggers=[]),this.validate();var d=this.getTriggerTypes(),f=!this.state.form.dataSourceType;return h.default.createElement("div",{className:"dwkitadmin-formmapping",onDragOver:this.onDragOver},h.default.createElement(m.Breadcrumb,null,h.default.createElement(m.Breadcrumb.Section,{onClick:this.props.parent.back.bind(this.props.parent),link:!0},DWKitAdminLang.datamap.title),h.default.createElement(m.Breadcrumb.Divider,null),h.default.createElement(m.Breadcrumb.Section,{active:!0},this.props.data.name),h.default.createElement(m.Breadcrumb.Divider,{icon:"right angle"}),h.default.createElement(m.Breadcrumb.Section,{href:"?apanel=forms&aid="+this.state.id,onClick:this.openBuilder},DWKitAdminLang.datamap.builder),h.default.createElement(m.Breadcrumb.Divider,null),h.default.createElement(m.Breadcrumb.Section,{href:"?apanel=actionhandlers&aid="+this.state.id,onClick:this.openActionHandlers},DWKitAdminLang.datamap.actionhandler)),h.default.createElement("div",{className:"dwkit-admin-form-buttons"},h.default.createElement(m.Button,{className:"buttontype1",onClick:this.onSave.bind(this)},DWKitAdminLang.button.save),f&&h.default.createElement(m.Button,{className:"buttontype2",onClick:this.onAutoMapping},DWKitAdminLang.datamap.automappingbutton),f&&h.default.createElement(m.Button,{className:"buttontype2",onClick:this.onResetMapping},DWKitAdminLang.datamap.resetmappingbutton),f&&h.default.createElement(m.Button,{className:"buttontype2",onClick:this.onGenerateDataModel},DWKitAdminLang.datamap.generatedatamodelbutton)),this.getWarning(),h.default.createElement("div",{className:"dwkitadmin-formmapping-left"},h.default.createElement("div",{className:"dwkitadmin-formmapping-block"},h.default.createElement(y.default,{form:this.state.form,entities:e,actions:s,parent:this}))),f&&h.default.createElement("div",{className:"dwkitadmin-formmapping-right"},h.default.createElement("label",null,"Controls"),h.default.createElement(g.default,{formsource:this.state.source,form:this.state.form,parent:this})),f&&h.default.createElement("div",{className:"dwkitadmin-formmapping-triggers"},h.default.createElement("h1",null,DWKitAdminLang.datamap.mainentitytriggers),h.default.createElement("div",{className:"field",widths:"16"},h.default.createElement(m.Form,null,h.default.createElement(w.default,{data:this.state.form.triggers,dataMap:this.state.form.dataMap,types:d,codeactions:l})))),f&&h.default.createElement("div",{style:{clear:"both"}},h.default.createElement(b.default,{form:this.state.form,entities:e,codeactions:i,parent:this,formsource:this.state.source,codeActionsTriggers:l})),null!==this.state.analyzeReport&&h.default.createElement(m.Modal,{open:this.state.analyzeReport,onClose:this.onCloseAnalyzeReport},h.default.createElement(m.Modal.Header,null,DWKitAdminLang.datamap.formanalyzereport),h.default.createElement(m.Modal.Content,null,null!==this.state.analyzeReport.mainDataModel&&h.default.createElement("div",null,h.default.createElement("h2",null,DWKitAdminLang.datamap.mainentitydatamodel),h.default.createElement(k.default,p({onModelPropertyChange:this.onModelPropertyChange,onAttributePropertyChange:this.onAttributePropertyChange,metadata:this.props.metadata},this.state.analyzeReport.mainDataModel,{report:this.state.analyzeReport})),0<this.state.analyzeReport.collectionDataModels.length&&h.default.createElement("div",null,h.default.createElement("h2",null,DWKitAdminLang.datamap.collectiondatamodels),this.state.analyzeReport.collectionDataModels.map(function(e){return h.default.createElement(k.default,p({onModelPropertyChange:t.onModelPropertyChange},e,{onAttributePropertyChange:t.onAttributePropertyChange,metadata:t.props.metadata,report:t.state.analyzeReport}))})))),h.default.createElement(m.Modal.Actions,null,h.default.createElement(m.Button,{className:"buttontype1",content:DWKitAdminLang.datamap.generatedatamodelbutton,onClick:this.onApplyAnalyzeReport}),h.default.createElement(m.Button,{className:"buttontype2",content:DWKitAdminLang.button.close,onClick:this.onCloseAnalyzeReport}))))}},{key:"validateReportItem",value:function(n,r){var a=this;n.errors={attributes:{}};var t=n.dataModel;if(!t.applyChanges)return!0;var o=!0;t.name?(n.errors.duplicateName=this.props.metadata.dataModel.some(function(e){return e.name.toLowerCase()===t.name.toLowerCase()}),o&=!n.errors.duplicateName,n.errors.duplicateNameInReport=r.filter(function(e){return e.name}).some(function(e){return e.name.toLowerCase()===t.name.toLowerCase()&&e.id!==t.id}),o&=!n.errors.duplicateNameInReport):(n.errors.name=!0,o=!1);var i=t.attributes.filter(function(e){return e.applyChanges});return i.forEach(function(t){var e={};n.errors.attributes[t.id]=e,t.name?(e.duplicateName=i.some(function(e){return e.name===t.name&&e.id!==t.id}),o&=!e.duplicateName):(e.name=!0,o=!1),1===t.typeId&&(t.referenceEntityId?(e.noReference=!a.props.metadata.dataModel.some(function(e){return e.id===t.referenceEntityId})&&!r.some(function(e){return e.id===t.referenceEntityId}),o&=!e.noReference):(e.noReference=!0,o=!1))}),o}},{key:"validateReport",value:function(e){var t=this,n=e.collectionDataModels.filter(function(e){return e.dataModel.applyChanges}).map(function(e){return e.dataModel});e.mainDataModel.dataModel.applyChanges&&n.push(e.mainDataModel.dataModel);var r=this.validateReportItem(e.mainDataModel,n);return e.collectionDataModels.forEach(function(e){r&=t.validateReportItem(e,n)}),r}},{key:"getTriggerTypes",value:function(){return null!==this.state.form.entityId&&void 0!==this.state.form.entityId&&""!==this.state.form.entityId?["Validate","AfterSelect","BeforeInsert","AfterInsert","BeforeUpdate","AfterUpdate","BeforeDelete","AfterDelete","BeforeTransaction","AfterTransaction","BeforeBatch","AfterBatch","AfterNew","AfterCopy"]:["Validate","BeforeTransaction","AfterTransaction","BeforeBatch","AfterBatch"]}},{key:"onDragStart",value:function(e,t){t.dataTransfer.setData("controlkey",e),$(".dwkit-formmapping-zone").addClass("dwkit-formmapping-zone-active").on("dragenter",this.onTargetDragEnter.bind(this,e,"dwkit-formmapping-zone-select")).on("dragleave",this.onTargetDragLeave.bind(this,e,"dwkit-formmapping-zone-select")).on("dragover",function(e){e.preventDefault()}).on("drop",this.onDrop.bind(this,e))}},{key:"onTargetDragEnter",value:function(e,t,n){$(n.target).addClass(t)}},{key:"onTargetDragLeave",value:function(e,t,n){$(n.target).removeClass(t)}},{key:"onDragEnd",value:function(e){var t=$(".dwkit-formmapping-zone");t.removeClass("dwkit-formmapping-zone-active"),t.removeClass("dwkit-formmapping-zone-select"),t.off()}},{key:"onDoubleClick",value:function(t){this.state.form.dataMap.forEach(function(e){if(e.control==t)return e.control=void 0,!1}),this.state.form.dataColl.forEach(function(e){if(e.control==t)return e.control=void 0,!1}),this.forceUpdate()}},{key:"onDrop",value:function(t,e){var n=$(e.target);if(0<n.length){if(null==n[0].attributes["data-id"])this.state.form.dataMap.forEach(function(e){if(e.control==t)return e.control=void 0,!1}),this.state.form.dataColl.forEach(function(e){if(e.control==t)return e.control=void 0,!1});else{var r=n[0].attributes["data-id"].value;this.state.form.dataMap.forEach(function(e){e.control==t&&(e.control=void 0),e.id==r&&(e.control=t,e.isLoadable=!0)}),this.state.form.dataColl.forEach(function(e){e.control==t&&(e.control=void 0),e.id==r&&(e.control=t)})}this.forceUpdate()}return this.onDragEnd(t),!1}},{key:"redirectToFormEdit",value:function(){this.props.parent.openpage("forms")}},{key:"validate",value:function(){var t=this,n=!0,e=this.state.form;if(null==e)return!1;var r=DWKitAdminLang.msg.fieldrequired;return e.__error={},n&=null==e.__error.entityId,null!=e.dataColl&&e.dataColl.forEach(function(e){e.__error={entityId:null==e.entityId||""==e.entityId||e.entityId==t.GuidEmpty()?r:void 0},n&=null==e.__error.entityId,void 0!==e.triggers&&null!==e.triggers&&e.triggers.forEach(function(e){e.__error={triggers:Array.isArray(e.triggers)&&0<e.triggers.length?void 0:r,codeAction:null==e.codeAction||""==e.codeAction?r:void 0},n&=null==e.__error.triggers&&null==e.__error.codeAction})}),null!=e.triggers&&e.triggers.forEach(function(e){e.__error={triggers:Array.isArray(e.triggers)&&0<e.triggers.length?void 0:r,codeAction:null==e.codeAction||""==e.codeAction?r:void 0},n&=null==e.__error.triggers&&null==e.__error.codeAction}),n}},{key:"getControlsByFormForDataMapping",value:function(e,u,c){if(null==e||e.constructor!=Array)return[];var d=this,f=[];return e.forEach(function(e){var t=e["data-buildertype"];if(!c||"gridview"!==t&&"collectioneditor"!==t&&"repeater"!==t){"button"!==t&&"form"!==t&&"formgroup"!==t&&"customblock"!==t&&f.push({key:e.key,type:e["data-buildertype"],parent:u});var n=e.formname;if("customblock"===t&&void 0!==n){var r=d.loadform(n,void 0,!0);if(void 0!==r){var a=void 0;try{a=v.default.parse(r.source)}catch(e){alertify.error(e)}var o=d.getControlsByFormForDataMapping(a,e.key,c);f=f.concat(o)}}else if("customblock"===t&&"source"===e.sourceType){var i=void 0;try{i=v.default.parse(e.source)}catch(e){alertify.error(e)}var l=d.getControlsByFormForDataMapping(i,e.key,c);f=f.concat(l)}if(null!=e.children&&0<e.children.length&&(f=f.concat(d.getControlsByFormForDataMapping(e.children,e.key,c))),null!=e.placeholders)for(var s in e.placeholders)Array.isArray(e.placeholders[s])&&0<e.placeholders[s].length&&(f=f.concat(d.getControlsByFormForDataMapping(e.placeholders[s],e.key,c)))}}),f}},{key:"onSave",value:function(){var t=this;if(!this.validate())return alertify.error(DWKitAdminLang.msg.checkerrorsonform),void this.forceUpdate();this.state.form.__type="formmapping",this.state.form.__state="updated",this.ChangeData([this.state.form],function(e){t.ResetSystemProps(t.state.form),t.forceUpdate(),t.state.reloadMetadataAfterSave&&setTimeout(function(){t.props.parent.props.parent.load(),Pace.stop()},100)})}},{key:"getDataModelFromReport",value:function(e){var t=p({},e,{__type:"datamodel",__state:"inserted"});return delete t.applyChanges,t.attributes=t.attributes.filter(function(e){return e.applyChanges}).map(function(e){var t=p({},e);return delete t.applyChanges,t}),t}},{key:"mappingToDataMap",value:function(e,t,n,r){for(var a=0;a<n.length;a++)for(var o=n[a],i=0;i<e.length;i++){var l=e[i],s=l.attributeName;if(r){var u=l.attributeName.split("_");if(Array.isArray(u)&&1<u.length&&(s=u[u.length-1]),l.isLoadable&&s.toLowerCase()==t.key.toLowerCase()+o)return l.control=t.key,!0}else if(s.toLowerCase()==t.key.toLowerCase()+o)return l.control=t.key,l.isLoadable=!0}return!1}},{key:"mappingToDataColl",value:function(e,n){var r=this;return e.forEach(function(e){var t=r.getModelName(e.entityId);if(null!=t&&t.toLowerCase()==n.key.toLowerCase())return e.control=n.key,!0}),!1}},{key:"isAssociateControl",value:function(e){for(var t=this.state.form,n=0;n<t.dataMap.length;n++)if(t.dataMap[n].control==e)return!0;for(var r=0;r<t.dataColl.length;r++)if(t.dataColl[r].control==e)return!0;return!1}},{key:"getModelName",value:function(e){for(var t=this.props.metadata.dataModel,n=0;n<t.length;n++)if(t[n].id==e)return t[n].name}},{key:"setForm",value:function(e){var n=this;this.loadform(e,function(e){function t(t,n){var e=t[s],r=n[s],a=!1,o=!1;if(l.forEach(function(e){t[e]&&(a=!0),n[e]&&(o=!0)}),o<a)return-1;if(a<o)return 1;for(var i=0;i<u.length;i++){if(e==u[i])return-1;if(r==u[i])return 1}return e<r?-1:r<e?1:0}e.dataMap=n.createDataMap(e.entityId,null,"",e.dataMap);var l=["isLoadable","control"],s="attributeName",u=["Id","ParentId","Name","Email","Number","State","StateName"];e.dataMap.sort(t),null==e.dataColl&&(e.dataColl=[]),e.dataColl.forEach(function(e){e.dataMap=n.createDataMap(e.entityId,null,"",e.dataMap),e.dataMap.sort(t)}),n.setState({form:e,id:e.name,source:JSON.parse(e.source)})})}},{key:"loadform",value:function(e,t,n){var r=new Array;if(r.push({name:"operation",value:"loadform"}),r.push({name:"name",value:e}),!0===n){var a=$.ajax({url:this.props.apiUrl,data:r,async:!1,type:"post"}).responseJSON;return a.success?a.item:void alertify.error(a.message)}$.ajax({url:this.props.apiUrl,data:r,async:!0,type:"post",success:function(e){e.success?t(e.item):alertify.error(e.message)}})}},{key:"setEntity",value:function(e){e!==this.state.form.entityId&&(this.state.form.entityId=e,this.state.form.dataMap=this.createDataMap(e,null,"",this.state.form.dataMap),this.forceUpdate())}},{key:"addMapForAttributes",value:function(e,t,n,r,a,o){for(var i=0;i<t.length;i++){for(var l=t[i],s=void 0,u=0;u<a.length;u++){var c=a[u];if(c.attributeId===l.id&&c.parentId===n){s=c;break}}var d;if(d=void 0===s?{id:this.NewGUID(),parentId:n,isLoadable:!n,attributeId:l.id,attributeName:r+l.name,referenceEntityId:1===l.typeId?l.referenceEntityId:void 0,attributeSource:o}:p({},s,{attributeName:r+l.name,referenceEntityId:1===l.typeId?l.referenceEntityId:void 0}),e.push(d),l.referenceEntityId&&1===l.typeId){var f=this.createDataMap(d.referenceEntityId,d.id,d.attributeName+"_",a,!0);e=e.concat(f)}}return e}},{key:"createDataMap",value:function(e,t,n,r,a){if(a&&!r.some(function(e){return e.parentId===t}))return[];var o=[];if(!e)return o;var i=this.getEntityById(e);if(!i)return o;if(o=this.addMapForAttributes(o,i.attributes,t,n,r,s.AttributeSources.DATA_MODEL),i.mode===s.Modes.SIMPLIFIED){var l=this.props.metadata.additionalParams&&this.props.metadata.additionalParams.MasterTableAttributes?this.props.metadata.additionalParams.MasterTableAttributes:[];o=this.addMapForAttributes(o,l.filter(function(e){return!e.hideInMapping}),t,n,r,s.AttributeSources.MASTER_TABLE)}return o}},{key:"getEntityById",value:function(e){for(var t=this.props.metadata.dataModel,n=0;n<t.length;n++){var r=t[n];if(r.id===e)return r}}},{key:"updateStateAndForce",value:function(){this.forceUpdate()}},{key:"getWarning",value:function(){var e=void 0!==this.props.metadata.additionalParams&&void 0!==this.props.metadata.additionalParams.FormMappingErrors&&null!==this.props.metadata.additionalParams.FormMappingErrors&&this.props.metadata.additionalParams.FormMappingErrors.includes(this.state.id);if(this.state.reloadMetadataAfterSave=e)return h.default.createElement(m.Message,{color:"orange"},DWKitAdminLang.datamap.mismatchmodelmsg)}}])&&r(l.prototype,u),c&&r(l,c),f);function f(e){!function(e){if(!(e instanceof f))throw new TypeError("Cannot call a class as a function")}(this);var l=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":R(t))&&"function"!=typeof t?e:t}(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,e));return l.onDragOver=function(e){e.clientY<150&&l.scroll(-10),e.clientY>$(window).height()-150&&l.scroll(10)},l.onModelPropertyChange=function(n,r,a){l.setState(function(e){var t=null;return e.analyzeReport.mainDataModel.dataModel.id===n&&(t=e.analyzeReport.mainDataModel),(t=t||e.analyzeReport.collectionDataModels.find(function(e){return e.dataModel.id===n}))&&(t.dataModel[r]=a,"applyChanges"===r&&t.dataModel.attributes.forEach(function(e){e[r]=a})),l.validateReport(e.analyzeReport),e})},l.onAttributePropertyChange=function(n,r,a){var e=performance.now();l.setState(function(e){var t=null;return(t=(t=e.analyzeReport.mainDataModel.dataModel.attributes.find(function(e){return e.id===n}))||e.analyzeReport.collectionDataModels.flatMap(function(e){return e.dataModel.attributes}).find(function(e){return e.id===n}))&&(t[r]=a),l.validateReport(e.analyzeReport),e}),e=performance.now()-e},l.openBuilder=function(e){l.props.parent.props.parent.openpage("forms",l.state.id),e.preventDefault()},l.openActionHandlers=function(e){l.props.parent.props.parent.openpage("actionhandlers",l.state.id),e.preventDefault()},l.onGenerateDataModel=function(){var e=new Array;e.push({name:"id",value:l.props.id}),e.push({name:"operation",value:"analyzeform"}),$.ajax({url:l.props.apiUrl,data:e,async:!0,type:"post",success:function(e){if(e.success){var t=e.item;t.mainDataModel.dataModel.applyChanges=!0,t.mainDataModel.dataModel.attributes.forEach(function(e){e.applyChanges=!0}),t.collectionDataModels.forEach(function(e){e.dataModel.applyChanges=!0,e.dataModel.attributes.forEach(function(e){e.applyChanges=!0})}),l.validateReport(t),l.setState({analyzeReport:t})}else alertify.error(e.message)},error:function(e,t){var n=l.getProcessLoadError(e,t);alertify.error(n)}})},l.onApplyAnalyzeReport=function(){var a=l.state.analyzeReport;if(l.validateReport(a)){var o=[],e=[],i=[],t=null;if(a.mainDataModel.dataModel.applyChanges){var n=l.getDataModelFromReport(a.mainDataModel.dataModel);o.push(n),e=a.dataMap.filter(function(t){return t.attributeSource===s.AttributeSources.MASTER_TABLE||n.attributes.some(function(e){return e.id===t.attributeId})}),t=a.mainDataModel.dataModel.id}if(a.collectionDataModels.forEach(function(e){if(e.dataModel.applyChanges){var n=l.getDataModelFromReport(e.dataModel);o.push(n);var t=a.dataColl.find(function(e){return e.entityId===n.id}),r=t.dataMap.filter(function(t){return t.attributeSource===s.AttributeSources.MASTER_TABLE||n.attributes.some(function(e){return e.id===t.attributeId})});i.push(p({},t,{dataMap:r}))}}),o.length){var r=p({},l.state.form,{dataMap:e,dataColl:i,__type:"formmapping",__state:"updated"});t&&(r.entityId=t),o.push(r),l.ChangeData(o,function(e){l.setState({analyzeReport:null}),setTimeout(function(){l.props.parent.props.parent.load(function(){l.setState({id:null})}),Pace.stop()},100)})}else alertify.error(DWKitAdminLang.msg.needtoselectitems)}else alertify.error(DWKitAdminLang.datamap.checkvalidationerrors)},l.onCloseAnalyzeReport=function(){l.setState({analyzeReport:null})},l.onAutoMapping=function(){for(var e=l,t=["","id_name","_name"],n=l.state.form,r=l.getControlsByFormForDataMapping(l.state.source),a=0;a<r.length;a++){var o=r[a],i=o.key.toLowerCase();e.isAssociateControl(i)||e.mappingToDataMap(n.dataMap,o,t)||e.mappingToDataColl(n.dataColl,o)||e.mappingToDataMap(n.dataMap,o,t,!0)}alertify.success(DWKitAdminLang.datamap.automappingcompleatemsg),l.forceUpdate()},l.onResetMapping=function(e){var t=l,n=l.state.form;n.dataMap=t.createDataMap(n.entityId,null,"",[]),null==n.dataColl&&(n.dataColl=[]),n.dataColl.forEach(function(e){e.control=void 0,e.dataMap=t.createDataMap(e.entityId,null,"",[])}),1!=e&&l.forceUpdate()},l.state={analyzeReport:null},l}function E(e){return i.apply(this,arguments)}t.default=d},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=a(n(0)),i=(a(n(2)),n(1));function a(e){return e&&e.__esModule?e:{default:e}}a(n(3));var l,s,u,c=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":R(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(d,a(n(4)).default),l=d,(s=[{key:"render",value:function(){var n=this,e=this.props.parent.getControlsByFormForDataMapping(this.props.formsource,void 0),r=[],a=n.props.parent;return e.forEach(function(e){if(!n.isAttached(e,n.props.form.dataMap)&&!n.isAttached(e,n.props.form.dataColl)){var t=e.key+" : "+e.type;null!=e.parent&&(t=e.parent+" -> "+t),r.push(o.default.createElement("div",{draggable:"true",className:"mapdatacontrol",key:e.key,onDragStart:a.onDragStart.bind(a,e.key),onDragEnd:a.onDragEnd.bind(a,e.key),onDoubleClick:a.onDoubleClick.bind(a,e.key)},o.default.createElement("span",{key:"el"},t)))}}),0<r.length?r.unshift(o.default.createElement(i.Message,{key:"MappingDataControlsMessage1"},DWKitAdminLang.datamap.moveitemsmsg)):r.unshift(o.default.createElement(i.Message,{key:"MappingDataControlsMessage2"},o.default.createElement(i.Icon,{name:"info"}),DWKitAdminLang.datamap.nocontrolsonformmsg)),r.push(o.default.createElement("div",{key:"controlsdropzone",className:"dwkit-formmapping-zone"},DWKitAdminLang.datamap.dropzonemsg)),o.default.createElement("div",null,r)}},{key:"isAttached",value:function(e,t){for(var n=0;n<t.length;n++)if(e.key==t[n].control)return!0;return!1}}])&&r(l.prototype,s),u&&r(l,u),d);function d(e){return function(e){if(!(e instanceof d))throw new TypeError("Cannot call a class as a function")}(this),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":R(t))&&"function"!=typeof t?e:t}(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,e))}t.default=c},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var c=a(n(0)),d=(a(n(2)),n(1)),o=(a(n(3)),a(n(29)));function a(e){return e&&e.__esModule?e:{default:e}}var i,l,s,u=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":R(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(f,a(n(4)).default),i=f,(l=[{key:"onExpand",value:function(e){this.setState({isexpanded:e})}},{key:"render",value:function(){var e,r=this,a=this,t=this.props.form.dataMap;e=this.state.isexpanded?c.default.createElement("img",{key:"btnexpand",onClick:this.onExpand.bind(this,!1),className:"dwkit-formadmin-imgbutton",src:"/images/collapse.svg"}):c.default.createElement("img",{key:"btnexpand",onClick:this.onExpand.bind(this,!0),className:"dwkit-formadmin-imgbutton",src:"/images/expand.svg"});var n=this.renderFields(t),o=[];function i(e,t){var n=t.name,r=t.value;a.props.parent.state.form[n]=r,a.props.parent.forceUpdate()}0<n.length&&(o.push(c.default.createElement("h3",{key:"titleAtt"},"Attributes")),o.push(n));var l=[],s=!1;if(this.props.form.dataSourceType)"url"===this.props.form.dataSourceType?l.push(c.default.createElement(d.Form.Group,{key:"datatypeurl",widths:"equal"},c.default.createElement(d.Form.Input,{label:DWKitAdminLang.datamap.dataurlfield,name:"dataUrl",value:this.props.form.dataUrl,onChange:i}))):"action"===this.props.form.dataSourceType?l.push(c.default.createElement(d.Form.Group,{key:"datatypeurl",widths:"equal"},c.default.createElement(d.Form.Dropdown,{label:DWKitAdminLang.datamap.actionfield,name:"dataGetAction",options:this.props.actions,error:Boolean(this.props.form.__error.dataGetAction),value:this.props.form.dataGetAction,onChange:i.bind(this),selection:!0,fluid:!0,search:!0}))):l.push(c.default.createElement("div",null,"Unknown data source type"));else{var u=this.props.form.entityId?c.default.createElement("label",null,DWKitAdminLang.datamap.mainentityfield,c.default.createElement("a",{target:"_blank",href:"?apanel=datamodel&aid="+this.props.form.entityId},c.default.createElement(d.Icon,{name:"database"}))):DWKitAdminLang.datamap.mainentityfield;s=!0,l.push(c.default.createElement(d.Form.Group,{key:"datatypeentity",widths:"equal"},c.default.createElement("div",{className:"dwkit-formadmin-imgbuttondiv"},e),c.default.createElement(d.Form.Dropdown,{label:u,name:"entityId",options:this.props.entities,placeholder:DWKitAdminLang.datamap.mainentityps,error:Boolean(this.props.form.__error&&this.props.form.__error.entityId),value:this.props.form.entityId,onChange:function(e,t){var n=t.value;r.props.parent.setEntity(n)}.bind(this),selection:!0,fluid:!0,search:!0}))),this.state.isexpanded&&l.push(c.default.createElement("div",{key:"mapattributes",className:"field dwkit-formadmin-mapattributes"},o))}return c.default.createElement("div",{className:"field"},c.default.createElement(d.Form,null,c.default.createElement("div",{className:"field"},c.default.createElement("label",{key:"c1label"},DWKitAdminLang.datamap.dataSourceType),c.default.createElement(d.Form.Group,{widths:"equal"},c.default.createElement(d.Form.Radio,{name:"dataSourceType",value:"",label:DWKitAdminLang.datamap.entityfield,checked:s,onChange:i}),c.default.createElement(d.Form.Radio,{name:"dataSourceType",value:"url",label:DWKitAdminLang.datamap.dataurlfield,checked:"url"===this.props.form.dataSourceType,onChange:i}),c.default.createElement(d.Form.Radio,{name:"dataSourceType",value:"action",label:DWKitAdminLang.datamap.actionfield,checked:"action"===this.props.form.dataSourceType,onChange:i}))),l))}},{key:"renderFields",value:function(n){var r=[],a=this;return n.forEach(function(e){var t=e.id;null==e.parentId&&r.push(c.default.createElement(o.default,{key:t,item:e,parent:a,dataMap:n}))}),r}}])&&r(i.prototype,l),s&&r(i,s),f);function f(e){!function(e){if(!(e instanceof f))throw new TypeError("Cannot call a class as a function")}(this);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":R(t))&&"function"!=typeof t?e:t}(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,e));return t.state={isexpanded:!0},t}t.default=u},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=n(0),o=s(a),i=n(1),l=s(n(79));function s(e){return e&&e.__esModule?e:{default:e}}var u,c,d,f=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":R(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(p,a.Component),u=p,(c=[{key:"getWarning",value:function(){var e=this.props;return e.materTableTypeErrors.length||e.controlsWithoutDataModel.length?o.default.createElement(i.Message,{color:"orange"},o.default.createElement(i.Message.Header,null,DWKitAdminLang.datamap.warnings),o.default.createElement(i.Message.List,null,0<e.materTableTypeErrors.length&&o.default.createElement(i.Message.Item,null,DWKitAdminLang.datamap.matertabletypeerrors,e.materTableTypeErrors.map(function(e,t){return[0<t&&", ",o.default.createElement("b",null,e)]}),DWKitAdminLang.datamap.matertabletypeerrorsadvice),0<e.controlsWithoutDataModel.length&&o.default.createElement(i.Message.Item,null,DWKitAdminLang.datamap.referencedmodelnotfound,e.controlsWithoutDataModel.map(function(e,t){return[0<t&&", ",o.default.createElement("b",null,e)]})))):null}},{key:"render",value:function(){var t=this,n=this.props.dataModel,r=this.props.errors,a=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(this.entitylist));return this.props.report.mainDataModel.dataModel.applyChanges&&a.push({value:this.props.report.mainDataModel.dataModel.id,text:this.props.report.mainDataModel.dataModel.name}),this.props.report.collectionDataModels.filter(function(e){return e.dataModel.applyChanges}).forEach(function(e){a.push({value:e.dataModel.id,text:e.dataModel.name})}),[o.default.createElement(i.Form,null,this.getWarning(),r.duplicateName&&o.default.createElement(i.Message,{color:"red"},DWKitAdminLang.datamap.nameexistsmsg),r.duplicateNameInReport&&o.default.createElement(i.Message,{color:"red"},DWKitAdminLang.datamap.duplicateNameInReport),o.default.createElement(i.Form.Group,null,o.default.createElement(i.Form.Field,null,o.default.createElement("label",null,DWKitAdminLang.datamap.applyfield),o.default.createElement(i.Form.Checkbox,{checked:n.applyChanges,onChange:this.onApplyChangesChange,width:3})),o.default.createElement(i.Form.Input,{label:DWKitAdminLang.field.name,value:n.name,onChange:this.onNameChange,readOnly:!n.applyChanges,width:13,error:r.name||r.duplicateName||r.duplicateNameInReport})),o.default.createElement("h3",null,DWKitAdminLang.field.attributes),n.attributes.map(function(e){return o.default.createElement(l.default,{attribute:e,applyChanges:n.applyChanges,typesList:t.typesList,onPropertyChange:t.props.onAttributePropertyChange,entitylist:a,errors:r.attributes[e.id]})})),o.default.createElement(i.Divider,null)]}}])&&r(u.prototype,c),d&&r(u,d),p);function p(e){!function(e){if(!(e instanceof p))throw new TypeError("Cannot call a class as a function")}(this);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":R(t))&&"function"!=typeof t?e:t}(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,e));return r.onApplyChangesChange=function(e,t){var n=t.checked;r.props.onModelPropertyChange(r.props.dataModel.id,"applyChanges",n)},r.onNameChange=function(e,t){var n=t.value;r.props.onModelPropertyChange(r.props.dataModel.id,"name",n)},r.typesList=[],e.metadata.additionalParams.Types.forEach(function(e){r.typesList.push({value:e,text:e})}),r.entitylist=[],e.metadata.dataModel.forEach(function(e){r.entitylist.push({value:e.id,text:e.name})}),r}t.default=f},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a,o=n(0),i=(a=o)&&a.__esModule?a:{default:a},l=n(1);function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":R(t))&&"function"!=typeof t?e:t}var u,c,d,f=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":R(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(p,o.Component),u=p,(c=[{key:"render",value:function(){var e,t=this.props.attribute,n=this.props.errors?this.props.errors:{};return e=t.typeId?i.default.createElement(l.Form.Dropdown,{options:this.props.entitylist,selection:!0,fluid:!0,search:!0,onChange:this.onReferenceEntityIdChange,name:"type",label:DWKitAdminLang.datamap.refentityfield,value:t.referenceEntityId,width:5,error:n.noReference,disabled:!this.props.applyChanges||!t.applyChanges}):i.default.createElement(l.Form.Dropdown,{options:this.props.typesList,selection:!0,fluid:!0,search:!0,onChange:this.onTypeChange,name:"type",label:DWKitAdminLang.field.type,placeholder:"Choose a data type",value:t.type,width:5,disabled:!this.props.applyChanges||!t.applyChanges}),i.default.createElement(l.Form.Group,null,i.default.createElement(l.Form.Field,null,i.default.createElement("label",null,DWKitAdminLang.datamap.applyfield),i.default.createElement(l.Form.Checkbox,{checked:t.applyChanges,width:3,readOnly:!this.props.applyChanges,onChange:this.onApplyChangesChange})),i.default.createElement(l.Form.Input,{label:DWKitAdminLang.field.name,value:t.name,width:5,name:"name",onChange:this.onNameChange,readOnly:!this.props.applyChanges||!t.applyChanges,error:n.name||n.duplicateName}),e,i.default.createElement(l.Form.Field,null,i.default.createElement("label",null,DWKitAdminLang.datamap.options),i.default.createElement(l.Form.Checkbox,{name:"isNullable",label:DWKitAdminLang.datamap.nullablefield,checked:t.isNullable,width:3,readOnly:!this.props.applyChanges||!t.applyChanges,onChange:this.onIsNullableChange})))}}])&&r(u.prototype,c),d&&r(u,d),p);function p(){var e,t,r;!function(e){if(!(e instanceof p))throw new TypeError("Cannot call a class as a function")}(this);for(var n=arguments.length,a=Array(n),o=0;o<n;o++)a[o]=arguments[o];return(t=r=s(this,(e=p.__proto__||Object.getPrototypeOf(p)).call.apply(e,[this].concat(a)))).onApplyChangesChange=function(e,t){var n=t.checked;r.props.onPropertyChange(r.props.attribute.id,"applyChanges",n)},r.onIsNullableChange=function(e,t){var n=t.checked;r.props.onPropertyChange(r.props.attribute.id,"isNullable",n)},r.onNameChange=function(e,t){var n=t.value;r.props.onPropertyChange(r.props.attribute.id,"name",n)},r.onTypeChange=function(e,t){var n=t.value;r.props.onPropertyChange(r.props.attribute.id,"type",n)},r.onReferenceEntityIdChange=function(e,t){var n=t.value;r.props.onPropertyChange(r.props.attribute.id,"referenceEntityId",n)},s(r,t)}t.default=f},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}i(n(0)),i(n(2)),n(1),i(n(3));var a=i(n(7)),o=i(n(81));function i(e){return e&&e.__esModule?e:{default:e}}var l,s,u,c=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":R(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(d,a.default),l=d,(s=[{key:"gridColumns",value:function(){return[{key:"name",name:DWKitAdminLang.column.name,resizable:!0}]}}])&&r(l.prototype,s),u&&r(l,u),d);function d(e){!function(e){if(!(e instanceof d))throw new TypeError("Cannot call a class as a function")}(this);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":R(t))&&"function"!=typeof t?e:t}(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,e));return t.editform=o.default,t.dataindex="forms",t.idfield="name",t.panelindex="actionhandlers",t.datatype="form",t.title=DWKitAdminLang.actionhandler.title,t.titleGetter=function(e){return e.actionhandler.title},t.hidebuttons=!0,t.ignoreidcase=!0,t}t.default=c},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=i(n(0)),o=(i(n(2)),n(1));function i(e){return e&&e.__esModule?e:{default:e}}i(n(3));var l,s,u,c=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":R(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(d,i(n(4)).default),l=d,(s=[{key:"redrawEditor",value:function(){if(0<$("#dwkit-admin-formlogic-editcode").length){null==this.editor&&(this.editor=ace.edit("dwkit-admin-formlogic-editcode"),this.editor.getSession().setMode("ace/mode/javascript"));var e=this.state.form.javaScriptCode;null==e&&(e=" "),this.editor.setValue(this.state.form.javaScriptCode,-1)}}},{key:"render",value:function(){return this.state.id!=this.props.data.name?(this.setForm(this.props.data.name),null):(this.validate(),a.default.createElement("div",null,a.default.createElement(o.Breadcrumb,null,a.default.createElement(o.Breadcrumb.Section,{onClick:this.props.parent.back.bind(this.props.parent),link:!0},DWKitAdminLang.actionhandler.title),a.default.createElement(o.Breadcrumb.Divider,null),a.default.createElement(o.Breadcrumb.Section,{active:!0},this.props.data.name),a.default.createElement(o.Breadcrumb.Divider,{icon:"right angle"}),a.default.createElement(o.Breadcrumb.Section,{href:"?apanel=forms&aid="+this.state.id,onClick:this.openBuilder.bind(this)},DWKitAdminLang.actionhandler.builder),a.default.createElement(o.Breadcrumb.Divider,null),a.default.createElement(o.Breadcrumb.Section,{href:"?apanel=formdata&aid="+this.state.id,onClick:this.openDataMap.bind(this)},DWKitAdminLang.actionhandler.datamap)),a.default.createElement("div",{className:"dwkitadmin-toolbar",style:{marginTop:"5px"}},a.default.createElement(o.Button,{className:"buttontype1",onClick:this.onSave.bind(this)},DWKitAdminLang.button.save),a.default.createElement(o.Button,{className:"buttontype2",onClick:this.onCancel.bind(this)},DWKitAdminLang.button.cancel),a.default.createElement(o.Button,{floated:"right",className:"buttontype2",onClick:this.onSetDefaultTemplate.bind(this)},DWKitAdminLang.actionhandler.setdefaulttemplatebutton)),a.default.createElement("div",{id:"dwkit-admin-formlogic-editcode",style:{height:"calc(100vh - 180px)"}})))}},{key:"openDataMap",value:function(e){this.props.parent.props.parent.openpage("formdata",this.state.id),e.preventDefault()}},{key:"openBuilder",value:function(e){this.props.parent.props.parent.openpage("forms",this.state.id),e.preventDefault()}},{key:"setForm",value:function(e){var t=this;this.loadform(e,function(e){t.state.form=e,t.state.id=e.name,t.forceUpdate(),t.redrawEditor()})}},{key:"loadform",value:function(e,t){var n=new Array;this.state.id=this.props.data.name,n.push({name:"operation",value:"loadform"}),n.push({name:"name",value:e}),$.ajax({url:this.props.apiUrl,data:n,async:!0,type:"post",success:function(e){e.success?t(e.item):alertify.error(e.message)}})}},{key:"redirectToFormEdit",value:function(){this.props.parent.openpage("forms")}},{key:"onSave",value:function(){var e=ace.edit("dwkit-admin-formlogic-editcode");this.state.form.javaScriptCode=e.getValue();var t=this;if(!this.validate())return alertify.error(DWKitAdminLang.msg.checkerrorsonform),void this.forceUpdate();this.state.form.__type="formcode",this.state.form.__state="updated",this.ChangeData([this.state.form],function(e){t.ResetSystemProps(t.state.form),t.forceUpdate()})}},{key:"onCancel",value:function(){this.props.onCancel.bind(this.props.parent)(),this.redrawEditor()}},{key:"validate",value:function(){var e=this.state.form;return null!=e&&(e.__error={},!0)}},{key:"onSetDefaultTemplate",value:function(){var e="{\n";e+="//  validate: function ({data, originalData, state, component, formName, index, controlRef, eventArgs, isChild}){\n//    var errors = {};\n//    //TODO: Insert your code for validation this form\n//    if(data.name == undefined || data.name == ''){\n//      errors.name = 'This field is required!';\n//    }\n//    if(errors.name){\n//      throw {\n//          level: 1,\n//          message: 'Check errors on the form!',\n//          formerrors: {main: errors}\n//      };\n//    }\n//    return {};\n//  }";var t=this.props.controlActions;null==t&&(t=[]);var n=this.getControlsActions(JSON.parse(this.state.form.source));if(null!=n)for(var r=0;r<n.length;r++){for(var a=!1,o=0;o<this.props.controlActions.length;o++)if(n[r]==this.props.controlActions[o]){a=!0;break}a||(e+=",\n\n",e+="  "+n[r]+": function (args){\n    //TODO: Insert your code\n  }")}e+="\n}",this.editor.setValue(e,-1)}},{key:"getControlsActions",value:function(e){if(null==e||e.constructor!=Array)return[];var r=this,a=[];return e.forEach(function(e){if(null!=e.events)for(var t in e.events){var n=e.events[t].actions;Array.isArray(n)&&n.forEach(function(e){for(var t=!1,n=0;n<a.length;n++)if(e===a[n]){t=!0;break}t||a.push(e)})}null!=e.children&&0<e.children.length&&(n=r.getControlsActions(e.children)).forEach(function(e){for(var t=!1,n=0;n<a.length;n++)if(e===a[n]){t=!0;break}t||a.push(e)})}),a}}])&&r(l.prototype,s),u&&r(l,u),d);function d(e){!function(e){if(!(e instanceof d))throw new TypeError("Cannot call a class as a function")}(this);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":R(t))&&"function"!=typeof t?e:t}(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,e));return t.state={},t}t.default=c},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}i(n(0)),i(n(2)),n(1),i(n(3));var a=i(n(7)),o=i(n(83));function i(e){return e&&e.__esModule?e:{default:e}}var l,s,u,c=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":R(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(d,a.default),l=d,(s=[{key:"gridColumns",value:function(){return[{key:"name",name:DWKitAdminLang.column.name,resizable:!0}]}}])&&r(l.prototype,s),u&&r(l,u),d);function d(e){!function(e){if(!(e instanceof d))throw new TypeError("Cannot call a class as a function")}(this);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":R(t))&&"function"!=typeof t?e:t}(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,e));return t.editform=o.default,t.dataindex="localization",t.idfield="name",t.panelindex="localization",t.datatype="localization",t.title=DWKitAdminLang.localization.title,t.titleGetter=function(e){return e.localization.title},t.ignoreidcase=!0,t}t.default=c},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=i(n(0)),o=(i(n(2)),n(1));function i(e){return e&&e.__esModule?e:{default:e}}i(n(3));var l,s,u,c=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":R(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(d,i(n(4)).default),l=d,(s=[{key:"redrawEditor",value:function(){if(0<$("#dwkit-admin-localization").length){null==this.editor&&(this.editor=ace.edit("dwkit-admin-localization"),this.editor.getSession().setMode("ace/mode/javascript"));var e=this.state.obj.source;null==e&&(e="{\n\n\n}"),this.editor.setValue(e,-1)}}},{key:"render",value:function(){return this.state.id!=this.props.data.name?(this.setObject(this.props.data.name),null):(this.validate(),a.default.createElement("div",null,a.default.createElement(o.Breadcrumb,null,a.default.createElement(o.Breadcrumb.Section,{onClick:this.props.parent.back.bind(this.props.parent),link:!0},DWKitAdminLang.localization.title),a.default.createElement(o.Breadcrumb.Divider,null),a.default.createElement(o.Breadcrumb.Section,{active:!0},this.props.data.name)),a.default.createElement("div",{className:"dwkitadmin-toolbar",style:{marginTop:"5px"}},a.default.createElement(o.Button,{className:"buttontype1",onClick:this.onSave.bind(this)},DWKitAdminLang.button.save),a.default.createElement(o.Button,{className:"buttontype2",onClick:this.onCancel.bind(this)},DWKitAdminLang.button.cancel),a.default.createElement(o.Button,{floated:"right",className:"buttontype2",onClick:this.onUpdateTemplate.bind(this)},DWKitAdminLang.localization.updatetemplatebutton)),a.default.createElement("div",{id:"dwkit-admin-localization",style:{height:"calc(100vh - 180px)"}})))}},{key:"setObject",value:function(e){var t=this;this.loadobject(e,function(e){t.state.obj=e,t.state.id=e.name,t.forceUpdate(),t.redrawEditor()})}},{key:"loadobject",value:function(e,t){var n=new Array;this.state.id=this.props.data.name,n.push({name:"operation",value:"loadlocalization"}),n.push({name:"name",value:e}),$.ajax({url:this.props.apiUrl,data:n,async:!0,type:"post",success:function(e){e.success?t(e.item):alertify.error(e.message)}})}},{key:"onSave",value:function(){var e=ace.edit("dwkit-admin-localization");this.state.obj.source=e.getValue();var n=this;if(!this.validate())return alertify.error(DWKitAdminLang.msg.checkerrorsonform),void this.forceUpdate();this.state.obj.__type="localization",this.state.obj.__state="updated",this.ChangeData([this.state.obj],function(e){n.ResetSystemProps(n.state.obj),n.forceUpdate();var t=!1;n.props.metadata.localization.forEach(function(e){if(e.name==n.state.obj.name)return!(t=!0)}),t||n.props.metadata.localization.push({name:n.state.obj.name})})}},{key:"onCancel",value:function(){this.props.onCancel.bind(this.props.parent)(),this.redrawEditor()}},{key:"validate",value:function(){return!0}},{key:"onUpdateTemplate",value:function(){var t=this,e=new Array,n=ace.edit("dwkit-admin-localization").getValue();e.push({name:"operation",value:"localizationupdatetemplate"}),e.push({name:"name",value:t.state.obj.name}),e.push({name:"source",value:n}),$.ajax({url:t.props.apiUrl,data:e,async:!0,type:"post",success:function(e){e.success?t.editor.setValue(e.item,-1):alertify.error(e.message)}})}}])&&r(l.prototype,s),u&&r(l,u),d);function d(e){!function(e){if(!(e instanceof d))throw new TypeError("Cannot call a class as a function")}(this);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":R(t))&&"function"!=typeof t?e:t}(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,e));return t.state={},t}t.default=c},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}i(n(0)),i(n(2)),n(1),i(n(3));var a=i(n(7)),o=i(n(85));function i(e){return e&&e.__esModule?e:{default:e}}var l,s,u,c=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":R(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(d,a.default),l=d,(s=[{key:"gridColumns",value:function(){return[{key:"code",name:DWKitAdminLang.column.code,resizable:!0}]}},{key:"getEditRow",value:function(){var t=this,e=this.props.data.workflow.find(function(e){return e.code.toLowerCase()===t.props.id.toLowerCase()});return{code:e?e.code:this.props.id}}}])&&r(l.prototype,s),u&&r(l,u),d);function d(e){!function(e){if(!(e instanceof d))throw new TypeError("Cannot call a class as a function")}(this);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":R(t))&&"function"!=typeof t?e:t}(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,e));return t.editform=o.default,t.dataindex="workflow",t.panelindex="workflow",t.idfield="code",t.defaultNamePrefix="scheme",t.datatype="workflow",t.title=DWKitAdminLang.workflow.title,t.titleGetter=function(e){return e.workflow.title},t}t.default=c},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=i(n(0)),o=(i(n(2)),n(1));function i(e){return e&&e.__esModule?e:{default:e}}i(n(3));var l,s,u,c=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":R(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(d,i(n(4)).default),l=d,(s=[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.redrawDesigner.bind(this)),this.redrawDesigner()}},{key:"componentWillUnmount",value:function(){null!=this.wfdesigner&&this.wfdesigner.destroy()}},{key:"redrawDesigner",value:function(){if(null!=this.props.parent.props.id){var e,t=$(window).width(),n=$(window).height();WorkflowDesignerConstants.FormMaxHeight=600,null!=this.wfdesigner&&(e=this.wfdesigner.data,this.wfdesigner.destroy()),this.wfdesigner=new WorkflowDesigner({name:"dwkit-admin-wfdesigner",apiurl:this.props.workflowApi,renderTo:"dwkit-admin-wfdesigner",imagefolder:"/images/",graphwidth:t-285-this.props.deltaWidth,graphheight:n-185-this.props.deltaHeight}),null==e?this.loadscheme():(this.wfdesigner.data=e,this.wfdesigner.render())}}},{key:"loadscheme",value:function(){var e={schemecode:this.props.data.code,processid:void 0};this.wfdesigner.exists(e)?this.wfdesigner.load(e):(this.wfdesigner.create(),this.props.data.__state="inserted"),this.state.id=this.props.data.code}},{key:"onClearScheme",value:function(){this.wfdesigner.create()}},{key:"onSave",value:function(){var e=this;e.wfdesigner.schemecode=e.props.data.code;var t=this.wfdesigner.validate();null!=t&&0<t.length?alertify.error(t):this.wfdesigner.save(function(){e.props.data.__state,e.ResetSystemProps(e.props.data),e.props.parent.applyeditrow(),alertify.success(DWKitAdminLang.workflow.schemesaved)})}},{key:"onDownload",value:function(){this.wfdesigner.downloadscheme()}},{key:"onUpload",value:function(){$("#dwkitadmin-workflow-uploadfile").trigger("click")}},{key:"onUpload_onchange",value:function(){this.wfdesigner.uploadscheme($("#dwkitadmin-workflow-uploadform")[0],function(){alertify.success(DWKitAdminLang.msg.fileupoaded)})}},{key:"messageClose",value:function(){this.setState({message:void 0})}},{key:"render",value:function(){null!=this.wfdesigner&&this.state.id!=this.props.data.code&&this.loadscheme();var e=null!=this.state.message;return a.default.createElement("div",null,a.default.createElement(o.Breadcrumb,null,a.default.createElement(o.Breadcrumb.Section,{onClick:this.props.parent.back.bind(this.props.parent),link:!0},DWKitAdminLang.workflow.title),a.default.createElement(o.Breadcrumb.Divider,null),a.default.createElement(o.Breadcrumb.Section,{active:!0},this.props.data.code)),a.default.createElement("div",{className:"dwkit-admin-wfdesigner-buttons"},a.default.createElement(o.Button,{className:"buttontype2",floated:"right",onClick:this.onClearScheme.bind(this)},DWKitAdminLang.workflow.clearschemebutton),a.default.createElement(o.Button,{className:"buttontype1",onClick:this.onSave.bind(this)},DWKitAdminLang.button.save),a.default.createElement(o.Button,{className:"buttontype2",onClick:this.onDownload.bind(this)},DWKitAdminLang.button.download),a.default.createElement(o.Button,{className:"buttontype2",onClick:this.onUpload.bind(this)},DWKitAdminLang.button.upload)),a.default.createElement("div",{id:"dwkit-admin-wfdesigner"}),a.default.createElement("form",{is:!0,action:"",id:"dwkitadmin-workflow-uploadform",method:"post",style:{display:"none"},enctype:"multipart/form-data",onsubmit:"tmp()"},a.default.createElement("input",{type:"file",name:"dwkitadmin-workflow-uploadfile",id:"dwkitadmin-workflow-uploadfile",onChange:this.onUpload_onchange.bind(this)})),a.default.createElement(o.Modal,{dimmer:"blurring",open:e,onClose:this.messageClose.bind(this)},a.default.createElement(o.Modal.Header,null,DWKitAdminLang.workflow.messagetitle),a.default.createElement(o.Modal.Content,null,a.default.createElement("p",null,this.state.message)),a.default.createElement(o.Modal.Actions,null,a.default.createElement(o.Button,{icon:"check",content:DWKitAdminLang.button.ok,onClick:this.messageClose.bind(this)}))))}}])&&r(l.prototype,s),u&&r(l,u),d);function d(e){!function(e){if(!(e instanceof d))throw new TypeError("Cannot call a class as a function")}(this);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":R(t))&&"function"!=typeof t?e:t}(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,e));return t.state={},t}t.default=c},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});function r(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=u(n(0)),i=(u(n(2)),u(n(31))),l=n(1),s=(u(n(3)),u(n(87)));function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":R(t))&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":R(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p=(f(h,u(n(4)).default),r(h,[{key:"render",value:function(){var e=this.props.value;return o.default.createElement("div",null,o.default.createElement("div",{style:{float:"right"}},o.default.createElement(l.Button,{title:DWKitAdminLang.button.copy,onClick:this.onClick.bind(this),icon:!0},o.default.createElement(l.Icon,{name:"copy"}))),o.default.createElement("div",{title:e,style:{paddingTop:"8px"}},e))}},{key:"onClick",value:function(){this.copyToClipboard(this.props.value)}}]),h);function h(){return c(this,h),d(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}var m=(f(v,i.default),r(v,[{key:"gridColumns",value:function(){return[{key:"id",name:"Process Id",resizable:!0,formatter:p,width:340},{key:"schemeCode",name:DWKitAdminLang.workflowinstance.schemecolumn,resizable:!0},{key:"instanceStatus",name:DWKitAdminLang.workflowinstance.statuscolumn,resizable:!0,formatter:g},{key:"activityName",name:DWKitAdminLang.workflowinstance.activitycolumn,resizable:!0},{key:"stateName",name:DWKitAdminLang.workflowinstance.statecolumn,resizable:!0}]}},{key:"renderToolbar",value:function(){var e,t=this,n=[];null==this.state.popup&&(this.state.popup={show:!1}),null==this.state.filter&&(this.state.filter={}),n.push(o.default.createElement(l.Button,{key:"btnCreate",className:"buttontype1",onClick:function(){t.setState({popup:{show:!0,id:t.NewGUID()}})}},DWKitAdminLang.button.create)),n.push(o.default.createElement(l.Button,{key:"btnDelete",className:"buttontype2",onClick:function(){t.setState({confirmdeleteshow:!0})}},DWKitAdminLang.button.delete)),null!=this.state.popup.errors&&(e=o.default.createElement(l.Message,{negative:!0},o.default.createElement("p",null,this.state.popup.errors)));var r=[];r.push({text:"...",value:void 0});for(var a=0;a<=5;a++)r.push({key:a,text:b(a),value:a});return r.push({key:254,text:b(254),value:254}),r.push({key:255,text:b(255),value:255}),o.default.createElement("div",{className:"dwkitadmin-toolbar"},o.default.createElement("div",{className:"dwkitadmin-toolbarfilter"},o.default.createElement(l.Form,null,o.default.createElement(l.Form.Group,{widths:"equal"},o.default.createElement(l.Form.Input,{name:"id",label:"ProcessId",value:this.state.filter.id,onChange:this.handleFilterChange.bind(this)}),o.default.createElement(l.Form.Input,{name:"scheme",label:"Scheme",value:this.state.filter.scheme,onChange:this.handleFilterChange.bind(this)}),o.default.createElement(l.Form.Dropdown,{key:"status",name:"status",options:r,label:"Status",value:this.state.filter.status,onChange:this.handleFilterChange.bind(this),selection:!0,fluid:!0}),o.default.createElement(l.Form.Input,{name:"activity",label:"Activity",value:this.state.filter.activity,onChange:this.handleFilterChange.bind(this)}),o.default.createElement(l.Form.Input,{name:"state",label:"State",value:this.state.filter.state,onChange:this.handleFilterChange.bind(this)}),o.default.createElement(l.Button,{className:"buttontype2",content:DWKitAdminLang.button.search,onClick:this.onSearch.bind(this)})))),n,o.default.createElement("span",null,DWKitAdminLang.msg.totalcount," ",t.state.rowsCount),o.default.createElement(l.Modal,{dimmer:"blurring",open:this.state.popup.show},o.default.createElement(l.Modal.Header,null,"Create a process"),o.default.createElement(l.Modal.Content,null,o.default.createElement(l.Form,null,e,o.default.createElement(l.Form.Input,{key:"id",name:"id",label:"ProcessId",required:!0,value:this.state.popup.id,onChange:this.handlePopupChange.bind(this),error:null!=this.state.popup.iderrors}),o.default.createElement(l.Form.Input,{key:"scheme",name:"scheme",label:"Scheme",required:!0,value:this.state.popup.scheme,onChange:this.handlePopupChange.bind(this),error:null!=this.state.popup.schemeerrors}))),o.default.createElement(l.Modal.Actions,null,o.default.createElement(l.Button,{className:"buttontype1",content:DWKitAdminLang.button.create,onClick:this.onCreate.bind(this)}),o.default.createElement(l.Button,{className:"buttontype2",content:DWKitAdminLang.button.cancel,onClick:function(){t.setState({popup:{show:!1}})}}))))}},{key:"handleFilterChange",value:function(e,t){var n=t.name,r=t.value;this.state.filter[n]=r,this.forceUpdate()}},{key:"getAdditionalDataForControl",value:function(e,t,n){var r=t.startIndex,a=t.pageSize,o=(t.filters,t.sort),i=this,l=new Array;l.push({name:"operation",value:"workflow"}),l.push({name:"suboperation",value:"loadlist"}),l.push({name:"skip",value:r}),l.push({name:"take",value:a}),l.push({name:"sort",value:o}),null!=i.state.filter.id&&""!=i.state.filter.id&&l.push({name:"id",value:i.state.filter.id}),null!=i.state.filter.scheme&&""!=i.state.filter.scheme&&l.push({name:"scheme",value:i.state.filter.scheme}),null!=i.state.filter.status&&""!==i.state.filter.status&&l.push({name:"status",value:i.state.filter.status}),null!=i.state.filter.activity&&""!=i.state.filter.activity&&l.push({name:"activity",value:i.state.filter.activity}),null!=i.state.filter.state&&""!=i.state.filter.state&&l.push({name:"state",value:i.state.filter.state}),$.ajax({url:i.props.apiUrl,data:l,async:!0,type:"post",success:function(e){e.success?(n({sIndex:r,pSize:a,rowsCount:e.item.count,items:e.item.instances}),i.setState({rowsCount:e.item.count})):alertify.error(e.message)}})}},{key:"getEditRow",value:function(){var e=this.props.id,t=new Array;t.push({name:"operation",value:"workflow"}),t.push({name:"suboperation",value:"load"}),t.push({name:"instanceId",value:e});var n=$.ajax({url:this.props.apiUrl,data:t,async:!1,type:"post"}).responseJSON;if(n.success)return null==n.item?(alertify.error(DWKitAdminLang.msg.objectnotfound),this.back(),{}):n.item;alertify.error(n.message)}},{key:"onSearch",value:function(){this.grid.refresh()}},{key:"onCreate",value:function(){var t=this,n=t.state.popup.id,e=t.state.popup.scheme;if(t.state.popup.iderrors=null==n||""==n?"error":void 0,null==e||""==e?t.state.popup.schemeerrors="error":t.state.popup.iderrors=void 0,t.state.popup.iderrors||t.state.popup.schemeerrors)this.forceUpdate();else{var r=new Array;r.push({name:"operation",value:"workflow"}),r.push({name:"suboperation",value:"create"}),r.push({name:"processId",value:n}),r.push({name:"scheme",value:e}),$.ajax({url:t.props.apiUrl,data:r,async:!0,type:"post",success:function(e){t.setState({popup:{show:!1}}),e.success?t.props.parent.openpage("workflowinstances",n):alertify.error(e.message)}})}}},{key:"onDelete",value:function(){var t=this,e=new Array;t.setState({confirmdeleteshow:!1});var n=this.grid.getSeletedRowKeys();e.push({name:"operation",value:"workflow"}),e.push({name:"suboperation",value:"delete"}),e.push({name:"processIds",value:JSON.stringify(n)}),$.ajax({url:t.props.apiUrl,data:e,async:!0,type:"post",success:function(e){e.success?(t.grid.refresh(),alertify.success("Rows have been deleted!")):alertify.error(e.message)}})}},{key:"recalcSizeParams",value:function(){if(this._isMounted){var e=$(window).height();this.setState({gridHeight:e-280-this.props.deltaHeight})}}}]),v);function v(e){c(this,v);var t=d(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,e));return t.title=DWKitAdminLang.workflowinstance.title,t.titleGetter=function(e){return e.workflowinstance.title},t.panelindex="workflowinstances",t.idfield="id",t.editform=s.default,t.state={popup:{show:!1},filter:{}},t}t.default=m;var g=(f(y,o.default.Component),r(y,[{key:"render",value:function(){var e=b(this.props.value);return o.default.createElement("span",null,e)}}]),y);function y(){return c(this,y),d(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}var b=function(e){return void 0===e?"":255==e?"NotFound":254==e?"Unknown":0==e?"Initialized":1==e?"Running":2==e?"Idled":3==e?"Finalized":4==e?"Terminated":5==e?"Error":e}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=i(n(0)),o=(i(n(2)),n(1));function i(e){return e&&e.__esModule?e:{default:e}}i(n(3));var l,s,u,c=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":R(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(d,i(n(4)).default),l=d,(s=[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.redrawDesigner.bind(this)),this.redrawDesigner()}},{key:"componentWillUnmount",value:function(){null!=this.wfdesigner&&this.wfdesigner.destroy()}},{key:"redrawDesigner",value:function(){if(null!=this.props.parent.props.id){var e,t=$(window).width(),n=$(window).height();WorkflowDesignerConstants.FormMaxHeight=600,null!=this.wfdesigner&&(e=this.wfdesigner.data,this.wfdesigner.destroy()),this.wfdesigner=new WorkflowDesigner({name:"dwkit-admin-wfdesigner",apiurl:this.props.workflowApi,renderTo:"dwkit-admin-wfdesigner",imagefolder:"/images/",graphwidth:t-285-this.props.deltaWidth,graphheight:n-185-this.props.deltaHeight}),null==e?this.loadscheme():(this.wfdesigner.data=e,this.wfdesigner.render())}}},{key:"loadscheme",value:function(){var e={processid:this.props.data.id,readonly:!0};this.wfdesigner.exists(e)?this.wfdesigner.load(e):alertify.error("The process '"+e.processid+"' is not found!"),this.state.id=this.props.data.id}},{key:"render",value:function(){var e=this;return null!=this.wfdesigner&&this.state.id!=this.props.data.id&&this.loadscheme(),this.state.message,a.default.createElement("div",null,a.default.createElement(o.Breadcrumb,null,a.default.createElement(o.Breadcrumb.Section,{onClick:this.props.parent.back.bind(this.props.parent),link:!0},DWKitAdminLang.workflowinstance.title),a.default.createElement(o.Breadcrumb.Divider,null),a.default.createElement(o.Breadcrumb.Section,{active:!0},this.props.data.id," (",this.getInstanceStatus(this.props.data.instanceStatus),")"),a.default.createElement(o.Breadcrumb.Divider,{icon:"right angle"}),a.default.createElement(o.Breadcrumb.Section,{href:"?apanel=workflow&aid="+this.state.id,onClick:this.openScheme.bind(this),link:!0},this.props.data.schemeCode)),a.default.createElement("div",{className:"dwkit-admin-wfdesigner-buttons"},a.default.createElement(o.Button,{className:"buttontype1",onClick:function(){e.setState({opensetstate:!0})}},DWKitAdminLang.workflowinstance.setstatebutton),a.default.createElement(o.Button,{className:"buttontype2",onClick:function(){e.setState({opensetstatus:!0})}},DWKitAdminLang.workflowinstance.setinstancestatusbutton),a.default.createElement(o.Button,{className:"buttontype2",onClick:function(){e.copyToClipboard(e.state.id)}},DWKitAdminLang.workflowinstance.copyprocessid)),a.default.createElement("div",{id:"dwkit-admin-wfdesigner"}),a.default.createElement(o.Modal,{dimmer:"blurring",open:this.state.opensetstate},a.default.createElement(o.Modal.Header,null,DWKitAdminLang.workflowinstance.setstatebutton),a.default.createElement(o.Modal.Content,null,a.default.createElement(o.Input,{label:DWKitAdminLang.workflowinstance.statefield,fluid:!0,name:"newstate",value:this.state.newstate,error:Boolean(this.state.newstateerror),onChange:this.handleStateChange.bind(this)})),a.default.createElement(o.Modal.Actions,null,a.default.createElement(o.Button,{className:"buttontype1",content:DWKitAdminLang.workflowinstance.setstatebutton,onClick:this.onSetState.bind(this)}),a.default.createElement(o.Button,{className:"buttontype2",content:DWKitAdminLang.button.cancel,onClick:function(){e.setState({opensetstate:!1,newstateerror:void 0,newstate:void 0})}}))),a.default.createElement(o.Modal,{dimmer:"blurring",open:this.state.opensetstatus},a.default.createElement(o.Modal.Header,null,DWKitAdminLang.workflowinstance.setinstancestatusbutton),a.default.createElement(o.Modal.Content,null,a.default.createElement(o.Button,{content:"Initialized",onClick:this.onSetInstanceStatus.bind(this,0)}),a.default.createElement(o.Button,{content:"Running",onClick:this.onSetInstanceStatus.bind(this,1)}),a.default.createElement(o.Button,{content:"Idled",onClick:this.onSetInstanceStatus.bind(this,2)}),a.default.createElement(o.Button,{content:"Finalized",onClick:this.onSetInstanceStatus.bind(this,3)})),a.default.createElement(o.Modal.Actions,null,a.default.createElement(o.Button,{className:"buttontype2",content:DWKitAdminLang.button.cancel,onClick:function(){e.setState({opensetstatus:!1})}}))))}},{key:"handleStateChange",value:function(e,t){var n=t.name,r=t.value;this.state[n]=r,this.forceUpdate()}},{key:"openScheme",value:function(e){this.props.parent.props.parent.openpage("workflow",this.props.data.schemeCode),e.preventDefault()}},{key:"onSetState",value:function(){var e=this.state.newstate;if(null==e||""==e)return this.state.newstateerror="error",void this.forceUpdate();this.state.newstateerror=void 0;var t=this,n=new Array;n.push({name:"operation",value:"workflow"}),n.push({name:"suboperation",value:"setstate"}),n.push({name:"processId",value:t.props.data.id}),n.push({name:"state",value:e}),$.ajax({url:t.props.apiUrl,data:n,async:!0,type:"post",success:function(e){t.setState({opensetstate:!1,newstateerror:void 0,newstate:void 0}),e.success?(alertify.success(DWKitAdminLang.workflowinstance.statechangedmsg),t.props.parent.reload(),t.wfdesigner.refresh()):alertify.error(e.message)}})}},{key:"onSetInstanceStatus",value:function(e){var t=this,n=new Array;n.push({name:"operation",value:"workflow"}),n.push({name:"suboperation",value:"setinstancestatus"}),n.push({name:"processId",value:t.props.data.id}),n.push({name:"status",value:e}),$.ajax({url:t.props.apiUrl,data:n,async:!0,type:"post",success:function(e){t.setState({opensetstatus:!1}),e.success?(alertify.success(DWKitAdminLang.workflowinstance.instancestatuschangedmsg),t.props.parent.reload()):alertify.error(e.message)}})}},{key:"getInstanceStatus",value:function(e){return void 0===e?"":255==e?"NotFound":254==e?"Unknown":0==e?"Initialized":1==e?"Running":2==e?"Idled":3==e?"Finalized":4==e?"Terminated":5==e?"Error":e}}])&&r(l.prototype,s),u&&r(l,u),d);function d(e){!function(e){if(!(e instanceof d))throw new TypeError("Cannot call a class as a function")}(this);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":R(t))&&"function"!=typeof t?e:t}(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,e));return t.state={},t}t.default=c},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}i(n(0)),i(n(2)),n(1),i(n(3));var a=i(n(5)),o=i(n(89));function i(e){return e&&e.__esModule?e:{default:e}}var l,s,u,c=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":R(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(d,a.default),l=d,(s=[{key:"gridColumns",value:function(){return[{key:"name",name:DWKitAdminLang.column.name,resizable:!0},{key:"scheme",name:DWKitAdminLang.businessflow.schemecolumn,resizable:!0},{key:"defaultForm",name:DWKitAdminLang.businessflow.defaultformcolumn,resizable:!0}]}},{key:"getDefaultObjectCode",value:function(){return""}},{key:"validate",value:function(){var n=!0,r=this.state.editrow,a=DWKitAdminLang.msg.fieldrequired,e=!!r.name&&this.props.data.businessFlow.some(function(e){return e.name.toLowerCase()===r.name.toLowerCase()&&e.id!==r.id});return r.__error={name:null==r.name||""==r.name?a:void 0,scheme:null==r.scheme||""==r.scheme?a:void 0,defaultForm:null==r.defaultForm||""==r.defaultForm?a:void 0,duplicateName:e},n&=!(r.__error.name||r.__error.scheme||r.__error.defaultForm||e),null!=r.map&&(r.__error.map=[],r.map.forEach(function(e){var t={states:Array.isArray(e.states)&&0!=e.states.length?void 0:a,roles:Array.isArray(e.roles)&&0!=e.roles.length?void 0:a,form:e.form?void 0:a};r.__error.map.push(t),n&=void 0===t.states&&void 0===t.roles&&void 0===t.form})),n}}])&&r(l.prototype,s),u&&r(l,u),d);function d(e){!function(e){if(!(e instanceof d))throw new TypeError("Cannot call a class as a function")}(this);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":R(t))&&"function"!=typeof t?e:t}(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,e));return t.dataindex="businessFlow",t.panelindex="businessflow",t.datatype="businessflow",t.idfield="id",t.editform=o.default,t.title=DWKitAdminLang.businessflow.title,t.titleGetter=function(e){return e.businessflow.title},t}t.default=c},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var c=o(n(0)),d=(o(n(2)),n(1)),a=(o(n(3)),o(n(4))),f=o(n(8));function o(e){return e&&e.__esModule?e:{default:e}}var i,l,s,u=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":R(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(p,a.default),i=p,(l=[{key:"validate",value:function(){return this.props.parent.validate()}},{key:"render",value:function(){this.validate();var e=null==this.props.data?[]:this.props.data;null==e.map&&(e.map=[]);var t=this.handleChange.bind(this,e),n=this.props.onSave.bind(this.props.parent),r=this.props.onCancel.bind(this.props.parent),a=[];a.push({text:"...",value:""}),this.props.metadata.forms.forEach(function(e){a.push({text:e.name,value:e.name})});var o=[];o.push({text:DWKitAdminLang.businessflow.anyroleitem,value:"*"}),this.props.metadata.roles.forEach(function(e){o.push({text:e.name,value:e.code})});var i=[];this.props.metadata.workflow.forEach(function(e){i.push({text:e.code,value:e.code})});var l,s,u=[{key:"states",name:DWKitAdminLang.businessflow.statescolumn,control:"dropdown",options:this.state.statearray,multiple:!0},{key:"roles",name:DWKitAdminLang.businessflow.rolescolumn,control:"dropdown",options:o,multiple:!0},{key:"form",name:DWKitAdminLang.businessflow.formcolumn,control:"dropdown",options:a}];return c.default.createElement("div",{className:"dwkit-formadmin-formedit"},c.default.createElement(d.Breadcrumb,null,c.default.createElement(d.Breadcrumb.Section,{onClick:this.props.parent.back.bind(this.props.parent),link:!0},DWKitAdminLang.businessflow.title),c.default.createElement(d.Breadcrumb.Divider,null),c.default.createElement(d.Breadcrumb.Section,{active:!0},e.name)),c.default.createElement("div",{className:"dwkitadmin-toolbar-editform"},c.default.createElement(d.Button,{className:"buttontype1",onClick:n},DWKitAdminLang.button.save),c.default.createElement(d.Button,{className:"buttontype2",onClick:r},DWKitAdminLang.button.cancel)),c.default.createElement("h1",null,this.props.parent.title),e.__error.duplicateName&&c.default.createElement(d.Message,{color:"red"},DWKitAdminLang.businessflow.nameexistsmsg),c.default.createElement(d.Form,null,c.default.createElement(d.Form.Input,{name:"name",label:DWKitAdminLang.field.name,error:e.__error.name||e.__error.duplicateName,value:e.name,onChange:t}),c.default.createElement(d.Form.Group,{widths:"equal"},c.default.createElement(d.Form.Dropdown,{name:"scheme",label:DWKitAdminLang.businessflow.schemecolumn,options:i,error:Boolean(e.__error.scheme),value:e.scheme,onChange:t,selection:!0,fluid:!0,search:!0}),c.default.createElement(d.Form.Dropdown,(l={name:"defaultForm",placeholder:"...",search:!0,label:DWKitAdminLang.businessflow.defaultformcolumn,error:Boolean(e.__error.defaultForm),options:a,value:e.defaultForm,onChange:t,selection:!0,fluid:!0},(s="search")in l?Object.defineProperty(l,s,{value:!0,enumerable:!0,configurable:!0,writable:!0}):l[s]=!0,l))),c.default.createElement("h2",null,DWKitAdminLang.businessflow.mappingfield),c.default.createElement(f.default,{key:"map",columns:u,name:"map",value:e.map,onChange:t,error:e.__error.map})))}},{key:"handleChange",value:function(e,t,n){var r=n.name,a=n.value,o=n.checked;e[r],e[r]=null==a?o:a,"scheme"===r&&this.updateStates(e.scheme),this.setUpdatedState(this.props.data),this.forceUpdate()}},{key:"handleChildrenChange",value:function(e,t,n){var r=n.name,a=n.value;e[r]=a,this.setUpdatedState(this.props.data),this.forceUpdate()}},{key:"updateStates",value:function(e){var t=this,n=new Array;n.push({name:"operation",value:"workflow"}),n.push({name:"suboperation",value:"getstates"}),n.push({name:"scheme",value:e}),$.ajax({url:t.props.apiUrl,data:n,async:!0,type:"post",success:function(e){e.success?(Array.isArray(e.item)||alertify.error("Unknown format for getstates response!"),t.state.statearray=[{text:DWKitAdminLang.businessflow.anystateitem,value:"*"}],e.item.forEach(function(e){t.state.statearray.push({text:e,value:e})}),t.forceUpdate()):alertify.error(e.message)}})}}])&&r(i.prototype,l),s&&r(i,s),p);function p(e){!function(e){if(!(e instanceof p))throw new TypeError("Cannot call a class as a function")}(this);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":R(t))&&"function"!=typeof t?e:t}(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,e));t.state={statearray:[]};var n=t.props.data;return null!=n&&null!=n.scheme&&""!=n.scheme&&t.updateStates(n.scheme),t}t.default=u},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var p="function"==typeof Symbol&&"symbol"==R(Symbol.iterator)?function(e){return void 0===e?"undefined":R(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":R(e)};function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=i(n(5)),o=i(n(91));function i(e){return e&&e.__esModule?e:{default:e}}n(19);var l,s,u,c=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":R(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(d,a.default),l=d,(s=[{key:"gridColumns",value:function(){return[{key:"name",name:DWKitAdminLang.column.name,resizable:!0}]}},{key:"duplicateCommandMappingCheck",value:function(e,t,n){var r=e.map.filter(t);if(1!==r.length)return n(null,r[0]);for(var a in this.props.data[this.dataindex]){var o=this.props.data[this.dataindex][a];if(o.id!==e.id){var i=o.map.filter(t);if(i.length)return n(o,i[0])}}}},{key:"validateMapping",value:function(n,e){function a(e,t){return e.name===t.name&&e.scheme===t.scheme}var o=e.commands;if(!o||!o.length)return this.duplicateCommandMappingCheck(n,function(e){return!e.commands||0===e.commands.length},function(e){return e?DWKitAdminLang.commandform.duplicatewildcardmappinginotherformmsg(e.name):DWKitAdminLang.commandform.duplicatewildcardmappingmsg});if(1===o.length)return this.duplicateCommandMappingCheck(n,function(e){return e.commands&&1===e.commands.length&&a(e.commands[0],o[0])},function(e,t){var n=t.commands[0];return e?DWKitAdminLang.commandform.duplicateonecommandmappinginotherformmsg(n.scheme+"."+n.name,e.name):DWKitAdminLang.commandform.duplicateonecommandmappingmsg(n.scheme+"."+n.name)})||(n.schemes&&0<n.schemes.length&&!n.schemes.includes(o[0].scheme)?DWKitAdminLang.commandform.schemenotselectedmsg(o[0].scheme,o[0].name):void 0);function t(r){var e=n.map.reduce(function(e,t){if(t.commands&&1<t.commands.length){var n=t.commands.filter(function(e){return a(e,o[r])});n.length&&e.push(n[0])}return e},[]);if(1!==e.length){var t=e[0];return{v:DWKitAdminLang.commandform.duplicatemulticommandmappingmsg(t.scheme+"."+t.name)}}}for(var r in o){var i=t(r);if("object"===(void 0===i?"undefined":p(i)))return i.v}for(var r in this.props.data[this.dataindex]){var l=this.props.data[this.dataindex][r];if(l.id!==n.id){var s=function(r){var e=l.map.reduce(function(e,t){if(t.commands&&1<t.commands.length){var n=t.commands.filter(function(e){return a(e,o[r])});n.length&&e.push(n[0])}return e},[]);if(e.length){var t=e[0];return{v:DWKitAdminLang.commandform.duplicatemulticommandmappinginotherformmsg(t.scheme+"."+t.name,l.name)}}};for(var u in o){var c=s(u);if("object"===(void 0===c?"undefined":p(c)))return c.v}}}if(n.schemes&&0<n.schemes.length)for(var d in o){var f=o[d];if(!n.schemes.includes(f.scheme))return DWKitAdminLang.commandform.schemenotselectedmsg(f.scheme,f.name)}}},{key:"validate",value:function(){var n=this,r=!0,a=this.state.editrow,o=DWKitAdminLang.msg.fieldrequired,e=!!a.name&&this.props.data[this.dataindex].some(function(e){return e.name.toLowerCase()===a.name.toLowerCase()&&e.id!==a.id});return a.__error={name:a.name?void 0:o,duplicateName:e,commandMappingErrors:[]},r&=!a.__error.name&&!e,a.map&&0<a.map.length?(a.__error.map=[],a.map.forEach(function(e){var t={form:e.form?void 0:o,commands:n.validateMapping(a,e)};a.__error.map.push(t),r&=void 0===t.form,t.commands&&!a.__error.commandMappingErrors.includes(t.commands)&&a.__error.commandMappingErrors.push(t.commands)})):(r=!1,a.__error.mapRequired=!0),r}}])&&r(l.prototype,s),u&&r(l,u),d);function d(e){!function(e){if(!(e instanceof d))throw new TypeError("Cannot call a class as a function")}(this);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":R(t))&&"function"!=typeof t?e:t}(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,e));return t.dataindex="commandForms",t.panelindex="commandform",t.datatype="commandform",t.idfield="id",t.editform=o.default,t.titleGetter=function(e){return e.commandform.title},t}t.default=c},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=o(n(0)),u=n(1),a=o(n(4)),c=o(n(8));function o(e){return e&&e.__esModule?e:{default:e}}var i,l,d,f=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":R(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(p,a.default),i=p,(l=[{key:"validate",value:function(){return this.props.parent.validate()}},{key:"render",value:function(){this.validate();var e=this.props.data?this.props.data:{};e.map||(e.map=[]);var t=this.handleChange.bind(this,e),n=this.props.onSave.bind(this.props.parent),r=this.props.onCancel.bind(this.props.parent),a=[];this.props.metadata.forms.forEach(function(e){a.push({text:e.name,value:e.name})});var o=[];this.props.metadata.workflow.forEach(function(e){o.push({text:e.code,value:e.code})});var i=e.map.reduce(function(e,t){return e.concat(t.commands.filter(function(t){return!e.some(function(e){return e.name===t.name&&e.scheme===t.scheme})}))},[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(this.state.commands))).map(function(e){return{text:e.scheme+"."+e.name,value:JSON.stringify(e)}}),l=[{key:"commands",name:DWKitAdminLang.commandform.commandscolumn,control:"dropdown",options:i,multiple:!0,placeholder:"*"},{key:"form",name:DWKitAdminLang.commandform.formcolumn,control:"dropdown",options:a}];return s.default.createElement("div",{className:"dwkit-formadmin-formedit"},s.default.createElement(u.Breadcrumb,null,s.default.createElement(u.Breadcrumb.Section,{onClick:this.props.parent.back.bind(this.props.parent),link:!0},DWKitAdminLang.commandform.title),s.default.createElement(u.Breadcrumb.Divider,null),s.default.createElement(u.Breadcrumb.Section,{active:!0},e.name)),s.default.createElement("div",{className:"dwkitadmin-toolbar-editform"},s.default.createElement(u.Button,{className:"buttontype1",onClick:n},DWKitAdminLang.button.save),s.default.createElement(u.Button,{className:"buttontype2",onClick:r},DWKitAdminLang.button.cancel)),s.default.createElement("h1",null,this.props.parent.title),e.__error.duplicateName&&s.default.createElement(u.Message,{color:"red"},DWKitAdminLang.commandform.nameexistsmsg),e.__error.mapRequired&&s.default.createElement(u.Message,{color:"red"},DWKitAdminLang.commandform.maprequiredsmsg),e.__error.commandMappingErrors&&e.__error.commandMappingErrors.map(function(e){return s.default.createElement(u.Message,{color:"red"},e)}),s.default.createElement(u.Form,null,s.default.createElement(u.Form.Input,{name:"name",label:DWKitAdminLang.field.name,error:e.__error.name||e.__error.duplicateName,value:e.name,onChange:t}),s.default.createElement(u.Form.Group,{widths:"equal"},s.default.createElement(u.Form.Dropdown,{placeholder:"*",name:"schemes",label:DWKitAdminLang.commandform.schemescolumn,options:o,value:e.schemes,onChange:t,selection:!0,fluid:!0,search:!0,multiple:!0})),s.default.createElement("h2",null,DWKitAdminLang.commandform.mappingfield),s.default.createElement(c.default,{key:"map",columns:l,name:"map",value:e.map.map(function(e){return{form:e.form,commands:e.commands.map(function(e){return JSON.stringify(e)})}}),onChange:t,error:e.__error.map})))}},{key:"handleChange",value:function(e,t,n){var r=n.name,a=n.value,o=n.checked;e[r]=void 0===a?o:"map"===r?a.map(function(e){return{form:e.form,commands:e.commands?e.commands.map(function(e){return JSON.parse(e)}):[]}}):a,"schemes"===r&&this.updateCommands(e.schemes),this.setUpdatedState(this.props.data),this.forceUpdate()}},{key:"handleChildrenChange",value:function(e,t,n){var r=n.name,a=n.value;e[r]=a,this.setUpdatedState(this.props.data),this.forceUpdate()}},{key:"updateCommands",value:function(e){var t=this,n=new Array;n.push({name:"operation",value:"workflow"}),n.push({name:"suboperation",value:"getcommands"}),n.push({name:"schemes",value:JSON.stringify(e)}),$.ajax({url:this.props.apiUrl,data:n,async:!0,type:"post",success:function(e){e.success?(Array.isArray(e.item)||alertify.error("Unknown format for getstates response!"),t.setState({commands:e.item})):alertify.error(e.message)}})}}])&&r(i.prototype,l),d&&r(i,d),p);function p(e){!function(e){if(!(e instanceof p))throw new TypeError("Cannot call a class as a function")}(this);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":R(t))&&"function"!=typeof t?e:t}(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,e));t.state={commands:[]};var n=t.props.data;return n&&t.updateCommands(n.schemes),t}t.default=f},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=s(n(0)),o=n(1),i=s(n(93)),l=s(n(94));function s(e){return e&&e.__esModule?e:{default:e}}var u,c,d,f=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":R(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(p,i.default),u=p,(c=[{key:"gridColumns",value:function(){return[{key:"name",name:DWKitAdminLang.column.name,resizable:!0},{key:"email",name:DWKitAdminLang.user.emailfield,resizable:!0},{key:"login",name:DWKitAdminLang.user.loginfield,resizable:!0,sortable:!1},{key:"domainLogin",name:DWKitAdminLang.user.domainloginfield,resizable:!0,sortable:!1},{key:"isLocked",name:DWKitAdminLang.user.lockedfield,resizable:!0,type:"checkbox"},{key:"rolesStr",name:DWKitAdminLang.user.rolesfield,resizable:!0,sortable:!1},{key:"groupsStr",name:DWKitAdminLang.user.groupsfield,resizable:!0,sortable:!1},{key:"externalId",name:DWKitAdminLang.user.externalIdField,resizable:!0,sortable:!1}]}},{key:"renderToolbar",value:function(){var e=this,t=this;this.state.filter||(this.state.filter={});var n=this.props.data.additionalParams.IsAvailableADImport;return a.default.createElement("div",{className:"dwkitadmin-toolbar"},this.renderImportResult(),a.default.createElement("div",{className:"dwkitadmin-toolbarfilter"},a.default.createElement(o.Form,null,a.default.createElement(o.Form.Group,{widths:"equal"},a.default.createElement(o.Form.Input,{name:"filter",label:DWKitAdminLang.field.name,value:this.state.filter.filter,onChange:this.handleFilterChange.bind(this)}),a.default.createElement(o.Button,{className:"buttontype2",content:DWKitAdminLang.button.search,onClick:this.onSearch.bind(this)})))),a.default.createElement(o.Button,{className:"buttontype1",onClick:function(){e.props.parent.openpage(e.panelindex,"new")}},DWKitAdminLang.button.create),a.default.createElement(o.Button,{className:"buttontype2",onClick:function(){t.setState({confirmdeleteshow:!0})}},DWKitAdminLang.button.delete),n&&a.default.createElement(o.Button,{onClick:this.showconfirmimport},DWKitAdminLang.button.importFromAd),a.default.createElement("span",null,DWKitAdminLang.msg.totalcount," ",t.state.rowsCount))}},{key:"renderConfirmModals",value:function(){return a.default.createElement(o.Confirm,{open:this.state.confirmimportshow,dimmer:"blurring",content:DWKitAdminLang.user.confirmimport,onCancel:this.hideconfirmdimport,onConfirm:this.confirmimport})}},{key:"renderImportResult",value:function(){if(!this.state.importResult)return null;function e(e){return isNaN(e)?e:a.default.createElement("b",null,e)}var t=this.state.importResult.GroupResult,n=this.state.importResult.UserResult;return a.default.createElement(o.Message,{onDismiss:this.clearImportResult},a.default.createElement(o.Message.Header,null,DWKitAdminLang.user.adimportresultheader),a.default.createElement(o.Message.List,null,t&&a.default.createElement(o.Message.Item,null,DWKitAdminLang.user.groupimportresultmsg(t.returned,t.added,t.deleted).map(e)),t&&0<t.duplicateNames.length&&a.default.createElement(o.Message.Item,null,DWKitAdminLang.user.groupswithduplicatenamesmsg,t.duplicateNames.map(function(e,t){return[0<t&&", ",a.default.createElement("b",null,e)]})),n&&a.default.createElement(o.Message.Item,null,DWKitAdminLang.user.userimportresultmsg(n.returned,n.added,n.updated,n.locked).map(e)),n&&0<n.duplicateCredentials.length&&a.default.createElement(o.Message.Item,null,DWKitAdminLang.user.userswithduplicateloginmsg,n.duplicateCredentials.map(function(e,t){return[0<t&&", ",a.default.createElement("b",null,e)]}))))}},{key:"handleFilterChange",value:function(e,t){var n=t.name,r=t.value;this.state.filter[n]=r,this.forceUpdate()}},{key:"onSearch",value:function(){this.grid.refresh()}},{key:"validate",value:function(){var e=!0,t=this.state.editrow,n=DWKitAdminLang.msg.fieldrequired;return t.__error={name:t.name?void 0:n},e&void 0===t.__error.name}},{key:"applyeditrow",value:function(){for(var e=this.state.editrow[this.idfield],t=-1,n=this.props.data[this.dataindex],r=0;r<n.length;r++)if(e===n[r][this.idfield]){t=r;break}this.state.editrow.password=void 0,0<=t?this.props.data[this.dataindex][t]=this.state.editrow:this.props.data[this.dataindex].unshift(this.state.editrow)}},{key:"getAdditionalDataForControl",value:function(e,t,n){var r=t.startIndex,a=t.pageSize,o=(t.filters,t.sort),i=this,l=new Array;l.push({name:"operation",value:"users"}),l.push({name:"suboperation",value:"loadlist"}),l.push({name:"skip",value:r}),l.push({name:"take",value:a}),l.push({name:"sort",value:o}),null!=i.state.filter.filter&&""!=i.state.filter.filter&&l.push({name:"filter",value:i.state.filter.filter}),$.ajax({url:i.props.apiUrl,data:l,async:!0,type:"post",success:function(e){e.success?(n({sIndex:r,pSize:a,rowsCount:e.item.count,items:e.item.users}),i.setState({rowsCount:e.item.count})):alertify.error(e.message)}})}},{key:"getEditRow",value:function(){var e=this.props.id;if("new"===e){var t=this.createNewObject(),n=this.props.data.settings.find(function(e){return"RTL"==e.name});return n&&n.value&&(t.isRTL=!0),t}var r=new Array;r.push({name:"operation",value:"users"}),r.push({name:"suboperation",value:"load"}),r.push({name:"id",value:e});var a=$.ajax({url:this.props.apiUrl,data:r,async:!1,type:"post"}).responseJSON;if(a.success)return null==a.item?(alertify.error(DWKitAdminLang.msg.objectnotfound),this.back(),{}):a.item;alert(a.message)}},{key:"recalcSizeParams",value:function(){if(this._isMounted){var e=$(window).height();this.setState({gridHeight:e-280-this.props.deltaHeight})}}}])&&r(u.prototype,c),d&&r(u,d),p);function p(e){!function(e){if(!(e instanceof p))throw new TypeError("Cannot call a class as a function")}(this);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":R(t))&&"function"!=typeof t?e:t}(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,e));return t.showconfirmimport=function(){t.setState({confirmimportshow:!0})},t.hideconfirmdimport=function(){t.setState({confirmimportshow:!1})},t.confirmimport=function(){t.setState({confirmimportshow:!1});var e=new Array;e.push({name:"operation",value:"securityimport"}),$.ajax({url:t.props.apiUrl,data:e,async:!0,type:"post",success:function(e){e.success?(t.setState({importResult:e.result}),t.props.parent.load(function(){t.grid.refresh()}),alertify.success(DWKitAdminLang.user.importfinishedmsg)):alertify.error(e.message),Pace.stop()},error:function(e){Pace.stop();var t;t=0===e.status?"Not connect.\n Verify Network.":404==e.status?"Requested page not found. [404]":500==e.status?"Internal Server Error [500].":"parsererror"===exception?"Requested JSON parse failed.":"timeout"===exception?"Time out error.":"abort"===exception?"Ajax request aborted.":"Uncaught Error.\n"+e.responseText,alertify.error(t)}})},t.clearImportResult=function(){t.setState({importResult:null})},t.dataindex="users",t.panelindex="users",t.idfield="id",t.editform=l.default,t.datatype="users",t.title=DWKitAdminLang.user.title,t.titleGetter=function(e){return e.user.title},t}t.default=f},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=i(n(0)),o=(i(n(2)),i(n(4)),n(1));function i(e){return e&&e.__esModule?e:{default:e}}i(n(3));var l,s,u,c=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":R(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(d,i(n(31)).default),l=d,(s=[{key:"back",value:function(){this.state.openmodal=!1,function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0}(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"back",this).call(this)}},{key:"render",value:function(){return this.state.editrowid!=this.props.id&&this.loadeditrow(),a.default.createElement("div",null,this.renderMainForm(),this.renderEditFormModal(),this.renderConfirmModals())}},{key:"renderConfirmModals",value:function(){return null}},{key:"renderEditFormModal",value:function(){return null!=this.props.id&&(this.state.openmodal=!0),a.default.createElement(o.Modal,{dimmer:"inverted",open:this.state.openmodal,onClose:this.onModalFormClose.bind(this)},a.default.createElement(o.Modal.Content,null,a.default.createElement(o.Modal.Description,null,this.renderEditForm())),a.default.createElement(o.Modal.Actions,null,a.default.createElement(o.Button,{className:"buttontype1",onClick:this.onModalFormSave.bind(this)},DWKitAdminLang.button.save),a.default.createElement(o.Button,{className:"buttontype2",onClick:this.onModalFormClose.bind(this)},DWKitAdminLang.button.close)))}},{key:"onModalFormSave",value:function(){var t=this;this.validate()?null!=(t=this).state.editrow.__state?(t.state.editrow.__type=this.datatype,this.ChangeData([t.state.editrow],function(e){t.ResetSystemProps(t.state.editrow),t.applyeditrow(),t.grid.refresh(),t.back()})):this.onModalFormClose():alertify.error(DWKitAdminLang.msg.checkerrorsonform)}},{key:"onModalFormClose",value:function(){this.back()}}])&&r(l.prototype,s),u&&r(l,u),d);function d(e){!function(e){if(!(e instanceof d))throw new TypeError("Cannot call a class as a function")}(this);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":R(t))&&"function"!=typeof t?e:t}(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,e));return t.state.openmodal=!1,t}t.default=c},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=a(n(0)),u=n(1);function a(e){return e&&e.__esModule?e:{default:e}}var o,i,l,c=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":R(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(d,a(n(4)).default),o=d,(i=[{key:"validate",value:function(){return this.props.parent.validate()}},{key:"removeExternalLogin",value:function(t){var e=this.props.data;e.externalLogins=e.externalLogins.filter(function(e){return e.name!==t.name&&e.externalId!==t.externalId}),this.setUpdatedState(e),this.forceUpdate()}},{key:"renderExternalLogin",value:function(t){var e=this.props.parent.props.data.additionalParams.ExternalLoginProviders.filter(function(e){return e.name===t.name}),n=e.length?e[0].displayName:t.name;return s.default.createElement(u.Label,null,n,s.default.createElement(u.Label.Detail,null,t.externalId),s.default.createElement(u.Icon,{name:"delete",onClick:this.removeExternalLogin.bind(this,t)}))}},{key:"render",value:function(){var t=this;this.validate();for(var e=[],n=0;n<this.props.metadata.groups.length;n++){var r=this.props.metadata.groups;e.push({text:r[n].name,value:r[n].id})}for(var a=[],o=0;o<this.props.metadata.roles.length;o++){var i=this.props.metadata.roles;a.push({text:i[o].name,value:i[o].id})}var l=this.props.data;return s.default.createElement(u.Form,null,s.default.createElement(u.Form.Group,{widths:"equal"},s.default.createElement("div",{className:"field"},s.default.createElement(u.Form.Input,{name:"name",label:DWKitAdminLang.field.name,error:Boolean(l.__error.name),value:l.name,onChange:this.handleChange.bind(this,l)}),s.default.createElement(u.Form.Input,{name:"email",label:DWKitAdminLang.user.emailfield,error:Boolean(l.__error.email),value:l.email,onChange:this.handleChange.bind(this,l)}),s.default.createElement(u.Form.Input,{name:"domainLogin",label:DWKitAdminLang.user.domainloginfield,error:Boolean(l.__error.domainLogin),value:l.domainLogin,onChange:this.handleChange.bind(this,l)}),s.default.createElement(u.Form.Input,{name:"localization",label:DWKitAdminLang.user.localizationfield,error:Boolean(l.__error.localization),value:l.localization,onChange:this.handleChange.bind(this,l)})),s.default.createElement("div",{className:"field"},s.default.createElement(u.Form.Input,{name:"login-new",label:DWKitAdminLang.user.loginfield,error:Boolean(l.__error.login),value:l.login,onChange:this.handleChange.bind(this,l)}),s.default.createElement(u.Form.Input,{type:"password",name:"password-new",placeholder:"*********",label:DWKitAdminLang.user.passwordfield,error:Boolean(l.__error.password),value:l.password,onChange:this.handleChange.bind(this,l)}),s.default.createElement(u.Form.Checkbox,{name:"isLocked",label:DWKitAdminLang.user.lockedfield,error:Boolean(l.__error.isLocked),checked:1==l.isLocked,onChange:this.handleChange.bind(this,l)}),s.default.createElement(u.Form.Checkbox,{name:"isRTL",label:DWKitAdminLang.user.rtlfield,error:Boolean(l.__error.isRTL),checked:l.isRTL,onChange:this.handleChange.bind(this,l)}))),s.default.createElement(u.Form.Group,{widths:"equal"},s.default.createElement(u.Form.Dropdown,{label:DWKitAdminLang.user.groupsfield,name:"groups",error:Boolean(l.__error.groups),multiple:!0,search:!0,selection:!0,options:e,value:null==l.groups?[]:l.groups,onChange:this.handleChange.bind(this,l)}),s.default.createElement(u.Form.Dropdown,{label:DWKitAdminLang.user.rolesfield,name:"roles",error:Boolean(l.__error.roles),multiple:!0,search:!0,selection:!0,options:a,value:null==l.roles?[]:l.roles,onChange:this.handleChange.bind(this,l)})),l.externalLogins&&0<l.externalLogins.length&&s.default.createElement(u.Form.Group,{widths:"equal"},s.default.createElement(u.Container,{fluid:!0},s.default.createElement(u.Header,{size:"medium"},DWKitAdminLang.user.externallogins),l.externalLogins.map(function(e){return t.renderExternalLogin(e)}))))}},{key:"handleChange",value:function(e,t,n){var r=n.name,a=n.value,o=n.checked;"login-new"===r?r="login":"password-new"===r&&(r="password"),e[r],e[r]=null==a?o:a,this.setUpdatedState(this.props.data),this.forceUpdate()}}])&&r(o.prototype,i),l&&r(o,l),d);function d(e){!function(e){if(!(e instanceof d))throw new TypeError("Cannot call a class as a function")}(this);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":R(t))&&"function"!=typeof t?e:t}(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,e));return t.state={},t}t.default=c},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}i(n(0)),i(n(2)),n(1),i(n(3));var a=i(n(5)),o=i(n(96));function i(e){return e&&e.__esModule?e:{default:e}}var l,s,u,c=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":R(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(d,a.default),l=d,(s=[{key:"gridColumns",value:function(){return[{key:"code",name:DWKitAdminLang.column.code,resizable:!0},{key:"name",name:DWKitAdminLang.column.name,resizable:!0}]}},{key:"validate",value:function(){var e=!0,t=this.state.editrow,n=DWKitAdminLang.msg.fieldrequired;return t.__error={name:null==t.name||""==t.name?n:void 0,code:null==t.code||""==t.code?n:void 0},e&(null==t.__error.name&&null==t.__error.code)}}])&&r(l.prototype,s),u&&r(l,u),d);function d(e){!function(e){if(!(e instanceof d))throw new TypeError("Cannot call a class as a function")}(this);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":R(t))&&"function"!=typeof t?e:t}(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,e));return t.dataindex="roles",t.panelindex="roles",t.defaultNamePrefix="role",t.idfield="id",t.editform=o.default,t.title=DWKitAdminLang.role.title,t.titleGetter=function(e){return e.role.title},t.datatype="roles",t}t.default=c},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=l(n(0)),o=(l(n(2)),n(1)),i=l(n(97));function l(e){return e&&e.__esModule?e:{default:e}}var s,u,c,d=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":R(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(f,l(n(4)).default),s=f,(u=[{key:"validate",value:function(){return this.props.parent.validate()}},{key:"render",value:function(){this.validate();var e=this.props.data;null==e.permissions&&(e.permissions=[]);var t=this.props.onSave.bind(this.props.parent),n=this.props.onCancel.bind(this.props.parent);return a.default.createElement("div",{className:"dwkit-formadmin-formedit"},a.default.createElement(o.Breadcrumb,null,a.default.createElement(o.Breadcrumb.Section,{onClick:this.props.parent.back.bind(this.props.parent),link:!0},DWKitAdminLang.role.title),a.default.createElement(o.Breadcrumb.Divider,null),a.default.createElement(o.Breadcrumb.Section,{active:!0},this.props.data.name)),a.default.createElement("div",{className:"dwkitadmin-toolbar-editform"},a.default.createElement(o.Button,{className:"buttontype1",onClick:t},DWKitAdminLang.button.save),a.default.createElement(o.Button,{className:"buttontype2",onClick:n},DWKitAdminLang.button.cancel)),a.default.createElement("h1",null,this.props.parent.title),a.default.createElement(o.Form,null,a.default.createElement(o.Form.Input,{name:"code",label:DWKitAdminLang.field.code,error:Boolean(e.__error.code),value:e.code,onChange:this.handleChange.bind(this,e)}),a.default.createElement(o.Form.Input,{name:"name",label:DWKitAdminLang.field.name,error:Boolean(e.__error.name),value:e.name,onChange:this.handleChange.bind(this,e)}),a.default.createElement("h1",null,"Permissions"),a.default.createElement(i.default,{items:this.props.metadata.permissions,value:e.permissions,parent:this})))}},{key:"handleChange",value:function(e,t,n){var r=n.name,a=n.value,o=n.checked,i=e[r];e[r]=null==a?o:a,"code"==r&&(i!=e.name&&null!=e.name||(e.name=e.code)),this.setUpdatedState(this.props.data),this.forceUpdate()}}])&&r(s.prototype,u),c&&r(s,c),f);function f(e){!function(e){if(!(e instanceof f))throw new TypeError("Cannot call a class as a function")}(this);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":R(t))&&"function"!=typeof t?e:t}(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,e));return t.state={},t}t.default=d},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a,o,i,l,u=(a=n(0))&&a.__esModule?a:{default:a},c=n(1),s=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":R(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(d,u.default.Component),o=d,(i=[{key:"handleChange",value:function(e,t,n){n.name;for(var r=n.value,a=(n.checked,this.props.value),o=!1,i=0;i<a.length;i++)if(a[i].id==e){a[i].accessType=r,o=!0;break}o||this.props.value.push({id:e,accessType:r}),this.props.parent.setUpdatedState(this.props.parent.props.data),this.forceUpdate()}},{key:"setAccessType",value:function(e,t){if(e&&e.children){for(var n=this.props.value,r=0;r<e.children.length;r++){for(var a=!1,o=0;o<n.length;o++)n[o].id==e.children[r].id&&(n[o].accessType=t,a=!0);a||n.push({id:e.children[r].id,accessType:t})}this.props.parent.setUpdatedState(this.props.parent.props.data),this.forceUpdate()}}},{key:"render",value:function(){for(var e=[],t=this.props.items,n=0;n<t.length;n++){var r=t[n],a=r.name;r.code!==r.name&&(a+=" ("+r.code+")");var o="rolegroup_"+r.id,i=u.default.createElement(c.Form.Group,{key:o,widths:"16",className:"dwkit-formadmin-item"},u.default.createElement("div",{className:"field"},u.default.createElement(c.Form.Input,{key:"groupName",value:a,readOnly:!0}),u.default.createElement("div",null,u.default.createElement("a",{onClick:this.setAccessType.bind(this,r,0)},DWKitAdminLang.role.resetbutton),"  ",u.default.createElement("a",{onClick:this.setAccessType.bind(this,r,1)},DWKitAdminLang.role.allowbutton),"  ",u.default.createElement("a",{onClick:this.setAccessType.bind(this,r,2)},DWKitAdminLang.role.denybutton))),u.default.createElement("div",null,this.renderChildren(r,this.props.value)));e.push(i)}return u.default.createElement("div",null,e)}},{key:"renderChildren",value:function(e,t){for(var n=[],r=0;r<e.children.length;r++){var a=e.children[r],o=a.name;a.Code!=a.name&&(o+=" ("+a.code+")");var i="roleperm_"+a.id,l=this.getAccessType(a.id,t),s=u.default.createElement("div",{key:i+"_div"},u.default.createElement(c.Form.Group,{key:"group",className:"dwkit-formadmin-rolepersmissionsgroup"},u.default.createElement("div",{key:"c1",className:"field"},u.default.createElement("label",{key:"divlabel"},o),u.default.createElement(c.Form.Group,{key:"divgroup",widths:"equal"},u.default.createElement(c.Form.Radio,{key:"type0",name:i+"_type",label:DWKitAdminLang.role.inheritedtype,value:0,checked:0==l,onChange:this.handleChange.bind(this,a.id)}),u.default.createElement(c.Form.Radio,{key:"type1",name:i+"_type",label:DWKitAdminLang.role.allowtype,value:1,checked:1==l,onChange:this.handleChange.bind(this,a.id)}),u.default.createElement(c.Form.Radio,{key:"type2",name:i+"_type",label:DWKitAdminLang.role.denytype,value:2,checked:2==l,onChange:this.handleChange.bind(this,a.id)})))));n.push(s)}return n}},{key:"getAccessType",value:function(e,t){var n=0;if(null==t)return n;for(var r=0;r<t.length;r++)if(t[r].id==e){n=t[r].accessType;break}return n}}])&&r(o.prototype,i),l&&r(o,l),d);function d(e){return function(e){if(!(e instanceof d))throw new TypeError("Cannot call a class as a function")}(this),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":R(t))&&"function"!=typeof t?e:t}(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,e))}t.default=s},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}i(n(0)),i(n(2)),n(1);var a=i(n(99)),o=i(n(100));function i(e){return e&&e.__esModule?e:{default:e}}var l,s,u,c=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":R(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(d,a.default),l=d,(s=[{key:"gridColumns",value:function(){return[{key:"name",name:DWKitAdminLang.column.name,resizable:!0},{key:"isSyncWithDomainGroup",name:DWKitAdminLang.group.syncwithdomainfield,type:"checkbox",resizable:!0}]}},{key:"validate",value:function(){var e=!0,t=this.state.editrow,n=DWKitAdminLang.msg.fieldrequired;return t.__error={name:null==t.name||""==t.name?n:void 0},e&null==t.__error.name}}])&&r(l.prototype,s),u&&r(l,u),d);function d(e){!function(e){if(!(e instanceof d))throw new TypeError("Cannot call a class as a function")}(this);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":R(t))&&"function"!=typeof t?e:t}(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,e));return t.dataindex="groups",t.panelindex="groups",t.idfield="id",t.editform=o.default,t.datatype="groups",t.title=DWKitAdminLang.group.title,t.titleGetter=function(e){return e.group.title},t}t.default=c},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=i(n(0)),o=(i(n(2)),i(n(4)),n(1));function i(e){return e&&e.__esModule?e:{default:e}}i(n(3));var l,s,u,c=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":R(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(d,i(n(5)).default),l=d,(s=[{key:"back",value:function(){this.state.openmodal=!1,function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0}(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"back",this).call(this)}},{key:"render",value:function(){return this.state.editrowid!=this.props.id&&this.loadeditrow(),a.default.createElement("div",null,this.renderMainForm(),this.renderEditFormModal())}},{key:"renderEditFormModal",value:function(){return null!=this.props.id&&(this.state.openmodal=!0),a.default.createElement(o.Modal,{dimmer:"inverted",open:this.state.openmodal,onClose:this.onModalFormClose.bind(this)},a.default.createElement(o.Modal.Content,null,a.default.createElement(o.Modal.Description,null,this.renderEditForm())),a.default.createElement(o.Modal.Actions,null,a.default.createElement(o.Button,{className:"buttontype1",onClick:this.onModalFormSave.bind(this)},DWKitAdminLang.button.save),a.default.createElement(o.Button,{className:"buttontype2",onClick:this.onModalFormClose.bind(this)},DWKitAdminLang.button.close)))}},{key:"onModalFormSave",value:function(){var t=this;this.validate()?null!=(t=this).state.editrow.__state?(t.state.editrow.__type=this.datatype,this.ChangeData([t.state.editrow],function(e){t.ResetSystemProps(t.state.editrow),t.applyeditrow(),t.grid.refresh(),t.back()})):this.onModalFormClose():alertify.error(DWKitAdminLang.msg.checkerrorsonform)}},{key:"onModalFormClose",value:function(){this.back()}}])&&r(l.prototype,s),u&&r(l,u),d);function d(e){!function(e){if(!(e instanceof d))throw new TypeError("Cannot call a class as a function")}(this);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":R(t))&&"function"!=typeof t?e:t}(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,e));return t.state.openmodal=!1,t}t.default=c},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=i(n(0)),o=(i(n(2)),n(1));function i(e){return e&&e.__esModule?e:{default:e}}i(n(3));var l,s,u,c=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":R(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(d,i(n(4)).default),l=d,(s=[{key:"validate",value:function(){return this.props.parent.validate()}},{key:"render",value:function(){this.validate();for(var e=[],t=0;t<this.props.metadata.roles.length;t++){var n=this.props.metadata.roles;e.push({text:n[t].name,value:n[t].id})}var r=null==this.props.data?[]:this.props.data;return a.default.createElement(o.Form,null,a.default.createElement(o.Form.Input,{name:"name",label:DWKitAdminLang.field.name,error:Boolean(r.__error.name),value:r.name,onChange:this.handleChange.bind(this,r)}),a.default.createElement(o.Form.Dropdown,{label:DWKitAdminLang.group.rolesfield,name:"roles",error:Boolean(r.__error.roles),multiple:!0,search:!0,selection:!0,options:e,value:null==r.roles?[]:r.roles,onChange:this.handleChange.bind(this,r)}),a.default.createElement(o.Form.Checkbox,{name:"isSyncWithDomainGroup",label:DWKitAdminLang.group.syncwithdomainfield,checked:r.isSyncWithDomainGroup,onChange:this.handleChange.bind(this,r)}))}},{key:"handleChange",value:function(e,t,n){var r=n.name,a=n.value,o=n.checked;e[r]=null==a?o:a,this.setUpdatedState(this.props.data),this.forceUpdate()}}])&&r(l.prototype,s),u&&r(l,u),d);function d(e){!function(e){if(!(e instanceof d))throw new TypeError("Cannot call a class as a function")}(this);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":R(t))&&"function"!=typeof t?e:t}(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,e));return t.state={},t}t.default=c},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=s(n(0)),i=s(n(4)),l=n(1);function s(e){return e&&e.__esModule?e:{default:e}}var u,c,d,f=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":R(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(p,i.default),u=p,(c=[{key:"initData",value:function(e){function t(e,t){return e.name>t.name?1:e.name<t.name?-1:0}var n=this.СloneObj(e);n.forEach(function(e){null!=e.children&&(e.children=e.children.sort(t))}),n=n.sort(t),this.state.data=n}},{key:"render",value:function(){this.validate();for(var e=[],t=this.state.data,n=0;n<t.length;n++){var r=t[n];if("deleted"!=r.__state){var a=o.default.createElement("div",{key:"g_"+t[n].id,className:"dwkit-formadmin-item"},o.default.createElement(l.Form,{key:"form"},o.default.createElement(l.Form.Group,{key:"group"},o.default.createElement("div",{key:"div",className:"field",widths:"6"},o.default.createElement(l.Form.Input,{key:"code",name:"code",label:DWKitAdminLang.field.code,error:Boolean(r.__error.code),value:r.code,onChange:this.handleChange.bind(this,r)}),o.default.createElement(l.Form.Input,{key:"name",name:"name",label:DWKitAdminLang.field.name,error:Boolean(r.__error.name),value:r.name,onChange:this.handleChange.bind(this,r)}),o.default.createElement("div",{key:"buttons",style:{marginTop:"10px"}},o.default.createElement("a",{key:"btndelete",onClick:this.onDeleteGroup.bind(this,t[n].id)},DWKitAdminLang.permission.deletegroupbutton),"  ",o.default.createElement("a",{key:"btncreatepermission",onClick:this.onCreatePermission.bind(this,t[n].id)},DWKitAdminLang.permission.createpermissionbutton))),o.default.createElement("div",{key:"children",className:"field",widths:"10"},this.renderChildren(t[n])))));e.push(a)}}return o.default.createElement("div",null,o.default.createElement("h1",null,DWKitAdminLang.permission.managepermissionsfield),o.default.createElement("div",{className:"dwkitadmin-toolbar"},o.default.createElement(l.Button,{className:"buttontype1",onClick:this.onCreateGroup.bind(this)},DWKitAdminLang.permission.creategroupbutton),this.state.ischanged&&o.default.createElement(l.Button,{className:"buttontype1",onClick:this.onSave.bind(this)},DWKitAdminLang.button.save),this.state.ischanged&&o.default.createElement(l.Button,{className:"buttontype2",onClick:this.onCancel.bind(this)},DWKitAdminLang.button.cancel)),e)}},{key:"renderChildren",value:function(e){if(null!=e.children&&0!=e.children.length){for(var t=[],n=0;n<e.children.length;n++){var r=e.children[n],a=o.default.createElement(l.Form.Group,{key:"group_"+r.id,widths:"equal"},o.default.createElement(l.Form.Input,{key:"code",name:"code",label:DWKitAdminLang.field.code,error:Boolean(r.__error.code),value:r.code,onChange:this.handleChange.bind(this,r)}),o.default.createElement(l.Form.Input,{key:"name",name:"name",label:DWKitAdminLang.field.name,error:Boolean(r.__error.name),value:r.name,onChange:this.handleChange.bind(this,r)}),o.default.createElement(l.Image,{className:"dwkit-buttonimage",key:"btndelete",src:"/images/dwkit-delete.png",onClick:this.onDeletePermission.bind(this,e,r.id)}));t.push(a)}return t}}},{key:"handleChange",value:function(e,t,n){var r=n.name,a=n.value,o=(n.checked,e[r]);e[r]=a,"code"==r&&(o!=e.name&&null!=e.name||(e.name=e.code)),this.setUpdatedState(e),this.state.ischanged=!0,this.forceUpdate()}},{key:"validate",value:function(){var n=!0;return this.state.data.forEach(function(e){var t=DWKitAdminLang.msg.fieldrequired;e.__error={code:null==e.code||""==e.code?t:void 0,name:null==e.name||""==e.name?t:void 0},n&=null==e.__error.code&&null==e.__error.name,null!=e.children&&e.children.forEach(function(e){e.__error={code:null==e.code||""==e.code?t:void 0,name:null==e.name||""==e.name?t:void 0},n&=null==e.__error.code&&null==e.__error.name})}),n}},{key:"onSave",value:function(){var n=this;if(this.validate()){var r=[];this.state.data.forEach(function(e){if(null!=e.__state)r.push(a({},e,{isGroup:!0,__type:n.datatype}));else if(null!=e.children){var t=!1;e.children.forEach(function(e){null!=e.__state&&(t=!0)}),t&&r.push(a({},e,{isGroup:!0,__state:"updated",__type:n.datatype}))}}),this.ChangeData(r,function(e){n.ResetSystemProps(n.state.data),n.props.data.permissions=n.state.data,n.props.data.roles.forEach(function(e){e.permissions=e.permissions.filter(function(t){return n.props.data.permissions.some(function(e){return e.children.some(function(e){return e.id===t.id})})})}),n.onCancel()})}else alertify.error(DWKitAdminLang.msg.checkerrorsonform)}},{key:"onCancel",value:function(){this.initData(this.props.data.permissions),this.state.ischanged=!1,this.forceUpdate()}},{key:"onCreateGroup",value:function(){this.state.data.unshift({id:this.NewGUID(),__state:"inserted"}),this.state.ischanged=!0,this.forceUpdate()}},{key:"onDeleteGroup",value:function(e){for(var t=this.state.data,n=void 0,r=0;r<t.length;r++)if(t[r].id==e){n=r;break}null!=n&&("inserted"==t[r].__state?t.splice(n,1):t[r].__state="deleted"),this.state.ischanged=!0,this.forceUpdate()}},{key:"onCreatePermission",value:function(e){for(var t=this.state.data,n=0;n<t.length;n++)if(t[n].id==e){null==t[n].children&&(t[n].children=[]),t[n].children.unshift({id:this.NewGUID(),__state:"inserted"});break}this.state.ischanged=!0,this.forceUpdate()}},{key:"onDeletePermission",value:function(e,t){this.state.data;for(var n=void 0,r=0;r<e.children.length;r++)if(e.children[r].id==t){n=r;break}null!=n&&(e.children.splice(n,1),void 0!==e.__state&&null!==e.__state||(e.__state="updated")),this.state.ischanged=!0,this.forceUpdate()}}])&&r(u.prototype,c),d&&r(u,d),p);function p(e){!function(e){if(!(e instanceof p))throw new TypeError("Cannot call a class as a function")}(this);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":R(t))&&"function"!=typeof t?e:t}(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,e));return t.datatype="permissions",t.state={},t.initData(e.data.permissions),t}t.default=f}],_.c=S,_.d=function(e,t,n){_.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},_.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},_.t=function(t,e){if(1&e&&(t=_(t)),8&e)return t;if(4&e&&"object"==(void 0===t?"undefined":R(t))&&t&&t.__esModule)return t;var n=Object.create(null);if(_.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)_.d(n,r,function(e){return t[e]}.bind(null,r));return n},_.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return _.d(t,"a",t),t},_.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},_.p="",_(_.s=32);function _(e){if(S[e])return S[e].exports;var t=S[e]={i:e,l:!1,exports:{}};return O[e].call(t.exports,t,t.exports,_),t.l=!0,t.exports}var O,S},"object"==R(o)&&"object"==R(e)?e.exports=a(i(64),i(128),i(92),i(129),i(130),i(131),i(132),i(133),i(134),i(135),i(136),i(137),i(138),i(139),i(140),i(141),i(142),i(143),i(144),i(145),i(146),i(147)):(n=[i(64),i(128),i(92),i(129),i(130),i(131),i(132),i(133),i(134),i(135),i(136),i(137),i(138),i(139),i(140),i(141),i(142),i(143),i(144),i(145),i(146),i(147)],void 0===(r="function"==typeof(t=a)?t.apply(o,n):t)||(e.exports=r))}).call(this,i(353)(e))},function(e,t,n){e.exports=n(6)(153)},function(e,t,n){"use strict";var r,a=n(64);(r=a)&&r.__esModule;e.exports={CustomControls:[],CustomControlsRender:function(e,t,n){}}}]);